<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE Rank2Types #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span class="hs-cpp">

#ifndef MIN_VERSION_reflection
</span><span class="hs-cpp">#define MIN_VERSION_reflection(x,y,z) 1
</span><span class="hs-cpp">#endif
</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE Trustworthy #-}</span><span class="hs-cpp">
#if __GLASGOW_HASKELL__ &gt;= 800
</span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-trustworthy-safe #-}</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# OPTIONS_GHC -fno-warn-orphans #-}</span><span>
</span><span id="line-18"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- Module      :  Control.Lens.Fold</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- Copyright   :  (C) 2012-16 Edward Kmett</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- License     :  BSD-style (see the file LICENSE)</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- Maintainer  :  Edward Kmett &lt;ekmett@gmail.com&gt;</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- Stability   :  provisional</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- Portability :  Rank2Types</span><span>
</span><span id="line-26"></span><span class="hs-comment">--</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- A @'Fold' s a@ is a generalization of something 'Foldable'. It allows</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- you to extract multiple results from a container. A 'Foldable' container</span><span>
</span><span id="line-29"></span><span class="hs-comment">-- can be characterized by the behavior of</span><span>
</span><span id="line-30"></span><span class="hs-comment">-- @'Data.Foldable.foldMap' :: ('Foldable' t, 'Monoid' m) =&gt; (a -&gt; m) -&gt; t a -&gt; m@.</span><span>
</span><span id="line-31"></span><span class="hs-comment">-- Since we want to be able to work with monomorphic containers, we could</span><span>
</span><span id="line-32"></span><span class="hs-comment">-- generalize this signature to @forall m. 'Monoid' m =&gt; (a -&gt; m) -&gt; s -&gt; m@,</span><span>
</span><span id="line-33"></span><span class="hs-comment">-- and then decorate it with 'Const' to obtain</span><span>
</span><span id="line-34"></span><span class="hs-comment">--</span><span>
</span><span id="line-35"></span><span class="hs-comment">-- @type 'Fold' s a = forall m. 'Monoid' m =&gt; 'Getting' m s a@</span><span>
</span><span id="line-36"></span><span class="hs-comment">--</span><span>
</span><span id="line-37"></span><span class="hs-comment">-- Every 'Getter' is a valid 'Fold' that simply doesn't use the 'Monoid'</span><span>
</span><span id="line-38"></span><span class="hs-comment">-- it is passed.</span><span>
</span><span id="line-39"></span><span class="hs-comment">--</span><span>
</span><span id="line-40"></span><span class="hs-comment">-- In practice the type we use is slightly more complicated to allow for</span><span>
</span><span id="line-41"></span><span class="hs-comment">-- better error messages and for it to be transformed by certain</span><span>
</span><span id="line-42"></span><span class="hs-comment">-- 'Applicative' transformers.</span><span>
</span><span id="line-43"></span><span class="hs-comment">--</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- Everything you can do with a 'Foldable' container, you can with with a 'Fold' and there are</span><span>
</span><span id="line-45"></span><span class="hs-comment">-- combinators that generalize the usual 'Foldable' operations here.</span><span>
</span><span id="line-46"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-47"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Control.Lens.Fold</span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">(</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Folds</span></span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><a href="Control.Lens.Type.html#Fold"><span class="hs-identifier">Fold</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedFold"><span class="hs-identifier">IndexedFold</span></a></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Getting Started</span></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#%5E.."><span class="hs-operator">(^..)</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#%5E%3F"><span class="hs-operator">(^?)</span></a></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#%5E%3F%21"><span class="hs-operator">(^?!)</span></a></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#pre"><span class="hs-identifier">pre</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ipre"><span class="hs-identifier">ipre</span></a></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#preview"><span class="hs-identifier">preview</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#previews"><span class="hs-identifier">previews</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ipreview"><span class="hs-identifier">ipreview</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ipreviews"><span class="hs-identifier">ipreviews</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#preuse"><span class="hs-identifier">preuse</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#preuses"><span class="hs-identifier">preuses</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ipreuse"><span class="hs-identifier">ipreuse</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ipreuses"><span class="hs-identifier">ipreuses</span></a></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#has"><span class="hs-identifier">has</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#hasn%27t"><span class="hs-identifier">hasn't</span></a></span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Building Folds</span></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#folding"><span class="hs-identifier">folding</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifolding"><span class="hs-identifier">ifolding</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldring"><span class="hs-identifier">foldring</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldring"><span class="hs-identifier">ifoldring</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#folded"><span class="hs-identifier">folded</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#folded64"><span class="hs-identifier">folded64</span></a></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#unfolded"><span class="hs-identifier">unfolded</span></a></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#iterated"><span class="hs-identifier">iterated</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#filtered"><span class="hs-identifier">filtered</span></a></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#filteredBy"><span class="hs-identifier">filteredBy</span></a></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#backwards"><span class="hs-identifier">backwards</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#repeated"><span class="hs-identifier">repeated</span></a></span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#replicated"><span class="hs-identifier">replicated</span></a></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#cycled"><span class="hs-identifier">cycled</span></a></span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#takingWhile"><span class="hs-identifier">takingWhile</span></a></span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#droppingWhile"><span class="hs-identifier">droppingWhile</span></a></span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#worded"><span class="hs-identifier">worded</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#lined"><span class="hs-identifier">lined</span></a></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Folding</span></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier">foldMapOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldOf"><span class="hs-identifier">foldOf</span></a></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldrOf"><span class="hs-identifier">foldrOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldlOf"><span class="hs-identifier">foldlOf</span></a></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#toListOf"><span class="hs-identifier">toListOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#toNonEmptyOf"><span class="hs-identifier">toNonEmptyOf</span></a></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#anyOf"><span class="hs-identifier">anyOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#allOf"><span class="hs-identifier">allOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#noneOf"><span class="hs-identifier">noneOf</span></a></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#andOf"><span class="hs-identifier">andOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#orOf"><span class="hs-identifier">orOf</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#productOf"><span class="hs-identifier">productOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#sumOf"><span class="hs-identifier">sumOf</span></a></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#traverseOf_"><span class="hs-identifier">traverseOf_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#forOf_"><span class="hs-identifier">forOf_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#sequenceAOf_"><span class="hs-identifier">sequenceAOf_</span></a></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#traverse1Of_"><span class="hs-identifier">traverse1Of_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#for1Of_"><span class="hs-identifier">for1Of_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#sequence1Of_"><span class="hs-identifier">sequence1Of_</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#mapMOf_"><span class="hs-identifier">mapMOf_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#forMOf_"><span class="hs-identifier">forMOf_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#sequenceOf_"><span class="hs-identifier">sequenceOf_</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#asumOf"><span class="hs-identifier">asumOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#msumOf"><span class="hs-identifier">msumOf</span></a></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#concatMapOf"><span class="hs-identifier">concatMapOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#concatOf"><span class="hs-identifier">concatOf</span></a></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#elemOf"><span class="hs-identifier">elemOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#notElemOf"><span class="hs-identifier">notElemOf</span></a></span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#lengthOf"><span class="hs-identifier">lengthOf</span></a></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#nullOf"><span class="hs-identifier">nullOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#notNullOf"><span class="hs-identifier">notNullOf</span></a></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#firstOf"><span class="hs-identifier">firstOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#first1Of"><span class="hs-identifier">first1Of</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#lastOf"><span class="hs-identifier">lastOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#last1Of"><span class="hs-identifier">last1Of</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#maximumOf"><span class="hs-identifier">maximumOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#maximum1Of"><span class="hs-identifier">maximum1Of</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#minimumOf"><span class="hs-identifier">minimumOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#minimum1Of"><span class="hs-identifier">minimum1Of</span></a></span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#maximumByOf"><span class="hs-identifier">maximumByOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#minimumByOf"><span class="hs-identifier">minimumByOf</span></a></span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#findOf"><span class="hs-identifier">findOf</span></a></span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#findMOf"><span class="hs-identifier">findMOf</span></a></span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldrOf%27"><span class="hs-identifier">foldrOf'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldlOf%27"><span class="hs-identifier">foldlOf'</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldr1Of"><span class="hs-identifier">foldr1Of</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldl1Of"><span class="hs-identifier">foldl1Of</span></a></span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldr1Of%27"><span class="hs-identifier">foldr1Of'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldl1Of%27"><span class="hs-identifier">foldl1Of'</span></a></span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldrMOf"><span class="hs-identifier">foldrMOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldlMOf"><span class="hs-identifier">foldlMOf</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#lookupOf"><span class="hs-identifier">lookupOf</span></a></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Indexed Folds</span></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#%5E%40.."><span class="hs-operator">(^@..)</span></a></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#%5E%40%3F"><span class="hs-operator">(^@?)</span></a></span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#%5E%40%3F%21"><span class="hs-operator">(^@?!)</span></a></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Indexed Folding</span></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldMapOf"><span class="hs-identifier">ifoldMapOf</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldrOf"><span class="hs-identifier">ifoldrOf</span></a></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldlOf"><span class="hs-identifier">ifoldlOf</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ianyOf"><span class="hs-identifier">ianyOf</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#iallOf"><span class="hs-identifier">iallOf</span></a></span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#inoneOf"><span class="hs-identifier">inoneOf</span></a></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#itraverseOf_"><span class="hs-identifier">itraverseOf_</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#iforOf_"><span class="hs-identifier">iforOf_</span></a></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#imapMOf_"><span class="hs-identifier">imapMOf_</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#iforMOf_"><span class="hs-identifier">iforMOf_</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#iconcatMapOf"><span class="hs-identifier">iconcatMapOf</span></a></span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifindOf"><span class="hs-identifier">ifindOf</span></a></span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifindMOf"><span class="hs-identifier">ifindMOf</span></a></span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldrOf%27"><span class="hs-identifier">ifoldrOf'</span></a></span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldlOf%27"><span class="hs-identifier">ifoldlOf'</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldrMOf"><span class="hs-identifier">ifoldrMOf</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldlMOf"><span class="hs-identifier">ifoldlMOf</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#itoListOf"><span class="hs-identifier">itoListOf</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#elemIndexOf"><span class="hs-identifier">elemIndexOf</span></a></span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#elemIndicesOf"><span class="hs-identifier">elemIndicesOf</span></a></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#findIndexOf"><span class="hs-identifier">findIndexOf</span></a></span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#findIndicesOf"><span class="hs-identifier">findIndicesOf</span></a></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Building Indexed Folds</span></span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifiltered"><span class="hs-identifier">ifiltered</span></a></span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#itakingWhile"><span class="hs-identifier">itakingWhile</span></a></span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#idroppingWhile"><span class="hs-identifier">idroppingWhile</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Internal types</span></span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Leftmost"><span class="hs-identifier">Leftmost</span></a></span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Rightmost"><span class="hs-identifier">Rightmost</span></a></span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Traversed"><span class="hs-identifier">Traversed</span></a></span><span>
</span><span id="line-144"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Sequenced"><span class="hs-identifier">Sequenced</span></a></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Fold with Reified Monoid</span></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">foldBy</span></span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldByOf"><span class="hs-identifier">foldByOf</span></a></span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">foldMapBy</span></span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldMapByOf"><span class="hs-identifier">foldMapByOf</span></a></span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Applicative</span></span><span>
</span><span id="line-154"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative.Backwards</span></span><span>
</span><span id="line-155"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Comonad</span></span><span>
</span><span id="line-156"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html"><span class="hs-identifier">Control.Lens.Getter</span></a></span><span>
</span><span id="line-157"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Fold.html"><span class="hs-identifier">Control.Lens.Internal.Fold</span></a></span><span>
</span><span id="line-158"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Getter.html"><span class="hs-identifier">Control.Lens.Internal.Getter</span></a></span><span>
</span><span id="line-159"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html"><span class="hs-identifier">Control.Lens.Internal.Indexed</span></a></span><span>
</span><span id="line-160"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Magma.html"><span class="hs-identifier">Control.Lens.Internal.Magma</span></a></span><span>
</span><span id="line-161"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Lens.Type.html"><span class="hs-identifier">Control.Lens.Type</span></a></span><span>
</span><span id="line-162"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Monad</span></span><span>
</span><span id="line-163"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Reader</span></span><span>
</span><span id="line-164"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.State</span></span><span>
</span><span id="line-165"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.CallStack</span></span><span>
</span><span id="line-166"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span>
</span><span id="line-167"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.Apply</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&lt;.)</span></span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.Compose</span></span><span>
</span><span id="line-169"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Functor.Contravariant</span></span><span>
</span><span id="line-170"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Int64</span></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">intercalate</span></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>
</span><span id="line-173"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Monoid</span></span><span>
</span><span id="line-174"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Profunctor</span></span><span>
</span><span id="line-175"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Profunctor.Rep</span></span><span>
</span><span id="line-176"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Profunctor.Sieve</span></span><span>
</span><span id="line-177"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Profunctor.Unsafe</span></span><span class="hs-cpp">
#if MIN_VERSION_reflection(2,1,0)
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Reflection</span></span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Traversable</span></span><span>
</span><span id="line-182"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">foldr</span></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Semigroup</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Semi</span></span><span>
</span><span id="line-185"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-comment">-- $setup</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- &gt;&gt;&gt; :set -XNoOverloadedStrings</span><span>
</span><span id="line-189"></span><span class="hs-comment">-- &gt;&gt;&gt; import Control.Lens</span><span>
</span><span id="line-190"></span><span class="hs-comment">-- &gt;&gt;&gt; import Control.Lens.Extras (is)</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Function</span><span>
</span><span id="line-192"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.List.Lens</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- &gt;&gt;&gt; import Debug.SimpleReflect.Expr</span><span>
</span><span id="line-194"></span><span class="hs-comment">-- &gt;&gt;&gt; import Debug.SimpleReflect.Vars as Vars hiding (f,g)</span><span>
</span><span id="line-195"></span><span class="hs-comment">-- &gt;&gt;&gt; import Control.DeepSeq (NFData (..), force)</span><span>
</span><span id="line-196"></span><span class="hs-comment">-- &gt;&gt;&gt; import Control.Exception (evaluate)</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Maybe (fromMaybe)</span><span>
</span><span id="line-198"></span><span class="hs-comment">-- &gt;&gt;&gt; import System.Timeout (timeout)</span><span>
</span><span id="line-199"></span><span class="hs-comment">-- &gt;&gt;&gt; import qualified Data.Map as Map</span><span>
</span><span id="line-200"></span><span class="hs-comment">-- &gt;&gt;&gt; let f :: Expr -&gt; Expr; f = Debug.SimpleReflect.Vars.f</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- &gt;&gt;&gt; let g :: Expr -&gt; Expr; g = Debug.SimpleReflect.Vars.g</span><span>
</span><span id="line-202"></span><span class="hs-comment">-- &gt;&gt;&gt; let timingOut :: NFData a =&gt; a -&gt; IO a; timingOut = fmap (fromMaybe (error &quot;timeout&quot;)) . timeout (5*10^6) . evaluate . force</span><span class="hs-cpp">

#ifdef HLINT
</span><span class="hs-pragma">{-# ANN</span><span> </span><span class="hs-pragma">module</span><span> </span><span class="hs-pragma">&quot;HLint: ignore Eta reduce&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-206"></span><span class="hs-pragma">{-# ANN</span><span> </span><span class="hs-pragma">module</span><span> </span><span class="hs-pragma">&quot;HLint: ignore Use camelCase&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-207"></span><span class="hs-pragma">{-# ANN</span><span> </span><span class="hs-pragma">module</span><span> </span><span class="hs-pragma">&quot;HLint: ignore Use curry&quot;</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-208"></span><span class="hs-pragma">{-# ANN</span><span> </span><span class="hs-pragma">module</span><span> </span><span class="hs-pragma">&quot;HLint: ignore Use fmap&quot;</span><span> </span><span class="hs-pragma">#-}</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-211"></span><span class="hs-keyword">infixl</span><span> </span><span class="hs-number">8</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#%5E.."><span class="hs-operator hs-type">^..</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#%5E%3F"><span class="hs-operator hs-type">^?</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#%5E%3F%21"><span class="hs-operator hs-type">^?!</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#%5E%40.."><span class="hs-operator hs-type">^@..</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#%5E%40%3F"><span class="hs-operator hs-type">^@?</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#%5E%40%3F%21"><span class="hs-operator hs-type">^@?!</span></a></span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-214"></span><span class="hs-comment">-- Folds</span><span>
</span><span id="line-215"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="hs-comment">-- | Obtain a 'Fold' by lifting an operation that returns a 'Foldable' result.</span><span>
</span><span id="line-218"></span><span class="hs-comment">--</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- This can be useful to lift operations from @Data.List@ and elsewhere into a 'Fold'.</span><span>
</span><span id="line-220"></span><span class="hs-comment">--</span><span>
</span><span id="line-221"></span><span class="hs-comment">-- &gt;&gt;&gt; [1,2,3,4]^..folding tail</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- [2,3,4]</span><span>
</span><span id="line-223"></span><span id="local-6989586621679451916"><span id="local-6989586621679451917"><span id="local-6989586621679451918"><span class="annot"><a href="Control.Lens.Fold.html#folding"><span class="hs-identifier hs-type">folding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621679451918"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451917"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451918"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451916"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Fold"><span class="hs-identifier hs-type">Fold</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451917"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451916"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-224"></span><span id="folding"><span class="annot"><span class="annottext">folding :: (s -&gt; f a) -&gt; Fold s a
</span><a href="Control.Lens.Fold.html#folding"><span class="hs-identifier hs-var hs-var">folding</span></a></span></span><span> </span><span id="local-6989586621679451915"><span class="annot"><span class="annottext">sfa :: s -&gt; f a
</span><a href="#local-6989586621679451915"><span class="hs-identifier hs-var">sfa</span></a></span></span><span> </span><span id="local-6989586621679451914"><span class="annot"><span class="annottext">agb :: a -&gt; f a
</span><a href="#local-6989586621679451914"><span class="hs-identifier hs-var">agb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f () -&gt; f s
forall (f :: * -&gt; *) a b.
(Functor f, Contravariant f) =&gt;
f a -&gt; f b
</span><span class="hs-identifier hs-var">phantom</span></span><span> </span><span class="annot"><span class="annottext">(f () -&gt; f s) -&gt; (s -&gt; f ()) -&gt; s -&gt; f s
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; f a) -&gt; f a -&gt; f ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">traverse_</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679451914"><span class="hs-identifier hs-var">agb</span></a></span><span> </span><span class="annot"><span class="annottext">(f a -&gt; f ()) -&gt; (s -&gt; f a) -&gt; s -&gt; f ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">s -&gt; f a
</span><a href="#local-6989586621679451915"><span class="hs-identifier hs-var">sfa</span></a></span><span>
</span><span id="line-225"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#folding"><span class="hs-pragma hs-type">folding</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span id="local-6989586621679451903"><span id="local-6989586621679451904"><span id="local-6989586621679451905"><span id="local-6989586621679451906"><span id="local-6989586621679451907"><span id="local-6989586621679451908"><span id="local-6989586621679451909"><span id="local-6989586621679451910"><span class="annot"><a href="Control.Lens.Fold.html#ifolding"><span class="hs-identifier hs-type">ifolding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621679451910"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451909"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451908"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679451907"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679451907"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451906"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451910"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451909"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679451905"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Over"><span class="hs-identifier hs-type">Over</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451908"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451907"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451906"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451904"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451905"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451903"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-228"></span><span id="ifolding"><span class="annot"><span class="annottext">ifolding :: (s -&gt; f (i, a)) -&gt; Over p g s t a b
</span><a href="Control.Lens.Fold.html#ifolding"><span class="hs-identifier hs-var hs-var">ifolding</span></a></span></span><span> </span><span id="local-6989586621679451902"><span class="annot"><span class="annottext">sfa :: s -&gt; f (i, a)
</span><a href="#local-6989586621679451902"><span class="hs-identifier hs-var">sfa</span></a></span></span><span> </span><span id="local-6989586621679451901"><span class="annot"><span class="annottext">f :: p a (g b)
</span><a href="#local-6989586621679451901"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">g () -&gt; g t
forall (f :: * -&gt; *) a b.
(Functor f, Contravariant f) =&gt;
f a -&gt; f b
</span><span class="hs-identifier hs-var">phantom</span></span><span> </span><span class="annot"><span class="annottext">(g () -&gt; g t) -&gt; (s -&gt; g ()) -&gt; s -&gt; g t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((i, a) -&gt; g Any) -&gt; f (i, a) -&gt; g ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">traverse_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">g b -&gt; g Any
forall (f :: * -&gt; *) a b.
(Functor f, Contravariant f) =&gt;
f a -&gt; f b
</span><span class="hs-identifier hs-var">phantom</span></span><span> </span><span class="annot"><span class="annottext">(g b -&gt; g Any) -&gt; ((i, a) -&gt; g b) -&gt; (i, a) -&gt; g Any
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; g b) -&gt; (i, a) -&gt; g b
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p a (g b) -&gt; i -&gt; a -&gt; g b
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p a (g b)
</span><a href="#local-6989586621679451901"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(f (i, a) -&gt; g ()) -&gt; (s -&gt; f (i, a)) -&gt; s -&gt; g ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">s -&gt; f (i, a)
</span><a href="#local-6989586621679451902"><span class="hs-identifier hs-var">sfa</span></a></span><span>
</span><span id="line-229"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifolding"><span class="hs-pragma hs-type">ifolding</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="hs-comment">-- | Obtain a 'Fold' by lifting 'foldr' like function.</span><span>
</span><span id="line-232"></span><span class="hs-comment">--</span><span>
</span><span id="line-233"></span><span class="hs-comment">-- &gt;&gt;&gt; [1,2,3,4]^..foldring foldr</span><span>
</span><span id="line-234"></span><span class="hs-comment">-- [1,2,3,4]</span><span>
</span><span id="line-235"></span><span id="local-6989586621679452740"><span id="local-6989586621679452741"><span id="local-6989586621679452742"><span id="local-6989586621679452743"><span id="local-6989586621679452744"><span class="annot"><a href="Control.Lens.Fold.html#foldring"><span class="hs-identifier hs-type">foldring</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679452744"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679452744"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452743"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452744"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452743"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452744"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452743"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452744"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452743"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452742"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452744"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452743"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#LensLike"><span class="hs-identifier hs-type">LensLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452744"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452742"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452741"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452743"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452740"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span>
</span><span id="line-236"></span><span id="foldring"><span class="annot"><span class="annottext">foldring :: ((a -&gt; f a -&gt; f a) -&gt; f a -&gt; s -&gt; f a) -&gt; LensLike f s t a b
</span><a href="Control.Lens.Fold.html#foldring"><span class="hs-identifier hs-var hs-var">foldring</span></a></span></span><span> </span><span id="local-6989586621679451898"><span class="annot"><span class="annottext">fr :: (a -&gt; f a -&gt; f a) -&gt; f a -&gt; s -&gt; f a
</span><a href="#local-6989586621679451898"><span class="hs-identifier hs-var">fr</span></a></span></span><span> </span><span id="local-6989586621679451897"><span class="annot"><span class="annottext">f :: a -&gt; f b
</span><a href="#local-6989586621679451897"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; f t
forall (f :: * -&gt; *) a b.
(Functor f, Contravariant f) =&gt;
f a -&gt; f b
</span><span class="hs-identifier hs-var">phantom</span></span><span> </span><span class="annot"><span class="annottext">(f a -&gt; f t) -&gt; (s -&gt; f a) -&gt; s -&gt; f t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; f a -&gt; f a) -&gt; f a -&gt; s -&gt; f a
</span><a href="#local-6989586621679451898"><span class="hs-identifier hs-var">fr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451896"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451896"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679451895"><span class="annot"><span class="annottext">fa :: f a
</span><a href="#local-6989586621679451895"><span class="hs-identifier hs-var">fa</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679451897"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451896"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f b -&gt; f a -&gt; f a
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679451895"><span class="hs-identifier hs-var">fa</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
forall (f :: * -&gt; *) a. (Contravariant f, Applicative f) =&gt; f a
</span><a href="Control.Lens.Internal.Getter.html#noEffect"><span class="hs-identifier hs-var">noEffect</span></a></span><span>
</span><span id="line-237"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldring"><span class="hs-pragma hs-type">foldring</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="hs-comment">-- | Obtain 'FoldWithIndex' by lifting 'ifoldr' like function.</span><span>
</span><span id="line-240"></span><span id="local-6989586621679452730"><span id="local-6989586621679452731"><span id="local-6989586621679452732"><span id="local-6989586621679452733"><span id="local-6989586621679452734"><span id="local-6989586621679452735"><span id="local-6989586621679452736"><span class="annot"><a href="Control.Lens.Fold.html#ifoldring"><span class="hs-identifier hs-type">ifoldring</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452736"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452735"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679452734"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679452734"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452736"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452733"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452734"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452733"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452734"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452733"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452734"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452733"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452732"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452734"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452733"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Over"><span class="hs-identifier hs-type">Over</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452735"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452734"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452732"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452731"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452733"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452730"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-241"></span><span id="ifoldring"><span class="annot"><span class="annottext">ifoldring :: ((i -&gt; a -&gt; f a -&gt; f a) -&gt; f a -&gt; s -&gt; f a) -&gt; Over p f s t a b
</span><a href="Control.Lens.Fold.html#ifoldring"><span class="hs-identifier hs-var hs-var">ifoldring</span></a></span></span><span> </span><span id="local-6989586621679451893"><span class="annot"><span class="annottext">ifr :: (i -&gt; a -&gt; f a -&gt; f a) -&gt; f a -&gt; s -&gt; f a
</span><a href="#local-6989586621679451893"><span class="hs-identifier hs-var">ifr</span></a></span></span><span> </span><span id="local-6989586621679451892"><span class="annot"><span class="annottext">f :: p a (f b)
</span><a href="#local-6989586621679451892"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; f t
forall (f :: * -&gt; *) a b.
(Functor f, Contravariant f) =&gt;
f a -&gt; f b
</span><span class="hs-identifier hs-var">phantom</span></span><span> </span><span class="annot"><span class="annottext">(f a -&gt; f t) -&gt; (s -&gt; f a) -&gt; s -&gt; f t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f a -&gt; f a) -&gt; f a -&gt; s -&gt; f a
</span><a href="#local-6989586621679451893"><span class="hs-identifier hs-var">ifr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451891"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451891"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451890"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451890"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679451889"><span class="annot"><span class="annottext">fa :: f a
</span><a href="#local-6989586621679451889"><span class="hs-identifier hs-var">fa</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">p a (f b) -&gt; i -&gt; a -&gt; f b
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p a (f b)
</span><a href="#local-6989586621679451892"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451891"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451890"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f b -&gt; f a -&gt; f a
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679451889"><span class="hs-identifier hs-var">fa</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
forall (f :: * -&gt; *) a. (Contravariant f, Applicative f) =&gt; f a
</span><a href="Control.Lens.Internal.Getter.html#noEffect"><span class="hs-identifier hs-var">noEffect</span></a></span><span>
</span><span id="line-242"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldring"><span class="hs-pragma hs-type">ifoldring</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">-- | Obtain a 'Fold' from any 'Foldable' indexed by ordinal position.</span><span>
</span><span id="line-245"></span><span class="hs-comment">--</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- &gt;&gt;&gt; Just 3^..folded</span><span>
</span><span id="line-247"></span><span class="hs-comment">-- [3]</span><span>
</span><span id="line-248"></span><span class="hs-comment">--</span><span>
</span><span id="line-249"></span><span class="hs-comment">-- &gt;&gt;&gt; Nothing^..folded</span><span>
</span><span id="line-250"></span><span class="hs-comment">-- []</span><span>
</span><span id="line-251"></span><span class="hs-comment">--</span><span>
</span><span id="line-252"></span><span class="hs-comment">-- &gt;&gt;&gt; [(1,2),(3,4)]^..folded.both</span><span>
</span><span id="line-253"></span><span class="hs-comment">-- [1,2,3,4]</span><span>
</span><span id="line-254"></span><span id="local-6989586621679451887"><span id="local-6989586621679451888"><span class="annot"><a href="Control.Lens.Fold.html#folded"><span class="hs-identifier hs-type">folded</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621679451888"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedFold"><span class="hs-identifier hs-type">IndexedFold</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451888"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451887"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451887"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-255"></span><span id="folded"><span class="annot"><span class="annottext">folded :: IndexedFold Int (f a) a
</span><a href="Control.Lens.Fold.html#folded"><span class="hs-identifier hs-var hs-var">folded</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((p ~ (-&gt;)) =&gt; (a -&gt; f a) -&gt; f a -&gt; f (f a))
-&gt; (p a (f a) -&gt; f a -&gt; f (f a)) -&gt; p a (f a) -&gt; f a -&gt; f (f a)
forall (p :: * -&gt; * -&gt; *) (q :: * -&gt; * -&gt; *) a b r.
Conjoined p =&gt;
((p ~ (-&gt;)) =&gt; q (a -&gt; b) r) -&gt; q (p a b) r -&gt; q (p a b) r
</span><a href="Control.Lens.Internal.Indexed.html#conjoined"><span class="hs-identifier hs-var">conjoined</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((a -&gt; f a -&gt; f a) -&gt; f a -&gt; f a -&gt; f a)
-&gt; (a -&gt; f a) -&gt; f a -&gt; f (f a)
forall (f :: * -&gt; *) a s t b.
(Contravariant f, Applicative f) =&gt;
((a -&gt; f a -&gt; f a) -&gt; f a -&gt; s -&gt; f a) -&gt; LensLike f s t a b
</span><a href="Control.Lens.Fold.html#foldring"><span class="hs-identifier hs-var">foldring</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; f a -&gt; f a) -&gt; f a -&gt; f a -&gt; f a
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Int -&gt; a -&gt; f a -&gt; f a) -&gt; f a -&gt; f a -&gt; f a)
-&gt; p a (f a) -&gt; f a -&gt; f (f a)
forall i (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) a s t b.
(Indexable i p, Contravariant f, Applicative f) =&gt;
((i -&gt; a -&gt; f a -&gt; f a) -&gt; f a -&gt; s -&gt; f a) -&gt; Over p f s t a b
</span><a href="Control.Lens.Fold.html#ifoldring"><span class="hs-identifier hs-var">ifoldring</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; a -&gt; f a -&gt; f a) -&gt; f a -&gt; f a -&gt; f a
forall (f :: * -&gt; *) a b.
Foldable f =&gt;
(Int -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; f a -&gt; b
</span><a href="Control.Lens.Fold.html#ifoldr"><span class="hs-identifier hs-var">ifoldr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#folded"><span class="hs-pragma hs-type">folded</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span id="local-6989586621679452727"><span id="local-6989586621679452728"><span id="local-6989586621679452729"><span class="annot"><a href="Control.Lens.Fold.html#ifoldr"><span class="hs-identifier hs-type">ifoldr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621679452729"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452728"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452727"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452727"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452727"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452729"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452728"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452727"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-259"></span><span id="ifoldr"><span class="annot"><span class="annottext">ifoldr :: (Int -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; f a -&gt; b
</span><a href="Control.Lens.Fold.html#ifoldr"><span class="hs-identifier hs-var hs-var">ifoldr</span></a></span></span><span> </span><span id="local-6989586621679451884"><span class="annot"><span class="annottext">f :: Int -&gt; a -&gt; b -&gt; b
</span><a href="#local-6989586621679451884"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451883"><span class="annot"><span class="annottext">z :: b
</span><a href="#local-6989586621679451883"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621679451882"><span class="annot"><span class="annottext">xs :: f a
</span><a href="#local-6989586621679451882"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; (Int -&gt; b) -&gt; Int -&gt; b) -&gt; (Int -&gt; b) -&gt; f a -&gt; Int -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679451881"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451881"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679451880"><span class="annot"><span class="annottext">g :: Int -&gt; b
</span><a href="#local-6989586621679451880"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679451879"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621679451879"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679451879"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; b -&gt; b
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; a -&gt; b -&gt; b
</span><a href="#local-6989586621679451884"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679451879"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451881"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; b
</span><a href="#local-6989586621679451880"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679451879"><span class="hs-identifier hs-var">i</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Int -&gt; b
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679451883"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679451882"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-260"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldr"><span class="hs-pragma hs-type">ifoldr</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="hs-comment">-- | Obtain a 'Fold' from any 'Foldable' indexed by ordinal position.</span><span>
</span><span id="line-263"></span><span id="local-6989586621679451875"><span id="local-6989586621679451876"><span class="annot"><a href="Control.Lens.Fold.html#folded64"><span class="hs-identifier hs-type">folded64</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621679451876"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedFold"><span class="hs-identifier hs-type">IndexedFold</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451876"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451875"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451875"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-264"></span><span id="folded64"><span class="annot"><span class="annottext">folded64 :: IndexedFold Int64 (f a) a
</span><a href="Control.Lens.Fold.html#folded64"><span class="hs-identifier hs-var hs-var">folded64</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((p ~ (-&gt;)) =&gt; (a -&gt; f a) -&gt; f a -&gt; f (f a))
-&gt; (p a (f a) -&gt; f a -&gt; f (f a)) -&gt; p a (f a) -&gt; f a -&gt; f (f a)
forall (p :: * -&gt; * -&gt; *) (q :: * -&gt; * -&gt; *) a b r.
Conjoined p =&gt;
((p ~ (-&gt;)) =&gt; q (a -&gt; b) r) -&gt; q (p a b) r -&gt; q (p a b) r
</span><a href="Control.Lens.Internal.Indexed.html#conjoined"><span class="hs-identifier hs-var">conjoined</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((a -&gt; f a -&gt; f a) -&gt; f a -&gt; f a -&gt; f a)
-&gt; (a -&gt; f a) -&gt; f a -&gt; f (f a)
forall (f :: * -&gt; *) a s t b.
(Contravariant f, Applicative f) =&gt;
((a -&gt; f a -&gt; f a) -&gt; f a -&gt; s -&gt; f a) -&gt; LensLike f s t a b
</span><a href="Control.Lens.Fold.html#foldring"><span class="hs-identifier hs-var">foldring</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; f a -&gt; f a) -&gt; f a -&gt; f a -&gt; f a
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Int64 -&gt; a -&gt; f a -&gt; f a) -&gt; f a -&gt; f a -&gt; f a)
-&gt; p a (f a) -&gt; f a -&gt; f (f a)
forall i (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) a s t b.
(Indexable i p, Contravariant f, Applicative f) =&gt;
((i -&gt; a -&gt; f a -&gt; f a) -&gt; f a -&gt; s -&gt; f a) -&gt; Over p f s t a b
</span><a href="Control.Lens.Fold.html#ifoldring"><span class="hs-identifier hs-var">ifoldring</span></a></span><span> </span><span class="annot"><span class="annottext">(Int64 -&gt; a -&gt; f a -&gt; f a) -&gt; f a -&gt; f a -&gt; f a
forall (f :: * -&gt; *) a b.
Foldable f =&gt;
(Int64 -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; f a -&gt; b
</span><a href="Control.Lens.Fold.html#ifoldr64"><span class="hs-identifier hs-var">ifoldr64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#folded64"><span class="hs-pragma hs-type">folded64</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span id="local-6989586621679452712"><span id="local-6989586621679452713"><span id="local-6989586621679452714"><span class="annot"><a href="Control.Lens.Fold.html#ifoldr64"><span class="hs-identifier hs-type">ifoldr64</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621679452714"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452713"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452712"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452712"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452712"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452714"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452713"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452712"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-268"></span><span id="ifoldr64"><span class="annot"><span class="annottext">ifoldr64 :: (Int64 -&gt; a -&gt; b -&gt; b) -&gt; b -&gt; f a -&gt; b
</span><a href="Control.Lens.Fold.html#ifoldr64"><span class="hs-identifier hs-var hs-var">ifoldr64</span></a></span></span><span> </span><span id="local-6989586621679451873"><span class="annot"><span class="annottext">f :: Int64 -&gt; a -&gt; b -&gt; b
</span><a href="#local-6989586621679451873"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451872"><span class="annot"><span class="annottext">z :: b
</span><a href="#local-6989586621679451872"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621679451871"><span class="annot"><span class="annottext">xs :: f a
</span><a href="#local-6989586621679451871"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; (Int64 -&gt; b) -&gt; Int64 -&gt; b)
-&gt; (Int64 -&gt; b) -&gt; f a -&gt; Int64 -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679451870"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451870"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679451869"><span class="annot"><span class="annottext">g :: Int64 -&gt; b
</span><a href="#local-6989586621679451869"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679451868"><span class="annot"><span class="annottext">i :: Int64
</span><a href="#local-6989586621679451868"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679451868"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; b -&gt; b
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; a -&gt; b -&gt; b
</span><a href="#local-6989586621679451873"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679451868"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451870"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int64 -&gt; b
</span><a href="#local-6989586621679451869"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679451868"><span class="hs-identifier hs-var">i</span></a></span><span class="annot"><span class="annottext">Int64 -&gt; Int64 -&gt; Int64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Int64 -&gt; b
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679451872"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679451871"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-269"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldr64"><span class="hs-pragma hs-type">ifoldr64</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="hs-comment">-- | Form a 'Fold1' by repeating the input forever.</span><span>
</span><span id="line-272"></span><span class="hs-comment">--</span><span>
</span><span id="line-273"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- 'repeat' &#8801; 'toListOf' 'repeated'</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-276"></span><span class="hs-comment">--</span><span>
</span><span id="line-277"></span><span class="hs-comment">-- &gt;&gt;&gt; timingOut $ 5^..taking 20 repeated</span><span>
</span><span id="line-278"></span><span class="hs-comment">-- [5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]</span><span>
</span><span id="line-279"></span><span class="hs-comment">--</span><span>
</span><span id="line-280"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-281"></span><span class="hs-comment">-- 'repeated' :: 'Fold1' a a</span><span>
</span><span id="line-282"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-283"></span><span id="local-6989586621679451866"><span id="local-6989586621679451867"><span class="annot"><a href="Control.Lens.Fold.html#repeated"><span class="hs-identifier hs-type">repeated</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Apply</span></span><span> </span><span class="annot"><a href="#local-6989586621679451867"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#LensLike%27"><span class="hs-identifier hs-type">LensLike'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451867"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451866"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451866"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-284"></span><span id="repeated"><span class="annot"><span class="annottext">repeated :: LensLike' f a a
</span><a href="Control.Lens.Fold.html#repeated"><span class="hs-identifier hs-var hs-var">repeated</span></a></span></span><span> </span><span id="local-6989586621679451865"><span class="annot"><span class="annottext">f :: a -&gt; f a
</span><a href="#local-6989586621679451865"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451864"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451864"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a
forall b. f b
</span><a href="#local-6989586621679451863"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679451863"><span class="annot"><span class="annottext">as :: f b
</span><a href="#local-6989586621679451863"><span class="hs-keyword hs-var hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679451865"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451864"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f a -&gt; f b -&gt; f b
forall (f :: * -&gt; *) a b. Apply f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">.&gt;</span></span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679451863"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-285"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#repeated"><span class="hs-pragma hs-type">repeated</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="hs-comment">-- | A 'Fold' that replicates its input @n@ times.</span><span>
</span><span id="line-288"></span><span class="hs-comment">--</span><span>
</span><span id="line-289"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-290"></span><span class="hs-comment">-- 'replicate' n &#8801; 'toListOf' ('replicated' n)</span><span>
</span><span id="line-291"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-292"></span><span class="hs-comment">--</span><span>
</span><span id="line-293"></span><span class="hs-comment">-- &gt;&gt;&gt; 5^..replicated 20</span><span>
</span><span id="line-294"></span><span class="hs-comment">-- [5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5]</span><span>
</span><span id="line-295"></span><span id="local-6989586621679451861"><span class="annot"><a href="Control.Lens.Fold.html#replicated"><span class="hs-identifier hs-type">replicated</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Fold"><span class="hs-identifier hs-type">Fold</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451861"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451861"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-296"></span><span id="replicated"><span class="annot"><span class="annottext">replicated :: Int -&gt; Fold a a
</span><a href="Control.Lens.Fold.html#replicated"><span class="hs-identifier hs-var hs-var">replicated</span></a></span></span><span> </span><span id="local-6989586621679451860"><span class="annot"><span class="annottext">n0 :: Int
</span><a href="#local-6989586621679451860"><span class="hs-identifier hs-var">n0</span></a></span></span><span> </span><span id="local-6989586621679451859"><span class="annot"><span class="annottext">f :: a -&gt; f a
</span><a href="#local-6989586621679451859"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451858"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451858"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; f a
forall t a. (Eq t, Num t) =&gt; t -&gt; f a
</span><a href="#local-6989586621679451857"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679451860"><span class="hs-identifier hs-var">n0</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-297"></span><span>  </span><span id="local-6989586621679451856"><span class="annot"><span class="annottext">m :: f a
</span><a href="#local-6989586621679451856"><span class="hs-identifier hs-var hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679451859"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451858"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-298"></span><span>  </span><span id="local-6989586621679451857"><span class="annot"><span class="annottext">go :: t -&gt; f a
</span><a href="#local-6989586621679451857"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a
forall (f :: * -&gt; *) a. (Contravariant f, Applicative f) =&gt; f a
</span><a href="Control.Lens.Internal.Getter.html#noEffect"><span class="hs-identifier hs-var">noEffect</span></a></span><span>
</span><span id="line-299"></span><span>  </span><span class="annot"><a href="#local-6989586621679451857"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621679451855"><span class="annot"><span class="annottext">n :: t
</span><a href="#local-6989586621679451855"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a
</span><a href="#local-6989586621679451856"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">f a -&gt; f a -&gt; f a
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; f a
</span><a href="#local-6989586621679451857"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679451855"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; t
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-300"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#replicated"><span class="hs-pragma hs-type">replicated</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span class="hs-comment">-- | Transform a non-empty 'Fold' into a 'Fold1' that loops over its elements over and over.</span><span>
</span><span id="line-303"></span><span class="hs-comment">--</span><span>
</span><span id="line-304"></span><span class="hs-comment">-- &gt;&gt;&gt; timingOut $ [1,2,3]^..taking 7 (cycled traverse)</span><span>
</span><span id="line-305"></span><span class="hs-comment">-- [1,2,3,1,2,3,1]</span><span>
</span><span id="line-306"></span><span class="hs-comment">--</span><span>
</span><span id="line-307"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-308"></span><span class="hs-comment">-- 'cycled' :: 'Fold1' s a -&gt; 'Fold1' s a</span><span>
</span><span id="line-309"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-310"></span><span id="local-6989586621679451850"><span id="local-6989586621679451851"><span id="local-6989586621679451852"><span id="local-6989586621679451853"><span id="local-6989586621679451854"><span class="annot"><a href="Control.Lens.Fold.html#cycled"><span class="hs-identifier hs-type">cycled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Apply</span></span><span> </span><span class="annot"><a href="#local-6989586621679451854"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#LensLike"><span class="hs-identifier hs-type">LensLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451854"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451853"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451852"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451851"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451850"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#LensLike"><span class="hs-identifier hs-type">LensLike</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451854"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451853"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451852"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451851"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451850"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span><span>
</span><span id="line-311"></span><span id="cycled"><span class="annot"><span class="annottext">cycled :: LensLike f s t a b -&gt; LensLike f s t a b
</span><a href="Control.Lens.Fold.html#cycled"><span class="hs-identifier hs-var hs-var">cycled</span></a></span></span><span> </span><span id="local-6989586621679451849"><span class="annot"><span class="annottext">l :: LensLike f s t a b
</span><a href="#local-6989586621679451849"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451848"><span class="annot"><span class="annottext">f :: a -&gt; f b
</span><a href="#local-6989586621679451848"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451847"><span class="annot"><span class="annottext">a :: s
</span><a href="#local-6989586621679451847"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f t
forall b. f b
</span><a href="#local-6989586621679451846"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679451846"><span class="annot"><span class="annottext">as :: f b
</span><a href="#local-6989586621679451846"><span class="hs-keyword hs-var hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LensLike f s t a b
</span><a href="#local-6989586621679451849"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679451848"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451847"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f t -&gt; f b -&gt; f b
forall (f :: * -&gt; *) a b. Apply f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">.&gt;</span></span><span> </span><span class="annot"><span class="annottext">f b
</span><a href="#local-6989586621679451846"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-312"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#cycled"><span class="hs-pragma hs-type">cycled</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span class="hs-comment">-- | Build a 'Fold' that unfolds its values from a seed.</span><span>
</span><span id="line-315"></span><span class="hs-comment">--</span><span>
</span><span id="line-316"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-317"></span><span class="hs-comment">-- 'Prelude.unfoldr' &#8801; 'toListOf' '.' 'unfolded'</span><span>
</span><span id="line-318"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-319"></span><span class="hs-comment">--</span><span>
</span><span id="line-320"></span><span class="hs-comment">-- &gt;&gt;&gt; 10^..unfolded (\b -&gt; if b == 0 then Nothing else Just (b, b-1))</span><span>
</span><span id="line-321"></span><span class="hs-comment">-- [10,9,8,7,6,5,4,3,2,1]</span><span>
</span><span id="line-322"></span><span id="local-6989586621679451844"><span id="local-6989586621679451845"><span class="annot"><a href="Control.Lens.Fold.html#unfolded"><span class="hs-identifier hs-type">unfolded</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451845"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451844"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679451845"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Fold"><span class="hs-identifier hs-type">Fold</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451845"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451844"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-323"></span><span id="unfolded"><span class="annot"><span class="annottext">unfolded :: (b -&gt; Maybe (a, b)) -&gt; Fold b a
</span><a href="Control.Lens.Fold.html#unfolded"><span class="hs-identifier hs-var hs-var">unfolded</span></a></span></span><span> </span><span id="local-6989586621679451843"><span class="annot"><span class="annottext">f :: b -&gt; Maybe (a, b)
</span><a href="#local-6989586621679451843"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451842"><span class="annot"><span class="annottext">g :: a -&gt; f a
</span><a href="#local-6989586621679451842"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679451841"><span class="annot"><span class="annottext">b0 :: b
</span><a href="#local-6989586621679451841"><span class="hs-identifier hs-var">b0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; f b
forall b. b -&gt; f b
</span><a href="#local-6989586621679451840"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679451841"><span class="hs-identifier hs-var">b0</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-324"></span><span>  </span><span id="local-6989586621679451840"><span class="annot"><span class="annottext">go :: b -&gt; f b
</span><a href="#local-6989586621679451840"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679451839"><span class="annot"><span class="annottext">b :: b
</span><a href="#local-6989586621679451839"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">b -&gt; Maybe (a, b)
</span><a href="#local-6989586621679451843"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679451839"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-325"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679451838"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451838"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679451837"><span class="annot"><span class="annottext">b' :: b
</span><a href="#local-6989586621679451837"><span class="hs-identifier hs-var">b'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679451842"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451838"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f a -&gt; f b -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; f b
</span><a href="#local-6989586621679451840"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679451837"><span class="hs-identifier hs-var">b'</span></a></span><span>
</span><span id="line-326"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">f b
forall (f :: * -&gt; *) a. (Contravariant f, Applicative f) =&gt; f a
</span><a href="Control.Lens.Internal.Getter.html#noEffect"><span class="hs-identifier hs-var">noEffect</span></a></span><span>
</span><span id="line-327"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#unfolded"><span class="hs-pragma hs-type">unfolded</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="hs-comment">-- | @x '^.' 'iterated' f@ returns an infinite 'Fold1' of repeated applications of @f@ to @x@.</span><span>
</span><span id="line-330"></span><span class="hs-comment">--</span><span>
</span><span id="line-331"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-332"></span><span class="hs-comment">-- 'toListOf' ('iterated' f) a &#8801; 'iterate' f a</span><span>
</span><span id="line-333"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-334"></span><span class="hs-comment">--</span><span>
</span><span id="line-335"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- 'iterated' :: (a -&gt; a) -&gt; 'Fold1' a a</span><span>
</span><span id="line-337"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-338"></span><span id="local-6989586621679451835"><span id="local-6989586621679451836"><span class="annot"><a href="Control.Lens.Fold.html#iterated"><span class="hs-identifier hs-type">iterated</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Apply</span></span><span> </span><span class="annot"><a href="#local-6989586621679451836"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451835"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451835"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#LensLike%27"><span class="hs-identifier hs-type">LensLike'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451836"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451835"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451835"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-339"></span><span id="iterated"><span class="annot"><span class="annottext">iterated :: (a -&gt; a) -&gt; LensLike' f a a
</span><a href="Control.Lens.Fold.html#iterated"><span class="hs-identifier hs-var hs-var">iterated</span></a></span></span><span> </span><span id="local-6989586621679451834"><span class="annot"><span class="annottext">f :: a -&gt; a
</span><a href="#local-6989586621679451834"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451833"><span class="annot"><span class="annottext">g :: a -&gt; f a
</span><a href="#local-6989586621679451833"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679451832"><span class="annot"><span class="annottext">a0 :: a
</span><a href="#local-6989586621679451832"><span class="hs-identifier hs-var">a0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
forall b. a -&gt; f b
</span><a href="#local-6989586621679451831"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451832"><span class="hs-identifier hs-var">a0</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-340"></span><span>  </span><span id="local-6989586621679451831"><span class="annot"><span class="annottext">go :: a -&gt; f b
</span><a href="#local-6989586621679451831"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679451830"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451830"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
</span><a href="#local-6989586621679451833"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451830"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f a -&gt; f b -&gt; f b
forall (f :: * -&gt; *) a b. Apply f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">.&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f b
</span><a href="#local-6989586621679451831"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679451834"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451830"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#iterated"><span class="hs-pragma hs-type">iterated</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span class="hs-comment">-- | Obtain a 'Fold' that can be composed with to filter another 'Lens', 'Iso', 'Getter', 'Fold' (or 'Traversal').</span><span>
</span><span id="line-344"></span><span class="hs-comment">--</span><span>
</span><span id="line-345"></span><span class="hs-comment">-- Note: This is /not/ a legal 'Traversal', unless you are very careful not to invalidate the predicate on the target.</span><span>
</span><span id="line-346"></span><span class="hs-comment">--</span><span>
</span><span id="line-347"></span><span class="hs-comment">-- Note: This is also /not/ a legal 'Prism', unless you are very careful not to inject a value that fails the predicate.</span><span>
</span><span id="line-348"></span><span class="hs-comment">--</span><span>
</span><span id="line-349"></span><span class="hs-comment">-- As a counter example, consider that given @evens = 'filtered' 'even'@ the second 'Traversal' law is violated:</span><span>
</span><span id="line-350"></span><span class="hs-comment">--</span><span>
</span><span id="line-351"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-352"></span><span class="hs-comment">-- 'Control.Lens.Setter.over' evens 'succ' '.' 'Control.Lens.Setter.over' evens 'succ' '/=' 'Control.Lens.Setter.over' evens ('succ' '.' 'succ')</span><span>
</span><span id="line-353"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-354"></span><span class="hs-comment">--</span><span>
</span><span id="line-355"></span><span class="hs-comment">-- So, in order for this to qualify as a legal 'Traversal' you can only use it for actions that preserve the result of the predicate!</span><span>
</span><span id="line-356"></span><span class="hs-comment">--</span><span>
</span><span id="line-357"></span><span class="hs-comment">-- &gt;&gt;&gt; [1..10]^..folded.filtered even</span><span>
</span><span id="line-358"></span><span class="hs-comment">-- [2,4,6,8,10]</span><span>
</span><span id="line-359"></span><span class="hs-comment">--</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- This will preserve an index if it is present.</span><span>
</span><span id="line-361"></span><span id="local-6989586621679452083"><span id="local-6989586621679452084"><span id="local-6989586621679452085"><span class="annot"><a href="Control.Lens.Fold.html#filtered"><span class="hs-identifier hs-type">filtered</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Choice</span></span><span> </span><span class="annot"><a href="#local-6989586621679452085"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679452084"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452083"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optic%27"><span class="hs-identifier hs-type">Optic'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452085"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452084"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452083"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452083"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-362"></span><span id="filtered"><span class="annot"><span class="annottext">filtered :: (a -&gt; Bool) -&gt; Optic' p f a a
</span><a href="Control.Lens.Fold.html#filtered"><span class="hs-identifier hs-var hs-var">filtered</span></a></span></span><span> </span><span id="local-6989586621679451829"><span class="annot"><span class="annottext">p :: a -&gt; Bool
</span><a href="#local-6989586621679451829"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either a a)
-&gt; (Either a (f a) -&gt; f a)
-&gt; p (Either a a) (Either a (f a))
-&gt; p a (f a)
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451827"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451827"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679451829"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451827"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a a
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451827"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a a
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451827"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; f a) -&gt; (f a -&gt; f a) -&gt; Either a (f a) -&gt; f a
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">f a -&gt; f a
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(p (Either a a) (Either a (f a)) -&gt; p a (f a))
-&gt; (p a (f a) -&gt; p (Either a a) (Either a (f a))) -&gt; Optic' p f a a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">p a (f a) -&gt; p (Either a a) (Either a (f a))
forall (p :: * -&gt; * -&gt; *) a b c.
Choice p =&gt;
p a b -&gt; p (Either c a) (Either c b)
</span><span class="hs-identifier hs-var">right'</span></span><span>
</span><span id="line-363"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#filtered"><span class="hs-pragma hs-type">filtered</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="hs-comment">-- | Obtain a potentially empty 'IndexedTraversal' by taking the first element from another,</span><span>
</span><span id="line-366"></span><span class="hs-comment">-- potentially empty `Fold` and using it as an index.</span><span>
</span><span id="line-367"></span><span class="hs-comment">--</span><span>
</span><span id="line-368"></span><span class="hs-comment">-- The resulting optic can be composed with to filter another 'Lens', 'Iso', 'Getter', 'Fold' (or 'Traversal').</span><span>
</span><span id="line-369"></span><span class="hs-comment">--</span><span>
</span><span id="line-370"></span><span class="hs-comment">-- &gt;&gt;&gt; [(Just 2, 3), (Nothing, 4)] &amp; mapped . filteredBy (_1 . _Just) &lt;. _2 %@~ (*) :: [(Maybe Int, Int)]</span><span>
</span><span id="line-371"></span><span class="hs-comment">-- [(Just 2,6),(Nothing,4)]</span><span>
</span><span id="line-372"></span><span class="hs-comment">--</span><span>
</span><span id="line-373"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-374"></span><span class="hs-comment">-- 'filteredBy' :: 'Fold' a i -&gt; 'IndexedTraversal'' i a a</span><span>
</span><span id="line-375"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-376"></span><span class="hs-comment">--</span><span>
</span><span id="line-377"></span><span class="hs-comment">-- Note: As with 'filtered', this is /not/ a legal 'IndexedTraversal', unless you are very careful not to invalidate the predicate on the target!</span><span>
</span><span id="line-378"></span><span id="local-6989586621679451820"><span id="local-6989586621679451821"><span id="local-6989586621679451822"><span id="local-6989586621679451823"><span class="annot"><a href="Control.Lens.Fold.html#filteredBy"><span class="hs-identifier hs-type">filteredBy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451823"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451822"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679451821"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="annot"><a href="#local-6989586621679451823"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451820"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451823"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451822"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451820"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451821"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451820"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451820"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451821"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451820"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-379"></span><span id="filteredBy"><span class="annot"><span class="annottext">filteredBy :: Getting (First i) a i -&gt; p a (f a) -&gt; a -&gt; f a
</span><a href="Control.Lens.Fold.html#filteredBy"><span class="hs-identifier hs-var hs-var">filteredBy</span></a></span></span><span> </span><span id="local-6989586621679451819"><span class="annot"><span class="annottext">p :: Getting (First i) a i
</span><a href="#local-6989586621679451819"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679451818"><span class="annot"><span class="annottext">f :: p a (f a)
</span><a href="#local-6989586621679451818"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451817"><span class="annot"><span class="annottext">val :: a
</span><a href="#local-6989586621679451817"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451817"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Getting (First i) a i -&gt; Maybe i
forall s a. s -&gt; Getting (First a) s a -&gt; Maybe a
</span><a href="Control.Lens.Fold.html#%5E%3F"><span class="hs-operator hs-var">^?</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (First i) a i
</span><a href="#local-6989586621679451819"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-380"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451817"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-381"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679451816"><span class="annot"><span class="annottext">witness :: i
</span><a href="#local-6989586621679451816"><span class="hs-identifier hs-var">witness</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">p a (f a) -&gt; i -&gt; a -&gt; f a
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p a (f a)
</span><a href="#local-6989586621679451818"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451816"><span class="hs-identifier hs-var">witness</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451817"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-382"></span><span>
</span><span id="line-383"></span><span class="hs-comment">-- | Obtain a 'Fold' by taking elements from another 'Fold', 'Lens', 'Iso', 'Getter' or 'Traversal' while a predicate holds.</span><span>
</span><span id="line-384"></span><span class="hs-comment">--</span><span>
</span><span id="line-385"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-386"></span><span class="hs-comment">-- 'takeWhile' p &#8801; 'toListOf' ('takingWhile' p 'folded')</span><span>
</span><span id="line-387"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-388"></span><span class="hs-comment">--</span><span>
</span><span id="line-389"></span><span class="hs-comment">-- &gt;&gt;&gt; timingOut $ toListOf (takingWhile (&lt;=3) folded) [1..]</span><span>
</span><span id="line-390"></span><span class="hs-comment">-- [1,2,3]</span><span>
</span><span id="line-391"></span><span class="hs-comment">--</span><span>
</span><span id="line-392"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-393"></span><span class="hs-comment">-- 'takingWhile' :: (a -&gt; 'Bool') -&gt; 'Fold' s a                         -&gt; 'Fold' s a</span><span>
</span><span id="line-394"></span><span class="hs-comment">-- 'takingWhile' :: (a -&gt; 'Bool') -&gt; 'Getter' s a                       -&gt; 'Fold' s a</span><span>
</span><span id="line-395"></span><span class="hs-comment">-- 'takingWhile' :: (a -&gt; 'Bool') -&gt; 'Traversal'' s a                   -&gt; 'Fold' s a -- * See note below</span><span>
</span><span id="line-396"></span><span class="hs-comment">-- 'takingWhile' :: (a -&gt; 'Bool') -&gt; 'Lens'' s a                        -&gt; 'Fold' s a -- * See note below</span><span>
</span><span id="line-397"></span><span class="hs-comment">-- 'takingWhile' :: (a -&gt; 'Bool') -&gt; 'Prism'' s a                       -&gt; 'Fold' s a -- * See note below</span><span>
</span><span id="line-398"></span><span class="hs-comment">-- 'takingWhile' :: (a -&gt; 'Bool') -&gt; 'Iso'' s a                         -&gt; 'Fold' s a -- * See note below</span><span>
</span><span id="line-399"></span><span class="hs-comment">-- 'takingWhile' :: (a -&gt; 'Bool') -&gt; 'IndexedTraversal'' i s a          -&gt; 'IndexedFold' i s a -- * See note below</span><span>
</span><span id="line-400"></span><span class="hs-comment">-- 'takingWhile' :: (a -&gt; 'Bool') -&gt; 'IndexedLens'' i s a               -&gt; 'IndexedFold' i s a -- * See note below</span><span>
</span><span id="line-401"></span><span class="hs-comment">-- 'takingWhile' :: (a -&gt; 'Bool') -&gt; 'IndexedFold' i s a                -&gt; 'IndexedFold' i s a</span><span>
</span><span id="line-402"></span><span class="hs-comment">-- 'takingWhile' :: (a -&gt; 'Bool') -&gt; 'IndexedGetter' i s a              -&gt; 'IndexedFold' i s a</span><span>
</span><span id="line-403"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-404"></span><span class="hs-comment">--</span><span>
</span><span id="line-405"></span><span class="hs-comment">-- /Note:/ When applied to a 'Traversal', 'takingWhile' yields something that can be used as if it were a 'Traversal', but</span><span>
</span><span id="line-406"></span><span class="hs-comment">-- which is not a 'Traversal' per the laws, unless you are careful to ensure that you do not invalidate the predicate when</span><span>
</span><span id="line-407"></span><span class="hs-comment">-- writing back through it.</span><span>
</span><span id="line-408"></span><span id="local-6989586621679451811"><span id="local-6989586621679451812"><span id="local-6989586621679451813"><span id="local-6989586621679451814"><span id="local-6989586621679451815"><span class="annot"><a href="Control.Lens.Fold.html#takingWhile"><span class="hs-identifier hs-type">takingWhile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Conjoined"><span class="hs-identifier hs-type">Conjoined</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451815"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679451814"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451813"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Over"><span class="hs-identifier hs-type">Over</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451815"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Magma.html#TakingWhile"><span class="hs-identifier hs-type">TakingWhile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451815"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451814"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451813"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451813"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451812"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451811"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451813"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451813"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Over"><span class="hs-identifier hs-type">Over</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451815"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451814"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451812"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451811"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451813"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451813"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span><span>
</span><span id="line-409"></span><span id="takingWhile"><span class="annot"><span class="annottext">takingWhile :: (a -&gt; Bool)
-&gt; Over p (TakingWhile p f a a) s t a a -&gt; Over p f s t a a
</span><a href="Control.Lens.Fold.html#takingWhile"><span class="hs-identifier hs-var hs-var">takingWhile</span></a></span></span><span> </span><span id="local-6989586621679451810"><span class="annot"><span class="annottext">p :: a -&gt; Bool
</span><a href="#local-6989586621679451810"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679451809"><span class="annot"><span class="annottext">l :: Over p (TakingWhile p f a a) s t a a
</span><a href="#local-6989586621679451809"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451808"><span class="annot"><span class="annottext">pafb :: p a (f a)
</span><a href="#local-6989586621679451808"><span class="hs-identifier hs-var">pafb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Magma () t a a -&gt; t) -&gt; f (Magma () t a a) -&gt; f t
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Magma () t a a -&gt; t
forall i t a. Magma i t a a -&gt; t
</span><a href="Control.Lens.Internal.Magma.html#runMagma"><span class="hs-identifier hs-var">runMagma</span></a></span><span> </span><span class="annot"><span class="annottext">(f (Magma () t a a) -&gt; f t)
-&gt; (s -&gt; f (Magma () t a a)) -&gt; s -&gt; f t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Corep p a -&gt; f a)
-&gt; Magma () t a (Corep p a) -&gt; f (Magma () t a a)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p a (f a) -&gt; Corep p a -&gt; f a
forall (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) a b.
Cosieve p f =&gt;
p a b -&gt; f a -&gt; b
</span><span class="hs-identifier hs-var">cosieve</span></span><span> </span><span class="annot"><span class="annottext">p a (f a)
</span><a href="#local-6989586621679451808"><span class="hs-identifier hs-var">pafb</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Magma () t a (Corep p a) -&gt; f (Magma () t a a))
-&gt; (s -&gt; Magma () t a (Corep p a)) -&gt; s -&gt; f (Magma () t a a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TakingWhile p f a a t -&gt; Magma () t a (Corep p a)
forall (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) a b t.
TakingWhile p f a b t -&gt; Magma () t b (Corep p a)
</span><a href="Control.Lens.Internal.Magma.html#runTakingWhile"><span class="hs-identifier hs-var">runTakingWhile</span></a></span><span> </span><span class="annot"><span class="annottext">(TakingWhile p f a a t -&gt; Magma () t a (Corep p a))
-&gt; (s -&gt; TakingWhile p f a a t) -&gt; s -&gt; Magma () t a (Corep p a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Over p (TakingWhile p f a a) s t a a
</span><a href="#local-6989586621679451809"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">p a (TakingWhile p f a a a)
forall (g :: * -&gt; *). p a (TakingWhile p g a a a)
</span><a href="#local-6989586621679451803"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-410"></span><span>  </span><span id="local-6989586621679451803"><span class="annot"><span class="annottext">flag :: p a (TakingWhile p g a a a)
</span><a href="#local-6989586621679451803"><span class="hs-identifier hs-var hs-var">flag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Corep p a -&gt; TakingWhile p g a a a) -&gt; p a (TakingWhile p g a a a)
forall (p :: * -&gt; * -&gt; *) d c.
Corepresentable p =&gt;
(Corep p d -&gt; c) -&gt; p d c
</span><span class="hs-identifier hs-var">cotabulate</span></span><span> </span><span class="annot"><span class="annottext">((Corep p a -&gt; TakingWhile p g a a a)
 -&gt; p a (TakingWhile p g a a a))
-&gt; (Corep p a -&gt; TakingWhile p g a a a)
-&gt; p a (TakingWhile p g a a a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679451801"><span class="annot"><span class="annottext">wa :: Corep p a
</span><a href="#local-6989586621679451801"><span class="hs-identifier hs-var">wa</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679451800"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451800"><span class="hs-identifier hs-var hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Corep p a -&gt; a
forall (w :: * -&gt; *) a. Comonad w =&gt; w a -&gt; a
</span><span class="hs-identifier hs-var">extract</span></span><span> </span><span class="annot"><span class="annottext">Corep p a
</span><a href="#local-6989586621679451801"><span class="hs-identifier hs-var">wa</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621679451798"><span class="annot"><span class="annottext">r :: Bool
</span><a href="#local-6989586621679451798"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679451810"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451800"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; a -&gt; (Bool -&gt; Magma () a a (Corep p a)) -&gt; TakingWhile p g a a a
forall (p :: * -&gt; * -&gt; *) (g :: * -&gt; *) a b t.
Bool
-&gt; t -&gt; (Bool -&gt; Magma () t b (Corep p a)) -&gt; TakingWhile p g a b t
</span><a href="Control.Lens.Internal.Magma.html#TakingWhile"><span class="hs-identifier hs-var">TakingWhile</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679451798"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451800"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">((Bool -&gt; Magma () a a (Corep p a)) -&gt; TakingWhile p g a a a)
-&gt; (Bool -&gt; Magma () a a (Corep p a)) -&gt; TakingWhile p g a a a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679451796"><span class="annot"><span class="annottext">pr :: Bool
</span><a href="#local-6989586621679451796"><span class="hs-identifier hs-var">pr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-411"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679451796"><span class="hs-identifier hs-var">pr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679451798"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">() -&gt; Corep p a -&gt; Magma () a a (Corep p a)
forall i a b. i -&gt; a -&gt; Magma i b b a
</span><a href="Control.Lens.Internal.Magma.html#Magma"><span class="hs-identifier hs-var">Magma</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Corep p a
</span><a href="#local-6989586621679451801"><span class="hs-identifier hs-var">wa</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">a -&gt; Magma () a a (Corep p a)
forall x i b a. x -&gt; Magma i x b a
</span><a href="Control.Lens.Internal.Magma.html#MagmaPure"><span class="hs-identifier hs-var">MagmaPure</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451800"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-412"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#takingWhile"><span class="hs-pragma hs-type">takingWhile</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span class="hs-comment">-- | Obtain a 'Fold' by dropping elements from another 'Fold', 'Lens', 'Iso', 'Getter' or 'Traversal' while a predicate holds.</span><span>
</span><span id="line-415"></span><span class="hs-comment">--</span><span>
</span><span id="line-416"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-417"></span><span class="hs-comment">-- 'dropWhile' p &#8801; 'toListOf' ('droppingWhile' p 'folded')</span><span>
</span><span id="line-418"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-419"></span><span class="hs-comment">--</span><span>
</span><span id="line-420"></span><span class="hs-comment">-- &gt;&gt;&gt; toListOf (droppingWhile (&lt;=3) folded) [1..6]</span><span>
</span><span id="line-421"></span><span class="hs-comment">-- [4,5,6]</span><span>
</span><span id="line-422"></span><span class="hs-comment">--</span><span>
</span><span id="line-423"></span><span class="hs-comment">-- &gt;&gt;&gt; toListOf (droppingWhile (&lt;=3) folded) [1,6,1]</span><span>
</span><span id="line-424"></span><span class="hs-comment">-- [6,1]</span><span>
</span><span id="line-425"></span><span class="hs-comment">--</span><span>
</span><span id="line-426"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-427"></span><span class="hs-comment">-- 'droppingWhile' :: (a -&gt; 'Bool') -&gt; 'Fold' s a                         -&gt; 'Fold' s a</span><span>
</span><span id="line-428"></span><span class="hs-comment">-- 'droppingWhile' :: (a -&gt; 'Bool') -&gt; 'Getter' s a                       -&gt; 'Fold' s a</span><span>
</span><span id="line-429"></span><span class="hs-comment">-- 'droppingWhile' :: (a -&gt; 'Bool') -&gt; 'Traversal'' s a                   -&gt; 'Fold' s a                -- see notes</span><span>
</span><span id="line-430"></span><span class="hs-comment">-- 'droppingWhile' :: (a -&gt; 'Bool') -&gt; 'Lens'' s a                        -&gt; 'Fold' s a                -- see notes</span><span>
</span><span id="line-431"></span><span class="hs-comment">-- 'droppingWhile' :: (a -&gt; 'Bool') -&gt; 'Prism'' s a                       -&gt; 'Fold' s a                -- see notes</span><span>
</span><span id="line-432"></span><span class="hs-comment">-- 'droppingWhile' :: (a -&gt; 'Bool') -&gt; 'Iso'' s a                         -&gt; 'Fold' s a                -- see notes</span><span>
</span><span id="line-433"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-434"></span><span class="hs-comment">--</span><span>
</span><span id="line-435"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-436"></span><span class="hs-comment">-- 'droppingWhile' :: (a -&gt; 'Bool') -&gt; 'IndexPreservingTraversal'' s a    -&gt; 'IndexPreservingFold' s a -- see notes</span><span>
</span><span id="line-437"></span><span class="hs-comment">-- 'droppingWhile' :: (a -&gt; 'Bool') -&gt; 'IndexPreservingLens'' s a         -&gt; 'IndexPreservingFold' s a -- see notes</span><span>
</span><span id="line-438"></span><span class="hs-comment">-- 'droppingWhile' :: (a -&gt; 'Bool') -&gt; 'IndexPreservingGetter' s a        -&gt; 'IndexPreservingFold' s a</span><span>
</span><span id="line-439"></span><span class="hs-comment">-- 'droppingWhile' :: (a -&gt; 'Bool') -&gt; 'IndexPreservingFold' s a          -&gt; 'IndexPreservingFold' s a</span><span>
</span><span id="line-440"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-441"></span><span class="hs-comment">--</span><span>
</span><span id="line-442"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-443"></span><span class="hs-comment">-- 'droppingWhile' :: (a -&gt; 'Bool') -&gt; 'IndexedTraversal'' i s a          -&gt; 'IndexedFold' i s a       -- see notes</span><span>
</span><span id="line-444"></span><span class="hs-comment">-- 'droppingWhile' :: (a -&gt; 'Bool') -&gt; 'IndexedLens'' i s a               -&gt; 'IndexedFold' i s a       -- see notes</span><span>
</span><span id="line-445"></span><span class="hs-comment">-- 'droppingWhile' :: (a -&gt; 'Bool') -&gt; 'IndexedGetter' i s a              -&gt; 'IndexedFold' i s a</span><span>
</span><span id="line-446"></span><span class="hs-comment">-- 'droppingWhile' :: (a -&gt; 'Bool') -&gt; 'IndexedFold' i s a                -&gt; 'IndexedFold' i s a</span><span>
</span><span id="line-447"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-448"></span><span class="hs-comment">--</span><span>
</span><span id="line-449"></span><span class="hs-comment">-- Note: Many uses of this combinator will yield something that meets the types, but not the laws of a valid</span><span>
</span><span id="line-450"></span><span class="hs-comment">-- 'Traversal' or 'IndexedTraversal'. The 'Traversal' and 'IndexedTraversal' laws are only satisfied if the</span><span>
</span><span id="line-451"></span><span class="hs-comment">-- new values you assign to the first target also does not pass the predicate! Otherwise subsequent traversals</span><span>
</span><span id="line-452"></span><span class="hs-comment">-- will visit fewer elements and 'Traversal' fusion is not sound.</span><span>
</span><span id="line-453"></span><span class="hs-comment">--</span><span>
</span><span id="line-454"></span><span class="hs-comment">-- So for any traversal @t@ and predicate @p@, @`droppingWhile` p t@ may not be lawful, but</span><span>
</span><span id="line-455"></span><span class="hs-comment">-- @(`Control.Lens.Traversal.dropping` 1 . `droppingWhile` p) t@ is. For example:</span><span>
</span><span id="line-456"></span><span class="hs-comment">--</span><span>
</span><span id="line-457"></span><span class="hs-comment">-- &gt;&gt;&gt; let l  :: Traversal' [Int] Int; l  = droppingWhile (&lt;= 1) traverse</span><span>
</span><span id="line-458"></span><span class="hs-comment">-- &gt;&gt;&gt; let l' :: Traversal' [Int] Int; l' = dropping 1 l</span><span>
</span><span id="line-459"></span><span class="hs-comment">--</span><span>
</span><span id="line-460"></span><span class="hs-comment">-- @l@ is not a lawful setter because @`Control.Lens.Setter.over` l f .</span><span>
</span><span id="line-461"></span><span class="hs-comment">-- `Control.Lens.Setter.over` l g &#8802; `Control.Lens.Setter.over` l (f . g)@:</span><span>
</span><span id="line-462"></span><span class="hs-comment">--</span><span>
</span><span id="line-463"></span><span class="hs-comment">-- &gt;&gt;&gt; [1,2,3] &amp; l .~ 0 &amp; l .~ 4</span><span>
</span><span id="line-464"></span><span class="hs-comment">-- [1,0,0]</span><span>
</span><span id="line-465"></span><span class="hs-comment">-- &gt;&gt;&gt; [1,2,3] &amp; l .~ 4</span><span>
</span><span id="line-466"></span><span class="hs-comment">-- [1,4,4]</span><span>
</span><span id="line-467"></span><span class="hs-comment">--</span><span>
</span><span id="line-468"></span><span class="hs-comment">-- @l'@ on the other hand behaves lawfully:</span><span>
</span><span id="line-469"></span><span class="hs-comment">--</span><span>
</span><span id="line-470"></span><span class="hs-comment">-- &gt;&gt;&gt; [1,2,3] &amp; l' .~ 0 &amp; l' .~ 4</span><span>
</span><span id="line-471"></span><span class="hs-comment">-- [1,2,4]</span><span>
</span><span id="line-472"></span><span class="hs-comment">-- &gt;&gt;&gt; [1,2,3] &amp; l' .~ 4</span><span>
</span><span id="line-473"></span><span class="hs-comment">-- [1,2,4]</span><span>
</span><span id="line-474"></span><span id="local-6989586621679451787"><span id="local-6989586621679451788"><span id="local-6989586621679451789"><span id="local-6989586621679451790"><span id="local-6989586621679451791"><span id="local-6989586621679451792"><span class="annot"><a href="Control.Lens.Fold.html#droppingWhile"><span class="hs-identifier hs-type">droppingWhile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Conjoined"><span class="hs-identifier hs-type">Conjoined</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451792"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679451791"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679451790"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-475"></span><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451789"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical"><span class="hs-identifier hs-type">Optical</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451792"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451791"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Compose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">State</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451790"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451788"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451787"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451789"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451789"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-477"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical"><span class="hs-identifier hs-type">Optical</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451792"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451791"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451790"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451788"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451787"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451789"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451789"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-478"></span><span id="droppingWhile"><span class="annot"><span class="annottext">droppingWhile :: (a -&gt; Bool)
-&gt; Optical p q (Compose (State Bool) f) s t a a
-&gt; Optical p q f s t a a
</span><a href="Control.Lens.Fold.html#droppingWhile"><span class="hs-identifier hs-var hs-var">droppingWhile</span></a></span></span><span> </span><span id="local-6989586621679451786"><span class="annot"><span class="annottext">p :: a -&gt; Bool
</span><a href="#local-6989586621679451786"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679451785"><span class="annot"><span class="annottext">l :: Optical p q (Compose (State Bool) f) s t a a
</span><a href="#local-6989586621679451785"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451784"><span class="annot"><span class="annottext">f :: p a (f a)
</span><a href="#local-6989586621679451784"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(State Bool (f t) -&gt; Bool -&gt; f t)
-&gt; Bool -&gt; State Bool (f t) -&gt; f t
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">State Bool (f t) -&gt; Bool -&gt; f t
forall s a. State s a -&gt; s -&gt; a
</span><span class="hs-identifier hs-var">evalState</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(State Bool (f t) -&gt; f t)
-&gt; (Compose (State Bool) f t -&gt; State Bool (f t))
-&gt; Compose (State Bool) f t
-&gt; f t
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible b a) =&gt;
p b c -&gt; q a b -&gt; p a c
</span><span class="hs-operator hs-var">.#</span></span><span> </span><span class="annot"><span class="annottext">Compose (State Bool) f t -&gt; State Bool (f t)
forall k1 (f :: k1 -&gt; *) k2 (g :: k2 -&gt; k1) (a :: k2).
Compose f g a -&gt; f (g a)
</span><span class="hs-identifier hs-var hs-var">getCompose</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Compose (State Bool) f t -&gt; f t)
-&gt; q s (Compose (State Bool) f t) -&gt; q s (f t)
forall (p :: * -&gt; * -&gt; *) b c a.
Profunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">`rmap`</span></span><span> </span><span class="annot"><span class="annottext">Optical p q (Compose (State Bool) f) s t a a
</span><a href="#local-6989586621679451785"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">p a (Compose (State Bool) f a)
</span><a href="#local-6989586621679451778"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-479"></span><span>  </span><span id="local-6989586621679451778"><span class="annot"><span class="annottext">g :: p a (Compose (State Bool) f a)
</span><a href="#local-6989586621679451778"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Corep p a -&gt; Compose (State Bool) f a)
-&gt; p a (Compose (State Bool) f a)
forall (p :: * -&gt; * -&gt; *) d c.
Corepresentable p =&gt;
(Corep p d -&gt; c) -&gt; p d c
</span><span class="hs-identifier hs-var">cotabulate</span></span><span> </span><span class="annot"><span class="annottext">((Corep p a -&gt; Compose (State Bool) f a)
 -&gt; p a (Compose (State Bool) f a))
-&gt; (Corep p a -&gt; Compose (State Bool) f a)
-&gt; p a (Compose (State Bool) f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679451777"><span class="annot"><span class="annottext">wa :: Corep p a
</span><a href="#local-6989586621679451777"><span class="hs-identifier hs-var">wa</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State Bool (f a) -&gt; Compose (State Bool) f a
forall k k1 (f :: k -&gt; *) (g :: k1 -&gt; k) (a :: k1).
f (g a) -&gt; Compose f g a
</span><span class="hs-identifier hs-var">Compose</span></span><span> </span><span class="annot"><span class="annottext">(State Bool (f a) -&gt; Compose (State Bool) f a)
-&gt; State Bool (f a) -&gt; Compose (State Bool) f a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; (f a, Bool)) -&gt; State Bool (f a)
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; (a, s)) -&gt; m a
</span><span class="hs-identifier hs-var">state</span></span><span> </span><span class="annot"><span class="annottext">((Bool -&gt; (f a, Bool)) -&gt; State Bool (f a))
-&gt; (Bool -&gt; (f a, Bool)) -&gt; State Bool (f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679451774"><span class="annot"><span class="annottext">b :: Bool
</span><a href="#local-6989586621679451774"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-480"></span><span>      </span><span id="local-6989586621679451773"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451773"><span class="hs-identifier hs-var hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Corep p a -&gt; a
forall (w :: * -&gt; *) a. Comonad w =&gt; w a -&gt; a
</span><span class="hs-identifier hs-var">extract</span></span><span> </span><span class="annot"><span class="annottext">Corep p a
</span><a href="#local-6989586621679451777"><span class="hs-identifier hs-var">wa</span></a></span><span>
</span><span id="line-481"></span><span>      </span><span id="local-6989586621679451772"><span class="annot"><span class="annottext">b' :: Bool
</span><a href="#local-6989586621679451772"><span class="hs-identifier hs-var hs-var">b'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679451774"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679451786"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451773"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-482"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679451772"><span class="hs-identifier hs-var">b'</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451773"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">p a (f a) -&gt; Corep p a -&gt; f a
forall (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) a b.
Cosieve p f =&gt;
p a b -&gt; f a -&gt; b
</span><span class="hs-identifier hs-var">cosieve</span></span><span> </span><span class="annot"><span class="annottext">p a (f a)
</span><a href="#local-6989586621679451784"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Corep p a
</span><a href="#local-6989586621679451777"><span class="hs-identifier hs-var">wa</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679451772"><span class="hs-identifier hs-var">b'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-483"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#droppingWhile"><span class="hs-pragma hs-type">droppingWhile</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-484"></span><span>
</span><span id="line-485"></span><span class="hs-comment">-- | A 'Fold' over the individual 'words' of a 'String'.</span><span>
</span><span id="line-486"></span><span class="hs-comment">--</span><span>
</span><span id="line-487"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-488"></span><span class="hs-comment">-- 'worded' :: 'Fold' 'String' 'String'</span><span>
</span><span id="line-489"></span><span class="hs-comment">-- 'worded' :: 'Traversal'' 'String' 'String'</span><span>
</span><span id="line-490"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-491"></span><span class="hs-comment">--</span><span>
</span><span id="line-492"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-493"></span><span class="hs-comment">-- 'worded' :: 'IndexedFold' 'Int' 'String' 'String'</span><span>
</span><span id="line-494"></span><span class="hs-comment">-- 'worded' :: 'IndexedTraversal'' 'Int' 'String' 'String'</span><span>
</span><span id="line-495"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-496"></span><span class="hs-comment">--</span><span>
</span><span id="line-497"></span><span class="hs-comment">-- Note: This function type-checks as a 'Traversal' but it doesn't satisfy the laws. It's only valid to use it</span><span>
</span><span id="line-498"></span><span class="hs-comment">-- when you don't insert any whitespace characters while traversing, and if your original 'String' contains only</span><span>
</span><span id="line-499"></span><span class="hs-comment">-- isolated space characters (and no other characters that count as space, such as non-breaking spaces).</span><span>
</span><span id="line-500"></span><span id="local-6989586621679451771"><span class="annot"><a href="Control.Lens.Fold.html#worded"><span class="hs-identifier hs-type">worded</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679451771"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedLensLike%27"><span class="hs-identifier hs-type">IndexedLensLike'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679451771"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span><span>
</span><span id="line-501"></span><span id="worded"><span class="annot"><span class="annottext">worded :: IndexedLensLike' Int f String String
</span><a href="Control.Lens.Fold.html#worded"><span class="hs-identifier hs-var hs-var">worded</span></a></span></span><span> </span><span id="local-6989586621679451770"><span class="annot"><span class="annottext">f :: p String (f String)
</span><a href="#local-6989586621679451770"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; f [String] -&gt; f String
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">(f [String] -&gt; f String)
-&gt; (String -&gt; f [String]) -&gt; String -&gt; f String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((p ~ (-&gt;)) =&gt; (String -&gt; f String) -&gt; [String] -&gt; f [String])
-&gt; (p String (f String) -&gt; [String] -&gt; f [String])
-&gt; p String (f String)
-&gt; [String]
-&gt; f [String]
forall (p :: * -&gt; * -&gt; *) (q :: * -&gt; * -&gt; *) a b r.
Conjoined p =&gt;
((p ~ (-&gt;)) =&gt; q (a -&gt; b) r) -&gt; q (p a b) r -&gt; q (p a b) r
</span><a href="Control.Lens.Internal.Indexed.html#conjoined"><span class="hs-identifier hs-var">conjoined</span></a></span><span> </span><span class="annot"><span class="annottext">(p ~ (-&gt;)) =&gt; (String -&gt; f String) -&gt; [String] -&gt; f [String]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((String -&gt; Indexing f String) -&gt; [String] -&gt; Indexing f [String])
-&gt; p String (f String) -&gt; [String] -&gt; f [String]
forall (p :: * -&gt; * -&gt; *) a (f :: * -&gt; *) b s t.
Indexable Int p =&gt;
((a -&gt; Indexing f b) -&gt; s -&gt; Indexing f t) -&gt; p a (f b) -&gt; s -&gt; f t
</span><a href="Control.Lens.Internal.Indexed.html#indexing"><span class="hs-identifier hs-var">indexing</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Indexing f String) -&gt; [String] -&gt; Indexing f [String]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p String (f String)
</span><a href="#local-6989586621679451770"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; f [String])
-&gt; (String -&gt; [String]) -&gt; String -&gt; f [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String]
</span><span class="hs-identifier hs-var">words</span></span><span>
</span><span id="line-502"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#worded"><span class="hs-pragma hs-type">worded</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-503"></span><span>
</span><span id="line-504"></span><span class="hs-comment">-- | A 'Fold' over the individual 'lines' of a 'String'.</span><span>
</span><span id="line-505"></span><span class="hs-comment">--</span><span>
</span><span id="line-506"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-507"></span><span class="hs-comment">-- 'lined' :: 'Fold' 'String' 'String'</span><span>
</span><span id="line-508"></span><span class="hs-comment">-- 'lined' :: 'Traversal'' 'String' 'String'</span><span>
</span><span id="line-509"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-510"></span><span class="hs-comment">--</span><span>
</span><span id="line-511"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-512"></span><span class="hs-comment">-- 'lined' :: 'IndexedFold' 'Int' 'String' 'String'</span><span>
</span><span id="line-513"></span><span class="hs-comment">-- 'lined' :: 'IndexedTraversal'' 'Int' 'String' 'String'</span><span>
</span><span id="line-514"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-515"></span><span class="hs-comment">--</span><span>
</span><span id="line-516"></span><span class="hs-comment">-- Note: This function type-checks as a 'Traversal' but it doesn't satisfy the laws. It's only valid to use it</span><span>
</span><span id="line-517"></span><span class="hs-comment">-- when you don't insert any newline characters while traversing, and if your original 'String' contains only</span><span>
</span><span id="line-518"></span><span class="hs-comment">-- isolated newline characters.</span><span>
</span><span id="line-519"></span><span id="local-6989586621679451766"><span class="annot"><a href="Control.Lens.Fold.html#lined"><span class="hs-identifier hs-type">lined</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679451766"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexedLensLike%27"><span class="hs-identifier hs-type">IndexedLensLike'</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="#local-6989586621679451766"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span><span>
</span><span id="line-520"></span><span id="lined"><span class="annot"><span class="annottext">lined :: IndexedLensLike' Int f String String
</span><a href="Control.Lens.Fold.html#lined"><span class="hs-identifier hs-var hs-var">lined</span></a></span></span><span> </span><span id="local-6989586621679451765"><span class="annot"><span class="annottext">f :: p String (f String)
</span><a href="#local-6989586621679451765"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; f [String] -&gt; f String
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\n&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(f [String] -&gt; f String)
-&gt; (String -&gt; f [String]) -&gt; String -&gt; f String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((p ~ (-&gt;)) =&gt; (String -&gt; f String) -&gt; [String] -&gt; f [String])
-&gt; (p String (f String) -&gt; [String] -&gt; f [String])
-&gt; p String (f String)
-&gt; [String]
-&gt; f [String]
forall (p :: * -&gt; * -&gt; *) (q :: * -&gt; * -&gt; *) a b r.
Conjoined p =&gt;
((p ~ (-&gt;)) =&gt; q (a -&gt; b) r) -&gt; q (p a b) r -&gt; q (p a b) r
</span><a href="Control.Lens.Internal.Indexed.html#conjoined"><span class="hs-identifier hs-var">conjoined</span></a></span><span> </span><span class="annot"><span class="annottext">(p ~ (-&gt;)) =&gt; (String -&gt; f String) -&gt; [String] -&gt; f [String]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((String -&gt; Indexing f String) -&gt; [String] -&gt; Indexing f [String])
-&gt; p String (f String) -&gt; [String] -&gt; f [String]
forall (p :: * -&gt; * -&gt; *) a (f :: * -&gt; *) b s t.
Indexable Int p =&gt;
((a -&gt; Indexing f b) -&gt; s -&gt; Indexing f t) -&gt; p a (f b) -&gt; s -&gt; f t
</span><a href="Control.Lens.Internal.Indexed.html#indexing"><span class="hs-identifier hs-var">indexing</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Indexing f String) -&gt; [String] -&gt; Indexing f [String]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">p String (f String)
</span><a href="#local-6989586621679451765"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; f [String])
-&gt; (String -&gt; [String]) -&gt; String -&gt; f [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String]
</span><span class="hs-identifier hs-var">lines</span></span><span>
</span><span id="line-521"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#lined"><span class="hs-pragma hs-type">lined</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-522"></span><span>
</span><span id="line-523"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-524"></span><span class="hs-comment">-- Fold/Getter combinators</span><span>
</span><span id="line-525"></span><span class="hs-comment">--------------------------</span><span>
</span><span id="line-526"></span><span>
</span><span id="line-527"></span><span class="hs-comment">-- | Map each part of a structure viewed through a 'Lens', 'Getter',</span><span>
</span><span id="line-528"></span><span class="hs-comment">-- 'Fold' or 'Traversal' to a monoid and combine the results.</span><span>
</span><span id="line-529"></span><span class="hs-comment">--</span><span>
</span><span id="line-530"></span><span class="hs-comment">-- &gt;&gt;&gt; foldMapOf (folded . both . _Just) Sum [(Just 21, Just 21)]</span><span>
</span><span id="line-531"></span><span class="hs-comment">-- Sum {getSum = 42}</span><span>
</span><span id="line-532"></span><span class="hs-comment">--</span><span>
</span><span id="line-533"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-534"></span><span class="hs-comment">-- 'Data.Foldable.foldMap' = 'foldMapOf' 'folded'</span><span>
</span><span id="line-535"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-536"></span><span class="hs-comment">--</span><span>
</span><span id="line-537"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-538"></span><span class="hs-comment">-- 'foldMapOf' &#8801; 'views'</span><span>
</span><span id="line-539"></span><span class="hs-comment">-- 'ifoldMapOf' l = 'foldMapOf' l '.' 'Indexed'</span><span>
</span><span id="line-540"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-541"></span><span class="hs-comment">--</span><span>
</span><span id="line-542"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-543"></span><span class="hs-comment">-- 'foldMapOf' ::                'Getter' s a      -&gt; (a -&gt; r) -&gt; s -&gt; r</span><span>
</span><span id="line-544"></span><span class="hs-comment">-- 'foldMapOf' :: 'Monoid' r    =&gt; 'Fold' s a        -&gt; (a -&gt; r) -&gt; s -&gt; r</span><span>
</span><span id="line-545"></span><span class="hs-comment">-- 'foldMapOf' :: 'Semigroup' r =&gt; 'Fold1' s a       -&gt; (a -&gt; r) -&gt; s -&gt; r</span><span>
</span><span id="line-546"></span><span class="hs-comment">-- 'foldMapOf' ::                'Lens'' s a       -&gt; (a -&gt; r) -&gt; s -&gt; r</span><span>
</span><span id="line-547"></span><span class="hs-comment">-- 'foldMapOf' ::                'Iso'' s a        -&gt; (a -&gt; r) -&gt; s -&gt; r</span><span>
</span><span id="line-548"></span><span class="hs-comment">-- 'foldMapOf' :: 'Monoid' r    =&gt; 'Traversal'' s a  -&gt; (a -&gt; r) -&gt; s -&gt; r</span><span>
</span><span id="line-549"></span><span class="hs-comment">-- 'foldMapOf' :: 'Semigroup' r =&gt; 'Traversal1'' s a -&gt; (a -&gt; r) -&gt; s -&gt; r</span><span>
</span><span id="line-550"></span><span class="hs-comment">-- 'foldMapOf' :: 'Monoid' r    =&gt; 'Prism'' s a      -&gt; (a -&gt; r) -&gt; s -&gt; r</span><span>
</span><span id="line-551"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-552"></span><span class="hs-comment">--</span><span>
</span><span id="line-553"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-554"></span><span class="hs-comment">-- 'foldMapOf' :: 'Getting' r s a -&gt; (a -&gt; r) -&gt; s -&gt; r</span><span>
</span><span id="line-555"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-556"></span><span id="local-6989586621679452530"><span id="local-6989586621679452531"><span id="local-6989586621679452532"><span class="annot"><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-type">foldMapOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452532"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452531"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452530"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452530"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452532"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452531"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452532"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-557"></span><span id="foldMapOf"><span class="annot"><span class="annottext">foldMapOf :: Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var hs-var">foldMapOf</span></a></span></span><span> </span><span id="local-6989586621679451763"><span class="annot"><span class="annottext">l :: Getting r s a
</span><a href="#local-6989586621679451763"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451762"><span class="annot"><span class="annottext">f :: a -&gt; r
</span><a href="#local-6989586621679451762"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Const r s -&gt; r
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const r s -&gt; r) -&gt; (s -&gt; Const r s) -&gt; s -&gt; r
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting r s a
</span><a href="#local-6989586621679451763"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; Const r a
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Const r a) -&gt; (a -&gt; r) -&gt; a -&gt; Const r a
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679451762"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-558"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-pragma hs-type">foldMapOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-559"></span><span>
</span><span id="line-560"></span><span class="hs-comment">-- | Combine the elements of a structure viewed through a 'Lens', 'Getter',</span><span>
</span><span id="line-561"></span><span class="hs-comment">-- 'Fold' or 'Traversal' using a monoid.</span><span>
</span><span id="line-562"></span><span class="hs-comment">--</span><span>
</span><span id="line-563"></span><span class="hs-comment">-- &gt;&gt;&gt; foldOf (folded.folded) [[Sum 1,Sum 4],[Sum 8, Sum 8],[Sum 21]]</span><span>
</span><span id="line-564"></span><span class="hs-comment">-- Sum {getSum = 42}</span><span>
</span><span id="line-565"></span><span class="hs-comment">--</span><span>
</span><span id="line-566"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-567"></span><span class="hs-comment">-- 'Data.Foldable.fold' = 'foldOf' 'folded'</span><span>
</span><span id="line-568"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-569"></span><span class="hs-comment">--</span><span>
</span><span id="line-570"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-571"></span><span class="hs-comment">-- 'foldOf' &#8801; 'view'</span><span>
</span><span id="line-572"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-573"></span><span class="hs-comment">--</span><span>
</span><span id="line-574"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-575"></span><span class="hs-comment">-- 'foldOf' ::             'Getter' s m     -&gt; s -&gt; m</span><span>
</span><span id="line-576"></span><span class="hs-comment">-- 'foldOf' :: 'Monoid' m =&gt; 'Fold' s m       -&gt; s -&gt; m</span><span>
</span><span id="line-577"></span><span class="hs-comment">-- 'foldOf' ::             'Lens'' s m      -&gt; s -&gt; m</span><span>
</span><span id="line-578"></span><span class="hs-comment">-- 'foldOf' ::             'Iso'' s m       -&gt; s -&gt; m</span><span>
</span><span id="line-579"></span><span class="hs-comment">-- 'foldOf' :: 'Monoid' m =&gt; 'Traversal'' s m -&gt; s -&gt; m</span><span>
</span><span id="line-580"></span><span class="hs-comment">-- 'foldOf' :: 'Monoid' m =&gt; 'Prism'' s m     -&gt; s -&gt; m</span><span>
</span><span id="line-581"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-582"></span><span id="local-6989586621679451757"><span id="local-6989586621679451758"><span class="annot"><a href="Control.Lens.Fold.html#foldOf"><span class="hs-identifier hs-type">foldOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451758"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451757"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451758"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451757"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451758"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-583"></span><span id="foldOf"><span class="annot"><span class="annottext">foldOf :: Getting a s a -&gt; s -&gt; a
</span><a href="Control.Lens.Fold.html#foldOf"><span class="hs-identifier hs-var hs-var">foldOf</span></a></span></span><span> </span><span id="local-6989586621679451756"><span class="annot"><span class="annottext">l :: Getting a s a
</span><a href="#local-6989586621679451756"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Const a s -&gt; a
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const a s -&gt; a) -&gt; (s -&gt; Const a s) -&gt; s -&gt; a
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting a s a
</span><a href="#local-6989586621679451756"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Const a a
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span>
</span><span id="line-584"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldOf"><span class="hs-pragma hs-type">foldOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-585"></span><span>
</span><span id="line-586"></span><span class="hs-comment">-- | Right-associative fold of parts of a structure that are viewed through a 'Lens', 'Getter', 'Fold' or 'Traversal'.</span><span>
</span><span id="line-587"></span><span class="hs-comment">--</span><span>
</span><span id="line-588"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-589"></span><span class="hs-comment">-- 'Data.Foldable.foldr' &#8801; 'foldrOf' 'folded'</span><span>
</span><span id="line-590"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-591"></span><span class="hs-comment">--</span><span>
</span><span id="line-592"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-593"></span><span class="hs-comment">-- 'foldrOf' :: 'Getter' s a     -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-594"></span><span class="hs-comment">-- 'foldrOf' :: 'Fold' s a       -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-595"></span><span class="hs-comment">-- 'foldrOf' :: 'Lens'' s a      -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-596"></span><span class="hs-comment">-- 'foldrOf' :: 'Iso'' s a       -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-597"></span><span class="hs-comment">-- 'foldrOf' :: 'Traversal'' s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-598"></span><span class="hs-comment">-- 'foldrOf' :: 'Prism'' s a     -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-599"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-600"></span><span class="hs-comment">--</span><span>
</span><span id="line-601"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-602"></span><span class="hs-comment">-- 'ifoldrOf' l &#8801; 'foldrOf' l '.' 'Indexed'</span><span>
</span><span id="line-603"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-604"></span><span class="hs-comment">--</span><span>
</span><span id="line-605"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-606"></span><span class="hs-comment">-- 'foldrOf' :: 'Getting' ('Endo' r) s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-607"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-608"></span><span id="local-6989586621679452518"><span id="local-6989586621679452519"><span id="local-6989586621679452520"><span class="annot"><a href="Control.Lens.Fold.html#foldrOf"><span class="hs-identifier hs-type">foldrOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679452520"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452519"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452518"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452518"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452520"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452520"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452520"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452519"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452520"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-609"></span><span id="foldrOf"><span class="annot"><span class="annottext">foldrOf :: Getting (Endo r) s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldrOf"><span class="hs-identifier hs-var hs-var">foldrOf</span></a></span></span><span> </span><span id="local-6989586621679451755"><span class="annot"><span class="annottext">l :: Getting (Endo r) s a
</span><a href="#local-6989586621679451755"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451754"><span class="annot"><span class="annottext">f :: a -&gt; r -&gt; r
</span><a href="#local-6989586621679451754"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451753"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679451753"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Endo r -&gt; r -&gt; r) -&gt; r -&gt; Endo r -&gt; r
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Endo r -&gt; r -&gt; r
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451753"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">(Endo r -&gt; r) -&gt; (s -&gt; Endo r) -&gt; s -&gt; r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Endo r) s a -&gt; (a -&gt; Endo r) -&gt; s -&gt; Endo r
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo r) s a
</span><a href="#local-6989586621679451755"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; Endo r
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((r -&gt; r) -&gt; Endo r) -&gt; (a -&gt; r -&gt; r) -&gt; a -&gt; Endo r
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; r -&gt; r
</span><a href="#local-6989586621679451754"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-610"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldrOf"><span class="hs-pragma hs-type">foldrOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-611"></span><span>
</span><span id="line-612"></span><span class="hs-comment">-- | Left-associative fold of the parts of a structure that are viewed through a 'Lens', 'Getter', 'Fold' or 'Traversal'.</span><span>
</span><span id="line-613"></span><span class="hs-comment">--</span><span>
</span><span id="line-614"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-615"></span><span class="hs-comment">-- 'Data.Foldable.foldl' &#8801; 'foldlOf' 'folded'</span><span>
</span><span id="line-616"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-617"></span><span class="hs-comment">--</span><span>
</span><span id="line-618"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-619"></span><span class="hs-comment">-- 'foldlOf' :: 'Getter' s a     -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-620"></span><span class="hs-comment">-- 'foldlOf' :: 'Fold' s a       -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-621"></span><span class="hs-comment">-- 'foldlOf' :: 'Lens'' s a      -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-622"></span><span class="hs-comment">-- 'foldlOf' :: 'Iso'' s a       -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-623"></span><span class="hs-comment">-- 'foldlOf' :: 'Traversal'' s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-624"></span><span class="hs-comment">-- 'foldlOf' :: 'Prism'' s a     -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-625"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-626"></span><span id="local-6989586621679452323"><span id="local-6989586621679452324"><span id="local-6989586621679452325"><span class="annot"><a href="Control.Lens.Fold.html#foldlOf"><span class="hs-identifier hs-type">foldlOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dual</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679452325"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452324"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452323"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452325"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452323"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452325"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452325"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452324"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452325"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-627"></span><span id="foldlOf"><span class="annot"><span class="annottext">foldlOf :: Getting (Dual (Endo r)) s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldlOf"><span class="hs-identifier hs-var hs-var">foldlOf</span></a></span></span><span> </span><span id="local-6989586621679451750"><span class="annot"><span class="annottext">l :: Getting (Dual (Endo r)) s a
</span><a href="#local-6989586621679451750"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451749"><span class="annot"><span class="annottext">f :: r -&gt; a -&gt; r
</span><a href="#local-6989586621679451749"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451748"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679451748"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Endo r -&gt; r -&gt; r) -&gt; r -&gt; Endo r -&gt; r
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Endo r -&gt; r -&gt; r
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451748"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">(Endo r -&gt; r) -&gt; (Dual (Endo r) -&gt; Endo r) -&gt; Dual (Endo r) -&gt; r
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible b a) =&gt;
p b c -&gt; q a b -&gt; p a c
</span><span class="hs-operator hs-var">.#</span></span><span> </span><span class="annot"><span class="annottext">Dual (Endo r) -&gt; Endo r
forall a. Dual a -&gt; a
</span><span class="hs-identifier hs-var hs-var">getDual</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Dual (Endo r) -&gt; r) -&gt; (s -&gt; Dual (Endo r)) -&gt; s -&gt; r
forall (p :: * -&gt; * -&gt; *) b c a.
Profunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">`rmap`</span></span><span> </span><span class="annot"><span class="annottext">Getting (Dual (Endo r)) s a
-&gt; (a -&gt; Dual (Endo r)) -&gt; s -&gt; Dual (Endo r)
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Dual (Endo r)) s a
</span><a href="#local-6989586621679451750"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo r -&gt; Dual (Endo r)
forall a. a -&gt; Dual a
</span><span class="hs-identifier hs-var">Dual</span></span><span> </span><span class="annot"><span class="annottext">(Endo r -&gt; Dual (Endo r)) -&gt; (a -&gt; Endo r) -&gt; a -&gt; Dual (Endo r)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; Endo r
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((r -&gt; r) -&gt; Endo r) -&gt; (a -&gt; r -&gt; r) -&gt; a -&gt; Endo r
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; a -&gt; r) -&gt; a -&gt; r -&gt; r
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a -&gt; r
</span><a href="#local-6989586621679451749"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-628"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldlOf"><span class="hs-pragma hs-type">foldlOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-629"></span><span>
</span><span id="line-630"></span><span class="hs-comment">-- | Extract a list of the targets of a 'Fold'. See also ('^..').</span><span>
</span><span id="line-631"></span><span class="hs-comment">--</span><span>
</span><span id="line-632"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-633"></span><span class="hs-comment">-- 'Data.Foldable.toList' &#8801; 'toListOf' 'folded'</span><span>
</span><span id="line-634"></span><span class="hs-comment">-- ('^..') &#8801; 'flip' 'toListOf'</span><span>
</span><span id="line-635"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-636"></span><span>
</span><span id="line-637"></span><span class="hs-comment">-- &gt;&gt;&gt; toListOf both (&quot;hello&quot;,&quot;world&quot;)</span><span>
</span><span id="line-638"></span><span class="hs-comment">-- [&quot;hello&quot;,&quot;world&quot;]</span><span>
</span><span id="line-639"></span><span class="hs-comment">--</span><span>
</span><span id="line-640"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-641"></span><span class="hs-comment">-- 'toListOf' :: 'Getter' s a     -&gt; s -&gt; [a]</span><span>
</span><span id="line-642"></span><span class="hs-comment">-- 'toListOf' :: 'Fold' s a       -&gt; s -&gt; [a]</span><span>
</span><span id="line-643"></span><span class="hs-comment">-- 'toListOf' :: 'Lens'' s a      -&gt; s -&gt; [a]</span><span>
</span><span id="line-644"></span><span class="hs-comment">-- 'toListOf' :: 'Iso'' s a       -&gt; s -&gt; [a]</span><span>
</span><span id="line-645"></span><span class="hs-comment">-- 'toListOf' :: 'Traversal'' s a -&gt; s -&gt; [a]</span><span>
</span><span id="line-646"></span><span class="hs-comment">-- 'toListOf' :: 'Prism'' s a     -&gt; s -&gt; [a]</span><span>
</span><span id="line-647"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-648"></span><span id="local-6989586621679452508"><span id="local-6989586621679452509"><span class="annot"><a href="Control.Lens.Fold.html#toListOf"><span class="hs-identifier hs-type">toListOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679452509"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452508"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452509"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452508"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679452509"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-649"></span><span id="toListOf"><span class="annot"><span class="annottext">toListOf :: Getting (Endo [a]) s a -&gt; s -&gt; [a]
</span><a href="Control.Lens.Fold.html#toListOf"><span class="hs-identifier hs-var hs-var">toListOf</span></a></span></span><span> </span><span id="local-6989586621679451745"><span class="annot"><span class="annottext">l :: Getting (Endo [a]) s a
</span><a href="#local-6989586621679451745"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo [a]) s a -&gt; (a -&gt; [a] -&gt; [a]) -&gt; [a] -&gt; s -&gt; [a]
forall r s a. Getting (Endo r) s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldrOf"><span class="hs-identifier hs-var">foldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo [a]) s a
</span><a href="#local-6989586621679451745"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-650"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#toListOf"><span class="hs-pragma hs-type">toListOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-651"></span><span>
</span><span id="line-652"></span><span class="hs-comment">-- | Extract a 'NonEmpty' of the targets of 'Fold1'.</span><span>
</span><span id="line-653"></span><span class="hs-comment">--</span><span>
</span><span id="line-654"></span><span class="hs-comment">-- &gt;&gt;&gt; toNonEmptyOf both1 (&quot;hello&quot;, &quot;world&quot;)</span><span>
</span><span id="line-655"></span><span class="hs-comment">-- &quot;hello&quot; :| [&quot;world&quot;]</span><span>
</span><span id="line-656"></span><span class="hs-comment">--</span><span>
</span><span id="line-657"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-658"></span><span class="hs-comment">-- 'toNonEmptyOf' :: 'Getter' s a      -&gt; s -&gt; NonEmpty a</span><span>
</span><span id="line-659"></span><span class="hs-comment">-- 'toNonEmptyOf' :: 'Fold1' s a       -&gt; s -&gt; NonEmpty a</span><span>
</span><span id="line-660"></span><span class="hs-comment">-- 'toNonEmptyOf' :: 'Lens'' s a       -&gt; s -&gt; NonEmpty a</span><span>
</span><span id="line-661"></span><span class="hs-comment">-- 'toNonEmptyOf' :: 'Iso'' s a        -&gt; s -&gt; NonEmpty a</span><span>
</span><span id="line-662"></span><span class="hs-comment">-- 'toNonEmptyOf' :: 'Traversal1'' s a -&gt; s -&gt; NonEmpty a</span><span>
</span><span id="line-663"></span><span class="hs-comment">-- 'toNonEmptyOf' :: 'Prism'' s a      -&gt; s -&gt; NonEmpty a</span><span>
</span><span id="line-664"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-665"></span><span id="local-6989586621679451743"><span id="local-6989586621679451744"><span class="annot"><a href="Control.Lens.Fold.html#toNonEmptyOf"><span class="hs-identifier hs-type">toNonEmptyOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#NonEmptyDList"><span class="hs-identifier hs-type">NonEmptyDList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451744"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451743"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451744"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451743"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="#local-6989586621679451744"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-666"></span><span id="toNonEmptyOf"><span class="annot"><span class="annottext">toNonEmptyOf :: Getting (NonEmptyDList a) s a -&gt; s -&gt; NonEmpty a
</span><a href="Control.Lens.Fold.html#toNonEmptyOf"><span class="hs-identifier hs-var hs-var">toNonEmptyOf</span></a></span></span><span> </span><span id="local-6989586621679451742"><span class="annot"><span class="annottext">l :: Getting (NonEmptyDList a) s a
</span><a href="#local-6989586621679451742"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NonEmptyDList a -&gt; [a] -&gt; NonEmpty a)
-&gt; [a] -&gt; NonEmptyDList a -&gt; NonEmpty a
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">NonEmptyDList a -&gt; [a] -&gt; NonEmpty a
forall a. NonEmptyDList a -&gt; [a] -&gt; NonEmpty a
</span><a href="Control.Lens.Internal.Fold.html#getNonEmptyDList"><span class="hs-identifier hs-var hs-var">getNonEmptyDList</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(NonEmptyDList a -&gt; NonEmpty a)
-&gt; (s -&gt; NonEmptyDList a) -&gt; s -&gt; NonEmpty a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting (NonEmptyDList a) s a
-&gt; (a -&gt; NonEmptyDList a) -&gt; s -&gt; NonEmptyDList a
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (NonEmptyDList a) s a
</span><a href="#local-6989586621679451742"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([a] -&gt; NonEmpty a) -&gt; NonEmptyDList a
forall a. ([a] -&gt; NonEmpty a) -&gt; NonEmptyDList a
</span><a href="Control.Lens.Internal.Fold.html#NonEmptyDList"><span class="hs-identifier hs-var">NonEmptyDList</span></a></span><span> </span><span class="annot"><span class="annottext">(([a] -&gt; NonEmpty a) -&gt; NonEmptyDList a)
-&gt; (a -&gt; [a] -&gt; NonEmpty a) -&gt; a -&gt; NonEmptyDList a
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; NonEmpty a
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><span class="hs-operator hs-var">(:|)</span></span><span class="hs-special">)</span><span>
</span><span id="line-667"></span><span>
</span><span id="line-668"></span><span class="hs-comment">-- | A convenient infix (flipped) version of 'toListOf'.</span><span>
</span><span id="line-669"></span><span class="hs-comment">--</span><span>
</span><span id="line-670"></span><span class="hs-comment">-- &gt;&gt;&gt; [[1,2],[3]]^..id</span><span>
</span><span id="line-671"></span><span class="hs-comment">-- [[[1,2],[3]]]</span><span>
</span><span id="line-672"></span><span class="hs-comment">-- &gt;&gt;&gt; [[1,2],[3]]^..traverse</span><span>
</span><span id="line-673"></span><span class="hs-comment">-- [[1,2],[3]]</span><span>
</span><span id="line-674"></span><span class="hs-comment">-- &gt;&gt;&gt; [[1,2],[3]]^..traverse.traverse</span><span>
</span><span id="line-675"></span><span class="hs-comment">-- [1,2,3]</span><span>
</span><span id="line-676"></span><span class="hs-comment">--</span><span>
</span><span id="line-677"></span><span class="hs-comment">-- &gt;&gt;&gt; (1,2)^..both</span><span>
</span><span id="line-678"></span><span class="hs-comment">-- [1,2]</span><span>
</span><span id="line-679"></span><span class="hs-comment">--</span><span>
</span><span id="line-680"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-681"></span><span class="hs-comment">-- 'Data.Foldable.toList' xs &#8801; xs '^..' 'folded'</span><span>
</span><span id="line-682"></span><span class="hs-comment">-- ('^..') &#8801; 'flip' 'toListOf'</span><span>
</span><span id="line-683"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-684"></span><span class="hs-comment">--</span><span>
</span><span id="line-685"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-686"></span><span class="hs-comment">-- ('^..') :: s -&gt; 'Getter' s a     -&gt; [a]</span><span>
</span><span id="line-687"></span><span class="hs-comment">-- ('^..') :: s -&gt; 'Fold' s a       -&gt; [a]</span><span>
</span><span id="line-688"></span><span class="hs-comment">-- ('^..') :: s -&gt; 'Lens'' s a      -&gt; [a]</span><span>
</span><span id="line-689"></span><span class="hs-comment">-- ('^..') :: s -&gt; 'Iso'' s a       -&gt; [a]</span><span>
</span><span id="line-690"></span><span class="hs-comment">-- ('^..') :: s -&gt; 'Traversal'' s a -&gt; [a]</span><span>
</span><span id="line-691"></span><span class="hs-comment">-- ('^..') :: s -&gt; 'Prism'' s a     -&gt; [a]</span><span>
</span><span id="line-692"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-693"></span><span id="local-6989586621679451737"><span id="local-6989586621679451738"><span class="annot"><a href="Control.Lens.Fold.html#%5E.."><span class="hs-operator hs-type">(^..)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679451738"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679451737"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451738"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451737"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679451737"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-694"></span><span id="local-6989586621679451736"><span class="annot"><span class="annottext">s :: s
</span><a href="#local-6989586621679451736"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="%5E.."><span class="annot"><span class="annottext">^.. :: s -&gt; Getting (Endo [a]) s a -&gt; [a]
</span><a href="Control.Lens.Fold.html#%5E.."><span class="hs-operator hs-var hs-var">^..</span></a></span></span><span> </span><span id="local-6989586621679451735"><span class="annot"><span class="annottext">l :: Getting (Endo [a]) s a
</span><a href="#local-6989586621679451735"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo [a]) s a -&gt; s -&gt; [a]
forall a s. Getting (Endo [a]) s a -&gt; s -&gt; [a]
</span><a href="Control.Lens.Fold.html#toListOf"><span class="hs-identifier hs-var">toListOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo [a]) s a
</span><a href="#local-6989586621679451735"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451736"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-695"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">^..</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-696"></span><span>
</span><span id="line-697"></span><span class="hs-comment">-- | Returns 'True' if every target of a 'Fold' is 'True'.</span><span>
</span><span id="line-698"></span><span class="hs-comment">--</span><span>
</span><span id="line-699"></span><span class="hs-comment">-- &gt;&gt;&gt; andOf both (True,False)</span><span>
</span><span id="line-700"></span><span class="hs-comment">-- False</span><span>
</span><span id="line-701"></span><span class="hs-comment">-- &gt;&gt;&gt; andOf both (True,True)</span><span>
</span><span id="line-702"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-703"></span><span class="hs-comment">--</span><span>
</span><span id="line-704"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-705"></span><span class="hs-comment">-- 'Data.Foldable.and' &#8801; 'andOf' 'folded'</span><span>
</span><span id="line-706"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-707"></span><span class="hs-comment">--</span><span>
</span><span id="line-708"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-709"></span><span class="hs-comment">-- 'andOf' :: 'Getter' s 'Bool'     -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-710"></span><span class="hs-comment">-- 'andOf' :: 'Fold' s 'Bool'       -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-711"></span><span class="hs-comment">-- 'andOf' :: 'Lens'' s 'Bool'      -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-712"></span><span class="hs-comment">-- 'andOf' :: 'Iso'' s 'Bool'       -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-713"></span><span class="hs-comment">-- 'andOf' :: 'Traversal'' s 'Bool' -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-714"></span><span class="hs-comment">-- 'andOf' :: 'Prism'' s 'Bool'     -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-715"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-716"></span><span id="local-6989586621679451734"><span class="annot"><a href="Control.Lens.Fold.html#andOf"><span class="hs-identifier hs-type">andOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">All</span></span><span> </span><span class="annot"><a href="#local-6989586621679451734"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451734"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-717"></span><span id="andOf"><span class="annot"><span class="annottext">andOf :: Getting All s Bool -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#andOf"><span class="hs-identifier hs-var hs-var">andOf</span></a></span></span><span> </span><span id="local-6989586621679451733"><span class="annot"><span class="annottext">l :: Getting All s Bool
</span><a href="#local-6989586621679451733"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">All -&gt; Bool
</span><span class="hs-identifier hs-var hs-var">getAll</span></span><span> </span><span class="annot"><span class="annottext">(All -&gt; Bool) -&gt; (s -&gt; All) -&gt; s -&gt; Bool
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting All s Bool -&gt; (Bool -&gt; All) -&gt; s -&gt; All
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting All s Bool
</span><a href="#local-6989586621679451733"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; All
</span><span class="hs-identifier hs-var">All</span></span><span>
</span><span id="line-718"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#andOf"><span class="hs-pragma hs-type">andOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-719"></span><span>
</span><span id="line-720"></span><span class="hs-comment">-- | Returns 'True' if any target of a 'Fold' is 'True'.</span><span>
</span><span id="line-721"></span><span class="hs-comment">--</span><span>
</span><span id="line-722"></span><span class="hs-comment">-- &gt;&gt;&gt; orOf both (True,False)</span><span>
</span><span id="line-723"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-724"></span><span class="hs-comment">-- &gt;&gt;&gt; orOf both (False,False)</span><span>
</span><span id="line-725"></span><span class="hs-comment">-- False</span><span>
</span><span id="line-726"></span><span class="hs-comment">--</span><span>
</span><span id="line-727"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-728"></span><span class="hs-comment">-- 'Data.Foldable.or' &#8801; 'orOf' 'folded'</span><span>
</span><span id="line-729"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-730"></span><span class="hs-comment">--</span><span>
</span><span id="line-731"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-732"></span><span class="hs-comment">-- 'orOf' :: 'Getter' s 'Bool'     -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-733"></span><span class="hs-comment">-- 'orOf' :: 'Fold' s 'Bool'       -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-734"></span><span class="hs-comment">-- 'orOf' :: 'Lens'' s 'Bool'      -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-735"></span><span class="hs-comment">-- 'orOf' :: 'Iso'' s 'Bool'       -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-736"></span><span class="hs-comment">-- 'orOf' :: 'Traversal'' s 'Bool' -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-737"></span><span class="hs-comment">-- 'orOf' :: 'Prism'' s 'Bool'     -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-738"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-739"></span><span id="local-6989586621679451730"><span class="annot"><a href="Control.Lens.Fold.html#orOf"><span class="hs-identifier hs-type">orOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Any</span></span><span> </span><span class="annot"><a href="#local-6989586621679451730"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451730"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-740"></span><span id="orOf"><span class="annot"><span class="annottext">orOf :: Getting Any s Bool -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#orOf"><span class="hs-identifier hs-var hs-var">orOf</span></a></span></span><span> </span><span id="local-6989586621679451729"><span class="annot"><span class="annottext">l :: Getting Any s Bool
</span><a href="#local-6989586621679451729"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Any -&gt; Bool
</span><span class="hs-identifier hs-var hs-var">getAny</span></span><span> </span><span class="annot"><span class="annottext">(Any -&gt; Bool) -&gt; (s -&gt; Any) -&gt; s -&gt; Bool
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting Any s Bool -&gt; (Bool -&gt; Any) -&gt; s -&gt; Any
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting Any s Bool
</span><a href="#local-6989586621679451729"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Any
</span><span class="hs-identifier hs-var">Any</span></span><span>
</span><span id="line-741"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#orOf"><span class="hs-pragma hs-type">orOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-742"></span><span>
</span><span id="line-743"></span><span class="hs-comment">-- | Returns 'True' if any target of a 'Fold' satisfies a predicate.</span><span>
</span><span id="line-744"></span><span class="hs-comment">--</span><span>
</span><span id="line-745"></span><span class="hs-comment">-- &gt;&gt;&gt; anyOf both (=='x') ('x','y')</span><span>
</span><span id="line-746"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-747"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Data.Lens</span><span>
</span><span id="line-748"></span><span class="hs-comment">-- &gt;&gt;&gt; anyOf biplate (== &quot;world&quot;) (((),2::Int),&quot;hello&quot;,(&quot;world&quot;,11::Int))</span><span>
</span><span id="line-749"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-750"></span><span class="hs-comment">--</span><span>
</span><span id="line-751"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-752"></span><span class="hs-comment">-- 'Data.Foldable.any' &#8801; 'anyOf' 'folded'</span><span>
</span><span id="line-753"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-754"></span><span class="hs-comment">--</span><span>
</span><span id="line-755"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-756"></span><span class="hs-comment">-- 'ianyOf' l &#8801; 'anyOf' l '.' 'Indexed'</span><span>
</span><span id="line-757"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-758"></span><span class="hs-comment">--</span><span>
</span><span id="line-759"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-760"></span><span class="hs-comment">-- 'anyOf' :: 'Getter' s a     -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-761"></span><span class="hs-comment">-- 'anyOf' :: 'Fold' s a       -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-762"></span><span class="hs-comment">-- 'anyOf' :: 'Lens'' s a      -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-763"></span><span class="hs-comment">-- 'anyOf' :: 'Iso'' s a       -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-764"></span><span class="hs-comment">-- 'anyOf' :: 'Traversal'' s a -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-765"></span><span class="hs-comment">-- 'anyOf' :: 'Prism'' s a     -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-766"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-767"></span><span id="local-6989586621679452496"><span id="local-6989586621679452497"><span class="annot"><a href="Control.Lens.Fold.html#anyOf"><span class="hs-identifier hs-type">anyOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Any</span></span><span> </span><span class="annot"><a href="#local-6989586621679452497"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452496"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452496"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452497"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-768"></span><span id="anyOf"><span class="annot"><span class="annottext">anyOf :: Getting Any s a -&gt; (a -&gt; Bool) -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#anyOf"><span class="hs-identifier hs-var hs-var">anyOf</span></a></span></span><span> </span><span id="local-6989586621679451726"><span class="annot"><span class="annottext">l :: Getting Any s a
</span><a href="#local-6989586621679451726"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451725"><span class="annot"><span class="annottext">f :: a -&gt; Bool
</span><a href="#local-6989586621679451725"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Any -&gt; Bool
</span><span class="hs-identifier hs-var hs-var">getAny</span></span><span> </span><span class="annot"><span class="annottext">(Any -&gt; Bool) -&gt; (s -&gt; Any) -&gt; s -&gt; Bool
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting Any s a -&gt; (a -&gt; Any) -&gt; s -&gt; Any
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting Any s a
</span><a href="#local-6989586621679451726"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Any
</span><span class="hs-identifier hs-var">Any</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Any) -&gt; (a -&gt; Bool) -&gt; a -&gt; Any
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679451725"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-769"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#anyOf"><span class="hs-pragma hs-type">anyOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-770"></span><span>
</span><span id="line-771"></span><span class="hs-comment">-- | Returns 'True' if every target of a 'Fold' satisfies a predicate.</span><span>
</span><span id="line-772"></span><span class="hs-comment">--</span><span>
</span><span id="line-773"></span><span class="hs-comment">-- &gt;&gt;&gt; allOf both (&gt;=3) (4,5)</span><span>
</span><span id="line-774"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-775"></span><span class="hs-comment">-- &gt;&gt;&gt; allOf folded (&gt;=2) [1..10]</span><span>
</span><span id="line-776"></span><span class="hs-comment">-- False</span><span>
</span><span id="line-777"></span><span class="hs-comment">--</span><span>
</span><span id="line-778"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-779"></span><span class="hs-comment">-- 'Data.Foldable.all' &#8801; 'allOf' 'folded'</span><span>
</span><span id="line-780"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-781"></span><span class="hs-comment">--</span><span>
</span><span id="line-782"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-783"></span><span class="hs-comment">-- 'iallOf' l = 'allOf' l '.' 'Indexed'</span><span>
</span><span id="line-784"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-785"></span><span class="hs-comment">--</span><span>
</span><span id="line-786"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-787"></span><span class="hs-comment">-- 'allOf' :: 'Getter' s a     -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-788"></span><span class="hs-comment">-- 'allOf' :: 'Fold' s a       -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-789"></span><span class="hs-comment">-- 'allOf' :: 'Lens'' s a      -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-790"></span><span class="hs-comment">-- 'allOf' :: 'Iso'' s a       -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-791"></span><span class="hs-comment">-- 'allOf' :: 'Traversal'' s a -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-792"></span><span class="hs-comment">-- 'allOf' :: 'Prism'' s a     -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-793"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-794"></span><span id="local-6989586621679452408"><span id="local-6989586621679452409"><span class="annot"><a href="Control.Lens.Fold.html#allOf"><span class="hs-identifier hs-type">allOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">All</span></span><span> </span><span class="annot"><a href="#local-6989586621679452409"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452408"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452408"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452409"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-795"></span><span id="allOf"><span class="annot"><span class="annottext">allOf :: Getting All s a -&gt; (a -&gt; Bool) -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#allOf"><span class="hs-identifier hs-var hs-var">allOf</span></a></span></span><span> </span><span id="local-6989586621679451724"><span class="annot"><span class="annottext">l :: Getting All s a
</span><a href="#local-6989586621679451724"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451723"><span class="annot"><span class="annottext">f :: a -&gt; Bool
</span><a href="#local-6989586621679451723"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">All -&gt; Bool
</span><span class="hs-identifier hs-var hs-var">getAll</span></span><span> </span><span class="annot"><span class="annottext">(All -&gt; Bool) -&gt; (s -&gt; All) -&gt; s -&gt; Bool
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting All s a -&gt; (a -&gt; All) -&gt; s -&gt; All
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting All s a
</span><a href="#local-6989586621679451724"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; All
</span><span class="hs-identifier hs-var">All</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; All) -&gt; (a -&gt; Bool) -&gt; a -&gt; All
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679451723"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-796"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#allOf"><span class="hs-pragma hs-type">allOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-797"></span><span>
</span><span id="line-798"></span><span class="hs-comment">-- | Returns 'True' only if no targets of a 'Fold' satisfy a predicate.</span><span>
</span><span id="line-799"></span><span class="hs-comment">--</span><span>
</span><span id="line-800"></span><span class="hs-comment">-- &gt;&gt;&gt; noneOf each (is _Nothing) (Just 3, Just 4, Just 5)</span><span>
</span><span id="line-801"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-802"></span><span class="hs-comment">-- &gt;&gt;&gt; noneOf (folded.folded) (&lt;10) [[13,99,20],[3,71,42]]</span><span>
</span><span id="line-803"></span><span class="hs-comment">-- False</span><span>
</span><span id="line-804"></span><span class="hs-comment">--</span><span>
</span><span id="line-805"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-806"></span><span class="hs-comment">-- 'inoneOf' l = 'noneOf' l '.' 'Indexed'</span><span>
</span><span id="line-807"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-808"></span><span class="hs-comment">--</span><span>
</span><span id="line-809"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-810"></span><span class="hs-comment">-- 'noneOf' :: 'Getter' s a     -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-811"></span><span class="hs-comment">-- 'noneOf' :: 'Fold' s a       -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-812"></span><span class="hs-comment">-- 'noneOf' :: 'Lens'' s a      -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-813"></span><span class="hs-comment">-- 'noneOf' :: 'Iso'' s a       -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-814"></span><span class="hs-comment">-- 'noneOf' :: 'Traversal'' s a -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-815"></span><span class="hs-comment">-- 'noneOf' :: 'Prism'' s a     -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-816"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-817"></span><span id="local-6989586621679451721"><span id="local-6989586621679451722"><span class="annot"><a href="Control.Lens.Fold.html#noneOf"><span class="hs-identifier hs-type">noneOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Any</span></span><span> </span><span class="annot"><a href="#local-6989586621679451722"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451721"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451721"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451722"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-818"></span><span id="noneOf"><span class="annot"><span class="annottext">noneOf :: Getting Any s a -&gt; (a -&gt; Bool) -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#noneOf"><span class="hs-identifier hs-var hs-var">noneOf</span></a></span></span><span> </span><span id="local-6989586621679451720"><span class="annot"><span class="annottext">l :: Getting Any s a
</span><a href="#local-6989586621679451720"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451719"><span class="annot"><span class="annottext">f :: a -&gt; Bool
</span><a href="#local-6989586621679451719"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (s -&gt; Bool) -&gt; s -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting Any s a -&gt; (a -&gt; Bool) -&gt; s -&gt; Bool
forall s a. Getting Any s a -&gt; (a -&gt; Bool) -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#anyOf"><span class="hs-identifier hs-var">anyOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting Any s a
</span><a href="#local-6989586621679451720"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679451719"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-819"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#noneOf"><span class="hs-pragma hs-type">noneOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-820"></span><span>
</span><span id="line-821"></span><span class="hs-comment">-- | Calculate the 'Product' of every number targeted by a 'Fold'.</span><span>
</span><span id="line-822"></span><span class="hs-comment">--</span><span>
</span><span id="line-823"></span><span class="hs-comment">-- &gt;&gt;&gt; productOf both (4,5)</span><span>
</span><span id="line-824"></span><span class="hs-comment">-- 20</span><span>
</span><span id="line-825"></span><span class="hs-comment">-- &gt;&gt;&gt; productOf folded [1,2,3,4,5]</span><span>
</span><span id="line-826"></span><span class="hs-comment">-- 120</span><span>
</span><span id="line-827"></span><span class="hs-comment">--</span><span>
</span><span id="line-828"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-829"></span><span class="hs-comment">-- 'Data.Foldable.product' &#8801; 'productOf' 'folded'</span><span>
</span><span id="line-830"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-831"></span><span class="hs-comment">--</span><span>
</span><span id="line-832"></span><span class="hs-comment">-- This operation may be more strict than you would expect. If you</span><span>
</span><span id="line-833"></span><span class="hs-comment">-- want a lazier version use @'ala' 'Product' '.' 'foldMapOf'@</span><span>
</span><span id="line-834"></span><span class="hs-comment">--</span><span>
</span><span id="line-835"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-836"></span><span class="hs-comment">-- 'productOf' :: 'Num' a =&gt; 'Getter' s a     -&gt; s -&gt; a</span><span>
</span><span id="line-837"></span><span class="hs-comment">-- 'productOf' :: 'Num' a =&gt; 'Fold' s a       -&gt; s -&gt; a</span><span>
</span><span id="line-838"></span><span class="hs-comment">-- 'productOf' :: 'Num' a =&gt; 'Lens'' s a      -&gt; s -&gt; a</span><span>
</span><span id="line-839"></span><span class="hs-comment">-- 'productOf' :: 'Num' a =&gt; 'Iso'' s a       -&gt; s -&gt; a</span><span>
</span><span id="line-840"></span><span class="hs-comment">-- 'productOf' :: 'Num' a =&gt; 'Traversal'' s a -&gt; s -&gt; a</span><span>
</span><span id="line-841"></span><span class="hs-comment">-- 'productOf' :: 'Num' a =&gt; 'Prism'' s a     -&gt; s -&gt; a</span><span>
</span><span id="line-842"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-843"></span><span id="local-6989586621679451716"><span id="local-6989586621679451717"><span class="annot"><a href="Control.Lens.Fold.html#productOf"><span class="hs-identifier hs-type">productOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679451717"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679451717"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451716"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451717"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451716"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451717"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-844"></span><span id="productOf"><span class="annot"><span class="annottext">productOf :: Getting (Endo (Endo a)) s a -&gt; s -&gt; a
</span><a href="Control.Lens.Fold.html#productOf"><span class="hs-identifier hs-var hs-var">productOf</span></a></span></span><span> </span><span id="local-6989586621679451715"><span class="annot"><span class="annottext">l :: Getting (Endo (Endo a)) s a
</span><a href="#local-6989586621679451715"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo a)) s a -&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; s -&gt; a
forall r s a.
Getting (Endo (Endo r)) s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldlOf%27"><span class="hs-identifier hs-var">foldlOf'</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo a)) s a
</span><a href="#local-6989586621679451715"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-845"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#productOf"><span class="hs-pragma hs-type">productOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-846"></span><span>
</span><span id="line-847"></span><span class="hs-comment">-- | Calculate the 'Sum' of every number targeted by a 'Fold'.</span><span>
</span><span id="line-848"></span><span class="hs-comment">--</span><span>
</span><span id="line-849"></span><span class="hs-comment">-- &gt;&gt;&gt; sumOf both (5,6)</span><span>
</span><span id="line-850"></span><span class="hs-comment">-- 11</span><span>
</span><span id="line-851"></span><span class="hs-comment">-- &gt;&gt;&gt; sumOf folded [1,2,3,4]</span><span>
</span><span id="line-852"></span><span class="hs-comment">-- 10</span><span>
</span><span id="line-853"></span><span class="hs-comment">-- &gt;&gt;&gt; sumOf (folded.both) [(1,2),(3,4)]</span><span>
</span><span id="line-854"></span><span class="hs-comment">-- 10</span><span>
</span><span id="line-855"></span><span class="hs-comment">-- &gt;&gt;&gt; import Data.Data.Lens</span><span>
</span><span id="line-856"></span><span class="hs-comment">-- &gt;&gt;&gt; sumOf biplate [(1::Int,[]),(2,[(3::Int,4::Int)])] :: Int</span><span>
</span><span id="line-857"></span><span class="hs-comment">-- 10</span><span>
</span><span id="line-858"></span><span class="hs-comment">--</span><span>
</span><span id="line-859"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-860"></span><span class="hs-comment">-- 'Data.Foldable.sum' &#8801; 'sumOf' 'folded'</span><span>
</span><span id="line-861"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-862"></span><span class="hs-comment">--</span><span>
</span><span id="line-863"></span><span class="hs-comment">-- This operation may be more strict than you would expect. If you</span><span>
</span><span id="line-864"></span><span class="hs-comment">-- want a lazier version use @'ala' 'Sum' '.' 'foldMapOf'@</span><span>
</span><span id="line-865"></span><span class="hs-comment">--</span><span>
</span><span id="line-866"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-867"></span><span class="hs-comment">-- 'sumOf' '_1' :: 'Num' a =&gt; (a, b) -&gt; a</span><span>
</span><span id="line-868"></span><span class="hs-comment">-- 'sumOf' ('folded' '.' 'Control.Lens.Tuple._1') :: ('Foldable' f, 'Num' a) =&gt; f (a, b) -&gt; a</span><span>
</span><span id="line-869"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-870"></span><span class="hs-comment">--</span><span>
</span><span id="line-871"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-872"></span><span class="hs-comment">-- 'sumOf' :: 'Num' a =&gt; 'Getter' s a     -&gt; s -&gt; a</span><span>
</span><span id="line-873"></span><span class="hs-comment">-- 'sumOf' :: 'Num' a =&gt; 'Fold' s a       -&gt; s -&gt; a</span><span>
</span><span id="line-874"></span><span class="hs-comment">-- 'sumOf' :: 'Num' a =&gt; 'Lens'' s a      -&gt; s -&gt; a</span><span>
</span><span id="line-875"></span><span class="hs-comment">-- 'sumOf' :: 'Num' a =&gt; 'Iso'' s a       -&gt; s -&gt; a</span><span>
</span><span id="line-876"></span><span class="hs-comment">-- 'sumOf' :: 'Num' a =&gt; 'Traversal'' s a -&gt; s -&gt; a</span><span>
</span><span id="line-877"></span><span class="hs-comment">-- 'sumOf' :: 'Num' a =&gt; 'Prism'' s a     -&gt; s -&gt; a</span><span>
</span><span id="line-878"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-879"></span><span id="local-6989586621679451712"><span id="local-6989586621679451713"><span class="annot"><a href="Control.Lens.Fold.html#sumOf"><span class="hs-identifier hs-type">sumOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621679451713"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679451713"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451712"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451713"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451712"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451713"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-880"></span><span id="sumOf"><span class="annot"><span class="annottext">sumOf :: Getting (Endo (Endo a)) s a -&gt; s -&gt; a
</span><a href="Control.Lens.Fold.html#sumOf"><span class="hs-identifier hs-var hs-var">sumOf</span></a></span></span><span> </span><span id="local-6989586621679451711"><span class="annot"><span class="annottext">l :: Getting (Endo (Endo a)) s a
</span><a href="#local-6989586621679451711"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo a)) s a -&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; s -&gt; a
forall r s a.
Getting (Endo (Endo r)) s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldlOf%27"><span class="hs-identifier hs-var">foldlOf'</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo a)) s a
</span><a href="#local-6989586621679451711"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-881"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#sumOf"><span class="hs-pragma hs-type">sumOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-882"></span><span>
</span><span id="line-883"></span><span class="hs-comment">-- | Traverse over all of the targets of a 'Fold' (or 'Getter'), computing an 'Applicative' (or 'Functor')-based answer,</span><span>
</span><span id="line-884"></span><span class="hs-comment">-- but unlike 'Control.Lens.Traversal.traverseOf' do not construct a new structure. 'traverseOf_' generalizes</span><span>
</span><span id="line-885"></span><span class="hs-comment">-- 'Data.Foldable.traverse_' to work over any 'Fold'.</span><span>
</span><span id="line-886"></span><span class="hs-comment">--</span><span>
</span><span id="line-887"></span><span class="hs-comment">-- When passed a 'Getter', 'traverseOf_' can work over any 'Functor', but when passed a 'Fold', 'traverseOf_' requires</span><span>
</span><span id="line-888"></span><span class="hs-comment">-- an 'Applicative'.</span><span>
</span><span id="line-889"></span><span class="hs-comment">--</span><span>
</span><span id="line-890"></span><span class="hs-comment">-- &gt;&gt;&gt; traverseOf_ both putStrLn (&quot;hello&quot;,&quot;world&quot;)</span><span>
</span><span id="line-891"></span><span class="hs-comment">-- hello</span><span>
</span><span id="line-892"></span><span class="hs-comment">-- world</span><span>
</span><span id="line-893"></span><span class="hs-comment">--</span><span>
</span><span id="line-894"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-895"></span><span class="hs-comment">-- 'Data.Foldable.traverse_' &#8801; 'traverseOf_' 'folded'</span><span>
</span><span id="line-896"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-897"></span><span class="hs-comment">--</span><span>
</span><span id="line-898"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-899"></span><span class="hs-comment">-- 'traverseOf_' '_2' :: 'Functor' f =&gt; (c -&gt; f r) -&gt; (d, c) -&gt; f ()</span><span>
</span><span id="line-900"></span><span class="hs-comment">-- 'traverseOf_' 'Control.Lens.Prism._Left' :: 'Applicative' f =&gt; (a -&gt; f b) -&gt; 'Either' a c -&gt; f ()</span><span>
</span><span id="line-901"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-902"></span><span class="hs-comment">--</span><span>
</span><span id="line-903"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-904"></span><span class="hs-comment">-- 'itraverseOf_' l &#8801; 'traverseOf_' l '.' 'Indexed'</span><span>
</span><span id="line-905"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-906"></span><span class="hs-comment">--</span><span>
</span><span id="line-907"></span><span class="hs-comment">-- The rather specific signature of 'traverseOf_' allows it to be used as if the signature was any of:</span><span>
</span><span id="line-908"></span><span class="hs-comment">--</span><span>
</span><span id="line-909"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-910"></span><span class="hs-comment">-- 'traverseOf_' :: 'Functor' f     =&gt; 'Getter' s a     -&gt; (a -&gt; f r) -&gt; s -&gt; f ()</span><span>
</span><span id="line-911"></span><span class="hs-comment">-- 'traverseOf_' :: 'Applicative' f =&gt; 'Fold' s a       -&gt; (a -&gt; f r) -&gt; s -&gt; f ()</span><span>
</span><span id="line-912"></span><span class="hs-comment">-- 'traverseOf_' :: 'Functor' f     =&gt; 'Lens'' s a      -&gt; (a -&gt; f r) -&gt; s -&gt; f ()</span><span>
</span><span id="line-913"></span><span class="hs-comment">-- 'traverseOf_' :: 'Functor' f     =&gt; 'Iso'' s a       -&gt; (a -&gt; f r) -&gt; s -&gt; f ()</span><span>
</span><span id="line-914"></span><span class="hs-comment">-- 'traverseOf_' :: 'Applicative' f =&gt; 'Traversal'' s a -&gt; (a -&gt; f r) -&gt; s -&gt; f ()</span><span>
</span><span id="line-915"></span><span class="hs-comment">-- 'traverseOf_' :: 'Applicative' f =&gt; 'Prism'' s a     -&gt; (a -&gt; f r) -&gt; s -&gt; f ()</span><span>
</span><span id="line-916"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-917"></span><span id="local-6989586621679452472"><span id="local-6989586621679452473"><span id="local-6989586621679452474"><span id="local-6989586621679452475"><span class="annot"><a href="Control.Lens.Fold.html#traverseOf_"><span class="hs-identifier hs-type">traverseOf_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679452475"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Traversed"><span class="hs-identifier hs-type">Traversed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452474"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452475"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452473"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452472"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452472"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452475"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452474"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452473"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452475"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-918"></span><span id="traverseOf_"><span class="annot"><span class="annottext">traverseOf_ :: Getting (Traversed r f) s a -&gt; (a -&gt; f r) -&gt; s -&gt; f ()
</span><a href="Control.Lens.Fold.html#traverseOf_"><span class="hs-identifier hs-var hs-var">traverseOf_</span></a></span></span><span> </span><span id="local-6989586621679451710"><span class="annot"><span class="annottext">l :: Getting (Traversed r f) s a
</span><a href="#local-6989586621679451710"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451709"><span class="annot"><span class="annottext">f :: a -&gt; f r
</span><a href="#local-6989586621679451709"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f r -&gt; f ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(f r -&gt; f ()) -&gt; (s -&gt; f r) -&gt; s -&gt; f ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Traversed r f -&gt; f r
forall a (f :: * -&gt; *). Traversed a f -&gt; f a
</span><a href="Control.Lens.Internal.Fold.html#getTraversed"><span class="hs-identifier hs-var hs-var">getTraversed</span></a></span><span> </span><span class="annot"><span class="annottext">(Traversed r f -&gt; f r) -&gt; (s -&gt; Traversed r f) -&gt; s -&gt; f r
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Traversed r f) s a
-&gt; (a -&gt; Traversed r f) -&gt; s -&gt; Traversed r f
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Traversed r f) s a
</span><a href="#local-6989586621679451710"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f r -&gt; Traversed r f
forall a (f :: * -&gt; *). f a -&gt; Traversed a f
</span><a href="Control.Lens.Internal.Fold.html#Traversed"><span class="hs-identifier hs-var">Traversed</span></a></span><span> </span><span class="annot"><span class="annottext">(f r -&gt; Traversed r f) -&gt; (a -&gt; f r) -&gt; a -&gt; Traversed r f
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f r
</span><a href="#local-6989586621679451709"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-919"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#traverseOf_"><span class="hs-pragma hs-type">traverseOf_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-920"></span><span>
</span><span id="line-921"></span><span class="hs-comment">-- | Traverse over all of the targets of a 'Fold' (or 'Getter'), computing an 'Applicative' (or 'Functor')-based answer,</span><span>
</span><span id="line-922"></span><span class="hs-comment">-- but unlike 'Control.Lens.Traversal.forOf' do not construct a new structure. 'forOf_' generalizes</span><span>
</span><span id="line-923"></span><span class="hs-comment">-- 'Data.Foldable.for_' to work over any 'Fold'.</span><span>
</span><span id="line-924"></span><span class="hs-comment">--</span><span>
</span><span id="line-925"></span><span class="hs-comment">-- When passed a 'Getter', 'forOf_' can work over any 'Functor', but when passed a 'Fold', 'forOf_' requires</span><span>
</span><span id="line-926"></span><span class="hs-comment">-- an 'Applicative'.</span><span>
</span><span id="line-927"></span><span class="hs-comment">--</span><span>
</span><span id="line-928"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-929"></span><span class="hs-comment">-- 'for_' &#8801; 'forOf_' 'folded'</span><span>
</span><span id="line-930"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-931"></span><span class="hs-comment">--</span><span>
</span><span id="line-932"></span><span class="hs-comment">-- &gt;&gt;&gt; forOf_ both (&quot;hello&quot;,&quot;world&quot;) putStrLn</span><span>
</span><span id="line-933"></span><span class="hs-comment">-- hello</span><span>
</span><span id="line-934"></span><span class="hs-comment">-- world</span><span>
</span><span id="line-935"></span><span class="hs-comment">--</span><span>
</span><span id="line-936"></span><span class="hs-comment">-- The rather specific signature of 'forOf_' allows it to be used as if the signature was any of:</span><span>
</span><span id="line-937"></span><span class="hs-comment">--</span><span>
</span><span id="line-938"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-939"></span><span class="hs-comment">-- 'iforOf_' l s &#8801; 'forOf_' l s '.' 'Indexed'</span><span>
</span><span id="line-940"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-941"></span><span class="hs-comment">--</span><span>
</span><span id="line-942"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-943"></span><span class="hs-comment">-- 'forOf_' :: 'Functor' f     =&gt; 'Getter' s a     -&gt; s -&gt; (a -&gt; f r) -&gt; f ()</span><span>
</span><span id="line-944"></span><span class="hs-comment">-- 'forOf_' :: 'Applicative' f =&gt; 'Fold' s a       -&gt; s -&gt; (a -&gt; f r) -&gt; f ()</span><span>
</span><span id="line-945"></span><span class="hs-comment">-- 'forOf_' :: 'Functor' f     =&gt; 'Lens'' s a      -&gt; s -&gt; (a -&gt; f r) -&gt; f ()</span><span>
</span><span id="line-946"></span><span class="hs-comment">-- 'forOf_' :: 'Functor' f     =&gt; 'Iso'' s a       -&gt; s -&gt; (a -&gt; f r) -&gt; f ()</span><span>
</span><span id="line-947"></span><span class="hs-comment">-- 'forOf_' :: 'Applicative' f =&gt; 'Traversal'' s a -&gt; s -&gt; (a -&gt; f r) -&gt; f ()</span><span>
</span><span id="line-948"></span><span class="hs-comment">-- 'forOf_' :: 'Applicative' f =&gt; 'Prism'' s a     -&gt; s -&gt; (a -&gt; f r) -&gt; f ()</span><span>
</span><span id="line-949"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-950"></span><span id="local-6989586621679451702"><span id="local-6989586621679451703"><span id="local-6989586621679451704"><span id="local-6989586621679451705"><span class="annot"><a href="Control.Lens.Fold.html#forOf_"><span class="hs-identifier hs-type">forOf_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679451705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Traversed"><span class="hs-identifier hs-type">Traversed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451704"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451705"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451703"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451702"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451703"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451702"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451704"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-951"></span><span id="forOf_"><span class="annot"><span class="annottext">forOf_ :: Getting (Traversed r f) s a -&gt; s -&gt; (a -&gt; f r) -&gt; f ()
</span><a href="Control.Lens.Fold.html#forOf_"><span class="hs-identifier hs-var hs-var">forOf_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a -&gt; f r) -&gt; s -&gt; f ()) -&gt; s -&gt; (a -&gt; f r) -&gt; f ()
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(((a -&gt; f r) -&gt; s -&gt; f ()) -&gt; s -&gt; (a -&gt; f r) -&gt; f ())
-&gt; (Getting (Traversed r f) s a -&gt; (a -&gt; f r) -&gt; s -&gt; f ())
-&gt; Getting (Traversed r f) s a
-&gt; s
-&gt; (a -&gt; f r)
-&gt; f ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Traversed r f) s a -&gt; (a -&gt; f r) -&gt; s -&gt; f ()
forall (f :: * -&gt; *) r s a.
Functor f =&gt;
Getting (Traversed r f) s a -&gt; (a -&gt; f r) -&gt; s -&gt; f ()
</span><a href="Control.Lens.Fold.html#traverseOf_"><span class="hs-identifier hs-var">traverseOf_</span></a></span><span>
</span><span id="line-952"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#forOf_"><span class="hs-pragma hs-type">forOf_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-953"></span><span>
</span><span id="line-954"></span><span class="hs-comment">-- | Evaluate each action in observed by a 'Fold' on a structure from left to right, ignoring the results.</span><span>
</span><span id="line-955"></span><span class="hs-comment">--</span><span>
</span><span id="line-956"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-957"></span><span class="hs-comment">-- 'sequenceA_' &#8801; 'sequenceAOf_' 'folded'</span><span>
</span><span id="line-958"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-959"></span><span class="hs-comment">--</span><span>
</span><span id="line-960"></span><span class="hs-comment">-- &gt;&gt;&gt; sequenceAOf_ both (putStrLn &quot;hello&quot;,putStrLn &quot;world&quot;)</span><span>
</span><span id="line-961"></span><span class="hs-comment">-- hello</span><span>
</span><span id="line-962"></span><span class="hs-comment">-- world</span><span>
</span><span id="line-963"></span><span class="hs-comment">--</span><span>
</span><span id="line-964"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-965"></span><span class="hs-comment">-- 'sequenceAOf_' :: 'Functor' f     =&gt; 'Getter' s (f a)     -&gt; s -&gt; f ()</span><span>
</span><span id="line-966"></span><span class="hs-comment">-- 'sequenceAOf_' :: 'Applicative' f =&gt; 'Fold' s (f a)       -&gt; s -&gt; f ()</span><span>
</span><span id="line-967"></span><span class="hs-comment">-- 'sequenceAOf_' :: 'Functor' f     =&gt; 'Lens'' s (f a)      -&gt; s -&gt; f ()</span><span>
</span><span id="line-968"></span><span class="hs-comment">-- 'sequenceAOf_' :: 'Functor' f     =&gt; 'Iso'' s (f a)       -&gt; s -&gt; f ()</span><span>
</span><span id="line-969"></span><span class="hs-comment">-- 'sequenceAOf_' :: 'Applicative' f =&gt; 'Traversal'' s (f a) -&gt; s -&gt; f ()</span><span>
</span><span id="line-970"></span><span class="hs-comment">-- 'sequenceAOf_' :: 'Applicative' f =&gt; 'Prism'' s (f a)     -&gt; s -&gt; f ()</span><span>
</span><span id="line-971"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-972"></span><span id="local-6989586621679451699"><span id="local-6989586621679451700"><span id="local-6989586621679451701"><span class="annot"><a href="Control.Lens.Fold.html#sequenceAOf_"><span class="hs-identifier hs-type">sequenceAOf_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679451701"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Traversed"><span class="hs-identifier hs-type">Traversed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451700"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451701"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451699"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451701"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451700"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451699"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451701"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-973"></span><span id="sequenceAOf_"><span class="annot"><span class="annottext">sequenceAOf_ :: Getting (Traversed a f) s (f a) -&gt; s -&gt; f ()
</span><a href="Control.Lens.Fold.html#sequenceAOf_"><span class="hs-identifier hs-var hs-var">sequenceAOf_</span></a></span></span><span> </span><span id="local-6989586621679451698"><span class="annot"><span class="annottext">l :: Getting (Traversed a f) s (f a)
</span><a href="#local-6989586621679451698"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; f ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(f a -&gt; f ()) -&gt; (s -&gt; f a) -&gt; s -&gt; f ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Traversed a f -&gt; f a
forall a (f :: * -&gt; *). Traversed a f -&gt; f a
</span><a href="Control.Lens.Internal.Fold.html#getTraversed"><span class="hs-identifier hs-var hs-var">getTraversed</span></a></span><span> </span><span class="annot"><span class="annottext">(Traversed a f -&gt; f a) -&gt; (s -&gt; Traversed a f) -&gt; s -&gt; f a
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Traversed a f) s (f a)
-&gt; (f a -&gt; Traversed a f) -&gt; s -&gt; Traversed a f
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Traversed a f) s (f a)
</span><a href="#local-6989586621679451698"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">f a -&gt; Traversed a f
forall a (f :: * -&gt; *). f a -&gt; Traversed a f
</span><a href="Control.Lens.Internal.Fold.html#Traversed"><span class="hs-identifier hs-var">Traversed</span></a></span><span>
</span><span id="line-974"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#sequenceAOf_"><span class="hs-pragma hs-type">sequenceAOf_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-975"></span><span>
</span><span id="line-976"></span><span class="hs-comment">-- | Traverse over all of the targets of a 'Fold1', computing an 'Apply' based answer.</span><span>
</span><span id="line-977"></span><span class="hs-comment">--</span><span>
</span><span id="line-978"></span><span class="hs-comment">-- As long as you have 'Applicative' or 'Functor' effect you are better using 'traverseOf_'.</span><span>
</span><span id="line-979"></span><span class="hs-comment">-- The 'traverse1Of_' is useful only when you have genuine 'Apply' effect.</span><span>
</span><span id="line-980"></span><span class="hs-comment">--</span><span>
</span><span id="line-981"></span><span class="hs-comment">-- &gt;&gt;&gt; traverse1Of_ both1 (\ks -&gt; Map.fromList [ (k, ()) | k &lt;- ks ]) (&quot;abc&quot;, &quot;bcd&quot;)</span><span>
</span><span id="line-982"></span><span class="hs-comment">-- fromList [('b',()),('c',())]</span><span>
</span><span id="line-983"></span><span class="hs-comment">--</span><span>
</span><span id="line-984"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-985"></span><span class="hs-comment">-- 'traverse1Of_' :: 'Apply' f =&gt; 'Fold1' s a -&gt; (a -&gt; f r) -&gt; s -&gt; f ()</span><span>
</span><span id="line-986"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-987"></span><span class="hs-comment">--</span><span>
</span><span id="line-988"></span><span class="hs-comment">-- @since 4.16</span><span>
</span><span id="line-989"></span><span id="local-6989586621679452454"><span id="local-6989586621679452455"><span id="local-6989586621679452456"><span id="local-6989586621679452457"><span class="annot"><a href="Control.Lens.Fold.html#traverse1Of_"><span class="hs-identifier hs-type">traverse1Of_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679452457"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#TraversedF"><span class="hs-identifier hs-type">TraversedF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452456"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452457"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452455"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452454"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452454"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452457"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452456"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452455"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452457"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-990"></span><span id="traverse1Of_"><span class="annot"><span class="annottext">traverse1Of_ :: Getting (TraversedF r f) s a -&gt; (a -&gt; f r) -&gt; s -&gt; f ()
</span><a href="Control.Lens.Fold.html#traverse1Of_"><span class="hs-identifier hs-var hs-var">traverse1Of_</span></a></span></span><span> </span><span id="local-6989586621679451697"><span class="annot"><span class="annottext">l :: Getting (TraversedF r f) s a
</span><a href="#local-6989586621679451697"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451696"><span class="annot"><span class="annottext">f :: a -&gt; f r
</span><a href="#local-6989586621679451696"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f r -&gt; f ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(f r -&gt; f ()) -&gt; (s -&gt; f r) -&gt; s -&gt; f ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TraversedF r f -&gt; f r
forall a (f :: * -&gt; *). TraversedF a f -&gt; f a
</span><a href="Control.Lens.Internal.Fold.html#getTraversedF"><span class="hs-identifier hs-var hs-var">getTraversedF</span></a></span><span> </span><span class="annot"><span class="annottext">(TraversedF r f -&gt; f r) -&gt; (s -&gt; TraversedF r f) -&gt; s -&gt; f r
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting (TraversedF r f) s a
-&gt; (a -&gt; TraversedF r f) -&gt; s -&gt; TraversedF r f
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (TraversedF r f) s a
</span><a href="#local-6989586621679451697"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f r -&gt; TraversedF r f
forall a (f :: * -&gt; *). f a -&gt; TraversedF a f
</span><a href="Control.Lens.Internal.Fold.html#TraversedF"><span class="hs-identifier hs-var">TraversedF</span></a></span><span> </span><span class="annot"><span class="annottext">(f r -&gt; TraversedF r f) -&gt; (a -&gt; f r) -&gt; a -&gt; TraversedF r f
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; f r
</span><a href="#local-6989586621679451696"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-991"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#traverse1Of_"><span class="hs-pragma hs-type">traverse1Of_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-992"></span><span>
</span><span id="line-993"></span><span class="hs-comment">-- | See 'forOf_' and 'traverse1Of_'.</span><span>
</span><span id="line-994"></span><span class="hs-comment">--</span><span>
</span><span id="line-995"></span><span class="hs-comment">-- &gt;&gt;&gt; for1Of_ both1 (&quot;abc&quot;, &quot;bcd&quot;) (\ks -&gt; Map.fromList [ (k, ()) | k &lt;- ks ])</span><span>
</span><span id="line-996"></span><span class="hs-comment">-- fromList [('b',()),('c',())]</span><span>
</span><span id="line-997"></span><span class="hs-comment">--</span><span>
</span><span id="line-998"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-999"></span><span class="hs-comment">-- 'for1Of_' :: 'Apply' f =&gt; 'Fold1' s a -&gt; s -&gt; (a -&gt; f r) -&gt; f ()</span><span>
</span><span id="line-1000"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1001"></span><span class="hs-comment">--</span><span>
</span><span id="line-1002"></span><span class="hs-comment">-- @since 4.16</span><span>
</span><span id="line-1003"></span><span id="local-6989586621679451690"><span id="local-6989586621679451691"><span id="local-6989586621679451692"><span id="local-6989586621679451693"><span class="annot"><a href="Control.Lens.Fold.html#for1Of_"><span class="hs-identifier hs-type">for1Of_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679451693"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#TraversedF"><span class="hs-identifier hs-type">TraversedF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451692"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451693"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451691"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451690"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451691"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451690"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451693"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451692"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451693"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-1004"></span><span id="for1Of_"><span class="annot"><span class="annottext">for1Of_ :: Getting (TraversedF r f) s a -&gt; s -&gt; (a -&gt; f r) -&gt; f ()
</span><a href="Control.Lens.Fold.html#for1Of_"><span class="hs-identifier hs-var hs-var">for1Of_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a -&gt; f r) -&gt; s -&gt; f ()) -&gt; s -&gt; (a -&gt; f r) -&gt; f ()
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(((a -&gt; f r) -&gt; s -&gt; f ()) -&gt; s -&gt; (a -&gt; f r) -&gt; f ())
-&gt; (Getting (TraversedF r f) s a -&gt; (a -&gt; f r) -&gt; s -&gt; f ())
-&gt; Getting (TraversedF r f) s a
-&gt; s
-&gt; (a -&gt; f r)
-&gt; f ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting (TraversedF r f) s a -&gt; (a -&gt; f r) -&gt; s -&gt; f ()
forall (f :: * -&gt; *) r s a.
Functor f =&gt;
Getting (TraversedF r f) s a -&gt; (a -&gt; f r) -&gt; s -&gt; f ()
</span><a href="Control.Lens.Fold.html#traverse1Of_"><span class="hs-identifier hs-var">traverse1Of_</span></a></span><span>
</span><span id="line-1005"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#for1Of_"><span class="hs-pragma hs-type">for1Of_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1006"></span><span>
</span><span id="line-1007"></span><span class="hs-comment">-- | See 'sequenceAOf_' and 'traverse1Of_'.</span><span>
</span><span id="line-1008"></span><span class="hs-comment">--</span><span>
</span><span id="line-1009"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1010"></span><span class="hs-comment">-- 'sequence1Of_' :: 'Apply' f =&gt; 'Fold1' s (f a) -&gt; s -&gt; f ()</span><span>
</span><span id="line-1011"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1012"></span><span class="hs-comment">--</span><span>
</span><span id="line-1013"></span><span class="hs-comment">-- @since 4.16</span><span>
</span><span id="line-1014"></span><span id="local-6989586621679451687"><span id="local-6989586621679451688"><span id="local-6989586621679451689"><span class="annot"><a href="Control.Lens.Fold.html#sequence1Of_"><span class="hs-identifier hs-type">sequence1Of_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679451689"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#TraversedF"><span class="hs-identifier hs-type">TraversedF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451688"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451689"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451687"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451689"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451688"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451687"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451689"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1015"></span><span id="sequence1Of_"><span class="annot"><span class="annottext">sequence1Of_ :: Getting (TraversedF a f) s (f a) -&gt; s -&gt; f ()
</span><a href="Control.Lens.Fold.html#sequence1Of_"><span class="hs-identifier hs-var hs-var">sequence1Of_</span></a></span></span><span> </span><span id="local-6989586621679451686"><span class="annot"><span class="annottext">l :: Getting (TraversedF a f) s (f a)
</span><a href="#local-6989586621679451686"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f a -&gt; f ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(f a -&gt; f ()) -&gt; (s -&gt; f a) -&gt; s -&gt; f ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TraversedF a f -&gt; f a
forall a (f :: * -&gt; *). TraversedF a f -&gt; f a
</span><a href="Control.Lens.Internal.Fold.html#getTraversedF"><span class="hs-identifier hs-var hs-var">getTraversedF</span></a></span><span> </span><span class="annot"><span class="annottext">(TraversedF a f -&gt; f a) -&gt; (s -&gt; TraversedF a f) -&gt; s -&gt; f a
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting (TraversedF a f) s (f a)
-&gt; (f a -&gt; TraversedF a f) -&gt; s -&gt; TraversedF a f
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (TraversedF a f) s (f a)
</span><a href="#local-6989586621679451686"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">f a -&gt; TraversedF a f
forall a (f :: * -&gt; *). f a -&gt; TraversedF a f
</span><a href="Control.Lens.Internal.Fold.html#TraversedF"><span class="hs-identifier hs-var">TraversedF</span></a></span><span>
</span><span id="line-1016"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#sequence1Of_"><span class="hs-pragma hs-type">sequence1Of_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1017"></span><span>
</span><span id="line-1018"></span><span class="hs-comment">-- | Map each target of a 'Fold' on a structure to a monadic action, evaluate these actions from left to right, and ignore the results.</span><span>
</span><span id="line-1019"></span><span class="hs-comment">--</span><span>
</span><span id="line-1020"></span><span class="hs-comment">-- &gt;&gt;&gt; mapMOf_ both putStrLn (&quot;hello&quot;,&quot;world&quot;)</span><span>
</span><span id="line-1021"></span><span class="hs-comment">-- hello</span><span>
</span><span id="line-1022"></span><span class="hs-comment">-- world</span><span>
</span><span id="line-1023"></span><span class="hs-comment">--</span><span>
</span><span id="line-1024"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1025"></span><span class="hs-comment">-- 'Data.Foldable.mapM_' &#8801; 'mapMOf_' 'folded'</span><span>
</span><span id="line-1026"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1027"></span><span class="hs-comment">--</span><span>
</span><span id="line-1028"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1029"></span><span class="hs-comment">-- 'mapMOf_' :: 'Monad' m =&gt; 'Getter' s a     -&gt; (a -&gt; m r) -&gt; s -&gt; m ()</span><span>
</span><span id="line-1030"></span><span class="hs-comment">-- 'mapMOf_' :: 'Monad' m =&gt; 'Fold' s a       -&gt; (a -&gt; m r) -&gt; s -&gt; m ()</span><span>
</span><span id="line-1031"></span><span class="hs-comment">-- 'mapMOf_' :: 'Monad' m =&gt; 'Lens'' s a      -&gt; (a -&gt; m r) -&gt; s -&gt; m ()</span><span>
</span><span id="line-1032"></span><span class="hs-comment">-- 'mapMOf_' :: 'Monad' m =&gt; 'Iso'' s a       -&gt; (a -&gt; m r) -&gt; s -&gt; m ()</span><span>
</span><span id="line-1033"></span><span class="hs-comment">-- 'mapMOf_' :: 'Monad' m =&gt; 'Traversal'' s a -&gt; (a -&gt; m r) -&gt; s -&gt; m ()</span><span>
</span><span id="line-1034"></span><span class="hs-comment">-- 'mapMOf_' :: 'Monad' m =&gt; 'Prism'' s a     -&gt; (a -&gt; m r) -&gt; s -&gt; m ()</span><span>
</span><span id="line-1035"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1036"></span><span id="local-6989586621679452432"><span id="local-6989586621679452433"><span id="local-6989586621679452434"><span id="local-6989586621679452435"><span class="annot"><a href="Control.Lens.Fold.html#mapMOf_"><span class="hs-identifier hs-type">mapMOf_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679452435"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Sequenced"><span class="hs-identifier hs-type">Sequenced</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452434"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452435"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452433"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452432"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452432"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452435"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452434"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452433"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452435"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-1037"></span><span id="mapMOf_"><span class="annot"><span class="annottext">mapMOf_ :: Getting (Sequenced r m) s a -&gt; (a -&gt; m r) -&gt; s -&gt; m ()
</span><a href="Control.Lens.Fold.html#mapMOf_"><span class="hs-identifier hs-var hs-var">mapMOf_</span></a></span></span><span> </span><span id="local-6989586621679451685"><span class="annot"><span class="annottext">l :: Getting (Sequenced r m) s a
</span><a href="#local-6989586621679451685"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451684"><span class="annot"><span class="annottext">f :: a -&gt; m r
</span><a href="#local-6989586621679451684"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(r -&gt; ()) -&gt; m r -&gt; m ()
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; ()
forall a. a -&gt; ()
</span><a href="Control.Lens.Fold.html#skip"><span class="hs-identifier hs-var">skip</span></a></span><span> </span><span class="annot"><span class="annottext">(m r -&gt; m ()) -&gt; (s -&gt; m r) -&gt; s -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Sequenced r m -&gt; m r
forall a (m :: * -&gt; *). Sequenced a m -&gt; m a
</span><a href="Control.Lens.Internal.Fold.html#getSequenced"><span class="hs-identifier hs-var hs-var">getSequenced</span></a></span><span> </span><span class="annot"><span class="annottext">(Sequenced r m -&gt; m r) -&gt; (s -&gt; Sequenced r m) -&gt; s -&gt; m r
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Sequenced r m) s a
-&gt; (a -&gt; Sequenced r m) -&gt; s -&gt; Sequenced r m
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Sequenced r m) s a
</span><a href="#local-6989586621679451685"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m r -&gt; Sequenced r m
forall a (m :: * -&gt; *). m a -&gt; Sequenced a m
</span><a href="Control.Lens.Internal.Fold.html#Sequenced"><span class="hs-identifier hs-var">Sequenced</span></a></span><span> </span><span class="annot"><span class="annottext">(m r -&gt; Sequenced r m) -&gt; (a -&gt; m r) -&gt; a -&gt; Sequenced r m
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; m r
</span><a href="#local-6989586621679451684"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1038"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#mapMOf_"><span class="hs-pragma hs-type">mapMOf_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1039"></span><span>
</span><span id="line-1040"></span><span class="hs-comment">-- | 'forMOf_' is 'mapMOf_' with two of its arguments flipped.</span><span>
</span><span id="line-1041"></span><span class="hs-comment">--</span><span>
</span><span id="line-1042"></span><span class="hs-comment">-- &gt;&gt;&gt; forMOf_ both (&quot;hello&quot;,&quot;world&quot;) putStrLn</span><span>
</span><span id="line-1043"></span><span class="hs-comment">-- hello</span><span>
</span><span id="line-1044"></span><span class="hs-comment">-- world</span><span>
</span><span id="line-1045"></span><span class="hs-comment">--</span><span>
</span><span id="line-1046"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1047"></span><span class="hs-comment">-- 'Data.Foldable.forM_' &#8801; 'forMOf_' 'folded'</span><span>
</span><span id="line-1048"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1049"></span><span class="hs-comment">--</span><span>
</span><span id="line-1050"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1051"></span><span class="hs-comment">-- 'forMOf_' :: 'Monad' m =&gt; 'Getter' s a     -&gt; s -&gt; (a -&gt; m r) -&gt; m ()</span><span>
</span><span id="line-1052"></span><span class="hs-comment">-- 'forMOf_' :: 'Monad' m =&gt; 'Fold' s a       -&gt; s -&gt; (a -&gt; m r) -&gt; m ()</span><span>
</span><span id="line-1053"></span><span class="hs-comment">-- 'forMOf_' :: 'Monad' m =&gt; 'Lens'' s a      -&gt; s -&gt; (a -&gt; m r) -&gt; m ()</span><span>
</span><span id="line-1054"></span><span class="hs-comment">-- 'forMOf_' :: 'Monad' m =&gt; 'Iso'' s a       -&gt; s -&gt; (a -&gt; m r) -&gt; m ()</span><span>
</span><span id="line-1055"></span><span class="hs-comment">-- 'forMOf_' :: 'Monad' m =&gt; 'Traversal'' s a -&gt; s -&gt; (a -&gt; m r) -&gt; m ()</span><span>
</span><span id="line-1056"></span><span class="hs-comment">-- 'forMOf_' :: 'Monad' m =&gt; 'Prism'' s a     -&gt; s -&gt; (a -&gt; m r) -&gt; m ()</span><span>
</span><span id="line-1057"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1058"></span><span id="local-6989586621679451676"><span id="local-6989586621679451677"><span id="local-6989586621679451678"><span id="local-6989586621679451679"><span class="annot"><a href="Control.Lens.Fold.html#forMOf_"><span class="hs-identifier hs-type">forMOf_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679451679"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Sequenced"><span class="hs-identifier hs-type">Sequenced</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451678"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451679"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451677"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451676"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451677"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451676"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451679"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451678"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451679"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-1059"></span><span id="forMOf_"><span class="annot"><span class="annottext">forMOf_ :: Getting (Sequenced r m) s a -&gt; s -&gt; (a -&gt; m r) -&gt; m ()
</span><a href="Control.Lens.Fold.html#forMOf_"><span class="hs-identifier hs-var hs-var">forMOf_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a -&gt; m r) -&gt; s -&gt; m ()) -&gt; s -&gt; (a -&gt; m r) -&gt; m ()
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(((a -&gt; m r) -&gt; s -&gt; m ()) -&gt; s -&gt; (a -&gt; m r) -&gt; m ())
-&gt; (Getting (Sequenced r m) s a -&gt; (a -&gt; m r) -&gt; s -&gt; m ())
-&gt; Getting (Sequenced r m) s a
-&gt; s
-&gt; (a -&gt; m r)
-&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Sequenced r m) s a -&gt; (a -&gt; m r) -&gt; s -&gt; m ()
forall (m :: * -&gt; *) r s a.
Monad m =&gt;
Getting (Sequenced r m) s a -&gt; (a -&gt; m r) -&gt; s -&gt; m ()
</span><a href="Control.Lens.Fold.html#mapMOf_"><span class="hs-identifier hs-var">mapMOf_</span></a></span><span>
</span><span id="line-1060"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#forMOf_"><span class="hs-pragma hs-type">forMOf_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1061"></span><span>
</span><span id="line-1062"></span><span class="hs-comment">-- | Evaluate each monadic action referenced by a 'Fold' on the structure from left to right, and ignore the results.</span><span>
</span><span id="line-1063"></span><span class="hs-comment">--</span><span>
</span><span id="line-1064"></span><span class="hs-comment">-- &gt;&gt;&gt; sequenceOf_ both (putStrLn &quot;hello&quot;,putStrLn &quot;world&quot;)</span><span>
</span><span id="line-1065"></span><span class="hs-comment">-- hello</span><span>
</span><span id="line-1066"></span><span class="hs-comment">-- world</span><span>
</span><span id="line-1067"></span><span class="hs-comment">--</span><span>
</span><span id="line-1068"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1069"></span><span class="hs-comment">-- 'Data.Foldable.sequence_' &#8801; 'sequenceOf_' 'folded'</span><span>
</span><span id="line-1070"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1071"></span><span class="hs-comment">--</span><span>
</span><span id="line-1072"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1073"></span><span class="hs-comment">-- 'sequenceOf_' :: 'Monad' m =&gt; 'Getter' s (m a)     -&gt; s -&gt; m ()</span><span>
</span><span id="line-1074"></span><span class="hs-comment">-- 'sequenceOf_' :: 'Monad' m =&gt; 'Fold' s (m a)       -&gt; s -&gt; m ()</span><span>
</span><span id="line-1075"></span><span class="hs-comment">-- 'sequenceOf_' :: 'Monad' m =&gt; 'Lens'' s (m a)      -&gt; s -&gt; m ()</span><span>
</span><span id="line-1076"></span><span class="hs-comment">-- 'sequenceOf_' :: 'Monad' m =&gt; 'Iso'' s (m a)       -&gt; s -&gt; m ()</span><span>
</span><span id="line-1077"></span><span class="hs-comment">-- 'sequenceOf_' :: 'Monad' m =&gt; 'Traversal'' s (m a) -&gt; s -&gt; m ()</span><span>
</span><span id="line-1078"></span><span class="hs-comment">-- 'sequenceOf_' :: 'Monad' m =&gt; 'Prism'' s (m a)     -&gt; s -&gt; m ()</span><span>
</span><span id="line-1079"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1080"></span><span id="local-6989586621679451673"><span id="local-6989586621679451674"><span id="local-6989586621679451675"><span class="annot"><a href="Control.Lens.Fold.html#sequenceOf_"><span class="hs-identifier hs-type">sequenceOf_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679451675"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Sequenced"><span class="hs-identifier hs-type">Sequenced</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451674"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451675"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451673"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451675"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451674"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451673"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451675"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1081"></span><span id="sequenceOf_"><span class="annot"><span class="annottext">sequenceOf_ :: Getting (Sequenced a m) s (m a) -&gt; s -&gt; m ()
</span><a href="Control.Lens.Fold.html#sequenceOf_"><span class="hs-identifier hs-var hs-var">sequenceOf_</span></a></span></span><span> </span><span id="local-6989586621679451672"><span class="annot"><span class="annottext">l :: Getting (Sequenced a m) s (m a)
</span><a href="#local-6989586621679451672"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; ()) -&gt; m a -&gt; m ()
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; ()
forall a. a -&gt; ()
</span><a href="Control.Lens.Fold.html#skip"><span class="hs-identifier hs-var">skip</span></a></span><span> </span><span class="annot"><span class="annottext">(m a -&gt; m ()) -&gt; (s -&gt; m a) -&gt; s -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Sequenced a m -&gt; m a
forall a (m :: * -&gt; *). Sequenced a m -&gt; m a
</span><a href="Control.Lens.Internal.Fold.html#getSequenced"><span class="hs-identifier hs-var hs-var">getSequenced</span></a></span><span> </span><span class="annot"><span class="annottext">(Sequenced a m -&gt; m a) -&gt; (s -&gt; Sequenced a m) -&gt; s -&gt; m a
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Sequenced a m) s (m a)
-&gt; (m a -&gt; Sequenced a m) -&gt; s -&gt; Sequenced a m
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Sequenced a m) s (m a)
</span><a href="#local-6989586621679451672"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">m a -&gt; Sequenced a m
forall a (m :: * -&gt; *). m a -&gt; Sequenced a m
</span><a href="Control.Lens.Internal.Fold.html#Sequenced"><span class="hs-identifier hs-var">Sequenced</span></a></span><span>
</span><span id="line-1082"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#sequenceOf_"><span class="hs-pragma hs-type">sequenceOf_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1083"></span><span>
</span><span id="line-1084"></span><span class="hs-comment">-- | The sum of a collection of actions, generalizing 'concatOf'.</span><span>
</span><span id="line-1085"></span><span class="hs-comment">--</span><span>
</span><span id="line-1086"></span><span class="hs-comment">-- &gt;&gt;&gt; asumOf both (&quot;hello&quot;,&quot;world&quot;)</span><span>
</span><span id="line-1087"></span><span class="hs-comment">-- &quot;helloworld&quot;</span><span>
</span><span id="line-1088"></span><span class="hs-comment">--</span><span>
</span><span id="line-1089"></span><span class="hs-comment">-- &gt;&gt;&gt; asumOf each (Nothing, Just &quot;hello&quot;, Nothing)</span><span>
</span><span id="line-1090"></span><span class="hs-comment">-- Just &quot;hello&quot;</span><span>
</span><span id="line-1091"></span><span class="hs-comment">--</span><span>
</span><span id="line-1092"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1093"></span><span class="hs-comment">-- 'asum' &#8801; 'asumOf' 'folded'</span><span>
</span><span id="line-1094"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1095"></span><span class="hs-comment">--</span><span>
</span><span id="line-1096"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1097"></span><span class="hs-comment">-- 'asumOf' :: 'Alternative' f =&gt; 'Getter' s (f a)     -&gt; s -&gt; f a</span><span>
</span><span id="line-1098"></span><span class="hs-comment">-- 'asumOf' :: 'Alternative' f =&gt; 'Fold' s (f a)       -&gt; s -&gt; f a</span><span>
</span><span id="line-1099"></span><span class="hs-comment">-- 'asumOf' :: 'Alternative' f =&gt; 'Lens'' s (f a)      -&gt; s -&gt; f a</span><span>
</span><span id="line-1100"></span><span class="hs-comment">-- 'asumOf' :: 'Alternative' f =&gt; 'Iso'' s (f a)       -&gt; s -&gt; f a</span><span>
</span><span id="line-1101"></span><span class="hs-comment">-- 'asumOf' :: 'Alternative' f =&gt; 'Traversal'' s (f a) -&gt; s -&gt; f a</span><span>
</span><span id="line-1102"></span><span class="hs-comment">-- 'asumOf' :: 'Alternative' f =&gt; 'Prism'' s (f a)     -&gt; s -&gt; f a</span><span>
</span><span id="line-1103"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1104"></span><span id="local-6989586621679451669"><span id="local-6989586621679451670"><span id="local-6989586621679451671"><span class="annot"><a href="Control.Lens.Fold.html#asumOf"><span class="hs-identifier hs-type">asumOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Alternative</span></span><span> </span><span class="annot"><a href="#local-6989586621679451671"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451671"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451670"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451669"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451671"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451670"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451669"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451671"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451670"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-1105"></span><span id="asumOf"><span class="annot"><span class="annottext">asumOf :: Getting (Endo (f a)) s (f a) -&gt; s -&gt; f a
</span><a href="Control.Lens.Fold.html#asumOf"><span class="hs-identifier hs-var hs-var">asumOf</span></a></span></span><span> </span><span id="local-6989586621679451668"><span class="annot"><span class="annottext">l :: Getting (Endo (f a)) s (f a)
</span><a href="#local-6989586621679451668"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo (f a)) s (f a)
-&gt; (f a -&gt; f a -&gt; f a) -&gt; f a -&gt; s -&gt; f a
forall r s a. Getting (Endo r) s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldrOf"><span class="hs-identifier hs-var">foldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (f a)) s (f a)
</span><a href="#local-6989586621679451668"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">f a -&gt; f a -&gt; f a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">(&lt;|&gt;)</span></span><span> </span><span class="annot"><span class="annottext">f a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a
</span><span class="hs-identifier hs-var">Applicative.empty</span></span><span>
</span><span id="line-1106"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#asumOf"><span class="hs-pragma hs-type">asumOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1107"></span><span>
</span><span id="line-1108"></span><span class="hs-comment">-- | The sum of a collection of actions, generalizing 'concatOf'.</span><span>
</span><span id="line-1109"></span><span class="hs-comment">--</span><span>
</span><span id="line-1110"></span><span class="hs-comment">-- &gt;&gt;&gt; msumOf both (&quot;hello&quot;,&quot;world&quot;)</span><span>
</span><span id="line-1111"></span><span class="hs-comment">-- &quot;helloworld&quot;</span><span>
</span><span id="line-1112"></span><span class="hs-comment">--</span><span>
</span><span id="line-1113"></span><span class="hs-comment">-- &gt;&gt;&gt; msumOf each (Nothing, Just &quot;hello&quot;, Nothing)</span><span>
</span><span id="line-1114"></span><span class="hs-comment">-- Just &quot;hello&quot;</span><span>
</span><span id="line-1115"></span><span class="hs-comment">--</span><span>
</span><span id="line-1116"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1117"></span><span class="hs-comment">-- 'msum' &#8801; 'msumOf' 'folded'</span><span>
</span><span id="line-1118"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1119"></span><span class="hs-comment">--</span><span>
</span><span id="line-1120"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1121"></span><span class="hs-comment">-- 'msumOf' :: 'MonadPlus' m =&gt; 'Getter' s (m a)     -&gt; s -&gt; m a</span><span>
</span><span id="line-1122"></span><span class="hs-comment">-- 'msumOf' :: 'MonadPlus' m =&gt; 'Fold' s (m a)       -&gt; s -&gt; m a</span><span>
</span><span id="line-1123"></span><span class="hs-comment">-- 'msumOf' :: 'MonadPlus' m =&gt; 'Lens'' s (m a)      -&gt; s -&gt; m a</span><span>
</span><span id="line-1124"></span><span class="hs-comment">-- 'msumOf' :: 'MonadPlus' m =&gt; 'Iso'' s (m a)       -&gt; s -&gt; m a</span><span>
</span><span id="line-1125"></span><span class="hs-comment">-- 'msumOf' :: 'MonadPlus' m =&gt; 'Traversal'' s (m a) -&gt; s -&gt; m a</span><span>
</span><span id="line-1126"></span><span class="hs-comment">-- 'msumOf' :: 'MonadPlus' m =&gt; 'Prism'' s (m a)     -&gt; s -&gt; m a</span><span>
</span><span id="line-1127"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1128"></span><span id="local-6989586621679451663"><span id="local-6989586621679451664"><span id="local-6989586621679451665"><span class="annot"><a href="Control.Lens.Fold.html#msumOf"><span class="hs-identifier hs-type">msumOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadPlus</span></span><span> </span><span class="annot"><a href="#local-6989586621679451665"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451665"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451664"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451663"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451665"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451664"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451663"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451665"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451664"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-1129"></span><span id="msumOf"><span class="annot"><span class="annottext">msumOf :: Getting (Endo (m a)) s (m a) -&gt; s -&gt; m a
</span><a href="Control.Lens.Fold.html#msumOf"><span class="hs-identifier hs-var hs-var">msumOf</span></a></span></span><span> </span><span id="local-6989586621679451662"><span class="annot"><span class="annottext">l :: Getting (Endo (m a)) s (m a)
</span><a href="#local-6989586621679451662"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo (m a)) s (m a)
-&gt; (m a -&gt; m a -&gt; m a) -&gt; m a -&gt; s -&gt; m a
forall r s a. Getting (Endo r) s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldrOf"><span class="hs-identifier hs-var">foldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (m a)) s (m a)
</span><a href="#local-6989586621679451662"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">m a -&gt; m a -&gt; m a
forall (m :: * -&gt; *) a. MonadPlus m =&gt; m a -&gt; m a -&gt; m a
</span><span class="hs-identifier hs-var">mplus</span></span><span> </span><span class="annot"><span class="annottext">m a
forall (m :: * -&gt; *) a. MonadPlus m =&gt; m a
</span><span class="hs-identifier hs-var">mzero</span></span><span>
</span><span id="line-1130"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#msumOf"><span class="hs-pragma hs-type">msumOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1131"></span><span>
</span><span id="line-1132"></span><span class="hs-comment">-- | Does the element occur anywhere within a given 'Fold' of the structure?</span><span>
</span><span id="line-1133"></span><span class="hs-comment">--</span><span>
</span><span id="line-1134"></span><span class="hs-comment">-- &gt;&gt;&gt; elemOf both &quot;hello&quot; (&quot;hello&quot;,&quot;world&quot;)</span><span>
</span><span id="line-1135"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-1136"></span><span class="hs-comment">--</span><span>
</span><span id="line-1137"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1138"></span><span class="hs-comment">-- 'elem' &#8801; 'elemOf' 'folded'</span><span>
</span><span id="line-1139"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1140"></span><span class="hs-comment">--</span><span>
</span><span id="line-1141"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1142"></span><span class="hs-comment">-- 'elemOf' :: 'Eq' a =&gt; 'Getter' s a     -&gt; a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1143"></span><span class="hs-comment">-- 'elemOf' :: 'Eq' a =&gt; 'Fold' s a       -&gt; a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1144"></span><span class="hs-comment">-- 'elemOf' :: 'Eq' a =&gt; 'Lens'' s a      -&gt; a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1145"></span><span class="hs-comment">-- 'elemOf' :: 'Eq' a =&gt; 'Iso'' s a       -&gt; a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1146"></span><span class="hs-comment">-- 'elemOf' :: 'Eq' a =&gt; 'Traversal'' s a -&gt; a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1147"></span><span class="hs-comment">-- 'elemOf' :: 'Eq' a =&gt; 'Prism'' s a     -&gt; a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1148"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1149"></span><span id="local-6989586621679451658"><span id="local-6989586621679451659"><span class="annot"><a href="Control.Lens.Fold.html#elemOf"><span class="hs-identifier hs-type">elemOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679451659"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Any</span></span><span> </span><span class="annot"><a href="#local-6989586621679451658"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451659"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451659"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451658"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-1150"></span><span id="elemOf"><span class="annot"><span class="annottext">elemOf :: Getting Any s a -&gt; a -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#elemOf"><span class="hs-identifier hs-var hs-var">elemOf</span></a></span></span><span> </span><span id="local-6989586621679451657"><span class="annot"><span class="annottext">l :: Getting Any s a
</span><a href="#local-6989586621679451657"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting Any s a -&gt; (a -&gt; Bool) -&gt; s -&gt; Bool
forall s a. Getting Any s a -&gt; (a -&gt; Bool) -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#anyOf"><span class="hs-identifier hs-var">anyOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting Any s a
</span><a href="#local-6989586621679451657"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Bool) -&gt; s -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; a -&gt; s -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span>
</span><span id="line-1151"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#elemOf"><span class="hs-pragma hs-type">elemOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1152"></span><span>
</span><span id="line-1153"></span><span class="hs-comment">-- | Does the element not occur anywhere within a given 'Fold' of the structure?</span><span>
</span><span id="line-1154"></span><span class="hs-comment">--</span><span>
</span><span id="line-1155"></span><span class="hs-comment">-- &gt;&gt;&gt; notElemOf each 'd' ('a','b','c')</span><span>
</span><span id="line-1156"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-1157"></span><span class="hs-comment">--</span><span>
</span><span id="line-1158"></span><span class="hs-comment">-- &gt;&gt;&gt; notElemOf each 'a' ('a','b','c')</span><span>
</span><span id="line-1159"></span><span class="hs-comment">-- False</span><span>
</span><span id="line-1160"></span><span class="hs-comment">--</span><span>
</span><span id="line-1161"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1162"></span><span class="hs-comment">-- 'notElem' &#8801; 'notElemOf' 'folded'</span><span>
</span><span id="line-1163"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1164"></span><span class="hs-comment">--</span><span>
</span><span id="line-1165"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1166"></span><span class="hs-comment">-- 'notElemOf' :: 'Eq' a =&gt; 'Getter' s a     -&gt; a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1167"></span><span class="hs-comment">-- 'notElemOf' :: 'Eq' a =&gt; 'Fold' s a       -&gt; a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1168"></span><span class="hs-comment">-- 'notElemOf' :: 'Eq' a =&gt; 'Iso'' s a       -&gt; a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1169"></span><span class="hs-comment">-- 'notElemOf' :: 'Eq' a =&gt; 'Lens'' s a      -&gt; a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1170"></span><span class="hs-comment">-- 'notElemOf' :: 'Eq' a =&gt; 'Traversal'' s a -&gt; a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1171"></span><span class="hs-comment">-- 'notElemOf' :: 'Eq' a =&gt; 'Prism'' s a     -&gt; a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1172"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1173"></span><span id="local-6989586621679451655"><span id="local-6989586621679451656"><span class="annot"><a href="Control.Lens.Fold.html#notElemOf"><span class="hs-identifier hs-type">notElemOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679451656"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">All</span></span><span> </span><span class="annot"><a href="#local-6989586621679451655"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451656"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451656"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451655"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-1174"></span><span id="notElemOf"><span class="annot"><span class="annottext">notElemOf :: Getting All s a -&gt; a -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#notElemOf"><span class="hs-identifier hs-var hs-var">notElemOf</span></a></span></span><span> </span><span id="local-6989586621679451654"><span class="annot"><span class="annottext">l :: Getting All s a
</span><a href="#local-6989586621679451654"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting All s a -&gt; (a -&gt; Bool) -&gt; s -&gt; Bool
forall s a. Getting All s a -&gt; (a -&gt; Bool) -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#allOf"><span class="hs-identifier hs-var">allOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting All s a
</span><a href="#local-6989586621679451654"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; Bool) -&gt; s -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; a -&gt; s -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span>
</span><span id="line-1175"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#notElemOf"><span class="hs-pragma hs-type">notElemOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1176"></span><span>
</span><span id="line-1177"></span><span class="hs-comment">-- | Map a function over all the targets of a 'Fold' of a container and concatenate the resulting lists.</span><span>
</span><span id="line-1178"></span><span class="hs-comment">--</span><span>
</span><span id="line-1179"></span><span class="hs-comment">-- &gt;&gt;&gt; concatMapOf both (\x -&gt; [x, x + 1]) (1,3)</span><span>
</span><span id="line-1180"></span><span class="hs-comment">-- [1,2,3,4]</span><span>
</span><span id="line-1181"></span><span class="hs-comment">--</span><span>
</span><span id="line-1182"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1183"></span><span class="hs-comment">-- 'concatMap' &#8801; 'concatMapOf' 'folded'</span><span>
</span><span id="line-1184"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1185"></span><span class="hs-comment">--</span><span>
</span><span id="line-1186"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1187"></span><span class="hs-comment">-- 'concatMapOf' :: 'Getter' s a     -&gt; (a -&gt; [r]) -&gt; s -&gt; [r]</span><span>
</span><span id="line-1188"></span><span class="hs-comment">-- 'concatMapOf' :: 'Fold' s a       -&gt; (a -&gt; [r]) -&gt; s -&gt; [r]</span><span>
</span><span id="line-1189"></span><span class="hs-comment">-- 'concatMapOf' :: 'Lens'' s a      -&gt; (a -&gt; [r]) -&gt; s -&gt; [r]</span><span>
</span><span id="line-1190"></span><span class="hs-comment">-- 'concatMapOf' :: 'Iso'' s a       -&gt; (a -&gt; [r]) -&gt; s -&gt; [r]</span><span>
</span><span id="line-1191"></span><span class="hs-comment">-- 'concatMapOf' :: 'Traversal'' s a -&gt; (a -&gt; [r]) -&gt; s -&gt; [r]</span><span>
</span><span id="line-1192"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1193"></span><span id="local-6989586621679451650"><span id="local-6989586621679451651"><span id="local-6989586621679451652"><span class="annot"><a href="Control.Lens.Fold.html#concatMapOf"><span class="hs-identifier hs-type">concatMapOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679451652"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679451651"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451650"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451650"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679451652"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451651"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679451652"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-1194"></span><span id="concatMapOf"><span class="annot"><span class="annottext">concatMapOf :: Getting [r] s a -&gt; (a -&gt; [r]) -&gt; s -&gt; [r]
</span><a href="Control.Lens.Fold.html#concatMapOf"><span class="hs-identifier hs-var hs-var">concatMapOf</span></a></span></span><span> </span><span id="local-6989586621679451649"><span class="annot"><span class="annottext">l :: Getting [r] s a
</span><a href="#local-6989586621679451649"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451648"><span class="annot"><span class="annottext">ces :: a -&gt; [r]
</span><a href="#local-6989586621679451648"><span class="hs-identifier hs-var">ces</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Const [r] s -&gt; [r]
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const [r] s -&gt; [r]) -&gt; (s -&gt; Const [r] s) -&gt; s -&gt; [r]
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting [r] s a
</span><a href="#local-6989586621679451649"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[r] -&gt; Const [r] a
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="annot"><span class="annottext">([r] -&gt; Const [r] a) -&gt; (a -&gt; [r]) -&gt; a -&gt; Const [r] a
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; [r]
</span><a href="#local-6989586621679451648"><span class="hs-identifier hs-var">ces</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1195"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#concatMapOf"><span class="hs-pragma hs-type">concatMapOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1196"></span><span>
</span><span id="line-1197"></span><span class="hs-comment">-- | Concatenate all of the lists targeted by a 'Fold' into a longer list.</span><span>
</span><span id="line-1198"></span><span class="hs-comment">--</span><span>
</span><span id="line-1199"></span><span class="hs-comment">-- &gt;&gt;&gt; concatOf both (&quot;pan&quot;,&quot;ama&quot;)</span><span>
</span><span id="line-1200"></span><span class="hs-comment">-- &quot;panama&quot;</span><span>
</span><span id="line-1201"></span><span class="hs-comment">--</span><span>
</span><span id="line-1202"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1203"></span><span class="hs-comment">-- 'concat' &#8801; 'concatOf' 'folded'</span><span>
</span><span id="line-1204"></span><span class="hs-comment">-- 'concatOf' &#8801; 'view'</span><span>
</span><span id="line-1205"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1206"></span><span class="hs-comment">--</span><span>
</span><span id="line-1207"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1208"></span><span class="hs-comment">-- 'concatOf' :: 'Getter' s [r]     -&gt; s -&gt; [r]</span><span>
</span><span id="line-1209"></span><span class="hs-comment">-- 'concatOf' :: 'Fold' s [r]       -&gt; s -&gt; [r]</span><span>
</span><span id="line-1210"></span><span class="hs-comment">-- 'concatOf' :: 'Iso'' s [r]       -&gt; s -&gt; [r]</span><span>
</span><span id="line-1211"></span><span class="hs-comment">-- 'concatOf' :: 'Lens'' s [r]      -&gt; s -&gt; [r]</span><span>
</span><span id="line-1212"></span><span class="hs-comment">-- 'concatOf' :: 'Traversal'' s [r] -&gt; s -&gt; [r]</span><span>
</span><span id="line-1213"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1214"></span><span id="local-6989586621679451646"><span id="local-6989586621679451647"><span class="annot"><a href="Control.Lens.Fold.html#concatOf"><span class="hs-identifier hs-type">concatOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679451647"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679451646"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679451647"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451646"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679451647"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-1215"></span><span id="concatOf"><span class="annot"><span class="annottext">concatOf :: Getting [r] s [r] -&gt; s -&gt; [r]
</span><a href="Control.Lens.Fold.html#concatOf"><span class="hs-identifier hs-var hs-var">concatOf</span></a></span></span><span> </span><span id="local-6989586621679451645"><span class="annot"><span class="annottext">l :: Getting [r] s [r]
</span><a href="#local-6989586621679451645"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Const [r] s -&gt; [r]
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const [r] s -&gt; [r]) -&gt; (s -&gt; Const [r] s) -&gt; s -&gt; [r]
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting [r] s [r]
</span><a href="#local-6989586621679451645"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">[r] -&gt; Const [r] [r]
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span>
</span><span id="line-1216"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#concatOf"><span class="hs-pragma hs-type">concatOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1217"></span><span>
</span><span id="line-1218"></span><span>
</span><span id="line-1219"></span><span class="hs-comment">-- | Calculate the number of targets there are for a 'Fold' in a given container.</span><span>
</span><span id="line-1220"></span><span class="hs-comment">--</span><span>
</span><span id="line-1221"></span><span class="hs-comment">-- /Note:/ This can be rather inefficient for large containers and just like 'length',</span><span>
</span><span id="line-1222"></span><span class="hs-comment">-- this will not terminate for infinite folds.</span><span>
</span><span id="line-1223"></span><span class="hs-comment">--</span><span>
</span><span id="line-1224"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1225"></span><span class="hs-comment">-- 'length' &#8801; 'lengthOf' 'folded'</span><span>
</span><span id="line-1226"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1227"></span><span class="hs-comment">--</span><span>
</span><span id="line-1228"></span><span class="hs-comment">-- &gt;&gt;&gt; lengthOf _1 (&quot;hello&quot;,())</span><span>
</span><span id="line-1229"></span><span class="hs-comment">-- 1</span><span>
</span><span id="line-1230"></span><span class="hs-comment">--</span><span>
</span><span id="line-1231"></span><span class="hs-comment">-- &gt;&gt;&gt; lengthOf traverse [1..10]</span><span>
</span><span id="line-1232"></span><span class="hs-comment">-- 10</span><span>
</span><span id="line-1233"></span><span class="hs-comment">--</span><span>
</span><span id="line-1234"></span><span class="hs-comment">-- &gt;&gt;&gt; lengthOf (traverse.traverse) [[1,2],[3,4],[5,6]]</span><span>
</span><span id="line-1235"></span><span class="hs-comment">-- 6</span><span>
</span><span id="line-1236"></span><span class="hs-comment">--</span><span>
</span><span id="line-1237"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1238"></span><span class="hs-comment">-- 'lengthOf' ('folded' '.' 'folded') :: ('Foldable' f, 'Foldable' g) =&gt; f (g a) -&gt; 'Int'</span><span>
</span><span id="line-1239"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1240"></span><span class="hs-comment">--</span><span>
</span><span id="line-1241"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1242"></span><span class="hs-comment">-- 'lengthOf' :: 'Getter' s a     -&gt; s -&gt; 'Int'</span><span>
</span><span id="line-1243"></span><span class="hs-comment">-- 'lengthOf' :: 'Fold' s a       -&gt; s -&gt; 'Int'</span><span>
</span><span id="line-1244"></span><span class="hs-comment">-- 'lengthOf' :: 'Lens'' s a      -&gt; s -&gt; 'Int'</span><span>
</span><span id="line-1245"></span><span class="hs-comment">-- 'lengthOf' :: 'Iso'' s a       -&gt; s -&gt; 'Int'</span><span>
</span><span id="line-1246"></span><span class="hs-comment">-- 'lengthOf' :: 'Traversal'' s a -&gt; s -&gt; 'Int'</span><span>
</span><span id="line-1247"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1248"></span><span id="local-6989586621679451643"><span id="local-6989586621679451644"><span class="annot"><a href="Control.Lens.Fold.html#lengthOf"><span class="hs-identifier hs-type">lengthOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451644"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451643"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451644"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span></span><span>
</span><span id="line-1249"></span><span id="lengthOf"><span class="annot"><span class="annottext">lengthOf :: Getting (Endo (Endo Int)) s a -&gt; s -&gt; Int
</span><a href="Control.Lens.Fold.html#lengthOf"><span class="hs-identifier hs-var hs-var">lengthOf</span></a></span></span><span> </span><span id="local-6989586621679451642"><span class="annot"><span class="annottext">l :: Getting (Endo (Endo Int)) s a
</span><a href="#local-6989586621679451642"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo Int)) s a
-&gt; (Int -&gt; a -&gt; Int) -&gt; Int -&gt; s -&gt; Int
forall r s a.
Getting (Endo (Endo r)) s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldlOf%27"><span class="hs-identifier hs-var">foldlOf'</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo Int)) s a
</span><a href="#local-6989586621679451642"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451641"><span class="annot"><span class="annottext">a :: Int
</span><a href="#local-6989586621679451641"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679451641"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-1250"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#lengthOf"><span class="hs-pragma hs-type">lengthOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1251"></span><span>
</span><span id="line-1252"></span><span class="hs-comment">-- | Perform a safe 'head' of a 'Fold' or 'Traversal' or retrieve 'Just' the result</span><span>
</span><span id="line-1253"></span><span class="hs-comment">-- from a 'Getter' or 'Lens'.</span><span>
</span><span id="line-1254"></span><span class="hs-comment">--</span><span>
</span><span id="line-1255"></span><span class="hs-comment">-- When using a 'Traversal' as a partial 'Lens', or a 'Fold' as a partial 'Getter' this can be a convenient</span><span>
</span><span id="line-1256"></span><span class="hs-comment">-- way to extract the optional value.</span><span>
</span><span id="line-1257"></span><span class="hs-comment">--</span><span>
</span><span id="line-1258"></span><span class="hs-comment">-- Note: if you get stack overflows due to this, you may want to use 'firstOf' instead, which can deal</span><span>
</span><span id="line-1259"></span><span class="hs-comment">-- more gracefully with heavily left-biased trees. This is because '^?' works by using the </span><span>
</span><span id="line-1260"></span><span class="hs-comment">-- 'Data.Monoid.First' monoid, which can occasionally cause space leaks.</span><span>
</span><span id="line-1261"></span><span class="hs-comment">--</span><span>
</span><span id="line-1262"></span><span class="hs-comment">-- &gt;&gt;&gt; Left 4 ^?_Left</span><span>
</span><span id="line-1263"></span><span class="hs-comment">-- Just 4</span><span>
</span><span id="line-1264"></span><span class="hs-comment">--</span><span>
</span><span id="line-1265"></span><span class="hs-comment">-- &gt;&gt;&gt; Right 4 ^?_Left</span><span>
</span><span id="line-1266"></span><span class="hs-comment">-- Nothing</span><span>
</span><span id="line-1267"></span><span class="hs-comment">--</span><span>
</span><span id="line-1268"></span><span class="hs-comment">-- &gt;&gt;&gt; &quot;world&quot; ^? ix 3</span><span>
</span><span id="line-1269"></span><span class="hs-comment">-- Just 'l'</span><span>
</span><span id="line-1270"></span><span class="hs-comment">--</span><span>
</span><span id="line-1271"></span><span class="hs-comment">-- &gt;&gt;&gt; &quot;world&quot; ^? ix 20</span><span>
</span><span id="line-1272"></span><span class="hs-comment">-- Nothing</span><span>
</span><span id="line-1273"></span><span class="hs-comment">--</span><span>
</span><span id="line-1274"></span><span class="hs-comment">-- This operator works as an infix version of 'preview'. </span><span>
</span><span id="line-1275"></span><span class="hs-comment">--</span><span>
</span><span id="line-1276"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1277"></span><span class="hs-comment">-- ('^?') &#8801; 'flip' 'preview'</span><span>
</span><span id="line-1278"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1279"></span><span class="hs-comment">--</span><span>
</span><span id="line-1280"></span><span class="hs-comment">-- It may be helpful to think of '^?' as having one of the following</span><span>
</span><span id="line-1281"></span><span class="hs-comment">-- more specialized types:</span><span>
</span><span id="line-1282"></span><span class="hs-comment">-- </span><span>
</span><span id="line-1283"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1284"></span><span class="hs-comment">-- ('^?') :: s -&gt; 'Getter' s a     -&gt; 'Maybe' a</span><span>
</span><span id="line-1285"></span><span class="hs-comment">-- ('^?') :: s -&gt; 'Fold' s a       -&gt; 'Maybe' a</span><span>
</span><span id="line-1286"></span><span class="hs-comment">-- ('^?') :: s -&gt; 'Lens'' s a      -&gt; 'Maybe' a</span><span>
</span><span id="line-1287"></span><span class="hs-comment">-- ('^?') :: s -&gt; 'Iso'' s a       -&gt; 'Maybe' a</span><span>
</span><span id="line-1288"></span><span class="hs-comment">-- ('^?') :: s -&gt; 'Traversal'' s a -&gt; 'Maybe' a</span><span>
</span><span id="line-1289"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1290"></span><span id="local-6989586621679452654"><span id="local-6989586621679452655"><span class="annot"><a href="Control.Lens.Fold.html#%5E%3F"><span class="hs-operator hs-type">(^?)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679452655"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="annot"><a href="#local-6989586621679452654"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452655"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452654"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679452654"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1291"></span><span id="local-6989586621679451640"><span class="annot"><span class="annottext">s :: s
</span><a href="#local-6989586621679451640"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="%5E%3F"><span class="annot"><span class="annottext">^? :: s -&gt; Getting (First a) s a -&gt; Maybe a
</span><a href="Control.Lens.Fold.html#%5E%3F"><span class="hs-operator hs-var hs-var">^?</span></a></span></span><span> </span><span id="local-6989586621679451639"><span class="annot"><span class="annottext">l :: Getting (First a) s a
</span><a href="#local-6989586621679451639"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">First a -&gt; Maybe a
forall a. First a -&gt; Maybe a
</span><span class="hs-identifier hs-var hs-var">getFirst</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting (First a) s a -&gt; (a -&gt; First a) -&gt; s -&gt; First a
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (First a) s a
</span><a href="#local-6989586621679451639"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a -&gt; First a
forall a. Maybe a -&gt; First a
</span><span class="hs-identifier hs-var">First</span></span><span> </span><span class="annot"><span class="annottext">(Maybe a -&gt; First a) -&gt; (a -&gt; Maybe a) -&gt; a -&gt; First a
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451640"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1292"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">^?</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1293"></span><span>
</span><span id="line-1294"></span><span class="hs-comment">-- | Perform an *UNSAFE* 'head' of a 'Fold' or 'Traversal' assuming that it is there.</span><span>
</span><span id="line-1295"></span><span class="hs-comment">--</span><span>
</span><span id="line-1296"></span><span class="hs-comment">-- &gt;&gt;&gt; Left 4 ^?! _Left</span><span>
</span><span id="line-1297"></span><span class="hs-comment">-- 4</span><span>
</span><span id="line-1298"></span><span class="hs-comment">--</span><span>
</span><span id="line-1299"></span><span class="hs-comment">-- &gt;&gt;&gt; &quot;world&quot; ^?! ix 3</span><span>
</span><span id="line-1300"></span><span class="hs-comment">-- 'l'</span><span>
</span><span id="line-1301"></span><span class="hs-comment">--</span><span>
</span><span id="line-1302"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1303"></span><span class="hs-comment">-- ('^?!') :: s -&gt; 'Getter' s a     -&gt; a</span><span>
</span><span id="line-1304"></span><span class="hs-comment">-- ('^?!') :: s -&gt; 'Fold' s a       -&gt; a</span><span>
</span><span id="line-1305"></span><span class="hs-comment">-- ('^?!') :: s -&gt; 'Lens'' s a      -&gt; a</span><span>
</span><span id="line-1306"></span><span class="hs-comment">-- ('^?!') :: s -&gt; 'Iso'' s a       -&gt; a</span><span>
</span><span id="line-1307"></span><span class="hs-comment">-- ('^?!') :: s -&gt; 'Traversal'' s a -&gt; a</span><span>
</span><span id="line-1308"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1309"></span><span id="local-6989586621679451635"><span id="local-6989586621679451636"><span class="annot"><a href="Control.Lens.Fold.html#%5E%3F%21"><span class="hs-operator hs-type">(^?!)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451636"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679451635"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451636"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451635"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451635"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1310"></span><span id="local-6989586621679451634"><span class="annot"><span class="annottext">s :: s
</span><a href="#local-6989586621679451634"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="%5E%3F%21"><span class="annot"><span class="annottext">^?! :: s -&gt; Getting (Endo a) s a -&gt; a
</span><a href="Control.Lens.Fold.html#%5E%3F%21"><span class="hs-operator hs-var hs-var">^?!</span></a></span></span><span> </span><span id="local-6989586621679451633"><span class="annot"><span class="annottext">l :: Getting (Endo a) s a
</span><a href="#local-6989586621679451633"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo a) s a -&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; s -&gt; a
forall r s a. Getting (Endo r) s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldrOf"><span class="hs-identifier hs-var">foldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo a) s a
</span><a href="#local-6989586621679451633"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(^?!): empty Fold&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451634"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1311"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">^?!</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1312"></span><span>
</span><span id="line-1313"></span><span class="hs-comment">-- | Retrieve the 'First' entry of a 'Fold' or 'Traversal' or retrieve 'Just' the result</span><span>
</span><span id="line-1314"></span><span class="hs-comment">-- from a 'Getter' or 'Lens'.</span><span>
</span><span id="line-1315"></span><span class="hs-comment">--</span><span>
</span><span id="line-1316"></span><span class="hs-comment">-- The answer is computed in a manner that leaks space less than @'preview'@ or @^?'@</span><span>
</span><span id="line-1317"></span><span class="hs-comment">-- and gives you back access to the outermost 'Just' constructor more quickly, but does so</span><span>
</span><span id="line-1318"></span><span class="hs-comment">-- in a way that builds an intermediate structure, and thus may have worse</span><span>
</span><span id="line-1319"></span><span class="hs-comment">-- constant factors. This also means that it can not be used in any 'Control.Monad.Reader.MonadReader',</span><span>
</span><span id="line-1320"></span><span class="hs-comment">-- but must instead have 's' passed as its last argument, unlike 'preview'.</span><span>
</span><span id="line-1321"></span><span class="hs-comment">--</span><span>
</span><span id="line-1322"></span><span class="hs-comment">-- Note: this could been named `headOf`.</span><span>
</span><span id="line-1323"></span><span class="hs-comment">--</span><span>
</span><span id="line-1324"></span><span class="hs-comment">-- &gt;&gt;&gt; firstOf traverse [1..10]</span><span>
</span><span id="line-1325"></span><span class="hs-comment">-- Just 1</span><span>
</span><span id="line-1326"></span><span class="hs-comment">--</span><span>
</span><span id="line-1327"></span><span class="hs-comment">-- &gt;&gt;&gt; firstOf both (1,2)</span><span>
</span><span id="line-1328"></span><span class="hs-comment">-- Just 1</span><span>
</span><span id="line-1329"></span><span class="hs-comment">--</span><span>
</span><span id="line-1330"></span><span class="hs-comment">-- &gt;&gt;&gt; firstOf ignored ()</span><span>
</span><span id="line-1331"></span><span class="hs-comment">-- Nothing</span><span>
</span><span id="line-1332"></span><span class="hs-comment">--</span><span>
</span><span id="line-1333"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1334"></span><span class="hs-comment">-- 'firstOf' :: 'Getter' s a     -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1335"></span><span class="hs-comment">-- 'firstOf' :: 'Fold' s a       -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1336"></span><span class="hs-comment">-- 'firstOf' :: 'Lens'' s a      -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1337"></span><span class="hs-comment">-- 'firstOf' :: 'Iso'' s a       -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1338"></span><span class="hs-comment">-- 'firstOf' :: 'Traversal'' s a -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1339"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1340"></span><span id="local-6989586621679451630"><span id="local-6989586621679451631"><span class="annot"><a href="Control.Lens.Fold.html#firstOf"><span class="hs-identifier hs-type">firstOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Leftmost"><span class="hs-identifier hs-type">Leftmost</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451631"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451630"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451631"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451630"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451631"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1341"></span><span id="firstOf"><span class="annot"><span class="annottext">firstOf :: Getting (Leftmost a) s a -&gt; s -&gt; Maybe a
</span><a href="Control.Lens.Fold.html#firstOf"><span class="hs-identifier hs-var hs-var">firstOf</span></a></span></span><span> </span><span id="local-6989586621679451629"><span class="annot"><span class="annottext">l :: Getting (Leftmost a) s a
</span><a href="#local-6989586621679451629"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Leftmost a -&gt; Maybe a
forall a. Leftmost a -&gt; Maybe a
</span><a href="Control.Lens.Internal.Fold.html#getLeftmost"><span class="hs-identifier hs-var">getLeftmost</span></a></span><span> </span><span class="annot"><span class="annottext">(Leftmost a -&gt; Maybe a) -&gt; (s -&gt; Leftmost a) -&gt; s -&gt; Maybe a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Leftmost a) s a -&gt; (a -&gt; Leftmost a) -&gt; s -&gt; Leftmost a
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Leftmost a) s a
</span><a href="#local-6989586621679451629"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Leftmost a
forall a. a -&gt; Leftmost a
</span><a href="Control.Lens.Internal.Fold.html#LLeaf"><span class="hs-identifier hs-var">LLeaf</span></a></span><span>
</span><span id="line-1342"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#firstOf"><span class="hs-pragma hs-type">firstOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1343"></span><span>
</span><span id="line-1344"></span><span class="hs-comment">-- | Retrieve the 'Data.Semigroup.First' entry of a 'Fold1' or 'Traversal1' or the result from a 'Getter' or 'Lens'.</span><span>
</span><span id="line-1345"></span><span class="hs-comment">--</span><span>
</span><span id="line-1346"></span><span class="hs-comment">-- &gt;&gt;&gt; first1Of traverse1 (1 :| [2..10])</span><span>
</span><span id="line-1347"></span><span class="hs-comment">-- 1</span><span>
</span><span id="line-1348"></span><span class="hs-comment">--</span><span>
</span><span id="line-1349"></span><span class="hs-comment">-- &gt;&gt;&gt; first1Of both1 (1,2)</span><span>
</span><span id="line-1350"></span><span class="hs-comment">-- 1</span><span>
</span><span id="line-1351"></span><span class="hs-comment">--</span><span>
</span><span id="line-1352"></span><span class="hs-comment">-- /Note:/ this is different from '^.'.</span><span>
</span><span id="line-1353"></span><span class="hs-comment">--</span><span>
</span><span id="line-1354"></span><span class="hs-comment">-- &gt;&gt;&gt; first1Of traverse1 ([1,2] :| [[3,4],[5,6]])</span><span>
</span><span id="line-1355"></span><span class="hs-comment">-- [1,2]</span><span>
</span><span id="line-1356"></span><span class="hs-comment">--</span><span>
</span><span id="line-1357"></span><span class="hs-comment">-- &gt;&gt;&gt; ([1,2] :| [[3,4],[5,6]]) ^. traverse1</span><span>
</span><span id="line-1358"></span><span class="hs-comment">-- [1,2,3,4,5,6]</span><span>
</span><span id="line-1359"></span><span class="hs-comment">--</span><span>
</span><span id="line-1360"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1361"></span><span class="hs-comment">-- 'first1Of' :: 'Getter' s a      -&gt; s -&gt; a</span><span>
</span><span id="line-1362"></span><span class="hs-comment">-- 'first1Of' :: 'Fold1' s a       -&gt; s -&gt; a</span><span>
</span><span id="line-1363"></span><span class="hs-comment">-- 'first1Of' :: 'Lens'' s a       -&gt; s -&gt; a</span><span>
</span><span id="line-1364"></span><span class="hs-comment">-- 'first1Of' :: 'Iso'' s a        -&gt; s -&gt; a</span><span>
</span><span id="line-1365"></span><span class="hs-comment">-- 'first1Of' :: 'Traversal1'' s a -&gt; s -&gt; a</span><span>
</span><span id="line-1366"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1367"></span><span id="local-6989586621679451625"><span id="local-6989586621679451626"><span class="annot"><a href="Control.Lens.Fold.html#first1Of"><span class="hs-identifier hs-type">first1Of</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Semi.First</span></span><span> </span><span class="annot"><a href="#local-6989586621679451626"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451625"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451626"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451625"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451626"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1368"></span><span id="first1Of"><span class="annot"><span class="annottext">first1Of :: Getting (First a) s a -&gt; s -&gt; a
</span><a href="Control.Lens.Fold.html#first1Of"><span class="hs-identifier hs-var hs-var">first1Of</span></a></span></span><span> </span><span id="local-6989586621679451624"><span class="annot"><span class="annottext">l :: Getting (First a) s a
</span><a href="#local-6989586621679451624"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">First a -&gt; a
forall a. First a -&gt; a
</span><span class="hs-identifier hs-var hs-var">Semi.getFirst</span></span><span> </span><span class="annot"><span class="annottext">(First a -&gt; a) -&gt; (s -&gt; First a) -&gt; s -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting (First a) s a -&gt; (a -&gt; First a) -&gt; s -&gt; First a
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (First a) s a
</span><a href="#local-6989586621679451624"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; First a
forall a. a -&gt; First a
</span><span class="hs-identifier hs-var">Semi.First</span></span><span>
</span><span id="line-1369"></span><span>
</span><span id="line-1370"></span><span class="hs-comment">-- | Retrieve the 'Last' entry of a 'Fold' or 'Traversal' or retrieve 'Just' the result</span><span>
</span><span id="line-1371"></span><span class="hs-comment">-- from a 'Getter' or 'Lens'.</span><span>
</span><span id="line-1372"></span><span class="hs-comment">--</span><span>
</span><span id="line-1373"></span><span class="hs-comment">-- The answer is computed in a manner that leaks space less than @'ala' 'Last' '.' 'foldMapOf'@</span><span>
</span><span id="line-1374"></span><span class="hs-comment">-- and gives you back access to the outermost 'Just' constructor more quickly, but may have worse</span><span>
</span><span id="line-1375"></span><span class="hs-comment">-- constant factors.</span><span>
</span><span id="line-1376"></span><span class="hs-comment">--</span><span>
</span><span id="line-1377"></span><span class="hs-comment">-- &gt;&gt;&gt; lastOf traverse [1..10]</span><span>
</span><span id="line-1378"></span><span class="hs-comment">-- Just 10</span><span>
</span><span id="line-1379"></span><span class="hs-comment">--</span><span>
</span><span id="line-1380"></span><span class="hs-comment">-- &gt;&gt;&gt; lastOf both (1,2)</span><span>
</span><span id="line-1381"></span><span class="hs-comment">-- Just 2</span><span>
</span><span id="line-1382"></span><span class="hs-comment">--</span><span>
</span><span id="line-1383"></span><span class="hs-comment">-- &gt;&gt;&gt; lastOf ignored ()</span><span>
</span><span id="line-1384"></span><span class="hs-comment">-- Nothing</span><span>
</span><span id="line-1385"></span><span class="hs-comment">--</span><span>
</span><span id="line-1386"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1387"></span><span class="hs-comment">-- 'lastOf' :: 'Getter' s a     -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1388"></span><span class="hs-comment">-- 'lastOf' :: 'Fold' s a       -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1389"></span><span class="hs-comment">-- 'lastOf' :: 'Lens'' s a      -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1390"></span><span class="hs-comment">-- 'lastOf' :: 'Iso'' s a       -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1391"></span><span class="hs-comment">-- 'lastOf' :: 'Traversal'' s a -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1392"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1393"></span><span id="local-6989586621679451620"><span id="local-6989586621679451621"><span class="annot"><a href="Control.Lens.Fold.html#lastOf"><span class="hs-identifier hs-type">lastOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Rightmost"><span class="hs-identifier hs-type">Rightmost</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451621"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451620"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451621"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451620"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451621"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1394"></span><span id="lastOf"><span class="annot"><span class="annottext">lastOf :: Getting (Rightmost a) s a -&gt; s -&gt; Maybe a
</span><a href="Control.Lens.Fold.html#lastOf"><span class="hs-identifier hs-var hs-var">lastOf</span></a></span></span><span> </span><span id="local-6989586621679451619"><span class="annot"><span class="annottext">l :: Getting (Rightmost a) s a
</span><a href="#local-6989586621679451619"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rightmost a -&gt; Maybe a
forall a. Rightmost a -&gt; Maybe a
</span><a href="Control.Lens.Internal.Fold.html#getRightmost"><span class="hs-identifier hs-var">getRightmost</span></a></span><span> </span><span class="annot"><span class="annottext">(Rightmost a -&gt; Maybe a) -&gt; (s -&gt; Rightmost a) -&gt; s -&gt; Maybe a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Rightmost a) s a -&gt; (a -&gt; Rightmost a) -&gt; s -&gt; Rightmost a
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Rightmost a) s a
</span><a href="#local-6989586621679451619"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Rightmost a
forall a. a -&gt; Rightmost a
</span><a href="Control.Lens.Internal.Fold.html#RLeaf"><span class="hs-identifier hs-var">RLeaf</span></a></span><span>
</span><span id="line-1395"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#lastOf"><span class="hs-pragma hs-type">lastOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1396"></span><span>
</span><span id="line-1397"></span><span class="hs-comment">-- | Retrieve the 'Data.Semigroup.Last' entry of a 'Fold1' or 'Traversal1' or retrieve the result</span><span>
</span><span id="line-1398"></span><span class="hs-comment">-- from a 'Getter' or 'Lens'.o</span><span>
</span><span id="line-1399"></span><span class="hs-comment">--</span><span>
</span><span id="line-1400"></span><span class="hs-comment">-- &gt;&gt;&gt; last1Of traverse1 (1 :| [2..10])</span><span>
</span><span id="line-1401"></span><span class="hs-comment">-- 10</span><span>
</span><span id="line-1402"></span><span class="hs-comment">--</span><span>
</span><span id="line-1403"></span><span class="hs-comment">-- &gt;&gt;&gt; last1Of both1 (1,2)</span><span>
</span><span id="line-1404"></span><span class="hs-comment">-- 2</span><span>
</span><span id="line-1405"></span><span class="hs-comment">--</span><span>
</span><span id="line-1406"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1407"></span><span class="hs-comment">-- 'last1Of' :: 'Getter' s a      -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1408"></span><span class="hs-comment">-- 'last1Of' :: 'Fold1' s a       -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1409"></span><span class="hs-comment">-- 'last1Of' :: 'Lens'' s a       -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1410"></span><span class="hs-comment">-- 'last1Of' :: 'Iso'' s a        -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1411"></span><span class="hs-comment">-- 'last1Of' :: 'Traversal1'' s a -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1412"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1413"></span><span id="local-6989586621679451615"><span id="local-6989586621679451616"><span class="annot"><a href="Control.Lens.Fold.html#last1Of"><span class="hs-identifier hs-type">last1Of</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Semi.Last</span></span><span> </span><span class="annot"><a href="#local-6989586621679451616"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451615"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451616"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451615"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451616"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1414"></span><span id="last1Of"><span class="annot"><span class="annottext">last1Of :: Getting (Last a) s a -&gt; s -&gt; a
</span><a href="Control.Lens.Fold.html#last1Of"><span class="hs-identifier hs-var hs-var">last1Of</span></a></span></span><span> </span><span id="local-6989586621679451614"><span class="annot"><span class="annottext">l :: Getting (Last a) s a
</span><a href="#local-6989586621679451614"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Last a -&gt; a
forall a. Last a -&gt; a
</span><span class="hs-identifier hs-var hs-var">Semi.getLast</span></span><span> </span><span class="annot"><span class="annottext">(Last a -&gt; a) -&gt; (s -&gt; Last a) -&gt; s -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Last a) s a -&gt; (a -&gt; Last a) -&gt; s -&gt; Last a
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Last a) s a
</span><a href="#local-6989586621679451614"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Last a
forall a. a -&gt; Last a
</span><span class="hs-identifier hs-var">Semi.Last</span></span><span>
</span><span id="line-1415"></span><span>
</span><span id="line-1416"></span><span class="hs-comment">-- | Returns 'True' if this 'Fold' or 'Traversal' has no targets in the given container.</span><span>
</span><span id="line-1417"></span><span class="hs-comment">--</span><span>
</span><span id="line-1418"></span><span class="hs-comment">-- Note: 'nullOf' on a valid 'Iso', 'Lens' or 'Getter' should always return 'False'.</span><span>
</span><span id="line-1419"></span><span class="hs-comment">--</span><span>
</span><span id="line-1420"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1421"></span><span class="hs-comment">-- 'null' &#8801; 'nullOf' 'folded'</span><span>
</span><span id="line-1422"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1423"></span><span class="hs-comment">--</span><span>
</span><span id="line-1424"></span><span class="hs-comment">-- This may be rather inefficient compared to the 'null' check of many containers.</span><span>
</span><span id="line-1425"></span><span class="hs-comment">--</span><span>
</span><span id="line-1426"></span><span class="hs-comment">-- &gt;&gt;&gt; nullOf _1 (1,2)</span><span>
</span><span id="line-1427"></span><span class="hs-comment">-- False</span><span>
</span><span id="line-1428"></span><span class="hs-comment">--</span><span>
</span><span id="line-1429"></span><span class="hs-comment">-- &gt;&gt;&gt; nullOf ignored ()</span><span>
</span><span id="line-1430"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-1431"></span><span class="hs-comment">--</span><span>
</span><span id="line-1432"></span><span class="hs-comment">-- &gt;&gt;&gt; nullOf traverse []</span><span>
</span><span id="line-1433"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-1434"></span><span class="hs-comment">--</span><span>
</span><span id="line-1435"></span><span class="hs-comment">-- &gt;&gt;&gt; nullOf (element 20) [1..10]</span><span>
</span><span id="line-1436"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-1437"></span><span class="hs-comment">--</span><span>
</span><span id="line-1438"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1439"></span><span class="hs-comment">-- 'nullOf' ('folded' '.' '_1' '.' 'folded') :: ('Foldable' f, 'Foldable' g) =&gt; f (g a, b) -&gt; 'Bool'</span><span>
</span><span id="line-1440"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1441"></span><span class="hs-comment">--</span><span>
</span><span id="line-1442"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1443"></span><span class="hs-comment">-- 'nullOf' :: 'Getter' s a     -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1444"></span><span class="hs-comment">-- 'nullOf' :: 'Fold' s a       -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1445"></span><span class="hs-comment">-- 'nullOf' :: 'Iso'' s a       -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1446"></span><span class="hs-comment">-- 'nullOf' :: 'Lens'' s a      -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1447"></span><span class="hs-comment">-- 'nullOf' :: 'Traversal'' s a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1448"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1449"></span><span id="local-6989586621679451610"><span id="local-6989586621679451611"><span class="annot"><a href="Control.Lens.Fold.html#nullOf"><span class="hs-identifier hs-type">nullOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">All</span></span><span> </span><span class="annot"><a href="#local-6989586621679451611"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451610"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451611"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-1450"></span><span id="nullOf"><span class="annot"><span class="annottext">nullOf :: Getting All s a -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#nullOf"><span class="hs-identifier hs-var hs-var">nullOf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting All s a -&gt; s -&gt; Bool
forall s a. Getting All s a -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#hasn%27t"><span class="hs-identifier hs-var">hasn't</span></a></span><span>
</span><span id="line-1451"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#nullOf"><span class="hs-pragma hs-type">nullOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1452"></span><span>
</span><span id="line-1453"></span><span class="hs-comment">-- | Returns 'True' if this 'Fold' or 'Traversal' has any targets in the given container.</span><span>
</span><span id="line-1454"></span><span class="hs-comment">--</span><span>
</span><span id="line-1455"></span><span class="hs-comment">-- A more \&quot;conversational\&quot; alias for this combinator is 'has'.</span><span>
</span><span id="line-1456"></span><span class="hs-comment">--</span><span>
</span><span id="line-1457"></span><span class="hs-comment">-- Note: 'notNullOf' on a valid 'Iso', 'Lens' or 'Getter' should always return 'True'.</span><span>
</span><span id="line-1458"></span><span class="hs-comment">--</span><span>
</span><span id="line-1459"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1460"></span><span class="hs-comment">-- 'not' '.' 'null' &#8801; 'notNullOf' 'folded'</span><span>
</span><span id="line-1461"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1462"></span><span class="hs-comment">--</span><span>
</span><span id="line-1463"></span><span class="hs-comment">-- This may be rather inefficient compared to the @'not' '.' 'null'@ check of many containers.</span><span>
</span><span id="line-1464"></span><span class="hs-comment">--</span><span>
</span><span id="line-1465"></span><span class="hs-comment">-- &gt;&gt;&gt; notNullOf _1 (1,2)</span><span>
</span><span id="line-1466"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-1467"></span><span class="hs-comment">--</span><span>
</span><span id="line-1468"></span><span class="hs-comment">-- &gt;&gt;&gt; notNullOf traverse [1..10]</span><span>
</span><span id="line-1469"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-1470"></span><span class="hs-comment">--</span><span>
</span><span id="line-1471"></span><span class="hs-comment">-- &gt;&gt;&gt; notNullOf folded []</span><span>
</span><span id="line-1472"></span><span class="hs-comment">-- False</span><span>
</span><span id="line-1473"></span><span class="hs-comment">--</span><span>
</span><span id="line-1474"></span><span class="hs-comment">-- &gt;&gt;&gt; notNullOf (element 20) [1..10]</span><span>
</span><span id="line-1475"></span><span class="hs-comment">-- False</span><span>
</span><span id="line-1476"></span><span class="hs-comment">--</span><span>
</span><span id="line-1477"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1478"></span><span class="hs-comment">-- 'notNullOf' ('folded' '.' '_1' '.' 'folded') :: ('Foldable' f, 'Foldable' g) =&gt; f (g a, b) -&gt; 'Bool'</span><span>
</span><span id="line-1479"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1480"></span><span class="hs-comment">--</span><span>
</span><span id="line-1481"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1482"></span><span class="hs-comment">-- 'notNullOf' :: 'Getter' s a     -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1483"></span><span class="hs-comment">-- 'notNullOf' :: 'Fold' s a       -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1484"></span><span class="hs-comment">-- 'notNullOf' :: 'Iso'' s a       -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1485"></span><span class="hs-comment">-- 'notNullOf' :: 'Lens'' s a      -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1486"></span><span class="hs-comment">-- 'notNullOf' :: 'Traversal'' s a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1487"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1488"></span><span id="local-6989586621679451608"><span id="local-6989586621679451609"><span class="annot"><a href="Control.Lens.Fold.html#notNullOf"><span class="hs-identifier hs-type">notNullOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Any</span></span><span> </span><span class="annot"><a href="#local-6989586621679451609"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451608"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451609"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-1489"></span><span id="notNullOf"><span class="annot"><span class="annottext">notNullOf :: Getting Any s a -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#notNullOf"><span class="hs-identifier hs-var hs-var">notNullOf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting Any s a -&gt; s -&gt; Bool
forall s a. Getting Any s a -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#has"><span class="hs-identifier hs-var">has</span></a></span><span>
</span><span id="line-1490"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#notNullOf"><span class="hs-pragma hs-type">notNullOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1491"></span><span>
</span><span id="line-1492"></span><span class="hs-comment">-- | Obtain the maximum element (if any) targeted by a 'Fold' or 'Traversal' safely.</span><span>
</span><span id="line-1493"></span><span class="hs-comment">--</span><span>
</span><span id="line-1494"></span><span class="hs-comment">-- Note: 'maximumOf' on a valid 'Iso', 'Lens' or 'Getter' will always return 'Just' a value.</span><span>
</span><span id="line-1495"></span><span class="hs-comment">--</span><span>
</span><span id="line-1496"></span><span class="hs-comment">-- &gt;&gt;&gt; maximumOf traverse [1..10]</span><span>
</span><span id="line-1497"></span><span class="hs-comment">-- Just 10</span><span>
</span><span id="line-1498"></span><span class="hs-comment">--</span><span>
</span><span id="line-1499"></span><span class="hs-comment">-- &gt;&gt;&gt; maximumOf traverse []</span><span>
</span><span id="line-1500"></span><span class="hs-comment">-- Nothing</span><span>
</span><span id="line-1501"></span><span class="hs-comment">--</span><span>
</span><span id="line-1502"></span><span class="hs-comment">-- &gt;&gt;&gt; maximumOf (folded.filtered even) [1,4,3,6,7,9,2]</span><span>
</span><span id="line-1503"></span><span class="hs-comment">-- Just 6</span><span>
</span><span id="line-1504"></span><span class="hs-comment">--</span><span>
</span><span id="line-1505"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1506"></span><span class="hs-comment">-- 'maximum' &#8801; 'fromMaybe' ('error' \&quot;empty\&quot;) '.' 'maximumOf' 'folded'</span><span>
</span><span id="line-1507"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1508"></span><span class="hs-comment">--</span><span>
</span><span id="line-1509"></span><span class="hs-comment">-- In the interest of efficiency, This operation has semantics more strict than strictly necessary.</span><span>
</span><span id="line-1510"></span><span class="hs-comment">-- @'rmap' 'getMax' ('foldMapOf' l 'Max')@ has lazier semantics but could leak memory.</span><span>
</span><span id="line-1511"></span><span class="hs-comment">--</span><span>
</span><span id="line-1512"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1513"></span><span class="hs-comment">-- 'maximumOf' :: 'Ord' a =&gt; 'Getter' s a     -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1514"></span><span class="hs-comment">-- 'maximumOf' :: 'Ord' a =&gt; 'Fold' s a       -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1515"></span><span class="hs-comment">-- 'maximumOf' :: 'Ord' a =&gt; 'Iso'' s a       -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1516"></span><span class="hs-comment">-- 'maximumOf' :: 'Ord' a =&gt; 'Lens'' s a      -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1517"></span><span class="hs-comment">-- 'maximumOf' :: 'Ord' a =&gt; 'Traversal'' s a -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1518"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1519"></span><span id="local-6989586621679451606"><span id="local-6989586621679451607"><span class="annot"><a href="Control.Lens.Fold.html#maximumOf"><span class="hs-identifier hs-type">maximumOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679451607"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451607"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451606"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451607"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451606"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451607"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1520"></span><span id="maximumOf"><span class="annot"><span class="annottext">maximumOf :: Getting (Endo (Endo (Maybe a))) s a -&gt; s -&gt; Maybe a
</span><a href="Control.Lens.Fold.html#maximumOf"><span class="hs-identifier hs-var hs-var">maximumOf</span></a></span></span><span> </span><span id="local-6989586621679451605"><span class="annot"><span class="annottext">l :: Getting (Endo (Endo (Maybe a))) s a
</span><a href="#local-6989586621679451605"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo (Maybe a))) s a
-&gt; (Maybe a -&gt; a -&gt; Maybe a) -&gt; Maybe a -&gt; s -&gt; Maybe a
forall r s a.
Getting (Endo (Endo r)) s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldlOf%27"><span class="hs-identifier hs-var">foldlOf'</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo (Maybe a))) s a
</span><a href="#local-6989586621679451605"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; a -&gt; Maybe a
forall a. Ord a =&gt; Maybe a -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679451604"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1521"></span><span>  </span><span id="local-6989586621679451604"><span class="annot"><span class="annottext">mf :: Maybe a -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679451604"><span class="hs-identifier hs-var hs-var">mf</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span id="local-6989586621679451603"><span class="annot"><span class="annottext">y :: a
</span><a href="#local-6989586621679451603"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451603"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1522"></span><span>  </span><span class="annot"><a href="#local-6989586621679451604"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679451601"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451601"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679451600"><span class="annot"><span class="annottext">y :: a
</span><a href="#local-6989586621679451600"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451601"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451600"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1523"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#maximumOf"><span class="hs-pragma hs-type">maximumOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1524"></span><span>
</span><span id="line-1525"></span><span class="hs-comment">-- | Obtain the maximum element targeted by a 'Fold1' or 'Traversal1'.</span><span>
</span><span id="line-1526"></span><span class="hs-comment">--</span><span>
</span><span id="line-1527"></span><span class="hs-comment">-- &gt;&gt;&gt; maximum1Of traverse1 (1 :| [2..10])</span><span>
</span><span id="line-1528"></span><span class="hs-comment">-- 10</span><span>
</span><span id="line-1529"></span><span class="hs-comment">--</span><span>
</span><span id="line-1530"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1531"></span><span class="hs-comment">-- 'maximum1Of' :: 'Ord' a =&gt; 'Getter' s a      -&gt; s -&gt; a</span><span>
</span><span id="line-1532"></span><span class="hs-comment">-- 'maximum1Of' :: 'Ord' a =&gt; 'Fold1' s a       -&gt; s -&gt; a</span><span>
</span><span id="line-1533"></span><span class="hs-comment">-- 'maximum1Of' :: 'Ord' a =&gt; 'Iso'' s a        -&gt; s -&gt; a</span><span>
</span><span id="line-1534"></span><span class="hs-comment">-- 'maximum1Of' :: 'Ord' a =&gt; 'Lens'' s a       -&gt; s -&gt; a</span><span>
</span><span id="line-1535"></span><span class="hs-comment">-- 'maximum1Of' :: 'Ord' a =&gt; 'Traversal1'' s a -&gt; s -&gt; a</span><span>
</span><span id="line-1536"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1537"></span><span id="local-6989586621679451597"><span id="local-6989586621679451598"><span class="annot"><a href="Control.Lens.Fold.html#maximum1Of"><span class="hs-identifier hs-type">maximum1Of</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679451598"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Semi.Max</span></span><span> </span><span class="annot"><a href="#local-6989586621679451598"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451597"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451598"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451597"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451598"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1538"></span><span id="maximum1Of"><span class="annot"><span class="annottext">maximum1Of :: Getting (Max a) s a -&gt; s -&gt; a
</span><a href="Control.Lens.Fold.html#maximum1Of"><span class="hs-identifier hs-var hs-var">maximum1Of</span></a></span></span><span> </span><span id="local-6989586621679451596"><span class="annot"><span class="annottext">l :: Getting (Max a) s a
</span><a href="#local-6989586621679451596"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Max a -&gt; a
forall a. Max a -&gt; a
</span><span class="hs-identifier hs-var hs-var">Semi.getMax</span></span><span> </span><span class="annot"><span class="annottext">(Max a -&gt; a) -&gt; (s -&gt; Max a) -&gt; s -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Max a) s a -&gt; (a -&gt; Max a) -&gt; s -&gt; Max a
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Max a) s a
</span><a href="#local-6989586621679451596"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Max a
forall a. a -&gt; Max a
</span><span class="hs-identifier hs-var">Semi.Max</span></span><span>
</span><span id="line-1539"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#maximum1Of"><span class="hs-pragma hs-type">maximum1Of</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1540"></span><span>
</span><span id="line-1541"></span><span class="hs-comment">-- | Obtain the minimum element (if any) targeted by a 'Fold' or 'Traversal' safely.</span><span>
</span><span id="line-1542"></span><span class="hs-comment">--</span><span>
</span><span id="line-1543"></span><span class="hs-comment">-- Note: 'minimumOf' on a valid 'Iso', 'Lens' or 'Getter' will always return 'Just' a value.</span><span>
</span><span id="line-1544"></span><span class="hs-comment">--</span><span>
</span><span id="line-1545"></span><span class="hs-comment">-- &gt;&gt;&gt; minimumOf traverse [1..10]</span><span>
</span><span id="line-1546"></span><span class="hs-comment">-- Just 1</span><span>
</span><span id="line-1547"></span><span class="hs-comment">--</span><span>
</span><span id="line-1548"></span><span class="hs-comment">-- &gt;&gt;&gt; minimumOf traverse []</span><span>
</span><span id="line-1549"></span><span class="hs-comment">-- Nothing</span><span>
</span><span id="line-1550"></span><span class="hs-comment">--</span><span>
</span><span id="line-1551"></span><span class="hs-comment">-- &gt;&gt;&gt; minimumOf (folded.filtered even) [1,4,3,6,7,9,2]</span><span>
</span><span id="line-1552"></span><span class="hs-comment">-- Just 2</span><span>
</span><span id="line-1553"></span><span class="hs-comment">--</span><span>
</span><span id="line-1554"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1555"></span><span class="hs-comment">-- 'minimum' &#8801; 'Data.Maybe.fromMaybe' ('error' \&quot;empty\&quot;) '.' 'minimumOf' 'folded'</span><span>
</span><span id="line-1556"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1557"></span><span class="hs-comment">--</span><span>
</span><span id="line-1558"></span><span class="hs-comment">-- In the interest of efficiency, This operation has semantics more strict than strictly necessary.</span><span>
</span><span id="line-1559"></span><span class="hs-comment">-- @'rmap' 'getMin' ('foldMapOf' l 'Min')@ has lazier semantics but could leak memory.</span><span>
</span><span id="line-1560"></span><span class="hs-comment">--</span><span>
</span><span id="line-1561"></span><span class="hs-comment">--</span><span>
</span><span id="line-1562"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1563"></span><span class="hs-comment">-- 'minimumOf' :: 'Ord' a =&gt; 'Getter' s a     -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1564"></span><span class="hs-comment">-- 'minimumOf' :: 'Ord' a =&gt; 'Fold' s a       -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1565"></span><span class="hs-comment">-- 'minimumOf' :: 'Ord' a =&gt; 'Iso'' s a       -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1566"></span><span class="hs-comment">-- 'minimumOf' :: 'Ord' a =&gt; 'Lens'' s a      -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1567"></span><span class="hs-comment">-- 'minimumOf' :: 'Ord' a =&gt; 'Traversal'' s a -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1568"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1569"></span><span id="local-6989586621679451592"><span id="local-6989586621679451593"><span class="annot"><a href="Control.Lens.Fold.html#minimumOf"><span class="hs-identifier hs-type">minimumOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679451593"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451593"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451592"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451593"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451592"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451593"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1570"></span><span id="minimumOf"><span class="annot"><span class="annottext">minimumOf :: Getting (Endo (Endo (Maybe a))) s a -&gt; s -&gt; Maybe a
</span><a href="Control.Lens.Fold.html#minimumOf"><span class="hs-identifier hs-var hs-var">minimumOf</span></a></span></span><span> </span><span id="local-6989586621679451591"><span class="annot"><span class="annottext">l :: Getting (Endo (Endo (Maybe a))) s a
</span><a href="#local-6989586621679451591"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo (Maybe a))) s a
-&gt; (Maybe a -&gt; a -&gt; Maybe a) -&gt; Maybe a -&gt; s -&gt; Maybe a
forall r s a.
Getting (Endo (Endo r)) s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldlOf%27"><span class="hs-identifier hs-var">foldlOf'</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo (Maybe a))) s a
</span><a href="#local-6989586621679451591"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; a -&gt; Maybe a
forall a. Ord a =&gt; Maybe a -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679451590"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1571"></span><span>  </span><span id="local-6989586621679451590"><span class="annot"><span class="annottext">mf :: Maybe a -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679451590"><span class="hs-identifier hs-var hs-var">mf</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span id="local-6989586621679451589"><span class="annot"><span class="annottext">y :: a
</span><a href="#local-6989586621679451589"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451589"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1572"></span><span>  </span><span class="annot"><a href="#local-6989586621679451590"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679451588"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451588"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679451587"><span class="annot"><span class="annottext">y :: a
</span><a href="#local-6989586621679451587"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451588"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451587"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1573"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#minimumOf"><span class="hs-pragma hs-type">minimumOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1574"></span><span>
</span><span id="line-1575"></span><span class="hs-comment">-- | Obtain the minimum element targeted by a 'Fold1' or 'Traversal1'.</span><span>
</span><span id="line-1576"></span><span class="hs-comment">--</span><span>
</span><span id="line-1577"></span><span class="hs-comment">-- &gt;&gt;&gt; minimum1Of traverse1 (1 :| [2..10])</span><span>
</span><span id="line-1578"></span><span class="hs-comment">-- 1</span><span>
</span><span id="line-1579"></span><span class="hs-comment">--</span><span>
</span><span id="line-1580"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1581"></span><span class="hs-comment">-- 'minimum1Of' :: 'Ord' a =&gt; 'Getter' s a      -&gt; s -&gt; a</span><span>
</span><span id="line-1582"></span><span class="hs-comment">-- 'minimum1Of' :: 'Ord' a =&gt; 'Fold1' s a       -&gt; s -&gt; a</span><span>
</span><span id="line-1583"></span><span class="hs-comment">-- 'minimum1Of' :: 'Ord' a =&gt; 'Iso'' s a        -&gt; s -&gt; a</span><span>
</span><span id="line-1584"></span><span class="hs-comment">-- 'minimum1Of' :: 'Ord' a =&gt; 'Lens'' s a       -&gt; s -&gt; a</span><span>
</span><span id="line-1585"></span><span class="hs-comment">-- 'minimum1Of' :: 'Ord' a =&gt; 'Traversal1'' s a -&gt; s -&gt; a</span><span>
</span><span id="line-1586"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1587"></span><span id="local-6989586621679451584"><span id="local-6989586621679451585"><span class="annot"><a href="Control.Lens.Fold.html#minimum1Of"><span class="hs-identifier hs-type">minimum1Of</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679451585"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Semi.Min</span></span><span> </span><span class="annot"><a href="#local-6989586621679451585"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451584"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451585"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451584"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451585"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1588"></span><span id="minimum1Of"><span class="annot"><span class="annottext">minimum1Of :: Getting (Min a) s a -&gt; s -&gt; a
</span><a href="Control.Lens.Fold.html#minimum1Of"><span class="hs-identifier hs-var hs-var">minimum1Of</span></a></span></span><span> </span><span id="local-6989586621679451583"><span class="annot"><span class="annottext">l :: Getting (Min a) s a
</span><a href="#local-6989586621679451583"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Min a -&gt; a
forall a. Min a -&gt; a
</span><span class="hs-identifier hs-var hs-var">Semi.getMin</span></span><span> </span><span class="annot"><span class="annottext">(Min a -&gt; a) -&gt; (s -&gt; Min a) -&gt; s -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting (Min a) s a -&gt; (a -&gt; Min a) -&gt; s -&gt; Min a
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Min a) s a
</span><a href="#local-6989586621679451583"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Min a
forall a. a -&gt; Min a
</span><span class="hs-identifier hs-var">Semi.Min</span></span><span>
</span><span id="line-1589"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#minimum1Of"><span class="hs-pragma hs-type">minimum1Of</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1590"></span><span>
</span><span id="line-1591"></span><span class="hs-comment">-- | Obtain the maximum element (if any) targeted by a 'Fold', 'Traversal', 'Lens', 'Iso',</span><span>
</span><span id="line-1592"></span><span class="hs-comment">-- or 'Getter' according to a user supplied 'Ordering'.</span><span>
</span><span id="line-1593"></span><span class="hs-comment">--</span><span>
</span><span id="line-1594"></span><span class="hs-comment">-- &gt;&gt;&gt; maximumByOf traverse (compare `on` length) [&quot;mustard&quot;,&quot;relish&quot;,&quot;ham&quot;]</span><span>
</span><span id="line-1595"></span><span class="hs-comment">-- Just &quot;mustard&quot;</span><span>
</span><span id="line-1596"></span><span class="hs-comment">--</span><span>
</span><span id="line-1597"></span><span class="hs-comment">-- In the interest of efficiency, This operation has semantics more strict than strictly necessary.</span><span>
</span><span id="line-1598"></span><span class="hs-comment">--</span><span>
</span><span id="line-1599"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1600"></span><span class="hs-comment">-- 'Data.Foldable.maximumBy' cmp &#8801; 'Data.Maybe.fromMaybe' ('error' \&quot;empty\&quot;) '.' 'maximumByOf' 'folded' cmp</span><span>
</span><span id="line-1601"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1602"></span><span class="hs-comment">--</span><span>
</span><span id="line-1603"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1604"></span><span class="hs-comment">-- 'maximumByOf' :: 'Getter' s a     -&gt; (a -&gt; a -&gt; 'Ordering') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1605"></span><span class="hs-comment">-- 'maximumByOf' :: 'Fold' s a       -&gt; (a -&gt; a -&gt; 'Ordering') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1606"></span><span class="hs-comment">-- 'maximumByOf' :: 'Iso'' s a       -&gt; (a -&gt; a -&gt; 'Ordering') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1607"></span><span class="hs-comment">-- 'maximumByOf' :: 'Lens'' s a      -&gt; (a -&gt; a -&gt; 'Ordering') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1608"></span><span class="hs-comment">-- 'maximumByOf' :: 'Traversal'' s a -&gt; (a -&gt; a -&gt; 'Ordering') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1609"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1610"></span><span id="local-6989586621679451579"><span id="local-6989586621679451580"><span class="annot"><a href="Control.Lens.Fold.html#maximumByOf"><span class="hs-identifier hs-type">maximumByOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451580"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451579"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451580"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451580"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451580"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ordering</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451579"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451580"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1611"></span><span id="maximumByOf"><span class="annot"><span class="annottext">maximumByOf :: Getting (Endo (Endo (Maybe a))) s a
-&gt; (a -&gt; a -&gt; Ordering) -&gt; s -&gt; Maybe a
</span><a href="Control.Lens.Fold.html#maximumByOf"><span class="hs-identifier hs-var hs-var">maximumByOf</span></a></span></span><span> </span><span id="local-6989586621679451578"><span class="annot"><span class="annottext">l :: Getting (Endo (Endo (Maybe a))) s a
</span><a href="#local-6989586621679451578"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451577"><span class="annot"><span class="annottext">cmp :: a -&gt; a -&gt; Ordering
</span><a href="#local-6989586621679451577"><span class="hs-identifier hs-var">cmp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo (Maybe a))) s a
-&gt; (Maybe a -&gt; a -&gt; Maybe a) -&gt; Maybe a -&gt; s -&gt; Maybe a
forall r s a.
Getting (Endo (Endo r)) s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldlOf%27"><span class="hs-identifier hs-var">foldlOf'</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo (Maybe a))) s a
</span><a href="#local-6989586621679451578"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679451576"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1612"></span><span>  </span><span id="local-6989586621679451576"><span class="annot"><span class="annottext">mf :: Maybe a -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679451576"><span class="hs-identifier hs-var hs-var">mf</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span id="local-6989586621679451575"><span class="annot"><span class="annottext">y :: a
</span><a href="#local-6989586621679451575"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451575"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1613"></span><span>  </span><span class="annot"><a href="#local-6989586621679451576"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679451574"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451574"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679451573"><span class="annot"><span class="annottext">y :: a
</span><a href="#local-6989586621679451573"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Ordering
</span><a href="#local-6989586621679451577"><span class="hs-identifier hs-var">cmp</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451574"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451573"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Ordering -&gt; Ordering -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451574"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451573"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1614"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#maximumByOf"><span class="hs-pragma hs-type">maximumByOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1615"></span><span>
</span><span id="line-1616"></span><span class="hs-comment">-- | Obtain the minimum element (if any) targeted by a 'Fold', 'Traversal', 'Lens', 'Iso'</span><span>
</span><span id="line-1617"></span><span class="hs-comment">-- or 'Getter' according to a user supplied 'Ordering'.</span><span>
</span><span id="line-1618"></span><span class="hs-comment">--</span><span>
</span><span id="line-1619"></span><span class="hs-comment">-- In the interest of efficiency, This operation has semantics more strict than strictly necessary.</span><span>
</span><span id="line-1620"></span><span class="hs-comment">--</span><span>
</span><span id="line-1621"></span><span class="hs-comment">-- &gt;&gt;&gt; minimumByOf traverse (compare `on` length) [&quot;mustard&quot;,&quot;relish&quot;,&quot;ham&quot;]</span><span>
</span><span id="line-1622"></span><span class="hs-comment">-- Just &quot;ham&quot;</span><span>
</span><span id="line-1623"></span><span class="hs-comment">--</span><span>
</span><span id="line-1624"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1625"></span><span class="hs-comment">-- 'minimumBy' cmp &#8801; 'Data.Maybe.fromMaybe' ('error' \&quot;empty\&quot;) '.' 'minimumByOf' 'folded' cmp</span><span>
</span><span id="line-1626"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1627"></span><span class="hs-comment">--</span><span>
</span><span id="line-1628"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1629"></span><span class="hs-comment">-- 'minimumByOf' :: 'Getter' s a     -&gt; (a -&gt; a -&gt; 'Ordering') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1630"></span><span class="hs-comment">-- 'minimumByOf' :: 'Fold' s a       -&gt; (a -&gt; a -&gt; 'Ordering') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1631"></span><span class="hs-comment">-- 'minimumByOf' :: 'Iso'' s a       -&gt; (a -&gt; a -&gt; 'Ordering') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1632"></span><span class="hs-comment">-- 'minimumByOf' :: 'Lens'' s a      -&gt; (a -&gt; a -&gt; 'Ordering') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1633"></span><span class="hs-comment">-- 'minimumByOf' :: 'Traversal'' s a -&gt; (a -&gt; a -&gt; 'Ordering') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1634"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1635"></span><span id="local-6989586621679451571"><span id="local-6989586621679451572"><span class="annot"><a href="Control.Lens.Fold.html#minimumByOf"><span class="hs-identifier hs-type">minimumByOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451572"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451571"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451572"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451572"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451572"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ordering</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451571"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451572"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1636"></span><span id="minimumByOf"><span class="annot"><span class="annottext">minimumByOf :: Getting (Endo (Endo (Maybe a))) s a
-&gt; (a -&gt; a -&gt; Ordering) -&gt; s -&gt; Maybe a
</span><a href="Control.Lens.Fold.html#minimumByOf"><span class="hs-identifier hs-var hs-var">minimumByOf</span></a></span></span><span> </span><span id="local-6989586621679451570"><span class="annot"><span class="annottext">l :: Getting (Endo (Endo (Maybe a))) s a
</span><a href="#local-6989586621679451570"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451569"><span class="annot"><span class="annottext">cmp :: a -&gt; a -&gt; Ordering
</span><a href="#local-6989586621679451569"><span class="hs-identifier hs-var">cmp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo (Maybe a))) s a
-&gt; (Maybe a -&gt; a -&gt; Maybe a) -&gt; Maybe a -&gt; s -&gt; Maybe a
forall r s a.
Getting (Endo (Endo r)) s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldlOf%27"><span class="hs-identifier hs-var">foldlOf'</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo (Maybe a))) s a
</span><a href="#local-6989586621679451570"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679451568"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1637"></span><span>  </span><span id="local-6989586621679451568"><span class="annot"><span class="annottext">mf :: Maybe a -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679451568"><span class="hs-identifier hs-var hs-var">mf</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span id="local-6989586621679451567"><span class="annot"><span class="annottext">y :: a
</span><a href="#local-6989586621679451567"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451567"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1638"></span><span>  </span><span class="annot"><a href="#local-6989586621679451568"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679451566"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451566"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679451565"><span class="annot"><span class="annottext">y :: a
</span><a href="#local-6989586621679451565"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Ordering
</span><a href="#local-6989586621679451569"><span class="hs-identifier hs-var">cmp</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451566"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451565"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Ordering -&gt; Ordering -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451565"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451566"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1639"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#minimumByOf"><span class="hs-pragma hs-type">minimumByOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1640"></span><span>
</span><span id="line-1641"></span><span class="hs-comment">-- | The 'findOf' function takes a 'Lens' (or 'Getter', 'Iso', 'Fold', or 'Traversal'),</span><span>
</span><span id="line-1642"></span><span class="hs-comment">-- a predicate and a structure and returns the leftmost element of the structure</span><span>
</span><span id="line-1643"></span><span class="hs-comment">-- matching the predicate, or 'Nothing' if there is no such element.</span><span>
</span><span id="line-1644"></span><span class="hs-comment">--</span><span>
</span><span id="line-1645"></span><span class="hs-comment">-- &gt;&gt;&gt; findOf each even (1,3,4,6)</span><span>
</span><span id="line-1646"></span><span class="hs-comment">-- Just 4</span><span>
</span><span id="line-1647"></span><span class="hs-comment">--</span><span>
</span><span id="line-1648"></span><span class="hs-comment">-- &gt;&gt;&gt; findOf folded even [1,3,5,7]</span><span>
</span><span id="line-1649"></span><span class="hs-comment">-- Nothing</span><span>
</span><span id="line-1650"></span><span class="hs-comment">--</span><span>
</span><span id="line-1651"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1652"></span><span class="hs-comment">-- 'findOf' :: 'Getter' s a     -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1653"></span><span class="hs-comment">-- 'findOf' :: 'Fold' s a       -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1654"></span><span class="hs-comment">-- 'findOf' :: 'Iso'' s a       -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1655"></span><span class="hs-comment">-- 'findOf' :: 'Lens'' s a      -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1656"></span><span class="hs-comment">-- 'findOf' :: 'Traversal'' s a -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1657"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1658"></span><span class="hs-comment">--</span><span>
</span><span id="line-1659"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1660"></span><span class="hs-comment">-- 'Data.Foldable.find' &#8801; 'findOf' 'folded'</span><span>
</span><span id="line-1661"></span><span class="hs-comment">-- 'ifindOf' l &#8801; 'findOf' l '.' 'Indexed'</span><span>
</span><span id="line-1662"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1663"></span><span class="hs-comment">--</span><span>
</span><span id="line-1664"></span><span class="hs-comment">-- A simpler version that didn't permit indexing, would be:</span><span>
</span><span id="line-1665"></span><span class="hs-comment">--</span><span>
</span><span id="line-1666"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1667"></span><span class="hs-comment">-- 'findOf' :: 'Getting' ('Endo' ('Maybe' a)) s a -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-1668"></span><span class="hs-comment">-- 'findOf' l p = 'foldrOf' l (\a y -&gt; if p a then 'Just' a else y) 'Nothing'</span><span>
</span><span id="line-1669"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1670"></span><span id="local-6989586621679451563"><span id="local-6989586621679451564"><span class="annot"><a href="Control.Lens.Fold.html#findOf"><span class="hs-identifier hs-type">findOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451564"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451563"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451564"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451564"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451563"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451564"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1671"></span><span id="findOf"><span class="annot"><span class="annottext">findOf :: Getting (Endo (Maybe a)) s a -&gt; (a -&gt; Bool) -&gt; s -&gt; Maybe a
</span><a href="Control.Lens.Fold.html#findOf"><span class="hs-identifier hs-var hs-var">findOf</span></a></span></span><span> </span><span id="local-6989586621679451562"><span class="annot"><span class="annottext">l :: Getting (Endo (Maybe a)) s a
</span><a href="#local-6989586621679451562"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451561"><span class="annot"><span class="annottext">f :: a -&gt; Bool
</span><a href="#local-6989586621679451561"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Maybe a)) s a
-&gt; (a -&gt; Maybe a -&gt; Maybe a) -&gt; Maybe a -&gt; s -&gt; Maybe a
forall r s a. Getting (Endo r) s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldrOf"><span class="hs-identifier hs-var">foldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Maybe a)) s a
</span><a href="#local-6989586621679451562"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451560"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451560"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679451559"><span class="annot"><span class="annottext">y :: Maybe a
</span><a href="#local-6989586621679451559"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679451561"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451560"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451560"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679451559"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1672"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#findOf"><span class="hs-pragma hs-type">findOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1673"></span><span>
</span><span id="line-1674"></span><span class="hs-comment">-- | The 'findMOf' function takes a 'Lens' (or 'Getter', 'Iso', 'Fold', or 'Traversal'),</span><span>
</span><span id="line-1675"></span><span class="hs-comment">-- a monadic predicate and a structure and returns in the monad the leftmost element of the structure</span><span>
</span><span id="line-1676"></span><span class="hs-comment">-- matching the predicate, or 'Nothing' if there is no such element.</span><span>
</span><span id="line-1677"></span><span class="hs-comment">--</span><span>
</span><span id="line-1678"></span><span class="hs-comment">-- &gt;&gt;&gt;  findMOf each ( \x -&gt; print (&quot;Checking &quot; ++ show x) &gt;&gt; return (even x)) (1,3,4,6)</span><span>
</span><span id="line-1679"></span><span class="hs-comment">-- &quot;Checking 1&quot;</span><span>
</span><span id="line-1680"></span><span class="hs-comment">-- &quot;Checking 3&quot;</span><span>
</span><span id="line-1681"></span><span class="hs-comment">-- &quot;Checking 4&quot;</span><span>
</span><span id="line-1682"></span><span class="hs-comment">-- Just 4</span><span>
</span><span id="line-1683"></span><span class="hs-comment">--</span><span>
</span><span id="line-1684"></span><span class="hs-comment">-- &gt;&gt;&gt;  findMOf each ( \x -&gt; print (&quot;Checking &quot; ++ show x) &gt;&gt; return (even x)) (1,3,5,7)</span><span>
</span><span id="line-1685"></span><span class="hs-comment">-- &quot;Checking 1&quot;</span><span>
</span><span id="line-1686"></span><span class="hs-comment">-- &quot;Checking 3&quot;</span><span>
</span><span id="line-1687"></span><span class="hs-comment">-- &quot;Checking 5&quot;</span><span>
</span><span id="line-1688"></span><span class="hs-comment">-- &quot;Checking 7&quot;</span><span>
</span><span id="line-1689"></span><span class="hs-comment">-- Nothing</span><span>
</span><span id="line-1690"></span><span class="hs-comment">--</span><span>
</span><span id="line-1691"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1692"></span><span class="hs-comment">-- 'findMOf' :: ('Monad' m, 'Getter' s a)     -&gt; (a -&gt; m 'Bool') -&gt; s -&gt; m ('Maybe' a)</span><span>
</span><span id="line-1693"></span><span class="hs-comment">-- 'findMOf' :: ('Monad' m, 'Fold' s a)       -&gt; (a -&gt; m 'Bool') -&gt; s -&gt; m ('Maybe' a)</span><span>
</span><span id="line-1694"></span><span class="hs-comment">-- 'findMOf' :: ('Monad' m, 'Iso'' s a)       -&gt; (a -&gt; m 'Bool') -&gt; s -&gt; m ('Maybe' a)</span><span>
</span><span id="line-1695"></span><span class="hs-comment">-- 'findMOf' :: ('Monad' m, 'Lens'' s a)      -&gt; (a -&gt; m 'Bool') -&gt; s -&gt; m ('Maybe' a)</span><span>
</span><span id="line-1696"></span><span class="hs-comment">-- 'findMOf' :: ('Monad' m, 'Traversal'' s a) -&gt; (a -&gt; m 'Bool') -&gt; s -&gt; m ('Maybe' a)</span><span>
</span><span id="line-1697"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1698"></span><span class="hs-comment">--</span><span>
</span><span id="line-1699"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1700"></span><span class="hs-comment">-- 'findMOf' 'folded' :: (Monad m, Foldable f) =&gt; (a -&gt; m Bool) -&gt; f a -&gt; m (Maybe a)</span><span>
</span><span id="line-1701"></span><span class="hs-comment">-- 'ifindMOf' l &#8801; 'findMOf' l '.' 'Indexed'</span><span>
</span><span id="line-1702"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1703"></span><span class="hs-comment">--</span><span>
</span><span id="line-1704"></span><span class="hs-comment">-- A simpler version that didn't permit indexing, would be:</span><span>
</span><span id="line-1705"></span><span class="hs-comment">--</span><span>
</span><span id="line-1706"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1707"></span><span class="hs-comment">-- 'findMOf' :: Monad m =&gt; 'Getting' ('Endo' (m ('Maybe' a))) s a -&gt; (a -&gt; m 'Bool') -&gt; s -&gt; m ('Maybe' a)</span><span>
</span><span id="line-1708"></span><span class="hs-comment">-- 'findMOf' l p = 'foldrOf' l (\a y -&gt; p a &gt;&gt;= \x -&gt; if x then return ('Just' a) else y) $ return 'Nothing'</span><span>
</span><span id="line-1709"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1710"></span><span id="local-6989586621679451556"><span id="local-6989586621679451557"><span id="local-6989586621679451558"><span class="annot"><a href="Control.Lens.Fold.html#findMOf"><span class="hs-identifier hs-type">findMOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679451558"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451558"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451557"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451556"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451557"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451557"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451558"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451556"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451558"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451557"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1711"></span><span id="findMOf"><span class="annot"><span class="annottext">findMOf :: Getting (Endo (m (Maybe a))) s a
-&gt; (a -&gt; m Bool) -&gt; s -&gt; m (Maybe a)
</span><a href="Control.Lens.Fold.html#findMOf"><span class="hs-identifier hs-var hs-var">findMOf</span></a></span></span><span> </span><span id="local-6989586621679451555"><span class="annot"><span class="annottext">l :: Getting (Endo (m (Maybe a))) s a
</span><a href="#local-6989586621679451555"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451554"><span class="annot"><span class="annottext">f :: a -&gt; m Bool
</span><a href="#local-6989586621679451554"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo (m (Maybe a))) s a
-&gt; (a -&gt; m (Maybe a) -&gt; m (Maybe a))
-&gt; m (Maybe a)
-&gt; s
-&gt; m (Maybe a)
forall r s a. Getting (Endo r) s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldrOf"><span class="hs-identifier hs-var">foldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (m (Maybe a))) s a
</span><a href="#local-6989586621679451555"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451553"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451553"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679451552"><span class="annot"><span class="annottext">y :: m (Maybe a)
</span><a href="#local-6989586621679451552"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; m Bool
</span><a href="#local-6989586621679451554"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451553"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">m Bool -&gt; (Bool -&gt; m (Maybe a)) -&gt; m (Maybe a)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679451551"><span class="annot"><span class="annottext">r :: Bool
</span><a href="#local-6989586621679451551"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679451551"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; m (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451553"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">m (Maybe a)
</span><a href="#local-6989586621679451552"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m (Maybe a) -&gt; s -&gt; m (Maybe a))
-&gt; m (Maybe a) -&gt; s -&gt; m (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; m (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1712"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#findMOf"><span class="hs-pragma hs-type">findMOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1713"></span><span>
</span><span id="line-1714"></span><span class="hs-comment">-- | The 'lookupOf' function takes a 'Fold' (or 'Getter', 'Traversal',</span><span>
</span><span id="line-1715"></span><span class="hs-comment">-- 'Lens', 'Iso', etc.), a key, and a structure containing key/value pairs.</span><span>
</span><span id="line-1716"></span><span class="hs-comment">-- It returns the first value corresponding to the given key. This function</span><span>
</span><span id="line-1717"></span><span class="hs-comment">-- generalizes 'lookup' to work on an arbitrary 'Fold' instead of lists.</span><span>
</span><span id="line-1718"></span><span class="hs-comment">--</span><span>
</span><span id="line-1719"></span><span class="hs-comment">-- &gt;&gt;&gt; lookupOf folded 4 [(2, 'a'), (4, 'b'), (4, 'c')]</span><span>
</span><span id="line-1720"></span><span class="hs-comment">-- Just 'b'</span><span>
</span><span id="line-1721"></span><span class="hs-comment">--</span><span>
</span><span id="line-1722"></span><span class="hs-comment">-- &gt;&gt;&gt; lookupOf each 2 [(2, 'a'), (4, 'b'), (4, 'c')]</span><span>
</span><span id="line-1723"></span><span class="hs-comment">-- Just 'a'</span><span>
</span><span id="line-1724"></span><span class="hs-comment">--</span><span>
</span><span id="line-1725"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1726"></span><span class="hs-comment">-- 'lookupOf' :: 'Eq' k =&gt; 'Fold' s (k,v) -&gt; k -&gt; s -&gt; 'Maybe' v</span><span>
</span><span id="line-1727"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1728"></span><span id="local-6989586621679451548"><span id="local-6989586621679451549"><span id="local-6989586621679451550"><span class="annot"><a href="Control.Lens.Fold.html#lookupOf"><span class="hs-identifier hs-type">lookupOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679451550"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451549"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451548"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451550"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679451549"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451550"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451548"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451549"><span class="hs-identifier hs-type">v</span></a></span></span></span></span><span>
</span><span id="line-1729"></span><span id="lookupOf"><span class="annot"><span class="annottext">lookupOf :: Getting (Endo (Maybe v)) s (k, v) -&gt; k -&gt; s -&gt; Maybe v
</span><a href="Control.Lens.Fold.html#lookupOf"><span class="hs-identifier hs-var hs-var">lookupOf</span></a></span></span><span> </span><span id="local-6989586621679451547"><span class="annot"><span class="annottext">l :: Getting (Endo (Maybe v)) s (k, v)
</span><a href="#local-6989586621679451547"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451546"><span class="annot"><span class="annottext">k :: k
</span><a href="#local-6989586621679451546"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Maybe v)) s (k, v)
-&gt; ((k, v) -&gt; Maybe v -&gt; Maybe v) -&gt; Maybe v -&gt; s -&gt; Maybe v
forall r s a. Getting (Endo r) s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldrOf"><span class="hs-identifier hs-var">foldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Maybe v)) s (k, v)
</span><a href="#local-6989586621679451547"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679451545"><span class="annot"><span class="annottext">k' :: k
</span><a href="#local-6989586621679451545"><span class="hs-identifier hs-var">k'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679451544"><span class="annot"><span class="annottext">v :: v
</span><a href="#local-6989586621679451544"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679451543"><span class="annot"><span class="annottext">next :: Maybe v
</span><a href="#local-6989586621679451543"><span class="hs-identifier hs-var">next</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679451546"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">k -&gt; k -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">k
</span><a href="#local-6989586621679451545"><span class="hs-identifier hs-var">k'</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">v -&gt; Maybe v
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621679451544"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe v
</span><a href="#local-6989586621679451543"><span class="hs-identifier hs-var">next</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe v
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1730"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#lookupOf"><span class="hs-pragma hs-type">lookupOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1731"></span><span>
</span><span id="line-1732"></span><span class="hs-comment">-- | A variant of 'foldrOf' that has no base case and thus may only be applied</span><span>
</span><span id="line-1733"></span><span class="hs-comment">-- to lenses and structures such that the 'Lens' views at least one element of</span><span>
</span><span id="line-1734"></span><span class="hs-comment">-- the structure.</span><span>
</span><span id="line-1735"></span><span class="hs-comment">--</span><span>
</span><span id="line-1736"></span><span class="hs-comment">-- &gt;&gt;&gt; foldr1Of each (+) (1,2,3,4)</span><span>
</span><span id="line-1737"></span><span class="hs-comment">-- 10</span><span>
</span><span id="line-1738"></span><span class="hs-comment">--</span><span>
</span><span id="line-1739"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1740"></span><span class="hs-comment">-- 'foldr1Of' l f &#8801; 'Prelude.foldr1' f '.' 'toListOf' l</span><span>
</span><span id="line-1741"></span><span class="hs-comment">-- 'Data.Foldable.foldr1' &#8801; 'foldr1Of' 'folded'</span><span>
</span><span id="line-1742"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1743"></span><span class="hs-comment">--</span><span>
</span><span id="line-1744"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1745"></span><span class="hs-comment">-- 'foldr1Of' :: 'Getter' s a     -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1746"></span><span class="hs-comment">-- 'foldr1Of' :: 'Fold' s a       -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1747"></span><span class="hs-comment">-- 'foldr1Of' :: 'Iso'' s a       -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1748"></span><span class="hs-comment">-- 'foldr1Of' :: 'Lens'' s a      -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1749"></span><span class="hs-comment">-- 'foldr1Of' :: 'Traversal'' s a -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1750"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1751"></span><span id="local-6989586621679451541"><span id="local-6989586621679451542"><span class="annot"><a href="Control.Lens.Fold.html#foldr1Of"><span class="hs-identifier hs-type">foldr1Of</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451542"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451541"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451542"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451542"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451542"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451542"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451541"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451542"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1752"></span><span id="foldr1Of"><span class="annot"><span class="annottext">foldr1Of :: Getting (Endo (Maybe a)) s a -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a
</span><a href="Control.Lens.Fold.html#foldr1Of"><span class="hs-identifier hs-var hs-var">foldr1Of</span></a></span></span><span> </span><span id="local-6989586621679451540"><span class="annot"><span class="annottext">l :: Getting (Endo (Maybe a)) s a
</span><a href="#local-6989586621679451540"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451539"><span class="annot"><span class="annottext">f :: a -&gt; a -&gt; a
</span><a href="#local-6989586621679451539"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451538"><span class="annot"><span class="annottext">xs :: s
</span><a href="#local-6989586621679451538"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a -&gt; a
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;foldr1Of: empty structure&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1753"></span><span>                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting (Endo (Maybe a)) s a
-&gt; (a -&gt; Maybe a -&gt; Maybe a) -&gt; Maybe a -&gt; s -&gt; Maybe a
forall r s a. Getting (Endo r) s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldrOf"><span class="hs-identifier hs-var">foldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Maybe a)) s a
</span><a href="#local-6989586621679451540"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a -&gt; Maybe a
</span><a href="#local-6989586621679451536"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451538"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1754"></span><span>  </span><span id="local-6989586621679451536"><span class="annot"><span class="annottext">mf :: a -&gt; Maybe a -&gt; Maybe a
</span><a href="#local-6989586621679451536"><span class="hs-identifier hs-var hs-var">mf</span></a></span></span><span> </span><span id="local-6989586621679451535"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451535"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679451534"><span class="annot"><span class="annottext">my :: Maybe a
</span><a href="#local-6989586621679451534"><span class="hs-identifier hs-var">my</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679451534"><span class="hs-identifier hs-var">my</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1755"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451535"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1756"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679451533"><span class="annot"><span class="annottext">y :: a
</span><a href="#local-6989586621679451533"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679451539"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451535"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451533"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1757"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldr1Of"><span class="hs-pragma hs-type">foldr1Of</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1758"></span><span>
</span><span id="line-1759"></span><span class="hs-comment">-- | A variant of 'foldlOf' that has no base case and thus may only be applied to lenses and structures such</span><span>
</span><span id="line-1760"></span><span class="hs-comment">-- that the 'Lens' views at least one element of the structure.</span><span>
</span><span id="line-1761"></span><span class="hs-comment">--</span><span>
</span><span id="line-1762"></span><span class="hs-comment">-- &gt;&gt;&gt; foldl1Of each (+) (1,2,3,4)</span><span>
</span><span id="line-1763"></span><span class="hs-comment">-- 10</span><span>
</span><span id="line-1764"></span><span class="hs-comment">--</span><span>
</span><span id="line-1765"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1766"></span><span class="hs-comment">-- 'foldl1Of' l f &#8801; 'Prelude.foldl1' f '.' 'toListOf' l</span><span>
</span><span id="line-1767"></span><span class="hs-comment">-- 'Data.Foldable.foldl1' &#8801; 'foldl1Of' 'folded'</span><span>
</span><span id="line-1768"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1769"></span><span class="hs-comment">--</span><span>
</span><span id="line-1770"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1771"></span><span class="hs-comment">-- 'foldl1Of' :: 'Getter' s a     -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1772"></span><span class="hs-comment">-- 'foldl1Of' :: 'Fold' s a       -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1773"></span><span class="hs-comment">-- 'foldl1Of' :: 'Iso'' s a       -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1774"></span><span class="hs-comment">-- 'foldl1Of' :: 'Lens'' s a      -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1775"></span><span class="hs-comment">-- 'foldl1Of' :: 'Traversal'' s a -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1776"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1777"></span><span id="local-6989586621679451531"><span id="local-6989586621679451532"><span class="annot"><a href="Control.Lens.Fold.html#foldl1Of"><span class="hs-identifier hs-type">foldl1Of</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dual</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451532"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451531"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451532"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451532"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451532"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451532"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451531"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451532"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1778"></span><span id="foldl1Of"><span class="annot"><span class="annottext">foldl1Of :: Getting (Dual (Endo (Maybe a))) s a -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a
</span><a href="Control.Lens.Fold.html#foldl1Of"><span class="hs-identifier hs-var hs-var">foldl1Of</span></a></span></span><span> </span><span id="local-6989586621679451530"><span class="annot"><span class="annottext">l :: Getting (Dual (Endo (Maybe a))) s a
</span><a href="#local-6989586621679451530"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451529"><span class="annot"><span class="annottext">f :: a -&gt; a -&gt; a
</span><a href="#local-6989586621679451529"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451528"><span class="annot"><span class="annottext">xs :: s
</span><a href="#local-6989586621679451528"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a -&gt; a
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;foldl1Of: empty structure&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting (Dual (Endo (Maybe a))) s a
-&gt; (Maybe a -&gt; a -&gt; Maybe a) -&gt; Maybe a -&gt; s -&gt; Maybe a
forall r s a.
Getting (Dual (Endo r)) s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldlOf"><span class="hs-identifier hs-var">foldlOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Dual (Endo (Maybe a))) s a
</span><a href="#local-6989586621679451530"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679451527"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451528"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1779"></span><span>  </span><span id="local-6989586621679451527"><span class="annot"><span class="annottext">mf :: Maybe a -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679451527"><span class="hs-identifier hs-var hs-var">mf</span></a></span></span><span> </span><span id="local-6989586621679451526"><span class="annot"><span class="annottext">mx :: Maybe a
</span><a href="#local-6989586621679451526"><span class="hs-identifier hs-var">mx</span></a></span></span><span> </span><span id="local-6989586621679451525"><span class="annot"><span class="annottext">y :: a
</span><a href="#local-6989586621679451525"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679451526"><span class="hs-identifier hs-var">mx</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1780"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451525"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1781"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679451524"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451524"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679451529"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451524"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451525"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1782"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldl1Of"><span class="hs-pragma hs-type">foldl1Of</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1783"></span><span>
</span><span id="line-1784"></span><span class="hs-comment">-- | Strictly fold right over the elements of a structure.</span><span>
</span><span id="line-1785"></span><span class="hs-comment">--</span><span>
</span><span id="line-1786"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1787"></span><span class="hs-comment">-- 'Data.Foldable.foldr'' &#8801; 'foldrOf'' 'folded'</span><span>
</span><span id="line-1788"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1789"></span><span class="hs-comment">--</span><span>
</span><span id="line-1790"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1791"></span><span class="hs-comment">-- 'foldrOf'' :: 'Getter' s a     -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-1792"></span><span class="hs-comment">-- 'foldrOf'' :: 'Fold' s a       -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-1793"></span><span class="hs-comment">-- 'foldrOf'' :: 'Iso'' s a       -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-1794"></span><span class="hs-comment">-- 'foldrOf'' :: 'Lens'' s a      -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-1795"></span><span class="hs-comment">-- 'foldrOf'' :: 'Traversal'' s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-1796"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1797"></span><span id="local-6989586621679452312"><span id="local-6989586621679452313"><span id="local-6989586621679452314"><span class="annot"><a href="Control.Lens.Fold.html#foldrOf%27"><span class="hs-identifier hs-type">foldrOf'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dual</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679452314"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452313"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452312"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452312"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452314"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452314"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452314"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452313"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452314"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-1798"></span><span id="foldrOf%27"><span class="annot"><span class="annottext">foldrOf' :: Getting (Dual (Endo (Endo r))) s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldrOf%27"><span class="hs-identifier hs-var hs-var">foldrOf'</span></a></span></span><span> </span><span id="local-6989586621679451523"><span class="annot"><span class="annottext">l :: Getting (Dual (Endo (Endo r))) s a
</span><a href="#local-6989586621679451523"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451522"><span class="annot"><span class="annottext">f :: a -&gt; r -&gt; r
</span><a href="#local-6989586621679451522"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451521"><span class="annot"><span class="annottext">z0 :: r
</span><a href="#local-6989586621679451521"><span class="hs-identifier hs-var">z0</span></a></span></span><span> </span><span id="local-6989586621679451520"><span class="annot"><span class="annottext">xs :: s
</span><a href="#local-6989586621679451520"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Dual (Endo (Endo r))) s a
-&gt; (Endo r -&gt; a -&gt; Endo r) -&gt; Endo r -&gt; s -&gt; Endo r
forall r s a.
Getting (Dual (Endo r)) s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldlOf"><span class="hs-identifier hs-var">foldlOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Dual (Endo (Endo r))) s a
</span><a href="#local-6989586621679451523"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Endo r -&gt; a -&gt; Endo r
</span><a href="#local-6989586621679451519"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; Endo r
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; r
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451520"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Endo r -&gt; r -&gt; r
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451521"><span class="hs-identifier hs-var">z0</span></a></span><span>
</span><span id="line-1799"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679451519"><span class="annot"><span class="annottext">f' :: Endo r -&gt; a -&gt; Endo r
</span><a href="#local-6989586621679451519"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span id="local-6989586621679451518"><span class="annot"><span class="annottext">k :: r -&gt; r
</span><a href="#local-6989586621679451518"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679451517"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451517"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; Endo r
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((r -&gt; r) -&gt; Endo r) -&gt; (r -&gt; r) -&gt; Endo r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679451516"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679451516"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; r
</span><a href="#local-6989586621679451518"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; r -&gt; r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; r -&gt; r
</span><a href="#local-6989586621679451522"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451517"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451516"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-1800"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldrOf%27"><span class="hs-pragma hs-type">foldrOf'</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1801"></span><span>
</span><span id="line-1802"></span><span class="hs-comment">-- | Fold over the elements of a structure, associating to the left, but strictly.</span><span>
</span><span id="line-1803"></span><span class="hs-comment">--</span><span>
</span><span id="line-1804"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1805"></span><span class="hs-comment">-- 'Data.Foldable.foldl'' &#8801; 'foldlOf'' 'folded'</span><span>
</span><span id="line-1806"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1807"></span><span class="hs-comment">--</span><span>
</span><span id="line-1808"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1809"></span><span class="hs-comment">-- 'foldlOf'' :: 'Getter' s a     -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-1810"></span><span class="hs-comment">-- 'foldlOf'' :: 'Fold' s a       -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-1811"></span><span class="hs-comment">-- 'foldlOf'' :: 'Iso'' s a       -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-1812"></span><span class="hs-comment">-- 'foldlOf'' :: 'Lens'' s a      -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-1813"></span><span class="hs-comment">-- 'foldlOf'' :: 'Traversal'' s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-1814"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1815"></span><span id="local-6989586621679452491"><span id="local-6989586621679452492"><span id="local-6989586621679452493"><span class="annot"><a href="Control.Lens.Fold.html#foldlOf%27"><span class="hs-identifier hs-type">foldlOf'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679452493"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452492"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452491"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452493"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452491"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452493"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452493"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452492"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452493"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-1816"></span><span id="foldlOf%27"><span class="annot"><span class="annottext">foldlOf' :: Getting (Endo (Endo r)) s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldlOf%27"><span class="hs-identifier hs-var hs-var">foldlOf'</span></a></span></span><span> </span><span id="local-6989586621679451515"><span class="annot"><span class="annottext">l :: Getting (Endo (Endo r)) s a
</span><a href="#local-6989586621679451515"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451514"><span class="annot"><span class="annottext">f :: r -&gt; a -&gt; r
</span><a href="#local-6989586621679451514"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451513"><span class="annot"><span class="annottext">z0 :: r
</span><a href="#local-6989586621679451513"><span class="hs-identifier hs-var">z0</span></a></span></span><span> </span><span id="local-6989586621679451512"><span class="annot"><span class="annottext">xs :: s
</span><a href="#local-6989586621679451512"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo r)) s a
-&gt; (a -&gt; Endo r -&gt; Endo r) -&gt; Endo r -&gt; s -&gt; Endo r
forall r s a. Getting (Endo r) s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldrOf"><span class="hs-identifier hs-var">foldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo r)) s a
</span><a href="#local-6989586621679451515"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Endo r -&gt; Endo r
</span><a href="#local-6989586621679451511"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; Endo r
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; r
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451512"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Endo r -&gt; r -&gt; r
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-operator hs-var hs-var">`appEndo`</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451513"><span class="hs-identifier hs-var">z0</span></a></span><span>
</span><span id="line-1817"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679451511"><span class="annot"><span class="annottext">f' :: a -&gt; Endo r -&gt; Endo r
</span><a href="#local-6989586621679451511"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679451510"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451510"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span id="local-6989586621679451509"><span class="annot"><span class="annottext">k :: r -&gt; r
</span><a href="#local-6989586621679451509"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; Endo r
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((r -&gt; r) -&gt; Endo r) -&gt; (r -&gt; r) -&gt; Endo r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679451508"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679451508"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">r -&gt; r
</span><a href="#local-6989586621679451509"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; r -&gt; r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; a -&gt; r
</span><a href="#local-6989586621679451514"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451508"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451510"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1818"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldlOf%27"><span class="hs-pragma hs-type">foldlOf'</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1819"></span><span>
</span><span id="line-1820"></span><span class="hs-comment">-- | A variant of 'foldrOf'' that has no base case and thus may only be applied</span><span>
</span><span id="line-1821"></span><span class="hs-comment">-- to folds and structures such that the fold views at least one element of the</span><span>
</span><span id="line-1822"></span><span class="hs-comment">-- structure.</span><span>
</span><span id="line-1823"></span><span class="hs-comment">--</span><span>
</span><span id="line-1824"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1825"></span><span class="hs-comment">-- 'foldr1Of' l f &#8801; 'Prelude.foldr1' f '.' 'toListOf' l</span><span>
</span><span id="line-1826"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1827"></span><span class="hs-comment">--</span><span>
</span><span id="line-1828"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1829"></span><span class="hs-comment">-- 'foldr1Of'' :: 'Getter' s a     -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1830"></span><span class="hs-comment">-- 'foldr1Of'' :: 'Fold' s a       -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1831"></span><span class="hs-comment">-- 'foldr1Of'' :: 'Iso'' s a       -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1832"></span><span class="hs-comment">-- 'foldr1Of'' :: 'Lens'' s a      -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1833"></span><span class="hs-comment">-- 'foldr1Of'' :: 'Traversal'' s a -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1834"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1835"></span><span id="local-6989586621679451506"><span id="local-6989586621679451507"><span class="annot"><a href="Control.Lens.Fold.html#foldr1Of%27"><span class="hs-identifier hs-type">foldr1Of'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dual</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451507"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451506"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451507"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451507"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451507"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451507"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451506"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451507"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1836"></span><span id="foldr1Of%27"><span class="annot"><span class="annottext">foldr1Of' :: Getting (Dual (Endo (Endo (Maybe a)))) s a
-&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a
</span><a href="Control.Lens.Fold.html#foldr1Of%27"><span class="hs-identifier hs-var hs-var">foldr1Of'</span></a></span></span><span> </span><span id="local-6989586621679451505"><span class="annot"><span class="annottext">l :: Getting (Dual (Endo (Endo (Maybe a)))) s a
</span><a href="#local-6989586621679451505"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451504"><span class="annot"><span class="annottext">f :: a -&gt; a -&gt; a
</span><a href="#local-6989586621679451504"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451503"><span class="annot"><span class="annottext">xs :: s
</span><a href="#local-6989586621679451503"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a -&gt; a
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;foldr1Of': empty structure&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting (Dual (Endo (Endo (Maybe a)))) s a
-&gt; (a -&gt; Maybe a -&gt; Maybe a) -&gt; Maybe a -&gt; s -&gt; Maybe a
forall r s a.
Getting (Dual (Endo (Endo r))) s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldrOf%27"><span class="hs-identifier hs-var">foldrOf'</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Dual (Endo (Endo (Maybe a)))) s a
</span><a href="#local-6989586621679451505"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a -&gt; Maybe a
</span><a href="#local-6989586621679451502"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451503"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1837"></span><span>  </span><span id="local-6989586621679451502"><span class="annot"><span class="annottext">mf :: a -&gt; Maybe a -&gt; Maybe a
</span><a href="#local-6989586621679451502"><span class="hs-identifier hs-var hs-var">mf</span></a></span></span><span> </span><span id="local-6989586621679451501"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451501"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451501"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1838"></span><span>  </span><span class="annot"><a href="#local-6989586621679451502"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span id="local-6989586621679451500"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451500"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679451499"><span class="annot"><span class="annottext">y :: a
</span><a href="#local-6989586621679451499"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679451504"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451500"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451499"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1839"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldr1Of%27"><span class="hs-pragma hs-type">foldr1Of'</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1840"></span><span>
</span><span id="line-1841"></span><span class="hs-comment">-- | A variant of 'foldlOf'' that has no base case and thus may only be applied</span><span>
</span><span id="line-1842"></span><span class="hs-comment">-- to folds and structures such that the fold views at least one element of</span><span>
</span><span id="line-1843"></span><span class="hs-comment">-- the structure.</span><span>
</span><span id="line-1844"></span><span class="hs-comment">--</span><span>
</span><span id="line-1845"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1846"></span><span class="hs-comment">-- 'foldl1Of'' l f &#8801; 'Data.List.foldl1'' f '.' 'toListOf' l</span><span>
</span><span id="line-1847"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1848"></span><span class="hs-comment">--</span><span>
</span><span id="line-1849"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1850"></span><span class="hs-comment">-- 'foldl1Of'' :: 'Getter' s a     -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1851"></span><span class="hs-comment">-- 'foldl1Of'' :: 'Fold' s a       -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1852"></span><span class="hs-comment">-- 'foldl1Of'' :: 'Iso'' s a       -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1853"></span><span class="hs-comment">-- 'foldl1Of'' :: 'Lens'' s a      -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1854"></span><span class="hs-comment">-- 'foldl1Of'' :: 'Traversal'' s a -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a</span><span>
</span><span id="line-1855"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1856"></span><span id="local-6989586621679451497"><span id="local-6989586621679451498"><span class="annot"><a href="Control.Lens.Fold.html#foldl1Of%27"><span class="hs-identifier hs-type">foldl1Of'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451498"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451497"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451498"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451498"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451498"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451498"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451497"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451498"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1857"></span><span id="foldl1Of%27"><span class="annot"><span class="annottext">foldl1Of' :: Getting (Endo (Endo (Maybe a))) s a -&gt; (a -&gt; a -&gt; a) -&gt; s -&gt; a
</span><a href="Control.Lens.Fold.html#foldl1Of%27"><span class="hs-identifier hs-var hs-var">foldl1Of'</span></a></span></span><span> </span><span id="local-6989586621679451496"><span class="annot"><span class="annottext">l :: Getting (Endo (Endo (Maybe a))) s a
</span><a href="#local-6989586621679451496"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451495"><span class="annot"><span class="annottext">f :: a -&gt; a -&gt; a
</span><a href="#local-6989586621679451495"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451494"><span class="annot"><span class="annottext">xs :: s
</span><a href="#local-6989586621679451494"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a -&gt; a
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;foldl1Of': empty structure&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting (Endo (Endo (Maybe a))) s a
-&gt; (Maybe a -&gt; a -&gt; Maybe a) -&gt; Maybe a -&gt; s -&gt; Maybe a
forall r s a.
Getting (Endo (Endo r)) s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldlOf%27"><span class="hs-identifier hs-var">foldlOf'</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (Endo (Maybe a))) s a
</span><a href="#local-6989586621679451496"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679451493"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451494"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1858"></span><span>  </span><span id="local-6989586621679451493"><span class="annot"><span class="annottext">mf :: Maybe a -&gt; a -&gt; Maybe a
</span><a href="#local-6989586621679451493"><span class="hs-identifier hs-var hs-var">mf</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span id="local-6989586621679451492"><span class="annot"><span class="annottext">y :: a
</span><a href="#local-6989586621679451492"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451492"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1859"></span><span>  </span><span class="annot"><a href="#local-6989586621679451493"><span class="hs-identifier hs-var">mf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679451491"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451491"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679451490"><span class="annot"><span class="annottext">y :: a
</span><a href="#local-6989586621679451490"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679451495"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451491"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451490"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1860"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldl1Of%27"><span class="hs-pragma hs-type">foldl1Of'</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1861"></span><span>
</span><span id="line-1862"></span><span class="hs-comment">-- | Monadic fold over the elements of a structure, associating to the right,</span><span>
</span><span id="line-1863"></span><span class="hs-comment">-- i.e. from right to left.</span><span>
</span><span id="line-1864"></span><span class="hs-comment">--</span><span>
</span><span id="line-1865"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1866"></span><span class="hs-comment">-- 'Data.Foldable.foldrM' &#8801; 'foldrMOf' 'folded'</span><span>
</span><span id="line-1867"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1868"></span><span class="hs-comment">--</span><span>
</span><span id="line-1869"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1870"></span><span class="hs-comment">-- 'foldrMOf' :: 'Monad' m =&gt; 'Getter' s a     -&gt; (a -&gt; r -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-1871"></span><span class="hs-comment">-- 'foldrMOf' :: 'Monad' m =&gt; 'Fold' s a       -&gt; (a -&gt; r -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-1872"></span><span class="hs-comment">-- 'foldrMOf' :: 'Monad' m =&gt; 'Iso'' s a       -&gt; (a -&gt; r -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-1873"></span><span class="hs-comment">-- 'foldrMOf' :: 'Monad' m =&gt; 'Lens'' s a      -&gt; (a -&gt; r -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-1874"></span><span class="hs-comment">-- 'foldrMOf' :: 'Monad' m =&gt; 'Traversal'' s a -&gt; (a -&gt; r -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-1875"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1876"></span><span id="local-6989586621679451486"><span id="local-6989586621679451487"><span id="local-6989586621679451488"><span id="local-6989586621679451489"><span class="annot"><a href="Control.Lens.Fold.html#foldrMOf"><span class="hs-identifier hs-type">foldrMOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679451489"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-1877"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dual</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451488"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451489"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451488"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451487"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451486"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1878"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451486"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451488"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451489"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451488"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451488"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451487"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451489"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451488"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-1879"></span><span id="foldrMOf"><span class="annot"><span class="annottext">foldrMOf :: Getting (Dual (Endo (r -&gt; m r))) s a
-&gt; (a -&gt; r -&gt; m r) -&gt; r -&gt; s -&gt; m r
</span><a href="Control.Lens.Fold.html#foldrMOf"><span class="hs-identifier hs-var hs-var">foldrMOf</span></a></span></span><span> </span><span id="local-6989586621679451485"><span class="annot"><span class="annottext">l :: Getting (Dual (Endo (r -&gt; m r))) s a
</span><a href="#local-6989586621679451485"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451484"><span class="annot"><span class="annottext">f :: a -&gt; r -&gt; m r
</span><a href="#local-6989586621679451484"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451483"><span class="annot"><span class="annottext">z0 :: r
</span><a href="#local-6989586621679451483"><span class="hs-identifier hs-var">z0</span></a></span></span><span> </span><span id="local-6989586621679451482"><span class="annot"><span class="annottext">xs :: s
</span><a href="#local-6989586621679451482"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Dual (Endo (r -&gt; m r))) s a
-&gt; ((r -&gt; m r) -&gt; a -&gt; r -&gt; m r) -&gt; (r -&gt; m r) -&gt; s -&gt; r -&gt; m r
forall r s a.
Getting (Dual (Endo r)) s a -&gt; (r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldlOf"><span class="hs-identifier hs-var">foldlOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Dual (Endo (r -&gt; m r))) s a
</span><a href="#local-6989586621679451485"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; m r) -&gt; a -&gt; r -&gt; m r
forall b. (r -&gt; m b) -&gt; a -&gt; r -&gt; m b
</span><a href="#local-6989586621679451481"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">r -&gt; m r
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451482"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451483"><span class="hs-identifier hs-var">z0</span></a></span><span>
</span><span id="line-1880"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679451481"><span class="annot"><span class="annottext">f' :: (r -&gt; m b) -&gt; a -&gt; r -&gt; m b
</span><a href="#local-6989586621679451481"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679451480"><span class="annot"><span class="annottext">k :: r -&gt; m b
</span><a href="#local-6989586621679451480"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679451479"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451479"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679451478"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679451478"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; r -&gt; m r
</span><a href="#local-6989586621679451484"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451479"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451478"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">m r -&gt; (r -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; m b
</span><a href="#local-6989586621679451480"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-1881"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldrMOf"><span class="hs-pragma hs-type">foldrMOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1882"></span><span>
</span><span id="line-1883"></span><span class="hs-comment">-- | Monadic fold over the elements of a structure, associating to the left,</span><span>
</span><span id="line-1884"></span><span class="hs-comment">-- i.e. from left to right.</span><span>
</span><span id="line-1885"></span><span class="hs-comment">--</span><span>
</span><span id="line-1886"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1887"></span><span class="hs-comment">-- 'Data.Foldable.foldlM' &#8801; 'foldlMOf' 'folded'</span><span>
</span><span id="line-1888"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1889"></span><span class="hs-comment">--</span><span>
</span><span id="line-1890"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1891"></span><span class="hs-comment">-- 'foldlMOf' :: 'Monad' m =&gt; 'Getter' s a     -&gt; (r -&gt; a -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-1892"></span><span class="hs-comment">-- 'foldlMOf' :: 'Monad' m =&gt; 'Fold' s a       -&gt; (r -&gt; a -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-1893"></span><span class="hs-comment">-- 'foldlMOf' :: 'Monad' m =&gt; 'Iso'' s a       -&gt; (r -&gt; a -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-1894"></span><span class="hs-comment">-- 'foldlMOf' :: 'Monad' m =&gt; 'Lens'' s a      -&gt; (r -&gt; a -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-1895"></span><span class="hs-comment">-- 'foldlMOf' :: 'Monad' m =&gt; 'Traversal'' s a -&gt; (r -&gt; a -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-1896"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1897"></span><span id="local-6989586621679451474"><span id="local-6989586621679451475"><span id="local-6989586621679451476"><span id="local-6989586621679451477"><span class="annot"><a href="Control.Lens.Fold.html#foldlMOf"><span class="hs-identifier hs-type">foldlMOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679451477"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-1898"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451476"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451477"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451476"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451475"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451474"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1899"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451476"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451474"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451477"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451476"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451476"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451475"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451477"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451476"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-1900"></span><span id="foldlMOf"><span class="annot"><span class="annottext">foldlMOf :: Getting (Endo (r -&gt; m r)) s a -&gt; (r -&gt; a -&gt; m r) -&gt; r -&gt; s -&gt; m r
</span><a href="Control.Lens.Fold.html#foldlMOf"><span class="hs-identifier hs-var hs-var">foldlMOf</span></a></span></span><span> </span><span id="local-6989586621679451473"><span class="annot"><span class="annottext">l :: Getting (Endo (r -&gt; m r)) s a
</span><a href="#local-6989586621679451473"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451472"><span class="annot"><span class="annottext">f :: r -&gt; a -&gt; m r
</span><a href="#local-6989586621679451472"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451471"><span class="annot"><span class="annottext">z0 :: r
</span><a href="#local-6989586621679451471"><span class="hs-identifier hs-var">z0</span></a></span></span><span> </span><span id="local-6989586621679451470"><span class="annot"><span class="annottext">xs :: s
</span><a href="#local-6989586621679451470"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo (r -&gt; m r)) s a
-&gt; (a -&gt; (r -&gt; m r) -&gt; r -&gt; m r) -&gt; (r -&gt; m r) -&gt; s -&gt; r -&gt; m r
forall r s a. Getting (Endo r) s a -&gt; (a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldrOf"><span class="hs-identifier hs-var">foldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (Endo (r -&gt; m r)) s a
</span><a href="#local-6989586621679451473"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; (r -&gt; m r) -&gt; r -&gt; m r
forall b. a -&gt; (r -&gt; m b) -&gt; r -&gt; m b
</span><a href="#local-6989586621679451469"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">r -&gt; m r
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451470"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451471"><span class="hs-identifier hs-var">z0</span></a></span><span>
</span><span id="line-1901"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679451469"><span class="annot"><span class="annottext">f' :: a -&gt; (r -&gt; m b) -&gt; r -&gt; m b
</span><a href="#local-6989586621679451469"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679451468"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451468"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679451467"><span class="annot"><span class="annottext">k :: r -&gt; m b
</span><a href="#local-6989586621679451467"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679451466"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679451466"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">r -&gt; a -&gt; m r
</span><a href="#local-6989586621679451472"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451466"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451468"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m r -&gt; (r -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; m b
</span><a href="#local-6989586621679451467"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-1902"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#foldlMOf"><span class="hs-pragma hs-type">foldlMOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1903"></span><span>
</span><span id="line-1904"></span><span class="hs-comment">-- | Check to see if this 'Fold' or 'Traversal' matches 1 or more entries.</span><span>
</span><span id="line-1905"></span><span class="hs-comment">--</span><span>
</span><span id="line-1906"></span><span class="hs-comment">-- &gt;&gt;&gt; has (element 0) []</span><span>
</span><span id="line-1907"></span><span class="hs-comment">-- False</span><span>
</span><span id="line-1908"></span><span class="hs-comment">--</span><span>
</span><span id="line-1909"></span><span class="hs-comment">-- &gt;&gt;&gt; has _Left (Left 12)</span><span>
</span><span id="line-1910"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-1911"></span><span class="hs-comment">--</span><span>
</span><span id="line-1912"></span><span class="hs-comment">-- &gt;&gt;&gt; has _Right (Left 12)</span><span>
</span><span id="line-1913"></span><span class="hs-comment">-- False</span><span>
</span><span id="line-1914"></span><span class="hs-comment">--</span><span>
</span><span id="line-1915"></span><span class="hs-comment">-- This will always return 'True' for a 'Lens' or 'Getter'.</span><span>
</span><span id="line-1916"></span><span class="hs-comment">--</span><span>
</span><span id="line-1917"></span><span class="hs-comment">-- &gt;&gt;&gt; has _1 (&quot;hello&quot;,&quot;world&quot;)</span><span>
</span><span id="line-1918"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-1919"></span><span class="hs-comment">--</span><span>
</span><span id="line-1920"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1921"></span><span class="hs-comment">-- 'has' :: 'Getter' s a     -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1922"></span><span class="hs-comment">-- 'has' :: 'Fold' s a       -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1923"></span><span class="hs-comment">-- 'has' :: 'Iso'' s a       -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1924"></span><span class="hs-comment">-- 'has' :: 'Lens'' s a      -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1925"></span><span class="hs-comment">-- 'has' :: 'Traversal'' s a -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-1926"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1927"></span><span id="local-6989586621679452364"><span id="local-6989586621679452365"><span class="annot"><a href="Control.Lens.Fold.html#has"><span class="hs-identifier hs-type">has</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Any</span></span><span> </span><span class="annot"><a href="#local-6989586621679452365"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452364"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452365"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-1928"></span><span id="has"><span class="annot"><span class="annottext">has :: Getting Any s a -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#has"><span class="hs-identifier hs-var hs-var">has</span></a></span></span><span> </span><span id="local-6989586621679451465"><span class="annot"><span class="annottext">l :: Getting Any s a
</span><a href="#local-6989586621679451465"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Any -&gt; Bool
</span><span class="hs-identifier hs-var hs-var">getAny</span></span><span> </span><span class="annot"><span class="annottext">(Any -&gt; Bool) -&gt; (s -&gt; Any) -&gt; s -&gt; Bool
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting Any s a -&gt; (a -&gt; Any) -&gt; s -&gt; Any
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting Any s a
</span><a href="#local-6989586621679451465"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Any
</span><span class="hs-identifier hs-var">Any</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-1929"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#has"><span class="hs-pragma hs-type">has</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1930"></span><span>
</span><span id="line-1931"></span><span>
</span><span id="line-1932"></span><span>
</span><span id="line-1933"></span><span class="hs-comment">-- | Check to see if this 'Fold' or 'Traversal' has no matches.</span><span>
</span><span id="line-1934"></span><span class="hs-comment">--</span><span>
</span><span id="line-1935"></span><span class="hs-comment">-- &gt;&gt;&gt; hasn't _Left (Right 12)</span><span>
</span><span id="line-1936"></span><span class="hs-comment">-- True</span><span>
</span><span id="line-1937"></span><span class="hs-comment">--</span><span>
</span><span id="line-1938"></span><span class="hs-comment">-- &gt;&gt;&gt; hasn't _Left (Left 12)</span><span>
</span><span id="line-1939"></span><span class="hs-comment">-- False</span><span>
</span><span id="line-1940"></span><span id="local-6989586621679452368"><span id="local-6989586621679452369"><span class="annot"><a href="Control.Lens.Fold.html#hasn%27t"><span class="hs-identifier hs-type">hasn't</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">All</span></span><span> </span><span class="annot"><a href="#local-6989586621679452369"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452368"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452369"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-1941"></span><span id="hasn%27t"><span class="annot"><span class="annottext">hasn't :: Getting All s a -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#hasn%27t"><span class="hs-identifier hs-var hs-var">hasn't</span></a></span></span><span> </span><span id="local-6989586621679451464"><span class="annot"><span class="annottext">l :: Getting All s a
</span><a href="#local-6989586621679451464"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">All -&gt; Bool
</span><span class="hs-identifier hs-var hs-var">getAll</span></span><span> </span><span class="annot"><span class="annottext">(All -&gt; Bool) -&gt; (s -&gt; All) -&gt; s -&gt; Bool
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting All s a -&gt; (a -&gt; All) -&gt; s -&gt; All
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting All s a
</span><a href="#local-6989586621679451464"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; All
</span><span class="hs-identifier hs-var">All</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-1942"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#hasn%27t"><span class="hs-pragma hs-type">hasn't</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1943"></span><span>
</span><span id="line-1944"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-1945"></span><span class="hs-comment">-- Pre</span><span>
</span><span id="line-1946"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-1947"></span><span>
</span><span id="line-1948"></span><span class="hs-comment">-- | This converts a 'Fold' to a 'IndexPreservingGetter' that returns the first element, if it</span><span>
</span><span id="line-1949"></span><span class="hs-comment">-- exists, as a 'Maybe'.</span><span>
</span><span id="line-1950"></span><span class="hs-comment">--</span><span>
</span><span id="line-1951"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1952"></span><span class="hs-comment">-- 'pre' :: 'Getter' s a     -&gt; 'IndexPreservingGetter' s ('Maybe' a)</span><span>
</span><span id="line-1953"></span><span class="hs-comment">-- 'pre' :: 'Fold' s a       -&gt; 'IndexPreservingGetter' s ('Maybe' a)</span><span>
</span><span id="line-1954"></span><span class="hs-comment">-- 'pre' :: 'Traversal'' s a -&gt; 'IndexPreservingGetter' s ('Maybe' a)</span><span>
</span><span id="line-1955"></span><span class="hs-comment">-- 'pre' :: 'Lens'' s a      -&gt; 'IndexPreservingGetter' s ('Maybe' a)</span><span>
</span><span id="line-1956"></span><span class="hs-comment">-- 'pre' :: 'Iso'' s a       -&gt; 'IndexPreservingGetter' s ('Maybe' a)</span><span>
</span><span id="line-1957"></span><span class="hs-comment">-- 'pre' :: 'Prism'' s a     -&gt; 'IndexPreservingGetter' s ('Maybe' a)</span><span>
</span><span id="line-1958"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1959"></span><span id="local-6989586621679451462"><span id="local-6989586621679451463"><span class="annot"><a href="Control.Lens.Fold.html#pre"><span class="hs-identifier hs-type">pre</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="annot"><a href="#local-6989586621679451463"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451462"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451463"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingGetter"><span class="hs-identifier hs-type">IndexPreservingGetter</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451462"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451463"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1960"></span><span id="pre"><span class="annot"><span class="annottext">pre :: Getting (First a) s a -&gt; IndexPreservingGetter s (Maybe a)
</span><a href="Control.Lens.Fold.html#pre"><span class="hs-identifier hs-var hs-var">pre</span></a></span></span><span> </span><span id="local-6989586621679451461"><span class="annot"><span class="annottext">l :: Getting (First a) s a
</span><a href="#local-6989586621679451461"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; Maybe a)
-&gt; (f (Maybe a) -&gt; f s) -&gt; p (Maybe a) (f (Maybe a)) -&gt; p s (f s)
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">First a -&gt; Maybe a
forall a. First a -&gt; Maybe a
</span><span class="hs-identifier hs-var hs-var">getFirst</span></span><span> </span><span class="annot"><span class="annottext">(First a -&gt; Maybe a) -&gt; (s -&gt; First a) -&gt; s -&gt; Maybe a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Const (First a) s -&gt; First a
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const (First a) s -&gt; First a)
-&gt; (s -&gt; Const (First a) s) -&gt; s -&gt; First a
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting (First a) s a
</span><a href="#local-6989586621679451461"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">First a -&gt; Const (First a) a
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="annot"><span class="annottext">(First a -&gt; Const (First a) a)
-&gt; (a -&gt; First a) -&gt; a -&gt; Const (First a) a
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; First a
forall a. Maybe a -&gt; First a
</span><span class="hs-identifier hs-var">First</span></span><span> </span><span class="annot"><span class="annottext">(Maybe a -&gt; First a) -&gt; (a -&gt; Maybe a) -&gt; a -&gt; First a
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (Maybe a) -&gt; f s
forall (f :: * -&gt; *) a b.
(Functor f, Contravariant f) =&gt;
f a -&gt; f b
</span><span class="hs-identifier hs-var">phantom</span></span><span>
</span><span id="line-1961"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#pre"><span class="hs-pragma hs-type">pre</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1962"></span><span>
</span><span id="line-1963"></span><span class="hs-comment">-- | This converts an 'IndexedFold' to an 'IndexPreservingGetter' that returns the first index</span><span>
</span><span id="line-1964"></span><span class="hs-comment">-- and element, if they exist, as a 'Maybe'.</span><span>
</span><span id="line-1965"></span><span class="hs-comment">--</span><span>
</span><span id="line-1966"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1967"></span><span class="hs-comment">-- 'ipre' :: 'IndexedGetter' i s a     -&gt; 'IndexPreservingGetter' s ('Maybe' (i, a))</span><span>
</span><span id="line-1968"></span><span class="hs-comment">-- 'ipre' :: 'IndexedFold' i s a       -&gt; 'IndexPreservingGetter' s ('Maybe' (i, a))</span><span>
</span><span id="line-1969"></span><span class="hs-comment">-- 'ipre' :: 'IndexedTraversal'' i s a -&gt; 'IndexPreservingGetter' s ('Maybe' (i, a))</span><span>
</span><span id="line-1970"></span><span class="hs-comment">-- 'ipre' :: 'IndexedLens'' i s a      -&gt; 'IndexPreservingGetter' s ('Maybe' (i, a))</span><span>
</span><span id="line-1971"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1972"></span><span id="local-6989586621679451458"><span id="local-6989586621679451459"><span id="local-6989586621679451460"><span class="annot"><a href="Control.Lens.Fold.html#ipre"><span class="hs-identifier hs-type">ipre</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451460"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451460"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679451459"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451458"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451459"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#IndexPreservingGetter"><span class="hs-identifier hs-type">IndexPreservingGetter</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451458"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451460"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679451459"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1973"></span><span id="ipre"><span class="annot"><span class="annottext">ipre :: IndexedGetting i (First (i, a)) s a
-&gt; IndexPreservingGetter s (Maybe (i, a))
</span><a href="Control.Lens.Fold.html#ipre"><span class="hs-identifier hs-var hs-var">ipre</span></a></span></span><span> </span><span id="local-6989586621679451457"><span class="annot"><span class="annottext">l :: IndexedGetting i (First (i, a)) s a
</span><a href="#local-6989586621679451457"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; Maybe (i, a))
-&gt; (f (Maybe (i, a)) -&gt; f s)
-&gt; p (Maybe (i, a)) (f (Maybe (i, a)))
-&gt; p s (f s)
forall (p :: * -&gt; * -&gt; *) a b c d.
Profunctor p =&gt;
(a -&gt; b) -&gt; (c -&gt; d) -&gt; p b c -&gt; p a d
</span><span class="hs-identifier hs-var">dimap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">First (i, a) -&gt; Maybe (i, a)
forall a. First a -&gt; Maybe a
</span><span class="hs-identifier hs-var hs-var">getFirst</span></span><span> </span><span class="annot"><span class="annottext">(First (i, a) -&gt; Maybe (i, a))
-&gt; (s -&gt; First (i, a)) -&gt; s -&gt; Maybe (i, a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Const (First (i, a)) s -&gt; First (i, a)
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const (First (i, a)) s -&gt; First (i, a))
-&gt; (s -&gt; Const (First (i, a)) s) -&gt; s -&gt; First (i, a)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (First (i, a)) s a
</span><a href="#local-6989586621679451457"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Const (First (i, a)) a)
-&gt; Indexed i a (Const (First (i, a)) a)
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">((i -&gt; a -&gt; Const (First (i, a)) a)
 -&gt; Indexed i a (Const (First (i, a)) a))
-&gt; (i -&gt; a -&gt; Const (First (i, a)) a)
-&gt; Indexed i a (Const (First (i, a)) a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679451455"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451455"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451454"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451454"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">First (i, a) -&gt; Const (First (i, a)) a
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (i, a) -&gt; First (i, a)
forall a. Maybe a -&gt; First a
</span><span class="hs-identifier hs-var">First</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i, a) -&gt; Maybe (i, a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451455"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451454"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">f (Maybe (i, a)) -&gt; f s
forall (f :: * -&gt; *) a b.
(Functor f, Contravariant f) =&gt;
f a -&gt; f b
</span><span class="hs-identifier hs-var">phantom</span></span><span>
</span><span id="line-1974"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ipre"><span class="hs-pragma hs-type">ipre</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1975"></span><span>
</span><span id="line-1976"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-1977"></span><span class="hs-comment">-- Preview</span><span>
</span><span id="line-1978"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-1979"></span><span>
</span><span id="line-1980"></span><span class="hs-comment">-- | Retrieve the first value targeted by a 'Fold' or 'Traversal' (or 'Just' the result</span><span>
</span><span id="line-1981"></span><span class="hs-comment">-- from a 'Getter' or 'Lens'). See also 'firstOf' and '^?', which are similar with</span><span>
</span><span id="line-1982"></span><span class="hs-comment">-- some subtle differences (explained below).</span><span>
</span><span id="line-1983"></span><span class="hs-comment">--</span><span>
</span><span id="line-1984"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1985"></span><span class="hs-comment">-- 'Data.Maybe.listToMaybe' '.' 'toList' &#8801; 'preview' 'folded'</span><span>
</span><span id="line-1986"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1987"></span><span class="hs-comment">--</span><span>
</span><span id="line-1988"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1989"></span><span class="hs-comment">-- 'preview' = 'view' '.' 'pre'</span><span>
</span><span id="line-1990"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-1991"></span><span class="hs-comment">-- </span><span>
</span><span id="line-1992"></span><span class="hs-comment">--</span><span>
</span><span id="line-1993"></span><span class="hs-comment">-- Unlike '^?', this function uses a </span><span>
</span><span id="line-1994"></span><span class="hs-comment">-- 'Control.Monad.Reader.MonadReader' to read the value to be focused in on.</span><span>
</span><span id="line-1995"></span><span class="hs-comment">-- This allows one to pass the value as the last argument by using the </span><span>
</span><span id="line-1996"></span><span class="hs-comment">-- 'Control.Monad.Reader.MonadReader' instance for @(-&gt;) s@</span><span>
</span><span id="line-1997"></span><span class="hs-comment">-- However, it may also be used as part of some deeply nested transformer stack.</span><span>
</span><span id="line-1998"></span><span class="hs-comment">--</span><span>
</span><span id="line-1999"></span><span class="hs-comment">-- 'preview' uses a monoidal value to obtain the result.</span><span>
</span><span id="line-2000"></span><span class="hs-comment">-- This means that it generally has good performance, but can occasionally cause space leaks</span><span>
</span><span id="line-2001"></span><span class="hs-comment">-- or even stack overflows on some data types.</span><span>
</span><span id="line-2002"></span><span class="hs-comment">-- There is another function, 'firstOf', which avoids these issues at the cost of</span><span>
</span><span id="line-2003"></span><span class="hs-comment">-- a slight constant performance cost and a little less flexibility.</span><span>
</span><span id="line-2004"></span><span class="hs-comment">--</span><span>
</span><span id="line-2005"></span><span class="hs-comment">-- It may be helpful to think of 'preview' as having one of the following</span><span>
</span><span id="line-2006"></span><span class="hs-comment">-- more specialized types:</span><span>
</span><span id="line-2007"></span><span class="hs-comment">-- </span><span>
</span><span id="line-2008"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2009"></span><span class="hs-comment">-- 'preview' :: 'Getter' s a     -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-2010"></span><span class="hs-comment">-- 'preview' :: 'Fold' s a       -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-2011"></span><span class="hs-comment">-- 'preview' :: 'Lens'' s a      -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-2012"></span><span class="hs-comment">-- 'preview' :: 'Iso'' s a       -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-2013"></span><span class="hs-comment">-- 'preview' :: 'Traversal'' s a -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-2014"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2015"></span><span class="hs-comment">--</span><span>
</span><span id="line-2016"></span><span class="hs-comment">--</span><span>
</span><span id="line-2017"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2018"></span><span class="hs-comment">-- 'preview' :: 'MonadReader' s m =&gt; 'Getter' s a     -&gt; m ('Maybe' a)</span><span>
</span><span id="line-2019"></span><span class="hs-comment">-- 'preview' :: 'MonadReader' s m =&gt; 'Fold' s a       -&gt; m ('Maybe' a)</span><span>
</span><span id="line-2020"></span><span class="hs-comment">-- 'preview' :: 'MonadReader' s m =&gt; 'Lens'' s a      -&gt; m ('Maybe' a)</span><span>
</span><span id="line-2021"></span><span class="hs-comment">-- 'preview' :: 'MonadReader' s m =&gt; 'Iso'' s a       -&gt; m ('Maybe' a)</span><span>
</span><span id="line-2022"></span><span class="hs-comment">-- 'preview' :: 'MonadReader' s m =&gt; 'Traversal'' s a -&gt; m ('Maybe' a)</span><span>
</span><span id="line-2023"></span><span class="hs-comment">-- </span><span>
</span><span id="line-2024"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2025"></span><span id="local-6989586621679452248"><span id="local-6989586621679452249"><span id="local-6989586621679452250"><span class="annot"><a href="Control.Lens.Fold.html#preview"><span class="hs-identifier hs-type">preview</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><a href="#local-6989586621679452250"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452249"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="annot"><a href="#local-6989586621679452248"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452250"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452248"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452249"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679452248"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-2026"></span><span id="preview"><span class="annot"><span class="annottext">preview :: Getting (First a) s a -&gt; m (Maybe a)
</span><a href="Control.Lens.Fold.html#preview"><span class="hs-identifier hs-var hs-var">preview</span></a></span></span><span> </span><span id="local-6989586621679451453"><span class="annot"><span class="annottext">l :: Getting (First a) s a
</span><a href="#local-6989586621679451453"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; Maybe a) -&gt; m (Maybe a)
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">First a -&gt; Maybe a
forall a. First a -&gt; Maybe a
</span><span class="hs-identifier hs-var hs-var">getFirst</span></span><span> </span><span class="annot"><span class="annottext">(First a -&gt; Maybe a) -&gt; (s -&gt; First a) -&gt; s -&gt; Maybe a
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Getting (First a) s a -&gt; (a -&gt; First a) -&gt; s -&gt; First a
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (First a) s a
</span><a href="#local-6989586621679451453"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a -&gt; First a
forall a. Maybe a -&gt; First a
</span><span class="hs-identifier hs-var">First</span></span><span> </span><span class="annot"><span class="annottext">(Maybe a -&gt; First a) -&gt; (a -&gt; Maybe a) -&gt; a -&gt; First a
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2027"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#preview"><span class="hs-pragma hs-type">preview</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2028"></span><span>
</span><span id="line-2029"></span><span class="hs-comment">-- | Retrieve the first index and value targeted by a 'Fold' or 'Traversal' (or 'Just' the result</span><span>
</span><span id="line-2030"></span><span class="hs-comment">-- from a 'Getter' or 'Lens'). See also ('^@?').</span><span>
</span><span id="line-2031"></span><span class="hs-comment">--</span><span>
</span><span id="line-2032"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2033"></span><span class="hs-comment">-- 'ipreview' = 'view' '.' 'ipre'</span><span>
</span><span id="line-2034"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2035"></span><span class="hs-comment">--</span><span>
</span><span id="line-2036"></span><span class="hs-comment">-- This is usually applied in the 'Control.Monad.Reader.Reader'</span><span>
</span><span id="line-2037"></span><span class="hs-comment">-- 'Control.Monad.Monad' @(-&gt;) s@.</span><span>
</span><span id="line-2038"></span><span class="hs-comment">--</span><span>
</span><span id="line-2039"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2040"></span><span class="hs-comment">-- 'ipreview' :: 'IndexedGetter' i s a     -&gt; s -&gt; 'Maybe' (i, a)</span><span>
</span><span id="line-2041"></span><span class="hs-comment">-- 'ipreview' :: 'IndexedFold' i s a       -&gt; s -&gt; 'Maybe' (i, a)</span><span>
</span><span id="line-2042"></span><span class="hs-comment">-- 'ipreview' :: 'IndexedLens'' i s a      -&gt; s -&gt; 'Maybe' (i, a)</span><span>
</span><span id="line-2043"></span><span class="hs-comment">-- 'ipreview' :: 'IndexedTraversal'' i s a -&gt; s -&gt; 'Maybe' (i, a)</span><span>
</span><span id="line-2044"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2045"></span><span class="hs-comment">--</span><span>
</span><span id="line-2046"></span><span class="hs-comment">-- However, it may be useful to think of its full generality when working with</span><span>
</span><span id="line-2047"></span><span class="hs-comment">-- a 'Control.Monad.Monad' transformer stack:</span><span>
</span><span id="line-2048"></span><span class="hs-comment">--</span><span>
</span><span id="line-2049"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2050"></span><span class="hs-comment">-- 'ipreview' :: 'MonadReader' s m =&gt; 'IndexedGetter' s a     -&gt; m ('Maybe' (i, a))</span><span>
</span><span id="line-2051"></span><span class="hs-comment">-- 'ipreview' :: 'MonadReader' s m =&gt; 'IndexedFold' s a       -&gt; m ('Maybe' (i, a))</span><span>
</span><span id="line-2052"></span><span class="hs-comment">-- 'ipreview' :: 'MonadReader' s m =&gt; 'IndexedLens'' s a      -&gt; m ('Maybe' (i, a))</span><span>
</span><span id="line-2053"></span><span class="hs-comment">-- 'ipreview' :: 'MonadReader' s m =&gt; 'IndexedTraversal'' s a -&gt; m ('Maybe' (i, a))</span><span>
</span><span id="line-2054"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2055"></span><span id="local-6989586621679452240"><span id="local-6989586621679452241"><span id="local-6989586621679452242"><span id="local-6989586621679452243"><span class="annot"><a href="Control.Lens.Fold.html#ipreview"><span class="hs-identifier hs-type">ipreview</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><a href="#local-6989586621679452243"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452242"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452241"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452241"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679452240"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452243"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452240"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452242"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452241"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679452240"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-2056"></span><span id="ipreview"><span class="annot"><span class="annottext">ipreview :: IndexedGetting i (First (i, a)) s a -&gt; m (Maybe (i, a))
</span><a href="Control.Lens.Fold.html#ipreview"><span class="hs-identifier hs-var hs-var">ipreview</span></a></span></span><span> </span><span id="local-6989586621679451451"><span class="annot"><span class="annottext">l :: IndexedGetting i (First (i, a)) s a
</span><a href="#local-6989586621679451451"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; Maybe (i, a)) -&gt; m (Maybe (i, a))
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">First (i, a) -&gt; Maybe (i, a)
forall a. First a -&gt; Maybe a
</span><span class="hs-identifier hs-var hs-var">getFirst</span></span><span> </span><span class="annot"><span class="annottext">(First (i, a) -&gt; Maybe (i, a))
-&gt; (s -&gt; First (i, a)) -&gt; s -&gt; Maybe (i, a)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (First (i, a)) s a
-&gt; (i -&gt; a -&gt; First (i, a)) -&gt; s -&gt; First (i, a)
forall i m s a. IndexedGetting i m s a -&gt; (i -&gt; a -&gt; m) -&gt; s -&gt; m
</span><a href="Control.Lens.Fold.html#ifoldMapOf"><span class="hs-identifier hs-var">ifoldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (First (i, a)) s a
</span><a href="#local-6989586621679451451"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451450"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451450"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451449"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451449"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (i, a) -&gt; First (i, a)
forall a. Maybe a -&gt; First a
</span><span class="hs-identifier hs-var">First</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i, a) -&gt; Maybe (i, a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451450"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451449"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2057"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ipreview"><span class="hs-pragma hs-type">ipreview</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2058"></span><span>
</span><span id="line-2059"></span><span class="hs-comment">-- | Retrieve a function of the first value targeted by a 'Fold' or</span><span>
</span><span id="line-2060"></span><span class="hs-comment">-- 'Traversal' (or 'Just' the result from a 'Getter' or 'Lens').</span><span>
</span><span id="line-2061"></span><span class="hs-comment">--</span><span>
</span><span id="line-2062"></span><span class="hs-comment">-- This is usually applied in the 'Control.Monad.Reader.Reader'</span><span>
</span><span id="line-2063"></span><span class="hs-comment">-- 'Control.Monad.Monad' @(-&gt;) s@.</span><span>
</span><span id="line-2064"></span><span>
</span><span id="line-2065"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2066"></span><span class="hs-comment">-- 'previews' = 'views' '.' 'pre'</span><span>
</span><span id="line-2067"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2068"></span><span class="hs-comment">--</span><span>
</span><span id="line-2069"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2070"></span><span class="hs-comment">-- 'previews' :: 'Getter' s a     -&gt; (a -&gt; r) -&gt; s -&gt; 'Maybe' r</span><span>
</span><span id="line-2071"></span><span class="hs-comment">-- 'previews' :: 'Fold' s a       -&gt; (a -&gt; r) -&gt; s -&gt; 'Maybe' r</span><span>
</span><span id="line-2072"></span><span class="hs-comment">-- 'previews' :: 'Lens'' s a      -&gt; (a -&gt; r) -&gt; s -&gt; 'Maybe' r</span><span>
</span><span id="line-2073"></span><span class="hs-comment">-- 'previews' :: 'Iso'' s a       -&gt; (a -&gt; r) -&gt; s -&gt; 'Maybe' r</span><span>
</span><span id="line-2074"></span><span class="hs-comment">-- 'previews' :: 'Traversal'' s a -&gt; (a -&gt; r) -&gt; s -&gt; 'Maybe' r</span><span>
</span><span id="line-2075"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2076"></span><span class="hs-comment">--</span><span>
</span><span id="line-2077"></span><span class="hs-comment">-- However, it may be useful to think of its full generality when working with</span><span>
</span><span id="line-2078"></span><span class="hs-comment">-- a 'Monad' transformer stack:</span><span>
</span><span id="line-2079"></span><span class="hs-comment">--</span><span>
</span><span id="line-2080"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2081"></span><span class="hs-comment">-- 'previews' :: 'MonadReader' s m =&gt; 'Getter' s a     -&gt; (a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2082"></span><span class="hs-comment">-- 'previews' :: 'MonadReader' s m =&gt; 'Fold' s a       -&gt; (a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2083"></span><span class="hs-comment">-- 'previews' :: 'MonadReader' s m =&gt; 'Lens'' s a      -&gt; (a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2084"></span><span class="hs-comment">-- 'previews' :: 'MonadReader' s m =&gt; 'Iso'' s a       -&gt; (a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2085"></span><span class="hs-comment">-- 'previews' :: 'MonadReader' s m =&gt; 'Traversal'' s a -&gt; (a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2086"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2087"></span><span id="local-6989586621679452232"><span id="local-6989586621679452233"><span id="local-6989586621679452234"><span id="local-6989586621679452235"><span class="annot"><a href="Control.Lens.Fold.html#previews"><span class="hs-identifier hs-type">previews</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><a href="#local-6989586621679452235"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452234"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="annot"><a href="#local-6989586621679452233"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452235"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452232"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452232"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452233"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452234"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679452233"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-2088"></span><span id="previews"><span class="annot"><span class="annottext">previews :: Getting (First r) s a -&gt; (a -&gt; r) -&gt; m (Maybe r)
</span><a href="Control.Lens.Fold.html#previews"><span class="hs-identifier hs-var hs-var">previews</span></a></span></span><span> </span><span id="local-6989586621679451448"><span class="annot"><span class="annottext">l :: Getting (First r) s a
</span><a href="#local-6989586621679451448"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451447"><span class="annot"><span class="annottext">f :: a -&gt; r
</span><a href="#local-6989586621679451447"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; Maybe r) -&gt; m (Maybe r)
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">First r -&gt; Maybe r
forall a. First a -&gt; Maybe a
</span><span class="hs-identifier hs-var hs-var">getFirst</span></span><span> </span><span class="annot"><span class="annottext">(First r -&gt; Maybe r) -&gt; (s -&gt; First r) -&gt; s -&gt; Maybe r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Getting (First r) s a -&gt; (a -&gt; First r) -&gt; s -&gt; First r
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (First r) s a
</span><a href="#local-6989586621679451448"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe r -&gt; First r
forall a. Maybe a -&gt; First a
</span><span class="hs-identifier hs-var">First</span></span><span> </span><span class="annot"><span class="annottext">(Maybe r -&gt; First r) -&gt; (a -&gt; Maybe r) -&gt; a -&gt; First r
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; Maybe r
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Maybe r) -&gt; (a -&gt; r) -&gt; a -&gt; Maybe r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679451447"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2089"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#previews"><span class="hs-pragma hs-type">previews</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2090"></span><span>
</span><span id="line-2091"></span><span class="hs-comment">-- | Retrieve a function of the first index and value targeted by an 'IndexedFold' or</span><span>
</span><span id="line-2092"></span><span class="hs-comment">-- 'IndexedTraversal' (or 'Just' the result from an 'IndexedGetter' or 'IndexedLens').</span><span>
</span><span id="line-2093"></span><span class="hs-comment">-- See also ('^@?').</span><span>
</span><span id="line-2094"></span><span class="hs-comment">--</span><span>
</span><span id="line-2095"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2096"></span><span class="hs-comment">-- 'ipreviews' = 'views' '.' 'ipre'</span><span>
</span><span id="line-2097"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2098"></span><span class="hs-comment">--</span><span>
</span><span id="line-2099"></span><span class="hs-comment">-- This is usually applied in the 'Control.Monad.Reader.Reader'</span><span>
</span><span id="line-2100"></span><span class="hs-comment">-- 'Control.Monad.Monad' @(-&gt;) s@.</span><span>
</span><span id="line-2101"></span><span class="hs-comment">--</span><span>
</span><span id="line-2102"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2103"></span><span class="hs-comment">-- 'ipreviews' :: 'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; r) -&gt; s -&gt; 'Maybe' r</span><span>
</span><span id="line-2104"></span><span class="hs-comment">-- 'ipreviews' :: 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; r) -&gt; s -&gt; 'Maybe' r</span><span>
</span><span id="line-2105"></span><span class="hs-comment">-- 'ipreviews' :: 'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; r) -&gt; s -&gt; 'Maybe' r</span><span>
</span><span id="line-2106"></span><span class="hs-comment">-- 'ipreviews' :: 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; r) -&gt; s -&gt; 'Maybe' r</span><span>
</span><span id="line-2107"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2108"></span><span class="hs-comment">--</span><span>
</span><span id="line-2109"></span><span class="hs-comment">-- However, it may be useful to think of its full generality when working with</span><span>
</span><span id="line-2110"></span><span class="hs-comment">-- a 'Control.Monad.Monad' transformer stack:</span><span>
</span><span id="line-2111"></span><span class="hs-comment">--</span><span>
</span><span id="line-2112"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2113"></span><span class="hs-comment">-- 'ipreviews' :: 'MonadReader' s m =&gt; 'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2114"></span><span class="hs-comment">-- 'ipreviews' :: 'MonadReader' s m =&gt; 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2115"></span><span class="hs-comment">-- 'ipreviews' :: 'MonadReader' s m =&gt; 'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2116"></span><span class="hs-comment">-- 'ipreviews' :: 'MonadReader' s m =&gt; 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2117"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2118"></span><span id="local-6989586621679452222"><span id="local-6989586621679452223"><span id="local-6989586621679452224"><span id="local-6989586621679452225"><span id="local-6989586621679452226"><span class="annot"><a href="Control.Lens.Fold.html#ipreviews"><span class="hs-identifier hs-type">ipreviews</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><a href="#local-6989586621679452226"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452225"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452224"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="annot"><a href="#local-6989586621679452223"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452226"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452222"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452224"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452222"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452223"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452225"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679452223"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-2119"></span><span id="ipreviews"><span class="annot"><span class="annottext">ipreviews :: IndexedGetting i (First r) s a -&gt; (i -&gt; a -&gt; r) -&gt; m (Maybe r)
</span><a href="Control.Lens.Fold.html#ipreviews"><span class="hs-identifier hs-var hs-var">ipreviews</span></a></span></span><span> </span><span id="local-6989586621679451446"><span class="annot"><span class="annottext">l :: IndexedGetting i (First r) s a
</span><a href="#local-6989586621679451446"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451445"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; r
</span><a href="#local-6989586621679451445"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; Maybe r) -&gt; m (Maybe r)
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">First r -&gt; Maybe r
forall a. First a -&gt; Maybe a
</span><span class="hs-identifier hs-var hs-var">getFirst</span></span><span> </span><span class="annot"><span class="annottext">(First r -&gt; Maybe r) -&gt; (s -&gt; First r) -&gt; s -&gt; Maybe r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (First r) s a
-&gt; (i -&gt; a -&gt; First r) -&gt; s -&gt; First r
forall i m s a. IndexedGetting i m s a -&gt; (i -&gt; a -&gt; m) -&gt; s -&gt; m
</span><a href="Control.Lens.Fold.html#ifoldMapOf"><span class="hs-identifier hs-var">ifoldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (First r) s a
</span><a href="#local-6989586621679451446"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451444"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451444"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe r -&gt; First r
forall a. Maybe a -&gt; First a
</span><span class="hs-identifier hs-var">First</span></span><span> </span><span class="annot"><span class="annottext">(Maybe r -&gt; First r) -&gt; (a -&gt; Maybe r) -&gt; a -&gt; First r
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; Maybe r
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; Maybe r) -&gt; (a -&gt; r) -&gt; a -&gt; Maybe r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; r
</span><a href="#local-6989586621679451445"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451444"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2120"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ipreviews"><span class="hs-pragma hs-type">ipreviews</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2121"></span><span>
</span><span id="line-2122"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2123"></span><span class="hs-comment">-- Preuse</span><span>
</span><span id="line-2124"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2125"></span><span>
</span><span id="line-2126"></span><span class="hs-comment">-- | Retrieve the first value targeted by a 'Fold' or 'Traversal' (or 'Just' the result</span><span>
</span><span id="line-2127"></span><span class="hs-comment">-- from a 'Getter' or 'Lens') into the current state.</span><span>
</span><span id="line-2128"></span><span class="hs-comment">--</span><span>
</span><span id="line-2129"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2130"></span><span class="hs-comment">-- 'preuse' = 'use' '.' 'pre'</span><span>
</span><span id="line-2131"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2132"></span><span class="hs-comment">--</span><span>
</span><span id="line-2133"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2134"></span><span class="hs-comment">-- 'preuse' :: 'MonadState' s m =&gt; 'Getter' s a     -&gt; m ('Maybe' a)</span><span>
</span><span id="line-2135"></span><span class="hs-comment">-- 'preuse' :: 'MonadState' s m =&gt; 'Fold' s a       -&gt; m ('Maybe' a)</span><span>
</span><span id="line-2136"></span><span class="hs-comment">-- 'preuse' :: 'MonadState' s m =&gt; 'Lens'' s a      -&gt; m ('Maybe' a)</span><span>
</span><span id="line-2137"></span><span class="hs-comment">-- 'preuse' :: 'MonadState' s m =&gt; 'Iso'' s a       -&gt; m ('Maybe' a)</span><span>
</span><span id="line-2138"></span><span class="hs-comment">-- 'preuse' :: 'MonadState' s m =&gt; 'Traversal'' s a -&gt; m ('Maybe' a)</span><span>
</span><span id="line-2139"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2140"></span><span id="local-6989586621679451441"><span id="local-6989586621679451442"><span id="local-6989586621679451443"><span class="annot"><a href="Control.Lens.Fold.html#preuse"><span class="hs-identifier hs-type">preuse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadState</span></span><span> </span><span class="annot"><a href="#local-6989586621679451443"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451442"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="annot"><a href="#local-6989586621679451441"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451443"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451441"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451442"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451441"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-2141"></span><span id="preuse"><span class="annot"><span class="annottext">preuse :: Getting (First a) s a -&gt; m (Maybe a)
</span><a href="Control.Lens.Fold.html#preuse"><span class="hs-identifier hs-var hs-var">preuse</span></a></span></span><span> </span><span id="local-6989586621679451440"><span class="annot"><span class="annottext">l :: Getting (First a) s a
</span><a href="#local-6989586621679451440"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; Maybe a) -&gt; m (Maybe a)
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">gets</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting (First a) s a -&gt; s -&gt; Maybe a
forall s (m :: * -&gt; *) a.
MonadReader s m =&gt;
Getting (First a) s a -&gt; m (Maybe a)
</span><a href="Control.Lens.Fold.html#preview"><span class="hs-identifier hs-var">preview</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (First a) s a
</span><a href="#local-6989586621679451440"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2142"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#preuse"><span class="hs-pragma hs-type">preuse</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2143"></span><span>
</span><span id="line-2144"></span><span class="hs-comment">-- | Retrieve the first index and value targeted by an 'IndexedFold' or 'IndexedTraversal' (or 'Just' the index</span><span>
</span><span id="line-2145"></span><span class="hs-comment">-- and result from an 'IndexedGetter' or 'IndexedLens') into the current state.</span><span>
</span><span id="line-2146"></span><span class="hs-comment">--</span><span>
</span><span id="line-2147"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2148"></span><span class="hs-comment">-- 'ipreuse' = 'use' '.' 'ipre'</span><span>
</span><span id="line-2149"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2150"></span><span class="hs-comment">--</span><span>
</span><span id="line-2151"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2152"></span><span class="hs-comment">-- 'ipreuse' :: 'MonadState' s m =&gt; 'IndexedGetter' i s a     -&gt; m ('Maybe' (i, a))</span><span>
</span><span id="line-2153"></span><span class="hs-comment">-- 'ipreuse' :: 'MonadState' s m =&gt; 'IndexedFold' i s a       -&gt; m ('Maybe' (i, a))</span><span>
</span><span id="line-2154"></span><span class="hs-comment">-- 'ipreuse' :: 'MonadState' s m =&gt; 'IndexedLens'' i s a      -&gt; m ('Maybe' (i, a))</span><span>
</span><span id="line-2155"></span><span class="hs-comment">-- 'ipreuse' :: 'MonadState' s m =&gt; 'IndexedTraversal'' i s a -&gt; m ('Maybe' (i, a))</span><span>
</span><span id="line-2156"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2157"></span><span id="local-6989586621679451435"><span id="local-6989586621679451436"><span id="local-6989586621679451437"><span id="local-6989586621679451438"><span class="annot"><a href="Control.Lens.Fold.html#ipreuse"><span class="hs-identifier hs-type">ipreuse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadState</span></span><span> </span><span class="annot"><a href="#local-6989586621679451438"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451437"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451436"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451436"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679451435"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451438"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451435"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451437"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451436"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679451435"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-2158"></span><span id="ipreuse"><span class="annot"><span class="annottext">ipreuse :: IndexedGetting i (First (i, a)) s a -&gt; m (Maybe (i, a))
</span><a href="Control.Lens.Fold.html#ipreuse"><span class="hs-identifier hs-var hs-var">ipreuse</span></a></span></span><span> </span><span id="local-6989586621679451434"><span class="annot"><span class="annottext">l :: IndexedGetting i (First (i, a)) s a
</span><a href="#local-6989586621679451434"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; Maybe (i, a)) -&gt; m (Maybe (i, a))
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">gets</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IndexedGetting i (First (i, a)) s a -&gt; s -&gt; Maybe (i, a)
forall s (m :: * -&gt; *) i a.
MonadReader s m =&gt;
IndexedGetting i (First (i, a)) s a -&gt; m (Maybe (i, a))
</span><a href="Control.Lens.Fold.html#ipreview"><span class="hs-identifier hs-var">ipreview</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (First (i, a)) s a
</span><a href="#local-6989586621679451434"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2159"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ipreuse"><span class="hs-pragma hs-type">ipreuse</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2160"></span><span>
</span><span id="line-2161"></span><span class="hs-comment">-- | Retrieve a function of the first value targeted by a 'Fold' or</span><span>
</span><span id="line-2162"></span><span class="hs-comment">-- 'Traversal' (or 'Just' the result from a 'Getter' or 'Lens') into the current state.</span><span>
</span><span id="line-2163"></span><span class="hs-comment">--</span><span>
</span><span id="line-2164"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2165"></span><span class="hs-comment">-- 'preuses' = 'uses' '.' 'pre'</span><span>
</span><span id="line-2166"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2167"></span><span class="hs-comment">--</span><span>
</span><span id="line-2168"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2169"></span><span class="hs-comment">-- 'preuses' :: 'MonadState' s m =&gt; 'Getter' s a     -&gt; (a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2170"></span><span class="hs-comment">-- 'preuses' :: 'MonadState' s m =&gt; 'Fold' s a       -&gt; (a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2171"></span><span class="hs-comment">-- 'preuses' :: 'MonadState' s m =&gt; 'Lens'' s a      -&gt; (a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2172"></span><span class="hs-comment">-- 'preuses' :: 'MonadState' s m =&gt; 'Iso'' s a       -&gt; (a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2173"></span><span class="hs-comment">-- 'preuses' :: 'MonadState' s m =&gt; 'Traversal'' s a -&gt; (a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2174"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2175"></span><span id="local-6989586621679451430"><span id="local-6989586621679451431"><span id="local-6989586621679451432"><span id="local-6989586621679451433"><span class="annot"><a href="Control.Lens.Fold.html#preuses"><span class="hs-identifier hs-type">preuses</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadState</span></span><span> </span><span class="annot"><a href="#local-6989586621679451433"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451432"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#Getting"><span class="hs-identifier hs-type">Getting</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="annot"><a href="#local-6989586621679451431"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451433"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451430"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451430"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451431"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451432"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451431"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-2176"></span><span id="preuses"><span class="annot"><span class="annottext">preuses :: Getting (First r) s a -&gt; (a -&gt; r) -&gt; m (Maybe r)
</span><a href="Control.Lens.Fold.html#preuses"><span class="hs-identifier hs-var hs-var">preuses</span></a></span></span><span> </span><span id="local-6989586621679451429"><span class="annot"><span class="annottext">l :: Getting (First r) s a
</span><a href="#local-6989586621679451429"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451428"><span class="annot"><span class="annottext">f :: a -&gt; r
</span><a href="#local-6989586621679451428"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; Maybe r) -&gt; m (Maybe r)
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">gets</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting (First r) s a -&gt; (a -&gt; r) -&gt; s -&gt; Maybe r
forall s (m :: * -&gt; *) r a.
MonadReader s m =&gt;
Getting (First r) s a -&gt; (a -&gt; r) -&gt; m (Maybe r)
</span><a href="Control.Lens.Fold.html#previews"><span class="hs-identifier hs-var">previews</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (First r) s a
</span><a href="#local-6989586621679451429"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679451428"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2177"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#preuses"><span class="hs-pragma hs-type">preuses</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2178"></span><span>
</span><span id="line-2179"></span><span class="hs-comment">-- | Retrieve a function of the first index and value targeted by an 'IndexedFold' or</span><span>
</span><span id="line-2180"></span><span class="hs-comment">-- 'IndexedTraversal' (or a function of 'Just' the index and result from an 'IndexedGetter'</span><span>
</span><span id="line-2181"></span><span class="hs-comment">-- or 'IndexedLens') into the current state.</span><span>
</span><span id="line-2182"></span><span class="hs-comment">--</span><span>
</span><span id="line-2183"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2184"></span><span class="hs-comment">-- 'ipreuses' = 'uses' '.' 'ipre'</span><span>
</span><span id="line-2185"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2186"></span><span class="hs-comment">--</span><span>
</span><span id="line-2187"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2188"></span><span class="hs-comment">-- 'ipreuses' :: 'MonadState' s m =&gt; 'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2189"></span><span class="hs-comment">-- 'ipreuses' :: 'MonadState' s m =&gt; 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2190"></span><span class="hs-comment">-- 'ipreuses' :: 'MonadState' s m =&gt; 'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2191"></span><span class="hs-comment">-- 'ipreuses' :: 'MonadState' s m =&gt; 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; r) -&gt; m ('Maybe' r)</span><span>
</span><span id="line-2192"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2193"></span><span id="local-6989586621679451423"><span id="local-6989586621679451424"><span id="local-6989586621679451425"><span id="local-6989586621679451426"><span id="local-6989586621679451427"><span class="annot"><a href="Control.Lens.Fold.html#ipreuses"><span class="hs-identifier hs-type">ipreuses</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadState</span></span><span> </span><span class="annot"><a href="#local-6989586621679451427"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451426"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451425"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="annot"><a href="#local-6989586621679451424"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451427"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451423"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451425"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451423"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451424"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451426"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451424"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-2194"></span><span id="ipreuses"><span class="annot"><span class="annottext">ipreuses :: IndexedGetting i (First r) s a -&gt; (i -&gt; a -&gt; r) -&gt; m (Maybe r)
</span><a href="Control.Lens.Fold.html#ipreuses"><span class="hs-identifier hs-var hs-var">ipreuses</span></a></span></span><span> </span><span id="local-6989586621679451422"><span class="annot"><span class="annottext">l :: IndexedGetting i (First r) s a
</span><a href="#local-6989586621679451422"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451421"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; r
</span><a href="#local-6989586621679451421"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(s -&gt; Maybe r) -&gt; m (Maybe r)
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">gets</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IndexedGetting i (First r) s a -&gt; (i -&gt; a -&gt; r) -&gt; s -&gt; Maybe r
forall s (m :: * -&gt; *) i r a.
MonadReader s m =&gt;
IndexedGetting i (First r) s a -&gt; (i -&gt; a -&gt; r) -&gt; m (Maybe r)
</span><a href="Control.Lens.Fold.html#ipreviews"><span class="hs-identifier hs-var">ipreviews</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (First r) s a
</span><a href="#local-6989586621679451422"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; r
</span><a href="#local-6989586621679451421"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2195"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ipreuses"><span class="hs-pragma hs-type">ipreuses</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2196"></span><span>
</span><span id="line-2197"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2198"></span><span class="hs-comment">-- Profunctors</span><span>
</span><span id="line-2199"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2200"></span><span>
</span><span id="line-2201"></span><span>
</span><span id="line-2202"></span><span class="hs-comment">-- | This allows you to 'Control.Traversable.traverse' the elements of a pretty much any 'LensLike' construction in the opposite order.</span><span>
</span><span id="line-2203"></span><span class="hs-comment">--</span><span>
</span><span id="line-2204"></span><span class="hs-comment">-- This will preserve indexes on 'Indexed' types and will give you the elements of a (finite) 'Fold' or 'Traversal' in the opposite order.</span><span>
</span><span id="line-2205"></span><span class="hs-comment">--</span><span>
</span><span id="line-2206"></span><span class="hs-comment">-- This has no practical impact on a 'Getter', 'Setter', 'Lens' or 'Iso'.</span><span>
</span><span id="line-2207"></span><span class="hs-comment">--</span><span>
</span><span id="line-2208"></span><span class="hs-comment">-- /NB:/ To write back through an 'Iso', you want to use 'Control.Lens.Isomorphic.from'.</span><span>
</span><span id="line-2209"></span><span class="hs-comment">-- Similarly, to write back through an 'Prism', you want to use 'Control.Lens.Review.re'.</span><span>
</span><span id="line-2210"></span><span id="local-6989586621679451414"><span id="local-6989586621679451415"><span id="local-6989586621679451416"><span id="local-6989586621679451417"><span id="local-6989586621679451418"><span id="local-6989586621679451419"><span id="local-6989586621679451420"><span class="annot"><a href="Control.Lens.Fold.html#backwards"><span class="hs-identifier hs-type">backwards</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679451420"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679451419"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical"><span class="hs-identifier hs-type">Optical</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451420"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451419"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Backwards</span></span><span> </span><span class="annot"><a href="#local-6989586621679451418"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451417"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451416"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451415"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451414"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical"><span class="hs-identifier hs-type">Optical</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451420"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451419"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451418"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451417"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451416"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451415"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451414"><span class="hs-identifier hs-type">b</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-2211"></span><span id="backwards"><span class="annot"><span class="annottext">backwards :: Optical p q (Backwards f) s t a b -&gt; Optical p q f s t a b
</span><a href="Control.Lens.Fold.html#backwards"><span class="hs-identifier hs-var hs-var">backwards</span></a></span></span><span> </span><span id="local-6989586621679451413"><span class="annot"><span class="annottext">l :: Optical p q (Backwards f) s t a b
</span><a href="#local-6989586621679451413"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451412"><span class="annot"><span class="annottext">f :: p a (f b)
</span><a href="#local-6989586621679451412"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Backwards f t -&gt; f t
forall k (f :: k -&gt; *) (a :: k). Backwards f a -&gt; f a
</span><span class="hs-identifier hs-var hs-var">forwards</span></span><span> </span><span class="annot"><span class="annottext">(Backwards f t -&gt; f t) -&gt; q s (Backwards f t) -&gt; q s (f t)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Optical p q (Backwards f) s t a b
</span><a href="#local-6989586621679451413"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">f b -&gt; Backwards f b
forall k (f :: k -&gt; *) (a :: k). f a -&gt; Backwards f a
</span><span class="hs-identifier hs-var">Backwards</span></span><span> </span><span class="annot"><span class="annottext">(f b -&gt; Backwards f b) -&gt; p a (f b) -&gt; p a (Backwards f b)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">p a (f b)
</span><a href="#local-6989586621679451412"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2212"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#backwards"><span class="hs-pragma hs-type">backwards</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2213"></span><span>
</span><span id="line-2214"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2215"></span><span class="hs-comment">-- Indexed Folds</span><span>
</span><span id="line-2216"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2217"></span><span>
</span><span id="line-2218"></span><span class="hs-comment">-- | Fold an 'IndexedFold' or 'IndexedTraversal' by mapping indices and values to an arbitrary 'Monoid' with access</span><span>
</span><span id="line-2219"></span><span class="hs-comment">-- to the @i@.</span><span>
</span><span id="line-2220"></span><span class="hs-comment">--</span><span>
</span><span id="line-2221"></span><span class="hs-comment">-- When you don't need access to the index then 'foldMapOf' is more flexible in what it accepts.</span><span>
</span><span id="line-2222"></span><span class="hs-comment">--</span><span>
</span><span id="line-2223"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2224"></span><span class="hs-comment">-- 'foldMapOf' l &#8801; 'ifoldMapOf' l '.' 'const'</span><span>
</span><span id="line-2225"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2226"></span><span class="hs-comment">--</span><span>
</span><span id="line-2227"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2228"></span><span class="hs-comment">-- 'ifoldMapOf' ::             'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; m) -&gt; s -&gt; m</span><span>
</span><span id="line-2229"></span><span class="hs-comment">-- 'ifoldMapOf' :: 'Monoid' m =&gt; 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; m) -&gt; s -&gt; m</span><span>
</span><span id="line-2230"></span><span class="hs-comment">-- 'ifoldMapOf' ::             'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; m) -&gt; s -&gt; m</span><span>
</span><span id="line-2231"></span><span class="hs-comment">-- 'ifoldMapOf' :: 'Monoid' m =&gt; 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; m) -&gt; s -&gt; m</span><span>
</span><span id="line-2232"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2233"></span><span class="hs-comment">--</span><span>
</span><span id="line-2234"></span><span id="local-6989586621679452266"><span id="local-6989586621679452267"><span id="local-6989586621679452268"><span id="local-6989586621679452269"><span class="annot"><a href="Control.Lens.Fold.html#ifoldMapOf"><span class="hs-identifier hs-type">ifoldMapOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452269"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452268"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452267"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452266"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452269"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452266"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452268"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452267"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452268"><span class="hs-identifier hs-type">m</span></a></span></span></span></span></span><span>
</span><span id="line-2235"></span><span id="ifoldMapOf"><span class="annot"><span class="annottext">ifoldMapOf :: IndexedGetting i m s a -&gt; (i -&gt; a -&gt; m) -&gt; s -&gt; m
</span><a href="Control.Lens.Fold.html#ifoldMapOf"><span class="hs-identifier hs-var hs-var">ifoldMapOf</span></a></span></span><span> </span><span id="local-6989586621679451409"><span class="annot"><span class="annottext">l :: IndexedGetting i m s a
</span><a href="#local-6989586621679451409"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451408"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; m
</span><a href="#local-6989586621679451408"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Const m s -&gt; m
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const m s -&gt; m) -&gt; (s -&gt; Const m s) -&gt; s -&gt; m
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i m s a
</span><a href="#local-6989586621679451409"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">m -&gt; Const m a
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="annot"><span class="annottext">(m -&gt; Const m a) -&gt; Indexed i a m -&gt; Indexed i a (Const m a)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m) -&gt; Indexed i a m
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m
</span><a href="#local-6989586621679451408"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2236"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldMapOf"><span class="hs-pragma hs-type">ifoldMapOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2237"></span><span>
</span><span id="line-2238"></span><span class="hs-comment">-- | Right-associative fold of parts of a structure that are viewed through an 'IndexedFold' or 'IndexedTraversal' with</span><span>
</span><span id="line-2239"></span><span class="hs-comment">-- access to the @i@.</span><span>
</span><span id="line-2240"></span><span class="hs-comment">--</span><span>
</span><span id="line-2241"></span><span class="hs-comment">-- When you don't need access to the index then 'foldrOf' is more flexible in what it accepts.</span><span>
</span><span id="line-2242"></span><span class="hs-comment">--</span><span>
</span><span id="line-2243"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2244"></span><span class="hs-comment">-- 'foldrOf' l &#8801; 'ifoldrOf' l '.' 'const'</span><span>
</span><span id="line-2245"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2246"></span><span class="hs-comment">--</span><span>
</span><span id="line-2247"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2248"></span><span class="hs-comment">-- 'ifoldrOf' :: 'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2249"></span><span class="hs-comment">-- 'ifoldrOf' :: 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2250"></span><span class="hs-comment">-- 'ifoldrOf' :: 'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2251"></span><span class="hs-comment">-- 'ifoldrOf' :: 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2252"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2253"></span><span id="local-6989586621679452143"><span id="local-6989586621679452144"><span id="local-6989586621679452145"><span id="local-6989586621679452146"><span class="annot"><a href="Control.Lens.Fold.html#ifoldrOf"><span class="hs-identifier hs-type">ifoldrOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452146"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679452145"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452144"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452143"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452146"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452143"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452145"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452145"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452145"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452144"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452145"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-2254"></span><span id="ifoldrOf"><span class="annot"><span class="annottext">ifoldrOf :: IndexedGetting i (Endo r) s a -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#ifoldrOf"><span class="hs-identifier hs-var hs-var">ifoldrOf</span></a></span></span><span> </span><span id="local-6989586621679451407"><span class="annot"><span class="annottext">l :: IndexedGetting i (Endo r) s a
</span><a href="#local-6989586621679451407"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451406"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; r -&gt; r
</span><a href="#local-6989586621679451406"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451405"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679451405"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Endo r -&gt; r -&gt; r) -&gt; r -&gt; Endo r -&gt; r
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Endo r -&gt; r -&gt; r
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451405"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">(Endo r -&gt; r) -&gt; (s -&gt; Endo r) -&gt; s -&gt; r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Const (Endo r) s -&gt; Endo r
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const (Endo r) s -&gt; Endo r)
-&gt; (s -&gt; Const (Endo r) s) -&gt; s -&gt; Endo r
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo r) s a
</span><a href="#local-6989586621679451407"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Endo r -&gt; Const (Endo r) a
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="annot"><span class="annottext">(Endo r -&gt; Const (Endo r) a)
-&gt; Indexed i a (Endo r) -&gt; Indexed i a (Const (Endo r) a)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; Endo r
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((r -&gt; r) -&gt; Endo r)
-&gt; Indexed i a (r -&gt; r) -&gt; Indexed i a (Endo r)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; r -&gt; r) -&gt; Indexed i a (r -&gt; r)
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; r -&gt; r
</span><a href="#local-6989586621679451406"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2255"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldrOf"><span class="hs-pragma hs-type">ifoldrOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2256"></span><span>
</span><span id="line-2257"></span><span class="hs-comment">-- | Left-associative fold of the parts of a structure that are viewed through an 'IndexedFold' or 'IndexedTraversal' with</span><span>
</span><span id="line-2258"></span><span class="hs-comment">-- access to the @i@.</span><span>
</span><span id="line-2259"></span><span class="hs-comment">--</span><span>
</span><span id="line-2260"></span><span class="hs-comment">-- When you don't need access to the index then 'foldlOf' is more flexible in what it accepts.</span><span>
</span><span id="line-2261"></span><span class="hs-comment">--</span><span>
</span><span id="line-2262"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2263"></span><span class="hs-comment">-- 'foldlOf' l &#8801; 'ifoldlOf' l '.' 'const'</span><span>
</span><span id="line-2264"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2265"></span><span class="hs-comment">--</span><span>
</span><span id="line-2266"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2267"></span><span class="hs-comment">-- 'ifoldlOf' :: 'IndexedGetter' i s a     -&gt; (i -&gt; r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2268"></span><span class="hs-comment">-- 'ifoldlOf' :: 'IndexedFold' i s a       -&gt; (i -&gt; r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2269"></span><span class="hs-comment">-- 'ifoldlOf' :: 'IndexedLens'' i s a      -&gt; (i -&gt; r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2270"></span><span class="hs-comment">-- 'ifoldlOf' :: 'IndexedTraversal'' i s a -&gt; (i -&gt; r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2271"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2272"></span><span id="local-6989586621679452131"><span id="local-6989586621679452132"><span id="local-6989586621679452133"><span id="local-6989586621679452134"><span class="annot"><a href="Control.Lens.Fold.html#ifoldlOf"><span class="hs-identifier hs-type">ifoldlOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452134"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dual</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><a href="#local-6989586621679452133"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452132"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452131"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452134"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452133"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452131"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452133"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452133"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452132"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452133"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-2273"></span><span id="ifoldlOf"><span class="annot"><span class="annottext">ifoldlOf :: IndexedGetting i (Dual (Endo r)) s a
-&gt; (i -&gt; r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#ifoldlOf"><span class="hs-identifier hs-var hs-var">ifoldlOf</span></a></span></span><span> </span><span id="local-6989586621679451404"><span class="annot"><span class="annottext">l :: IndexedGetting i (Dual (Endo r)) s a
</span><a href="#local-6989586621679451404"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451403"><span class="annot"><span class="annottext">f :: i -&gt; r -&gt; a -&gt; r
</span><a href="#local-6989586621679451403"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451402"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679451402"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Endo r -&gt; r -&gt; r) -&gt; r -&gt; Endo r -&gt; r
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Endo r -&gt; r -&gt; r
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451402"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">(Endo r -&gt; r) -&gt; (Dual (Endo r) -&gt; Endo r) -&gt; Dual (Endo r) -&gt; r
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible b a) =&gt;
p b c -&gt; q a b -&gt; p a c
</span><span class="hs-operator hs-var">.#</span></span><span> </span><span class="annot"><span class="annottext">Dual (Endo r) -&gt; Endo r
forall a. Dual a -&gt; a
</span><span class="hs-identifier hs-var hs-var">getDual</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Dual (Endo r) -&gt; r) -&gt; (s -&gt; Dual (Endo r)) -&gt; s -&gt; r
forall (p :: * -&gt; * -&gt; *) b c a.
Profunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">`rmap`</span></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Dual (Endo r)) s a
-&gt; (i -&gt; a -&gt; Dual (Endo r)) -&gt; s -&gt; Dual (Endo r)
forall i m s a. IndexedGetting i m s a -&gt; (i -&gt; a -&gt; m) -&gt; s -&gt; m
</span><a href="Control.Lens.Fold.html#ifoldMapOf"><span class="hs-identifier hs-var">ifoldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Dual (Endo r)) s a
</span><a href="#local-6989586621679451404"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451401"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451401"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Endo r -&gt; Dual (Endo r)
forall a. a -&gt; Dual a
</span><span class="hs-identifier hs-var">Dual</span></span><span> </span><span class="annot"><span class="annottext">(Endo r -&gt; Dual (Endo r)) -&gt; (a -&gt; Endo r) -&gt; a -&gt; Dual (Endo r)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; r) -&gt; Endo r
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((r -&gt; r) -&gt; Endo r) -&gt; (a -&gt; r -&gt; r) -&gt; a -&gt; Endo r
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; a -&gt; r) -&gt; a -&gt; r -&gt; r
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; r -&gt; a -&gt; r
</span><a href="#local-6989586621679451403"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451401"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2274"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldlOf"><span class="hs-pragma hs-type">ifoldlOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2275"></span><span>
</span><span id="line-2276"></span><span class="hs-comment">-- | Return whether or not any element viewed through an 'IndexedFold' or 'IndexedTraversal'</span><span>
</span><span id="line-2277"></span><span class="hs-comment">-- satisfy a predicate, with access to the @i@.</span><span>
</span><span id="line-2278"></span><span class="hs-comment">--</span><span>
</span><span id="line-2279"></span><span class="hs-comment">-- When you don't need access to the index then 'anyOf' is more flexible in what it accepts.</span><span>
</span><span id="line-2280"></span><span class="hs-comment">--</span><span>
</span><span id="line-2281"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2282"></span><span class="hs-comment">-- 'anyOf' l &#8801; 'ianyOf' l '.' 'const'</span><span>
</span><span id="line-2283"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2284"></span><span class="hs-comment">--</span><span>
</span><span id="line-2285"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2286"></span><span class="hs-comment">-- 'ianyOf' :: 'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-2287"></span><span class="hs-comment">-- 'ianyOf' :: 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-2288"></span><span class="hs-comment">-- 'ianyOf' :: 'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-2289"></span><span class="hs-comment">-- 'ianyOf' :: 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-2290"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2291"></span><span id="local-6989586621679452184"><span id="local-6989586621679452185"><span id="local-6989586621679452186"><span class="annot"><a href="Control.Lens.Fold.html#ianyOf"><span class="hs-identifier hs-type">ianyOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452186"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Any</span></span><span> </span><span class="annot"><a href="#local-6989586621679452185"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452184"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452186"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452184"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452185"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span></span><span>
</span><span id="line-2292"></span><span id="ianyOf"><span class="annot"><span class="annottext">ianyOf :: IndexedGetting i Any s a -&gt; (i -&gt; a -&gt; Bool) -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#ianyOf"><span class="hs-identifier hs-var hs-var">ianyOf</span></a></span></span><span> </span><span id="local-6989586621679451400"><span class="annot"><span class="annottext">l :: IndexedGetting i Any s a
</span><a href="#local-6989586621679451400"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451399"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679451399"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Any -&gt; Bool
</span><span class="hs-identifier hs-var hs-var">getAny</span></span><span> </span><span class="annot"><span class="annottext">(Any -&gt; Bool) -&gt; (s -&gt; Any) -&gt; s -&gt; Bool
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Const Any s -&gt; Any
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const Any s -&gt; Any) -&gt; (s -&gt; Const Any s) -&gt; s -&gt; Any
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i Any s a
</span><a href="#local-6989586621679451400"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Any -&gt; Const Any a
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="annot"><span class="annottext">(Any -&gt; Const Any a)
-&gt; Indexed i a Any -&gt; Indexed i a (Const Any a)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Any
</span><span class="hs-identifier hs-var">Any</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Any) -&gt; Indexed i a Bool -&gt; Indexed i a Any
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Bool) -&gt; Indexed i a Bool
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679451399"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2293"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ianyOf"><span class="hs-pragma hs-type">ianyOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2294"></span><span>
</span><span id="line-2295"></span><span class="hs-comment">-- | Return whether or not all elements viewed through an 'IndexedFold' or 'IndexedTraversal'</span><span>
</span><span id="line-2296"></span><span class="hs-comment">-- satisfy a predicate, with access to the @i@.</span><span>
</span><span id="line-2297"></span><span class="hs-comment">--</span><span>
</span><span id="line-2298"></span><span class="hs-comment">-- When you don't need access to the index then 'allOf' is more flexible in what it accepts.</span><span>
</span><span id="line-2299"></span><span class="hs-comment">--</span><span>
</span><span id="line-2300"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2301"></span><span class="hs-comment">-- 'allOf' l &#8801; 'iallOf' l '.' 'const'</span><span>
</span><span id="line-2302"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2303"></span><span class="hs-comment">--</span><span>
</span><span id="line-2304"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2305"></span><span class="hs-comment">-- 'iallOf' :: 'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-2306"></span><span class="hs-comment">-- 'iallOf' :: 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-2307"></span><span class="hs-comment">-- 'iallOf' :: 'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-2308"></span><span class="hs-comment">-- 'iallOf' :: 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-2309"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2310"></span><span id="local-6989586621679451396"><span id="local-6989586621679451397"><span id="local-6989586621679451398"><span class="annot"><a href="Control.Lens.Fold.html#iallOf"><span class="hs-identifier hs-type">iallOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451398"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">All</span></span><span> </span><span class="annot"><a href="#local-6989586621679451397"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451396"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451398"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451396"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451397"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span></span><span>
</span><span id="line-2311"></span><span id="iallOf"><span class="annot"><span class="annottext">iallOf :: IndexedGetting i All s a -&gt; (i -&gt; a -&gt; Bool) -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#iallOf"><span class="hs-identifier hs-var hs-var">iallOf</span></a></span></span><span> </span><span id="local-6989586621679451395"><span class="annot"><span class="annottext">l :: IndexedGetting i All s a
</span><a href="#local-6989586621679451395"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451394"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679451394"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">All -&gt; Bool
</span><span class="hs-identifier hs-var hs-var">getAll</span></span><span> </span><span class="annot"><span class="annottext">(All -&gt; Bool) -&gt; (s -&gt; All) -&gt; s -&gt; Bool
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Const All s -&gt; All
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const All s -&gt; All) -&gt; (s -&gt; Const All s) -&gt; s -&gt; All
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i All s a
</span><a href="#local-6989586621679451395"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">All -&gt; Const All a
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="annot"><span class="annottext">(All -&gt; Const All a)
-&gt; Indexed i a All -&gt; Indexed i a (Const All a)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; All
</span><span class="hs-identifier hs-var">All</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; All) -&gt; Indexed i a Bool -&gt; Indexed i a All
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Bool) -&gt; Indexed i a Bool
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679451394"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2312"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#iallOf"><span class="hs-pragma hs-type">iallOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2313"></span><span>
</span><span id="line-2314"></span><span class="hs-comment">-- | Return whether or not none of the elements viewed through an 'IndexedFold' or 'IndexedTraversal'</span><span>
</span><span id="line-2315"></span><span class="hs-comment">-- satisfy a predicate, with access to the @i@.</span><span>
</span><span id="line-2316"></span><span class="hs-comment">--</span><span>
</span><span id="line-2317"></span><span class="hs-comment">-- When you don't need access to the index then 'noneOf' is more flexible in what it accepts.</span><span>
</span><span id="line-2318"></span><span class="hs-comment">--</span><span>
</span><span id="line-2319"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2320"></span><span class="hs-comment">-- 'noneOf' l &#8801; 'inoneOf' l '.' 'const'</span><span>
</span><span id="line-2321"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2322"></span><span class="hs-comment">--</span><span>
</span><span id="line-2323"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2324"></span><span class="hs-comment">-- 'inoneOf' :: 'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-2325"></span><span class="hs-comment">-- 'inoneOf' :: 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-2326"></span><span class="hs-comment">-- 'inoneOf' :: 'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-2327"></span><span class="hs-comment">-- 'inoneOf' :: 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Bool'</span><span>
</span><span id="line-2328"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2329"></span><span id="local-6989586621679451391"><span id="local-6989586621679451392"><span id="local-6989586621679451393"><span class="annot"><a href="Control.Lens.Fold.html#inoneOf"><span class="hs-identifier hs-type">inoneOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451393"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Any</span></span><span> </span><span class="annot"><a href="#local-6989586621679451392"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451391"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451393"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451391"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451392"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span></span><span>
</span><span id="line-2330"></span><span id="inoneOf"><span class="annot"><span class="annottext">inoneOf :: IndexedGetting i Any s a -&gt; (i -&gt; a -&gt; Bool) -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#inoneOf"><span class="hs-identifier hs-var hs-var">inoneOf</span></a></span></span><span> </span><span id="local-6989586621679451390"><span class="annot"><span class="annottext">l :: IndexedGetting i Any s a
</span><a href="#local-6989586621679451390"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451389"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679451389"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (s -&gt; Bool) -&gt; s -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i Any s a -&gt; (i -&gt; a -&gt; Bool) -&gt; s -&gt; Bool
forall i s a.
IndexedGetting i Any s a -&gt; (i -&gt; a -&gt; Bool) -&gt; s -&gt; Bool
</span><a href="Control.Lens.Fold.html#ianyOf"><span class="hs-identifier hs-var">ianyOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i Any s a
</span><a href="#local-6989586621679451390"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679451389"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-2331"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#inoneOf"><span class="hs-pragma hs-type">inoneOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2332"></span><span>
</span><span id="line-2333"></span><span class="hs-comment">-- | Traverse the targets of an 'IndexedFold' or 'IndexedTraversal' with access to the @i@, discarding the results.</span><span>
</span><span id="line-2334"></span><span class="hs-comment">--</span><span>
</span><span id="line-2335"></span><span class="hs-comment">-- When you don't need access to the index then 'traverseOf_' is more flexible in what it accepts.</span><span>
</span><span id="line-2336"></span><span class="hs-comment">--</span><span>
</span><span id="line-2337"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2338"></span><span class="hs-comment">-- 'traverseOf_' l &#8801; 'Control.Lens.Traversal.itraverseOf' l '.' 'const'</span><span>
</span><span id="line-2339"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2340"></span><span class="hs-comment">--</span><span>
</span><span id="line-2341"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2342"></span><span class="hs-comment">-- 'itraverseOf_' :: 'Functor' f     =&gt; 'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; f r) -&gt; s -&gt; f ()</span><span>
</span><span id="line-2343"></span><span class="hs-comment">-- 'itraverseOf_' :: 'Applicative' f =&gt; 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; f r) -&gt; s -&gt; f ()</span><span>
</span><span id="line-2344"></span><span class="hs-comment">-- 'itraverseOf_' :: 'Functor' f     =&gt; 'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; f r) -&gt; s -&gt; f ()</span><span>
</span><span id="line-2345"></span><span class="hs-comment">-- 'itraverseOf_' :: 'Applicative' f =&gt; 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; f r) -&gt; s -&gt; f ()</span><span>
</span><span id="line-2346"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2347"></span><span id="local-6989586621679452169"><span id="local-6989586621679452170"><span id="local-6989586621679452171"><span id="local-6989586621679452172"><span id="local-6989586621679452173"><span class="annot"><a href="Control.Lens.Fold.html#itraverseOf_"><span class="hs-identifier hs-type">itraverseOf_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679452173"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452172"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Traversed"><span class="hs-identifier hs-type">Traversed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452171"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452173"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452170"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452169"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452172"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452169"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452173"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452171"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452170"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452173"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-2348"></span><span id="itraverseOf_"><span class="annot"><span class="annottext">itraverseOf_ :: IndexedGetting i (Traversed r f) s a
-&gt; (i -&gt; a -&gt; f r) -&gt; s -&gt; f ()
</span><a href="Control.Lens.Fold.html#itraverseOf_"><span class="hs-identifier hs-var hs-var">itraverseOf_</span></a></span></span><span> </span><span id="local-6989586621679451388"><span class="annot"><span class="annottext">l :: IndexedGetting i (Traversed r f) s a
</span><a href="#local-6989586621679451388"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451387"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; f r
</span><a href="#local-6989586621679451387"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f r -&gt; f ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(f r -&gt; f ()) -&gt; (s -&gt; f r) -&gt; s -&gt; f ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Traversed r f -&gt; f r
forall a (f :: * -&gt; *). Traversed a f -&gt; f a
</span><a href="Control.Lens.Internal.Fold.html#getTraversed"><span class="hs-identifier hs-var hs-var">getTraversed</span></a></span><span> </span><span class="annot"><span class="annottext">(Traversed r f -&gt; f r) -&gt; (s -&gt; Traversed r f) -&gt; s -&gt; f r
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Const (Traversed r f) s -&gt; Traversed r f
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const (Traversed r f) s -&gt; Traversed r f)
-&gt; (s -&gt; Const (Traversed r f) s) -&gt; s -&gt; Traversed r f
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Traversed r f) s a
</span><a href="#local-6989586621679451388"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Traversed r f -&gt; Const (Traversed r f) a
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="annot"><span class="annottext">(Traversed r f -&gt; Const (Traversed r f) a)
-&gt; Indexed i a (Traversed r f)
-&gt; Indexed i a (Const (Traversed r f) a)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">f r -&gt; Traversed r f
forall a (f :: * -&gt; *). f a -&gt; Traversed a f
</span><a href="Control.Lens.Internal.Fold.html#Traversed"><span class="hs-identifier hs-var">Traversed</span></a></span><span> </span><span class="annot"><span class="annottext">(f r -&gt; Traversed r f)
-&gt; Indexed i a (f r) -&gt; Indexed i a (Traversed r f)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f r) -&gt; Indexed i a (f r)
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; f r
</span><a href="#local-6989586621679451387"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2349"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#itraverseOf_"><span class="hs-pragma hs-type">itraverseOf_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2350"></span><span>
</span><span id="line-2351"></span><span class="hs-comment">-- | Traverse the targets of an 'IndexedFold' or 'IndexedTraversal' with access to the index, discarding the results</span><span>
</span><span id="line-2352"></span><span class="hs-comment">-- (with the arguments flipped).</span><span>
</span><span id="line-2353"></span><span class="hs-comment">--</span><span>
</span><span id="line-2354"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2355"></span><span class="hs-comment">-- 'iforOf_' &#8801; 'flip' '.' 'itraverseOf_'</span><span>
</span><span id="line-2356"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2357"></span><span class="hs-comment">--</span><span>
</span><span id="line-2358"></span><span class="hs-comment">-- When you don't need access to the index then 'forOf_' is more flexible in what it accepts.</span><span>
</span><span id="line-2359"></span><span class="hs-comment">--</span><span>
</span><span id="line-2360"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2361"></span><span class="hs-comment">-- 'forOf_' l a &#8801; 'iforOf_' l a '.' 'const'</span><span>
</span><span id="line-2362"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2363"></span><span class="hs-comment">--</span><span>
</span><span id="line-2364"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2365"></span><span class="hs-comment">-- 'iforOf_' :: 'Functor' f     =&gt; 'IndexedGetter' i s a     -&gt; s -&gt; (i -&gt; a -&gt; f r) -&gt; f ()</span><span>
</span><span id="line-2366"></span><span class="hs-comment">-- 'iforOf_' :: 'Applicative' f =&gt; 'IndexedFold' i s a       -&gt; s -&gt; (i -&gt; a -&gt; f r) -&gt; f ()</span><span>
</span><span id="line-2367"></span><span class="hs-comment">-- 'iforOf_' :: 'Functor' f     =&gt; 'IndexedLens'' i s a      -&gt; s -&gt; (i -&gt; a -&gt; f r) -&gt; f ()</span><span>
</span><span id="line-2368"></span><span class="hs-comment">-- 'iforOf_' :: 'Applicative' f =&gt; 'IndexedTraversal'' i s a -&gt; s -&gt; (i -&gt; a -&gt; f r) -&gt; f ()</span><span>
</span><span id="line-2369"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2370"></span><span id="local-6989586621679451382"><span id="local-6989586621679451383"><span id="local-6989586621679451384"><span id="local-6989586621679451385"><span id="local-6989586621679451386"><span class="annot"><a href="Control.Lens.Fold.html#iforOf_"><span class="hs-identifier hs-type">iforOf_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679451386"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451385"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Traversed"><span class="hs-identifier hs-type">Traversed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451384"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451386"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451383"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451382"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451383"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451385"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451382"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451386"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451384"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451386"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-2371"></span><span id="iforOf_"><span class="annot"><span class="annottext">iforOf_ :: IndexedGetting i (Traversed r f) s a
-&gt; s -&gt; (i -&gt; a -&gt; f r) -&gt; f ()
</span><a href="Control.Lens.Fold.html#iforOf_"><span class="hs-identifier hs-var hs-var">iforOf_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((i -&gt; a -&gt; f r) -&gt; s -&gt; f ()) -&gt; s -&gt; (i -&gt; a -&gt; f r) -&gt; f ()
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(((i -&gt; a -&gt; f r) -&gt; s -&gt; f ()) -&gt; s -&gt; (i -&gt; a -&gt; f r) -&gt; f ())
-&gt; (IndexedGetting i (Traversed r f) s a
    -&gt; (i -&gt; a -&gt; f r) -&gt; s -&gt; f ())
-&gt; IndexedGetting i (Traversed r f) s a
-&gt; s
-&gt; (i -&gt; a -&gt; f r)
-&gt; f ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Traversed r f) s a
-&gt; (i -&gt; a -&gt; f r) -&gt; s -&gt; f ()
forall (f :: * -&gt; *) i r s a.
Functor f =&gt;
IndexedGetting i (Traversed r f) s a
-&gt; (i -&gt; a -&gt; f r) -&gt; s -&gt; f ()
</span><a href="Control.Lens.Fold.html#itraverseOf_"><span class="hs-identifier hs-var">itraverseOf_</span></a></span><span>
</span><span id="line-2372"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#iforOf_"><span class="hs-pragma hs-type">iforOf_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2373"></span><span>
</span><span id="line-2374"></span><span class="hs-comment">-- | Run monadic actions for each target of an 'IndexedFold' or 'IndexedTraversal' with access to the index,</span><span>
</span><span id="line-2375"></span><span class="hs-comment">-- discarding the results.</span><span>
</span><span id="line-2376"></span><span class="hs-comment">--</span><span>
</span><span id="line-2377"></span><span class="hs-comment">-- When you don't need access to the index then 'mapMOf_' is more flexible in what it accepts.</span><span>
</span><span id="line-2378"></span><span class="hs-comment">--</span><span>
</span><span id="line-2379"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2380"></span><span class="hs-comment">-- 'mapMOf_' l &#8801; 'Control.Lens.Setter.imapMOf' l '.' 'const'</span><span>
</span><span id="line-2381"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2382"></span><span class="hs-comment">--</span><span>
</span><span id="line-2383"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2384"></span><span class="hs-comment">-- 'imapMOf_' :: 'Monad' m =&gt; 'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; m r) -&gt; s -&gt; m ()</span><span>
</span><span id="line-2385"></span><span class="hs-comment">-- 'imapMOf_' :: 'Monad' m =&gt; 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; m r) -&gt; s -&gt; m ()</span><span>
</span><span id="line-2386"></span><span class="hs-comment">-- 'imapMOf_' :: 'Monad' m =&gt; 'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; m r) -&gt; s -&gt; m ()</span><span>
</span><span id="line-2387"></span><span class="hs-comment">-- 'imapMOf_' :: 'Monad' m =&gt; 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; m r) -&gt; s -&gt; m ()</span><span>
</span><span id="line-2388"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2389"></span><span id="local-6989586621679452154"><span id="local-6989586621679452155"><span id="local-6989586621679452156"><span id="local-6989586621679452157"><span id="local-6989586621679452158"><span class="annot"><a href="Control.Lens.Fold.html#imapMOf_"><span class="hs-identifier hs-type">imapMOf_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679452158"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452157"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Sequenced"><span class="hs-identifier hs-type">Sequenced</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452156"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452158"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452155"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452154"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452157"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452154"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452158"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452156"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452155"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452158"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-2390"></span><span id="imapMOf_"><span class="annot"><span class="annottext">imapMOf_ :: IndexedGetting i (Sequenced r m) s a
-&gt; (i -&gt; a -&gt; m r) -&gt; s -&gt; m ()
</span><a href="Control.Lens.Fold.html#imapMOf_"><span class="hs-identifier hs-var hs-var">imapMOf_</span></a></span></span><span> </span><span id="local-6989586621679451381"><span class="annot"><span class="annottext">l :: IndexedGetting i (Sequenced r m) s a
</span><a href="#local-6989586621679451381"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451380"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; m r
</span><a href="#local-6989586621679451380"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(r -&gt; ()) -&gt; m r -&gt; m ()
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; ()
forall a. a -&gt; ()
</span><a href="Control.Lens.Fold.html#skip"><span class="hs-identifier hs-var">skip</span></a></span><span> </span><span class="annot"><span class="annottext">(m r -&gt; m ()) -&gt; (s -&gt; m r) -&gt; s -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Sequenced r m -&gt; m r
forall a (m :: * -&gt; *). Sequenced a m -&gt; m a
</span><a href="Control.Lens.Internal.Fold.html#getSequenced"><span class="hs-identifier hs-var hs-var">getSequenced</span></a></span><span> </span><span class="annot"><span class="annottext">(Sequenced r m -&gt; m r) -&gt; (s -&gt; Sequenced r m) -&gt; s -&gt; m r
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">Const (Sequenced r m) s -&gt; Sequenced r m
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span> </span><span class="annot"><span class="annottext">(Const (Sequenced r m) s -&gt; Sequenced r m)
-&gt; (s -&gt; Const (Sequenced r m) s) -&gt; s -&gt; Sequenced r m
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Sequenced r m) s a
</span><a href="#local-6989586621679451381"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sequenced r m -&gt; Const (Sequenced r m) a
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="annot"><span class="annottext">(Sequenced r m -&gt; Const (Sequenced r m) a)
-&gt; Indexed i a (Sequenced r m)
-&gt; Indexed i a (Const (Sequenced r m) a)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">m r -&gt; Sequenced r m
forall a (m :: * -&gt; *). m a -&gt; Sequenced a m
</span><a href="Control.Lens.Internal.Fold.html#Sequenced"><span class="hs-identifier hs-var">Sequenced</span></a></span><span> </span><span class="annot"><span class="annottext">(m r -&gt; Sequenced r m)
-&gt; Indexed i a (m r) -&gt; Indexed i a (Sequenced r m)
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; m r) -&gt; Indexed i a (m r)
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m r
</span><a href="#local-6989586621679451380"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2391"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#imapMOf_"><span class="hs-pragma hs-type">imapMOf_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2392"></span><span>
</span><span id="line-2393"></span><span class="hs-comment">-- | Run monadic actions for each target of an 'IndexedFold' or 'IndexedTraversal' with access to the index,</span><span>
</span><span id="line-2394"></span><span class="hs-comment">-- discarding the results (with the arguments flipped).</span><span>
</span><span id="line-2395"></span><span class="hs-comment">--</span><span>
</span><span id="line-2396"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2397"></span><span class="hs-comment">-- 'iforMOf_' &#8801; 'flip' '.' 'imapMOf_'</span><span>
</span><span id="line-2398"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2399"></span><span class="hs-comment">--</span><span>
</span><span id="line-2400"></span><span class="hs-comment">-- When you don't need access to the index then 'forMOf_' is more flexible in what it accepts.</span><span>
</span><span id="line-2401"></span><span class="hs-comment">--</span><span>
</span><span id="line-2402"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2403"></span><span class="hs-comment">-- 'forMOf_' l a &#8801; 'Control.Lens.Traversal.iforMOf' l a '.' 'const'</span><span>
</span><span id="line-2404"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2405"></span><span class="hs-comment">--</span><span>
</span><span id="line-2406"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2407"></span><span class="hs-comment">-- 'iforMOf_' :: 'Monad' m =&gt; 'IndexedGetter' i s a     -&gt; s -&gt; (i -&gt; a -&gt; m r) -&gt; m ()</span><span>
</span><span id="line-2408"></span><span class="hs-comment">-- 'iforMOf_' :: 'Monad' m =&gt; 'IndexedFold' i s a       -&gt; s -&gt; (i -&gt; a -&gt; m r) -&gt; m ()</span><span>
</span><span id="line-2409"></span><span class="hs-comment">-- 'iforMOf_' :: 'Monad' m =&gt; 'IndexedLens'' i s a      -&gt; s -&gt; (i -&gt; a -&gt; m r) -&gt; m ()</span><span>
</span><span id="line-2410"></span><span class="hs-comment">-- 'iforMOf_' :: 'Monad' m =&gt; 'IndexedTraversal'' i s a -&gt; s -&gt; (i -&gt; a -&gt; m r) -&gt; m ()</span><span>
</span><span id="line-2411"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2412"></span><span id="local-6989586621679451375"><span id="local-6989586621679451376"><span id="local-6989586621679451377"><span id="local-6989586621679451378"><span id="local-6989586621679451379"><span class="annot"><a href="Control.Lens.Fold.html#iforMOf_"><span class="hs-identifier hs-type">iforMOf_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679451379"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451378"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Fold.html#Sequenced"><span class="hs-identifier hs-type">Sequenced</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451377"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451379"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451376"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451375"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451376"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451378"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451375"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451379"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451377"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451379"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-2413"></span><span id="iforMOf_"><span class="annot"><span class="annottext">iforMOf_ :: IndexedGetting i (Sequenced r m) s a
-&gt; s -&gt; (i -&gt; a -&gt; m r) -&gt; m ()
</span><a href="Control.Lens.Fold.html#iforMOf_"><span class="hs-identifier hs-var hs-var">iforMOf_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((i -&gt; a -&gt; m r) -&gt; s -&gt; m ()) -&gt; s -&gt; (i -&gt; a -&gt; m r) -&gt; m ()
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(((i -&gt; a -&gt; m r) -&gt; s -&gt; m ()) -&gt; s -&gt; (i -&gt; a -&gt; m r) -&gt; m ())
-&gt; (IndexedGetting i (Sequenced r m) s a
    -&gt; (i -&gt; a -&gt; m r) -&gt; s -&gt; m ())
-&gt; IndexedGetting i (Sequenced r m) s a
-&gt; s
-&gt; (i -&gt; a -&gt; m r)
-&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Sequenced r m) s a
-&gt; (i -&gt; a -&gt; m r) -&gt; s -&gt; m ()
forall (m :: * -&gt; *) i r s a.
Monad m =&gt;
IndexedGetting i (Sequenced r m) s a
-&gt; (i -&gt; a -&gt; m r) -&gt; s -&gt; m ()
</span><a href="Control.Lens.Fold.html#imapMOf_"><span class="hs-identifier hs-var">imapMOf_</span></a></span><span>
</span><span id="line-2414"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#iforMOf_"><span class="hs-pragma hs-type">iforMOf_</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2415"></span><span>
</span><span id="line-2416"></span><span class="hs-comment">-- | Concatenate the results of a function of the elements of an 'IndexedFold' or 'IndexedTraversal'</span><span>
</span><span id="line-2417"></span><span class="hs-comment">-- with access to the index.</span><span>
</span><span id="line-2418"></span><span class="hs-comment">--</span><span>
</span><span id="line-2419"></span><span class="hs-comment">-- When you don't need access to the index then 'concatMapOf'  is more flexible in what it accepts.</span><span>
</span><span id="line-2420"></span><span class="hs-comment">--</span><span>
</span><span id="line-2421"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2422"></span><span class="hs-comment">-- 'concatMapOf' l &#8801; 'iconcatMapOf' l '.' 'const'</span><span>
</span><span id="line-2423"></span><span class="hs-comment">-- 'iconcatMapOf' &#8801; 'ifoldMapOf'</span><span>
</span><span id="line-2424"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2425"></span><span class="hs-comment">--</span><span>
</span><span id="line-2426"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2427"></span><span class="hs-comment">-- 'iconcatMapOf' :: 'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; [r]) -&gt; s -&gt; [r]</span><span>
</span><span id="line-2428"></span><span class="hs-comment">-- 'iconcatMapOf' :: 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; [r]) -&gt; s -&gt; [r]</span><span>
</span><span id="line-2429"></span><span class="hs-comment">-- 'iconcatMapOf' :: 'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; [r]) -&gt; s -&gt; [r]</span><span>
</span><span id="line-2430"></span><span class="hs-comment">-- 'iconcatMapOf' :: 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; [r]) -&gt; s -&gt; [r]</span><span>
</span><span id="line-2431"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2432"></span><span id="local-6989586621679451371"><span id="local-6989586621679451372"><span id="local-6989586621679451373"><span id="local-6989586621679451374"><span class="annot"><a href="Control.Lens.Fold.html#iconcatMapOf"><span class="hs-identifier hs-type">iconcatMapOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451374"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679451373"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621679451372"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451371"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451374"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451371"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679451373"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451372"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679451373"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">]</span></span></span></span></span><span>
</span><span id="line-2433"></span><span id="iconcatMapOf"><span class="annot"><span class="annottext">iconcatMapOf :: IndexedGetting i [r] s a -&gt; (i -&gt; a -&gt; [r]) -&gt; s -&gt; [r]
</span><a href="Control.Lens.Fold.html#iconcatMapOf"><span class="hs-identifier hs-var hs-var">iconcatMapOf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IndexedGetting i [r] s a -&gt; (i -&gt; a -&gt; [r]) -&gt; s -&gt; [r]
forall i m s a. IndexedGetting i m s a -&gt; (i -&gt; a -&gt; m) -&gt; s -&gt; m
</span><a href="Control.Lens.Fold.html#ifoldMapOf"><span class="hs-identifier hs-var">ifoldMapOf</span></a></span><span>
</span><span id="line-2434"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#iconcatMapOf"><span class="hs-pragma hs-type">iconcatMapOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2435"></span><span>
</span><span id="line-2436"></span><span class="hs-comment">-- | The 'ifindOf' function takes an 'IndexedFold' or 'IndexedTraversal', a predicate that is also</span><span>
</span><span id="line-2437"></span><span class="hs-comment">-- supplied the index, a structure and returns the left-most element of the structure</span><span>
</span><span id="line-2438"></span><span class="hs-comment">-- matching the predicate, or 'Nothing' if there is no such element.</span><span>
</span><span id="line-2439"></span><span class="hs-comment">--</span><span>
</span><span id="line-2440"></span><span class="hs-comment">-- When you don't need access to the index then 'findOf' is more flexible in what it accepts.</span><span>
</span><span id="line-2441"></span><span class="hs-comment">--</span><span>
</span><span id="line-2442"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2443"></span><span class="hs-comment">-- 'findOf' l &#8801; 'ifindOf' l '.' 'const'</span><span>
</span><span id="line-2444"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2445"></span><span class="hs-comment">--</span><span>
</span><span id="line-2446"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2447"></span><span class="hs-comment">-- 'ifindOf' :: 'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-2448"></span><span class="hs-comment">-- 'ifindOf' :: 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-2449"></span><span class="hs-comment">-- 'ifindOf' :: 'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-2450"></span><span class="hs-comment">-- 'ifindOf' :: 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; 'Bool') -&gt; s -&gt; 'Maybe' a</span><span>
</span><span id="line-2451"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2452"></span><span id="local-6989586621679451368"><span id="local-6989586621679451369"><span id="local-6989586621679451370"><span class="annot"><a href="Control.Lens.Fold.html#ifindOf"><span class="hs-identifier hs-type">ifindOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451370"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451369"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451368"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451369"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451370"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451369"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451368"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451369"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-2453"></span><span id="ifindOf"><span class="annot"><span class="annottext">ifindOf :: IndexedGetting i (Endo (Maybe a)) s a
-&gt; (i -&gt; a -&gt; Bool) -&gt; s -&gt; Maybe a
</span><a href="Control.Lens.Fold.html#ifindOf"><span class="hs-identifier hs-var hs-var">ifindOf</span></a></span></span><span> </span><span id="local-6989586621679451367"><span class="annot"><span class="annottext">l :: IndexedGetting i (Endo (Maybe a)) s a
</span><a href="#local-6989586621679451367"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451366"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679451366"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo (Maybe a)) s a
-&gt; (i -&gt; a -&gt; Maybe a -&gt; Maybe a) -&gt; Maybe a -&gt; s -&gt; Maybe a
forall i r s a.
IndexedGetting i (Endo r) s a -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#ifoldrOf"><span class="hs-identifier hs-var">ifoldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo (Maybe a)) s a
</span><a href="#local-6989586621679451367"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451365"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451365"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451364"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451364"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679451363"><span class="annot"><span class="annottext">y :: Maybe a
</span><a href="#local-6989586621679451363"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679451366"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451365"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451364"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451364"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679451363"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-2454"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifindOf"><span class="hs-pragma hs-type">ifindOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2455"></span><span>
</span><span id="line-2456"></span><span class="hs-comment">-- | The 'ifindMOf' function takes an 'IndexedFold' or 'IndexedTraversal', a monadic predicate that is also</span><span>
</span><span id="line-2457"></span><span class="hs-comment">-- supplied the index, a structure and returns in the monad the left-most element of the structure</span><span>
</span><span id="line-2458"></span><span class="hs-comment">-- matching the predicate, or 'Nothing' if there is no such element.</span><span>
</span><span id="line-2459"></span><span class="hs-comment">--</span><span>
</span><span id="line-2460"></span><span class="hs-comment">-- When you don't need access to the index then 'findMOf' is more flexible in what it accepts.</span><span>
</span><span id="line-2461"></span><span class="hs-comment">--</span><span>
</span><span id="line-2462"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2463"></span><span class="hs-comment">-- 'findMOf' l &#8801; 'ifindMOf' l '.' 'const'</span><span>
</span><span id="line-2464"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2465"></span><span class="hs-comment">--</span><span>
</span><span id="line-2466"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2467"></span><span class="hs-comment">-- 'ifindMOf' :: 'Monad' m =&gt; 'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; m 'Bool') -&gt; s -&gt; m ('Maybe' a)</span><span>
</span><span id="line-2468"></span><span class="hs-comment">-- 'ifindMOf' :: 'Monad' m =&gt; 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; m 'Bool') -&gt; s -&gt; m ('Maybe' a)</span><span>
</span><span id="line-2469"></span><span class="hs-comment">-- 'ifindMOf' :: 'Monad' m =&gt; 'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; m 'Bool') -&gt; s -&gt; m ('Maybe' a)</span><span>
</span><span id="line-2470"></span><span class="hs-comment">-- 'ifindMOf' :: 'Monad' m =&gt; 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; m 'Bool') -&gt; s -&gt; m ('Maybe' a)</span><span>
</span><span id="line-2471"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2472"></span><span id="local-6989586621679451359"><span id="local-6989586621679451360"><span id="local-6989586621679451361"><span id="local-6989586621679451362"><span class="annot"><a href="Control.Lens.Fold.html#ifindMOf"><span class="hs-identifier hs-type">ifindMOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679451362"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451361"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451362"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451360"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451359"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451360"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451361"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451360"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451362"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451359"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451362"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451360"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-2473"></span><span id="ifindMOf"><span class="annot"><span class="annottext">ifindMOf :: IndexedGetting i (Endo (m (Maybe a))) s a
-&gt; (i -&gt; a -&gt; m Bool) -&gt; s -&gt; m (Maybe a)
</span><a href="Control.Lens.Fold.html#ifindMOf"><span class="hs-identifier hs-var hs-var">ifindMOf</span></a></span></span><span> </span><span id="local-6989586621679451358"><span class="annot"><span class="annottext">l :: IndexedGetting i (Endo (m (Maybe a))) s a
</span><a href="#local-6989586621679451358"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451357"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; m Bool
</span><a href="#local-6989586621679451357"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo (m (Maybe a))) s a
-&gt; (i -&gt; a -&gt; m (Maybe a) -&gt; m (Maybe a))
-&gt; m (Maybe a)
-&gt; s
-&gt; m (Maybe a)
forall i r s a.
IndexedGetting i (Endo r) s a -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#ifoldrOf"><span class="hs-identifier hs-var">ifoldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo (m (Maybe a))) s a
</span><a href="#local-6989586621679451358"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451356"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451356"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451355"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451355"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679451354"><span class="annot"><span class="annottext">y :: m (Maybe a)
</span><a href="#local-6989586621679451354"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; m Bool
</span><a href="#local-6989586621679451357"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451356"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451355"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">m Bool -&gt; (Bool -&gt; m (Maybe a)) -&gt; m (Maybe a)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679451353"><span class="annot"><span class="annottext">r :: Bool
</span><a href="#local-6989586621679451353"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679451353"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; m (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451355"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">m (Maybe a)
</span><a href="#local-6989586621679451354"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m (Maybe a) -&gt; s -&gt; m (Maybe a))
-&gt; m (Maybe a) -&gt; s -&gt; m (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; m (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-2474"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifindMOf"><span class="hs-pragma hs-type">ifindMOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2475"></span><span>
</span><span id="line-2476"></span><span class="hs-comment">-- | /Strictly/ fold right over the elements of a structure with an index.</span><span>
</span><span id="line-2477"></span><span class="hs-comment">--</span><span>
</span><span id="line-2478"></span><span class="hs-comment">-- When you don't need access to the index then 'foldrOf'' is more flexible in what it accepts.</span><span>
</span><span id="line-2479"></span><span class="hs-comment">--</span><span>
</span><span id="line-2480"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2481"></span><span class="hs-comment">-- 'foldrOf'' l &#8801; 'ifoldrOf'' l '.' 'const'</span><span>
</span><span id="line-2482"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2483"></span><span class="hs-comment">--</span><span>
</span><span id="line-2484"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2485"></span><span class="hs-comment">-- 'ifoldrOf'' :: 'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2486"></span><span class="hs-comment">-- 'ifoldrOf'' :: 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2487"></span><span class="hs-comment">-- 'ifoldrOf'' :: 'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2488"></span><span class="hs-comment">-- 'ifoldrOf'' :: 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2489"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2490"></span><span id="local-6989586621679451349"><span id="local-6989586621679451350"><span id="local-6989586621679451351"><span id="local-6989586621679451352"><span class="annot"><a href="Control.Lens.Fold.html#ifoldrOf%27"><span class="hs-identifier hs-type">ifoldrOf'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451352"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dual</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451351"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451351"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451350"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451349"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451352"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451349"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451351"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451351"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451351"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451350"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451351"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-2491"></span><span id="ifoldrOf%27"><span class="annot"><span class="annottext">ifoldrOf' :: IndexedGetting i (Dual (Endo (r -&gt; r))) s a
-&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#ifoldrOf%27"><span class="hs-identifier hs-var hs-var">ifoldrOf'</span></a></span></span><span> </span><span id="local-6989586621679451348"><span class="annot"><span class="annottext">l :: IndexedGetting i (Dual (Endo (r -&gt; r))) s a
</span><a href="#local-6989586621679451348"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451347"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; r -&gt; r
</span><a href="#local-6989586621679451347"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451346"><span class="annot"><span class="annottext">z0 :: r
</span><a href="#local-6989586621679451346"><span class="hs-identifier hs-var">z0</span></a></span></span><span> </span><span id="local-6989586621679451345"><span class="annot"><span class="annottext">xs :: s
</span><a href="#local-6989586621679451345"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Dual (Endo (r -&gt; r))) s a
-&gt; (i -&gt; (r -&gt; r) -&gt; a -&gt; r -&gt; r) -&gt; (r -&gt; r) -&gt; s -&gt; r -&gt; r
forall i r s a.
IndexedGetting i (Dual (Endo r)) s a
-&gt; (i -&gt; r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#ifoldlOf"><span class="hs-identifier hs-var">ifoldlOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Dual (Endo (r -&gt; r))) s a
</span><a href="#local-6989586621679451348"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; (r -&gt; r) -&gt; a -&gt; r -&gt; r
forall b. i -&gt; (r -&gt; b) -&gt; a -&gt; r -&gt; b
</span><a href="#local-6989586621679451344"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">r -&gt; r
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451345"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451346"><span class="hs-identifier hs-var">z0</span></a></span><span>
</span><span id="line-2492"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679451344"><span class="annot"><span class="annottext">f' :: i -&gt; (r -&gt; b) -&gt; a -&gt; r -&gt; b
</span><a href="#local-6989586621679451344"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679451343"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451343"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451342"><span class="annot"><span class="annottext">k :: r -&gt; b
</span><a href="#local-6989586621679451342"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679451341"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451341"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679451340"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679451340"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">r -&gt; b
</span><a href="#local-6989586621679451342"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; b) -&gt; r -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; r -&gt; r
</span><a href="#local-6989586621679451347"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451343"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451341"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451340"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-2493"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldrOf%27"><span class="hs-pragma hs-type">ifoldrOf'</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2494"></span><span>
</span><span id="line-2495"></span><span class="hs-comment">-- | Fold over the elements of a structure with an index, associating to the left, but /strictly/.</span><span>
</span><span id="line-2496"></span><span class="hs-comment">--</span><span>
</span><span id="line-2497"></span><span class="hs-comment">-- When you don't need access to the index then 'foldlOf'' is more flexible in what it accepts.</span><span>
</span><span id="line-2498"></span><span class="hs-comment">--</span><span>
</span><span id="line-2499"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2500"></span><span class="hs-comment">-- 'foldlOf'' l &#8801; 'ifoldlOf'' l '.' 'const'</span><span>
</span><span id="line-2501"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2502"></span><span class="hs-comment">--</span><span>
</span><span id="line-2503"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2504"></span><span class="hs-comment">-- 'ifoldlOf'' :: 'IndexedGetter' i s a       -&gt; (i -&gt; r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2505"></span><span class="hs-comment">-- 'ifoldlOf'' :: 'IndexedFold' i s a         -&gt; (i -&gt; r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2506"></span><span class="hs-comment">-- 'ifoldlOf'' :: 'IndexedLens'' i s a        -&gt; (i -&gt; r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2507"></span><span class="hs-comment">-- 'ifoldlOf'' :: 'IndexedTraversal'' i s a   -&gt; (i -&gt; r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r</span><span>
</span><span id="line-2508"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2509"></span><span id="local-6989586621679451336"><span id="local-6989586621679451337"><span id="local-6989586621679451338"><span id="local-6989586621679451339"><span class="annot"><a href="Control.Lens.Fold.html#ifoldlOf%27"><span class="hs-identifier hs-type">ifoldlOf'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451339"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451338"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451338"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451337"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451336"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451339"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451338"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451336"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451338"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451338"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451337"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451338"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-2510"></span><span id="ifoldlOf%27"><span class="annot"><span class="annottext">ifoldlOf' :: IndexedGetting i (Endo (r -&gt; r)) s a
-&gt; (i -&gt; r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#ifoldlOf%27"><span class="hs-identifier hs-var hs-var">ifoldlOf'</span></a></span></span><span> </span><span id="local-6989586621679451335"><span class="annot"><span class="annottext">l :: IndexedGetting i (Endo (r -&gt; r)) s a
</span><a href="#local-6989586621679451335"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451334"><span class="annot"><span class="annottext">f :: i -&gt; r -&gt; a -&gt; r
</span><a href="#local-6989586621679451334"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451333"><span class="annot"><span class="annottext">z0 :: r
</span><a href="#local-6989586621679451333"><span class="hs-identifier hs-var">z0</span></a></span></span><span> </span><span id="local-6989586621679451332"><span class="annot"><span class="annottext">xs :: s
</span><a href="#local-6989586621679451332"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo (r -&gt; r)) s a
-&gt; (i -&gt; a -&gt; (r -&gt; r) -&gt; r -&gt; r) -&gt; (r -&gt; r) -&gt; s -&gt; r -&gt; r
forall i r s a.
IndexedGetting i (Endo r) s a -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#ifoldrOf"><span class="hs-identifier hs-var">ifoldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo (r -&gt; r)) s a
</span><a href="#local-6989586621679451335"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; (r -&gt; r) -&gt; r -&gt; r
forall b. i -&gt; a -&gt; (r -&gt; b) -&gt; r -&gt; b
</span><a href="#local-6989586621679451331"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">r -&gt; r
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451332"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451333"><span class="hs-identifier hs-var">z0</span></a></span><span>
</span><span id="line-2511"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679451331"><span class="annot"><span class="annottext">f' :: i -&gt; a -&gt; (r -&gt; b) -&gt; r -&gt; b
</span><a href="#local-6989586621679451331"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679451330"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451330"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451329"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451329"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679451328"><span class="annot"><span class="annottext">k :: r -&gt; b
</span><a href="#local-6989586621679451328"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679451327"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679451327"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">r -&gt; b
</span><a href="#local-6989586621679451328"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(r -&gt; b) -&gt; r -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; r -&gt; a -&gt; r
</span><a href="#local-6989586621679451334"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451330"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451327"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451329"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-2512"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldlOf%27"><span class="hs-pragma hs-type">ifoldlOf'</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2513"></span><span>
</span><span id="line-2514"></span><span class="hs-comment">-- | Monadic fold right over the elements of a structure with an index.</span><span>
</span><span id="line-2515"></span><span class="hs-comment">--</span><span>
</span><span id="line-2516"></span><span class="hs-comment">-- When you don't need access to the index then 'foldrMOf' is more flexible in what it accepts.</span><span>
</span><span id="line-2517"></span><span class="hs-comment">--</span><span>
</span><span id="line-2518"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2519"></span><span class="hs-comment">-- 'foldrMOf' l &#8801; 'ifoldrMOf' l '.' 'const'</span><span>
</span><span id="line-2520"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2521"></span><span class="hs-comment">--</span><span>
</span><span id="line-2522"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2523"></span><span class="hs-comment">-- 'ifoldrMOf' :: 'Monad' m =&gt; 'IndexedGetter' i s a     -&gt; (i -&gt; a -&gt; r -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-2524"></span><span class="hs-comment">-- 'ifoldrMOf' :: 'Monad' m =&gt; 'IndexedFold' i s a       -&gt; (i -&gt; a -&gt; r -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-2525"></span><span class="hs-comment">-- 'ifoldrMOf' :: 'Monad' m =&gt; 'IndexedLens'' i s a      -&gt; (i -&gt; a -&gt; r -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-2526"></span><span class="hs-comment">-- 'ifoldrMOf' :: 'Monad' m =&gt; 'IndexedTraversal'' i s a -&gt; (i -&gt; a -&gt; r -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-2527"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2528"></span><span id="local-6989586621679451322"><span id="local-6989586621679451323"><span id="local-6989586621679451324"><span id="local-6989586621679451325"><span id="local-6989586621679451326"><span class="annot"><a href="Control.Lens.Fold.html#ifoldrMOf"><span class="hs-identifier hs-type">ifoldrMOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679451326"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451325"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dual</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451324"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451326"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451324"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451323"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451322"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451325"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451322"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451324"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451326"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451324"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451324"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451323"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451326"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451324"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span></span><span>
</span><span id="line-2529"></span><span id="ifoldrMOf"><span class="annot"><span class="annottext">ifoldrMOf :: IndexedGetting i (Dual (Endo (r -&gt; m r))) s a
-&gt; (i -&gt; a -&gt; r -&gt; m r) -&gt; r -&gt; s -&gt; m r
</span><a href="Control.Lens.Fold.html#ifoldrMOf"><span class="hs-identifier hs-var hs-var">ifoldrMOf</span></a></span></span><span> </span><span id="local-6989586621679451321"><span class="annot"><span class="annottext">l :: IndexedGetting i (Dual (Endo (r -&gt; m r))) s a
</span><a href="#local-6989586621679451321"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451320"><span class="annot"><span class="annottext">f :: i -&gt; a -&gt; r -&gt; m r
</span><a href="#local-6989586621679451320"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451319"><span class="annot"><span class="annottext">z0 :: r
</span><a href="#local-6989586621679451319"><span class="hs-identifier hs-var">z0</span></a></span></span><span> </span><span id="local-6989586621679451318"><span class="annot"><span class="annottext">xs :: s
</span><a href="#local-6989586621679451318"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Dual (Endo (r -&gt; m r))) s a
-&gt; (i -&gt; (r -&gt; m r) -&gt; a -&gt; r -&gt; m r)
-&gt; (r -&gt; m r)
-&gt; s
-&gt; r
-&gt; m r
forall i r s a.
IndexedGetting i (Dual (Endo r)) s a
-&gt; (i -&gt; r -&gt; a -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#ifoldlOf"><span class="hs-identifier hs-var">ifoldlOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Dual (Endo (r -&gt; m r))) s a
</span><a href="#local-6989586621679451321"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; (r -&gt; m r) -&gt; a -&gt; r -&gt; m r
forall b. i -&gt; (r -&gt; m b) -&gt; a -&gt; r -&gt; m b
</span><a href="#local-6989586621679451317"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">r -&gt; m r
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451318"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451319"><span class="hs-identifier hs-var">z0</span></a></span><span>
</span><span id="line-2530"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679451317"><span class="annot"><span class="annottext">f' :: i -&gt; (r -&gt; m b) -&gt; a -&gt; r -&gt; m b
</span><a href="#local-6989586621679451317"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679451316"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451316"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451315"><span class="annot"><span class="annottext">k :: r -&gt; m b
</span><a href="#local-6989586621679451315"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679451314"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451314"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679451313"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679451313"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; r -&gt; m r
</span><a href="#local-6989586621679451320"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451316"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451314"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451313"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">m r -&gt; (r -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; m b
</span><a href="#local-6989586621679451315"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-2531"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldrMOf"><span class="hs-pragma hs-type">ifoldrMOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2532"></span><span>
</span><span id="line-2533"></span><span class="hs-comment">-- | Monadic fold over the elements of a structure with an index, associating to the left.</span><span>
</span><span id="line-2534"></span><span class="hs-comment">--</span><span>
</span><span id="line-2535"></span><span class="hs-comment">-- When you don't need access to the index then 'foldlMOf' is more flexible in what it accepts.</span><span>
</span><span id="line-2536"></span><span class="hs-comment">--</span><span>
</span><span id="line-2537"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2538"></span><span class="hs-comment">-- 'foldlMOf' l &#8801; 'ifoldlMOf' l '.' 'const'</span><span>
</span><span id="line-2539"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2540"></span><span class="hs-comment">--</span><span>
</span><span id="line-2541"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2542"></span><span class="hs-comment">-- 'ifoldlMOf' :: 'Monad' m =&gt; 'IndexedGetter' i s a     -&gt; (i -&gt; r -&gt; a -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-2543"></span><span class="hs-comment">-- 'ifoldlMOf' :: 'Monad' m =&gt; 'IndexedFold' i s a       -&gt; (i -&gt; r -&gt; a -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-2544"></span><span class="hs-comment">-- 'ifoldlMOf' :: 'Monad' m =&gt; 'IndexedLens'' i s a      -&gt; (i -&gt; r -&gt; a -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-2545"></span><span class="hs-comment">-- 'ifoldlMOf' :: 'Monad' m =&gt; 'IndexedTraversal'' i s a -&gt; (i -&gt; r -&gt; a -&gt; m r) -&gt; r -&gt; s -&gt; m r</span><span>
</span><span id="line-2546"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2547"></span><span id="local-6989586621679451308"><span id="local-6989586621679451309"><span id="local-6989586621679451310"><span id="local-6989586621679451311"><span id="local-6989586621679451312"><span class="annot"><a href="Control.Lens.Fold.html#ifoldlMOf"><span class="hs-identifier hs-type">ifoldlMOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679451312"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451311"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451310"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451312"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451310"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451309"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451308"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451311"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451310"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451308"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451312"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451310"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451310"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451309"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451312"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451310"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span></span><span>
</span><span id="line-2548"></span><span id="ifoldlMOf"><span class="annot"><span class="annottext">ifoldlMOf :: IndexedGetting i (Endo (r -&gt; m r)) s a
-&gt; (i -&gt; r -&gt; a -&gt; m r) -&gt; r -&gt; s -&gt; m r
</span><a href="Control.Lens.Fold.html#ifoldlMOf"><span class="hs-identifier hs-var hs-var">ifoldlMOf</span></a></span></span><span> </span><span id="local-6989586621679451307"><span class="annot"><span class="annottext">l :: IndexedGetting i (Endo (r -&gt; m r)) s a
</span><a href="#local-6989586621679451307"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451306"><span class="annot"><span class="annottext">f :: i -&gt; r -&gt; a -&gt; m r
</span><a href="#local-6989586621679451306"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451305"><span class="annot"><span class="annottext">z0 :: r
</span><a href="#local-6989586621679451305"><span class="hs-identifier hs-var">z0</span></a></span></span><span> </span><span id="local-6989586621679451304"><span class="annot"><span class="annottext">xs :: s
</span><a href="#local-6989586621679451304"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo (r -&gt; m r)) s a
-&gt; (i -&gt; a -&gt; (r -&gt; m r) -&gt; r -&gt; m r)
-&gt; (r -&gt; m r)
-&gt; s
-&gt; r
-&gt; m r
forall i r s a.
IndexedGetting i (Endo r) s a -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#ifoldrOf"><span class="hs-identifier hs-var">ifoldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo (r -&gt; m r)) s a
</span><a href="#local-6989586621679451307"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; (r -&gt; m r) -&gt; r -&gt; m r
forall b. i -&gt; a -&gt; (r -&gt; m b) -&gt; r -&gt; m b
</span><a href="#local-6989586621679451303"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">r -&gt; m r
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451304"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451305"><span class="hs-identifier hs-var">z0</span></a></span><span>
</span><span id="line-2549"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679451303"><span class="annot"><span class="annottext">f' :: i -&gt; a -&gt; (r -&gt; m b) -&gt; r -&gt; m b
</span><a href="#local-6989586621679451303"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621679451302"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451302"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451301"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451301"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679451300"><span class="annot"><span class="annottext">k :: r -&gt; m b
</span><a href="#local-6989586621679451300"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679451299"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679451299"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; r -&gt; a -&gt; m r
</span><a href="#local-6989586621679451306"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451302"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451299"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451301"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m r -&gt; (r -&gt; m b) -&gt; m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; m b
</span><a href="#local-6989586621679451300"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-2550"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifoldlMOf"><span class="hs-pragma hs-type">ifoldlMOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2551"></span><span>
</span><span id="line-2552"></span><span class="hs-comment">-- | Extract the key-value pairs from a structure.</span><span>
</span><span id="line-2553"></span><span class="hs-comment">--</span><span>
</span><span id="line-2554"></span><span class="hs-comment">-- When you don't need access to the indices in the result, then 'toListOf' is more flexible in what it accepts.</span><span>
</span><span id="line-2555"></span><span class="hs-comment">--</span><span>
</span><span id="line-2556"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2557"></span><span class="hs-comment">-- 'toListOf' l &#8801; 'map' 'snd' '.' 'itoListOf' l</span><span>
</span><span id="line-2558"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2559"></span><span class="hs-comment">--</span><span>
</span><span id="line-2560"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2561"></span><span class="hs-comment">-- 'itoListOf' :: 'IndexedGetter' i s a     -&gt; s -&gt; [(i,a)]</span><span>
</span><span id="line-2562"></span><span class="hs-comment">-- 'itoListOf' :: 'IndexedFold' i s a       -&gt; s -&gt; [(i,a)]</span><span>
</span><span id="line-2563"></span><span class="hs-comment">-- 'itoListOf' :: 'IndexedLens'' i s a      -&gt; s -&gt; [(i,a)]</span><span>
</span><span id="line-2564"></span><span class="hs-comment">-- 'itoListOf' :: 'IndexedTraversal'' i s a -&gt; s -&gt; [(i,a)]</span><span>
</span><span id="line-2565"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2566"></span><span id="local-6989586621679451296"><span id="local-6989586621679451297"><span id="local-6989586621679451298"><span class="annot"><a href="Control.Lens.Fold.html#itoListOf"><span class="hs-identifier hs-type">itoListOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451298"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451298"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679451297"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451296"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451297"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451296"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451298"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679451297"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-2567"></span><span id="itoListOf"><span class="annot"><span class="annottext">itoListOf :: IndexedGetting i (Endo [(i, a)]) s a -&gt; s -&gt; [(i, a)]
</span><a href="Control.Lens.Fold.html#itoListOf"><span class="hs-identifier hs-var hs-var">itoListOf</span></a></span></span><span> </span><span id="local-6989586621679451295"><span class="annot"><span class="annottext">l :: IndexedGetting i (Endo [(i, a)]) s a
</span><a href="#local-6989586621679451295"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo [(i, a)]) s a
-&gt; (i -&gt; a -&gt; [(i, a)] -&gt; [(i, a)]) -&gt; [(i, a)] -&gt; s -&gt; [(i, a)]
forall i r s a.
IndexedGetting i (Endo r) s a -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#ifoldrOf"><span class="hs-identifier hs-var">ifoldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo [(i, a)]) s a
</span><a href="#local-6989586621679451295"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451294"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451294"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451293"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451293"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451294"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451293"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(i, a) -&gt; [(i, a)] -&gt; [(i, a)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2568"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#itoListOf"><span class="hs-pragma hs-type">itoListOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2569"></span><span>
</span><span id="line-2570"></span><span class="hs-comment">-- | An infix version of 'itoListOf'.</span><span>
</span><span id="line-2571"></span><span>
</span><span id="line-2572"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2573"></span><span class="hs-comment">-- ('^@..') :: s -&gt; 'IndexedGetter' i s a     -&gt; [(i,a)]</span><span>
</span><span id="line-2574"></span><span class="hs-comment">-- ('^@..') :: s -&gt; 'IndexedFold' i s a       -&gt; [(i,a)]</span><span>
</span><span id="line-2575"></span><span class="hs-comment">-- ('^@..') :: s -&gt; 'IndexedLens'' i s a      -&gt; [(i,a)]</span><span>
</span><span id="line-2576"></span><span class="hs-comment">-- ('^@..') :: s -&gt; 'IndexedTraversal'' i s a -&gt; [(i,a)]</span><span>
</span><span id="line-2577"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2578"></span><span id="local-6989586621679451290"><span id="local-6989586621679451291"><span id="local-6989586621679451292"><span class="annot"><a href="Control.Lens.Fold.html#%5E%40.."><span class="hs-operator hs-type">(^@..)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679451292"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451291"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451291"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679451290"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451292"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451290"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451291"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679451290"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-2579"></span><span id="local-6989586621679451289"><span class="annot"><span class="annottext">s :: s
</span><a href="#local-6989586621679451289"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="%5E%40.."><span class="annot"><span class="annottext">^@.. :: s -&gt; IndexedGetting i (Endo [(i, a)]) s a -&gt; [(i, a)]
</span><a href="Control.Lens.Fold.html#%5E%40.."><span class="hs-operator hs-var hs-var">^@..</span></a></span></span><span> </span><span id="local-6989586621679451288"><span class="annot"><span class="annottext">l :: IndexedGetting i (Endo [(i, a)]) s a
</span><a href="#local-6989586621679451288"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo [(i, a)]) s a
-&gt; (i -&gt; a -&gt; [(i, a)] -&gt; [(i, a)]) -&gt; [(i, a)] -&gt; s -&gt; [(i, a)]
forall i r s a.
IndexedGetting i (Endo r) s a -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#ifoldrOf"><span class="hs-identifier hs-var">ifoldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo [(i, a)]) s a
</span><a href="#local-6989586621679451288"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451287"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451287"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451286"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451286"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451287"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451286"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(i, a) -&gt; [(i, a)] -&gt; [(i, a)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451289"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2580"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">^@..</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2581"></span><span>
</span><span id="line-2582"></span><span class="hs-comment">-- | Perform a safe 'head' (with index) of an 'IndexedFold' or 'IndexedTraversal' or retrieve 'Just' the index and result</span><span>
</span><span id="line-2583"></span><span class="hs-comment">-- from an 'IndexedGetter' or 'IndexedLens'.</span><span>
</span><span id="line-2584"></span><span class="hs-comment">--</span><span>
</span><span id="line-2585"></span><span class="hs-comment">-- When using a 'IndexedTraversal' as a partial 'IndexedLens', or an 'IndexedFold' as a partial 'IndexedGetter' this can be a convenient</span><span>
</span><span id="line-2586"></span><span class="hs-comment">-- way to extract the optional value.</span><span>
</span><span id="line-2587"></span><span class="hs-comment">--</span><span>
</span><span id="line-2588"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2589"></span><span class="hs-comment">-- ('^@?') :: s -&gt; 'IndexedGetter' i s a     -&gt; 'Maybe' (i, a)</span><span>
</span><span id="line-2590"></span><span class="hs-comment">-- ('^@?') :: s -&gt; 'IndexedFold' i s a       -&gt; 'Maybe' (i, a)</span><span>
</span><span id="line-2591"></span><span class="hs-comment">-- ('^@?') :: s -&gt; 'IndexedLens'' i s a      -&gt; 'Maybe' (i, a)</span><span>
</span><span id="line-2592"></span><span class="hs-comment">-- ('^@?') :: s -&gt; 'IndexedTraversal'' i s a -&gt; 'Maybe' (i, a)</span><span>
</span><span id="line-2593"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2594"></span><span id="local-6989586621679451283"><span id="local-6989586621679451284"><span id="local-6989586621679451285"><span class="annot"><a href="Control.Lens.Fold.html#%5E%40%3F"><span class="hs-operator hs-type">(^@?)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679451285"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451284"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451284"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679451283"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451285"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451283"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451284"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679451283"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-2595"></span><span id="local-6989586621679451282"><span class="annot"><span class="annottext">s :: s
</span><a href="#local-6989586621679451282"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="%5E%40%3F"><span class="annot"><span class="annottext">^@? :: s -&gt; IndexedGetting i (Endo (Maybe (i, a))) s a -&gt; Maybe (i, a)
</span><a href="Control.Lens.Fold.html#%5E%40%3F"><span class="hs-operator hs-var hs-var">^@?</span></a></span></span><span> </span><span id="local-6989586621679451281"><span class="annot"><span class="annottext">l :: IndexedGetting i (Endo (Maybe (i, a))) s a
</span><a href="#local-6989586621679451281"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo (Maybe (i, a))) s a
-&gt; (i -&gt; a -&gt; Maybe (i, a) -&gt; Maybe (i, a))
-&gt; Maybe (i, a)
-&gt; s
-&gt; Maybe (i, a)
forall i r s a.
IndexedGetting i (Endo r) s a -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#ifoldrOf"><span class="hs-identifier hs-var">ifoldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo (Maybe (i, a))) s a
</span><a href="#local-6989586621679451281"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451280"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451280"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451279"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451279"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(i, a) -&gt; Maybe (i, a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451280"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451279"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (i, a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451282"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2596"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">^@?</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2597"></span><span>
</span><span id="line-2598"></span><span class="hs-comment">-- | Perform an *UNSAFE* 'head' (with index) of an 'IndexedFold' or 'IndexedTraversal' assuming that it is there.</span><span>
</span><span id="line-2599"></span><span class="hs-comment">--</span><span>
</span><span id="line-2600"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2601"></span><span class="hs-comment">-- ('^@?!') :: s -&gt; 'IndexedGetter' i s a     -&gt; (i, a)</span><span>
</span><span id="line-2602"></span><span class="hs-comment">-- ('^@?!') :: s -&gt; 'IndexedFold' i s a       -&gt; (i, a)</span><span>
</span><span id="line-2603"></span><span class="hs-comment">-- ('^@?!') :: s -&gt; 'IndexedLens'' i s a      -&gt; (i, a)</span><span>
</span><span id="line-2604"></span><span class="hs-comment">-- ('^@?!') :: s -&gt; 'IndexedTraversal'' i s a -&gt; (i, a)</span><span>
</span><span id="line-2605"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2606"></span><span id="local-6989586621679451276"><span id="local-6989586621679451277"><span id="local-6989586621679451278"><span class="annot"><a href="Control.Lens.Fold.html#%5E%40%3F%21"><span class="hs-operator hs-type">(^@?!)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HasCallStack</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451278"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451277"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451277"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679451276"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451278"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451276"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451277"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679451276"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-2607"></span><span id="local-6989586621679451275"><span class="annot"><span class="annottext">s :: s
</span><a href="#local-6989586621679451275"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="%5E%40%3F%21"><span class="annot"><span class="annottext">^@?! :: s -&gt; IndexedGetting i (Endo (i, a)) s a -&gt; (i, a)
</span><a href="Control.Lens.Fold.html#%5E%40%3F%21"><span class="hs-operator hs-var hs-var">^@?!</span></a></span></span><span> </span><span id="local-6989586621679451274"><span class="annot"><span class="annottext">l :: IndexedGetting i (Endo (i, a)) s a
</span><a href="#local-6989586621679451274"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo (i, a)) s a
-&gt; (i -&gt; a -&gt; (i, a) -&gt; (i, a)) -&gt; (i, a) -&gt; s -&gt; (i, a)
forall i r s a.
IndexedGetting i (Endo r) s a -&gt; (i -&gt; a -&gt; r -&gt; r) -&gt; r -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#ifoldrOf"><span class="hs-identifier hs-var">ifoldrOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo (i, a)) s a
</span><a href="#local-6989586621679451274"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679451273"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451273"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451272"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621679451272"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451273"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451272"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; (i, a)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(^@?!): empty Fold&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">s
</span><a href="#local-6989586621679451275"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-2608"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="hs-pragma">(</span><span class="hs-pragma">^@?!</span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2609"></span><span>
</span><span id="line-2610"></span><span class="hs-comment">-- | Retrieve the index of the first value targeted by a 'IndexedFold' or 'IndexedTraversal' which is equal to a given value.</span><span>
</span><span id="line-2611"></span><span class="hs-comment">--</span><span>
</span><span id="line-2612"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2613"></span><span class="hs-comment">-- 'Data.List.elemIndex' &#8801; 'elemIndexOf' 'folded'</span><span>
</span><span id="line-2614"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2615"></span><span class="hs-comment">--</span><span>
</span><span id="line-2616"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2617"></span><span class="hs-comment">-- 'elemIndexOf' :: 'Eq' a =&gt; 'IndexedFold' i s a       -&gt; a -&gt; s -&gt; 'Maybe' i</span><span>
</span><span id="line-2618"></span><span class="hs-comment">-- 'elemIndexOf' :: 'Eq' a =&gt; 'IndexedTraversal'' i s a -&gt; a -&gt; s -&gt; 'Maybe' i</span><span>
</span><span id="line-2619"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2620"></span><span id="local-6989586621679451269"><span id="local-6989586621679451270"><span id="local-6989586621679451271"><span class="annot"><a href="Control.Lens.Fold.html#elemIndexOf"><span class="hs-identifier hs-type">elemIndexOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679451271"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451270"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="annot"><a href="#local-6989586621679451270"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451269"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451271"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451271"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451269"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679451270"><span class="hs-identifier hs-type">i</span></a></span></span></span></span><span>
</span><span id="line-2621"></span><span id="elemIndexOf"><span class="annot"><span class="annottext">elemIndexOf :: IndexedGetting i (First i) s a -&gt; a -&gt; s -&gt; Maybe i
</span><a href="Control.Lens.Fold.html#elemIndexOf"><span class="hs-identifier hs-var hs-var">elemIndexOf</span></a></span></span><span> </span><span id="local-6989586621679451268"><span class="annot"><span class="annottext">l :: IndexedGetting i (First i) s a
</span><a href="#local-6989586621679451268"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451267"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451267"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (First i) s a -&gt; (a -&gt; Bool) -&gt; s -&gt; Maybe i
forall i s a.
IndexedGetting i (First i) s a -&gt; (a -&gt; Bool) -&gt; s -&gt; Maybe i
</span><a href="Control.Lens.Fold.html#findIndexOf"><span class="hs-identifier hs-var">findIndexOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (First i) s a
</span><a href="#local-6989586621679451268"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451267"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="hs-special">)</span><span>
</span><span id="line-2622"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#elemIndexOf"><span class="hs-pragma hs-type">elemIndexOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2623"></span><span>
</span><span id="line-2624"></span><span class="hs-comment">-- | Retrieve the indices of the values targeted by a 'IndexedFold' or 'IndexedTraversal' which are equal to a given value.</span><span>
</span><span id="line-2625"></span><span class="hs-comment">--</span><span>
</span><span id="line-2626"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2627"></span><span class="hs-comment">-- 'Data.List.elemIndices' &#8801; 'elemIndicesOf' 'folded'</span><span>
</span><span id="line-2628"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2629"></span><span class="hs-comment">--</span><span>
</span><span id="line-2630"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2631"></span><span class="hs-comment">-- 'elemIndicesOf' :: 'Eq' a =&gt; 'IndexedFold' i s a       -&gt; a -&gt; s -&gt; [i]</span><span>
</span><span id="line-2632"></span><span class="hs-comment">-- 'elemIndicesOf' :: 'Eq' a =&gt; 'IndexedTraversal'' i s a -&gt; a -&gt; s -&gt; [i]</span><span>
</span><span id="line-2633"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2634"></span><span id="local-6989586621679451264"><span id="local-6989586621679451265"><span id="local-6989586621679451266"><span class="annot"><a href="Control.Lens.Fold.html#elemIndicesOf"><span class="hs-identifier hs-type">elemIndicesOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679451266"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451265"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679451265"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451264"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451266"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451266"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451264"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679451265"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-2635"></span><span id="elemIndicesOf"><span class="annot"><span class="annottext">elemIndicesOf :: IndexedGetting i (Endo [i]) s a -&gt; a -&gt; s -&gt; [i]
</span><a href="Control.Lens.Fold.html#elemIndicesOf"><span class="hs-identifier hs-var hs-var">elemIndicesOf</span></a></span></span><span> </span><span id="local-6989586621679451263"><span class="annot"><span class="annottext">l :: IndexedGetting i (Endo [i]) s a
</span><a href="#local-6989586621679451263"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451262"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451262"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo [i]) s a -&gt; (a -&gt; Bool) -&gt; s -&gt; [i]
forall i s a.
IndexedGetting i (Endo [i]) s a -&gt; (a -&gt; Bool) -&gt; s -&gt; [i]
</span><a href="Control.Lens.Fold.html#findIndicesOf"><span class="hs-identifier hs-var">findIndicesOf</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo [i]) s a
</span><a href="#local-6989586621679451263"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451262"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="hs-special">)</span><span>
</span><span id="line-2636"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#elemIndicesOf"><span class="hs-pragma hs-type">elemIndicesOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2637"></span><span>
</span><span id="line-2638"></span><span class="hs-comment">-- | Retrieve the index of the first value targeted by a 'IndexedFold' or 'IndexedTraversal' which satisfies a predicate.</span><span>
</span><span id="line-2639"></span><span class="hs-comment">--</span><span>
</span><span id="line-2640"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2641"></span><span class="hs-comment">-- 'Data.List.findIndex' &#8801; 'findIndexOf' 'folded'</span><span>
</span><span id="line-2642"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2643"></span><span class="hs-comment">--</span><span>
</span><span id="line-2644"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2645"></span><span class="hs-comment">-- 'findIndexOf' :: 'IndexedFold' i s a       -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Maybe' i</span><span>
</span><span id="line-2646"></span><span class="hs-comment">-- 'findIndexOf' :: 'IndexedTraversal'' i s a -&gt; (a -&gt; 'Bool') -&gt; s -&gt; 'Maybe' i</span><span>
</span><span id="line-2647"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2648"></span><span id="local-6989586621679452095"><span id="local-6989586621679452096"><span id="local-6989586621679452097"><span class="annot"><a href="Control.Lens.Fold.html#findIndexOf"><span class="hs-identifier hs-type">findIndexOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452097"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">First</span></span><span> </span><span class="annot"><a href="#local-6989586621679452097"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452096"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452095"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452095"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452096"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679452097"><span class="hs-identifier hs-type">i</span></a></span></span></span></span><span>
</span><span id="line-2649"></span><span id="findIndexOf"><span class="annot"><span class="annottext">findIndexOf :: IndexedGetting i (First i) s a -&gt; (a -&gt; Bool) -&gt; s -&gt; Maybe i
</span><a href="Control.Lens.Fold.html#findIndexOf"><span class="hs-identifier hs-var hs-var">findIndexOf</span></a></span></span><span> </span><span id="local-6989586621679451261"><span class="annot"><span class="annottext">l :: IndexedGetting i (First i) s a
</span><a href="#local-6989586621679451261"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451260"><span class="annot"><span class="annottext">p :: a -&gt; Bool
</span><a href="#local-6989586621679451260"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (First i) s i -&gt; s -&gt; Maybe i
forall s (m :: * -&gt; *) a.
MonadReader s m =&gt;
Getting (First a) s a -&gt; m (Maybe a)
</span><a href="Control.Lens.Fold.html#preview"><span class="hs-identifier hs-var">preview</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IndexedGetting i (First i) s a
</span><a href="#local-6989586621679451261"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (First i) s a
-&gt; ((i -&gt; Const (First i) i) -&gt; Indexed i a (Const (First i) a))
-&gt; Getting (First i) s i
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Bool) -&gt; Optic' (Indexed i) (Const (First i)) a a
forall (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) a.
(Choice p, Applicative f) =&gt;
(a -&gt; Bool) -&gt; Optic' p f a a
</span><a href="Control.Lens.Fold.html#filtered"><span class="hs-identifier hs-var">filtered</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679451260"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' (Indexed i) (Const (First i)) a a
-&gt; ((i -&gt; Const (First i) i) -&gt; Indexed i a (Const (First i) a))
-&gt; (i -&gt; Const (First i) i)
-&gt; Indexed i a (Const (First i) a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; Const (First i) i) -&gt; Indexed i a (Const (First i) a)
forall i (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) s.
(Indexable i p, Contravariant f, Functor f) =&gt;
p i (f i) -&gt; Indexed i s (f s)
</span><a href="Control.Lens.Internal.Indexed.html#asIndex"><span class="hs-identifier hs-var">asIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2650"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#findIndexOf"><span class="hs-pragma hs-type">findIndexOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2651"></span><span>
</span><span id="line-2652"></span><span class="hs-comment">-- | Retrieve the indices of the values targeted by a 'IndexedFold' or 'IndexedTraversal' which satisfy a predicate.</span><span>
</span><span id="line-2653"></span><span class="hs-comment">--</span><span>
</span><span id="line-2654"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2655"></span><span class="hs-comment">-- 'Data.List.findIndices' &#8801; 'findIndicesOf' 'folded'</span><span>
</span><span id="line-2656"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2657"></span><span class="hs-comment">--</span><span>
</span><span id="line-2658"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2659"></span><span class="hs-comment">-- 'findIndicesOf' :: 'IndexedFold' i s a       -&gt; (a -&gt; 'Bool') -&gt; s -&gt; [i]</span><span>
</span><span id="line-2660"></span><span class="hs-comment">-- 'findIndicesOf' :: 'IndexedTraversal'' i s a -&gt; (a -&gt; 'Bool') -&gt; s -&gt; [i]</span><span>
</span><span id="line-2661"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2662"></span><span id="local-6989586621679452089"><span id="local-6989586621679452090"><span id="local-6989586621679452091"><span class="annot"><a href="Control.Lens.Fold.html#findIndicesOf"><span class="hs-identifier hs-type">findIndicesOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Getter.html#IndexedGetting"><span class="hs-identifier hs-type">IndexedGetting</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452091"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679452091"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679452090"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679452089"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679452089"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679452090"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679452091"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span></span></span></span><span>
</span><span id="line-2663"></span><span id="findIndicesOf"><span class="annot"><span class="annottext">findIndicesOf :: IndexedGetting i (Endo [i]) s a -&gt; (a -&gt; Bool) -&gt; s -&gt; [i]
</span><a href="Control.Lens.Fold.html#findIndicesOf"><span class="hs-identifier hs-var hs-var">findIndicesOf</span></a></span></span><span> </span><span id="local-6989586621679451258"><span class="annot"><span class="annottext">l :: IndexedGetting i (Endo [i]) s a
</span><a href="#local-6989586621679451258"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451257"><span class="annot"><span class="annottext">p :: a -&gt; Bool
</span><a href="#local-6989586621679451257"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Getting (Endo [i]) s i -&gt; s -&gt; [i]
forall a s. Getting (Endo [a]) s a -&gt; s -&gt; [a]
</span><a href="Control.Lens.Fold.html#toListOf"><span class="hs-identifier hs-var">toListOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IndexedGetting i (Endo [i]) s a
</span><a href="#local-6989586621679451258"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">IndexedGetting i (Endo [i]) s a
-&gt; ((i -&gt; Const (Endo [i]) i) -&gt; Indexed i a (Const (Endo [i]) a))
-&gt; Getting (Endo [i]) s i
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Bool) -&gt; Optic' (Indexed i) (Const (Endo [i])) a a
forall (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) a.
(Choice p, Applicative f) =&gt;
(a -&gt; Bool) -&gt; Optic' p f a a
</span><a href="Control.Lens.Fold.html#filtered"><span class="hs-identifier hs-var">filtered</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621679451257"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Optic' (Indexed i) (Const (Endo [i])) a a
-&gt; ((i -&gt; Const (Endo [i]) i) -&gt; Indexed i a (Const (Endo [i]) a))
-&gt; (i -&gt; Const (Endo [i]) i)
-&gt; Indexed i a (Const (Endo [i]) a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(i -&gt; Const (Endo [i]) i) -&gt; Indexed i a (Const (Endo [i]) a)
forall i (p :: * -&gt; * -&gt; *) (f :: * -&gt; *) s.
(Indexable i p, Contravariant f, Functor f) =&gt;
p i (f i) -&gt; Indexed i s (f s)
</span><a href="Control.Lens.Internal.Indexed.html#asIndex"><span class="hs-identifier hs-var">asIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2664"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#findIndicesOf"><span class="hs-pragma hs-type">findIndicesOf</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2665"></span><span>
</span><span id="line-2666"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-2667"></span><span class="hs-comment">-- Converting to Folds</span><span>
</span><span id="line-2668"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-2669"></span><span>
</span><span id="line-2670"></span><span class="hs-comment">-- | Filter an 'IndexedFold' or 'IndexedGetter', obtaining an 'IndexedFold'.</span><span>
</span><span id="line-2671"></span><span class="hs-comment">--</span><span>
</span><span id="line-2672"></span><span class="hs-comment">-- &gt;&gt;&gt; [0,0,0,5,5,5]^..traversed.ifiltered (\i a -&gt; i &lt;= a)</span><span>
</span><span id="line-2673"></span><span class="hs-comment">-- [0,5,5,5]</span><span>
</span><span id="line-2674"></span><span class="hs-comment">--</span><span>
</span><span id="line-2675"></span><span class="hs-comment">-- Compose with 'ifiltered' to filter another 'IndexedLens', 'IndexedIso', 'IndexedGetter', 'IndexedFold' (or 'IndexedTraversal') with</span><span>
</span><span id="line-2676"></span><span class="hs-comment">-- access to both the value and the index.</span><span>
</span><span id="line-2677"></span><span class="hs-comment">--</span><span>
</span><span id="line-2678"></span><span class="hs-comment">-- Note: As with 'filtered', this is /not/ a legal 'IndexedTraversal', unless you are very careful not to invalidate the predicate on the target!</span><span>
</span><span id="line-2679"></span><span id="local-6989586621679451253"><span id="local-6989586621679451254"><span id="local-6989586621679451255"><span id="local-6989586621679451256"><span class="annot"><a href="Control.Lens.Fold.html#ifiltered"><span class="hs-identifier hs-type">ifiltered</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451256"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451255"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679451254"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451256"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451253"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical%27"><span class="hs-identifier hs-type">Optical'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451255"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-type">Indexed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451256"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451254"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451253"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451253"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span><span>
</span><span id="line-2680"></span><span id="ifiltered"><span class="annot"><span class="annottext">ifiltered :: (i -&gt; a -&gt; Bool) -&gt; Optical' p (Indexed i) f a a
</span><a href="Control.Lens.Fold.html#ifiltered"><span class="hs-identifier hs-var hs-var">ifiltered</span></a></span></span><span> </span><span id="local-6989586621679451252"><span class="annot"><span class="annottext">p :: i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679451252"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679451251"><span class="annot"><span class="annottext">f :: p a (f a)
</span><a href="#local-6989586621679451251"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; f a) -&gt; Indexed i a (f a)
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">((i -&gt; a -&gt; f a) -&gt; Indexed i a (f a))
-&gt; (i -&gt; a -&gt; f a) -&gt; Indexed i a (f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679451250"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451250"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451249"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451249"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679451252"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451250"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451249"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">p a (f a) -&gt; i -&gt; a -&gt; f a
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p a (f a)
</span><a href="#local-6989586621679451251"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451250"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451249"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451249"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-2681"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#ifiltered"><span class="hs-pragma hs-type">ifiltered</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2682"></span><span>
</span><span id="line-2683"></span><span class="hs-comment">-- | Obtain an 'IndexedFold' by taking elements from another</span><span>
</span><span id="line-2684"></span><span class="hs-comment">-- 'IndexedFold', 'IndexedLens', 'IndexedGetter' or 'IndexedTraversal' while a predicate holds.</span><span>
</span><span id="line-2685"></span><span class="hs-comment">--</span><span>
</span><span id="line-2686"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2687"></span><span class="hs-comment">-- 'itakingWhile' :: (i -&gt; a -&gt; 'Bool') -&gt; 'IndexedFold' i s a          -&gt; 'IndexedFold' i s a</span><span>
</span><span id="line-2688"></span><span class="hs-comment">-- 'itakingWhile' :: (i -&gt; a -&gt; 'Bool') -&gt; 'IndexedTraversal'' i s a    -&gt; 'IndexedFold' i s a</span><span>
</span><span id="line-2689"></span><span class="hs-comment">-- 'itakingWhile' :: (i -&gt; a -&gt; 'Bool') -&gt; 'IndexedLens'' i s a         -&gt; 'IndexedFold' i s a</span><span>
</span><span id="line-2690"></span><span class="hs-comment">-- 'itakingWhile' :: (i -&gt; a -&gt; 'Bool') -&gt; 'IndexedGetter' i s a        -&gt; 'IndexedFold' i s a</span><span>
</span><span id="line-2691"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2692"></span><span class="hs-comment">--</span><span>
</span><span id="line-2693"></span><span class="hs-comment">-- Note: Applying 'itakingWhile' to an 'IndexedLens' or 'IndexedTraversal' will still allow you to use it as a</span><span>
</span><span id="line-2694"></span><span class="hs-comment">-- pseudo-'IndexedTraversal', but if you change the value of any target to one where the predicate returns</span><span>
</span><span id="line-2695"></span><span class="hs-comment">-- 'False', then you will break the 'Traversal' laws and 'Traversal' fusion will no longer be sound.</span><span>
</span><span id="line-2696"></span><span id="local-6989586621679451243"><span id="local-6989586621679451244"><span id="local-6989586621679451245"><span id="local-6989586621679451246"><span id="local-6989586621679451247"><span id="local-6989586621679451248"><span class="annot"><a href="Control.Lens.Fold.html#itakingWhile"><span class="hs-identifier hs-type">itakingWhile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451248"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451247"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679451246"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Contravariant</span></span><span> </span><span class="annot"><a href="#local-6989586621679451245"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679451245"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2697"></span><span>         </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451248"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451244"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-2698"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical%27"><span class="hs-identifier hs-type">Optical'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-type">Indexed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451248"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451246"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451245"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451243"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451243"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451244"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-2699"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical%27"><span class="hs-identifier hs-type">Optical'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451247"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451246"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451245"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451243"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451244"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span></span><span>
</span><span id="line-2700"></span><span id="itakingWhile"><span class="annot"><span class="annottext">itakingWhile :: (i -&gt; a -&gt; Bool)
-&gt; Optical' (Indexed i) q (Const (Endo (f s))) s a
-&gt; Optical' p q f s a
</span><a href="Control.Lens.Fold.html#itakingWhile"><span class="hs-identifier hs-var hs-var">itakingWhile</span></a></span></span><span> </span><span id="local-6989586621679451242"><span class="annot"><span class="annottext">p :: i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679451242"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679451241"><span class="annot"><span class="annottext">l :: Optical' (Indexed i) q (Const (Endo (f s))) s a
</span><a href="#local-6989586621679451241"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451240"><span class="annot"><span class="annottext">f :: p a (f a)
</span><a href="#local-6989586621679451240"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Endo (f s) -&gt; f s -&gt; f s) -&gt; f s -&gt; Endo (f s) -&gt; f s
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Endo (f s) -&gt; f s -&gt; f s
forall a. Endo a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var hs-var">appEndo</span></span><span> </span><span class="annot"><span class="annottext">f s
forall (f :: * -&gt; *) a. (Contravariant f, Applicative f) =&gt; f a
</span><a href="Control.Lens.Internal.Getter.html#noEffect"><span class="hs-identifier hs-var">noEffect</span></a></span><span> </span><span class="annot"><span class="annottext">(Endo (f s) -&gt; f s)
-&gt; (Const (Endo (f s)) s -&gt; Endo (f s))
-&gt; Const (Endo (f s)) s
-&gt; f s
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible b a) =&gt;
p b c -&gt; q a b -&gt; p a c
</span><span class="hs-operator hs-var">.#</span></span><span> </span><span class="annot"><span class="annottext">Const (Endo (f s)) s -&gt; Endo (f s)
forall a k (b :: k). Const a b -&gt; a
</span><span class="hs-identifier hs-var hs-var">getConst</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Const (Endo (f s)) s -&gt; f s)
-&gt; q s (Const (Endo (f s)) s) -&gt; q s (f s)
forall (p :: * -&gt; * -&gt; *) b c a.
Profunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">`rmap`</span></span><span> </span><span class="annot"><span class="annottext">Optical' (Indexed i) q (Const (Endo (f s))) s a
</span><a href="#local-6989586621679451241"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Indexed i a (Const (Endo (f s)) a)
forall b b. Indexed i a (Const (Endo (f b)) b)
</span><a href="#local-6989586621679451239"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2701"></span><span>  </span><span id="local-6989586621679451239"><span class="annot"><span class="annottext">g :: Indexed i a (Const (Endo (f b)) b)
</span><a href="#local-6989586621679451239"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Const (Endo (f b)) b)
-&gt; Indexed i a (Const (Endo (f b)) b)
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">((i -&gt; a -&gt; Const (Endo (f b)) b)
 -&gt; Indexed i a (Const (Endo (f b)) b))
-&gt; (i -&gt; a -&gt; Const (Endo (f b)) b)
-&gt; Indexed i a (Const (Endo (f b)) b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679451238"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451238"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451237"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451237"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Endo (f b) -&gt; Const (Endo (f b)) b
forall k a (b :: k). a -&gt; Const a b
</span><span class="hs-identifier hs-var">Const</span></span><span> </span><span class="annot"><span class="annottext">(Endo (f b) -&gt; Const (Endo (f b)) b)
-&gt; ((f b -&gt; f b) -&gt; Endo (f b))
-&gt; (f b -&gt; f b)
-&gt; Const (Endo (f b)) b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(f b -&gt; f b) -&gt; Endo (f b)
forall a. (a -&gt; a) -&gt; Endo a
</span><span class="hs-identifier hs-var">Endo</span></span><span> </span><span class="annot"><span class="annottext">((f b -&gt; f b) -&gt; Const (Endo (f b)) b)
-&gt; (f b -&gt; f b) -&gt; Const (Endo (f b)) b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679451242"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451238"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451237"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">p a (f a) -&gt; i -&gt; a -&gt; f a
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p a (f a)
</span><a href="#local-6989586621679451240"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451238"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451237"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f a -&gt; f b -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">f b -&gt; f b -&gt; f b
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">f b
forall (f :: * -&gt; *) a. (Contravariant f, Applicative f) =&gt; f a
</span><a href="Control.Lens.Internal.Getter.html#noEffect"><span class="hs-identifier hs-var">noEffect</span></a></span><span>
</span><span id="line-2702"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#itakingWhile"><span class="hs-pragma hs-type">itakingWhile</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2703"></span><span>
</span><span id="line-2704"></span><span class="hs-comment">-- | Obtain an 'IndexedFold' by dropping elements from another 'IndexedFold', 'IndexedLens', 'IndexedGetter' or 'IndexedTraversal' while a predicate holds.</span><span>
</span><span id="line-2705"></span><span class="hs-comment">--</span><span>
</span><span id="line-2706"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2707"></span><span class="hs-comment">-- 'idroppingWhile' :: (i -&gt; a -&gt; 'Bool') -&gt; 'IndexedFold' i s a          -&gt; 'IndexedFold' i s a</span><span>
</span><span id="line-2708"></span><span class="hs-comment">-- 'idroppingWhile' :: (i -&gt; a -&gt; 'Bool') -&gt; 'IndexedTraversal'' i s a    -&gt; 'IndexedFold' i s a -- see notes</span><span>
</span><span id="line-2709"></span><span class="hs-comment">-- 'idroppingWhile' :: (i -&gt; a -&gt; 'Bool') -&gt; 'IndexedLens'' i s a         -&gt; 'IndexedFold' i s a -- see notes</span><span>
</span><span id="line-2710"></span><span class="hs-comment">-- 'idroppingWhile' :: (i -&gt; a -&gt; 'Bool') -&gt; 'IndexedGetter' i s a        -&gt; 'IndexedFold' i s a</span><span>
</span><span id="line-2711"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2712"></span><span class="hs-comment">--</span><span>
</span><span id="line-2713"></span><span class="hs-comment">-- Note: As with `droppingWhile` applying 'idroppingWhile' to an 'IndexedLens' or 'IndexedTraversal' will still</span><span>
</span><span id="line-2714"></span><span class="hs-comment">-- allow you to use it as a pseudo-'IndexedTraversal', but if you change the value of the first target to one</span><span>
</span><span id="line-2715"></span><span class="hs-comment">-- where the predicate returns 'True', then you will break the 'Traversal' laws and 'Traversal' fusion will</span><span>
</span><span id="line-2716"></span><span class="hs-comment">-- no longer be sound.</span><span>
</span><span id="line-2717"></span><span id="local-6989586621679451230"><span id="local-6989586621679451231"><span id="local-6989586621679451232"><span id="local-6989586621679451233"><span id="local-6989586621679451234"><span id="local-6989586621679451235"><span id="local-6989586621679451236"><span class="annot"><a href="Control.Lens.Fold.html#idroppingWhile"><span class="hs-identifier hs-type">idroppingWhile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexable"><span class="hs-identifier hs-type">Indexable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451236"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451235"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Profunctor</span></span><span> </span><span class="annot"><a href="#local-6989586621679451234"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679451233"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2718"></span><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451236"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451232"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-2719"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical"><span class="hs-identifier hs-type">Optical</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-type">Indexed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451236"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451234"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Compose</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">State</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451233"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679451231"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451230"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451232"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451232"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-2720"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Optical"><span class="hs-identifier hs-type">Optical</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451235"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451234"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451233"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451231"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451230"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451232"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451232"><span class="hs-identifier hs-type">a</span></a></span></span></span></span></span></span></span></span><span>
</span><span id="line-2721"></span><span id="idroppingWhile"><span class="annot"><span class="annottext">idroppingWhile :: (i -&gt; a -&gt; Bool)
-&gt; Optical (Indexed i) q (Compose (State Bool) f) s t a a
-&gt; Optical p q f s t a a
</span><a href="Control.Lens.Fold.html#idroppingWhile"><span class="hs-identifier hs-var hs-var">idroppingWhile</span></a></span></span><span> </span><span id="local-6989586621679451229"><span class="annot"><span class="annottext">p :: i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679451229"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679451228"><span class="annot"><span class="annottext">l :: Optical (Indexed i) q (Compose (State Bool) f) s t a a
</span><a href="#local-6989586621679451228"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451227"><span class="annot"><span class="annottext">f :: p a (f a)
</span><a href="#local-6989586621679451227"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(State Bool (f t) -&gt; Bool -&gt; f t)
-&gt; Bool -&gt; State Bool (f t) -&gt; f t
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">State Bool (f t) -&gt; Bool -&gt; f t
forall s a. State s a -&gt; s -&gt; a
</span><span class="hs-identifier hs-var">evalState</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(State Bool (f t) -&gt; f t)
-&gt; (Compose (State Bool) f t -&gt; State Bool (f t))
-&gt; Compose (State Bool) f t
-&gt; f t
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible b a) =&gt;
p b c -&gt; q a b -&gt; p a c
</span><span class="hs-operator hs-var">.#</span></span><span> </span><span class="annot"><span class="annottext">Compose (State Bool) f t -&gt; State Bool (f t)
forall k1 (f :: k1 -&gt; *) k2 (g :: k2 -&gt; k1) (a :: k2).
Compose f g a -&gt; f (g a)
</span><span class="hs-identifier hs-var hs-var">getCompose</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Compose (State Bool) f t -&gt; f t)
-&gt; q s (Compose (State Bool) f t) -&gt; q s (f t)
forall (p :: * -&gt; * -&gt; *) b c a.
Profunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">`rmap`</span></span><span> </span><span class="annot"><span class="annottext">Optical (Indexed i) q (Compose (State Bool) f) s t a a
</span><a href="#local-6989586621679451228"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Indexed i a (Compose (State Bool) f a)
</span><a href="#local-6989586621679451226"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2722"></span><span>  </span><span id="local-6989586621679451226"><span class="annot"><span class="annottext">g :: Indexed i a (Compose (State Bool) f a)
</span><a href="#local-6989586621679451226"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(i -&gt; a -&gt; Compose (State Bool) f a)
-&gt; Indexed i a (Compose (State Bool) f a)
forall i a b. (i -&gt; a -&gt; b) -&gt; Indexed i a b
</span><a href="Control.Lens.Internal.Indexed.html#Indexed"><span class="hs-identifier hs-var">Indexed</span></a></span><span> </span><span class="annot"><span class="annottext">((i -&gt; a -&gt; Compose (State Bool) f a)
 -&gt; Indexed i a (Compose (State Bool) f a))
-&gt; (i -&gt; a -&gt; Compose (State Bool) f a)
-&gt; Indexed i a (Compose (State Bool) f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679451225"><span class="annot"><span class="annottext">i :: i
</span><a href="#local-6989586621679451225"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679451224"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621679451224"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State Bool (f a) -&gt; Compose (State Bool) f a
forall k k1 (f :: k -&gt; *) (g :: k1 -&gt; k) (a :: k1).
f (g a) -&gt; Compose f g a
</span><span class="hs-identifier hs-var">Compose</span></span><span> </span><span class="annot"><span class="annottext">(State Bool (f a) -&gt; Compose (State Bool) f a)
-&gt; State Bool (f a) -&gt; Compose (State Bool) f a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; (f a, Bool)) -&gt; State Bool (f a)
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; (a, s)) -&gt; m a
</span><span class="hs-identifier hs-var">state</span></span><span> </span><span class="annot"><span class="annottext">((Bool -&gt; (f a, Bool)) -&gt; State Bool (f a))
-&gt; (Bool -&gt; (f a, Bool)) -&gt; State Bool (f a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679451223"><span class="annot"><span class="annottext">b :: Bool
</span><a href="#local-6989586621679451223"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-2723"></span><span>      </span><span id="local-6989586621679451222"><span class="annot"><span class="annottext">b' :: Bool
</span><a href="#local-6989586621679451222"><span class="hs-identifier hs-var hs-var">b'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679451223"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; a -&gt; Bool
</span><a href="#local-6989586621679451229"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451225"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451224"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-2724"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679451222"><span class="hs-identifier hs-var">b'</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451224"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">p a (f a) -&gt; i -&gt; a -&gt; f a
forall i (p :: * -&gt; * -&gt; *) a b.
Indexable i p =&gt;
p a b -&gt; i -&gt; a -&gt; b
</span><a href="Control.Lens.Internal.Indexed.html#indexed"><span class="hs-identifier hs-var">indexed</span></a></span><span> </span><span class="annot"><span class="annottext">p a (f a)
</span><a href="#local-6989586621679451227"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679451225"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451224"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679451222"><span class="hs-identifier hs-var">b'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2725"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#idroppingWhile"><span class="hs-pragma hs-type">idroppingWhile</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2726"></span><span>
</span><span id="line-2727"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2728"></span><span class="hs-comment">-- Misc.</span><span>
</span><span id="line-2729"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2730"></span><span>
</span><span id="line-2731"></span><span id="local-6989586621679452442"><span class="annot"><a href="Control.Lens.Fold.html#skip"><span class="hs-identifier hs-type">skip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679452442"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-2732"></span><span id="skip"><span class="annot"><span class="annottext">skip :: a -&gt; ()
</span><a href="Control.Lens.Fold.html#skip"><span class="hs-identifier hs-var hs-var">skip</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2733"></span><span class="hs-pragma">{-# INLINE</span><span> </span><span class="annot"><a href="Control.Lens.Fold.html#skip"><span class="hs-pragma hs-type">skip</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-2734"></span><span>
</span><span id="line-2735"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2736"></span><span class="hs-comment">-- Folds with Reified Monoid</span><span>
</span><span id="line-2737"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2738"></span><span>
</span><span id="line-2739"></span><span class="hs-comment">-- | Fold a value using a specified 'Fold' and 'Monoid' operations.</span><span>
</span><span id="line-2740"></span><span class="hs-comment">-- This is like 'foldBy' where the 'Foldable' instance can be</span><span>
</span><span id="line-2741"></span><span class="hs-comment">-- manually specified.</span><span>
</span><span id="line-2742"></span><span class="hs-comment">--</span><span>
</span><span id="line-2743"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2744"></span><span class="hs-comment">-- 'foldByOf' 'folded' &#8801; 'foldBy'</span><span>
</span><span id="line-2745"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2746"></span><span class="hs-comment">--</span><span>
</span><span id="line-2747"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2748"></span><span class="hs-comment">-- 'foldByOf' :: 'Getter' s a     -&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; s -&gt; a</span><span>
</span><span id="line-2749"></span><span class="hs-comment">-- 'foldByOf' :: 'Fold' s a       -&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; s -&gt; a</span><span>
</span><span id="line-2750"></span><span class="hs-comment">-- 'foldByOf' :: 'Lens'' s a      -&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; s -&gt; a</span><span>
</span><span id="line-2751"></span><span class="hs-comment">-- 'foldByOf' :: 'Traversal'' s a -&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; s -&gt; a</span><span>
</span><span id="line-2752"></span><span class="hs-comment">-- 'foldByOf' :: 'Iso'' s a       -&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; s -&gt; a</span><span>
</span><span id="line-2753"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2754"></span><span class="hs-comment">--</span><span>
</span><span id="line-2755"></span><span class="hs-comment">-- &gt;&gt;&gt; foldByOf both (++) [] (&quot;hello&quot;,&quot;world&quot;)</span><span>
</span><span id="line-2756"></span><span class="hs-comment">-- &quot;helloworld&quot;</span><span>
</span><span id="line-2757"></span><span id="local-6989586621679451220"><span id="local-6989586621679451221"><span class="annot"><a href="Control.Lens.Fold.html#foldByOf"><span class="hs-identifier hs-type">foldByOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Fold"><span class="hs-identifier hs-type">Fold</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451221"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451220"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451220"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451220"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451220"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451220"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451221"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451220"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-2758"></span><span id="foldByOf"><span class="annot"><span class="annottext">foldByOf :: Fold s a -&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; s -&gt; a
</span><a href="Control.Lens.Fold.html#foldByOf"><span class="hs-identifier hs-var hs-var">foldByOf</span></a></span></span><span> </span><span id="local-6989586621679451219"><span class="annot"><span class="annottext">l :: Fold s a
</span><a href="#local-6989586621679451219"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451218"><span class="annot"><span class="annottext">f :: a -&gt; a -&gt; a
</span><a href="#local-6989586621679451218"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451217"><span class="annot"><span class="annottext">z :: a
</span><a href="#local-6989586621679451217"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a)
-&gt; a
-&gt; (forall s.
    Reifies s (ReifiedMonoid a) =&gt;
    s -&gt; ReflectedMonoid a s)
-&gt; s
-&gt; a
forall a t.
(a -&gt; a -&gt; a)
-&gt; a
-&gt; (forall s.
    Reifies s (ReifiedMonoid a) =&gt;
    t -&gt; ReflectedMonoid a s)
-&gt; t
-&gt; a
</span><span class="hs-identifier hs-var">reifyMonoid</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621679451218"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679451217"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting (ReflectedMonoid a s) s a
-&gt; (a -&gt; ReflectedMonoid a s) -&gt; s -&gt; ReflectedMonoid a s
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (ReflectedMonoid a s) s a
Fold s a
</span><a href="#local-6989586621679451219"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; ReflectedMonoid a s
forall k a (s :: k). a -&gt; ReflectedMonoid a s
</span><span class="hs-identifier hs-var">ReflectedMonoid</span></span><span class="hs-special">)</span><span>
</span><span id="line-2759"></span><span>
</span><span id="line-2760"></span><span class="hs-comment">-- | Fold a value using a specified 'Fold' and 'Monoid' operations.</span><span>
</span><span id="line-2761"></span><span class="hs-comment">-- This is like 'foldMapBy' where the 'Foldable' instance can be</span><span>
</span><span id="line-2762"></span><span class="hs-comment">-- manually specified.</span><span>
</span><span id="line-2763"></span><span class="hs-comment">--</span><span>
</span><span id="line-2764"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2765"></span><span class="hs-comment">-- 'foldMapByOf' 'folded' &#8801; 'foldMapBy'</span><span>
</span><span id="line-2766"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2767"></span><span class="hs-comment">--</span><span>
</span><span id="line-2768"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2769"></span><span class="hs-comment">-- 'foldMapByOf' :: 'Getter' s a     -&gt; (r -&gt; r -&gt; r) -&gt; r -&gt; (a -&gt; r) -&gt; s -&gt; r</span><span>
</span><span id="line-2770"></span><span class="hs-comment">-- 'foldMapByOf' :: 'Fold' s a       -&gt; (r -&gt; r -&gt; r) -&gt; r -&gt; (a -&gt; r) -&gt; s -&gt; r</span><span>
</span><span id="line-2771"></span><span class="hs-comment">-- 'foldMapByOf' :: 'Traversal'' s a -&gt; (r -&gt; r -&gt; r) -&gt; r -&gt; (a -&gt; r) -&gt; s -&gt; r</span><span>
</span><span id="line-2772"></span><span class="hs-comment">-- 'foldMapByOf' :: 'Lens'' s a      -&gt; (r -&gt; r -&gt; r) -&gt; r -&gt; (a -&gt; r) -&gt; s -&gt; r</span><span>
</span><span id="line-2773"></span><span class="hs-comment">-- 'foldMapByOf' :: 'Iso'' s a       -&gt; (r -&gt; r -&gt; r) -&gt; r -&gt; (a -&gt; r) -&gt; s -&gt; r</span><span>
</span><span id="line-2774"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2775"></span><span class="hs-comment">--</span><span>
</span><span id="line-2776"></span><span class="hs-comment">-- &gt;&gt;&gt; foldMapByOf both (+) 0 length (&quot;hello&quot;,&quot;world&quot;)</span><span>
</span><span id="line-2777"></span><span class="hs-comment">-- 10</span><span>
</span><span id="line-2778"></span><span id="local-6989586621679451212"><span id="local-6989586621679451213"><span id="local-6989586621679451214"><span class="annot"><a href="Control.Lens.Fold.html#foldMapByOf"><span class="hs-identifier hs-type">foldMapByOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Control.Lens.Type.html#Fold"><span class="hs-identifier hs-type">Fold</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451214"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679451213"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451212"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451212"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451212"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451212"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679451213"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451212"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451214"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679451212"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-2779"></span><span id="foldMapByOf"><span class="annot"><span class="annottext">foldMapByOf :: Fold s a -&gt; (r -&gt; r -&gt; r) -&gt; r -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapByOf"><span class="hs-identifier hs-var hs-var">foldMapByOf</span></a></span></span><span> </span><span id="local-6989586621679451211"><span class="annot"><span class="annottext">l :: Fold s a
</span><a href="#local-6989586621679451211"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679451210"><span class="annot"><span class="annottext">f :: r -&gt; r -&gt; r
</span><a href="#local-6989586621679451210"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679451209"><span class="annot"><span class="annottext">z :: r
</span><a href="#local-6989586621679451209"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span id="local-6989586621679451208"><span class="annot"><span class="annottext">g :: a -&gt; r
</span><a href="#local-6989586621679451208"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(r -&gt; r -&gt; r)
-&gt; r
-&gt; (forall s.
    Reifies s (ReifiedMonoid r) =&gt;
    s -&gt; ReflectedMonoid r s)
-&gt; s
-&gt; r
forall a t.
(a -&gt; a -&gt; a)
-&gt; a
-&gt; (forall s.
    Reifies s (ReifiedMonoid a) =&gt;
    t -&gt; ReflectedMonoid a s)
-&gt; t
-&gt; a
</span><span class="hs-identifier hs-var">reifyMonoid</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; r -&gt; r
</span><a href="#local-6989586621679451210"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679451209"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Getting (ReflectedMonoid r s) s a
-&gt; (a -&gt; ReflectedMonoid r s) -&gt; s -&gt; ReflectedMonoid r s
forall r s a. Getting r s a -&gt; (a -&gt; r) -&gt; s -&gt; r
</span><a href="Control.Lens.Fold.html#foldMapOf"><span class="hs-identifier hs-var">foldMapOf</span></a></span><span> </span><span class="annot"><span class="annottext">Getting (ReflectedMonoid r s) s a
Fold s a
</span><a href="#local-6989586621679451211"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; ReflectedMonoid r s
forall k a (s :: k). a -&gt; ReflectedMonoid a s
</span><span class="hs-identifier hs-var">ReflectedMonoid</span></span><span> </span><span class="annot"><span class="annottext">(r -&gt; ReflectedMonoid r s) -&gt; (a -&gt; r) -&gt; a -&gt; ReflectedMonoid r s
forall (p :: * -&gt; * -&gt; *) a b c (q :: * -&gt; * -&gt; *).
(Profunctor p, Coercible c b) =&gt;
q b c -&gt; p a b -&gt; p a c
</span><span class="hs-operator hs-var">#.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; r
</span><a href="#local-6989586621679451208"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2780"></span></pre></body></html>