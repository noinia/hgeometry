<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Algorithms.Geometry.VisibilityPolygon.Lee</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">hgeometry-0.12.0.1: Geometric Algorithms, Data structures, and Data types.</span><ul class="links" id="page-menu"><li><a href="src/Algorithms.Geometry.VisibilityPolygon.Lee.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(C) Frank Staals</td></tr><tr><th>License</th><td>see the LICENSE file</td></tr><tr><th>Maintainer</th><td>Frank Staals</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Algorithms.Geometry.VisibilityPolygon.Lee</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p><span class="mathjax">\(O(n\log n)\)</span> time algorithm to compute the visibility polygon of
 a point inside a polygon (possibly containing holes) with <span class="mathjax">\(n\)</span>
 vertices, or among a set of <span class="mathjax">\(n\)</span> disjoint segments. The alogirhtm
 used is the the rotational sweepline algorithm by Lee, described
 in:</p><p>D. T. Lee. Proximity and reachability in the plane. Report R-831, Dept. Elect.
 Engrg., Univ. Illinois, Urbana, IL, 1978.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:visibilityPolygon">visibilityPolygon</a> :: <span class="keyword">forall</span> p t r. (<a href="../base-4.13.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> r, <a href="../base-4.13.0.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> r) =&gt; <a href="Data-Geometry-Point.html#t:Point" title="Data.Geometry.Point">Point</a> 2 r -&gt; <a href="Data-Geometry-Polygon.html#t:Polygon" title="Data.Geometry.Polygon">Polygon</a> t p r -&gt; <a href="Algorithms-Geometry-VisibilityPolygon-Lee.html#t:StarShapedPolygon" title="Algorithms.Geometry.VisibilityPolygon.Lee">StarShapedPolygon</a> (<a href="Algorithms-Geometry-VisibilityPolygon-Lee.html#t:Definer" title="Algorithms.Geometry.VisibilityPolygon.Lee">Definer</a> p () r) r</li><li class="src short"><a href="#v:visibilitySweep">visibilitySweep</a> :: <span class="keyword">forall</span> p r e. (<a href="../base-4.13.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> r, <a href="../base-4.13.0.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> r) =&gt; <a href="Data-Geometry-Vector-VectorFamily.html#t:Vector" title="Data.Geometry.Vector.VectorFamily">Vector</a> 2 r -&gt; <a href="../base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Data-Geometry-Point.html#t:Point" title="Data.Geometry.Point">Point</a> 2 r) -&gt; <a href="Data-Geometry-Point.html#t:Point" title="Data.Geometry.Point">Point</a> 2 r -&gt; [<a href="Data-Geometry-LineSegment-Internal.html#t:LineSegment" title="Data.Geometry.LineSegment.Internal">LineSegment</a> 2 p r <a href="../hgeometry-combinatorial-0.12.0.1/Data-Ext.html#t::-43-" title="Data.Ext">:+</a> e] -&gt; [<a href="Data-Geometry-Point.html#t:Point" title="Data.Geometry.Point">Point</a> 2 r <a href="../hgeometry-combinatorial-0.12.0.1/Data-Ext.html#t::-43-" title="Data.Ext">:+</a> <a href="Algorithms-Geometry-VisibilityPolygon-Lee.html#t:Definer" title="Algorithms.Geometry.VisibilityPolygon.Lee">Definer</a> p e r]</li><li class="src short"><span class="keyword">type</span> <a href="#t:VisibilityPolygon">VisibilityPolygon</a> p e r = <a href="Algorithms-Geometry-VisibilityPolygon-Lee.html#t:StarShapedPolygon" title="Algorithms.Geometry.VisibilityPolygon.Lee">StarShapedPolygon</a> (<a href="Algorithms-Geometry-VisibilityPolygon-Lee.html#t:Definer" title="Algorithms.Geometry.VisibilityPolygon.Lee">Definer</a> p e r) r</li><li class="src short"><span class="keyword">type</span> <a href="#t:Definer">Definer</a> p e r = <a href="../base-4.13.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> p (<a href="Data-Geometry-Point.html#t:Point" title="Data.Geometry.Point">Point</a> 2 r <a href="../hgeometry-combinatorial-0.12.0.1/Data-Ext.html#t::-43-" title="Data.Ext">:+</a> p, <a href="Data-Geometry-LineSegment-Internal.html#t:LineSegment" title="Data.Geometry.LineSegment.Internal">LineSegment</a> 2 p r <a href="../hgeometry-combinatorial-0.12.0.1/Data-Ext.html#t::-43-" title="Data.Ext">:+</a> e)</li><li class="src short"><span class="keyword">type</span> <a href="#t:StarShapedPolygon">StarShapedPolygon</a> p r = <a href="Data-Geometry-Polygon.html#t:SimplePolygon" title="Data.Geometry.Polygon">SimplePolygon</a> p r</li><li class="src short"><a href="#v:compareAroundEndPoint">compareAroundEndPoint</a> :: <span class="keyword">forall</span> p r e. (<a href="../base-4.13.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> r, <a href="../base-4.13.0.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> r) =&gt; <a href="Data-Geometry-Point.html#t:Point" title="Data.Geometry.Point">Point</a> 2 r -&gt; (<a href="Data-Geometry-LineSegment-Internal.html#t:LineSegment" title="Data.Geometry.LineSegment.Internal">LineSegment</a> 2 p r <a href="../hgeometry-combinatorial-0.12.0.1/Data-Ext.html#t::-43-" title="Data.Ext">:+</a> e) -&gt; (<a href="Data-Geometry-LineSegment-Internal.html#t:LineSegment" title="Data.Geometry.LineSegment.Internal">LineSegment</a> 2 p r <a href="../hgeometry-combinatorial-0.12.0.1/Data-Ext.html#t::-43-" title="Data.Ext">:+</a> e) -&gt; <a href="../base-4.13.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:visibilityPolygon" class="def">visibilityPolygon</a> :: <span class="keyword">forall</span> p t r. (<a href="../base-4.13.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> r, <a href="../base-4.13.0.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> r) =&gt; <a href="Data-Geometry-Point.html#t:Point" title="Data.Geometry.Point">Point</a> 2 r -&gt; <a href="Data-Geometry-Polygon.html#t:Polygon" title="Data.Geometry.Polygon">Polygon</a> t p r -&gt; <a href="Algorithms-Geometry-VisibilityPolygon-Lee.html#t:StarShapedPolygon" title="Algorithms.Geometry.VisibilityPolygon.Lee">StarShapedPolygon</a> (<a href="Algorithms-Geometry-VisibilityPolygon-Lee.html#t:Definer" title="Algorithms.Geometry.VisibilityPolygon.Lee">Definer</a> p () r) r <a href="src/Algorithms.Geometry.VisibilityPolygon.Lee.html#visibilityPolygon" class="link">Source</a> <a href="#v:visibilityPolygon" class="selflink">#</a></p><div class="doc"><p>Computes the visibility polygon of a point q in a polygon with
 <span class="mathjax">\(n\)</span> vertices.</p><p>pre: q lies strictly inside the polygon</p><p>running time: <span class="mathjax">\(O(n\log n)\)</span></p></div></div><div class="top"><p class="src"><a id="v:visibilitySweep" class="def">visibilitySweep</a> <a href="src/Algorithms.Geometry.VisibilityPolygon.Lee.html#visibilitySweep" class="link">Source</a> <a href="#v:visibilitySweep" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> p r e. (<a href="../base-4.13.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> r, <a href="../base-4.13.0.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> r)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Data-Geometry-Vector-VectorFamily.html#t:Vector" title="Data.Geometry.Vector.VectorFamily">Vector</a> 2 r</td><td class="doc"><p>starting direction of the sweep</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.13.0.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="Data-Geometry-Point.html#t:Point" title="Data.Geometry.Point">Point</a> 2 r)</td><td class="doc"><ul><li>- point indicating the last point to sweep to</li></ul></td></tr><tr><td class="src">-&gt; <a href="Data-Geometry-Point.html#t:Point" title="Data.Geometry.Point">Point</a> 2 r</td><td class="doc"><p>the point form which we compute the visibility polgyon</p></td></tr><tr><td class="src">-&gt; [<a href="Data-Geometry-LineSegment-Internal.html#t:LineSegment" title="Data.Geometry.LineSegment.Internal">LineSegment</a> 2 p r <a href="../hgeometry-combinatorial-0.12.0.1/Data-Ext.html#t::-43-" title="Data.Ext">:+</a> e]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; [<a href="Data-Geometry-Point.html#t:Point" title="Data.Geometry.Point">Point</a> 2 r <a href="../hgeometry-combinatorial-0.12.0.1/Data-Ext.html#t::-43-" title="Data.Ext">:+</a> <a href="Algorithms-Geometry-VisibilityPolygon-Lee.html#t:Definer" title="Algorithms.Geometry.VisibilityPolygon.Lee">Definer</a> p e r]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>computes a (partial) visibility polygon of a set of <span class="mathjax">\(n\)</span>
 disjoint segments. The input segments are allowed to share
 endpoints, but no intersections or no endpoints in the interior of
 other segments. The input vector indicates the starting direction,
 the Maybe point indicates up to which point/dicrection (CCW) of the
 starting vector we should compute the visibility polygon.</p><p>pre : - all line segments are considered closed.
       - no singleton linesegments exactly pointing away from q.
       - for every orientattion the visibility is blocked somewhere, i.e.
            no rays starting in the query point q that are disjoint from all segments.
       - no vertices at staring direction sv</p><p>running time: <span class="mathjax">\(O(n\log n)\)</span></p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:VisibilityPolygon" class="def">VisibilityPolygon</a> p e r = <a href="Algorithms-Geometry-VisibilityPolygon-Lee.html#t:StarShapedPolygon" title="Algorithms.Geometry.VisibilityPolygon.Lee">StarShapedPolygon</a> (<a href="Algorithms-Geometry-VisibilityPolygon-Lee.html#t:Definer" title="Algorithms.Geometry.VisibilityPolygon.Lee">Definer</a> p e r) r <a href="src/Algorithms.Geometry.VisibilityPolygon.Lee.html#VisibilityPolygon" class="link">Source</a> <a href="#t:VisibilityPolygon" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Definer" class="def">Definer</a> p e r = <a href="../base-4.13.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> p (<a href="Data-Geometry-Point.html#t:Point" title="Data.Geometry.Point">Point</a> 2 r <a href="../hgeometry-combinatorial-0.12.0.1/Data-Ext.html#t::-43-" title="Data.Ext">:+</a> p, <a href="Data-Geometry-LineSegment-Internal.html#t:LineSegment" title="Data.Geometry.LineSegment.Internal">LineSegment</a> 2 p r <a href="../hgeometry-combinatorial-0.12.0.1/Data-Ext.html#t::-43-" title="Data.Ext">:+</a> e) <a href="src/Algorithms.Geometry.VisibilityPolygon.Lee.html#Definer" class="link">Source</a> <a href="#t:Definer" class="selflink">#</a></p><div class="doc"><p>Vertices of the visibility polgyon are either original vertices
 or defined by some vertex and an edge</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:StarShapedPolygon" class="def">StarShapedPolygon</a> p r = <a href="Data-Geometry-Polygon.html#t:SimplePolygon" title="Data.Geometry.Polygon">SimplePolygon</a> p r <a href="src/Algorithms.Geometry.VisibilityPolygon.Lee.html#StarShapedPolygon" class="link">Source</a> <a href="#t:StarShapedPolygon" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:compareAroundEndPoint" class="def">compareAroundEndPoint</a> :: <span class="keyword">forall</span> p r e. (<a href="../base-4.13.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> r, <a href="../base-4.13.0.0/Prelude.html#t:Fractional" title="Prelude">Fractional</a> r) =&gt; <a href="Data-Geometry-Point.html#t:Point" title="Data.Geometry.Point">Point</a> 2 r -&gt; (<a href="Data-Geometry-LineSegment-Internal.html#t:LineSegment" title="Data.Geometry.LineSegment.Internal">LineSegment</a> 2 p r <a href="../hgeometry-combinatorial-0.12.0.1/Data-Ext.html#t::-43-" title="Data.Ext">:+</a> e) -&gt; (<a href="Data-Geometry-LineSegment-Internal.html#t:LineSegment" title="Data.Geometry.LineSegment.Internal">LineSegment</a> 2 p r <a href="../hgeometry-combinatorial-0.12.0.1/Data-Ext.html#t::-43-" title="Data.Ext">:+</a> e) -&gt; <a href="../base-4.13.0.0/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="src/Algorithms.Geometry.VisibilityPolygon.Lee.html#compareAroundEndPoint" class="link">Source</a> <a href="#v:compareAroundEndPoint" class="selflink">#</a></p><div class="doc"><p>Given two segments that share an endpoint, order them by their
 order around this common endpoint. I.e. if uv and uw share endpoint
 u we uv is considered smaller iff v is smaller than w in the
 counterclockwise order around u (treating the direction from q to
 the common endpoint as zero).</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>