<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE Safe #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-4"></span><span class="hs-comment">--</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- Module      :  System.IO</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Copyright   :  (c) The University of Glasgow 2001</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- License     :  BSD-style (see the file libraries/base/LICENSE)</span><span>
</span><span id="line-8"></span><span class="hs-comment">--</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Maintainer  :  libraries@haskell.org</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- Stability   :  stable</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- Portability :  portable</span><span>
</span><span id="line-12"></span><span class="hs-comment">--</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- The standard IO API.</span><span>
</span><span id="line-14"></span><span class="hs-comment">--</span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="System.IO.html"><span class="hs-identifier">System.IO</span></a></span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-comment">-- * Examples</span></span><span>
</span><span id="line-18"></span><span>     </span><span class="annot"><span class="hs-comment">-- $stdio_examples</span></span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span>     </span><span class="annot"><span class="hs-comment">-- *  The IO monad</span></span><span>
</span><span id="line-21"></span><span>     </span><span class="annot"><a href="../../ghc-prim-0.13.0-e168/src/GHC.Types.html#IO"><span class="hs-identifier">IO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#fixIO"><span class="hs-identifier">fixIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>     </span><span class="annot"><span class="hs-comment">-- *  Files and handles</span></span><span>
</span><span id="line-24"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.html#FilePath"><span class="hs-identifier">FilePath</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Types.html#Handle"><span class="hs-identifier">Handle</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>     </span><span class="hs-comment">-- |  GHC note: a 'Handle' will be automatically closed when the garbage</span><span>
</span><span id="line-27"></span><span>     </span><span class="hs-comment">-- collector detects that it has become unreferenced by the program.</span><span>
</span><span id="line-28"></span><span>     </span><span class="hs-comment">-- However, relying on this behaviour is not generally recommended:</span><span>
</span><span id="line-29"></span><span>     </span><span class="hs-comment">-- the garbage collector is unpredictable.  If possible, use</span><span>
</span><span id="line-30"></span><span>     </span><span class="hs-comment">-- an explicit 'hClose' to close 'Handle's when they are no longer</span><span>
</span><span id="line-31"></span><span>     </span><span class="hs-comment">-- required.  GHC does not currently attempt to free up file</span><span>
</span><span id="line-32"></span><span>     </span><span class="hs-comment">-- descriptors when they have run out, it is your responsibility to</span><span>
</span><span id="line-33"></span><span>     </span><span class="hs-comment">-- ensure that this doesn't happen.</span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  Standard handles</span></span><span>
</span><span id="line-36"></span><span>     </span><span class="hs-comment">-- |  Three handles are allocated during program initialisation,</span><span>
</span><span id="line-37"></span><span>     </span><span class="hs-comment">-- and are initially open.</span><span>
</span><span id="line-38"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.StdHandles.html#stdin"><span class="hs-identifier">stdin</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.StdHandles.html#stdout"><span class="hs-identifier">stdout</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.StdHandles.html#stderr"><span class="hs-identifier">stderr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>     </span><span class="annot"><span class="hs-comment">-- *  Opening and closing files</span></span><span>
</span><span id="line-42"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  Opening files</span></span><span>
</span><span id="line-43"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.StdHandles.html#withFile"><span class="hs-identifier">withFile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.StdHandles.html#openFile"><span class="hs-identifier">openFile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.IOMode.html#IOMode"><span class="hs-identifier">IOMode</span></a></span><span class="hs-special">(</span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.IOMode.html#ReadMode"><span class="hs-identifier">ReadMode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.IOMode.html#WriteMode"><span class="hs-identifier">WriteMode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.IOMode.html#AppendMode"><span class="hs-identifier">AppendMode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.IOMode.html#ReadWriteMode"><span class="hs-identifier">ReadWriteMode</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  Closing files</span></span><span>
</span><span id="line-47"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hClose"><span class="hs-identifier">hClose</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  Special cases</span></span><span>
</span><span id="line-49"></span><span>     </span><span class="annot"><span class="hs-comment">-- |  These functions are also exported by the &quot;Prelude&quot;.</span></span><span>
</span><span id="line-50"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#readFile"><span class="hs-identifier">readFile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#readFile%27"><span class="hs-identifier">readFile'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#writeFile"><span class="hs-identifier">writeFile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#appendFile"><span class="hs-identifier">appendFile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  File locking</span></span><span>
</span><span id="line-55"></span><span>     </span><span class="hs-comment">-- $locking</span><span>
</span><span id="line-56"></span><span>     </span><span class="hs-comment">-- *  Operations on handles</span><span>
</span><span id="line-57"></span><span>     </span><span class="hs-comment">-- **  Determining and changing the size of a file</span><span>
</span><span id="line-58"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hFileSize"><span class="hs-identifier">hFileSize</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hSetFileSize"><span class="hs-identifier">hSetFileSize</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  Detecting the end of input</span></span><span>
</span><span id="line-61"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hIsEOF"><span class="hs-identifier">hIsEOF</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#isEOF"><span class="hs-identifier">isEOF</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  Buffering operations</span></span><span>
</span><span id="line-64"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Types.html#BufferMode"><span class="hs-identifier">BufferMode</span></a></span><span class="hs-special">(</span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Types.html#NoBuffering"><span class="hs-identifier">NoBuffering</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Types.html#LineBuffering"><span class="hs-identifier">LineBuffering</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Types.html#BlockBuffering"><span class="hs-identifier">BlockBuffering</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hSetBuffering"><span class="hs-identifier">hSetBuffering</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hGetBuffering"><span class="hs-identifier">hGetBuffering</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hFlush"><span class="hs-identifier">hFlush</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  Repositioning handles</span></span><span>
</span><span id="line-69"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hGetPosn"><span class="hs-identifier">hGetPosn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hSetPosn"><span class="hs-identifier">hSetPosn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#HandlePosn"><span class="hs-identifier">HandlePosn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-72"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hSeek"><span class="hs-identifier">hSeek</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Device.html#SeekMode"><span class="hs-identifier">SeekMode</span></a></span><span class="hs-special">(</span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Device.html#AbsoluteSeek"><span class="hs-identifier">AbsoluteSeek</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Device.html#RelativeSeek"><span class="hs-identifier">RelativeSeek</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Device.html#SeekFromEnd"><span class="hs-identifier">SeekFromEnd</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hTell"><span class="hs-identifier">hTell</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  Handle properties</span></span><span>
</span><span id="line-76"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hIsOpen"><span class="hs-identifier">hIsOpen</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hIsClosed"><span class="hs-identifier">hIsClosed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hIsReadable"><span class="hs-identifier">hIsReadable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hIsWritable"><span class="hs-identifier">hIsWritable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hIsSeekable"><span class="hs-identifier">hIsSeekable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  Terminal operations (not portable: GHC only)</span></span><span>
</span><span id="line-82"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hIsTerminalDevice"><span class="hs-identifier">hIsTerminalDevice</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hSetEcho"><span class="hs-identifier">hSetEcho</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-84"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hGetEcho"><span class="hs-identifier">hGetEcho</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-85"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  Showing handle state (not portable: GHC only)</span></span><span>
</span><span id="line-86"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hShow"><span class="hs-identifier">hShow</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>     </span><span class="annot"><span class="hs-comment">-- *  Text input and output</span></span><span>
</span><span id="line-88"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  Text input</span></span><span>
</span><span id="line-89"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Text.html#hWaitForInput"><span class="hs-identifier">hWaitForInput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#hReady"><span class="hs-identifier">hReady</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Text.html#hGetChar"><span class="hs-identifier">hGetChar</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-92"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Text.html#hGetLine"><span class="hs-identifier">hGetLine</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hLookAhead"><span class="hs-identifier">hLookAhead</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-94"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Text.html#hGetContents"><span class="hs-identifier">hGetContents</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Text.html#hGetContents%27"><span class="hs-identifier">hGetContents'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-96"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  Text output</span></span><span>
</span><span id="line-97"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Text.html#hPutChar"><span class="hs-identifier">hPutChar</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-98"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Text.html#hPutStr"><span class="hs-identifier">hPutStr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-99"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Text.html#hPutStrLn"><span class="hs-identifier">hPutStrLn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-100"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#hPrint"><span class="hs-identifier">hPrint</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-101"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  Special cases for standard input and output</span></span><span>
</span><span id="line-102"></span><span>     </span><span class="annot"><span class="hs-comment">-- |  These functions are also exported by the &quot;Prelude&quot;.</span></span><span>
</span><span id="line-103"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#interact"><span class="hs-identifier">interact</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-104"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#putChar"><span class="hs-identifier">putChar</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-105"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#putStr"><span class="hs-identifier">putStr</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-106"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#putStrLn"><span class="hs-identifier">putStrLn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-107"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#print"><span class="hs-identifier">print</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-108"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#getChar"><span class="hs-identifier">getChar</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-109"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#getLine"><span class="hs-identifier">getLine</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-110"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#getContents"><span class="hs-identifier">getContents</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-111"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#getContents%27"><span class="hs-identifier">getContents'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-112"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#readIO"><span class="hs-identifier">readIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-113"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#readLn"><span class="hs-identifier">readLn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-114"></span><span>     </span><span class="annot"><span class="hs-comment">-- *  Binary input and output</span></span><span>
</span><span id="line-115"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.StdHandles.html#withBinaryFile"><span class="hs-identifier">withBinaryFile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-116"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.StdHandles.html#openBinaryFile"><span class="hs-identifier">openBinaryFile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-117"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hSetBinaryMode"><span class="hs-identifier">hSetBinaryMode</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-118"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Text.html#hPutBuf"><span class="hs-identifier">hPutBuf</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-119"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Text.html#hGetBuf"><span class="hs-identifier">hGetBuf</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-120"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Text.html#hGetBufSome"><span class="hs-identifier">hGetBufSome</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-121"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Text.html#hPutBufNonBlocking"><span class="hs-identifier">hPutBufNonBlocking</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-122"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Text.html#hGetBufNonBlocking"><span class="hs-identifier">hGetBufNonBlocking</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-123"></span><span>     </span><span class="annot"><span class="hs-comment">-- *  Temporary files</span></span><span>
</span><span id="line-124"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#openTempFile"><span class="hs-identifier">openTempFile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-125"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#openBinaryTempFile"><span class="hs-identifier">openBinaryTempFile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-126"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#openTempFileWithDefaultPermissions"><span class="hs-identifier">openTempFileWithDefaultPermissions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-127"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#openBinaryTempFileWithDefaultPermissions"><span class="hs-identifier">openBinaryTempFileWithDefaultPermissions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-128"></span><span>     </span><span class="annot"><span class="hs-comment">-- *  Unicode encoding\/decoding</span></span><span>
</span><span id="line-129"></span><span>     </span><span class="hs-comment">-- |  A text-mode 'Handle' has an associated 'TextEncoding', which</span><span>
</span><span id="line-130"></span><span>     </span><span class="hs-comment">-- is used to decode bytes into Unicode characters when reading,</span><span>
</span><span id="line-131"></span><span>     </span><span class="hs-comment">-- and encode Unicode characters into bytes when writing.</span><span>
</span><span id="line-132"></span><span>     </span><span class="hs-comment">--</span><span>
</span><span id="line-133"></span><span>     </span><span class="hs-comment">-- The default 'TextEncoding' is the same as the default encoding</span><span>
</span><span id="line-134"></span><span>     </span><span class="hs-comment">-- on your system, which is also available as 'localeEncoding'.</span><span>
</span><span id="line-135"></span><span>     </span><span class="hs-comment">-- (GHC note: on Windows, we currently do not support double-byte</span><span>
</span><span id="line-136"></span><span>     </span><span class="hs-comment">-- encodings; if the console\'s code page is unsupported, then</span><span>
</span><span id="line-137"></span><span>     </span><span class="hs-comment">-- 'localeEncoding' will be 'latin1'.)</span><span>
</span><span id="line-138"></span><span>     </span><span class="hs-comment">--</span><span>
</span><span id="line-139"></span><span>     </span><span class="hs-comment">-- Encoding and decoding errors are always detected and reported,</span><span>
</span><span id="line-140"></span><span>     </span><span class="hs-comment">-- except during lazy I/O ('hGetContents', 'getContents', and</span><span>
</span><span id="line-141"></span><span>     </span><span class="hs-comment">-- 'readFile'), where a decoding error merely results in</span><span>
</span><span id="line-142"></span><span>     </span><span class="hs-comment">-- termination of the character stream, as with other I/O errors.</span><span>
</span><span id="line-143"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hSetEncoding"><span class="hs-identifier">hSetEncoding</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-144"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hGetEncoding"><span class="hs-identifier">hGetEncoding</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-145"></span><span>     </span><span class="annot"><span class="hs-comment">-- **  Unicode encodings</span></span><span>
</span><span id="line-146"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Encoding.Types.html#TextEncoding"><span class="hs-identifier">TextEncoding</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-147"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Encoding.html#latin1"><span class="hs-identifier">latin1</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-148"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Encoding.html#utf8"><span class="hs-identifier">utf8</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-149"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Encoding.html#utf8_bom"><span class="hs-identifier">utf8_bom</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-150"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Encoding.html#utf16"><span class="hs-identifier">utf16</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-151"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Encoding.html#utf16le"><span class="hs-identifier">utf16le</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-152"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Encoding.html#utf16be"><span class="hs-identifier">utf16be</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-153"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Encoding.html#utf32"><span class="hs-identifier">utf32</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-154"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Encoding.html#utf32le"><span class="hs-identifier">utf32le</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-155"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Encoding.html#utf32be"><span class="hs-identifier">utf32be</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-156"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html#localeEncoding"><span class="hs-identifier">localeEncoding</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-157"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Encoding.html#char8"><span class="hs-identifier">char8</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-158"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Encoding.html#mkTextEncoding"><span class="hs-identifier">mkTextEncoding</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-159"></span><span>     </span><span class="annot"><span class="hs-comment">-- *  Newline conversion</span></span><span>
</span><span id="line-160"></span><span>     </span><span class="hs-comment">-- | In Haskell, a newline is always represented by the character</span><span>
</span><span id="line-161"></span><span>     </span><span class="hs-comment">-- @\'\\n\'@.  However, in files and external character streams, a</span><span>
</span><span id="line-162"></span><span>     </span><span class="hs-comment">-- newline may be represented by another character sequence, such</span><span>
</span><span id="line-163"></span><span>     </span><span class="hs-comment">-- as @\'\\r\\n\'@.</span><span>
</span><span id="line-164"></span><span>     </span><span class="hs-comment">--</span><span>
</span><span id="line-165"></span><span>     </span><span class="hs-comment">-- A text-mode 'Handle' has an associated 'NewlineMode' that</span><span>
</span><span id="line-166"></span><span>     </span><span class="hs-comment">-- specifies how to translate newline characters.  The</span><span>
</span><span id="line-167"></span><span>     </span><span class="hs-comment">-- 'NewlineMode' specifies the input and output translation</span><span>
</span><span id="line-168"></span><span>     </span><span class="hs-comment">-- separately, so that for instance you can translate @\'\\r\\n\'@</span><span>
</span><span id="line-169"></span><span>     </span><span class="hs-comment">-- to @\'\\n\'@ on input, but leave newlines as @\'\\n\'@ on output.</span><span>
</span><span id="line-170"></span><span>     </span><span class="hs-comment">--</span><span>
</span><span id="line-171"></span><span>     </span><span class="hs-comment">-- The default 'NewlineMode' for a 'Handle' is</span><span>
</span><span id="line-172"></span><span>     </span><span class="hs-comment">-- 'nativeNewlineMode', which does no translation on Unix systems,</span><span>
</span><span id="line-173"></span><span>     </span><span class="hs-comment">-- but translates @\'\\r\\n\'@ to @\'\\n\'@ and back on Windows.</span><span>
</span><span id="line-174"></span><span>     </span><span class="hs-comment">--</span><span>
</span><span id="line-175"></span><span>     </span><span class="hs-comment">-- Binary-mode 'Handle's do no newline translation at all.</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.html#hSetNewlineMode"><span class="hs-identifier">hSetNewlineMode</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-178"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Types.html#Newline"><span class="hs-identifier">Newline</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-179"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Types.html#nativeNewline"><span class="hs-identifier">nativeNewline</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-180"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Types.html#NewlineMode"><span class="hs-identifier">NewlineMode</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-181"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Types.html#noNewlineTranslation"><span class="hs-identifier">noNewlineTranslation</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-182"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Types.html#universalNewlineMode"><span class="hs-identifier">universalNewlineMode</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-183"></span><span>     </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.IO.Handle.Types.html#nativeNewlineMode"><span class="hs-identifier">nativeNewlineMode</span></a></span><span>
</span><span id="line-184"></span><span>     </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../ghc-internal-9.1202.0-1465/src/GHC.Internal.System.IO.html"><span class="hs-identifier">GHC.Internal.System.IO</span></a></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="hs-comment">-- $locking</span><span>
</span><span id="line-189"></span><span class="hs-comment">-- Implementations should enforce as far as possible, at least locally to the</span><span>
</span><span id="line-190"></span><span class="hs-comment">-- Haskell process, multiple-reader single-writer locking on files.</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- That is, /there may either be many handles on the same file which manage input, or just one handle on the file which manages output/.  If any</span><span>
</span><span id="line-192"></span><span class="hs-comment">-- open or semi-closed handle is managing a file for output, no new</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- handle can be allocated for that file.  If any open or semi-closed</span><span>
</span><span id="line-194"></span><span class="hs-comment">-- handle is managing a file for input, new handles can only be allocated</span><span>
</span><span id="line-195"></span><span class="hs-comment">-- if they do not manage output.  Whether two files are the same is</span><span>
</span><span id="line-196"></span><span class="hs-comment">-- implementation-dependent, but they should normally be the same if they</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- have the same absolute path name and neither has been renamed, for</span><span>
</span><span id="line-198"></span><span class="hs-comment">-- example.</span><span>
</span><span id="line-199"></span><span class="hs-comment">--</span><span>
</span><span id="line-200"></span><span class="hs-comment">-- /Warning/: the 'readFile' operation holds a semi-closed handle on</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- the file until the entire contents of the file have been consumed.</span><span>
</span><span id="line-202"></span><span class="hs-comment">-- It follows that an attempt to write to a file (using 'writeFile', for</span><span>
</span><span id="line-203"></span><span class="hs-comment">-- example) that was earlier opened by 'readFile' will usually result in</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- failure with 'GHC.Internal.System.IO.Error.isAlreadyInUseError'.</span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span class="hs-comment">-- $stdio_examples</span><span>
</span><span id="line-207"></span><span class="hs-comment">-- Note: Some of the examples in this module do not work &quot;as is&quot; in ghci.</span><span>
</span><span id="line-208"></span><span class="hs-comment">-- This is because using 'stdin' in combination with lazy IO</span><span>
</span><span id="line-209"></span><span class="hs-comment">-- does not work well in interactive mode.</span><span>
</span><span id="line-210"></span><span class="hs-comment">--</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- Lines starting with @&gt;@ indicate 'stdin' and @^D@ signales EOF.</span><span>
</span><span id="line-212"></span><span class="hs-comment">--</span><span>
</span><span id="line-213"></span><span class="hs-comment">-- ==== __Example__</span><span>
</span><span id="line-214"></span><span class="hs-comment">--</span><span>
</span><span id="line-215"></span><span class="hs-comment">-- ghci&gt; foo</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- &gt; input</span><span>
</span><span id="line-217"></span><span class="hs-comment">-- output</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- &gt; input^D</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- output</span><span>
</span><span id="line-220"></span></pre></body></html>