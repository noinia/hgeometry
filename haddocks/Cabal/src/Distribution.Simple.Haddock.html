<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DuplicateRecordFields #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- Module      :  Distribution.Simple.Haddock</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- Copyright   :  Isaac Jones 2003-2005</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- License     :  BSD3</span><span>
</span><span id="line-16"></span><span class="hs-comment">--</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- Maintainer  :  cabal-devel@haskell.org</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- Portability :  portable</span><span>
</span><span id="line-19"></span><span class="hs-comment">--</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- This module deals with the @haddock@ and @hscolour@ commands.</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- It uses information about installed packages (from @ghc-pkg@) to find the</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- locations of documentation for dependent packages, so it can create links.</span><span>
</span><span id="line-23"></span><span class="hs-comment">--</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- The @hscolour@ support allows generating HTML versions of the original</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- source, with coloured syntax highlighting.</span><span>
</span><span id="line-26"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html"><span class="hs-identifier">Distribution.Simple.Haddock</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#haddock"><span class="hs-identifier">haddock</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#haddock_setupHooks"><span class="hs-identifier">haddock_setupHooks</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#createHaddockIndex"><span class="hs-identifier">createHaddockIndex</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#hscolour"><span class="hs-identifier">hscolour</span></a></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#hscolour_setupHooks"><span class="hs-identifier">hscolour_setupHooks</span></a></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#haddockPackagePaths"><span class="hs-identifier">haddockPackagePaths</span></a></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#Visibility"><span class="hs-identifier">Visibility</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Compat.Prelude.html"><span class="hs-identifier">Distribution.Compat.Prelude</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.Simple.GHC.html"><span class="hs-identifier">Distribution.Simple.GHC</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GHC</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.Simple.GHCJS.html"><span class="hs-identifier">Distribution.Simple.GHCJS</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GHCJS</span></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-comment">-- local</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Backpack.html"><span class="hs-identifier">Distribution.Backpack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Backpack.html#OpenModule"><span class="hs-identifier">OpenModule</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Backpack.DescribeUnitId.html"><span class="hs-identifier">Distribution.Backpack.DescribeUnitId</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Compat.Semigroup.html"><span class="hs-identifier">Distribution.Compat.Semigroup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">All</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Any</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.InstalledPackageInfo.html"><span class="hs-identifier">Distribution.InstalledPackageInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.InstalledPackageInfo.html#InstalledPackageInfo"><span class="hs-identifier">InstalledPackageInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.InstalledPackageInfo.html"><span class="hs-identifier">Distribution.InstalledPackageInfo</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">InstalledPackageInfo</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.ModuleName.html"><span class="hs-identifier">Distribution.ModuleName</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ModuleName</span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Package.html"><span class="hs-identifier">Distribution.Package</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.PackageDescription.html"><span class="hs-identifier">Distribution.PackageDescription</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Parsec.html"><span class="hs-identifier">Distribution.Parsec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Parsec.html#simpleParsec"><span class="hs-identifier">simpleParsec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Pretty.html"><span class="hs-identifier">Distribution.Pretty</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Build.html"><span class="hs-identifier">Distribution.Simple.Build</span></a></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.BuildPaths.html"><span class="hs-identifier">Distribution.Simple.BuildPaths</span></a></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.BuildTarget.html"><span class="hs-identifier">Distribution.Simple.BuildTarget</span></a></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Compiler.html"><span class="hs-identifier">Distribution.Simple.Compiler</span></a></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Errors.html"><span class="hs-identifier">Distribution.Simple.Errors</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html"><span class="hs-identifier">Distribution.Simple.Flag</span></a></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Glob.html"><span class="hs-identifier">Distribution.Simple.Glob</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Glob.html#matchDirFileGlob"><span class="hs-identifier">matchDirFileGlob</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html"><span class="hs-identifier">Distribution.Simple.InstallDirs</span></a></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.LocalBuildInfo.html"><span class="hs-identifier">Distribution.Simple.LocalBuildInfo</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.LocalBuildInfo.html#substPathTemplate"><span class="hs-identifier">substPathTemplate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.Simple.PackageIndex.html"><span class="hs-identifier">Distribution.Simple.PackageIndex</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">PackageIndex</span></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.PreProcess.html"><span class="hs-identifier">Distribution.Simple.PreProcess</span></a></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.html"><span class="hs-identifier">Distribution.Simple.Program</span></a></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.GHC.html"><span class="hs-identifier">Distribution.Simple.Program.GHC</span></a></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.HcPkg.html"><span class="hs-identifier">Distribution.Simple.Program.HcPkg</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HcPkg</span></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.ResponseFile.html"><span class="hs-identifier">Distribution.Simple.Program.ResponseFile</span></a></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Register.html"><span class="hs-identifier">Distribution.Simple.Register</span></a></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html"><span class="hs-identifier">Distribution.Simple.Setup.Common</span></a></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html"><span class="hs-identifier">Distribution.Simple.Setup.Haddock</span></a></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Hscolour.html"><span class="hs-identifier">Distribution.Simple.Setup.Hscolour</span></a></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.SetupHooks.Internal.html"><span class="hs-identifier">Distribution.Simple.SetupHooks.Internal</span></a></span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Distribution.Simple.SetupHooks.Internal.html#BuildHooks"><span class="hs-identifier">BuildHooks</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.html#BuildingWhat"><span class="hs-identifier">BuildingWhat</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.SetupHooks.Internal.html#noBuildHooks"><span class="hs-identifier">noBuildHooks</span></a></span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.Simple.SetupHooks.Internal.html"><span class="hs-identifier">Distribution.Simple.SetupHooks.Internal</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SetupHooks</span></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="Distribution.Simple.SetupHooks.Rule.html"><span class="hs-identifier">Distribution.Simple.SetupHooks.Rule</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SetupHooks</span></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Utils.html"><span class="hs-identifier">Distribution.Simple.Utils</span></a></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.System.html"><span class="hs-identifier">Distribution.System</span></a></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Types.ComponentLocalBuildInfo.html"><span class="hs-identifier">Distribution.Types.ComponentLocalBuildInfo</span></a></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.ExposedModule.html"><span class="hs-identifier">Distribution.Types.ExposedModule</span></a></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html"><span class="hs-identifier">Distribution.Types.LocalBuildInfo</span></a></span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Types.TargetInfo.html"><span class="hs-identifier">Distribution.Types.TargetInfo</span></a></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html"><span class="hs-identifier">Distribution.Utils.Path</span></a></span><span> </span><span class="hs-keyword">hiding</span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier">Dir</span></a></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html"><span class="hs-identifier">Distribution.Utils.Path</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Path</span></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.ShortText.html"><span class="hs-identifier">Distribution.Utils.ShortText</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ShortText</span></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html"><span class="hs-identifier">Distribution.Verbosity</span></a></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Version.html"><span class="hs-identifier">Distribution.Version</span></a></span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Bool.html"><span class="hs-identifier">Data.Bool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Either.html"><span class="hs-identifier">Data.Either</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">rights</span></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../directory-1.3.9.0-af18/src/System.Directory.html"><span class="hs-identifier">System.Directory</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../directory-1.3.9.0-af18/src/System.Directory.html#doesDirectoryExist"><span class="hs-identifier">doesDirectoryExist</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../directory-1.3.9.0-af18/src/System.Directory.html#doesFileExist"><span class="hs-identifier">doesFileExist</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.html"><span class="hs-identifier">System.FilePath</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.Posix.html#isAbsolute"><span class="hs-identifier">isAbsolute</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.Posix.html#normalise"><span class="hs-identifier">normalise</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/System.IO.html"><span class="hs-identifier">System.IO</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">hClose</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">hPutStrLn</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">hSetEncoding</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">utf8</span></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-comment">-- ------------------------------------------------------------------------------</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- Types</span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-comment">-- | A record that represents the arguments to the haddock executable, a product</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- monoid.</span><span>
</span><span id="line-106"></span><span class="hs-keyword">data</span><span> </span><span id="HaddockArgs"><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-var">HaddockArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="HaddockArgs"><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-var">HaddockArgs</span></a></span></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="argInterfaceFile"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argInterfaceFile"><span class="hs-identifier hs-var hs-var">argInterfaceFile</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Path to the interface file, relative to argOutputDir, required.</span></span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argPackageName"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag PackageIdentifier
</span><a href="Distribution.Simple.Haddock.html#argPackageName"><span class="hs-identifier hs-var hs-var">argPackageName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageId.html#PackageIdentifier"><span class="hs-identifier hs-type">PackageIdentifier</span></a></span><span>
</span><span id="line-110"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Package name, required.</span></span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argComponentName"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argComponentName"><span class="hs-identifier hs-var hs-var">argComponentName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-comment">-- ^ Optional name used to construct haddock's `--package-name` option for</span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-comment">-- various components (tests suites, sublibriaries, etc).</span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argHideModules"><span class="annot"><span class="annottext">HaddockArgs -&gt; (All, [ModuleName])
</span><a href="Distribution.Simple.Haddock.html#argHideModules"><span class="hs-identifier hs-var hs-var">argHideModules</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">All</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.ModuleName.html#ModuleName"><span class="hs-identifier hs-type">ModuleName.ModuleName</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ (Hide modules ?, modules to hide)</span></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argIgnoreExports"><span class="annot"><span class="annottext">HaddockArgs -&gt; Any
</span><a href="Distribution.Simple.Haddock.html#argIgnoreExports"><span class="hs-identifier hs-var hs-var">argIgnoreExports</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Any</span></span><span>
</span><span id="line-117"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Ignore export lists in modules?</span></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argLinkSource"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag (String, String, String)
</span><a href="Distribution.Simple.Haddock.html#argLinkSource"><span class="hs-identifier hs-var hs-var">argLinkSource</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Haddock.html#Template"><span class="hs-identifier hs-type">Template</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Template"><span class="hs-identifier hs-type">Template</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Template"><span class="hs-identifier hs-type">Template</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ (Template for modules, template for symbols, template for lines).</span></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argLinkedSource"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag Bool
</span><a href="Distribution.Simple.Haddock.html#argLinkedSource"><span class="hs-identifier hs-var hs-var">argLinkedSource</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-121"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Generate hyperlinked sources</span></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argQuickJump"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag Bool
</span><a href="Distribution.Simple.Haddock.html#argQuickJump"><span class="hs-identifier hs-var hs-var">argQuickJump</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-123"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Generate quickjump index</span></span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argCssFile"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argCssFile"><span class="hs-identifier hs-var hs-var">argCssFile</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-125"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Optional custom CSS file.</span></span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argContents"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argContents"><span class="hs-identifier hs-var hs-var">argContents</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-127"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Optional URL to contents page.</span></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argGenContents"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag Bool
</span><a href="Distribution.Simple.Haddock.html#argGenContents"><span class="hs-identifier hs-var hs-var">argGenContents</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-129"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Generate contents</span></span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argIndex"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argIndex"><span class="hs-identifier hs-var hs-var">argIndex</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-131"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Optional URL to index page.</span></span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argGenIndex"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag Bool
</span><a href="Distribution.Simple.Haddock.html#argGenIndex"><span class="hs-identifier hs-var hs-var">argGenIndex</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-133"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Generate index</span></span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argBaseUrl"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argBaseUrl"><span class="hs-identifier hs-var hs-var">argBaseUrl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-135"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Optional base url from which static files will be loaded.</span></span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argVerbose"><span class="annot"><span class="annottext">HaddockArgs -&gt; Any
</span><a href="Distribution.Simple.Haddock.html#argVerbose"><span class="hs-identifier hs-var hs-var">argVerbose</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Any</span></span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argOutput"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag [Output]
</span><a href="Distribution.Simple.Haddock.html#argOutput"><span class="hs-identifier hs-var hs-var">argOutput</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Simple.Haddock.html#Output"><span class="hs-identifier hs-type">Output</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-138"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ HTML or Hoogle doc or both? Required.</span></span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argInterfaces"><span class="annot"><span class="annottext">HaddockArgs -&gt; [(String, Maybe String, Maybe String, Visibility)]
</span><a href="Distribution.Simple.Haddock.html#argInterfaces"><span class="hs-identifier hs-var hs-var">argInterfaces</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#Visibility"><span class="hs-identifier hs-type">Visibility</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-140"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ [(Interface file, URL to the HTML docs and hyperlinked-source for links)].</span></span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argOutputDir"><span class="annot"><span class="annottext">HaddockArgs -&gt; Directory
</span><a href="Distribution.Simple.Haddock.html#argOutputDir"><span class="hs-identifier hs-var hs-var">argOutputDir</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Directory"><span class="hs-identifier hs-type">Directory</span></a></span><span>
</span><span id="line-142"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Where to generate the documentation.</span></span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argTitle"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argTitle"><span class="hs-identifier hs-var hs-var">argTitle</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-144"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Page title, required.</span></span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argPrologue"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argPrologue"><span class="hs-identifier hs-var hs-var">argPrologue</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-146"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Prologue text, required for 'haddock', ignored by 'haddocks'.</span></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argPrologueFile"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argPrologueFile"><span class="hs-identifier hs-var hs-var">argPrologueFile</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-148"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Prologue file name, ignored by 'haddock', optional for 'haddocks'.</span></span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argGhcOptions"><span class="annot"><span class="annottext">HaddockArgs -&gt; GhcOptions
</span><a href="Distribution.Simple.Haddock.html#argGhcOptions"><span class="hs-identifier hs-var hs-var">argGhcOptions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.GHC.html#GhcOptions"><span class="hs-identifier hs-type">GhcOptions</span></a></span><span>
</span><span id="line-150"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Additional flags to pass to GHC.</span></span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argGhcLibDir"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argGhcLibDir"><span class="hs-identifier hs-var hs-var">argGhcLibDir</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-152"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ To find the correct GHC, required.</span></span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argReexports"><span class="annot"><span class="annottext">HaddockArgs -&gt; [OpenModule]
</span><a href="Distribution.Simple.Haddock.html#argReexports"><span class="hs-identifier hs-var hs-var">argReexports</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Backpack.html#OpenModule"><span class="hs-identifier hs-type">OpenModule</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-154"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Re-exported modules</span></span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argTargets"><span class="annot"><span class="annottext">HaddockArgs -&gt; [String]
</span><a href="Distribution.Simple.Haddock.html#argTargets"><span class="hs-identifier hs-var hs-var">argTargets</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">]</span><span>
</span><span id="line-156"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Modules to process.</span></span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argResourcesDir"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argResourcesDir"><span class="hs-identifier hs-var hs-var">argResourcesDir</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-158"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ haddock's static \/ auxiliary files.</span></span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="argUseUnicode"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag Bool
</span><a href="Distribution.Simple.Haddock.html#argUseUnicode"><span class="hs-identifier hs-var hs-var">argUseUnicode</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-160"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ haddock's `--use-unicode` flag</span></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679570588"><span id="local-6989586621679570590"><span class="annot"><span class="annottext">(forall x. HaddockArgs -&gt; Rep HaddockArgs x)
-&gt; (forall x. Rep HaddockArgs x -&gt; HaddockArgs)
-&gt; Generic HaddockArgs
forall x. Rep HaddockArgs x -&gt; HaddockArgs
forall x. HaddockArgs -&gt; Rep HaddockArgs x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. HaddockArgs -&gt; Rep HaddockArgs x
from :: forall x. HaddockArgs -&gt; Rep HaddockArgs x
$cto :: forall x. Rep HaddockArgs x -&gt; HaddockArgs
to :: forall x. Rep HaddockArgs x -&gt; HaddockArgs
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="annot"><span class="hs-comment">-- | The FilePath of a directory, it's a monoid under '(&lt;/&gt;)'.</span></span><span>
</span><span id="line-165"></span><span class="hs-keyword">newtype</span><span> </span><span id="Directory"><span class="annot"><a href="Distribution.Simple.Haddock.html#Directory"><span class="hs-identifier hs-var">Directory</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Dir"><span class="annot"><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-var">Dir</span></a></span></span><span> </span><span class="hs-special">{</span><span id="unDir%27"><span class="annot"><span class="annottext">Directory -&gt; String
</span><a href="Distribution.Simple.Haddock.html#unDir%27"><span class="hs-identifier hs-var hs-var">unDir'</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679570599"><span id="local-6989586621679570603"><span id="local-6989586621679570606"><span id="local-6989586621679570617"><span class="annot"><span class="annottext">ReadPrec [Directory]
ReadPrec Directory
Int -&gt; ReadS Directory
ReadS [Directory]
(Int -&gt; ReadS Directory)
-&gt; ReadS [Directory]
-&gt; ReadPrec Directory
-&gt; ReadPrec [Directory]
-&gt; Read Directory
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS Directory
readsPrec :: Int -&gt; ReadS Directory
$creadList :: ReadS [Directory]
readList :: ReadS [Directory]
$creadPrec :: ReadPrec Directory
readPrec :: ReadPrec Directory
$creadListPrec :: ReadPrec [Directory]
readListPrec :: ReadPrec [Directory]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679570625"><span id="local-6989586621679570632"><span id="local-6989586621679570636"><span class="annot"><span class="annottext">Int -&gt; Directory -&gt; ShowS
[Directory] -&gt; ShowS
Directory -&gt; String
(Int -&gt; Directory -&gt; ShowS)
-&gt; (Directory -&gt; String)
-&gt; ([Directory] -&gt; ShowS)
-&gt; Show Directory
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Directory -&gt; ShowS
showsPrec :: Int -&gt; Directory -&gt; ShowS
$cshow :: Directory -&gt; String
show :: Directory -&gt; String
$cshowList :: [Directory] -&gt; ShowS
showList :: [Directory] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679570642"><span id="local-6989586621679570648"><span class="annot"><span class="annottext">Directory -&gt; Directory -&gt; Bool
(Directory -&gt; Directory -&gt; Bool)
-&gt; (Directory -&gt; Directory -&gt; Bool) -&gt; Eq Directory
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Directory -&gt; Directory -&gt; Bool
== :: Directory -&gt; Directory -&gt; Bool
$c/= :: Directory -&gt; Directory -&gt; Bool
/= :: Directory -&gt; Directory -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679570659"><span id="local-6989586621679570665"><span id="local-6989586621679570670"><span id="local-6989586621679570675"><span id="local-6989586621679570680"><span id="local-6989586621679570685"><span id="local-6989586621679570690"><span class="annot"><span class="annottext">Eq Directory
Eq Directory =&gt;
(Directory -&gt; Directory -&gt; Ordering)
-&gt; (Directory -&gt; Directory -&gt; Bool)
-&gt; (Directory -&gt; Directory -&gt; Bool)
-&gt; (Directory -&gt; Directory -&gt; Bool)
-&gt; (Directory -&gt; Directory -&gt; Bool)
-&gt; (Directory -&gt; Directory -&gt; Directory)
-&gt; (Directory -&gt; Directory -&gt; Directory)
-&gt; Ord Directory
Directory -&gt; Directory -&gt; Bool
Directory -&gt; Directory -&gt; Ordering
Directory -&gt; Directory -&gt; Directory
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Directory -&gt; Directory -&gt; Ordering
compare :: Directory -&gt; Directory -&gt; Ordering
$c&lt; :: Directory -&gt; Directory -&gt; Bool
&lt; :: Directory -&gt; Directory -&gt; Bool
$c&lt;= :: Directory -&gt; Directory -&gt; Bool
&lt;= :: Directory -&gt; Directory -&gt; Bool
$c&gt; :: Directory -&gt; Directory -&gt; Bool
&gt; :: Directory -&gt; Directory -&gt; Bool
$c&gt;= :: Directory -&gt; Directory -&gt; Bool
&gt;= :: Directory -&gt; Directory -&gt; Bool
$cmax :: Directory -&gt; Directory -&gt; Directory
max :: Directory -&gt; Directory -&gt; Directory
$cmin :: Directory -&gt; Directory -&gt; Directory
min :: Directory -&gt; Directory -&gt; Directory
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span class="hs-comment">-- NB: only correct at the top-level, after we have combined monoidally</span><span>
</span><span id="line-168"></span><span class="hs-comment">-- the top-level output directory with the component subdir.</span><span>
</span><span id="line-169"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#unDir"><span class="hs-identifier hs-type">unDir</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Directory"><span class="hs-identifier hs-type">Directory</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span id="unDir"><span class="annot"><span class="annottext">unDir :: Directory -&gt; SymbolicPath Pkg ('Dir Artifacts)
</span><a href="Distribution.Simple.Haddock.html#unDir"><span class="hs-identifier hs-var hs-var">unDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SymbolicPath Pkg ('Dir Artifacts)
forall from (to :: FileOrDir). String -&gt; SymbolicPath from to
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#makeSymbolicPath"><span class="hs-identifier hs-var">makeSymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymbolicPath Pkg ('Dir Artifacts))
-&gt; (Directory -&gt; String)
-&gt; Directory
-&gt; SymbolicPath Pkg ('Dir Artifacts)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.Posix.html#normalise"><span class="hs-identifier hs-var">normalise</span></a></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; (Directory -&gt; String) -&gt; Directory -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Directory -&gt; String
</span><a href="Distribution.Simple.Haddock.html#unDir%27"><span class="hs-identifier hs-var">unDir'</span></a></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="hs-keyword">type</span><span> </span><span id="Template"><span class="annot"><a href="Distribution.Simple.Haddock.html#Template"><span class="hs-identifier hs-var">Template</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="hs-keyword">data</span><span> </span><span id="Output"><span class="annot"><a href="Distribution.Simple.Haddock.html#Output"><span class="hs-identifier hs-var">Output</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Html"><span class="annot"><a href="Distribution.Simple.Haddock.html#Html"><span class="hs-identifier hs-var">Html</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Hoogle"><span class="annot"><a href="Distribution.Simple.Haddock.html#Hoogle"><span class="hs-identifier hs-var">Hoogle</span></a></span></span><span>
</span><span id="line-175"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679570709"><span id="local-6989586621679570714"><span class="annot"><span class="annottext">Output -&gt; Output -&gt; Bool
(Output -&gt; Output -&gt; Bool)
-&gt; (Output -&gt; Output -&gt; Bool) -&gt; Eq Output
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Output -&gt; Output -&gt; Bool
== :: Output -&gt; Output -&gt; Bool
$c/= :: Output -&gt; Output -&gt; Bool
/= :: Output -&gt; Output -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-comment">-- ------------------------------------------------------------------------------</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- Haddock support</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="annot"><span class="hs-comment">-- | Get Haddock program and check if it matches the request</span></span><span>
</span><span id="line-181"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#getHaddockProg"><span class="hs-identifier hs-type">getHaddockProg</span></a></span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Db.html#ProgramDb"><span class="hs-identifier hs-type">ProgramDb</span></a></span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Compiler.html#Compiler"><span class="hs-identifier hs-type">Compiler</span></a></span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ quickjump feature</span></span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Program.Types.html#ConfiguredProgram"><span class="hs-identifier hs-type">ConfiguredProgram</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#Version"><span class="hs-identifier hs-type">Version</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span id="getHaddockProg"><span class="annot"><span class="annottext">getHaddockProg :: Verbosity
-&gt; ProgramDb
-&gt; Compiler
-&gt; HaddockArgs
-&gt; Flag Bool
-&gt; IO (ConfiguredProgram, Version)
</span><a href="Distribution.Simple.Haddock.html#getHaddockProg"><span class="hs-identifier hs-var hs-var">getHaddockProg</span></a></span></span><span> </span><span id="local-6989586621679570718"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570718"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679570719"><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679570719"><span class="hs-identifier hs-var">programDb</span></a></span></span><span> </span><span id="local-6989586621679570720"><span class="annot"><span class="annottext">Compiler
</span><a href="#local-6989586621679570720"><span class="hs-identifier hs-var">comp</span></a></span></span><span> </span><span id="local-6989586621679570721"><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679570721"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621679570722"><span class="annot"><span class="annottext">Flag Bool
</span><a href="#local-6989586621679570722"><span class="hs-identifier hs-var">quickJumpFlag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-190"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-191"></span><span>        </span><span class="hs-special">{</span><span> </span><span id="local-6989586621679570723"><span class="annot"><span class="annottext">Flag Bool
argQuickJump :: HaddockArgs -&gt; Flag Bool
argQuickJump :: Flag Bool
</span><a href="Distribution.Simple.Haddock.html#argQuickJump"><span class="hs-identifier hs-var hs-var hs-var">argQuickJump</span></a></span></span><span>
</span><span id="line-192"></span><span>        </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679570724"><span class="annot"><span class="annottext">Flag [Output]
argOutput :: HaddockArgs -&gt; Flag [Output]
argOutput :: Flag [Output]
</span><a href="Distribution.Simple.Haddock.html#argOutput"><span class="hs-identifier hs-var hs-var hs-var">argOutput</span></a></span></span><span>
</span><span id="line-193"></span><span>        </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679570721"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-194"></span><span>      </span><span id="local-6989586621679570727"><span class="annot"><span class="annottext">hoogle :: Bool
</span><a href="#local-6989586621679570727"><span class="hs-identifier hs-var hs-var hs-var">hoogle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Output
</span><a href="Distribution.Simple.Haddock.html#Hoogle"><span class="hs-identifier hs-var">Hoogle</span></a></span><span> </span><span class="annot"><span class="annottext">Output -&gt; [Output] -&gt; Bool
forall a. Eq a =&gt; a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[Output] -&gt; Flag [Output] -&gt; [Output]
forall a. a -&gt; Flag a -&gt; a
</span><a href="Distribution.Simple.Flag.html#fromFlagOrDefault"><span class="hs-identifier hs-var">fromFlagOrDefault</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Flag [Output]
</span><a href="#local-6989586621679570724"><span class="hs-identifier hs-var">argOutput</span></a></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679570730"><span class="annot"><a href="#local-6989586621679570730"><span class="hs-identifier hs-var">haddockProg</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679570731"><span class="annot"><a href="#local-6989586621679570731"><span class="hs-identifier hs-var">version</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-197"></span><span>    </span><span class="annot"><span class="annottext">Verbosity
-&gt; Program
-&gt; VersionRange
-&gt; ProgramDb
-&gt; IO (ConfiguredProgram, Version, ProgramDb)
</span><a href="Distribution.Simple.Program.Db.html#requireProgramVersion"><span class="hs-identifier hs-var">requireProgramVersion</span></a></span><span>
</span><span id="line-198"></span><span>      </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570718"><span class="hs-identifier hs-var">verbosity</span></a></span><span>
</span><span id="line-199"></span><span>      </span><span class="annot"><span class="annottext">Program
</span><a href="Distribution.Simple.Program.Builtin.html#haddockProgram"><span class="hs-identifier hs-var">haddockProgram</span></a></span><span>
</span><span id="line-200"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Version -&gt; VersionRange
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.VersionRange.Internal.html#orLaterVersion"><span class="hs-identifier hs-var">orLaterVersion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int] -&gt; Version
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#mkVersion"><span class="hs-identifier hs-var">mkVersion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>      </span><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679570719"><span class="hs-identifier hs-var">programDb</span></a></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span>  </span><span class="hs-comment">-- various sanity checks</span><span>
</span><span id="line-204"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679570727"><span class="hs-identifier hs-type">hoogle</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&amp;&amp;</span></span><span> </span><span class="annot"><a href="#local-6989586621679570731"><span class="hs-identifier hs-type">version</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#mkVersion"><span class="hs-identifier hs-type">mkVersion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-205"></span><span>    </span><span class="annot"><a href="Distribution.Simple.Utils.html#dieWithException"><span class="hs-identifier hs-type">dieWithException</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570718"><span class="hs-identifier hs-type">verbosity</span></a></span><span> </span><span class="annot"><a href="Distribution.Simple.Errors.html#NoSupportForHoogle"><span class="hs-identifier hs-type">NoSupportForHoogle</span></a></span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-type">fromFlag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570723"><span class="hs-identifier hs-type">argQuickJump</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&amp;&amp;</span></span><span> </span><span class="annot"><a href="#local-6989586621679570731"><span class="hs-identifier hs-type">version</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#mkVersion"><span class="hs-identifier hs-type">mkVersion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">19</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-208"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679570741"><span class="annot"><a href="#local-6989586621679570741"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Haddock prior to 2.19 does not support the --quickjump flag.&quot;</span></span><span>
</span><span id="line-209"></span><span>        </span><span id="local-6989586621679570742"><span class="annot"><a href="#local-6989586621679570742"><span class="hs-identifier hs-var hs-var">alt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The generated documentation won't have the QuickJump feature.&quot;</span></span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">==</span></span><span> </span><span class="annot"><a href="#local-6989586621679570722"><span class="hs-identifier hs-type">quickJumpFlag</span></a></span><span>
</span><span id="line-211"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="Distribution.Simple.Utils.html#dieWithException"><span class="hs-identifier hs-type">dieWithException</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570718"><span class="hs-identifier hs-type">verbosity</span></a></span><span> </span><span class="annot"><a href="Distribution.Simple.Errors.html#NoSupportForQuickJumpFlag"><span class="hs-identifier hs-type">NoSupportForQuickJumpFlag</span></a></span><span>
</span><span id="line-212"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="Distribution.Simple.Utils.html#warn"><span class="hs-identifier hs-type">warn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570718"><span class="hs-identifier hs-type">verbosity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679570741"><span class="hs-identifier hs-type">msg</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621679570742"><span class="hs-identifier hs-type">alt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span>  </span><span id="local-6989586621679570746"><span class="annot"><a href="#local-6989586621679570746"><span class="hs-identifier hs-var">haddockGhcVersionStr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-215"></span><span>    </span><span class="annot"><a href="Distribution.Simple.Program.html#getProgramOutput"><span class="hs-identifier hs-type">getProgramOutput</span></a></span><span>
</span><span id="line-216"></span><span>      </span><span class="annot"><a href="#local-6989586621679570718"><span class="hs-identifier hs-type">verbosity</span></a></span><span>
</span><span id="line-217"></span><span>      </span><span class="annot"><a href="#local-6989586621679570730"><span class="hs-identifier hs-type">haddockProg</span></a></span><span>
</span><span id="line-218"></span><span>      </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;--ghc-version&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Parsec.html#simpleParsec"><span class="hs-identifier hs-type">simpleParsec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570746"><span class="hs-identifier hs-type">haddockGhcVersionStr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Compiler.html#compilerCompatVersion"><span class="hs-identifier hs-type">compilerCompatVersion</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Compiler.html#GHC"><span class="hs-identifier hs-type">GHC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570720"><span class="hs-identifier hs-type">comp</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-220"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Version
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Version
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; CabalException -&gt; IO ()
forall a1 a.
(HasCallStack, Show a1, Typeable a1,
 Exception (VerboseException a1)) =&gt;
Verbosity -&gt; a1 -&gt; IO a
</span><a href="Distribution.Simple.Utils.html#dieWithException"><span class="hs-identifier hs-var">dieWithException</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570718"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">CabalException
</span><a href="Distribution.Simple.Errors.html#NoGHCVersionFromHaddock"><span class="hs-identifier hs-var">NoGHCVersionFromHaddock</span></a></span><span>
</span><span id="line-221"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Version
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Version
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; CabalException -&gt; IO ()
forall a1 a.
(HasCallStack, Show a1, Typeable a1,
 Exception (VerboseException a1)) =&gt;
Verbosity -&gt; a1 -&gt; IO a
</span><a href="Distribution.Simple.Utils.html#dieWithException"><span class="hs-identifier hs-var">dieWithException</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570718"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">CabalException
</span><a href="Distribution.Simple.Errors.html#NoGHCVersionFromCompiler"><span class="hs-identifier hs-var">NoGHCVersionFromCompiler</span></a></span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679570752"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679570752"><span class="hs-identifier hs-var">haddockGhcVersion</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679570753"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679570753"><span class="hs-identifier hs-var">ghcVersion</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679570752"><span class="hs-identifier hs-var">haddockGhcVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Version -&gt; Version -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679570753"><span class="hs-identifier hs-var">ghcVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; CabalException -&gt; IO ()
forall a1 a.
(HasCallStack, Show a1, Typeable a1,
 Exception (VerboseException a1)) =&gt;
Verbosity -&gt; a1 -&gt; IO a
</span><a href="Distribution.Simple.Utils.html#dieWithException"><span class="hs-identifier hs-var">dieWithException</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570718"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">(CabalException -&gt; IO ()) -&gt; CabalException -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Version -&gt; Version -&gt; CabalException
</span><a href="Distribution.Simple.Errors.html#HaddockAndGHCVersionDoesntMatch"><span class="hs-identifier hs-var">HaddockAndGHCVersionDoesntMatch</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679570753"><span class="hs-identifier hs-var">ghcVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679570752"><span class="hs-identifier hs-var">haddockGhcVersion</span></a></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679570730"><span class="hs-identifier hs-type">haddockProg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679570731"><span class="hs-identifier hs-type">version</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#haddock"><span class="hs-identifier hs-type">haddock</span></a></span><span>
</span><span id="line-229"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Simple.PreProcess.html#PPSuffixHandler"><span class="hs-identifier hs-type">PPSuffixHandler</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockFlags"><span class="hs-identifier hs-type">HaddockFlags</span></a></span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span id="haddock"><span class="annot"><span class="annottext">haddock :: PackageDescription
-&gt; LocalBuildInfo -&gt; [PPSuffixHandler] -&gt; HaddockFlags -&gt; IO ()
</span><a href="Distribution.Simple.Haddock.html#haddock"><span class="hs-identifier hs-var hs-var">haddock</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuildHooks
-&gt; PackageDescription
-&gt; LocalBuildInfo
-&gt; [PPSuffixHandler]
-&gt; HaddockFlags
-&gt; IO ()
</span><a href="Distribution.Simple.Haddock.html#haddock_setupHooks"><span class="hs-identifier hs-var">haddock_setupHooks</span></a></span><span> </span><span class="annot"><span class="annottext">BuildHooks
</span><a href="Distribution.Simple.SetupHooks.Internal.html#noBuildHooks"><span class="hs-identifier hs-var">noBuildHooks</span></a></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#haddock_setupHooks"><span class="hs-identifier hs-type">haddock_setupHooks</span></a></span><span>
</span><span id="line-237"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.SetupHooks.Internal.html#BuildHooks"><span class="hs-identifier hs-type">BuildHooks</span></a></span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-239"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-240"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Simple.PreProcess.html#PPSuffixHandler"><span class="hs-identifier hs-type">PPSuffixHandler</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-241"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockFlags"><span class="hs-identifier hs-type">HaddockFlags</span></a></span><span>
</span><span id="line-242"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span id="haddock_setupHooks"><span class="annot"><span class="annottext">haddock_setupHooks :: BuildHooks
-&gt; PackageDescription
-&gt; LocalBuildInfo
-&gt; [PPSuffixHandler]
-&gt; HaddockFlags
-&gt; IO ()
</span><a href="Distribution.Simple.Haddock.html#haddock_setupHooks"><span class="hs-identifier hs-var hs-var">haddock_setupHooks</span></a></span></span><span>
</span><span id="line-244"></span><span>  </span><span class="annot"><span class="annottext">BuildHooks
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-245"></span><span>  </span><span id="local-6989586621679570755"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570755"><span class="hs-identifier hs-var">pkg_descr</span></a></span></span><span>
</span><span id="line-246"></span><span>  </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-247"></span><span>  </span><span class="annot"><span class="annottext">[PPSuffixHandler]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-248"></span><span>  </span><span id="local-6989586621679570756"><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570756"><span class="hs-identifier hs-var">haddockFlags</span></a></span></span><span>
</span><span id="line-249"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; Bool
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#hasLibs"><span class="hs-identifier hs-var">hasLibs</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570755"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Flag Bool -&gt; Bool
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag Bool -&gt; Bool) -&gt; Flag Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockExecutables"><span class="hs-identifier hs-var">haddockExecutables</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570756"><span class="hs-identifier hs-var">haddockFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Flag Bool -&gt; Bool
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag Bool -&gt; Bool) -&gt; Flag Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockTestSuites"><span class="hs-identifier hs-var">haddockTestSuites</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570756"><span class="hs-identifier hs-var">haddockFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Flag Bool -&gt; Bool
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag Bool -&gt; Bool) -&gt; Flag Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockBenchmarks"><span class="hs-identifier hs-var">haddockBenchmarks</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570756"><span class="hs-identifier hs-var">haddockFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-253"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Flag Bool -&gt; Bool
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag Bool -&gt; Bool) -&gt; Flag Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockForeignLibs"><span class="hs-identifier hs-var">haddockForeignLibs</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570756"><span class="hs-identifier hs-var">haddockFlags</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-254"></span><span>        </span><span class="annot"><span class="annottext">Verbosity -&gt; String -&gt; IO ()
</span><a href="Distribution.Simple.Utils.html#warn"><span class="hs-identifier hs-var">warn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Flag Verbosity -&gt; Verbosity
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag Verbosity -&gt; Verbosity) -&gt; Flag Verbosity -&gt; Verbosity
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CommonSetupFlags -&gt; Flag Verbosity
</span><a href="Distribution.Simple.Setup.Common.html#setupVerbosity"><span class="hs-identifier hs-var">setupVerbosity</span></a></span><span> </span><span class="annot"><span class="annottext">(CommonSetupFlags -&gt; Flag Verbosity)
-&gt; CommonSetupFlags -&gt; Flag Verbosity
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; CommonSetupFlags
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockCommonFlags"><span class="hs-identifier hs-var">haddockCommonFlags</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570756"><span class="hs-identifier hs-var">haddockFlags</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-255"></span><span>          </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;No documentation was generated as this package does not contain &quot;</span></span><span>
</span><span id="line-256"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;a library. Perhaps you want to use the --executables, --tests,&quot;</span></span><span>
</span><span id="line-257"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; --benchmarks or --foreign-libraries flags.&quot;</span></span><span>
</span><span id="line-258"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#haddock_setupHooks"><span class="hs-identifier hs-var">haddock_setupHooks</span></a></span><span>
</span><span id="line-259"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.SetupHooks.Internal.html#BuildHooks"><span class="hs-identifier hs-type">BuildHooks</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">preBuildComponentRules :: BuildHooks -&gt; Maybe PreBuildComponentRules
</span><a href="Distribution.Simple.SetupHooks.Internal.html#preBuildComponentRules"><span class="hs-identifier hs-var">preBuildComponentRules</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679570767"><span class="annot"><span class="annottext">Maybe PreBuildComponentRules
</span><a href="#local-6989586621679570767"><span class="hs-identifier hs-var">mbPbcRules</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>  </span><span id="local-6989586621679570768"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span></span><span>
</span><span id="line-261"></span><span>  </span><span id="local-6989586621679570769"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570769"><span class="hs-identifier hs-var">lbi</span></a></span></span><span>
</span><span id="line-262"></span><span>  </span><span id="local-6989586621679570770"><span class="annot"><span class="annottext">[PPSuffixHandler]
</span><a href="#local-6989586621679570770"><span class="hs-identifier hs-var">suffixes</span></a></span></span><span>
</span><span id="line-263"></span><span>  </span><span id="local-6989586621679570771"><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570771"><span class="hs-identifier hs-var">flags'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-264"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679570774"><span class="annot"><span class="annottext">verbosity :: Verbosity
</span><a href="#local-6989586621679570774"><span class="hs-identifier hs-var hs-var hs-var">verbosity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Flag Verbosity -&gt; Verbosity
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag Verbosity -&gt; Verbosity) -&gt; Flag Verbosity -&gt; Verbosity
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Verbosity
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockVerbosity"><span class="hs-identifier hs-var">haddockVerbosity</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570776"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-265"></span><span>        </span><span id="local-6989586621679570777"><span class="annot"><span class="annottext">mbWorkDir :: Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679570777"><span class="hs-identifier hs-var hs-var hs-var">mbWorkDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Flag (SymbolicPath CWD ('Dir Pkg))
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag (SymbolicPath CWD ('Dir Pkg))
 -&gt; Maybe (SymbolicPath CWD ('Dir Pkg)))
-&gt; Flag (SymbolicPath CWD ('Dir Pkg))
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag (SymbolicPath CWD ('Dir Pkg))
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockWorkingDir"><span class="hs-identifier hs-var">haddockWorkingDir</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570776"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-266"></span><span>        </span><span id="local-6989586621679570780"><span class="annot"><span class="annottext">comp :: Compiler
</span><a href="#local-6989586621679570780"><span class="hs-identifier hs-var hs-var hs-var">comp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; Compiler
</span><a href="Distribution.Types.LocalBuildInfo.html#compiler"><span class="hs-identifier hs-var">compiler</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570769"><span class="hs-identifier hs-var">lbi</span></a></span><span>
</span><span id="line-267"></span><span>        </span><span id="local-6989586621679570782"><span class="annot"><span class="annottext">platform :: Platform
</span><a href="#local-6989586621679570782"><span class="hs-identifier hs-var hs-var hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; Platform
</span><a href="Distribution.Types.LocalBuildInfo.html#hostPlatform"><span class="hs-identifier hs-var">hostPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570769"><span class="hs-identifier hs-var">lbi</span></a></span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span>        </span><span id="local-6989586621679570784"><span class="annot"><span class="annottext">quickJmpFlag :: Flag Bool
</span><a href="#local-6989586621679570784"><span class="hs-identifier hs-var hs-var hs-var">quickJmpFlag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockQuickJump"><span class="hs-identifier hs-var">haddockQuickJump</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570771"><span class="hs-identifier hs-var">flags'</span></a></span><span>
</span><span id="line-270"></span><span>        </span><span id="local-6989586621679570776"><span class="annot"><span class="annottext">flags :: HaddockFlags
</span><a href="#local-6989586621679570776"><span class="hs-identifier hs-var hs-var hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679570786"><span class="hs-identifier hs-var">haddockTarget</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-271"></span><span>          </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="Distribution.Simple.Setup.Haddock.html#ForDevelopment"><span class="hs-identifier hs-var">ForDevelopment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570771"><span class="hs-identifier hs-var">flags'</span></a></span><span>
</span><span id="line-272"></span><span>          </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="Distribution.Simple.Setup.Haddock.html#ForHackage"><span class="hs-identifier hs-var">ForHackage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-273"></span><span>            </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570771"><span class="hs-identifier hs-var">flags'</span></a></span><span>
</span><span id="line-274"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockHoogle"><span class="hs-identifier hs-var">haddockHoogle</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-275"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockHtml"><span class="hs-identifier hs-var">haddockHtml</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-276"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockHtmlLocation"><span class="hs-identifier hs-var">haddockHtmlLocation</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679570792"><span class="hs-identifier hs-type">pkg_url</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/docs&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockContents"><span class="hs-identifier hs-var">haddockContents</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#toPathTemplate"><span class="hs-identifier hs-type">toPathTemplate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570792"><span class="hs-identifier hs-type">pkg_url</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-278"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockLinkedSource"><span class="hs-identifier hs-var">haddockLinkedSource</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-279"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockQuickJump"><span class="hs-identifier hs-var">haddockQuickJump</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-280"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-281"></span><span>        </span><span id="local-6989586621679570792"><span class="annot"><span class="annottext">pkg_url :: String
</span><a href="#local-6989586621679570792"><span class="hs-identifier hs-var hs-var hs-var">pkg_url</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;/package/$pkg-$version&quot;</span></span><span>
</span><span id="line-282"></span><span>        </span><span id="local-6989586621679570798"><span class="annot"><span class="annottext">flag :: (HaddockFlags -&gt; Flag b) -&gt; b
</span><a href="#local-6989586621679570798"><span class="hs-identifier hs-var hs-var hs-var">flag</span></a></span></span><span> </span><span id="local-6989586621679570799"><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag b
</span><a href="#local-6989586621679570799"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Flag b -&gt; b
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag b -&gt; b) -&gt; Flag b -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag b
</span><a href="#local-6989586621679570799"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570776"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span>        </span><span id="local-6989586621679570800"><span class="annot"><span class="annottext">tmpFileOpts :: TempFileOptions
</span><a href="#local-6989586621679570800"><span class="hs-identifier hs-var hs-var hs-var">tmpFileOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-285"></span><span>          </span><span class="annot"><span class="annottext">TempFileOptions
</span><a href="Distribution.Simple.Utils.html#defaultTempFileOptions"><span class="hs-identifier hs-var">defaultTempFileOptions</span></a></span><span>
</span><span id="line-286"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Utils.html#optKeepTempFiles"><span class="hs-identifier hs-var">optKeepTempFiles</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679570798"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockKeepTempFiles"><span class="hs-identifier hs-var">haddockKeepTempFiles</span></a></span><span>
</span><span id="line-287"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-288"></span><span>        </span><span id="local-6989586621679570806"><span class="annot"><span class="annottext">htmlTemplate :: Maybe PathTemplate
</span><a href="#local-6989586621679570806"><span class="hs-identifier hs-var hs-var hs-var">htmlTemplate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-289"></span><span>          </span><span class="annot"><span class="annottext">(String -&gt; PathTemplate) -&gt; Maybe String -&gt; Maybe PathTemplate
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; PathTemplate
</span><a href="Distribution.Simple.InstallDirs.html#toPathTemplate"><span class="hs-identifier hs-var">toPathTemplate</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe String -&gt; Maybe PathTemplate)
-&gt; (HaddockFlags -&gt; Maybe String)
-&gt; HaddockFlags
-&gt; Maybe PathTemplate
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Flag String -&gt; Maybe String
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag String -&gt; Maybe String)
-&gt; (HaddockFlags -&gt; Flag String) -&gt; HaddockFlags -&gt; Maybe String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag String
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockHtmlLocation"><span class="hs-identifier hs-var">haddockHtmlLocation</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockFlags -&gt; Maybe PathTemplate)
-&gt; HaddockFlags -&gt; Maybe PathTemplate
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-290"></span><span>            </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570776"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-291"></span><span>        </span><span id="local-6989586621679570786"><span class="annot"><span class="annottext">haddockTarget :: HaddockTarget
</span><a href="#local-6989586621679570786"><span class="hs-identifier hs-var hs-var hs-var">haddockTarget</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-292"></span><span>          </span><span class="annot"><span class="annottext">HaddockTarget -&gt; Flag HaddockTarget -&gt; HaddockTarget
forall a. a -&gt; Flag a -&gt; a
</span><a href="Distribution.Simple.Flag.html#fromFlagOrDefault"><span class="hs-identifier hs-var">fromFlagOrDefault</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="Distribution.Simple.Setup.Haddock.html#ForDevelopment"><span class="hs-identifier hs-var">ForDevelopment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag HaddockTarget
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockForHackage"><span class="hs-identifier hs-var">haddockForHackage</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570771"><span class="hs-identifier hs-var">flags'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span>    </span><span id="local-6989586621679570808"><span class="annot"><a href="#local-6989586621679570808"><span class="hs-identifier hs-var">libdirArgs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; LocalBuildInfo -&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#getGhcLibDir"><span class="hs-identifier hs-var">getGhcLibDir</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570774"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570769"><span class="hs-identifier hs-var">lbi</span></a></span><span>
</span><span id="line-295"></span><span>    </span><span class="hs-comment">-- The haddock-output-dir flag overrides any other documentation placement concerns.</span><span>
</span><span id="line-296"></span><span>    </span><span class="hs-comment">-- The point is to give the user full freedom over the location if they need it.</span><span>
</span><span id="line-297"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679570810"><span class="annot"><a href="#local-6989586621679570810"><span class="hs-identifier hs-var hs-var">overrideWithOutputDir</span></a></span></span><span> </span><span id="local-6989586621679570811"><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679570811"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag String
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockOutputDir"><span class="hs-identifier hs-var">haddockOutputDir</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570776"><span class="hs-identifier hs-var">flags</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-298"></span><span>          </span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679570811"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-299"></span><span>          </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679570814"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679570814"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679570811"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">{</span><span class="annot"><a href="Distribution.Simple.Haddock.html#argOutputDir"><span class="hs-identifier hs-var">argOutputDir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570814"><span class="hs-identifier hs-type">dir</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-300"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679570817"><span class="annot"><a href="#local-6989586621679570817"><span class="hs-identifier hs-var hs-var">commonArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-301"></span><span>          </span><span class="annot"><span class="annottext">HaddockArgs -&gt; HaddockArgs
</span><a href="#local-6989586621679570810"><span class="hs-identifier hs-var">overrideWithOutputDir</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; HaddockArgs) -&gt; HaddockArgs -&gt; HaddockArgs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-302"></span><span>            </span><span class="annot"><span class="annottext">[HaddockArgs] -&gt; HaddockArgs
forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span>
</span><span id="line-303"></span><span>              </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679570808"><span class="hs-identifier hs-var">libdirArgs</span></a></span><span>
</span><span id="line-304"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PathTemplateEnv -&gt; HaddockFlags -&gt; HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromFlags"><span class="hs-identifier hs-var">fromFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; PackageIdentifier -&gt; PathTemplateEnv
</span><a href="Distribution.Simple.Haddock.html#haddockTemplateEnv"><span class="hs-identifier hs-var">haddockTemplateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570769"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; PackageIdentifier
forall pkg. Package pkg =&gt; pkg -&gt; PackageIdentifier
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Package.html#packageId"><span class="hs-identifier hs-var">packageId</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570776"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-305"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HaddockTarget -&gt; PackageDescription -&gt; HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromPackageDescription"><span class="hs-identifier hs-var">fromPackageDescription</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679570786"><span class="hs-identifier hs-var">haddockTarget</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span>
</span><span id="line-306"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679570822"><span class="annot"><a href="#local-6989586621679570822"><span class="hs-identifier hs-var">haddockProg</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679570823"><span class="annot"><a href="#local-6989586621679570823"><span class="hs-identifier hs-var">version</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-309"></span><span>      </span><span class="annot"><a href="Distribution.Simple.Haddock.html#getHaddockProg"><span class="hs-identifier hs-type">getHaddockProg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570774"><span class="hs-identifier hs-type">verbosity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#withPrograms"><span class="hs-identifier hs-var">withPrograms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570769"><span class="hs-identifier hs-type">lbi</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679570780"><span class="hs-identifier hs-type">comp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570817"><span class="hs-identifier hs-type">commonArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570784"><span class="hs-identifier hs-type">quickJmpFlag</span></a></span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span>    </span><span class="hs-comment">-- We fall back to using HsColour only for versions of Haddock which don't</span><span>
</span><span id="line-312"></span><span>    </span><span class="hs-comment">-- support '--hyperlinked-sources'.</span><span>
</span><span id="line-313"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679570826"><span class="annot"><a href="#local-6989586621679570826"><span class="hs-identifier hs-var hs-var">using_hscolour</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HaddockFlags -&gt; Flag Bool) -&gt; Bool
forall {b}. (HaddockFlags -&gt; Flag b) -&gt; b
</span><a href="#local-6989586621679570798"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockLinkedSource"><span class="hs-identifier hs-var">haddockLinkedSource</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679570823"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">Version -&gt; Version -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Version
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#mkVersion"><span class="hs-identifier hs-var">mkVersion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">17</span></span><span class="hs-special">]</span><span>
</span><span id="line-314"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">when</span></span><span> </span><span class="annot"><a href="#local-6989586621679570826"><span class="hs-identifier hs-type">using_hscolour</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-315"></span><span>      </span><span class="annot"><a href="Distribution.Simple.Haddock.html#hscolour%27"><span class="hs-identifier hs-type">hscolour'</span></a></span><span>
</span><span id="line-316"></span><span>        </span><span class="annot"><a href="Distribution.Simple.SetupHooks.Internal.html#noBuildHooks"><span class="hs-identifier hs-type">noBuildHooks</span></a></span><span>
</span><span id="line-317"></span><span>        </span><span class="hs-comment">-- NB: we are not passing the user BuildHooks here,</span><span>
</span><span id="line-318"></span><span>        </span><span class="hs-comment">-- because we are already running the pre/post build hooks</span><span>
</span><span id="line-319"></span><span>        </span><span class="hs-comment">-- for Haddock.</span><span>
</span><span id="line-320"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Utils.html#warn"><span class="hs-identifier hs-type">warn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570774"><span class="hs-identifier hs-type">verbosity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>        </span><span class="annot"><a href="#local-6989586621679570786"><span class="hs-identifier hs-type">haddockTarget</span></a></span><span>
</span><span id="line-322"></span><span>        </span><span class="annot"><a href="#local-6989586621679570768"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span>
</span><span id="line-323"></span><span>        </span><span class="annot"><a href="#local-6989586621679570769"><span class="hs-identifier hs-type">lbi</span></a></span><span>
</span><span id="line-324"></span><span>        </span><span class="annot"><a href="#local-6989586621679570770"><span class="hs-identifier hs-type">suffixes</span></a></span><span>
</span><span id="line-325"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Setup.Hscolour.html#defaultHscolourFlags"><span class="hs-identifier hs-type">defaultHscolourFlags</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`mappend`</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#haddockToHscolour"><span class="hs-identifier hs-type">haddockToHscolour</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570776"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span>    </span><span id="local-6989586621679570830"><span class="annot"><a href="#local-6989586621679570830"><span class="hs-identifier hs-var">targets</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Distribution.Simple.BuildTarget.html#readTargetInfos"><span class="hs-identifier hs-type">readTargetInfos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570774"><span class="hs-identifier hs-type">verbosity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570768"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570769"><span class="hs-identifier hs-type">lbi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockTargets"><span class="hs-identifier hs-var">haddockTargets</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570776"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span>    </span><span class="hs-keyword">let</span><span>
</span><span id="line-330"></span><span>      </span><span id="local-6989586621679570833"><span class="annot"><a href="#local-6989586621679570833"><span class="hs-identifier hs-var hs-var">targets'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-331"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[TargetInfo]
</span><a href="#local-6989586621679570830"><span class="hs-identifier hs-var">targets</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-332"></span><span>          </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; LocalBuildInfo -&gt; [TargetInfo]
</span><a href="Distribution.Types.LocalBuildInfo.html#allTargetsInBuildOrder%27"><span class="hs-identifier hs-var">allTargetsInBuildOrder'</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570769"><span class="hs-identifier hs-var">lbi</span></a></span><span>
</span><span id="line-333"></span><span>          </span><span class="annot"><span class="annottext">[TargetInfo]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[TargetInfo]
</span><a href="#local-6989586621679570830"><span class="hs-identifier hs-var">targets</span></a></span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span>    </span><span id="local-6989586621679570835"><span class="annot"><a href="#local-6989586621679570835"><span class="hs-identifier hs-var">internalPackageDB</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-336"></span><span>      </span><span class="annot"><a href="Distribution.Simple.Build.html#createInternalPackageDB"><span class="hs-identifier hs-type">createInternalPackageDB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570774"><span class="hs-identifier hs-type">verbosity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570769"><span class="hs-identifier hs-type">lbi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679570798"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#setupDistPref"><span class="hs-identifier hs-var">setupDistPref</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockCommonFlags"><span class="hs-identifier hs-var">haddockCommonFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679570838"><span class="annot"><span class="annottext">InstalledPackageIndex -&gt; TargetInfo -&gt; IO InstalledPackageIndex
</span><a href="#local-6989586621679570838"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(InstalledPackageIndex -&gt; TargetInfo -&gt; IO InstalledPackageIndex)
-&gt; InstalledPackageIndex -&gt; [TargetInfo] -&gt; IO ()
forall (t :: * -&gt; *) (m :: * -&gt; *) b a.
(Foldable t, Monad m) =&gt;
(b -&gt; a -&gt; m b) -&gt; b -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">foldM_</span></span><span> </span><span class="annot"><span class="annottext">InstalledPackageIndex -&gt; TargetInfo -&gt; IO InstalledPackageIndex
</span><a href="#local-6989586621679570838"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; InstalledPackageIndex
</span><a href="Distribution.Types.LocalBuildInfo.html#installedPkgs"><span class="hs-identifier hs-var">installedPkgs</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570769"><span class="hs-identifier hs-var">lbi</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TargetInfo]
</span><a href="#local-6989586621679570833"><span class="hs-identifier hs-var">targets'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679570841"><span class="annot"><span class="annottext">InstalledPackageIndex
</span><a href="#local-6989586621679570841"><span class="hs-identifier hs-var">index</span></a></span></span><span> </span><span id="local-6989586621679570842"><span class="annot"><span class="annottext">TargetInfo
</span><a href="#local-6989586621679570842"><span class="hs-identifier hs-var">target</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-339"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-340"></span><span>        </span><span id="local-6989586621679570843"><span class="annot"><span class="annottext">component :: Component
</span><a href="#local-6989586621679570843"><span class="hs-identifier hs-var hs-var">component</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TargetInfo -&gt; Component
</span><a href="Distribution.Types.TargetInfo.html#targetComponent"><span class="hs-identifier hs-var">targetComponent</span></a></span><span> </span><span class="annot"><span class="annottext">TargetInfo
</span><a href="#local-6989586621679570842"><span class="hs-identifier hs-var">target</span></a></span><span>
</span><span id="line-341"></span><span>        </span><span id="local-6989586621679570845"><span class="annot"><span class="annottext">clbi :: ComponentLocalBuildInfo
</span><a href="#local-6989586621679570845"><span class="hs-identifier hs-var hs-var">clbi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TargetInfo -&gt; ComponentLocalBuildInfo
</span><a href="Distribution.Types.TargetInfo.html#targetCLBI"><span class="hs-identifier hs-var">targetCLBI</span></a></span><span> </span><span class="annot"><span class="annottext">TargetInfo
</span><a href="#local-6989586621679570842"><span class="hs-identifier hs-var">target</span></a></span><span>
</span><span id="line-342"></span><span>        </span><span id="local-6989586621679570847"><span class="annot"><span class="annottext">bi :: BuildInfo
</span><a href="#local-6989586621679570847"><span class="hs-identifier hs-var hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Component -&gt; BuildInfo
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#componentBuildInfo"><span class="hs-identifier hs-var">componentBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679570843"><span class="hs-identifier hs-var">component</span></a></span><span>
</span><span id="line-343"></span><span>        </span><span class="hs-comment">-- Include any build-tool-depends on build tools internal to the current package.</span><span>
</span><span id="line-344"></span><span>        </span><span id="local-6989586621679570849"><span class="annot"><span class="annottext">progs' :: ProgramDb
</span><a href="#local-6989586621679570849"><span class="hs-identifier hs-var hs-var">progs'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PackageDescription
-&gt; LocalBuildInfo -&gt; BuildInfo -&gt; ProgramDb -&gt; ProgramDb
</span><a href="Distribution.Simple.Build.html#addInternalBuildTools"><span class="hs-identifier hs-var">addInternalBuildTools</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570769"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679570847"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; ProgramDb
</span><a href="Distribution.Types.LocalBuildInfo.html#withPrograms"><span class="hs-identifier hs-var">withPrograms</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570769"><span class="hs-identifier hs-var">lbi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span>        </span><span id="local-6989586621679570851"><span class="annot"><span class="annottext">lbi' :: LocalBuildInfo
</span><a href="#local-6989586621679570851"><span class="hs-identifier hs-var hs-var">lbi'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-346"></span><span>          </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570769"><span class="hs-identifier hs-var">lbi</span></a></span><span>
</span><span id="line-347"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#withPrograms"><span class="hs-identifier hs-var">withPrograms</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679570849"><span class="hs-identifier hs-type">progs'</span></a></span><span>
</span><span id="line-348"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#withPackageDB"><span class="hs-identifier hs-var">withPackageDB</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#withPackageDB"><span class="hs-identifier hs-var">withPackageDB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570769"><span class="hs-identifier hs-type">lbi</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679570835"><span class="hs-identifier hs-type">internalPackageDB</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-349"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#installedPkgs"><span class="hs-identifier hs-var">installedPkgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679570841"><span class="hs-identifier hs-type">index</span></a></span><span>
</span><span id="line-350"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span>        </span><span class="annot"><a href="#local-6989586621679570853"><span class="hs-identifier hs-type">runPreBuildHooks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.TargetInfo.html#TargetInfo"><span class="hs-identifier hs-type">TargetInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>        </span><span id="local-6989586621679570853"><span class="annot"><span class="annottext">runPreBuildHooks :: LocalBuildInfo -&gt; TargetInfo -&gt; IO ()
</span><a href="#local-6989586621679570853"><span class="hs-identifier hs-var hs-var">runPreBuildHooks</span></a></span></span><span> </span><span id="local-6989586621679570854"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570854"><span class="hs-identifier hs-var">lbi2</span></a></span></span><span> </span><span id="local-6989586621679570855"><span class="annot"><span class="annottext">TargetInfo
</span><a href="#local-6989586621679570855"><span class="hs-identifier hs-var">tgt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-354"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679570856"><span class="annot"><span class="annottext">inputs :: PreBuildComponentInputs
</span><a href="#local-6989586621679570856"><span class="hs-identifier hs-var hs-var">inputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-355"></span><span>                </span><span class="annot"><a href="Distribution.Simple.SetupHooks.Internal.html#PreBuildComponentInputs"><span class="hs-identifier hs-type">SetupHooks.PreBuildComponentInputs</span></a></span><span>
</span><span id="line-356"></span><span>                  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">buildingWhat :: BuildingWhat
</span><a href="Distribution.Simple.SetupHooks.Internal.html#buildingWhat"><span class="hs-identifier hs-var">SetupHooks.buildingWhat</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; BuildingWhat
</span><a href="Distribution.Simple.Setup.html#BuildHaddock"><span class="hs-identifier hs-var">BuildHaddock</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570776"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-357"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">localBuildInfo :: LocalBuildInfo
</span><a href="Distribution.Simple.SetupHooks.Internal.html#localBuildInfo"><span class="hs-identifier hs-var">SetupHooks.localBuildInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570854"><span class="hs-identifier hs-var">lbi2</span></a></span><span>
</span><span id="line-358"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">targetInfo :: TargetInfo
</span><a href="Distribution.Simple.SetupHooks.Internal.html#targetInfo"><span class="hs-identifier hs-var">SetupHooks.targetInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TargetInfo
</span><a href="#local-6989586621679570855"><span class="hs-identifier hs-var">tgt</span></a></span><span>
</span><span id="line-359"></span><span>                  </span><span class="hs-special">}</span><span>
</span><span id="line-360"></span><span>           </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Maybe PreBuildComponentRules
-&gt; (PreBuildComponentRules -&gt; IO ()) -&gt; IO ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="annot"><span class="annottext">Maybe PreBuildComponentRules
</span><a href="#local-6989586621679570767"><span class="hs-identifier hs-var">mbPbcRules</span></a></span><span> </span><span class="annot"><span class="annottext">((PreBuildComponentRules -&gt; IO ()) -&gt; IO ())
-&gt; (PreBuildComponentRules -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679570863"><span class="annot"><span class="annottext">PreBuildComponentRules
</span><a href="#local-6989586621679570863"><span class="hs-identifier hs-var">pbcRules</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-361"></span><span>                </span><span class="hs-special">(</span><span id="local-6989586621679570864"><span class="annot"><a href="#local-6989586621679570864"><span class="hs-identifier hs-var">ruleFromId</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679570865"><span class="annot"><a href="#local-6989586621679570865"><span class="hs-identifier hs-var">_mons</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; PreBuildComponentInputs
-&gt; PreBuildComponentRules
-&gt; IO (Map RuleId Rule, [MonitorFilePath])
forall env.
Verbosity
-&gt; env -&gt; Rules env -&gt; IO (Map RuleId Rule, [MonitorFilePath])
</span><a href="Distribution.Simple.SetupHooks.Rule.html#computeRules"><span class="hs-identifier hs-var">SetupHooks.computeRules</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570774"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">PreBuildComponentInputs
</span><a href="#local-6989586621679570856"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">PreBuildComponentRules
</span><a href="#local-6989586621679570863"><span class="hs-identifier hs-var">pbcRules</span></a></span><span>
</span><span id="line-362"></span><span>                </span><span class="annot"><a href="Distribution.Simple.SetupHooks.Internal.html#executeRules"><span class="hs-identifier hs-type">SetupHooks.executeRules</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570774"><span class="hs-identifier hs-type">verbosity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570854"><span class="hs-identifier hs-type">lbi2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570855"><span class="hs-identifier hs-type">tgt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570864"><span class="hs-identifier hs-type">ruleFromId</span></a></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span>      </span><span class="hs-comment">-- See Note [Hi Haddock Recompilation Avoidance]</span><span>
</span><span id="line-365"></span><span>      </span><span class="annot"><span class="annottext">Verbosity
-&gt; TempFileOptions
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Version
-&gt; ((SymbolicPath Pkg ('Dir Artifacts),
     SymbolicPath Pkg ('Dir Artifacts),
     SymbolicPath Pkg ('Dir Artifacts))
    -&gt; IO InstalledPackageIndex)
-&gt; IO InstalledPackageIndex
forall r.
Verbosity
-&gt; TempFileOptions
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Version
-&gt; ((SymbolicPath Pkg ('Dir Artifacts),
     SymbolicPath Pkg ('Dir Artifacts),
     SymbolicPath Pkg ('Dir Artifacts))
    -&gt; IO r)
-&gt; IO r
</span><a href="Distribution.Simple.Haddock.html#reusingGHCCompilationArtifacts"><span class="hs-identifier hs-var">reusingGHCCompilationArtifacts</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570774"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">TempFileOptions
</span><a href="#local-6989586621679570800"><span class="hs-identifier hs-var">tmpFileOpts</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679570777"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570769"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679570847"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570845"><span class="hs-identifier hs-var">clbi</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679570823"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">(((SymbolicPath Pkg ('Dir Artifacts),
   SymbolicPath Pkg ('Dir Artifacts),
   SymbolicPath Pkg ('Dir Artifacts))
  -&gt; IO InstalledPackageIndex)
 -&gt; IO InstalledPackageIndex)
-&gt; ((SymbolicPath Pkg ('Dir Artifacts),
     SymbolicPath Pkg ('Dir Artifacts),
     SymbolicPath Pkg ('Dir Artifacts))
    -&gt; IO InstalledPackageIndex)
-&gt; IO InstalledPackageIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679570869"><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts))
</span><a href="#local-6989586621679570869"><span class="hs-identifier hs-var">haddockArtifactsDirs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-366"></span><span>        </span><span class="annot"><span class="annottext">(LocalBuildInfo -&gt; TargetInfo -&gt; IO ())
-&gt; Verbosity -&gt; LocalBuildInfo -&gt; TargetInfo -&gt; IO ()
</span><a href="Distribution.Simple.Build.html#preBuildComponent"><span class="hs-identifier hs-var">preBuildComponent</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; TargetInfo -&gt; IO ()
</span><a href="#local-6989586621679570853"><span class="hs-identifier hs-var">runPreBuildHooks</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570774"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570851"><span class="hs-identifier hs-var">lbi'</span></a></span><span> </span><span class="annot"><span class="annottext">TargetInfo
</span><a href="#local-6989586621679570842"><span class="hs-identifier hs-var">target</span></a></span><span>
</span><span id="line-367"></span><span>        </span><span class="annot"><span class="annottext">PackageDescription
-&gt; Component
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Bool
-&gt; Verbosity
-&gt; [PPSuffixHandler]
-&gt; IO ()
</span><a href="Distribution.Simple.PreProcess.html#preprocessComponent"><span class="hs-identifier hs-var">preprocessComponent</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span> </span><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679570843"><span class="hs-identifier hs-var">component</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570851"><span class="hs-identifier hs-var">lbi'</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570845"><span class="hs-identifier hs-var">clbi</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570774"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">[PPSuffixHandler]
</span><a href="#local-6989586621679570770"><span class="hs-identifier hs-var">suffixes</span></a></span><span>
</span><span id="line-368"></span><span>        </span><span class="hs-keyword">let</span><span>
</span><span id="line-369"></span><span>          </span><span id="local-6989586621679570875"><span class="annot"><span class="annottext">doExe :: Component -&gt; IO ()
</span><a href="#local-6989586621679570875"><span class="hs-identifier hs-var hs-var hs-var">doExe</span></a></span></span><span> </span><span id="local-6989586621679570876"><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679570876"><span class="hs-identifier hs-var">com</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Component -&gt; Maybe Executable
</span><a href="Distribution.Simple.Haddock.html#compToExe"><span class="hs-identifier hs-var">compToExe</span></a></span><span> </span><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679570876"><span class="hs-identifier hs-var">com</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-370"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679570878"><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679570878"><span class="hs-identifier hs-var">exe</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-371"></span><span>              </span><span id="local-6989586621679570879"><span class="annot"><a href="#local-6989586621679570879"><span class="hs-identifier hs-var">exeArgs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-372"></span><span>                </span><span class="annot"><span class="annottext">Verbosity
-&gt; (SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts))
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; HaddockTarget
-&gt; PackageDescription
-&gt; Executable
-&gt; HaddockArgs
-&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromExecutable"><span class="hs-identifier hs-var">fromExecutable</span></a></span><span>
</span><span id="line-373"></span><span>                  </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570774"><span class="hs-identifier hs-var">verbosity</span></a></span><span>
</span><span id="line-374"></span><span>                  </span><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts))
</span><a href="#local-6989586621679570869"><span class="hs-identifier hs-var">haddockArtifactsDirs</span></a></span><span>
</span><span id="line-375"></span><span>                  </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570851"><span class="hs-identifier hs-var">lbi'</span></a></span><span>
</span><span id="line-376"></span><span>                  </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570845"><span class="hs-identifier hs-var">clbi</span></a></span><span>
</span><span id="line-377"></span><span>                  </span><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679570806"><span class="hs-identifier hs-var">htmlTemplate</span></a></span><span>
</span><span id="line-378"></span><span>                  </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679570786"><span class="hs-identifier hs-var">haddockTarget</span></a></span><span>
</span><span id="line-379"></span><span>                  </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span>
</span><span id="line-380"></span><span>                  </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679570878"><span class="hs-identifier hs-var">exe</span></a></span><span>
</span><span id="line-381"></span><span>                  </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679570817"><span class="hs-identifier hs-var">commonArgs</span></a></span><span>
</span><span id="line-382"></span><span>              </span><span class="annot"><a href="Distribution.Simple.Haddock.html#runHaddock"><span class="hs-identifier hs-type">runHaddock</span></a></span><span>
</span><span id="line-383"></span><span>                </span><span class="annot"><a href="#local-6989586621679570774"><span class="hs-identifier hs-type">verbosity</span></a></span><span>
</span><span id="line-384"></span><span>                </span><span class="annot"><a href="#local-6989586621679570777"><span class="hs-identifier hs-type">mbWorkDir</span></a></span><span>
</span><span id="line-385"></span><span>                </span><span class="annot"><a href="#local-6989586621679570800"><span class="hs-identifier hs-type">tmpFileOpts</span></a></span><span>
</span><span id="line-386"></span><span>                </span><span class="annot"><a href="#local-6989586621679570780"><span class="hs-identifier hs-type">comp</span></a></span><span>
</span><span id="line-387"></span><span>                </span><span class="annot"><a href="#local-6989586621679570782"><span class="hs-identifier hs-type">platform</span></a></span><span>
</span><span id="line-388"></span><span>                </span><span class="annot"><a href="#local-6989586621679570822"><span class="hs-identifier hs-type">haddockProg</span></a></span><span>
</span><span id="line-389"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-390"></span><span>                </span><span class="annot"><a href="#local-6989586621679570879"><span class="hs-identifier hs-type">exeArgs</span></a></span><span>
</span><span id="line-391"></span><span>            </span><span class="annot"><span class="annottext">Maybe Executable
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-392"></span><span>              </span><span class="annot"><span class="annottext">Verbosity -&gt; String -&gt; IO ()
</span><a href="Distribution.Simple.Utils.html#warn"><span class="hs-identifier hs-var">warn</span></a></span><span>
</span><span id="line-393"></span><span>                </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570774"><span class="hs-identifier hs-var">verbosity</span></a></span><span>
</span><span id="line-394"></span><span>                </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unsupported component, skipping...&quot;</span></span><span>
</span><span id="line-395"></span><span>              </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>          </span><span class="hs-comment">-- We define 'smsg' once and then reuse it inside the case, so that</span><span>
</span><span id="line-397"></span><span>          </span><span class="hs-comment">-- we don't say we are running Haddock when we actually aren't</span><span>
</span><span id="line-398"></span><span>          </span><span class="hs-comment">-- (e.g., Haddock is not run on non-libraries)</span><span>
</span><span id="line-399"></span><span>          </span><span class="annot"><a href="#local-6989586621679570882"><span class="hs-identifier hs-type">smsg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span>          </span><span id="local-6989586621679570882"><span class="annot"><span class="annottext">smsg :: IO ()
</span><a href="#local-6989586621679570882"><span class="hs-identifier hs-var hs-var hs-var">smsg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-401"></span><span>            </span><span class="annot"><span class="annottext">Verbosity
-&gt; String
-&gt; PackageIdentifier
-&gt; ComponentName
-&gt; Maybe [(ModuleName, OpenModule)]
-&gt; IO ()
forall a.
Pretty a =&gt;
Verbosity
-&gt; String
-&gt; PackageIdentifier
-&gt; ComponentName
-&gt; Maybe [(ModuleName, a)]
-&gt; IO ()
</span><a href="Distribution.Backpack.DescribeUnitId.html#setupMessage%27"><span class="hs-identifier hs-var">setupMessage'</span></a></span><span>
</span><span id="line-402"></span><span>              </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570774"><span class="hs-identifier hs-var">verbosity</span></a></span><span>
</span><span id="line-403"></span><span>              </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Running Haddock on&quot;</span></span><span>
</span><span id="line-404"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; PackageIdentifier
forall pkg. Package pkg =&gt; pkg -&gt; PackageIdentifier
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Package.html#packageId"><span class="hs-identifier hs-var">packageId</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-405"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ComponentLocalBuildInfo -&gt; ComponentName
</span><a href="Distribution.Types.ComponentLocalBuildInfo.html#componentLocalName"><span class="hs-identifier hs-var">componentLocalName</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570845"><span class="hs-identifier hs-var">clbi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-406"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ComponentLocalBuildInfo -&gt; Maybe [(ModuleName, OpenModule)]
</span><a href="Distribution.Types.ComponentLocalBuildInfo.html#maybeComponentInstantiatedWith"><span class="hs-identifier hs-var">maybeComponentInstantiatedWith</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570845"><span class="hs-identifier hs-var">clbi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-407"></span><span>        </span><span id="local-6989586621679570886"><span class="annot"><a href="#local-6989586621679570886"><span class="hs-identifier hs-var">ipi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679570843"><span class="hs-identifier hs-var">component</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-408"></span><span>          </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#CLib"><span class="hs-identifier hs-type">CLib</span></a></span><span> </span><span id="local-6989586621679570888"><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679570888"><span class="hs-identifier hs-var">lib</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-409"></span><span>            </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679570882"><span class="hs-identifier hs-var">smsg</span></a></span><span>
</span><span id="line-410"></span><span>            </span><span id="local-6989586621679570889"><span class="annot"><a href="#local-6989586621679570889"><span class="hs-identifier hs-var">libArgs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-411"></span><span>              </span><span class="annot"><span class="annottext">Verbosity
-&gt; (SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts))
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; HaddockTarget
-&gt; PackageDescription
-&gt; Library
-&gt; HaddockArgs
-&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromLibrary"><span class="hs-identifier hs-var">fromLibrary</span></a></span><span>
</span><span id="line-412"></span><span>                </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570774"><span class="hs-identifier hs-var">verbosity</span></a></span><span>
</span><span id="line-413"></span><span>                </span><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts))
</span><a href="#local-6989586621679570869"><span class="hs-identifier hs-var">haddockArtifactsDirs</span></a></span><span>
</span><span id="line-414"></span><span>                </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570851"><span class="hs-identifier hs-var">lbi'</span></a></span><span>
</span><span id="line-415"></span><span>                </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570845"><span class="hs-identifier hs-var">clbi</span></a></span><span>
</span><span id="line-416"></span><span>                </span><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679570806"><span class="hs-identifier hs-var">htmlTemplate</span></a></span><span>
</span><span id="line-417"></span><span>                </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679570786"><span class="hs-identifier hs-var">haddockTarget</span></a></span><span>
</span><span id="line-418"></span><span>                </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span>
</span><span id="line-419"></span><span>                </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679570888"><span class="hs-identifier hs-var">lib</span></a></span><span>
</span><span id="line-420"></span><span>                </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679570817"><span class="hs-identifier hs-var">commonArgs</span></a></span><span>
</span><span id="line-421"></span><span>            </span><span class="annot"><a href="Distribution.Simple.Haddock.html#runHaddock"><span class="hs-identifier hs-type">runHaddock</span></a></span><span>
</span><span id="line-422"></span><span>              </span><span class="annot"><a href="#local-6989586621679570774"><span class="hs-identifier hs-type">verbosity</span></a></span><span>
</span><span id="line-423"></span><span>              </span><span class="annot"><a href="#local-6989586621679570777"><span class="hs-identifier hs-type">mbWorkDir</span></a></span><span>
</span><span id="line-424"></span><span>              </span><span class="annot"><a href="#local-6989586621679570800"><span class="hs-identifier hs-type">tmpFileOpts</span></a></span><span>
</span><span id="line-425"></span><span>              </span><span class="annot"><a href="#local-6989586621679570780"><span class="hs-identifier hs-type">comp</span></a></span><span>
</span><span id="line-426"></span><span>              </span><span class="annot"><a href="#local-6989586621679570782"><span class="hs-identifier hs-type">platform</span></a></span><span>
</span><span id="line-427"></span><span>              </span><span class="annot"><a href="#local-6989586621679570822"><span class="hs-identifier hs-type">haddockProg</span></a></span><span>
</span><span id="line-428"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-429"></span><span>              </span><span class="annot"><a href="#local-6989586621679570889"><span class="hs-identifier hs-type">libArgs</span></a></span><span>
</span><span id="line-430"></span><span>            </span><span id="local-6989586621679570891"><span class="annot"><a href="#local-6989586621679570891"><span class="hs-identifier hs-var">inplaceDir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Distribution.Simple.LocalBuildInfo.html#absoluteWorkingDirLBI"><span class="hs-identifier hs-type">absoluteWorkingDirLBI</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570769"><span class="hs-identifier hs-type">lbi</span></a></span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span>            </span><span class="hs-keyword">let</span><span>
</span><span id="line-433"></span><span>              </span><span id="local-6989586621679570893"><span class="annot"><a href="#local-6989586621679570893"><span class="hs-identifier hs-var hs-var">ipi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-434"></span><span>                </span><span class="annot"><span class="annottext">AbsolutePath ('Dir Pkg)
-&gt; SymbolicPath Pkg ('Dir Dist)
-&gt; PackageDescription
-&gt; AbiHash
-&gt; Library
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; InstalledPackageInfo
</span><a href="Distribution.Simple.Register.html#inplaceInstalledPackageInfo"><span class="hs-identifier hs-var">inplaceInstalledPackageInfo</span></a></span><span>
</span><span id="line-435"></span><span>                  </span><span class="annot"><span class="annottext">AbsolutePath ('Dir Pkg)
</span><a href="#local-6989586621679570891"><span class="hs-identifier hs-var">inplaceDir</span></a></span><span>
</span><span id="line-436"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HaddockFlags -&gt; Flag (SymbolicPath Pkg ('Dir Dist)))
-&gt; SymbolicPath Pkg ('Dir Dist)
forall {b}. (HaddockFlags -&gt; Flag b) -&gt; b
</span><a href="#local-6989586621679570798"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><span class="annottext">((HaddockFlags -&gt; Flag (SymbolicPath Pkg ('Dir Dist)))
 -&gt; SymbolicPath Pkg ('Dir Dist))
-&gt; (HaddockFlags -&gt; Flag (SymbolicPath Pkg ('Dir Dist)))
-&gt; SymbolicPath Pkg ('Dir Dist)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CommonSetupFlags -&gt; Flag (SymbolicPath Pkg ('Dir Dist))
</span><a href="Distribution.Simple.Setup.Common.html#setupDistPref"><span class="hs-identifier hs-var">setupDistPref</span></a></span><span> </span><span class="annot"><span class="annottext">(CommonSetupFlags -&gt; Flag (SymbolicPath Pkg ('Dir Dist)))
-&gt; (HaddockFlags -&gt; CommonSetupFlags)
-&gt; HaddockFlags
-&gt; Flag (SymbolicPath Pkg ('Dir Dist))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; CommonSetupFlags
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockCommonFlags"><span class="hs-identifier hs-var">haddockCommonFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-437"></span><span>                  </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span>
</span><span id="line-438"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; AbiHash
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.AbiHash.html#mkAbiHash"><span class="hs-identifier hs-var">mkAbiHash</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;inplace&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-439"></span><span>                  </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679570888"><span class="hs-identifier hs-var">lib</span></a></span><span>
</span><span id="line-440"></span><span>                  </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570851"><span class="hs-identifier hs-var">lbi'</span></a></span><span>
</span><span id="line-441"></span><span>                  </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570845"><span class="hs-identifier hs-var">clbi</span></a></span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span>            </span><span class="annot"><a href="Distribution.Simple.Utils.html#debug"><span class="hs-identifier hs-type">debug</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570774"><span class="hs-identifier hs-type">verbosity</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-444"></span><span>              </span><span class="annot"><span class="hs-string">&quot;Registering inplace:\n&quot;</span></span><span>
</span><span id="line-445"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.InstalledPackageInfo.html#showInstalledPackageInfo"><span class="hs-identifier hs-type">InstalledPackageInfo.showInstalledPackageInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570893"><span class="hs-identifier hs-type">ipi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span>            </span><span class="annot"><a href="Distribution.Simple.Register.html#registerPackage"><span class="hs-identifier hs-type">registerPackage</span></a></span><span>
</span><span id="line-448"></span><span>              </span><span class="annot"><a href="#local-6989586621679570774"><span class="hs-identifier hs-type">verbosity</span></a></span><span>
</span><span id="line-449"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#compiler"><span class="hs-identifier hs-var">compiler</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570851"><span class="hs-identifier hs-type">lbi'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-450"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#withPrograms"><span class="hs-identifier hs-var">withPrograms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570851"><span class="hs-identifier hs-type">lbi'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-451"></span><span>              </span><span class="annot"><a href="#local-6989586621679570777"><span class="hs-identifier hs-type">mbWorkDir</span></a></span><span>
</span><span id="line-452"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#withPackageDB"><span class="hs-identifier hs-var">withPackageDB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570851"><span class="hs-identifier hs-type">lbi'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-453"></span><span>              </span><span class="annot"><a href="#local-6989586621679570893"><span class="hs-identifier hs-type">ipi</span></a></span><span>
</span><span id="line-454"></span><span>              </span><span class="annot"><a href="Distribution.Simple.Program.HcPkg.html#defaultRegisterOptions"><span class="hs-identifier hs-type">HcPkg.defaultRegisterOptions</span></a></span><span>
</span><span id="line-455"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.HcPkg.html#registerMultiInstance"><span class="hs-identifier hs-var">HcPkg.registerMultiInstance</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-456"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Distribution.Simple.PackageIndex.html#insert"><span class="hs-identifier hs-type">PackageIndex.insert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570893"><span class="hs-identifier hs-type">ipi</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570841"><span class="hs-identifier hs-type">index</span></a></span><span>
</span><span id="line-459"></span><span>          </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#CFLib"><span class="hs-identifier hs-type">CFLib</span></a></span><span> </span><span id="local-6989586621679570903"><span class="annot"><span class="annottext">ForeignLib
</span><a href="#local-6989586621679570903"><span class="hs-identifier hs-var">flib</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-460"></span><span>            </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span>
</span><span id="line-461"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HaddockFlags -&gt; Flag Bool) -&gt; Bool
forall {b}. (HaddockFlags -&gt; Flag b) -&gt; b
</span><a href="#local-6989586621679570798"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockForeignLibs"><span class="hs-identifier hs-var">haddockForeignLibs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-462"></span><span>              </span><span class="hs-special">(</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-463"></span><span>                  </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679570882"><span class="hs-identifier hs-var">smsg</span></a></span><span>
</span><span id="line-464"></span><span>                  </span><span id="local-6989586621679570904"><span class="annot"><a href="#local-6989586621679570904"><span class="hs-identifier hs-var">flibArgs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-465"></span><span>                    </span><span class="annot"><span class="annottext">Verbosity
-&gt; (SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts))
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; HaddockTarget
-&gt; PackageDescription
-&gt; ForeignLib
-&gt; HaddockArgs
-&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromForeignLib"><span class="hs-identifier hs-var">fromForeignLib</span></a></span><span>
</span><span id="line-466"></span><span>                      </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570774"><span class="hs-identifier hs-var">verbosity</span></a></span><span>
</span><span id="line-467"></span><span>                      </span><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts))
</span><a href="#local-6989586621679570869"><span class="hs-identifier hs-var">haddockArtifactsDirs</span></a></span><span>
</span><span id="line-468"></span><span>                      </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570851"><span class="hs-identifier hs-var">lbi'</span></a></span><span>
</span><span id="line-469"></span><span>                      </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570845"><span class="hs-identifier hs-var">clbi</span></a></span><span>
</span><span id="line-470"></span><span>                      </span><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679570806"><span class="hs-identifier hs-var">htmlTemplate</span></a></span><span>
</span><span id="line-471"></span><span>                      </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679570786"><span class="hs-identifier hs-var">haddockTarget</span></a></span><span>
</span><span id="line-472"></span><span>                      </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span>
</span><span id="line-473"></span><span>                      </span><span class="annot"><span class="annottext">ForeignLib
</span><a href="#local-6989586621679570903"><span class="hs-identifier hs-var">flib</span></a></span><span>
</span><span id="line-474"></span><span>                      </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679570817"><span class="hs-identifier hs-var">commonArgs</span></a></span><span>
</span><span id="line-475"></span><span>                  </span><span class="annot"><a href="Distribution.Simple.Haddock.html#runHaddock"><span class="hs-identifier hs-type">runHaddock</span></a></span><span>
</span><span id="line-476"></span><span>                    </span><span class="annot"><a href="#local-6989586621679570774"><span class="hs-identifier hs-type">verbosity</span></a></span><span>
</span><span id="line-477"></span><span>                    </span><span class="annot"><a href="#local-6989586621679570777"><span class="hs-identifier hs-type">mbWorkDir</span></a></span><span>
</span><span id="line-478"></span><span>                    </span><span class="annot"><a href="#local-6989586621679570800"><span class="hs-identifier hs-type">tmpFileOpts</span></a></span><span>
</span><span id="line-479"></span><span>                    </span><span class="annot"><a href="#local-6989586621679570780"><span class="hs-identifier hs-type">comp</span></a></span><span>
</span><span id="line-480"></span><span>                    </span><span class="annot"><a href="#local-6989586621679570782"><span class="hs-identifier hs-type">platform</span></a></span><span>
</span><span id="line-481"></span><span>                    </span><span class="annot"><a href="#local-6989586621679570822"><span class="hs-identifier hs-type">haddockProg</span></a></span><span>
</span><span id="line-482"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-483"></span><span>                    </span><span class="annot"><a href="#local-6989586621679570904"><span class="hs-identifier hs-type">flibArgs</span></a></span><span>
</span><span id="line-484"></span><span>              </span><span class="hs-special">)</span><span>
</span><span id="line-485"></span><span>              </span><span class="annot"><span class="annottext">IO () -&gt; IO InstalledPackageIndex -&gt; IO InstalledPackageIndex
forall a b. IO a -&gt; IO b -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">InstalledPackageIndex -&gt; IO InstalledPackageIndex
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">InstalledPackageIndex
</span><a href="#local-6989586621679570841"><span class="hs-identifier hs-var">index</span></a></span><span>
</span><span id="line-486"></span><span>          </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#CExe"><span class="hs-identifier hs-type">CExe</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HaddockFlags -&gt; Flag Bool) -&gt; Bool
forall {b}. (HaddockFlags -&gt; Flag b) -&gt; b
</span><a href="#local-6989586621679570798"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockExecutables"><span class="hs-identifier hs-var">haddockExecutables</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679570882"><span class="hs-identifier hs-var">smsg</span></a></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO () -&gt; IO ()
forall a b. IO a -&gt; IO b -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Component -&gt; IO ()
</span><a href="#local-6989586621679570875"><span class="hs-identifier hs-var">doExe</span></a></span><span> </span><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679570843"><span class="hs-identifier hs-var">component</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO InstalledPackageIndex -&gt; IO InstalledPackageIndex
forall a b. IO a -&gt; IO b -&gt; IO b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">InstalledPackageIndex -&gt; IO InstalledPackageIndex
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">InstalledPackageIndex
</span><a href="#local-6989586621679570841"><span class="hs-identifier hs-var">index</span></a></span><span>
</span><span id="line-487"></span><span>          </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#CTest"><span class="hs-identifier hs-type">CTest</span></a></span><span> </span><span id="local-6989586621679570908"><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679570908"><span class="hs-identifier hs-var">test</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-488"></span><span>            </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HaddockFlags -&gt; Flag Bool) -&gt; Bool
forall {b}. (HaddockFlags -&gt; Flag b) -&gt; b
</span><a href="#local-6989586621679570798"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockTestSuites"><span class="hs-identifier hs-var">haddockTestSuites</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-489"></span><span>              </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679570882"><span class="hs-identifier hs-var">smsg</span></a></span><span>
</span><span id="line-490"></span><span>              </span><span id="local-6989586621679570909"><span class="annot"><a href="#local-6989586621679570909"><span class="hs-identifier hs-var">testArgs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-491"></span><span>                </span><span class="annot"><span class="annottext">Verbosity
-&gt; (SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts))
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; HaddockTarget
-&gt; PackageDescription
-&gt; TestSuite
-&gt; HaddockArgs
-&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromTest"><span class="hs-identifier hs-var">fromTest</span></a></span><span>
</span><span id="line-492"></span><span>                  </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570774"><span class="hs-identifier hs-var">verbosity</span></a></span><span>
</span><span id="line-493"></span><span>                  </span><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts))
</span><a href="#local-6989586621679570869"><span class="hs-identifier hs-var">haddockArtifactsDirs</span></a></span><span>
</span><span id="line-494"></span><span>                  </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570851"><span class="hs-identifier hs-var">lbi'</span></a></span><span>
</span><span id="line-495"></span><span>                  </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570845"><span class="hs-identifier hs-var">clbi</span></a></span><span>
</span><span id="line-496"></span><span>                  </span><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679570806"><span class="hs-identifier hs-var">htmlTemplate</span></a></span><span>
</span><span id="line-497"></span><span>                  </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679570786"><span class="hs-identifier hs-var">haddockTarget</span></a></span><span>
</span><span id="line-498"></span><span>                  </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span>
</span><span id="line-499"></span><span>                  </span><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679570908"><span class="hs-identifier hs-var">test</span></a></span><span>
</span><span id="line-500"></span><span>                  </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679570817"><span class="hs-identifier hs-var">commonArgs</span></a></span><span>
</span><span id="line-501"></span><span>              </span><span class="annot"><a href="Distribution.Simple.Haddock.html#runHaddock"><span class="hs-identifier hs-type">runHaddock</span></a></span><span>
</span><span id="line-502"></span><span>                </span><span class="annot"><a href="#local-6989586621679570774"><span class="hs-identifier hs-type">verbosity</span></a></span><span>
</span><span id="line-503"></span><span>                </span><span class="annot"><a href="#local-6989586621679570777"><span class="hs-identifier hs-type">mbWorkDir</span></a></span><span>
</span><span id="line-504"></span><span>                </span><span class="annot"><a href="#local-6989586621679570800"><span class="hs-identifier hs-type">tmpFileOpts</span></a></span><span>
</span><span id="line-505"></span><span>                </span><span class="annot"><a href="#local-6989586621679570780"><span class="hs-identifier hs-type">comp</span></a></span><span>
</span><span id="line-506"></span><span>                </span><span class="annot"><a href="#local-6989586621679570782"><span class="hs-identifier hs-type">platform</span></a></span><span>
</span><span id="line-507"></span><span>                </span><span class="annot"><a href="#local-6989586621679570822"><span class="hs-identifier hs-type">haddockProg</span></a></span><span>
</span><span id="line-508"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-509"></span><span>                </span><span class="annot"><a href="#local-6989586621679570909"><span class="hs-identifier hs-type">testArgs</span></a></span><span>
</span><span id="line-510"></span><span>            </span><span class="annot"><span class="annottext">InstalledPackageIndex -&gt; IO InstalledPackageIndex
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">InstalledPackageIndex
</span><a href="#local-6989586621679570841"><span class="hs-identifier hs-var">index</span></a></span><span>
</span><span id="line-511"></span><span>          </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#CBench"><span class="hs-identifier hs-type">CBench</span></a></span><span> </span><span id="local-6989586621679570912"><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679570912"><span class="hs-identifier hs-var">bench</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-512"></span><span>            </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HaddockFlags -&gt; Flag Bool) -&gt; Bool
forall {b}. (HaddockFlags -&gt; Flag b) -&gt; b
</span><a href="#local-6989586621679570798"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockBenchmarks"><span class="hs-identifier hs-var">haddockBenchmarks</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-513"></span><span>              </span><span class="annot"><span class="annottext">IO ()
</span><a href="#local-6989586621679570882"><span class="hs-identifier hs-var">smsg</span></a></span><span>
</span><span id="line-514"></span><span>              </span><span id="local-6989586621679570913"><span class="annot"><a href="#local-6989586621679570913"><span class="hs-identifier hs-var">benchArgs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-515"></span><span>                </span><span class="annot"><span class="annottext">Verbosity
-&gt; (SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts))
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; HaddockTarget
-&gt; PackageDescription
-&gt; Benchmark
-&gt; HaddockArgs
-&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromBenchmark"><span class="hs-identifier hs-var">fromBenchmark</span></a></span><span>
</span><span id="line-516"></span><span>                  </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570774"><span class="hs-identifier hs-var">verbosity</span></a></span><span>
</span><span id="line-517"></span><span>                  </span><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts))
</span><a href="#local-6989586621679570869"><span class="hs-identifier hs-var">haddockArtifactsDirs</span></a></span><span>
</span><span id="line-518"></span><span>                  </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570851"><span class="hs-identifier hs-var">lbi'</span></a></span><span>
</span><span id="line-519"></span><span>                  </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570845"><span class="hs-identifier hs-var">clbi</span></a></span><span>
</span><span id="line-520"></span><span>                  </span><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679570806"><span class="hs-identifier hs-var">htmlTemplate</span></a></span><span>
</span><span id="line-521"></span><span>                  </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679570786"><span class="hs-identifier hs-var">haddockTarget</span></a></span><span>
</span><span id="line-522"></span><span>                  </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span>
</span><span id="line-523"></span><span>                  </span><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679570912"><span class="hs-identifier hs-var">bench</span></a></span><span>
</span><span id="line-524"></span><span>                  </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679570817"><span class="hs-identifier hs-var">commonArgs</span></a></span><span>
</span><span id="line-525"></span><span>              </span><span class="annot"><a href="Distribution.Simple.Haddock.html#runHaddock"><span class="hs-identifier hs-type">runHaddock</span></a></span><span>
</span><span id="line-526"></span><span>                </span><span class="annot"><a href="#local-6989586621679570774"><span class="hs-identifier hs-type">verbosity</span></a></span><span>
</span><span id="line-527"></span><span>                </span><span class="annot"><a href="#local-6989586621679570777"><span class="hs-identifier hs-type">mbWorkDir</span></a></span><span>
</span><span id="line-528"></span><span>                </span><span class="annot"><a href="#local-6989586621679570800"><span class="hs-identifier hs-type">tmpFileOpts</span></a></span><span>
</span><span id="line-529"></span><span>                </span><span class="annot"><a href="#local-6989586621679570780"><span class="hs-identifier hs-type">comp</span></a></span><span>
</span><span id="line-530"></span><span>                </span><span class="annot"><a href="#local-6989586621679570782"><span class="hs-identifier hs-type">platform</span></a></span><span>
</span><span id="line-531"></span><span>                </span><span class="annot"><a href="#local-6989586621679570822"><span class="hs-identifier hs-type">haddockProg</span></a></span><span>
</span><span id="line-532"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-533"></span><span>                </span><span class="annot"><a href="#local-6989586621679570913"><span class="hs-identifier hs-type">benchArgs</span></a></span><span>
</span><span id="line-534"></span><span>            </span><span class="annot"><span class="annottext">InstalledPackageIndex -&gt; IO InstalledPackageIndex
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">InstalledPackageIndex
</span><a href="#local-6989586621679570841"><span class="hs-identifier hs-var">index</span></a></span><span>
</span><span id="line-535"></span><span>
</span><span id="line-536"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621679570886"><span class="hs-identifier hs-type">ipi</span></a></span><span>
</span><span id="line-537"></span><span>
</span><span id="line-538"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">for_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#extraDocFiles"><span class="hs-identifier hs-var">extraDocFiles</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570768"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679570916"><span class="annot"><span class="annottext">RelativePath Pkg 'File
</span><a href="#local-6989586621679570916"><span class="hs-identifier hs-var">fpath</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-539"></span><span>      </span><span id="local-6989586621679570917"><span class="annot"><a href="#local-6989586621679570917"><span class="hs-identifier hs-var">files</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; CabalSpecVersion
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; RelativePath Pkg 'File
-&gt; IO [RelativePath Pkg 'File]
forall dir (allowAbs :: AllowAbsolute) (file :: FileOrDir).
Verbosity
-&gt; CabalSpecVersion
-&gt; Maybe (SymbolicPath CWD ('Dir dir))
-&gt; SymbolicPathX allowAbs dir file
-&gt; IO [SymbolicPathX allowAbs dir file]
</span><a href="Distribution.Simple.Glob.html#matchDirFileGlob"><span class="hs-identifier hs-var">matchDirFileGlob</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570774"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; CabalSpecVersion
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#specVersion"><span class="hs-identifier hs-var">specVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679570777"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span> </span><span class="annot"><span class="annottext">RelativePath Pkg 'File
</span><a href="#local-6989586621679570916"><span class="hs-identifier hs-var">fpath</span></a></span><span>
</span><span id="line-540"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679570920"><span class="annot"><a href="#local-6989586621679570920"><span class="hs-identifier hs-var hs-var">targetDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Directory
</span><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-var">Dir</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Directory) -&gt; String -&gt; Directory
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Directory -&gt; String
</span><a href="Distribution.Simple.Haddock.html#unDir%27"><span class="hs-identifier hs-var">unDir'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HaddockArgs -&gt; Directory
</span><a href="Distribution.Simple.Haddock.html#argOutputDir"><span class="hs-identifier hs-var">argOutputDir</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679570817"><span class="hs-identifier hs-var">commonArgs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockTarget -&gt; PackageDescription -&gt; String
</span><a href="Distribution.Simple.BuildPaths.html#haddockDirName"><span class="hs-identifier hs-var">haddockDirName</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679570786"><span class="hs-identifier hs-var">haddockTarget</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570768"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span>
</span><span id="line-541"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">for_</span></span><span> </span><span class="annot"><a href="#local-6989586621679570917"><span class="hs-identifier hs-type">files</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-542"></span><span>        </span><span class="annot"><a href="Distribution.Simple.Utils.html#copyFileToCwd"><span class="hs-identifier hs-type">copyFileToCwd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570774"><span class="hs-identifier hs-type">verbosity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570777"><span class="hs-identifier hs-type">mbWorkDir</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Haddock.html#unDir"><span class="hs-identifier hs-type">unDir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570920"><span class="hs-identifier hs-type">targetDir</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-543"></span><span>
</span><span id="line-544"></span><span class="hs-comment">-- | Execute 'Haddock' configured with 'HaddocksFlags'.  It is used to build</span><span>
</span><span id="line-545"></span><span class="hs-comment">-- index and contents for documentation of multiple packages.</span><span>
</span><span id="line-546"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#createHaddockIndex"><span class="hs-identifier hs-type">createHaddockIndex</span></a></span><span>
</span><span id="line-547"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-548"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Db.html#ProgramDb"><span class="hs-identifier hs-type">ProgramDb</span></a></span><span>
</span><span id="line-549"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Compiler.html#Compiler"><span class="hs-identifier hs-type">Compiler</span></a></span><span>
</span><span id="line-550"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.System.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span>
</span><span id="line-551"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#CWD"><span class="hs-identifier hs-type">CWD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-552"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockProjectFlags"><span class="hs-identifier hs-type">HaddockProjectFlags</span></a></span><span>
</span><span id="line-553"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-554"></span><span id="createHaddockIndex"><span class="annot"><span class="annottext">createHaddockIndex :: Verbosity
-&gt; ProgramDb
-&gt; Compiler
-&gt; Platform
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; HaddockProjectFlags
-&gt; IO ()
</span><a href="Distribution.Simple.Haddock.html#createHaddockIndex"><span class="hs-identifier hs-var hs-var">createHaddockIndex</span></a></span></span><span> </span><span id="local-6989586621679570923"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570923"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679570924"><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679570924"><span class="hs-identifier hs-var">programDb</span></a></span></span><span> </span><span id="local-6989586621679570925"><span class="annot"><span class="annottext">Compiler
</span><a href="#local-6989586621679570925"><span class="hs-identifier hs-var">comp</span></a></span></span><span> </span><span id="local-6989586621679570926"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621679570926"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621679570927"><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679570927"><span class="hs-identifier hs-var">mbWorkDir</span></a></span></span><span> </span><span id="local-6989586621679570928"><span class="annot"><span class="annottext">HaddockProjectFlags
</span><a href="#local-6989586621679570928"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-555"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679570929"><span class="annot"><span class="annottext">args :: HaddockArgs
</span><a href="#local-6989586621679570929"><span class="hs-identifier hs-var hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockProjectFlags -&gt; HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromHaddockProjectFlags"><span class="hs-identifier hs-var">fromHaddockProjectFlags</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockProjectFlags
</span><a href="#local-6989586621679570928"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-556"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679570931"><span class="annot"><a href="#local-6989586621679570931"><span class="hs-identifier hs-var">haddockProg</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679570932"><span class="annot"><a href="#local-6989586621679570932"><span class="hs-identifier hs-var">_version</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-557"></span><span>    </span><span class="annot"><span class="annottext">Verbosity
-&gt; ProgramDb
-&gt; Compiler
-&gt; HaddockArgs
-&gt; Flag Bool
-&gt; IO (ConfiguredProgram, Version)
</span><a href="Distribution.Simple.Haddock.html#getHaddockProg"><span class="hs-identifier hs-var">getHaddockProg</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570923"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">ProgramDb
</span><a href="#local-6989586621679570924"><span class="hs-identifier hs-var">programDb</span></a></span><span> </span><span class="annot"><span class="annottext">Compiler
</span><a href="#local-6989586621679570925"><span class="hs-identifier hs-var">comp</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679570929"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Flag Bool
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-558"></span><span>  </span><span class="annot"><a href="Distribution.Simple.Haddock.html#runHaddock"><span class="hs-identifier hs-type">runHaddock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570923"><span class="hs-identifier hs-type">verbosity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570927"><span class="hs-identifier hs-type">mbWorkDir</span></a></span><span> </span><span class="annot"><a href="Distribution.Simple.Utils.html#defaultTempFileOptions"><span class="hs-identifier hs-type">defaultTempFileOptions</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570925"><span class="hs-identifier hs-type">comp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570926"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570931"><span class="hs-identifier hs-type">haddockProg</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="annot"><a href="#local-6989586621679570929"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-559"></span><span>
</span><span id="line-560"></span><span class="hs-comment">-- ------------------------------------------------------------------------------</span><span>
</span><span id="line-561"></span><span class="hs-comment">-- Contributions to HaddockArgs (see also Doctest.hs for very similar code).</span><span>
</span><span id="line-562"></span><span>
</span><span id="line-563"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#fromFlags"><span class="hs-identifier hs-type">fromFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#PathTemplateEnv"><span class="hs-identifier hs-type">PathTemplateEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockFlags"><span class="hs-identifier hs-type">HaddockFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-564"></span><span id="fromFlags"><span class="annot"><span class="annottext">fromFlags :: PathTemplateEnv -&gt; HaddockFlags -&gt; HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromFlags"><span class="hs-identifier hs-var hs-var">fromFlags</span></a></span></span><span> </span><span id="local-6989586621679570933"><span class="annot"><span class="annottext">PathTemplateEnv
</span><a href="#local-6989586621679570933"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621679570934"><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570934"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-565"></span><span>  </span><span class="annot"><span class="annottext">HaddockArgs
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-566"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argHideModules"><span class="hs-identifier hs-var">argHideModules</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-567"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">mempty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">All</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">not</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-568"></span><span>            </span><span class="annot"><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-type">flagToMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockInternal"><span class="hs-identifier hs-var">haddockInternal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570934"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-569"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mempty</span></span><span>
</span><span id="line-570"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-571"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argLinkSource"><span class="hs-identifier hs-var">argLinkSource</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-572"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-type">fromFlag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockLinkedSource"><span class="hs-identifier hs-var">haddockLinkedSource</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570934"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-573"></span><span>          </span><span class="hs-keyword">then</span><span>
</span><span id="line-574"></span><span>            </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span>
</span><span id="line-575"></span><span>              </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-string">&quot;src/%{MODULE/./-}.html&quot;</span></span><span>
</span><span id="line-576"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;src/%{MODULE/./-}.html#%{NAME}&quot;</span></span><span>
</span><span id="line-577"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;src/%{MODULE/./-}.html#line-%{LINE}&quot;</span></span><span>
</span><span id="line-578"></span><span>              </span><span class="hs-special">)</span><span>
</span><span id="line-579"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-type">NoFlag</span></a></span><span>
</span><span id="line-580"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argLinkedSource"><span class="hs-identifier hs-var">argLinkedSource</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockLinkedSource"><span class="hs-identifier hs-var">haddockLinkedSource</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570934"><span class="hs-identifier hs-type">flags</span></a></span><span>
</span><span id="line-581"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argQuickJump"><span class="hs-identifier hs-var">argQuickJump</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockQuickJump"><span class="hs-identifier hs-var">haddockQuickJump</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570934"><span class="hs-identifier hs-type">flags</span></a></span><span>
</span><span id="line-582"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argCssFile"><span class="hs-identifier hs-var">argCssFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockCss"><span class="hs-identifier hs-var">haddockCss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570934"><span class="hs-identifier hs-type">flags</span></a></span><span>
</span><span id="line-583"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argContents"><span class="hs-identifier hs-var">argContents</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-584"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span>
</span><span id="line-585"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#fromPathTemplate"><span class="hs-identifier hs-type">fromPathTemplate</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#substPathTemplate"><span class="hs-identifier hs-type">substPathTemplate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570933"><span class="hs-identifier hs-type">env</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-586"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockContents"><span class="hs-identifier hs-var">haddockContents</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570934"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-587"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argGenContents"><span class="hs-identifier hs-var">argGenContents</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span>
</span><span id="line-588"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argIndex"><span class="hs-identifier hs-var">argIndex</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-589"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span>
</span><span id="line-590"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#fromPathTemplate"><span class="hs-identifier hs-type">fromPathTemplate</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#substPathTemplate"><span class="hs-identifier hs-type">substPathTemplate</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570933"><span class="hs-identifier hs-type">env</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-591"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockIndex"><span class="hs-identifier hs-var">haddockIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570934"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-592"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argGenIndex"><span class="hs-identifier hs-var">argGenIndex</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span>
</span><span id="line-593"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argBaseUrl"><span class="hs-identifier hs-var">argBaseUrl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockBaseUrl"><span class="hs-identifier hs-var">haddockBaseUrl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570934"><span class="hs-identifier hs-type">flags</span></a></span><span>
</span><span id="line-594"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argResourcesDir"><span class="hs-identifier hs-var">argResourcesDir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockResourcesDir"><span class="hs-identifier hs-var">haddockResourcesDir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570934"><span class="hs-identifier hs-type">flags</span></a></span><span>
</span><span id="line-595"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argVerbose"><span class="hs-identifier hs-var">argVerbose</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-596"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">mempty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Any</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">&gt;=</span></span><span> </span><span class="annot"><span class="hs-identifier">deafening</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-597"></span><span>          </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-type">flagToMaybe</span></a></span><span>
</span><span id="line-598"></span><span>          </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#setupVerbosity"><span class="hs-identifier hs-var">setupVerbosity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570946"><span class="hs-identifier hs-type">commonFlags</span></a></span><span>
</span><span id="line-599"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argOutput"><span class="hs-identifier hs-var">argOutput</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-600"></span><span>        </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Simple.Haddock.html#Html"><span class="hs-identifier hs-type">Html</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockHtml"><span class="hs-identifier hs-var">haddockHtml</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570934"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-601"></span><span>          </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Simple.Haddock.html#Hoogle"><span class="hs-identifier hs-type">Hoogle</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockHoogle"><span class="hs-identifier hs-var">haddockHoogle</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570934"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-602"></span><span>          </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Output
</span><a href="Distribution.Simple.Haddock.html#Html"><span class="hs-identifier hs-var">Html</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-603"></span><span>          </span><span id="local-6989586621679570947"><span class="annot"><span class="annottext">[Output]
</span><a href="#local-6989586621679570947"><span class="hs-identifier hs-var">os</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Output]
</span><a href="#local-6989586621679570947"><span class="hs-identifier hs-var">os</span></a></span><span>
</span><span id="line-604"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argOutputDir"><span class="hs-identifier hs-var">argOutputDir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">mempty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier hs-type">getSymbolicPath</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-type">flagToMaybe</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#setupDistPref"><span class="hs-identifier hs-var">setupDistPref</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570946"><span class="hs-identifier hs-type">commonFlags</span></a></span><span>
</span><span id="line-605"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argGhcOptions"><span class="hs-identifier hs-var">argGhcOptions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mempty</span></span><span class="hs-special">{</span><span class="annot"><a href="Distribution.Simple.Program.GHC.html#ghcOptExtra"><span class="hs-identifier hs-var">ghcOptExtra</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679570950"><span class="hs-identifier hs-type">ghcArgs</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-606"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argUseUnicode"><span class="hs-identifier hs-var">argUseUnicode</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockUseUnicode"><span class="hs-identifier hs-var">haddockUseUnicode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570934"><span class="hs-identifier hs-type">flags</span></a></span><span>
</span><span id="line-607"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-608"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-609"></span><span>    </span><span id="local-6989586621679570950"><span class="annot"><span class="annottext">ghcArgs :: [String]
</span><a href="#local-6989586621679570950"><span class="hs-identifier hs-var hs-var">ghcArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String] -&gt; [String]
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(Maybe [String] -&gt; [String])
-&gt; (HaddockFlags -&gt; Maybe [String]) -&gt; HaddockFlags -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, [String])] -&gt; Maybe [String]
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-identifier hs-var">lookup</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ghc&quot;</span></span><span> </span><span class="annot"><span class="annottext">([(String, [String])] -&gt; Maybe [String])
-&gt; (HaddockFlags -&gt; [(String, [String])])
-&gt; HaddockFlags
-&gt; Maybe [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; [(String, [String])]
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockProgramArgs"><span class="hs-identifier hs-var">haddockProgramArgs</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockFlags -&gt; [String]) -&gt; HaddockFlags -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570934"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-610"></span><span>    </span><span id="local-6989586621679570946"><span class="annot"><span class="annottext">commonFlags :: CommonSetupFlags
</span><a href="#local-6989586621679570946"><span class="hs-identifier hs-var hs-var">commonFlags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; CommonSetupFlags
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockCommonFlags"><span class="hs-identifier hs-var">haddockCommonFlags</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679570934"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-611"></span><span>
</span><span id="line-612"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#fromHaddockProjectFlags"><span class="hs-identifier hs-type">fromHaddockProjectFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockProjectFlags"><span class="hs-identifier hs-type">HaddockProjectFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-613"></span><span id="fromHaddockProjectFlags"><span class="annot"><span class="annottext">fromHaddockProjectFlags :: HaddockProjectFlags -&gt; HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromHaddockProjectFlags"><span class="hs-identifier hs-var hs-var">fromHaddockProjectFlags</span></a></span></span><span> </span><span id="local-6989586621679570957"><span class="annot"><span class="annottext">HaddockProjectFlags
</span><a href="#local-6989586621679570957"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-614"></span><span>  </span><span class="annot"><span class="annottext">HaddockArgs
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-615"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argOutputDir"><span class="hs-identifier hs-var">argOutputDir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-type">fromFlag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockProjectDir"><span class="hs-identifier hs-var">haddockProjectDir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570957"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-616"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argQuickJump"><span class="hs-identifier hs-var">argQuickJump</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-617"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argGenContents"><span class="hs-identifier hs-var">argGenContents</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-618"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argGenIndex"><span class="hs-identifier hs-var">argGenIndex</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-619"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argPrologueFile"><span class="hs-identifier hs-var">argPrologueFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockProjectPrologue"><span class="hs-identifier hs-var">haddockProjectPrologue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570957"><span class="hs-identifier hs-type">flags</span></a></span><span>
</span><span id="line-620"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argInterfaces"><span class="hs-identifier hs-var">argInterfaces</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#fromFlagOrDefault"><span class="hs-identifier hs-type">fromFlagOrDefault</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockProjectInterfaces"><span class="hs-identifier hs-var">haddockProjectInterfaces</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570957"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-621"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argLinkedSource"><span class="hs-identifier hs-var">argLinkedSource</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-622"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argResourcesDir"><span class="hs-identifier hs-var">argResourcesDir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockProjectResourcesDir"><span class="hs-identifier hs-var">haddockProjectResourcesDir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570957"><span class="hs-identifier hs-type">flags</span></a></span><span>
</span><span id="line-623"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-624"></span><span>
</span><span id="line-625"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#fromPackageDescription"><span class="hs-identifier hs-type">fromPackageDescription</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockTarget"><span class="hs-identifier hs-type">HaddockTarget</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-626"></span><span id="fromPackageDescription"><span class="annot"><span class="annottext">fromPackageDescription :: HaddockTarget -&gt; PackageDescription -&gt; HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromPackageDescription"><span class="hs-identifier hs-var hs-var">fromPackageDescription</span></a></span></span><span> </span><span id="local-6989586621679570962"><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679570962"><span class="hs-identifier hs-var">_haddockTarget</span></a></span></span><span> </span><span id="local-6989586621679570963"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570963"><span class="hs-identifier hs-var">pkg_descr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-627"></span><span>  </span><span class="annot"><span class="annottext">HaddockArgs
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-628"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argInterfaceFile"><span class="hs-identifier hs-var">argInterfaceFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Distribution.Simple.BuildPaths.html#haddockPath"><span class="hs-identifier hs-type">haddockPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570963"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span>
</span><span id="line-629"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argPackageName"><span class="hs-identifier hs-var">argPackageName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Package.html#packageId"><span class="hs-identifier hs-type">packageId</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621679570963"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span>
</span><span id="line-630"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argOutputDir"><span class="hs-identifier hs-var">argOutputDir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;doc&quot;</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-type">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;html&quot;</span></span><span>
</span><span id="line-631"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argPrologue"><span class="hs-identifier hs-var">argPrologue</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-632"></span><span>        </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-633"></span><span>          </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.ShortText.html#fromShortText"><span class="hs-identifier hs-type">ShortText.fromShortText</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-634"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.ShortText.html#null"><span class="hs-identifier hs-type">ShortText.null</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570967"><span class="hs-identifier hs-type">desc</span></a></span><span>
</span><span id="line-635"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#synopsis"><span class="hs-identifier hs-var">synopsis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570963"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span>
</span><span id="line-636"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="#local-6989586621679570967"><span class="hs-identifier hs-type">desc</span></a></span><span>
</span><span id="line-637"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argTitle"><span class="hs-identifier hs-var">argTitle</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621679570969"><span class="hs-identifier hs-type">showPkg</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621679570970"><span class="hs-identifier hs-type">subtitle</span></a></span><span>
</span><span id="line-638"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-639"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-640"></span><span>    </span><span id="local-6989586621679570967"><span class="annot"><span class="annottext">desc :: ShortText
</span><a href="#local-6989586621679570967"><span class="hs-identifier hs-var hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#description"><span class="hs-identifier hs-var">description</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570963"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span>
</span><span id="line-641"></span><span>    </span><span id="local-6989586621679570969"><span class="annot"><span class="annottext">showPkg :: String
</span><a href="#local-6989586621679570969"><span class="hs-identifier hs-var hs-var">showPkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PackageIdentifier -&gt; String
forall a. Pretty a =&gt; a -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; PackageIdentifier
forall pkg. Package pkg =&gt; pkg -&gt; PackageIdentifier
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Package.html#packageId"><span class="hs-identifier hs-var">packageId</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570963"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-642"></span><span>    </span><span id="local-6989586621679570970"><span class="annot"><span class="annottext">subtitle :: String
</span><a href="#local-6989586621679570970"><span class="hs-identifier hs-var hs-var">subtitle</span></a></span></span><span>
</span><span id="line-643"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; Bool
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.ShortText.html#null"><span class="hs-identifier hs-var">ShortText.null</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#synopsis"><span class="hs-identifier hs-var">synopsis</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570963"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-644"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.ShortText.html#fromShortText"><span class="hs-identifier hs-var">ShortText.fromShortText</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; ShortText
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#synopsis"><span class="hs-identifier hs-var">synopsis</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679570963"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-645"></span><span>
</span><span id="line-646"></span><span id="local-6989586621679570112"><span class="annot"><a href="Distribution.Simple.Haddock.html#componentGhcOptions"><span class="hs-identifier hs-type">componentGhcOptions</span></a></span><span>
</span><span id="line-647"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-648"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-649"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.BuildInfo.html#BuildInfo"><span class="hs-identifier hs-type">BuildInfo</span></a></span><span>
</span><span id="line-650"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.ComponentLocalBuildInfo.html#ComponentLocalBuildInfo"><span class="hs-identifier hs-type">ComponentLocalBuildInfo</span></a></span><span>
</span><span id="line-651"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570112"><span class="hs-identifier hs-type">build</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-652"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.GHC.html#GhcOptions"><span class="hs-identifier hs-type">GhcOptions</span></a></span></span><span>
</span><span id="line-653"></span><span id="componentGhcOptions"><span class="annot"><span class="annottext">componentGhcOptions :: forall build.
Verbosity
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; SymbolicPath Pkg ('Dir build)
-&gt; GhcOptions
</span><a href="Distribution.Simple.Haddock.html#componentGhcOptions"><span class="hs-identifier hs-var hs-var">componentGhcOptions</span></a></span></span><span> </span><span id="local-6989586621679570977"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570977"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679570978"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570978"><span class="hs-identifier hs-var">lbi</span></a></span></span><span> </span><span id="local-6989586621679570979"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679570979"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span id="local-6989586621679570980"><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570980"><span class="hs-identifier hs-var">clbi</span></a></span></span><span> </span><span id="local-6989586621679570981"><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir build)
</span><a href="#local-6989586621679570981"><span class="hs-identifier hs-var">odir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-654"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679570984"><span class="annot"><span class="annottext">f :: Verbosity
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; SymbolicPath Pkg ('Dir build)
-&gt; GhcOptions
</span><a href="#local-6989586621679570984"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Compiler -&gt; CompilerFlavor
</span><a href="Distribution.Simple.Compiler.html#compilerFlavor"><span class="hs-identifier hs-var">compilerFlavor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; Compiler
</span><a href="Distribution.Types.LocalBuildInfo.html#compiler"><span class="hs-identifier hs-var">compiler</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570978"><span class="hs-identifier hs-var">lbi</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-655"></span><span>        </span><span class="annot"><span class="annottext">CompilerFlavor
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Compiler.html#GHC"><span class="hs-identifier hs-var">GHC</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; SymbolicPath Pkg ('Dir build)
-&gt; GhcOptions
forall build.
Verbosity
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; SymbolicPath Pkg ('Dir build)
-&gt; GhcOptions
</span><a href="Distribution.Simple.GHC.Internal.html#componentGhcOptions"><span class="hs-identifier hs-var">GHC.componentGhcOptions</span></a></span><span>
</span><span id="line-656"></span><span>        </span><span class="annot"><span class="annottext">CompilerFlavor
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Compiler.html#GHCJS"><span class="hs-identifier hs-var">GHCJS</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; SymbolicPath Pkg ('Dir build)
-&gt; GhcOptions
forall build.
Verbosity
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; SymbolicPath Pkg ('Dir build)
-&gt; GhcOptions
</span><a href="Distribution.Simple.GHCJS.html#componentGhcOptions"><span class="hs-identifier hs-var">GHCJS.componentGhcOptions</span></a></span><span>
</span><span id="line-657"></span><span>        </span><span class="annot"><span class="annottext">CompilerFlavor
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-658"></span><span>          </span><span class="annot"><span class="annottext">String
-&gt; Verbosity
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; SymbolicPath Pkg ('Dir build)
-&gt; GhcOptions
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String
 -&gt; Verbosity
 -&gt; LocalBuildInfo
 -&gt; BuildInfo
 -&gt; ComponentLocalBuildInfo
 -&gt; SymbolicPath Pkg ('Dir build)
 -&gt; GhcOptions)
-&gt; String
-&gt; Verbosity
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; SymbolicPath Pkg ('Dir build)
-&gt; GhcOptions
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-659"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Distribution.Simple.Haddock.componentGhcOptions:&quot;</span></span><span>
</span><span id="line-660"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;haddock only supports GHC and GHCJS&quot;</span></span><span>
</span><span id="line-661"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; SymbolicPath Pkg ('Dir build)
-&gt; GhcOptions
forall build.
Verbosity
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; SymbolicPath Pkg ('Dir build)
-&gt; GhcOptions
</span><a href="#local-6989586621679570984"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570977"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570978"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679570979"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570980"><span class="hs-identifier hs-var">clbi</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir build)
</span><a href="#local-6989586621679570981"><span class="hs-identifier hs-var">odir</span></a></span><span>
</span><span id="line-662"></span><span>
</span><span id="line-663"></span><span class="hs-comment">{-
Note [Hi Haddock Recompilation Avoidance]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Starting with Haddock 2.28, we no longer want to run Haddock's GHC session in
an arbitrary temporary directory. Doing so always causes recompilation during
documentation generation, which can now be avoided thanks to Hi Haddock.

Instead, we want to re-use the interface and object files produced by GHC.
We copy these intermediate files produced by GHC to temporary directories and
point haddock to them.

The reason why we can't use the GHC files /inplace/ is that haddock may have to
recompile (e.g. because of `haddock-options`). In that case, we want to be sure
the files produced by GHC do not get overwritten.

See https://github.com/haskell/cabal/pull/9177 for discussion.

(W.1) As it turns out, -stubdir is included in GHC's recompilation fingerprint.
This means that if we use a temporary directory for stubfiles produced by GHC
for the haddock invocation, haddock will trigger full recompilation since the
stubdir would be different.

So we don't use a temporary stubdir, despite the tmp o-dir and hi-dir:

We want to avoid at all costs haddock accidentally overwriting o-files and
hi-files (e.g. if a user specified haddock-option triggers recompilation), and
thus copy them to a temporary directory to pass them on to haddock. However,
stub files are much less problematic since ABI-incompatibility isn't at play
here, that is, there doesn't seem to be a GHC flag that could accidentally make
a stub file incompatible with the one produced by GHC from the same module.
-}</span><span>
</span><span id="line-694"></span><span>
</span><span id="line-695"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#mkHaddockArgs"><span class="hs-identifier hs-type">mkHaddockArgs</span></a></span><span>
</span><span id="line-696"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-697"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-698"></span><span>  </span><span class="hs-comment">-- ^ Directories for -hidir, -odir, and -stubdir to GHC through Haddock.</span><span>
</span><span id="line-699"></span><span>  </span><span class="hs-comment">-- See Note [Hi Haddock Recompilation Avoidance]</span><span>
</span><span id="line-700"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-701"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.ComponentLocalBuildInfo.html#ComponentLocalBuildInfo"><span class="hs-identifier hs-type">ComponentLocalBuildInfo</span></a></span><span>
</span><span id="line-702"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#PathTemplate"><span class="hs-identifier hs-type">PathTemplate</span></a></span><span>
</span><span id="line-703"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ template for HTML location</span></span><span>
</span><span id="line-704"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#File"><span class="hs-identifier hs-type">File</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-705"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.BuildInfo.html#BuildInfo"><span class="hs-identifier hs-type">BuildInfo</span></a></span><span>
</span><span id="line-706"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-707"></span><span id="mkHaddockArgs"><span class="annot"><span class="annottext">mkHaddockArgs :: Verbosity
-&gt; (SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts))
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; [SymbolicPath Pkg 'File]
-&gt; BuildInfo
-&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#mkHaddockArgs"><span class="hs-identifier hs-var hs-var">mkHaddockArgs</span></a></span></span><span> </span><span id="local-6989586621679570991"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570991"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679570992"><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
</span><a href="#local-6989586621679570992"><span class="hs-identifier hs-var">tmpObjDir</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679570993"><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
</span><a href="#local-6989586621679570993"><span class="hs-identifier hs-var">tmpHiDir</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679570994"><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
</span><a href="#local-6989586621679570994"><span class="hs-identifier hs-var">tmpStubDir</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679570995"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570995"><span class="hs-identifier hs-var">lbi</span></a></span></span><span> </span><span id="local-6989586621679570996"><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570996"><span class="hs-identifier hs-var">clbi</span></a></span></span><span> </span><span id="local-6989586621679570997"><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679570997"><span class="hs-identifier hs-var">htmlTemplate</span></a></span></span><span> </span><span id="local-6989586621679570998"><span class="annot"><span class="annottext">[SymbolicPath Pkg 'File]
</span><a href="#local-6989586621679570998"><span class="hs-identifier hs-var">inFiles</span></a></span></span><span> </span><span id="local-6989586621679570999"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679570999"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-708"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-709"></span><span>    </span><span id="local-6989586621679571000"><span class="annot"><span class="annottext">vanillaOpts' :: GhcOptions
</span><a href="#local-6989586621679571000"><span class="hs-identifier hs-var hs-var hs-var">vanillaOpts'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-710"></span><span>      </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; SymbolicPath Pkg ('Dir Build)
-&gt; GhcOptions
forall build.
Verbosity
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; SymbolicPath Pkg ('Dir build)
-&gt; GhcOptions
</span><a href="Distribution.Simple.Haddock.html#componentGhcOptions"><span class="hs-identifier hs-var">componentGhcOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="Distribution.Verbosity.html#normal"><span class="hs-identifier hs-var">normal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570995"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679570999"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570996"><span class="hs-identifier hs-var">clbi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; SymbolicPath Pkg ('Dir Build)
</span><a href="Distribution.Types.LocalBuildInfo.html#buildDir"><span class="hs-identifier hs-var">buildDir</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570995"><span class="hs-identifier hs-var">lbi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-711"></span><span>    </span><span id="local-6989586621679571003"><span class="annot"><span class="annottext">vanillaOpts :: GhcOptions
</span><a href="#local-6989586621679571003"><span class="hs-identifier hs-var hs-var hs-var">vanillaOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-712"></span><span>      </span><span class="annot"><span class="annottext">GhcOptions
</span><a href="#local-6989586621679571000"><span class="hs-identifier hs-var">vanillaOpts'</span></a></span><span>
</span><span id="line-713"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="hs-comment">-- See Note [Hi Haddock Recompilation Avoidance]</span><span>
</span><span id="line-714"></span><span>          </span><span class="annot"><a href="Distribution.Simple.Program.GHC.html#ghcOptObjDir"><span class="hs-identifier hs-var">ghcOptObjDir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#toFlag"><span class="hs-identifier hs-type">toFlag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570992"><span class="hs-identifier hs-type">tmpObjDir</span></a></span><span>
</span><span id="line-715"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.GHC.html#ghcOptHiDir"><span class="hs-identifier hs-var">ghcOptHiDir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#toFlag"><span class="hs-identifier hs-type">toFlag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570993"><span class="hs-identifier hs-type">tmpHiDir</span></a></span><span>
</span><span id="line-716"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.GHC.html#ghcOptStubDir"><span class="hs-identifier hs-var">ghcOptStubDir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#toFlag"><span class="hs-identifier hs-type">toFlag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570994"><span class="hs-identifier hs-type">tmpStubDir</span></a></span><span>
</span><span id="line-717"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-718"></span><span>    </span><span id="local-6989586621679571008"><span class="annot"><span class="annottext">sharedOpts :: GhcOptions
</span><a href="#local-6989586621679571008"><span class="hs-identifier hs-var hs-var hs-var">sharedOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-719"></span><span>      </span><span class="annot"><span class="annottext">GhcOptions
</span><a href="#local-6989586621679571003"><span class="hs-identifier hs-var">vanillaOpts</span></a></span><span>
</span><span id="line-720"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.GHC.html#ghcOptDynLinkMode"><span class="hs-identifier hs-var">ghcOptDynLinkMode</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#toFlag"><span class="hs-identifier hs-type">toFlag</span></a></span><span> </span><span class="annot"><a href="Distribution.Simple.Program.GHC.html#GhcDynamicOnly"><span class="hs-identifier hs-type">GhcDynamicOnly</span></a></span><span>
</span><span id="line-721"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.GHC.html#ghcOptFPic"><span class="hs-identifier hs-var">ghcOptFPic</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#toFlag"><span class="hs-identifier hs-type">toFlag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-722"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.GHC.html#ghcOptHiSuffix"><span class="hs-identifier hs-var">ghcOptHiSuffix</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#toFlag"><span class="hs-identifier hs-type">toFlag</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;dyn_hi&quot;</span></span><span>
</span><span id="line-723"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.GHC.html#ghcOptObjSuffix"><span class="hs-identifier hs-var">ghcOptObjSuffix</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#toFlag"><span class="hs-identifier hs-type">toFlag</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;dyn_o&quot;</span></span><span>
</span><span id="line-724"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.GHC.html#ghcOptExtra"><span class="hs-identifier hs-var">ghcOptExtra</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.BuildInfo.html#hcSharedOptions"><span class="hs-identifier hs-type">hcSharedOptions</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Compiler.html#GHC"><span class="hs-identifier hs-type">GHC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570999"><span class="hs-identifier hs-type">bi</span></a></span><span>
</span><span id="line-725"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-726"></span><span>  </span><span id="local-6989586621679571015"><span class="annot"><a href="#local-6989586621679571015"><span class="hs-identifier hs-var">ifaceArgs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#getInterfaces"><span class="hs-identifier hs-var">getInterfaces</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679570991"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679570995"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679570996"><span class="hs-identifier hs-var">clbi</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679570997"><span class="hs-identifier hs-var">htmlTemplate</span></a></span><span>
</span><span id="line-727"></span><span>  </span><span id="local-6989586621679571017"><span class="annot"><a href="#local-6989586621679571017"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-728"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#withVanillaLib"><span class="hs-identifier hs-var">withVanillaLib</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570995"><span class="hs-identifier hs-type">lbi</span></a></span><span>
</span><span id="line-729"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621679571003"><span class="hs-identifier hs-type">vanillaOpts</span></a></span><span>
</span><span id="line-730"></span><span>      </span><span class="hs-keyword">else</span><span>
</span><span id="line-731"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#withSharedLib"><span class="hs-identifier hs-var">withSharedLib</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570995"><span class="hs-identifier hs-type">lbi</span></a></span><span>
</span><span id="line-732"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621679571008"><span class="hs-identifier hs-type">sharedOpts</span></a></span><span>
</span><span id="line-733"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="Distribution.Simple.Utils.html#dieWithException"><span class="hs-identifier hs-type">dieWithException</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570991"><span class="hs-identifier hs-type">verbosity</span></a></span><span> </span><span class="annot"><a href="Distribution.Simple.Errors.html#MustHaveSharedLibraries"><span class="hs-identifier hs-type">MustHaveSharedLibraries</span></a></span><span>
</span><span id="line-734"></span><span>
</span><span id="line-735"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span>
</span><span id="line-736"></span><span>    </span><span class="annot"><a href="#local-6989586621679571015"><span class="hs-identifier hs-type">ifaceArgs</span></a></span><span>
</span><span id="line-737"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argGhcOptions"><span class="hs-identifier hs-var">argGhcOptions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679571017"><span class="hs-identifier hs-type">opts</span></a></span><span>
</span><span id="line-738"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argTargets"><span class="hs-identifier hs-var">argTargets</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">map</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#getSymbolicPath"><span class="hs-identifier hs-type">getSymbolicPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570998"><span class="hs-identifier hs-type">inFiles</span></a></span><span>
</span><span id="line-739"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argReexports"><span class="hs-identifier hs-var">argReexports</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#getReexports"><span class="hs-identifier hs-type">getReexports</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570996"><span class="hs-identifier hs-type">clbi</span></a></span><span>
</span><span id="line-740"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-741"></span><span>
</span><span id="line-742"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#fromLibrary"><span class="hs-identifier hs-type">fromLibrary</span></a></span><span>
</span><span id="line-743"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-744"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-745"></span><span>  </span><span class="hs-comment">-- ^ Directories for -hidir, -odir, and -stubdir to GHC through Haddock.</span><span>
</span><span id="line-746"></span><span>  </span><span class="hs-comment">-- See Note [Hi Haddock Recompilation Avoidance]</span><span>
</span><span id="line-747"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-748"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.ComponentLocalBuildInfo.html#ComponentLocalBuildInfo"><span class="hs-identifier hs-type">ComponentLocalBuildInfo</span></a></span><span>
</span><span id="line-749"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#PathTemplate"><span class="hs-identifier hs-type">PathTemplate</span></a></span><span>
</span><span id="line-750"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ template for HTML location</span></span><span>
</span><span id="line-751"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockTarget"><span class="hs-identifier hs-type">HaddockTarget</span></a></span><span>
</span><span id="line-752"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-753"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Library.html#Library"><span class="hs-identifier hs-type">Library</span></a></span><span>
</span><span id="line-754"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-755"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ common args</span></span><span>
</span><span id="line-756"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-757"></span><span id="fromLibrary"><span class="annot"><span class="annottext">fromLibrary :: Verbosity
-&gt; (SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts))
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; HaddockTarget
-&gt; PackageDescription
-&gt; Library
-&gt; HaddockArgs
-&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromLibrary"><span class="hs-identifier hs-var hs-var">fromLibrary</span></a></span></span><span> </span><span id="local-6989586621679571022"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571022"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679571023"><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts))
</span><a href="#local-6989586621679571023"><span class="hs-identifier hs-var">haddockArtifactsDirs</span></a></span></span><span> </span><span id="local-6989586621679571024"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571024"><span class="hs-identifier hs-var">lbi</span></a></span></span><span> </span><span id="local-6989586621679571025"><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571025"><span class="hs-identifier hs-var">clbi</span></a></span></span><span> </span><span id="local-6989586621679571026"><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679571026"><span class="hs-identifier hs-var">htmlTemplate</span></a></span></span><span> </span><span id="local-6989586621679571027"><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679571027"><span class="hs-identifier hs-var">haddockTarget</span></a></span></span><span> </span><span id="local-6989586621679571028"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679571028"><span class="hs-identifier hs-var">pkg_descr</span></a></span></span><span> </span><span id="local-6989586621679571029"><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679571029"><span class="hs-identifier hs-var">lib</span></a></span></span><span> </span><span id="local-6989586621679571030"><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571030"><span class="hs-identifier hs-var">commonArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-758"></span><span>  </span><span id="local-6989586621679571031"><span class="annot"><a href="#local-6989586621679571031"><span class="hs-identifier hs-var">inFiles</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((ModuleName, SymbolicPath Pkg 'File) -&gt; SymbolicPath Pkg 'File)
-&gt; [(ModuleName, SymbolicPath Pkg 'File)]
-&gt; [SymbolicPath Pkg 'File]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(ModuleName, SymbolicPath Pkg 'File) -&gt; SymbolicPath Pkg 'File
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">([(ModuleName, SymbolicPath Pkg 'File)]
 -&gt; [SymbolicPath Pkg 'File])
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)]
-&gt; IO [SymbolicPath Pkg 'File]
forall a b. (a -&gt; b) -&gt; IO a -&gt; IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">`fmap`</span></span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; Library
-&gt; ComponentLocalBuildInfo
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)]
</span><a href="Distribution.Simple.BuildPaths.html#getLibSourceFiles"><span class="hs-identifier hs-var">getLibSourceFiles</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571022"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571024"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679571029"><span class="hs-identifier hs-var">lib</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571025"><span class="hs-identifier hs-var">clbi</span></a></span><span>
</span><span id="line-759"></span><span>  </span><span id="local-6989586621679571034"><span class="annot"><a href="#local-6989586621679571034"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-760"></span><span>    </span><span class="annot"><a href="Distribution.Simple.Haddock.html#mkHaddockArgs"><span class="hs-identifier hs-type">mkHaddockArgs</span></a></span><span>
</span><span id="line-761"></span><span>      </span><span class="annot"><a href="#local-6989586621679571022"><span class="hs-identifier hs-type">verbosity</span></a></span><span>
</span><span id="line-762"></span><span>      </span><span class="annot"><a href="#local-6989586621679571023"><span class="hs-identifier hs-type">haddockArtifactsDirs</span></a></span><span>
</span><span id="line-763"></span><span>      </span><span class="annot"><a href="#local-6989586621679571024"><span class="hs-identifier hs-type">lbi</span></a></span><span>
</span><span id="line-764"></span><span>      </span><span class="annot"><a href="#local-6989586621679571025"><span class="hs-identifier hs-type">clbi</span></a></span><span>
</span><span id="line-765"></span><span>      </span><span class="annot"><a href="#local-6989586621679571026"><span class="hs-identifier hs-type">htmlTemplate</span></a></span><span>
</span><span id="line-766"></span><span>      </span><span class="annot"><a href="#local-6989586621679571031"><span class="hs-identifier hs-type">inFiles</span></a></span><span>
</span><span id="line-767"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Library.html#libBuildInfo"><span class="hs-identifier hs-var">libBuildInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571029"><span class="hs-identifier hs-type">lib</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-768"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571038"><span class="annot"><a href="#local-6989586621679571038"><span class="hs-identifier hs-var hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-769"></span><span>        </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571030"><span class="hs-identifier hs-var">commonArgs</span></a></span><span>
</span><span id="line-770"></span><span>          </span><span class="annot"><span class="annottext">HaddockArgs -&gt; HaddockArgs -&gt; HaddockArgs
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571034"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-771"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argOutputDir"><span class="hs-identifier hs-var">argOutputDir</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-772"></span><span>                </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Distribution.Simple.BuildPaths.html#haddockLibraryDirPath"><span class="hs-identifier hs-type">haddockLibraryDirPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571027"><span class="hs-identifier hs-type">haddockTarget</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571028"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571029"><span class="hs-identifier hs-type">lib</span></a></span><span>
</span><span id="line-773"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argInterfaceFile"><span class="hs-identifier hs-var">argInterfaceFile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Distribution.Simple.BuildPaths.html#haddockLibraryPath"><span class="hs-identifier hs-type">haddockLibraryPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571028"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571029"><span class="hs-identifier hs-type">lib</span></a></span><span>
</span><span id="line-774"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-775"></span><span>      </span><span id="local-6989586621679571045"><span class="annot"><a href="#local-6989586621679571045"><span class="hs-identifier hs-var hs-var">args''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-776"></span><span>        </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571038"><span class="hs-identifier hs-var">args'</span></a></span><span>
</span><span id="line-777"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argHideModules"><span class="hs-identifier hs-var">argHideModules</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.BuildInfo.html#otherModules"><span class="hs-identifier hs-var">otherModules</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Library.html#libBuildInfo"><span class="hs-identifier hs-var">libBuildInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571029"><span class="hs-identifier hs-type">lib</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-778"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argTitle"><span class="hs-identifier hs-var">argTitle</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Distribution.Simple.BuildPaths.html#haddockPackageLibraryName"><span class="hs-identifier hs-type">haddockPackageLibraryName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571028"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571029"><span class="hs-identifier hs-type">lib</span></a></span><span>
</span><span id="line-779"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argComponentName"><span class="hs-identifier hs-var">argComponentName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#toFlag"><span class="hs-identifier hs-type">toFlag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.BuildPaths.html#haddockPackageLibraryName%27"><span class="hs-identifier hs-type">haddockPackageLibraryName'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageId.html#pkgName"><span class="hs-identifier hs-var">pkgName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#package"><span class="hs-identifier hs-var">package</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571028"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Library.html#libName"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571029"><span class="hs-identifier hs-type">lib</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-780"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- we need to accommodate for `argOutputDir`, see `haddockLibraryPath`</span><span>
</span><span id="line-781"></span><span>            </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argBaseUrl"><span class="hs-identifier hs-var">argBaseUrl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Library.html#libName"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571029"><span class="hs-identifier hs-type">lib</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argBaseUrl"><span class="hs-identifier hs-var">argBaseUrl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571038"><span class="hs-identifier hs-type">args'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-782"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.LibraryName.html#LSubLibName"><span class="hs-identifier hs-type">LSubLibName</span></a></span><span> </span><span class="annot"><span class="annottext">UnqualComponentName
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571053"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571053"><span class="hs-identifier hs-var">url</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571053"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-783"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LibraryName
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571054"><span class="annot"><span class="annottext">Flag String
</span><a href="#local-6989586621679571054"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
</span><a href="#local-6989586621679571054"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-784"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argContents"><span class="hs-identifier hs-var">argContents</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Library.html#libName"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571029"><span class="hs-identifier hs-type">lib</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argContents"><span class="hs-identifier hs-var">argContents</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571038"><span class="hs-identifier hs-type">args'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-785"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.LibraryName.html#LSubLibName"><span class="hs-identifier hs-type">LSubLibName</span></a></span><span> </span><span class="annot"><span class="annottext">UnqualComponentName
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571055"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571055"><span class="hs-identifier hs-var">url</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571055"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-786"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LibraryName
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571056"><span class="annot"><span class="annottext">Flag String
</span><a href="#local-6989586621679571056"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
</span><a href="#local-6989586621679571056"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-787"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argIndex"><span class="hs-identifier hs-var">argIndex</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Library.html#libName"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571029"><span class="hs-identifier hs-type">lib</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argIndex"><span class="hs-identifier hs-var">argIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571038"><span class="hs-identifier hs-type">args'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-788"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.LibraryName.html#LSubLibName"><span class="hs-identifier hs-type">LSubLibName</span></a></span><span> </span><span class="annot"><span class="annottext">UnqualComponentName
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571057"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571057"><span class="hs-identifier hs-var">url</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571057"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-789"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LibraryName
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571058"><span class="annot"><span class="annottext">Flag String
</span><a href="#local-6989586621679571058"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
</span><a href="#local-6989586621679571058"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-790"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-791"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621679571045"><span class="hs-identifier hs-type">args''</span></a></span><span>
</span><span id="line-792"></span><span>
</span><span id="line-793"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#fromExecutable"><span class="hs-identifier hs-type">fromExecutable</span></a></span><span>
</span><span id="line-794"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-795"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-796"></span><span>  </span><span class="hs-comment">-- ^ Directories for -hidir, -odir, and -stubdir to GHC through Haddock.</span><span>
</span><span id="line-797"></span><span>  </span><span class="hs-comment">-- See Note [Hi Haddock Recompilation Avoidance]</span><span>
</span><span id="line-798"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-799"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.ComponentLocalBuildInfo.html#ComponentLocalBuildInfo"><span class="hs-identifier hs-type">ComponentLocalBuildInfo</span></a></span><span>
</span><span id="line-800"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#PathTemplate"><span class="hs-identifier hs-type">PathTemplate</span></a></span><span>
</span><span id="line-801"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ template for HTML location</span></span><span>
</span><span id="line-802"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockTarget"><span class="hs-identifier hs-type">HaddockTarget</span></a></span><span>
</span><span id="line-803"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-804"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#Executable"><span class="hs-identifier hs-type">Executable</span></a></span><span>
</span><span id="line-805"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-806"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ common args</span></span><span>
</span><span id="line-807"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-808"></span><span id="fromExecutable"><span class="annot"><span class="annottext">fromExecutable :: Verbosity
-&gt; (SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts))
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; HaddockTarget
-&gt; PackageDescription
-&gt; Executable
-&gt; HaddockArgs
-&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromExecutable"><span class="hs-identifier hs-var hs-var">fromExecutable</span></a></span></span><span> </span><span id="local-6989586621679571059"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571059"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679571060"><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts))
</span><a href="#local-6989586621679571060"><span class="hs-identifier hs-var">haddockArtifactsDirs</span></a></span></span><span> </span><span id="local-6989586621679571061"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571061"><span class="hs-identifier hs-var">lbi</span></a></span></span><span> </span><span id="local-6989586621679571062"><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571062"><span class="hs-identifier hs-var">clbi</span></a></span></span><span> </span><span id="local-6989586621679571063"><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679571063"><span class="hs-identifier hs-var">htmlTemplate</span></a></span></span><span> </span><span id="local-6989586621679571064"><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679571064"><span class="hs-identifier hs-var">haddockTarget</span></a></span></span><span> </span><span id="local-6989586621679571065"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679571065"><span class="hs-identifier hs-var">pkg_descr</span></a></span></span><span> </span><span id="local-6989586621679571066"><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679571066"><span class="hs-identifier hs-var">exe</span></a></span></span><span> </span><span id="local-6989586621679571067"><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571067"><span class="hs-identifier hs-var">commonArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-809"></span><span>  </span><span id="local-6989586621679571068"><span class="annot"><a href="#local-6989586621679571068"><span class="hs-identifier hs-var">inFiles</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((ModuleName, SymbolicPath Pkg 'File) -&gt; SymbolicPath Pkg 'File)
-&gt; [(ModuleName, SymbolicPath Pkg 'File)]
-&gt; [SymbolicPath Pkg 'File]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(ModuleName, SymbolicPath Pkg 'File) -&gt; SymbolicPath Pkg 'File
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">([(ModuleName, SymbolicPath Pkg 'File)]
 -&gt; [SymbolicPath Pkg 'File])
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)]
-&gt; IO [SymbolicPath Pkg 'File]
forall a b. (a -&gt; b) -&gt; IO a -&gt; IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">`fmap`</span></span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; Executable
-&gt; ComponentLocalBuildInfo
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)]
</span><a href="Distribution.Simple.BuildPaths.html#getExeSourceFiles"><span class="hs-identifier hs-var">getExeSourceFiles</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571059"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571061"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679571066"><span class="hs-identifier hs-var">exe</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571062"><span class="hs-identifier hs-var">clbi</span></a></span><span>
</span><span id="line-810"></span><span>  </span><span id="local-6989586621679571070"><span class="annot"><a href="#local-6989586621679571070"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-811"></span><span>    </span><span class="annot"><a href="Distribution.Simple.Haddock.html#mkHaddockArgs"><span class="hs-identifier hs-type">mkHaddockArgs</span></a></span><span>
</span><span id="line-812"></span><span>      </span><span class="annot"><a href="#local-6989586621679571059"><span class="hs-identifier hs-type">verbosity</span></a></span><span>
</span><span id="line-813"></span><span>      </span><span class="annot"><a href="#local-6989586621679571060"><span class="hs-identifier hs-type">haddockArtifactsDirs</span></a></span><span>
</span><span id="line-814"></span><span>      </span><span class="annot"><a href="#local-6989586621679571061"><span class="hs-identifier hs-type">lbi</span></a></span><span>
</span><span id="line-815"></span><span>      </span><span class="annot"><a href="#local-6989586621679571062"><span class="hs-identifier hs-type">clbi</span></a></span><span>
</span><span id="line-816"></span><span>      </span><span class="annot"><a href="#local-6989586621679571063"><span class="hs-identifier hs-type">htmlTemplate</span></a></span><span>
</span><span id="line-817"></span><span>      </span><span class="annot"><a href="#local-6989586621679571068"><span class="hs-identifier hs-type">inFiles</span></a></span><span>
</span><span id="line-818"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#buildInfo"><span class="hs-identifier hs-var">buildInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571066"><span class="hs-identifier hs-type">exe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-819"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571074"><span class="annot"><a href="#local-6989586621679571074"><span class="hs-identifier hs-var hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-820"></span><span>        </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571067"><span class="hs-identifier hs-var">commonArgs</span></a></span><span>
</span><span id="line-821"></span><span>          </span><span class="annot"><span class="annottext">HaddockArgs -&gt; HaddockArgs -&gt; HaddockArgs
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571070"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-822"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argOutputDir"><span class="hs-identifier hs-var">argOutputDir</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-823"></span><span>                </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-824"></span><span>                  </span><span class="annot"><a href="Distribution.Simple.BuildPaths.html#haddockDirName"><span class="hs-identifier hs-type">haddockDirName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571064"><span class="hs-identifier hs-type">haddockTarget</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571065"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span>
</span><span id="line-825"></span><span>                    </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-type">&lt;/&gt;</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.UnqualComponentName.html#unUnqualComponentName"><span class="hs-identifier hs-type">unUnqualComponentName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#exeName"><span class="hs-identifier hs-var">exeName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571066"><span class="hs-identifier hs-type">exe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-826"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-827"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span>
</span><span id="line-828"></span><span>    </span><span class="annot"><a href="#local-6989586621679571074"><span class="hs-identifier hs-type">args'</span></a></span><span>
</span><span id="line-829"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argTitle"><span class="hs-identifier hs-var">argTitle</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.UnqualComponentName.html#unUnqualComponentName"><span class="hs-identifier hs-type">unUnqualComponentName</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#exeName"><span class="hs-identifier hs-var">exeName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571066"><span class="hs-identifier hs-type">exe</span></a></span><span>
</span><span id="line-830"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- we need to accommodate `argOutputDir`</span><span>
</span><span id="line-831"></span><span>        </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argBaseUrl"><span class="hs-identifier hs-var">argBaseUrl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argBaseUrl"><span class="hs-identifier hs-var">argBaseUrl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571074"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-832"></span><span>          </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571077"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571077"><span class="hs-identifier hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571077"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-833"></span><span>          </span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
forall a. Flag a
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span>
</span><span id="line-834"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argContents"><span class="hs-identifier hs-var">argContents</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argContents"><span class="hs-identifier hs-var">argContents</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571074"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-835"></span><span>          </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571078"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571078"><span class="hs-identifier hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571078"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-836"></span><span>          </span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
forall a. Flag a
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span>
</span><span id="line-837"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argIndex"><span class="hs-identifier hs-var">argIndex</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argIndex"><span class="hs-identifier hs-var">argIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571074"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-838"></span><span>          </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571079"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571079"><span class="hs-identifier hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571079"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-839"></span><span>          </span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
forall a. Flag a
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span>
</span><span id="line-840"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-841"></span><span>
</span><span id="line-842"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#fromTest"><span class="hs-identifier hs-type">fromTest</span></a></span><span>
</span><span id="line-843"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-844"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-845"></span><span>  </span><span class="hs-comment">-- ^ Directories for -hidir, -odir, and -stubdir to GHC through Haddock.</span><span>
</span><span id="line-846"></span><span>  </span><span class="hs-comment">-- See Note [Hi Haddock Recompilation Avoidance]</span><span>
</span><span id="line-847"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-848"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.ComponentLocalBuildInfo.html#ComponentLocalBuildInfo"><span class="hs-identifier hs-type">ComponentLocalBuildInfo</span></a></span><span>
</span><span id="line-849"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#PathTemplate"><span class="hs-identifier hs-type">PathTemplate</span></a></span><span>
</span><span id="line-850"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ template for HTML location</span></span><span>
</span><span id="line-851"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockTarget"><span class="hs-identifier hs-type">HaddockTarget</span></a></span><span>
</span><span id="line-852"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-853"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.TestSuite.html#TestSuite"><span class="hs-identifier hs-type">TestSuite</span></a></span><span>
</span><span id="line-854"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-855"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ common args</span></span><span>
</span><span id="line-856"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-857"></span><span id="fromTest"><span class="annot"><span class="annottext">fromTest :: Verbosity
-&gt; (SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts))
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; HaddockTarget
-&gt; PackageDescription
-&gt; TestSuite
-&gt; HaddockArgs
-&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromTest"><span class="hs-identifier hs-var hs-var">fromTest</span></a></span></span><span> </span><span id="local-6989586621679571080"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571080"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679571081"><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts))
</span><a href="#local-6989586621679571081"><span class="hs-identifier hs-var">haddockArtifactsDirs</span></a></span></span><span> </span><span id="local-6989586621679571082"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571082"><span class="hs-identifier hs-var">lbi</span></a></span></span><span> </span><span id="local-6989586621679571083"><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571083"><span class="hs-identifier hs-var">clbi</span></a></span></span><span> </span><span id="local-6989586621679571084"><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679571084"><span class="hs-identifier hs-var">htmlTemplate</span></a></span></span><span> </span><span id="local-6989586621679571085"><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679571085"><span class="hs-identifier hs-var">haddockTarget</span></a></span></span><span> </span><span id="local-6989586621679571086"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679571086"><span class="hs-identifier hs-var">pkg_descr</span></a></span></span><span> </span><span id="local-6989586621679571087"><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679571087"><span class="hs-identifier hs-var">test</span></a></span></span><span> </span><span id="local-6989586621679571088"><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571088"><span class="hs-identifier hs-var">commonArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-858"></span><span>  </span><span id="local-6989586621679571089"><span class="annot"><a href="#local-6989586621679571089"><span class="hs-identifier hs-var">inFiles</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((ModuleName, SymbolicPath Pkg 'File) -&gt; SymbolicPath Pkg 'File)
-&gt; [(ModuleName, SymbolicPath Pkg 'File)]
-&gt; [SymbolicPath Pkg 'File]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(ModuleName, SymbolicPath Pkg 'File) -&gt; SymbolicPath Pkg 'File
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">([(ModuleName, SymbolicPath Pkg 'File)]
 -&gt; [SymbolicPath Pkg 'File])
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)]
-&gt; IO [SymbolicPath Pkg 'File]
forall a b. (a -&gt; b) -&gt; IO a -&gt; IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">`fmap`</span></span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; TestSuite
-&gt; ComponentLocalBuildInfo
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)]
</span><a href="Distribution.Simple.BuildPaths.html#getTestSourceFiles"><span class="hs-identifier hs-var">getTestSourceFiles</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571080"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571082"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679571087"><span class="hs-identifier hs-var">test</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571083"><span class="hs-identifier hs-var">clbi</span></a></span><span>
</span><span id="line-859"></span><span>  </span><span id="local-6989586621679571091"><span class="annot"><a href="#local-6989586621679571091"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-860"></span><span>    </span><span class="annot"><a href="Distribution.Simple.Haddock.html#mkHaddockArgs"><span class="hs-identifier hs-type">mkHaddockArgs</span></a></span><span>
</span><span id="line-861"></span><span>      </span><span class="annot"><a href="#local-6989586621679571080"><span class="hs-identifier hs-type">verbosity</span></a></span><span>
</span><span id="line-862"></span><span>      </span><span class="annot"><a href="#local-6989586621679571081"><span class="hs-identifier hs-type">haddockArtifactsDirs</span></a></span><span>
</span><span id="line-863"></span><span>      </span><span class="annot"><a href="#local-6989586621679571082"><span class="hs-identifier hs-type">lbi</span></a></span><span>
</span><span id="line-864"></span><span>      </span><span class="annot"><a href="#local-6989586621679571083"><span class="hs-identifier hs-type">clbi</span></a></span><span>
</span><span id="line-865"></span><span>      </span><span class="annot"><a href="#local-6989586621679571084"><span class="hs-identifier hs-type">htmlTemplate</span></a></span><span>
</span><span id="line-866"></span><span>      </span><span class="annot"><a href="#local-6989586621679571089"><span class="hs-identifier hs-type">inFiles</span></a></span><span>
</span><span id="line-867"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.TestSuite.html#testBuildInfo"><span class="hs-identifier hs-var">testBuildInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571087"><span class="hs-identifier hs-type">test</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-868"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571095"><span class="annot"><a href="#local-6989586621679571095"><span class="hs-identifier hs-var hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-869"></span><span>        </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571088"><span class="hs-identifier hs-var">commonArgs</span></a></span><span>
</span><span id="line-870"></span><span>          </span><span class="annot"><span class="annottext">HaddockArgs -&gt; HaddockArgs -&gt; HaddockArgs
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571091"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-871"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argOutputDir"><span class="hs-identifier hs-var">argOutputDir</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-872"></span><span>                </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-873"></span><span>                  </span><span class="annot"><a href="Distribution.Simple.BuildPaths.html#haddockDirName"><span class="hs-identifier hs-type">haddockDirName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571085"><span class="hs-identifier hs-type">haddockTarget</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571086"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span>
</span><span id="line-874"></span><span>                    </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-type">&lt;/&gt;</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.UnqualComponentName.html#unUnqualComponentName"><span class="hs-identifier hs-type">unUnqualComponentName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.TestSuite.html#testName"><span class="hs-identifier hs-var">testName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571087"><span class="hs-identifier hs-type">test</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-875"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-876"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span>
</span><span id="line-877"></span><span>    </span><span class="annot"><a href="#local-6989586621679571095"><span class="hs-identifier hs-type">args'</span></a></span><span>
</span><span id="line-878"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argTitle"><span class="hs-identifier hs-var">argTitle</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-type">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Package.html#packageName"><span class="hs-identifier hs-type">packageName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571086"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-879"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argComponentName"><span class="hs-identifier hs-var">argComponentName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-type">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Package.html#packageName"><span class="hs-identifier hs-type">packageName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571086"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.UnqualComponentName.html#unUnqualComponentName"><span class="hs-identifier hs-type">unUnqualComponentName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.TestSuite.html#testName"><span class="hs-identifier hs-var">testName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571087"><span class="hs-identifier hs-type">test</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-880"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- we need to accommodate `argOutputDir`</span><span>
</span><span id="line-881"></span><span>        </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argBaseUrl"><span class="hs-identifier hs-var">argBaseUrl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argBaseUrl"><span class="hs-identifier hs-var">argBaseUrl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571095"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-882"></span><span>          </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571098"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571098"><span class="hs-identifier hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571098"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-883"></span><span>          </span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
forall a. Flag a
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span>
</span><span id="line-884"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argContents"><span class="hs-identifier hs-var">argContents</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argContents"><span class="hs-identifier hs-var">argContents</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571095"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-885"></span><span>          </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571099"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571099"><span class="hs-identifier hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571099"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-886"></span><span>          </span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
forall a. Flag a
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span>
</span><span id="line-887"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argIndex"><span class="hs-identifier hs-var">argIndex</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argIndex"><span class="hs-identifier hs-var">argIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571095"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-888"></span><span>          </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571100"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571100"><span class="hs-identifier hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571100"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-889"></span><span>          </span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
forall a. Flag a
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span>
</span><span id="line-890"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-891"></span><span>
</span><span id="line-892"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#fromBenchmark"><span class="hs-identifier hs-type">fromBenchmark</span></a></span><span>
</span><span id="line-893"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-894"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-895"></span><span>  </span><span class="hs-comment">-- ^ Directories for -hidir, -odir, and -stubdir to GHC through Haddock.</span><span>
</span><span id="line-896"></span><span>  </span><span class="hs-comment">-- See Note [Hi Haddock Recompilation Avoidance]</span><span>
</span><span id="line-897"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-898"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.ComponentLocalBuildInfo.html#ComponentLocalBuildInfo"><span class="hs-identifier hs-type">ComponentLocalBuildInfo</span></a></span><span>
</span><span id="line-899"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#PathTemplate"><span class="hs-identifier hs-type">PathTemplate</span></a></span><span>
</span><span id="line-900"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ template for HTML location</span></span><span>
</span><span id="line-901"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockTarget"><span class="hs-identifier hs-type">HaddockTarget</span></a></span><span>
</span><span id="line-902"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-903"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Benchmark.html#Benchmark"><span class="hs-identifier hs-type">Benchmark</span></a></span><span>
</span><span id="line-904"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-905"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ common args</span></span><span>
</span><span id="line-906"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-907"></span><span id="fromBenchmark"><span class="annot"><span class="annottext">fromBenchmark :: Verbosity
-&gt; (SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts))
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; HaddockTarget
-&gt; PackageDescription
-&gt; Benchmark
-&gt; HaddockArgs
-&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromBenchmark"><span class="hs-identifier hs-var hs-var">fromBenchmark</span></a></span></span><span> </span><span id="local-6989586621679571101"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571101"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679571102"><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts))
</span><a href="#local-6989586621679571102"><span class="hs-identifier hs-var">haddockArtifactsDirs</span></a></span></span><span> </span><span id="local-6989586621679571103"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571103"><span class="hs-identifier hs-var">lbi</span></a></span></span><span> </span><span id="local-6989586621679571104"><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571104"><span class="hs-identifier hs-var">clbi</span></a></span></span><span> </span><span id="local-6989586621679571105"><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679571105"><span class="hs-identifier hs-var">htmlTemplate</span></a></span></span><span> </span><span id="local-6989586621679571106"><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679571106"><span class="hs-identifier hs-var">haddockTarget</span></a></span></span><span> </span><span id="local-6989586621679571107"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679571107"><span class="hs-identifier hs-var">pkg_descr</span></a></span></span><span> </span><span id="local-6989586621679571108"><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679571108"><span class="hs-identifier hs-var">bench</span></a></span></span><span> </span><span id="local-6989586621679571109"><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571109"><span class="hs-identifier hs-var">commonArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-908"></span><span>  </span><span id="local-6989586621679571110"><span class="annot"><a href="#local-6989586621679571110"><span class="hs-identifier hs-var">inFiles</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((ModuleName, SymbolicPath Pkg 'File) -&gt; SymbolicPath Pkg 'File)
-&gt; [(ModuleName, SymbolicPath Pkg 'File)]
-&gt; [SymbolicPath Pkg 'File]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(ModuleName, SymbolicPath Pkg 'File) -&gt; SymbolicPath Pkg 'File
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">([(ModuleName, SymbolicPath Pkg 'File)]
 -&gt; [SymbolicPath Pkg 'File])
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)]
-&gt; IO [SymbolicPath Pkg 'File]
forall a b. (a -&gt; b) -&gt; IO a -&gt; IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">`fmap`</span></span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; Benchmark
-&gt; ComponentLocalBuildInfo
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)]
</span><a href="Distribution.Simple.BuildPaths.html#getBenchmarkSourceFiles"><span class="hs-identifier hs-var">getBenchmarkSourceFiles</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571101"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571103"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679571108"><span class="hs-identifier hs-var">bench</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571104"><span class="hs-identifier hs-var">clbi</span></a></span><span>
</span><span id="line-909"></span><span>  </span><span id="local-6989586621679571112"><span class="annot"><a href="#local-6989586621679571112"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-910"></span><span>    </span><span class="annot"><a href="Distribution.Simple.Haddock.html#mkHaddockArgs"><span class="hs-identifier hs-type">mkHaddockArgs</span></a></span><span>
</span><span id="line-911"></span><span>      </span><span class="annot"><a href="#local-6989586621679571101"><span class="hs-identifier hs-type">verbosity</span></a></span><span>
</span><span id="line-912"></span><span>      </span><span class="annot"><a href="#local-6989586621679571102"><span class="hs-identifier hs-type">haddockArtifactsDirs</span></a></span><span>
</span><span id="line-913"></span><span>      </span><span class="annot"><a href="#local-6989586621679571103"><span class="hs-identifier hs-type">lbi</span></a></span><span>
</span><span id="line-914"></span><span>      </span><span class="annot"><a href="#local-6989586621679571104"><span class="hs-identifier hs-type">clbi</span></a></span><span>
</span><span id="line-915"></span><span>      </span><span class="annot"><a href="#local-6989586621679571105"><span class="hs-identifier hs-type">htmlTemplate</span></a></span><span>
</span><span id="line-916"></span><span>      </span><span class="annot"><a href="#local-6989586621679571110"><span class="hs-identifier hs-type">inFiles</span></a></span><span>
</span><span id="line-917"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Benchmark.html#benchmarkBuildInfo"><span class="hs-identifier hs-var">benchmarkBuildInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571108"><span class="hs-identifier hs-type">bench</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-918"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571116"><span class="annot"><a href="#local-6989586621679571116"><span class="hs-identifier hs-var hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-919"></span><span>        </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571109"><span class="hs-identifier hs-var">commonArgs</span></a></span><span>
</span><span id="line-920"></span><span>          </span><span class="annot"><span class="annottext">HaddockArgs -&gt; HaddockArgs -&gt; HaddockArgs
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571112"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-921"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argOutputDir"><span class="hs-identifier hs-var">argOutputDir</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-922"></span><span>                </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-923"></span><span>                  </span><span class="annot"><a href="Distribution.Simple.BuildPaths.html#haddockDirName"><span class="hs-identifier hs-type">haddockDirName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571106"><span class="hs-identifier hs-type">haddockTarget</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571107"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span>
</span><span id="line-924"></span><span>                    </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-type">&lt;/&gt;</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.UnqualComponentName.html#unUnqualComponentName"><span class="hs-identifier hs-type">unUnqualComponentName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Benchmark.html#benchmarkName"><span class="hs-identifier hs-var">benchmarkName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571108"><span class="hs-identifier hs-type">bench</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-925"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-926"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span>
</span><span id="line-927"></span><span>    </span><span class="annot"><a href="#local-6989586621679571116"><span class="hs-identifier hs-type">args'</span></a></span><span>
</span><span id="line-928"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argTitle"><span class="hs-identifier hs-var">argTitle</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-type">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Package.html#packageName"><span class="hs-identifier hs-type">packageName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571107"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-929"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argComponentName"><span class="hs-identifier hs-var">argComponentName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-type">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Package.html#packageName"><span class="hs-identifier hs-type">packageName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571107"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.UnqualComponentName.html#unUnqualComponentName"><span class="hs-identifier hs-type">unUnqualComponentName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Benchmark.html#benchmarkName"><span class="hs-identifier hs-var">benchmarkName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571108"><span class="hs-identifier hs-type">bench</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-930"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- we need to accommodate `argOutputDir`</span><span>
</span><span id="line-931"></span><span>        </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argBaseUrl"><span class="hs-identifier hs-var">argBaseUrl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argBaseUrl"><span class="hs-identifier hs-var">argBaseUrl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571116"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-932"></span><span>          </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571118"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571118"><span class="hs-identifier hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571118"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-933"></span><span>          </span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
forall a. Flag a
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span>
</span><span id="line-934"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argContents"><span class="hs-identifier hs-var">argContents</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argContents"><span class="hs-identifier hs-var">argContents</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571116"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-935"></span><span>          </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571119"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571119"><span class="hs-identifier hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571119"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-936"></span><span>          </span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
forall a. Flag a
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span>
</span><span id="line-937"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argIndex"><span class="hs-identifier hs-var">argIndex</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argIndex"><span class="hs-identifier hs-var">argIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571116"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-938"></span><span>          </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571120"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571120"><span class="hs-identifier hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571120"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-939"></span><span>          </span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
forall a. Flag a
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span>
</span><span id="line-940"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-941"></span><span>
</span><span id="line-942"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#fromForeignLib"><span class="hs-identifier hs-type">fromForeignLib</span></a></span><span>
</span><span id="line-943"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-944"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-945"></span><span>  </span><span class="hs-comment">-- ^ Directories for -hidir, -odir, and -stubdir to GHC through Haddock.</span><span>
</span><span id="line-946"></span><span>  </span><span class="hs-comment">-- See Note [Hi Haddock Recompilation Avoidance]</span><span>
</span><span id="line-947"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-948"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.ComponentLocalBuildInfo.html#ComponentLocalBuildInfo"><span class="hs-identifier hs-type">ComponentLocalBuildInfo</span></a></span><span>
</span><span id="line-949"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#PathTemplate"><span class="hs-identifier hs-type">PathTemplate</span></a></span><span>
</span><span id="line-950"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ template for HTML location</span></span><span>
</span><span id="line-951"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockTarget"><span class="hs-identifier hs-type">HaddockTarget</span></a></span><span>
</span><span id="line-952"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-953"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.ForeignLib.html#ForeignLib"><span class="hs-identifier hs-type">ForeignLib</span></a></span><span>
</span><span id="line-954"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-955"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ common args</span></span><span>
</span><span id="line-956"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-957"></span><span id="fromForeignLib"><span class="annot"><span class="annottext">fromForeignLib :: Verbosity
-&gt; (SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts),
    SymbolicPath Pkg ('Dir Artifacts))
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; HaddockTarget
-&gt; PackageDescription
-&gt; ForeignLib
-&gt; HaddockArgs
-&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#fromForeignLib"><span class="hs-identifier hs-var hs-var">fromForeignLib</span></a></span></span><span> </span><span id="local-6989586621679571121"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571121"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679571122"><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts))
</span><a href="#local-6989586621679571122"><span class="hs-identifier hs-var">haddockArtifactsDirs</span></a></span></span><span> </span><span id="local-6989586621679571123"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571123"><span class="hs-identifier hs-var">lbi</span></a></span></span><span> </span><span id="local-6989586621679571124"><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571124"><span class="hs-identifier hs-var">clbi</span></a></span></span><span> </span><span id="local-6989586621679571125"><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679571125"><span class="hs-identifier hs-var">htmlTemplate</span></a></span></span><span> </span><span id="local-6989586621679571126"><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679571126"><span class="hs-identifier hs-var">haddockTarget</span></a></span></span><span> </span><span id="local-6989586621679571127"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679571127"><span class="hs-identifier hs-var">pkg_descr</span></a></span></span><span> </span><span id="local-6989586621679571128"><span class="annot"><span class="annottext">ForeignLib
</span><a href="#local-6989586621679571128"><span class="hs-identifier hs-var">flib</span></a></span></span><span> </span><span id="local-6989586621679571129"><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571129"><span class="hs-identifier hs-var">commonArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-958"></span><span>  </span><span id="local-6989586621679571130"><span class="annot"><a href="#local-6989586621679571130"><span class="hs-identifier hs-var">inFiles</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((ModuleName, SymbolicPath Pkg 'File) -&gt; SymbolicPath Pkg 'File)
-&gt; [(ModuleName, SymbolicPath Pkg 'File)]
-&gt; [SymbolicPath Pkg 'File]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(ModuleName, SymbolicPath Pkg 'File) -&gt; SymbolicPath Pkg 'File
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">([(ModuleName, SymbolicPath Pkg 'File)]
 -&gt; [SymbolicPath Pkg 'File])
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)]
-&gt; IO [SymbolicPath Pkg 'File]
forall a b. (a -&gt; b) -&gt; IO a -&gt; IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">`fmap`</span></span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; ForeignLib
-&gt; ComponentLocalBuildInfo
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)]
</span><a href="Distribution.Simple.BuildPaths.html#getFLibSourceFiles"><span class="hs-identifier hs-var">getFLibSourceFiles</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571121"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571123"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignLib
</span><a href="#local-6989586621679571128"><span class="hs-identifier hs-var">flib</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571124"><span class="hs-identifier hs-var">clbi</span></a></span><span>
</span><span id="line-959"></span><span>  </span><span id="local-6989586621679571132"><span class="annot"><a href="#local-6989586621679571132"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-960"></span><span>    </span><span class="annot"><a href="Distribution.Simple.Haddock.html#mkHaddockArgs"><span class="hs-identifier hs-type">mkHaddockArgs</span></a></span><span>
</span><span id="line-961"></span><span>      </span><span class="annot"><a href="#local-6989586621679571121"><span class="hs-identifier hs-type">verbosity</span></a></span><span>
</span><span id="line-962"></span><span>      </span><span class="annot"><a href="#local-6989586621679571122"><span class="hs-identifier hs-type">haddockArtifactsDirs</span></a></span><span>
</span><span id="line-963"></span><span>      </span><span class="annot"><a href="#local-6989586621679571123"><span class="hs-identifier hs-type">lbi</span></a></span><span>
</span><span id="line-964"></span><span>      </span><span class="annot"><a href="#local-6989586621679571124"><span class="hs-identifier hs-type">clbi</span></a></span><span>
</span><span id="line-965"></span><span>      </span><span class="annot"><a href="#local-6989586621679571125"><span class="hs-identifier hs-type">htmlTemplate</span></a></span><span>
</span><span id="line-966"></span><span>      </span><span class="annot"><a href="#local-6989586621679571130"><span class="hs-identifier hs-type">inFiles</span></a></span><span>
</span><span id="line-967"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.ForeignLib.html#foreignLibBuildInfo"><span class="hs-identifier hs-var">foreignLibBuildInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571128"><span class="hs-identifier hs-type">flib</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-968"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571136"><span class="annot"><a href="#local-6989586621679571136"><span class="hs-identifier hs-var hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-969"></span><span>        </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571129"><span class="hs-identifier hs-var">commonArgs</span></a></span><span>
</span><span id="line-970"></span><span>          </span><span class="annot"><span class="annottext">HaddockArgs -&gt; HaddockArgs -&gt; HaddockArgs
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571132"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-971"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argOutputDir"><span class="hs-identifier hs-var">argOutputDir</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-972"></span><span>                </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-973"></span><span>                  </span><span class="annot"><a href="Distribution.Simple.BuildPaths.html#haddockDirName"><span class="hs-identifier hs-type">haddockDirName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571126"><span class="hs-identifier hs-type">haddockTarget</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571127"><span class="hs-identifier hs-type">pkg_descr</span></a></span><span>
</span><span id="line-974"></span><span>                    </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-type">&lt;/&gt;</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.UnqualComponentName.html#unUnqualComponentName"><span class="hs-identifier hs-type">unUnqualComponentName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.ForeignLib.html#foreignLibName"><span class="hs-identifier hs-var">foreignLibName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571128"><span class="hs-identifier hs-type">flib</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-975"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-976"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span>
</span><span id="line-977"></span><span>    </span><span class="annot"><a href="#local-6989586621679571136"><span class="hs-identifier hs-type">args'</span></a></span><span>
</span><span id="line-978"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argTitle"><span class="hs-identifier hs-var">argTitle</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.UnqualComponentName.html#unUnqualComponentName"><span class="hs-identifier hs-type">unUnqualComponentName</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.ForeignLib.html#foreignLibName"><span class="hs-identifier hs-var">foreignLibName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571128"><span class="hs-identifier hs-type">flib</span></a></span><span>
</span><span id="line-979"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- we need to accommodate `argOutputDir`</span><span>
</span><span id="line-980"></span><span>        </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argBaseUrl"><span class="hs-identifier hs-var">argBaseUrl</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argBaseUrl"><span class="hs-identifier hs-var">argBaseUrl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571136"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-981"></span><span>          </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571138"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571138"><span class="hs-identifier hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571138"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-982"></span><span>          </span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
forall a. Flag a
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span>
</span><span id="line-983"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argContents"><span class="hs-identifier hs-var">argContents</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argContents"><span class="hs-identifier hs-var">argContents</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571136"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-984"></span><span>          </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571139"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571139"><span class="hs-identifier hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571139"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-985"></span><span>          </span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
forall a. Flag a
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span>
</span><span id="line-986"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argIndex"><span class="hs-identifier hs-var">argIndex</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argIndex"><span class="hs-identifier hs-var">argIndex</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571136"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-987"></span><span>          </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571140"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571140"><span class="hs-identifier hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Flag String
forall a. a -&gt; Flag a
</span><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-var">Flag</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Flag String) -&gt; String -&gt; Flag String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;..&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571140"><span class="hs-identifier hs-var">url</span></a></span><span>
</span><span id="line-988"></span><span>          </span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Flag String
forall a. Flag a
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span>
</span><span id="line-989"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-990"></span><span>
</span><span id="line-991"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#compToExe"><span class="hs-identifier hs-type">compToExe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#Component"><span class="hs-identifier hs-type">Component</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#Executable"><span class="hs-identifier hs-type">Executable</span></a></span><span>
</span><span id="line-992"></span><span id="compToExe"><span class="annot"><span class="annottext">compToExe :: Component -&gt; Maybe Executable
</span><a href="Distribution.Simple.Haddock.html#compToExe"><span class="hs-identifier hs-var hs-var">compToExe</span></a></span></span><span> </span><span id="local-6989586621679571141"><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679571141"><span class="hs-identifier hs-var">comp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-993"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679571141"><span class="hs-identifier hs-var">comp</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-994"></span><span>    </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#CTest"><span class="hs-identifier hs-type">CTest</span></a></span><span> </span><span id="local-6989586621679571142"><span class="annot"><span class="annottext">test :: TestSuite
</span><a href="#local-6989586621679571142"><span class="hs-identifier hs-var">test</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.TestSuite.html#TestSuite"><span class="hs-identifier hs-type">TestSuite</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">testInterface :: TestSuite -&gt; TestSuiteInterface
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.TestSuite.html#testInterface"><span class="hs-identifier hs-var">testInterface</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.TestSuiteInterface.html#TestSuiteExeV10"><span class="hs-identifier hs-type">TestSuiteExeV10</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679571146"><span class="annot"><span class="annottext">RelativePath Source 'File
</span><a href="#local-6989586621679571146"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-995"></span><span>      </span><span class="annot"><span class="annottext">Executable -&gt; Maybe Executable
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span>
</span><span id="line-996"></span><span>        </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#Executable"><span class="hs-identifier hs-type">Executable</span></a></span><span>
</span><span id="line-997"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">exeName :: UnqualComponentName
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#exeName"><span class="hs-identifier hs-var">exeName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TestSuite -&gt; UnqualComponentName
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.TestSuite.html#testName"><span class="hs-identifier hs-var">testName</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679571142"><span class="hs-identifier hs-var">test</span></a></span><span>
</span><span id="line-998"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">modulePath :: RelativePath Source 'File
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#modulePath"><span class="hs-identifier hs-var">modulePath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RelativePath Source 'File
</span><a href="#local-6989586621679571146"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-999"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">exeScope :: ExecutableScope
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#exeScope"><span class="hs-identifier hs-var">exeScope</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExecutableScope
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.ExecutableScope.html#ExecutablePublic"><span class="hs-identifier hs-var">ExecutablePublic</span></a></span><span>
</span><span id="line-1000"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">buildInfo :: BuildInfo
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#buildInfo"><span class="hs-identifier hs-var">buildInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TestSuite -&gt; BuildInfo
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.TestSuite.html#testBuildInfo"><span class="hs-identifier hs-var">testBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite
</span><a href="#local-6989586621679571142"><span class="hs-identifier hs-var">test</span></a></span><span>
</span><span id="line-1001"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-1002"></span><span>    </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#CBench"><span class="hs-identifier hs-type">CBench</span></a></span><span> </span><span id="local-6989586621679571151"><span class="annot"><span class="annottext">bench :: Benchmark
</span><a href="#local-6989586621679571151"><span class="hs-identifier hs-var">bench</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Benchmark.html#Benchmark"><span class="hs-identifier hs-type">Benchmark</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">benchmarkInterface :: Benchmark -&gt; BenchmarkInterface
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Benchmark.html#benchmarkInterface"><span class="hs-identifier hs-var">benchmarkInterface</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.BenchmarkInterface.html#BenchmarkExeV10"><span class="hs-identifier hs-type">BenchmarkExeV10</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679571155"><span class="annot"><span class="annottext">RelativePath Source 'File
</span><a href="#local-6989586621679571155"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1003"></span><span>      </span><span class="annot"><span class="annottext">Executable -&gt; Maybe Executable
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span>
</span><span id="line-1004"></span><span>        </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#Executable"><span class="hs-identifier hs-type">Executable</span></a></span><span>
</span><span id="line-1005"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">exeName :: UnqualComponentName
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#exeName"><span class="hs-identifier hs-var">exeName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Benchmark -&gt; UnqualComponentName
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Benchmark.html#benchmarkName"><span class="hs-identifier hs-var">benchmarkName</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679571151"><span class="hs-identifier hs-var">bench</span></a></span><span>
</span><span id="line-1006"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">modulePath :: RelativePath Source 'File
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#modulePath"><span class="hs-identifier hs-var">modulePath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RelativePath Source 'File
</span><a href="#local-6989586621679571155"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-1007"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">exeScope :: ExecutableScope
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#exeScope"><span class="hs-identifier hs-var">exeScope</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExecutableScope
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.ExecutableScope.html#ExecutablePublic"><span class="hs-identifier hs-var">ExecutablePublic</span></a></span><span>
</span><span id="line-1008"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">buildInfo :: BuildInfo
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#buildInfo"><span class="hs-identifier hs-var">buildInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Benchmark -&gt; BuildInfo
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Benchmark.html#benchmarkBuildInfo"><span class="hs-identifier hs-var">benchmarkBuildInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark
</span><a href="#local-6989586621679571151"><span class="hs-identifier hs-var">bench</span></a></span><span>
</span><span id="line-1009"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-1010"></span><span>    </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#CExe"><span class="hs-identifier hs-type">CExe</span></a></span><span> </span><span id="local-6989586621679571156"><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679571156"><span class="hs-identifier hs-var">exe</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Executable -&gt; Maybe Executable
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679571156"><span class="hs-identifier hs-var">exe</span></a></span><span>
</span><span id="line-1011"></span><span>    </span><span class="annot"><span class="annottext">Component
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Executable
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1012"></span><span>
</span><span id="line-1013"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#getInterfaces"><span class="hs-identifier hs-type">getInterfaces</span></a></span><span>
</span><span id="line-1014"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-1015"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-1016"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.ComponentLocalBuildInfo.html#ComponentLocalBuildInfo"><span class="hs-identifier hs-type">ComponentLocalBuildInfo</span></a></span><span>
</span><span id="line-1017"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#PathTemplate"><span class="hs-identifier hs-type">PathTemplate</span></a></span><span>
</span><span id="line-1018"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ template for HTML location</span></span><span>
</span><span id="line-1019"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-1020"></span><span id="getInterfaces"><span class="annot"><span class="annottext">getInterfaces :: Verbosity
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#getInterfaces"><span class="hs-identifier hs-var hs-var">getInterfaces</span></a></span></span><span> </span><span id="local-6989586621679571157"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571157"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679571158"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571158"><span class="hs-identifier hs-var">lbi</span></a></span></span><span> </span><span id="local-6989586621679571159"><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571159"><span class="hs-identifier hs-var">clbi</span></a></span></span><span> </span><span id="local-6989586621679571160"><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679571160"><span class="hs-identifier hs-var">htmlTemplate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1021"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679571161"><span class="annot"><a href="#local-6989586621679571161"><span class="hs-identifier hs-var">packageFlags</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571162"><span class="annot"><a href="#local-6989586621679571162"><span class="hs-identifier hs-var">warnings</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; IO
     ([(String, Maybe String, Maybe String, Visibility)], Maybe String)
</span><a href="Distribution.Simple.Haddock.html#haddockPackageFlags"><span class="hs-identifier hs-var">haddockPackageFlags</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571157"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571158"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571159"><span class="hs-identifier hs-var">clbi</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679571160"><span class="hs-identifier hs-var">htmlTemplate</span></a></span><span>
</span><span id="line-1022"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">traverse_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Utils.html#warn"><span class="hs-identifier hs-type">warn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Verbosity.html#verboseUnmarkOutput"><span class="hs-identifier hs-type">verboseUnmarkOutput</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571157"><span class="hs-identifier hs-type">verbosity</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679571162"><span class="hs-identifier hs-type">warnings</span></a></span><span>
</span><span id="line-1023"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1024"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">mempty</span></span><span>
</span><span id="line-1025"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#argInterfaces"><span class="hs-identifier hs-var">argInterfaces</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621679571161"><span class="hs-identifier hs-type">packageFlags</span></a></span><span>
</span><span id="line-1026"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-1027"></span><span>
</span><span id="line-1028"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#getReexports"><span class="hs-identifier hs-type">getReexports</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.ComponentLocalBuildInfo.html#ComponentLocalBuildInfo"><span class="hs-identifier hs-type">ComponentLocalBuildInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Backpack.html#OpenModule"><span class="hs-identifier hs-type">OpenModule</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1029"></span><span id="getReexports"><span class="annot"><span class="annottext">getReexports :: ComponentLocalBuildInfo -&gt; [OpenModule]
</span><a href="Distribution.Simple.Haddock.html#getReexports"><span class="hs-identifier hs-var hs-var">getReexports</span></a></span></span><span> </span><span class="annot"><a href="Distribution.Types.ComponentLocalBuildInfo.html#LibComponentLocalBuildInfo"><span class="hs-identifier hs-type">LibComponentLocalBuildInfo</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">componentExposedModules :: ComponentLocalBuildInfo -&gt; [ExposedModule]
</span><a href="Distribution.Types.ComponentLocalBuildInfo.html#componentExposedModules"><span class="hs-identifier hs-var">componentExposedModules</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679571168"><span class="annot"><span class="annottext">[ExposedModule]
</span><a href="#local-6989586621679571168"><span class="hs-identifier hs-var">mods</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1030"></span><span>  </span><span class="annot"><span class="annottext">(ExposedModule -&gt; Maybe OpenModule)
-&gt; [ExposedModule] -&gt; [OpenModule]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">ExposedModule -&gt; Maybe OpenModule
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.ExposedModule.html#exposedReexport"><span class="hs-identifier hs-var">exposedReexport</span></a></span><span> </span><span class="annot"><span class="annottext">[ExposedModule]
</span><a href="#local-6989586621679571168"><span class="hs-identifier hs-var">mods</span></a></span><span>
</span><span id="line-1031"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#getReexports"><span class="hs-identifier hs-var">getReexports</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1032"></span><span>
</span><span id="line-1033"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#getGhcLibDir"><span class="hs-identifier hs-type">getGhcLibDir</span></a></span><span>
</span><span id="line-1034"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-1035"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-1036"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-1037"></span><span id="getGhcLibDir"><span class="annot"><span class="annottext">getGhcLibDir :: Verbosity -&gt; LocalBuildInfo -&gt; IO HaddockArgs
</span><a href="Distribution.Simple.Haddock.html#getGhcLibDir"><span class="hs-identifier hs-var hs-var">getGhcLibDir</span></a></span></span><span> </span><span id="local-6989586621679571171"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571171"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679571172"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571172"><span class="hs-identifier hs-var">lbi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1038"></span><span>  </span><span id="local-6989586621679571173"><span class="annot"><a href="#local-6989586621679571173"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Compiler -&gt; CompilerFlavor
</span><a href="Distribution.Simple.Compiler.html#compilerFlavor"><span class="hs-identifier hs-var">compilerFlavor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; Compiler
</span><a href="Distribution.Types.LocalBuildInfo.html#compiler"><span class="hs-identifier hs-var">compiler</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571172"><span class="hs-identifier hs-var">lbi</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1039"></span><span>    </span><span class="annot"><span class="annottext">CompilerFlavor
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Compiler.html#GHC"><span class="hs-identifier hs-var">GHC</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; LocalBuildInfo -&gt; IO String
</span><a href="Distribution.Simple.GHC.html#getLibDir"><span class="hs-identifier hs-var">GHC.getLibDir</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571171"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571172"><span class="hs-identifier hs-var">lbi</span></a></span><span>
</span><span id="line-1040"></span><span>    </span><span class="annot"><span class="annottext">CompilerFlavor
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Compiler.html#GHCJS"><span class="hs-identifier hs-var">GHCJS</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; LocalBuildInfo -&gt; IO String
</span><a href="Distribution.Simple.GHCJS.html#getLibDir"><span class="hs-identifier hs-var">GHCJS.getLibDir</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571171"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571172"><span class="hs-identifier hs-var">lbi</span></a></span><span>
</span><span id="line-1041"></span><span>    </span><span class="annot"><span class="annottext">CompilerFlavor
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;haddock only supports GHC and GHCJS&quot;</span></span><span>
</span><span id="line-1042"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">mempty</span></span><span class="hs-special">{</span><span class="annot"><a href="Distribution.Simple.Haddock.html#argGhcLibDir"><span class="hs-identifier hs-var">argGhcLibDir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571173"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1043"></span><span>
</span><span id="line-1044"></span><span class="hs-comment">-- | If Hi Haddock is supported, this function creates temporary directories</span><span>
</span><span id="line-1045"></span><span class="hs-comment">-- and copies existing interface and object files produced by GHC into them,</span><span>
</span><span id="line-1046"></span><span class="hs-comment">-- then passes them off to the given continuation.</span><span>
</span><span id="line-1047"></span><span class="hs-comment">--</span><span>
</span><span id="line-1048"></span><span class="hs-comment">-- If Hi Haddock is _not_ supported, we can't re-use GHC's compilation files.</span><span>
</span><span id="line-1049"></span><span class="hs-comment">-- Instead, we use a clean temporary directory to the continuation,</span><span>
</span><span id="line-1050"></span><span class="hs-comment">-- with no hope for recompilation avoidance.</span><span>
</span><span id="line-1051"></span><span class="hs-comment">--</span><span>
</span><span id="line-1052"></span><span class="hs-comment">-- See Note [Hi Haddock Recompilation Avoidance]</span><span>
</span><span id="line-1053"></span><span id="local-6989586621679570074"><span class="annot"><a href="Distribution.Simple.Haddock.html#reusingGHCCompilationArtifacts"><span class="hs-identifier hs-type">reusingGHCCompilationArtifacts</span></a></span><span>
</span><span id="line-1054"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-1055"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Utils.html#TempFileOptions"><span class="hs-identifier hs-type">TempFileOptions</span></a></span><span>
</span><span id="line-1056"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#CWD"><span class="hs-identifier hs-type">CWD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1057"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Working directory</span></span><span>
</span><span id="line-1058"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-1059"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.BuildInfo.html#BuildInfo"><span class="hs-identifier hs-type">BuildInfo</span></a></span><span>
</span><span id="line-1060"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.ComponentLocalBuildInfo.html#ComponentLocalBuildInfo"><span class="hs-identifier hs-type">ComponentLocalBuildInfo</span></a></span><span>
</span><span id="line-1061"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#Version"><span class="hs-identifier hs-type">Version</span></a></span><span>
</span><span id="line-1062"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Haddock's version</span></span><span>
</span><span id="line-1063"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Artifacts"><span class="hs-identifier hs-type">Artifacts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679570074"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1064"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Continuation</span></span><span>
</span><span id="line-1065"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679570074"><span class="hs-identifier hs-type">r</span></a></span></span><span>
</span><span id="line-1066"></span><span id="reusingGHCCompilationArtifacts"><span class="annot"><span class="annottext">reusingGHCCompilationArtifacts :: forall r.
Verbosity
-&gt; TempFileOptions
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Version
-&gt; ((SymbolicPath Pkg ('Dir Artifacts),
     SymbolicPath Pkg ('Dir Artifacts),
     SymbolicPath Pkg ('Dir Artifacts))
    -&gt; IO r)
-&gt; IO r
</span><a href="Distribution.Simple.Haddock.html#reusingGHCCompilationArtifacts"><span class="hs-identifier hs-var hs-var">reusingGHCCompilationArtifacts</span></a></span></span><span> </span><span id="local-6989586621679571181"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571181"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679571182"><span class="annot"><span class="annottext">TempFileOptions
</span><a href="#local-6989586621679571182"><span class="hs-identifier hs-var">tmpFileOpts</span></a></span></span><span> </span><span id="local-6989586621679571183"><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571183"><span class="hs-identifier hs-var">mbWorkDir</span></a></span></span><span> </span><span id="local-6989586621679571184"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571184"><span class="hs-identifier hs-var">lbi</span></a></span></span><span> </span><span id="local-6989586621679571185"><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679571185"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span id="local-6989586621679571186"><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571186"><span class="hs-identifier hs-var">clbi</span></a></span></span><span> </span><span id="local-6989586621679571187"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679571187"><span class="hs-identifier hs-var">version</span></a></span></span><span> </span><span id="local-6989586621679571188"><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts))
-&gt; IO r
</span><a href="#local-6989586621679571188"><span class="hs-identifier hs-var">act</span></a></span></span><span>
</span><span id="line-1067"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679571187"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">Version -&gt; Version -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Version
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#mkVersion"><span class="hs-identifier hs-var">mkVersion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">28</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1068"></span><span>      </span><span class="annot"><span class="annottext">Verbosity
-&gt; TempFileOptions
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; SymbolicPath Pkg ('Dir Dist)
-&gt; String
-&gt; (SymbolicPath Pkg ('Dir Artifacts) -&gt; IO r)
-&gt; IO r
forall a tmpDir1 tmpDir2.
Verbosity
-&gt; TempFileOptions
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; SymbolicPath Pkg ('Dir tmpDir1)
-&gt; String
-&gt; (SymbolicPath Pkg ('Dir tmpDir2) -&gt; IO a)
-&gt; IO a
</span><a href="Distribution.Simple.Utils.html#withTempDirectoryCwdEx"><span class="hs-identifier hs-var">withTempDirectoryCwdEx</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571181"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">TempFileOptions
</span><a href="#local-6989586621679571182"><span class="hs-identifier hs-var">tmpFileOpts</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571183"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; SymbolicPath Pkg ('Dir Dist)
</span><a href="Distribution.Types.LocalBuildInfo.html#distPrefLBI"><span class="hs-identifier hs-var">distPrefLBI</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571184"><span class="hs-identifier hs-var">lbi</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;haddock-objs&quot;</span></span><span> </span><span class="annot"><span class="annottext">((SymbolicPath Pkg ('Dir Artifacts) -&gt; IO r) -&gt; IO r)
-&gt; (SymbolicPath Pkg ('Dir Artifacts) -&gt; IO r) -&gt; IO r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679571191"><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
</span><a href="#local-6989586621679571191"><span class="hs-identifier hs-var">tmpObjDir</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1069"></span><span>        </span><span class="annot"><span class="annottext">Verbosity
-&gt; TempFileOptions
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; SymbolicPath Pkg ('Dir Dist)
-&gt; String
-&gt; (SymbolicPath Pkg ('Dir Artifacts) -&gt; IO r)
-&gt; IO r
forall a tmpDir1 tmpDir2.
Verbosity
-&gt; TempFileOptions
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; SymbolicPath Pkg ('Dir tmpDir1)
-&gt; String
-&gt; (SymbolicPath Pkg ('Dir tmpDir2) -&gt; IO a)
-&gt; IO a
</span><a href="Distribution.Simple.Utils.html#withTempDirectoryCwdEx"><span class="hs-identifier hs-var">withTempDirectoryCwdEx</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571181"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">TempFileOptions
</span><a href="#local-6989586621679571182"><span class="hs-identifier hs-var">tmpFileOpts</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571183"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; SymbolicPath Pkg ('Dir Dist)
</span><a href="Distribution.Types.LocalBuildInfo.html#distPrefLBI"><span class="hs-identifier hs-var">distPrefLBI</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571184"><span class="hs-identifier hs-var">lbi</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;haddock-his&quot;</span></span><span> </span><span class="annot"><span class="annottext">((SymbolicPath Pkg ('Dir Artifacts) -&gt; IO r) -&gt; IO r)
-&gt; (SymbolicPath Pkg ('Dir Artifacts) -&gt; IO r) -&gt; IO r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679571192"><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
</span><a href="#local-6989586621679571192"><span class="hs-identifier hs-var">tmpHiDir</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1070"></span><span>          </span><span class="hs-comment">-- Re-use ghc's interface and obj files, but first copy them to</span><span>
</span><span id="line-1071"></span><span>          </span><span class="hs-comment">-- somewhere where it is safe if haddock overwrites them</span><span>
</span><span id="line-1072"></span><span>          </span><span class="hs-keyword">let</span><span>
</span><span id="line-1073"></span><span>            </span><span id="local-6989586621679571193"><span class="annot"><span class="annottext">vanillaOpts :: GhcOptions
</span><a href="#local-6989586621679571193"><span class="hs-identifier hs-var hs-var hs-var">vanillaOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; SymbolicPath Pkg ('Dir Build)
-&gt; GhcOptions
forall build.
Verbosity
-&gt; LocalBuildInfo
-&gt; BuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; SymbolicPath Pkg ('Dir build)
-&gt; GhcOptions
</span><a href="Distribution.Simple.Haddock.html#componentGhcOptions"><span class="hs-identifier hs-var">componentGhcOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="Distribution.Verbosity.html#normal"><span class="hs-identifier hs-var">normal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571184"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">BuildInfo
</span><a href="#local-6989586621679571185"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571186"><span class="hs-identifier hs-var">clbi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; SymbolicPath Pkg ('Dir Build)
</span><a href="Distribution.Types.LocalBuildInfo.html#buildDir"><span class="hs-identifier hs-var">buildDir</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571184"><span class="hs-identifier hs-var">lbi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1074"></span><span>            </span><span id="local-6989586621679571194"><span class="annot"><span class="annottext">i :: SymbolicPathX allowAbsolute Pkg to -&gt; String
</span><a href="#local-6989586621679571194"><span class="hs-identifier hs-var hs-var hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; SymbolicPathX allowAbsolute Pkg to -&gt; String
forall from (allowAbsolute :: AllowAbsolute) (to :: FileOrDir).
Maybe (SymbolicPath CWD ('Dir from))
-&gt; SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#interpretSymbolicPath"><span class="hs-identifier hs-var">interpretSymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571183"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span>
</span><span id="line-1075"></span><span>            </span><span id="local-6989586621679571198"><span class="annot"><span class="annottext">copyDir :: (GhcOptions -&gt; Flag (SymbolicPathX allowAbsolute Pkg to))
-&gt; SymbolicPathX allowAbsolute Pkg to -&gt; IO ()
</span><a href="#local-6989586621679571198"><span class="hs-identifier hs-var hs-var hs-var">copyDir</span></a></span></span><span> </span><span id="local-6989586621679571199"><span class="annot"><span class="annottext">GhcOptions -&gt; Flag (SymbolicPathX allowAbsolute Pkg to)
</span><a href="#local-6989586621679571199"><span class="hs-identifier hs-var">ghcDir</span></a></span></span><span> </span><span id="local-6989586621679571200"><span class="annot"><span class="annottext">SymbolicPathX allowAbsolute Pkg to
</span><a href="#local-6989586621679571200"><span class="hs-identifier hs-var">tmpDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; String -&gt; String -&gt; IO ()
</span><a href="Distribution.Simple.Utils.html#copyDirectoryRecursive"><span class="hs-identifier hs-var">copyDirectoryRecursive</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571181"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymbolicPathX allowAbsolute Pkg to -&gt; String
forall {allowAbsolute :: AllowAbsolute} {to :: FileOrDir}.
SymbolicPathX allowAbsolute Pkg to -&gt; String
</span><a href="#local-6989586621679571194"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(SymbolicPathX allowAbsolute Pkg to -&gt; String)
-&gt; SymbolicPathX allowAbsolute Pkg to -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Flag (SymbolicPathX allowAbsolute Pkg to)
-&gt; SymbolicPathX allowAbsolute Pkg to
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag (SymbolicPathX allowAbsolute Pkg to)
 -&gt; SymbolicPathX allowAbsolute Pkg to)
-&gt; Flag (SymbolicPathX allowAbsolute Pkg to)
-&gt; SymbolicPathX allowAbsolute Pkg to
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GhcOptions -&gt; Flag (SymbolicPathX allowAbsolute Pkg to)
</span><a href="#local-6989586621679571199"><span class="hs-identifier hs-var">ghcDir</span></a></span><span> </span><span class="annot"><span class="annottext">GhcOptions
</span><a href="#local-6989586621679571193"><span class="hs-identifier hs-var">vanillaOpts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymbolicPathX allowAbsolute Pkg to -&gt; String
forall {allowAbsolute :: AllowAbsolute} {to :: FileOrDir}.
SymbolicPathX allowAbsolute Pkg to -&gt; String
</span><a href="#local-6989586621679571194"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPathX allowAbsolute Pkg to
</span><a href="#local-6989586621679571200"><span class="hs-identifier hs-var">tmpDir</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1076"></span><span>          </span><span class="annot"><span class="annottext">(GhcOptions -&gt; Flag (SymbolicPath Pkg ('Dir Artifacts)))
-&gt; SymbolicPath Pkg ('Dir Artifacts) -&gt; IO ()
forall {allowAbsolute :: AllowAbsolute} {to :: FileOrDir}
       {allowAbsolute :: AllowAbsolute} {to :: FileOrDir}.
(GhcOptions -&gt; Flag (SymbolicPathX allowAbsolute Pkg to))
-&gt; SymbolicPathX allowAbsolute Pkg to -&gt; IO ()
</span><a href="#local-6989586621679571198"><span class="hs-identifier hs-var">copyDir</span></a></span><span> </span><span class="annot"><span class="annottext">GhcOptions -&gt; Flag (SymbolicPath Pkg ('Dir Artifacts))
</span><a href="Distribution.Simple.Program.GHC.html#ghcOptObjDir"><span class="hs-identifier hs-var">ghcOptObjDir</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
</span><a href="#local-6989586621679571191"><span class="hs-identifier hs-var">tmpObjDir</span></a></span><span>
</span><span id="line-1077"></span><span>          </span><span class="annot"><span class="annottext">(GhcOptions -&gt; Flag (SymbolicPath Pkg ('Dir Artifacts)))
-&gt; SymbolicPath Pkg ('Dir Artifacts) -&gt; IO ()
forall {allowAbsolute :: AllowAbsolute} {to :: FileOrDir}
       {allowAbsolute :: AllowAbsolute} {to :: FileOrDir}.
(GhcOptions -&gt; Flag (SymbolicPathX allowAbsolute Pkg to))
-&gt; SymbolicPathX allowAbsolute Pkg to -&gt; IO ()
</span><a href="#local-6989586621679571198"><span class="hs-identifier hs-var">copyDir</span></a></span><span> </span><span class="annot"><span class="annottext">GhcOptions -&gt; Flag (SymbolicPath Pkg ('Dir Artifacts))
</span><a href="Distribution.Simple.Program.GHC.html#ghcOptHiDir"><span class="hs-identifier hs-var">ghcOptHiDir</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
</span><a href="#local-6989586621679571192"><span class="hs-identifier hs-var">tmpHiDir</span></a></span><span>
</span><span id="line-1078"></span><span>          </span><span class="hs-comment">-- copyDir ghcOptStubDir tmpStubDir -- (see W.1 in Note [Hi Haddock Recompilation Avoidance])</span><span>
</span><span id="line-1079"></span><span>
</span><span id="line-1080"></span><span>          </span><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts))
-&gt; IO r
</span><a href="#local-6989586621679571188"><span class="hs-identifier hs-var">act</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
</span><a href="#local-6989586621679571191"><span class="hs-identifier hs-var">tmpObjDir</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
</span><a href="#local-6989586621679571192"><span class="hs-identifier hs-var">tmpHiDir</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Flag (SymbolicPath Pkg ('Dir Artifacts))
-&gt; SymbolicPath Pkg ('Dir Artifacts)
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag (SymbolicPath Pkg ('Dir Artifacts))
 -&gt; SymbolicPath Pkg ('Dir Artifacts))
-&gt; Flag (SymbolicPath Pkg ('Dir Artifacts))
-&gt; SymbolicPath Pkg ('Dir Artifacts)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GhcOptions -&gt; Flag (SymbolicPath Pkg ('Dir Artifacts))
</span><a href="Distribution.Simple.Program.GHC.html#ghcOptHiDir"><span class="hs-identifier hs-var">ghcOptHiDir</span></a></span><span> </span><span class="annot"><span class="annottext">GhcOptions
</span><a href="#local-6989586621679571193"><span class="hs-identifier hs-var">vanillaOpts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1081"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1082"></span><span>      </span><span class="annot"><span class="annottext">Verbosity
-&gt; TempFileOptions
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; SymbolicPath Pkg ('Dir Dist)
-&gt; String
-&gt; (SymbolicPath Pkg ('Dir Artifacts) -&gt; IO r)
-&gt; IO r
forall a tmpDir1 tmpDir2.
Verbosity
-&gt; TempFileOptions
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; SymbolicPath Pkg ('Dir tmpDir1)
-&gt; String
-&gt; (SymbolicPath Pkg ('Dir tmpDir2) -&gt; IO a)
-&gt; IO a
</span><a href="Distribution.Simple.Utils.html#withTempDirectoryCwdEx"><span class="hs-identifier hs-var">withTempDirectoryCwdEx</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571181"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">TempFileOptions
</span><a href="#local-6989586621679571182"><span class="hs-identifier hs-var">tmpFileOpts</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571183"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; SymbolicPath Pkg ('Dir Dist)
</span><a href="Distribution.Types.LocalBuildInfo.html#distPrefLBI"><span class="hs-identifier hs-var">distPrefLBI</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571184"><span class="hs-identifier hs-var">lbi</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;tmp&quot;</span></span><span> </span><span class="annot"><span class="annottext">((SymbolicPath Pkg ('Dir Artifacts) -&gt; IO r) -&gt; IO r)
-&gt; (SymbolicPath Pkg ('Dir Artifacts) -&gt; IO r) -&gt; IO r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1083"></span><span>        </span><span class="hs-glyph">\</span><span id="local-6989586621679571202"><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
</span><a href="#local-6989586621679571202"><span class="hs-identifier hs-var">tmpFallback</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts),
 SymbolicPath Pkg ('Dir Artifacts))
-&gt; IO r
</span><a href="#local-6989586621679571188"><span class="hs-identifier hs-var">act</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
</span><a href="#local-6989586621679571202"><span class="hs-identifier hs-var">tmpFallback</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
</span><a href="#local-6989586621679571202"><span class="hs-identifier hs-var">tmpFallback</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
</span><a href="#local-6989586621679571202"><span class="hs-identifier hs-var">tmpFallback</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1084"></span><span>
</span><span id="line-1085"></span><span class="hs-comment">-- ------------------------------------------------------------------------------</span><span>
</span><span id="line-1086"></span><span>
</span><span id="line-1087"></span><span class="annot"><span class="hs-comment">-- | Call haddock with the specified arguments.</span></span><span>
</span><span id="line-1088"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#runHaddock"><span class="hs-identifier hs-type">runHaddock</span></a></span><span>
</span><span id="line-1089"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-1090"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#CWD"><span class="hs-identifier hs-type">CWD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1091"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Utils.html#TempFileOptions"><span class="hs-identifier hs-type">TempFileOptions</span></a></span><span>
</span><span id="line-1092"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Compiler.html#Compiler"><span class="hs-identifier hs-type">Compiler</span></a></span><span>
</span><span id="line-1093"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.System.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span>
</span><span id="line-1094"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Types.html#ConfiguredProgram"><span class="hs-identifier hs-type">ConfiguredProgram</span></a></span><span>
</span><span id="line-1095"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1096"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ require targets</span></span><span>
</span><span id="line-1097"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-1098"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1099"></span><span id="runHaddock"><span class="annot"><span class="annottext">runHaddock :: Verbosity
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; TempFileOptions
-&gt; Compiler
-&gt; Platform
-&gt; ConfiguredProgram
-&gt; Bool
-&gt; HaddockArgs
-&gt; IO ()
</span><a href="Distribution.Simple.Haddock.html#runHaddock"><span class="hs-identifier hs-var hs-var">runHaddock</span></a></span></span><span> </span><span id="local-6989586621679571203"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571203"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679571204"><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571204"><span class="hs-identifier hs-var">mbWorkDir</span></a></span></span><span> </span><span id="local-6989586621679571205"><span class="annot"><span class="annottext">TempFileOptions
</span><a href="#local-6989586621679571205"><span class="hs-identifier hs-var">tmpFileOpts</span></a></span></span><span> </span><span id="local-6989586621679571206"><span class="annot"><span class="annottext">Compiler
</span><a href="#local-6989586621679571206"><span class="hs-identifier hs-var">comp</span></a></span></span><span> </span><span id="local-6989586621679571207"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621679571207"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621679571208"><span class="annot"><span class="annottext">ConfiguredProgram
</span><a href="#local-6989586621679571208"><span class="hs-identifier hs-var">haddockProg</span></a></span></span><span> </span><span id="local-6989586621679571209"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571209"><span class="hs-identifier hs-var">requireTargets</span></a></span></span><span> </span><span id="local-6989586621679571210"><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571210"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-1100"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571209"><span class="hs-identifier hs-var">requireTargets</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HaddockArgs -&gt; [String]
</span><a href="Distribution.Simple.Haddock.html#argTargets"><span class="hs-identifier hs-var">argTargets</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571210"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1101"></span><span>      </span><span class="annot"><span class="annottext">Verbosity -&gt; String -&gt; IO ()
</span><a href="Distribution.Simple.Utils.html#warn"><span class="hs-identifier hs-var">warn</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571203"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1102"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Haddocks are being requested, but there aren't any modules given &quot;</span></span><span>
</span><span id="line-1103"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;to create documentation for.&quot;</span></span><span>
</span><span id="line-1104"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1105"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571214"><span class="annot"><span class="annottext">haddockVersion :: Version
</span><a href="#local-6989586621679571214"><span class="hs-identifier hs-var hs-var">haddockVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1106"></span><span>            </span><span class="annot"><span class="annottext">Version -&gt; Maybe Version -&gt; Version
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span>
</span><span id="line-1107"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Version
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unable to determine haddock version&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1108"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConfiguredProgram -&gt; Maybe Version
</span><a href="Distribution.Simple.Program.Types.html#programVersion"><span class="hs-identifier hs-var">programVersion</span></a></span><span> </span><span class="annot"><span class="annottext">ConfiguredProgram
</span><a href="#local-6989586621679571208"><span class="hs-identifier hs-var">haddockProg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1109"></span><span>      </span><span class="annot"><span class="annottext">Verbosity
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; TempFileOptions
-&gt; Version
-&gt; Compiler
-&gt; Platform
-&gt; HaddockArgs
-&gt; ([String] -&gt; String -&gt; IO ())
-&gt; IO ()
forall a.
Verbosity
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; TempFileOptions
-&gt; Version
-&gt; Compiler
-&gt; Platform
-&gt; HaddockArgs
-&gt; ([String] -&gt; String -&gt; IO a)
-&gt; IO a
</span><a href="Distribution.Simple.Haddock.html#renderArgs"><span class="hs-identifier hs-var">renderArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571203"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571204"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span> </span><span class="annot"><span class="annottext">TempFileOptions
</span><a href="#local-6989586621679571205"><span class="hs-identifier hs-var">tmpFileOpts</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679571214"><span class="hs-identifier hs-var">haddockVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Compiler
</span><a href="#local-6989586621679571206"><span class="hs-identifier hs-var">comp</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621679571207"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571210"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">(([String] -&gt; String -&gt; IO ()) -&gt; IO ())
-&gt; ([String] -&gt; String -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1110"></span><span>        </span><span class="hs-glyph">\</span><span id="local-6989586621679571217"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679571217"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span id="local-6989586621679571218"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571218"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1111"></span><span>          </span><span class="annot"><span class="annottext">Verbosity
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; ConfiguredProgram
-&gt; [String]
-&gt; IO ()
forall to.
Verbosity
-&gt; Maybe (SymbolicPath CWD ('Dir to))
-&gt; ConfiguredProgram
-&gt; [String]
-&gt; IO ()
</span><a href="Distribution.Simple.Program.html#runProgramCwd"><span class="hs-identifier hs-var">runProgramCwd</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571203"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571204"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span> </span><span class="annot"><span class="annottext">ConfiguredProgram
</span><a href="#local-6989586621679571208"><span class="hs-identifier hs-var">haddockProg</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679571217"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-1112"></span><span>          </span><span class="annot"><span class="annottext">Verbosity -&gt; String -&gt; IO ()
</span><a href="Distribution.Simple.Utils.html#notice"><span class="hs-identifier hs-var">notice</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571203"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Documentation created: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571218"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-1113"></span><span>
</span><span id="line-1114"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#renderArgs"><span class="hs-identifier hs-type">renderArgs</span></a></span><span>
</span><span id="line-1115"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679570152"><span class="annot"><a href="#local-6989586621679570152"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1116"></span><span>   </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-1117"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#CWD"><span class="hs-identifier hs-type">CWD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Path.Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1118"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Utils.html#TempFileOptions"><span class="hs-identifier hs-type">TempFileOptions</span></a></span><span>
</span><span id="line-1119"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#Version"><span class="hs-identifier hs-type">Version</span></a></span><span>
</span><span id="line-1120"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Compiler.html#Compiler"><span class="hs-identifier hs-type">Compiler</span></a></span><span>
</span><span id="line-1121"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.System.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span>
</span><span id="line-1122"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span>
</span><span id="line-1123"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679570152"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1124"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679570152"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1125"></span><span id="renderArgs"><span class="annot"><span class="annottext">renderArgs :: forall a.
Verbosity
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; TempFileOptions
-&gt; Version
-&gt; Compiler
-&gt; Platform
-&gt; HaddockArgs
-&gt; ([String] -&gt; String -&gt; IO a)
-&gt; IO a
</span><a href="Distribution.Simple.Haddock.html#renderArgs"><span class="hs-identifier hs-var hs-var">renderArgs</span></a></span></span><span> </span><span id="local-6989586621679571226"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571226"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679571227"><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571227"><span class="hs-identifier hs-var">mbWorkDir</span></a></span></span><span> </span><span id="local-6989586621679571228"><span class="annot"><span class="annottext">TempFileOptions
</span><a href="#local-6989586621679571228"><span class="hs-identifier hs-var">tmpFileOpts</span></a></span></span><span> </span><span id="local-6989586621679571229"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679571229"><span class="hs-identifier hs-var">version</span></a></span></span><span> </span><span id="local-6989586621679571230"><span class="annot"><span class="annottext">Compiler
</span><a href="#local-6989586621679571230"><span class="hs-identifier hs-var">comp</span></a></span></span><span> </span><span id="local-6989586621679571231"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621679571231"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621679571232"><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571232"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621679571233"><span class="annot"><span class="annottext">[String] -&gt; String -&gt; IO a
</span><a href="#local-6989586621679571233"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1126"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571235"><span class="annot"><span class="annottext">haddockSupportsUTF8 :: Bool
</span><a href="#local-6989586621679571235"><span class="hs-identifier hs-var hs-var hs-var">haddockSupportsUTF8</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679571229"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">Version -&gt; Version -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Version
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#mkVersion"><span class="hs-identifier hs-var">mkVersion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">14</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span class="hs-special">]</span><span>
</span><span id="line-1127"></span><span>      </span><span id="local-6989586621679571237"><span class="annot"><span class="annottext">haddockSupportsResponseFiles :: Bool
</span><a href="#local-6989586621679571237"><span class="hs-identifier hs-var hs-var hs-var">haddockSupportsResponseFiles</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679571229"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">Version -&gt; Version -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Version
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#mkVersion"><span class="hs-identifier hs-var">mkVersion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">]</span><span>
</span><span id="line-1128"></span><span>  </span><span class="annot"><span class="annottext">Verbosity -&gt; Bool -&gt; String -&gt; IO ()
</span><a href="Distribution.Simple.Utils.html#createDirectoryIfMissingVerbose"><span class="hs-identifier hs-var">createDirectoryIfMissingVerbose</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571226"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymbolicPathX 'AllowAbsolute Pkg (ZonkAny 4) -&gt; String
forall {allowAbsolute :: AllowAbsolute} {to :: FileOrDir}.
SymbolicPathX allowAbsolute Pkg to -&gt; String
</span><a href="#local-6989586621679571239"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPathX 'AllowAbsolute Pkg (ZonkAny 4)
forall {to2 :: FileOrDir}. SymbolicPathX 'AllowAbsolute Pkg to2
</span><a href="#local-6989586621679571240"><span class="hs-identifier hs-var">outputDir</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1129"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571241"><span class="annot"><span class="annottext">withPrologueArgs :: [String] -&gt; IO a
</span><a href="#local-6989586621679571241"><span class="hs-identifier hs-var hs-var">withPrologueArgs</span></a></span></span><span> </span><span id="local-6989586621679571242"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679571242"><span class="hs-identifier hs-var">prologueArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1130"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571245"><span class="annot"><span class="annottext">renderedArgs :: [String]
</span><a href="#local-6989586621679571245"><span class="hs-identifier hs-var hs-var">renderedArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679571242"><span class="hs-identifier hs-var">prologueArgs</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Version -&gt; Compiler -&gt; Platform -&gt; HaddockArgs -&gt; [String]
</span><a href="Distribution.Simple.Haddock.html#renderPureArgs"><span class="hs-identifier hs-var">renderPureArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679571229"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">Compiler
</span><a href="#local-6989586621679571230"><span class="hs-identifier hs-var">comp</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621679571231"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571232"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1131"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571237"><span class="hs-identifier hs-var">haddockSupportsResponseFiles</span></a></span><span>
</span><span id="line-1132"></span><span>              </span><span class="hs-keyword">then</span><span>
</span><span id="line-1133"></span><span>                </span><span class="annot"><span class="annottext">Verbosity
-&gt; TempFileOptions
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; SymbolicPath Pkg ('Dir Response)
-&gt; String
-&gt; Maybe TextEncoding
-&gt; [String]
-&gt; (String -&gt; IO a)
-&gt; IO a
forall a.
Verbosity
-&gt; TempFileOptions
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; SymbolicPath Pkg ('Dir Response)
-&gt; String
-&gt; Maybe TextEncoding
-&gt; [String]
-&gt; (String -&gt; IO a)
-&gt; IO a
</span><a href="Distribution.Simple.Program.ResponseFile.html#withResponseFile"><span class="hs-identifier hs-var">withResponseFile</span></a></span><span>
</span><span id="line-1134"></span><span>                  </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571226"><span class="hs-identifier hs-var">verbosity</span></a></span><span>
</span><span id="line-1135"></span><span>                  </span><span class="annot"><span class="annottext">TempFileOptions
</span><a href="#local-6989586621679571228"><span class="hs-identifier hs-var">tmpFileOpts</span></a></span><span>
</span><span id="line-1136"></span><span>                  </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571227"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span>
</span><span id="line-1137"></span><span>                  </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Response)
forall {to2 :: FileOrDir}. SymbolicPathX 'AllowAbsolute Pkg to2
</span><a href="#local-6989586621679571240"><span class="hs-identifier hs-var">outputDir</span></a></span><span>
</span><span id="line-1138"></span><span>                  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;haddock-response.txt&quot;</span></span><span>
</span><span id="line-1139"></span><span>                  </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571235"><span class="hs-identifier hs-var">haddockSupportsUTF8</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">TextEncoding -&gt; Maybe TextEncoding
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">TextEncoding
</span><span class="hs-identifier hs-var">utf8</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe TextEncoding
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-1140"></span><span>                  </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679571245"><span class="hs-identifier hs-var">renderedArgs</span></a></span><span>
</span><span id="line-1141"></span><span>                  </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679571248"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571248"><span class="hs-identifier hs-var">responseFileName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String -&gt; IO a
</span><a href="#local-6989586621679571233"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;@&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571248"><span class="hs-identifier hs-var">responseFileName</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571249"><span class="hs-identifier hs-var">result</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1142"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String -&gt; IO a
</span><a href="#local-6989586621679571233"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679571245"><span class="hs-identifier hs-var">renderedArgs</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571249"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-1143"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argPrologueFile"><span class="hs-identifier hs-var">argPrologueFile</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571232"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argPrologue"><span class="hs-identifier hs-var">argPrologue</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571232"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1144"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571250"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571250"><span class="hs-identifier hs-var">pfile</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Flag String
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1145"></span><span>      </span><span class="annot"><span class="annottext">[String] -&gt; IO a
</span><a href="#local-6989586621679571241"><span class="hs-identifier hs-var">withPrologueArgs</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--prologue=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571250"><span class="hs-identifier hs-var">pfile</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1146"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Flag String
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571251"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571251"><span class="hs-identifier hs-var">prologueText</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1147"></span><span>      </span><span class="annot"><span class="annottext">TempFileOptions
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; SymbolicPath Pkg ('Dir (ZonkAny 5))
-&gt; String
-&gt; (SymbolicPath Pkg 'File -&gt; Handle -&gt; IO a)
-&gt; IO a
forall a tmpDir.
TempFileOptions
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; SymbolicPath Pkg ('Dir tmpDir)
-&gt; String
-&gt; (SymbolicPath Pkg 'File -&gt; Handle -&gt; IO a)
-&gt; IO a
</span><a href="Distribution.Simple.Utils.html#withTempFileEx"><span class="hs-identifier hs-var">withTempFileEx</span></a></span><span> </span><span class="annot"><span class="annottext">TempFileOptions
</span><a href="#local-6989586621679571228"><span class="hs-identifier hs-var">tmpFileOpts</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571227"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir (ZonkAny 5))
forall {to2 :: FileOrDir}. SymbolicPathX 'AllowAbsolute Pkg to2
</span><a href="#local-6989586621679571240"><span class="hs-identifier hs-var">outputDir</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;haddock-prologue.txt&quot;</span></span><span> </span><span class="annot"><span class="annottext">((SymbolicPath Pkg 'File -&gt; Handle -&gt; IO a) -&gt; IO a)
-&gt; (SymbolicPath Pkg 'File -&gt; Handle -&gt; IO a) -&gt; IO a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1148"></span><span>        </span><span class="hs-glyph">\</span><span id="local-6989586621679571253"><span class="annot"><span class="annottext">SymbolicPath Pkg 'File
</span><a href="#local-6989586621679571253"><span class="hs-identifier hs-var">prologueFileName</span></a></span></span><span> </span><span id="local-6989586621679571254"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679571254"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1149"></span><span>          </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571235"><span class="hs-identifier hs-var">haddockSupportsUTF8</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Handle -&gt; TextEncoding -&gt; IO ()
</span><span class="hs-identifier hs-var">hSetEncoding</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679571254"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">TextEncoding
</span><span class="hs-identifier hs-var">utf8</span></span><span class="hs-special">)</span><span>
</span><span id="line-1150"></span><span>          </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><span class="hs-identifier hs-var">hPutStrLn</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679571254"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571251"><span class="hs-identifier hs-var">prologueText</span></a></span><span>
</span><span id="line-1151"></span><span>          </span><span class="annot"><span class="annottext">Handle -&gt; IO ()
</span><span class="hs-identifier hs-var">hClose</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679571254"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-1152"></span><span>          </span><span class="annot"><span class="annottext">[String] -&gt; IO a
</span><a href="#local-6989586621679571241"><span class="hs-identifier hs-var">withPrologueArgs</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--prologue=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg 'File -&gt; String
forall (to :: FileOrDir). SymbolicPath Pkg to -&gt; String
</span><a href="#local-6989586621679571255"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg 'File
</span><a href="#local-6989586621679571253"><span class="hs-identifier hs-var">prologueFileName</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1153"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Flag String
</span><a href="Distribution.Simple.Flag.html#NoFlag"><span class="hs-identifier hs-var">NoFlag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1154"></span><span>      </span><span class="annot"><span class="annottext">[String] -&gt; IO a
</span><a href="#local-6989586621679571241"><span class="hs-identifier hs-var">withPrologueArgs</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1155"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1156"></span><span>    </span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path</span><span>
</span><span id="line-1157"></span><span>    </span><span id="local-6989586621679571239"><span class="annot"><span class="annottext">i :: SymbolicPathX allowAbsolute Pkg to -&gt; String
</span><a href="#local-6989586621679571239"><span class="hs-identifier hs-var hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; SymbolicPathX allowAbsolute Pkg to -&gt; String
forall from (allowAbsolute :: AllowAbsolute) (to :: FileOrDir).
Maybe (SymbolicPath CWD ('Dir from))
-&gt; SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#interpretSymbolicPath"><span class="hs-identifier hs-var">interpretSymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571227"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span>
</span><span id="line-1158"></span><span>    </span><span id="local-6989586621679570164"><span class="annot"><a href="#local-6989586621679571255"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570164"><span class="hs-identifier hs-type">to</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span></span><span>
</span><span id="line-1159"></span><span>    </span><span id="local-6989586621679571255"><span class="annot"><span class="annottext">u :: forall (to :: FileOrDir). SymbolicPath Pkg to -&gt; String
</span><a href="#local-6989586621679571255"><span class="hs-identifier hs-var hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymbolicPathX 'AllowAbsolute Pkg to -&gt; String
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#interpretSymbolicPathCWD"><span class="hs-identifier hs-var">interpretSymbolicPathCWD</span></a></span><span>
</span><span id="line-1160"></span><span>
</span><span id="line-1161"></span><span>    </span><span id="local-6989586621679571240"><span class="annot"><span class="annottext">outputDir :: SymbolicPathX 'AllowAbsolute Pkg to2
</span><a href="#local-6989586621679571240"><span class="hs-identifier hs-var hs-var">outputDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
-&gt; SymbolicPathX 'AllowAbsolute Pkg to2
forall (allowAbsolute :: AllowAbsolute) from (to1 :: FileOrDir)
       (to2 :: FileOrDir).
SymbolicPathX allowAbsolute from to1
-&gt; SymbolicPathX allowAbsolute from to2
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#coerceSymbolicPath"><span class="hs-identifier hs-var">coerceSymbolicPath</span></a></span><span> </span><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts)
 -&gt; SymbolicPathX 'AllowAbsolute Pkg to2)
-&gt; SymbolicPath Pkg ('Dir Artifacts)
-&gt; SymbolicPathX 'AllowAbsolute Pkg to2
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Directory -&gt; SymbolicPath Pkg ('Dir Artifacts)
</span><a href="Distribution.Simple.Haddock.html#unDir"><span class="hs-identifier hs-var">unDir</span></a></span><span> </span><span class="annot"><span class="annottext">(Directory -&gt; SymbolicPath Pkg ('Dir Artifacts))
-&gt; Directory -&gt; SymbolicPath Pkg ('Dir Artifacts)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Directory
</span><a href="Distribution.Simple.Haddock.html#argOutputDir"><span class="hs-identifier hs-var">argOutputDir</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571232"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1162"></span><span>    </span><span id="local-6989586621679571258"><span class="annot"><span class="annottext">isNotArgContents :: Bool
</span><a href="#local-6989586621679571258"><span class="hs-identifier hs-var hs-var">isNotArgContents</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isNothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Flag String -&gt; Maybe String
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag String -&gt; Maybe String) -&gt; Flag String -&gt; Maybe String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argContents"><span class="hs-identifier hs-var">argContents</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571232"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1163"></span><span>    </span><span id="local-6989586621679571260"><span class="annot"><span class="annottext">isNotArgIndex :: Bool
</span><a href="#local-6989586621679571260"><span class="hs-identifier hs-var hs-var">isNotArgIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isNothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Flag String -&gt; Maybe String
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag String -&gt; Maybe String) -&gt; Flag String -&gt; Maybe String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argIndex"><span class="hs-identifier hs-var">argIndex</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571232"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1164"></span><span>    </span><span id="local-6989586621679571261"><span class="annot"><span class="annottext">isArgGenIndex :: Bool
</span><a href="#local-6989586621679571261"><span class="hs-identifier hs-var hs-var">isArgGenIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Flag Bool -&gt; Bool
forall a. a -&gt; Flag a -&gt; a
</span><a href="Distribution.Simple.Flag.html#fromFlagOrDefault"><span class="hs-identifier hs-var">fromFlagOrDefault</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag Bool
</span><a href="Distribution.Simple.Haddock.html#argGenIndex"><span class="hs-identifier hs-var">argGenIndex</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571232"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1165"></span><span>    </span><span class="hs-comment">-- Haddock, when generating HTML, does not generate an index if the options</span><span>
</span><span id="line-1166"></span><span>    </span><span class="hs-comment">-- --use-contents or --use-index are passed to it. See</span><span>
</span><span id="line-1167"></span><span>    </span><span class="hs-comment">-- https://haskell-haddock.readthedocs.io/en/latest/invoking.html#cmdoption-use-contents</span><span>
</span><span id="line-1168"></span><span>    </span><span id="local-6989586621679571262"><span class="annot"><span class="annottext">isIndexGenerated :: Bool
</span><a href="#local-6989586621679571262"><span class="hs-identifier hs-var hs-var">isIndexGenerated</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571261"><span class="hs-identifier hs-var">isArgGenIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571258"><span class="hs-identifier hs-var">isNotArgContents</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571260"><span class="hs-identifier hs-var">isNotArgIndex</span></a></span><span>
</span><span id="line-1169"></span><span>    </span><span id="local-6989586621679571249"><span class="annot"><span class="annottext">result :: String
</span><a href="#local-6989586621679571249"><span class="hs-identifier hs-var hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1170"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, &quot;</span></span><span>
</span><span id="line-1171"></span><span>        </span><span class="annot"><span class="annottext">([String] -&gt; String)
-&gt; (HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Output -&gt; String) -&gt; [Output] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span>
</span><span id="line-1172"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679571268"><span class="annot"><span class="annottext">Output
</span><a href="#local-6989586621679571268"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1173"></span><span>              </span><span class="annot"><span class="annottext">SymbolicPathX 'AllowAbsolute Pkg (ZonkAny 3) -&gt; String
forall {allowAbsolute :: AllowAbsolute} {to :: FileOrDir}.
SymbolicPathX allowAbsolute Pkg to -&gt; String
</span><a href="#local-6989586621679571239"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPathX 'AllowAbsolute Pkg (ZonkAny 3)
forall {to2 :: FileOrDir}. SymbolicPathX 'AllowAbsolute Pkg to2
</span><a href="#local-6989586621679571240"><span class="hs-identifier hs-var">outputDir</span></a></span><span>
</span><span id="line-1174"></span><span>                </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Output
</span><a href="#local-6989586621679571268"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1175"></span><span>                  </span><span class="annot"><span class="annottext">Output
</span><a href="Distribution.Simple.Haddock.html#Html"><span class="hs-identifier hs-var">Html</span></a></span><span>
</span><span id="line-1176"></span><span>                    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571262"><span class="hs-identifier hs-var">isIndexGenerated</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1177"></span><span>                        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;index.html&quot;</span></span><span>
</span><span id="line-1178"></span><span>                  </span><span class="annot"><span class="annottext">Output
</span><a href="Distribution.Simple.Haddock.html#Html"><span class="hs-identifier hs-var">Html</span></a></span><span>
</span><span id="line-1179"></span><span>                    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1180"></span><span>                        </span><span class="annot"><span class="annottext">String
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-1181"></span><span>                  </span><span class="annot"><span class="annottext">Output
</span><a href="Distribution.Simple.Haddock.html#Hoogle"><span class="hs-identifier hs-var">Hoogle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571269"><span class="hs-identifier hs-var">pkgstr</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p. FileLike p =&gt; p -&gt; String -&gt; p
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C.%3E"><span class="hs-operator hs-var">&lt;.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;txt&quot;</span></span><span>
</span><span id="line-1182"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-1183"></span><span>        </span><span class="annot"><span class="annottext">([Output] -&gt; [String])
-&gt; (HaddockArgs -&gt; [Output]) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Output] -&gt; Flag [Output] -&gt; [Output]
forall a. a -&gt; Flag a -&gt; a
</span><a href="Distribution.Simple.Flag.html#fromFlagOrDefault"><span class="hs-identifier hs-var">fromFlagOrDefault</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Output
</span><a href="Distribution.Simple.Haddock.html#Html"><span class="hs-identifier hs-var">Html</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1184"></span><span>        </span><span class="annot"><span class="annottext">(Flag [Output] -&gt; [Output])
-&gt; (HaddockArgs -&gt; Flag [Output]) -&gt; HaddockArgs -&gt; [Output]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag [Output]
</span><a href="Distribution.Simple.Haddock.html#argOutput"><span class="hs-identifier hs-var">argOutput</span></a></span><span>
</span><span id="line-1185"></span><span>        </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; String) -&gt; HaddockArgs -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571232"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1186"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1187"></span><span>        </span><span id="local-6989586621679571269"><span class="annot"><span class="annottext">pkgstr :: String
</span><a href="#local-6989586621679571269"><span class="hs-identifier hs-var hs-var">pkgstr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PackageName -&gt; String
forall a. Pretty a =&gt; a -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">(PackageName -&gt; String) -&gt; PackageName -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PackageIdentifier -&gt; PackageName
forall pkg. Package pkg =&gt; pkg -&gt; PackageName
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Package.html#packageName"><span class="hs-identifier hs-var">packageName</span></a></span><span> </span><span class="annot"><span class="annottext">PackageIdentifier
</span><a href="#local-6989586621679571274"><span class="hs-identifier hs-var">pkgid</span></a></span><span>
</span><span id="line-1188"></span><span>        </span><span id="local-6989586621679571274"><span class="annot"><span class="annottext">pkgid :: PackageIdentifier
</span><a href="#local-6989586621679571274"><span class="hs-identifier hs-var hs-var">pkgid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; Flag PackageIdentifier) -&gt; PackageIdentifier
forall {b}. (HaddockArgs -&gt; Flag b) -&gt; b
</span><a href="#local-6989586621679571275"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag PackageIdentifier
</span><a href="Distribution.Simple.Haddock.html#argPackageName"><span class="hs-identifier hs-var">argPackageName</span></a></span><span>
</span><span id="line-1189"></span><span>    </span><span id="local-6989586621679571275"><span class="annot"><span class="annottext">arg :: (HaddockArgs -&gt; Flag b) -&gt; b
</span><a href="#local-6989586621679571275"><span class="hs-identifier hs-var hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621679571278"><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag b
</span><a href="#local-6989586621679571278"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Flag b -&gt; b
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag b -&gt; b) -&gt; Flag b -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag b
</span><a href="#local-6989586621679571278"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571232"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1190"></span><span>
</span><span id="line-1191"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#renderPureArgs"><span class="hs-identifier hs-type">renderPureArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#Version"><span class="hs-identifier hs-type">Version</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Compiler.html#Compiler"><span class="hs-identifier hs-type">Compiler</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.System.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-1192"></span><span id="renderPureArgs"><span class="annot"><span class="annottext">renderPureArgs :: Version -&gt; Compiler -&gt; Platform -&gt; HaddockArgs -&gt; [String]
</span><a href="Distribution.Simple.Haddock.html#renderPureArgs"><span class="hs-identifier hs-var hs-var">renderPureArgs</span></a></span></span><span> </span><span id="local-6989586621679571279"><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679571279"><span class="hs-identifier hs-var">version</span></a></span></span><span> </span><span id="local-6989586621679571280"><span class="annot"><span class="annottext">Compiler
</span><a href="#local-6989586621679571280"><span class="hs-identifier hs-var">comp</span></a></span></span><span> </span><span id="local-6989586621679571281"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621679571281"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621679571282"><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1193"></span><span>  </span><span class="annot"><span class="annottext">[[String]] -&gt; [String]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span>
</span><span id="line-1194"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; [String] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679571284"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571284"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--dump-interface=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts) -&gt; String
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="#local-6989586621679571285"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Directory -&gt; SymbolicPath Pkg ('Dir Artifacts)
</span><a href="Distribution.Simple.Haddock.html#unDir"><span class="hs-identifier hs-var">unDir</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HaddockArgs -&gt; Directory
</span><a href="Distribution.Simple.Haddock.html#argOutputDir"><span class="hs-identifier hs-var">argOutputDir</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571284"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1195"></span><span>        </span><span class="annot"><span class="annottext">([String] -&gt; [String])
-&gt; (HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Flag String -&gt; [String]
forall a. Flag a -&gt; [a]
</span><a href="Distribution.Simple.Flag.html#flagToList"><span class="hs-identifier hs-var">flagToList</span></a></span><span>
</span><span id="line-1196"></span><span>        </span><span class="annot"><span class="annottext">(Flag String -&gt; [String])
-&gt; (HaddockArgs -&gt; Flag String) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argInterfaceFile"><span class="hs-identifier hs-var">argInterfaceFile</span></a></span><span>
</span><span id="line-1197"></span><span>        </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1198"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571287"><span class="hs-identifier hs-var">haddockSupportsPackageName</span></a></span><span>
</span><span id="line-1199"></span><span>        </span><span class="hs-keyword">then</span><span>
</span><span id="line-1200"></span><span>          </span><span class="annot"><span class="annottext">[String]
-&gt; (PackageIdentifier -&gt; [String])
-&gt; Maybe PackageIdentifier
-&gt; [String]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span>
</span><span id="line-1201"></span><span>            </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1202"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679571288"><span class="annot"><span class="annottext">PackageIdentifier
</span><a href="#local-6989586621679571288"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1203"></span><span>                </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--package-name=&quot;</span></span><span>
</span><span id="line-1204"></span><span>                    </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argComponentName"><span class="hs-identifier hs-var">argComponentName</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1205"></span><span>                      </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span id="local-6989586621679571289"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571289"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571289"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-1206"></span><span>                      </span><span class="annot"><span class="annottext">Flag String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PackageName -&gt; String
forall a. Pretty a =&gt; a -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageIdentifier -&gt; PackageName
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageId.html#pkgName"><span class="hs-identifier hs-var">pkgName</span></a></span><span> </span><span class="annot"><span class="annottext">PackageIdentifier
</span><a href="#local-6989586621679571288"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1207"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--package-version=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Version -&gt; String
forall a. Pretty a =&gt; a -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageIdentifier -&gt; Version
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageId.html#pkgVersion"><span class="hs-identifier hs-var">pkgVersion</span></a></span><span> </span><span class="annot"><span class="annottext">PackageIdentifier
</span><a href="#local-6989586621679571288"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1208"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-1209"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1210"></span><span>            </span><span class="annot"><span class="annottext">(Maybe PackageIdentifier -&gt; [String])
-&gt; (HaddockArgs -&gt; Maybe PackageIdentifier)
-&gt; HaddockArgs
-&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Flag PackageIdentifier -&gt; Maybe PackageIdentifier
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span>
</span><span id="line-1211"></span><span>            </span><span class="annot"><span class="annottext">(Flag PackageIdentifier -&gt; Maybe PackageIdentifier)
-&gt; (HaddockArgs -&gt; Flag PackageIdentifier)
-&gt; HaddockArgs
-&gt; Maybe PackageIdentifier
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag PackageIdentifier
</span><a href="Distribution.Simple.Haddock.html#argPackageName"><span class="hs-identifier hs-var">argPackageName</span></a></span><span>
</span><span id="line-1212"></span><span>            </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1213"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1214"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--since-qual=external&quot;</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
</span><a href="#local-6989586621679571291"><span class="hs-identifier hs-var">isVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">20</span></span><span class="hs-special">]</span><span>
</span><span id="line-1215"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--quickjump&quot;</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
</span><a href="#local-6989586621679571291"><span class="hs-identifier hs-var">isVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">19</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Flag Bool -&gt; [Bool]
forall a. Flag a -&gt; [a]
</span><a href="Distribution.Simple.Flag.html#flagToList"><span class="hs-identifier hs-var">flagToList</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag Bool -&gt; [Bool])
-&gt; (HaddockArgs -&gt; Flag Bool) -&gt; HaddockArgs -&gt; [Bool]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag Bool
</span><a href="Distribution.Simple.Haddock.html#argQuickJump"><span class="hs-identifier hs-var">argQuickJump</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [Bool]) -&gt; HaddockArgs -&gt; [Bool]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1216"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-1217"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--hyperlinked-source&quot;</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571292"><span class="hs-identifier hs-var">isHyperlinkedSource</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1218"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">All</span></span><span> </span><span id="local-6989586621679571293"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571293"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571294"><span class="annot"><span class="annottext">[ModuleName]
</span><a href="#local-6989586621679571294"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; Bool -&gt; [String]
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">bool</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ModuleName -&gt; String) -&gt; [ModuleName] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--hide=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; (ModuleName -&gt; String) -&gt; ModuleName -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; String
forall a. Pretty a =&gt; a -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ModuleName]
</span><a href="#local-6989586621679571294"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571293"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1219"></span><span>        </span><span class="annot"><span class="annottext">((All, [ModuleName]) -&gt; [String])
-&gt; (HaddockArgs -&gt; (All, [ModuleName])) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; (All, [ModuleName])
</span><a href="Distribution.Simple.Haddock.html#argHideModules"><span class="hs-identifier hs-var">argHideModules</span></a></span><span>
</span><span id="line-1220"></span><span>        </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1221"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; Bool -&gt; [String]
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">bool</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--ignore-all-exports&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; [String])
-&gt; (HaddockArgs -&gt; Bool) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Any -&gt; Bool
</span><span class="hs-identifier hs-var">getAny</span></span><span> </span><span class="annot"><span class="annottext">(Any -&gt; Bool) -&gt; (HaddockArgs -&gt; Any) -&gt; HaddockArgs -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Any
</span><a href="Distribution.Simple.Haddock.html#argIgnoreExports"><span class="hs-identifier hs-var">argIgnoreExports</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1222"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Haddock's --source-* options are ignored once --hyperlinked-source is</span><span>
</span><span id="line-1223"></span><span>      </span><span class="hs-comment">-- set.</span><span>
</span><span id="line-1224"></span><span>      </span><span class="hs-comment">-- See https://haskell-haddock.readthedocs.io/en/latest/invoking.html#cmdoption-hyperlinked-source</span><span>
</span><span id="line-1225"></span><span>      </span><span class="hs-comment">-- To avoid Haddock's warning, we only set --source-* options if</span><span>
</span><span id="line-1226"></span><span>      </span><span class="hs-comment">-- --hyperlinked-source is not set.</span><span>
</span><span id="line-1227"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571292"><span class="hs-identifier hs-var">isHyperlinkedSource</span></a></span><span>
</span><span id="line-1228"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1229"></span><span>        </span><span class="hs-keyword">else</span><span>
</span><span id="line-1230"></span><span>          </span><span class="annot"><span class="annottext">[String]
-&gt; ((String, String, String) -&gt; [String])
-&gt; Maybe (String, String, String)
-&gt; [String]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span>
</span><span id="line-1231"></span><span>            </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1232"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679571296"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571296"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571297"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571297"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571298"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571298"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1233"></span><span>                </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--source-module=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571296"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1234"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--source-entity=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571297"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1235"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-1236"></span><span>                  </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
</span><a href="#local-6989586621679571291"><span class="hs-identifier hs-var">isVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">14</span></span><span>
</span><span id="line-1237"></span><span>                    </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--source-entity-line=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571298"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1238"></span><span>                    </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1239"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-1240"></span><span>            </span><span class="annot"><span class="annottext">(Maybe (String, String, String) -&gt; [String])
-&gt; (HaddockArgs -&gt; Maybe (String, String, String))
-&gt; HaddockArgs
-&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Flag (String, String, String) -&gt; Maybe (String, String, String)
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span>
</span><span id="line-1241"></span><span>            </span><span class="annot"><span class="annottext">(Flag (String, String, String) -&gt; Maybe (String, String, String))
-&gt; (HaddockArgs -&gt; Flag (String, String, String))
-&gt; HaddockArgs
-&gt; Maybe (String, String, String)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag (String, String, String)
</span><a href="Distribution.Simple.Haddock.html#argLinkSource"><span class="hs-identifier hs-var">argLinkSource</span></a></span><span>
</span><span id="line-1242"></span><span>            </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1243"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; (String -&gt; [String]) -&gt; Maybe String -&gt; [String]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; [String]) -&gt; ShowS -&gt; String -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--css=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe String -&gt; [String])
-&gt; (HaddockArgs -&gt; Maybe String) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Flag String -&gt; Maybe String
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag String -&gt; Maybe String)
-&gt; (HaddockArgs -&gt; Flag String) -&gt; HaddockArgs -&gt; Maybe String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argCssFile"><span class="hs-identifier hs-var">argCssFile</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1244"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; (String -&gt; [String]) -&gt; Maybe String -&gt; [String]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; [String]) -&gt; ShowS -&gt; String -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--use-contents=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe String -&gt; [String])
-&gt; (HaddockArgs -&gt; Maybe String) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Flag String -&gt; Maybe String
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag String -&gt; Maybe String)
-&gt; (HaddockArgs -&gt; Flag String) -&gt; HaddockArgs -&gt; Maybe String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argContents"><span class="hs-identifier hs-var">argContents</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1245"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; Bool -&gt; [String]
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">bool</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--gen-contents&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; [String])
-&gt; (HaddockArgs -&gt; Bool) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Flag Bool -&gt; Bool
forall a. a -&gt; Flag a -&gt; a
</span><a href="Distribution.Simple.Flag.html#fromFlagOrDefault"><span class="hs-identifier hs-var">fromFlagOrDefault</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">(Flag Bool -&gt; Bool)
-&gt; (HaddockArgs -&gt; Flag Bool) -&gt; HaddockArgs -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag Bool
</span><a href="Distribution.Simple.Haddock.html#argGenContents"><span class="hs-identifier hs-var">argGenContents</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1246"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; (String -&gt; [String]) -&gt; Maybe String -&gt; [String]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; [String]) -&gt; ShowS -&gt; String -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--use-index=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe String -&gt; [String])
-&gt; (HaddockArgs -&gt; Maybe String) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Flag String -&gt; Maybe String
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag String -&gt; Maybe String)
-&gt; (HaddockArgs -&gt; Flag String) -&gt; HaddockArgs -&gt; Maybe String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argIndex"><span class="hs-identifier hs-var">argIndex</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1247"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; Bool -&gt; [String]
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">bool</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--gen-index&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; [String])
-&gt; (HaddockArgs -&gt; Bool) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Flag Bool -&gt; Bool
forall a. a -&gt; Flag a -&gt; a
</span><a href="Distribution.Simple.Flag.html#fromFlagOrDefault"><span class="hs-identifier hs-var">fromFlagOrDefault</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">(Flag Bool -&gt; Bool)
-&gt; (HaddockArgs -&gt; Flag Bool) -&gt; HaddockArgs -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag Bool
</span><a href="Distribution.Simple.Haddock.html#argGenIndex"><span class="hs-identifier hs-var">argGenIndex</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1248"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; (String -&gt; [String]) -&gt; Maybe String -&gt; [String]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; [String]) -&gt; ShowS -&gt; String -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--base-url=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe String -&gt; [String])
-&gt; (HaddockArgs -&gt; Maybe String) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Flag String -&gt; Maybe String
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag String -&gt; Maybe String)
-&gt; (HaddockArgs -&gt; Flag String) -&gt; HaddockArgs -&gt; Maybe String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argBaseUrl"><span class="hs-identifier hs-var">argBaseUrl</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1249"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; Bool -&gt; [String]
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">bool</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571299"><span class="hs-identifier hs-var">verbosityFlag</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; [String])
-&gt; (HaddockArgs -&gt; Bool) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Any -&gt; Bool
</span><span class="hs-identifier hs-var">getAny</span></span><span> </span><span class="annot"><span class="annottext">(Any -&gt; Bool) -&gt; (HaddockArgs -&gt; Any) -&gt; HaddockArgs -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Any
</span><a href="Distribution.Simple.Haddock.html#argVerbose"><span class="hs-identifier hs-var">argVerbose</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1250"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Output -&gt; String) -&gt; [Output] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679571300"><span class="annot"><span class="annottext">Output
</span><a href="#local-6989586621679571300"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Output
</span><a href="#local-6989586621679571300"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="annot"><span class="annottext">Output
</span><a href="Distribution.Simple.Haddock.html#Hoogle"><span class="hs-identifier hs-var">Hoogle</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--hoogle&quot;</span></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Output
</span><a href="Distribution.Simple.Haddock.html#Html"><span class="hs-identifier hs-var">Html</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--html&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1251"></span><span>        </span><span class="annot"><span class="annottext">([Output] -&gt; [String])
-&gt; (HaddockArgs -&gt; [Output]) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Output] -&gt; Flag [Output] -&gt; [Output]
forall a. a -&gt; Flag a -&gt; a
</span><a href="Distribution.Simple.Flag.html#fromFlagOrDefault"><span class="hs-identifier hs-var">fromFlagOrDefault</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1252"></span><span>        </span><span class="annot"><span class="annottext">(Flag [Output] -&gt; [Output])
-&gt; (HaddockArgs -&gt; Flag [Output]) -&gt; HaddockArgs -&gt; [Output]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag [Output]
</span><a href="Distribution.Simple.Haddock.html#argOutput"><span class="hs-identifier hs-var">argOutput</span></a></span><span>
</span><span id="line-1253"></span><span>        </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1254"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[(String, Maybe String, Maybe String, Visibility)] -&gt; [String]
</span><a href="#local-6989586621679571301"><span class="hs-identifier hs-var">renderInterfaces</span></a></span><span> </span><span class="annot"><span class="annottext">([(String, Maybe String, Maybe String, Visibility)] -&gt; [String])
-&gt; (HaddockArgs
    -&gt; [(String, Maybe String, Maybe String, Visibility)])
-&gt; HaddockArgs
-&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; [(String, Maybe String, Maybe String, Visibility)]
</span><a href="Distribution.Simple.Haddock.html#argInterfaces"><span class="hs-identifier hs-var">argInterfaces</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1255"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; [String])
-&gt; (HaddockArgs -&gt; String) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--odir=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; (HaddockArgs -&gt; String) -&gt; HaddockArgs -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts) -&gt; String
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="#local-6989586621679571285"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts) -&gt; String)
-&gt; (HaddockArgs -&gt; SymbolicPath Pkg ('Dir Artifacts))
-&gt; HaddockArgs
-&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Directory -&gt; SymbolicPath Pkg ('Dir Artifacts)
</span><a href="Distribution.Simple.Haddock.html#unDir"><span class="hs-identifier hs-var">unDir</span></a></span><span> </span><span class="annot"><span class="annottext">(Directory -&gt; SymbolicPath Pkg ('Dir Artifacts))
-&gt; (HaddockArgs -&gt; Directory)
-&gt; HaddockArgs
-&gt; SymbolicPath Pkg ('Dir Artifacts)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Directory
</span><a href="Distribution.Simple.Haddock.html#argOutputDir"><span class="hs-identifier hs-var">argOutputDir</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1256"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; (String -&gt; [String]) -&gt; Maybe String -&gt; [String]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span>
</span><span id="line-1257"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1258"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1259"></span><span>            </span><span class="annot"><span class="annottext">(String -&gt; [String]) -&gt; ShowS -&gt; String -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--title=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span>
</span><span id="line-1260"></span><span>            </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; Bool -&gt; ShowS
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">bool</span></span><span>
</span><span id="line-1261"></span><span>                  </span><span class="annot"><span class="annottext">ShowS
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-1262"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; (internal documentation)&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1263"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Any -&gt; Bool
</span><span class="hs-identifier hs-var">getAny</span></span><span> </span><span class="annot"><span class="annottext">(Any -&gt; Bool) -&gt; Any -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Any
</span><a href="Distribution.Simple.Haddock.html#argIgnoreExports"><span class="hs-identifier hs-var">argIgnoreExports</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1264"></span><span>              </span><span class="hs-special">)</span><span>
</span><span id="line-1265"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-1266"></span><span>        </span><span class="annot"><span class="annottext">(Maybe String -&gt; [String])
-&gt; (HaddockArgs -&gt; Maybe String) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Flag String -&gt; Maybe String
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span>
</span><span id="line-1267"></span><span>        </span><span class="annot"><span class="annottext">(Flag String -&gt; Maybe String)
-&gt; (HaddockArgs -&gt; Flag String) -&gt; HaddockArgs -&gt; Maybe String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argTitle"><span class="hs-identifier hs-var">argTitle</span></a></span><span>
</span><span id="line-1268"></span><span>        </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1269"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--optghc=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571303"><span class="hs-identifier hs-var">opt</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571304"><span class="annot"><span class="annottext">opts :: GhcOptions
</span><a href="#local-6989586621679571304"><span class="hs-identifier hs-var hs-var">opts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; GhcOptions
</span><a href="Distribution.Simple.Haddock.html#argGhcOptions"><span class="hs-identifier hs-var">argGhcOptions</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571303"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571303"><span class="hs-identifier hs-var">opt</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Compiler -&gt; Platform -&gt; GhcOptions -&gt; [String]
</span><a href="Distribution.Simple.Program.GHC.html#renderGhcOptions"><span class="hs-identifier hs-var">renderGhcOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Compiler
</span><a href="#local-6989586621679571280"><span class="hs-identifier hs-var">comp</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621679571281"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">GhcOptions
</span><a href="#local-6989586621679571304"><span class="hs-identifier hs-var">opts</span></a></span><span>
</span><span id="line-1270"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-1271"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; (String -&gt; [String]) -&gt; Maybe String -&gt; [String]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679571306"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571306"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-B&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571306"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe String -&gt; [String]) -&gt; Maybe String -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1272"></span><span>        </span><span class="annot"><span class="annottext">Flag String -&gt; Maybe String
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argGhcLibDir"><span class="hs-identifier hs-var">argGhcLibDir</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- error if Nothing?</span><span>
</span><span id="line-1273"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- https://github.com/haskell/haddock/pull/547</span><span>
</span><span id="line-1274"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--reexport=&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">OpenModule -&gt; String
forall a. Pretty a =&gt; a -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">OpenModule
</span><a href="#local-6989586621679571307"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-1275"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679571307"><span class="annot"><span class="annottext">OpenModule
</span><a href="#local-6989586621679571307"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; [OpenModule]
</span><a href="Distribution.Simple.Haddock.html#argReexports"><span class="hs-identifier hs-var">argReexports</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1276"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
</span><a href="#local-6989586621679571291"><span class="hs-identifier hs-var">isVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">19</span></span><span>
</span><span id="line-1277"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-1278"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; [String]
</span><a href="Distribution.Simple.Haddock.html#argTargets"><span class="hs-identifier hs-var">argTargets</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1279"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; (String -&gt; [String]) -&gt; Maybe String -&gt; [String]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; [String]) -&gt; ShowS -&gt; String -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571308"><span class="hs-identifier hs-var">resourcesDirFlag</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe String -&gt; [String])
-&gt; (HaddockArgs -&gt; Maybe String) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Flag String -&gt; Maybe String
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag String -&gt; Maybe String)
-&gt; (HaddockArgs -&gt; Flag String) -&gt; HaddockArgs -&gt; Maybe String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag String
</span><a href="Distribution.Simple.Haddock.html#argResourcesDir"><span class="hs-identifier hs-var">argResourcesDir</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1280"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Do not re-direct compilation output to a temporary directory (--no-tmp-comp-dir)</span><span>
</span><span id="line-1281"></span><span>      </span><span class="hs-comment">-- We pass this option by default to haddock to avoid recompilation</span><span>
</span><span id="line-1282"></span><span>      </span><span class="hs-comment">-- See Note [Hi Haddock Recompilation Avoidance]</span><span>
</span><span id="line-1283"></span><span>      </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--no-tmp-comp-dir&quot;</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679571279"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">Version -&gt; Version -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Version
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#mkVersion"><span class="hs-identifier hs-var">mkVersion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">28</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-1284"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; Bool -&gt; [String]
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">bool</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--use-unicode&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; [String])
-&gt; (HaddockArgs -&gt; Bool) -&gt; HaddockArgs -&gt; [String]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Flag Bool -&gt; Bool
forall a. a -&gt; Flag a -&gt; a
</span><a href="Distribution.Simple.Flag.html#fromFlagOrDefault"><span class="hs-identifier hs-var">fromFlagOrDefault</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">(Flag Bool -&gt; Bool)
-&gt; (HaddockArgs -&gt; Flag Bool) -&gt; HaddockArgs -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag Bool
</span><a href="Distribution.Simple.Haddock.html#argUseUnicode"><span class="hs-identifier hs-var">argUseUnicode</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; [String]) -&gt; HaddockArgs -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1285"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-1286"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1287"></span><span>    </span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path</span><span>
</span><span id="line-1288"></span><span>    </span><span id="local-6989586621679571285"><span class="annot"><span class="annottext">u :: SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="#local-6989586621679571285"><span class="hs-identifier hs-var hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymbolicPathX allowAbsolute from to -&gt; String
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#interpretSymbolicPathCWD"><span class="hs-identifier hs-var">interpretSymbolicPathCWD</span></a></span><span>
</span><span id="line-1289"></span><span>    </span><span id="local-6989586621679571301"><span class="annot"><span class="annottext">renderInterfaces :: [(String, Maybe String, Maybe String, Visibility)] -&gt; [String]
</span><a href="#local-6989586621679571301"><span class="hs-identifier hs-var hs-var">renderInterfaces</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((String, Maybe String, Maybe String, Visibility) -&gt; String)
-&gt; [(String, Maybe String, Maybe String, Visibility)] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(String, Maybe String, Maybe String, Visibility) -&gt; String
</span><a href="#local-6989586621679571309"><span class="hs-identifier hs-var">renderInterface</span></a></span><span>
</span><span id="line-1290"></span><span>
</span><span id="line-1291"></span><span>    </span><span class="annot"><a href="#local-6989586621679571309"><span class="hs-identifier hs-type">renderInterface</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#Visibility"><span class="hs-identifier hs-type">Visibility</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-1292"></span><span>    </span><span id="local-6989586621679571309"><span class="annot"><span class="annottext">renderInterface :: (String, Maybe String, Maybe String, Visibility) -&gt; String
</span><a href="#local-6989586621679571309"><span class="hs-identifier hs-var hs-var">renderInterface</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679571310"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571310"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571311"><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621679571311"><span class="hs-identifier hs-var">html</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571312"><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621679571312"><span class="hs-identifier hs-var">hypsrc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571313"><span class="annot"><span class="annottext">Visibility
</span><a href="#local-6989586621679571313"><span class="hs-identifier hs-var">visibility</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1293"></span><span>      </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--read-interface=&quot;</span></span><span>
</span><span id="line-1294"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span>
</span><span id="line-1295"></span><span>          </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;,&quot;</span></span><span>
</span><span id="line-1296"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">[[String]] -&gt; [String]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span>
</span><span id="line-1297"></span><span>              </span><span class="hs-special">[</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; Maybe String -&gt; String
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621679571311"><span class="hs-identifier hs-var">html</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1298"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- only render hypsrc path if html path</span><span>
</span><span id="line-1299"></span><span>                </span><span class="hs-comment">-- is given and hyperlinked-source is</span><span>
</span><span id="line-1300"></span><span>                </span><span class="hs-comment">-- enabled</span><span>
</span><span id="line-1301"></span><span>
</span><span id="line-1302"></span><span>                </span><span class="hs-special">[</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621679571311"><span class="hs-identifier hs-var">html</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621679571312"><span class="hs-identifier hs-var">hypsrc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1303"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1304"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1305"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679571314"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571314"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1306"></span><span>                      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
</span><a href="#local-6989586621679571291"><span class="hs-identifier hs-var">isVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">17</span></span><span>
</span><span id="line-1307"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Flag Bool -&gt; Bool
forall a. a -&gt; Flag a -&gt; a
</span><a href="Distribution.Simple.Flag.html#fromFlagOrDefault"><span class="hs-identifier hs-var">fromFlagOrDefault</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">(Flag Bool -&gt; Bool)
-&gt; (HaddockArgs -&gt; Flag Bool) -&gt; HaddockArgs -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag Bool
</span><a href="Distribution.Simple.Haddock.html#argLinkedSource"><span class="hs-identifier hs-var">argLinkedSource</span></a></span><span> </span><span class="annot"><span class="annottext">(HaddockArgs -&gt; Bool) -&gt; HaddockArgs -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1308"></span><span>                          </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571314"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1309"></span><span>                      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1310"></span><span>                          </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1311"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-1312"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571315"><span class="hs-identifier hs-var">haddockSupportsVisibility</span></a></span><span>
</span><span id="line-1313"></span><span>                  </span><span class="hs-keyword">then</span><span>
</span><span id="line-1314"></span><span>                    </span><span class="hs-special">[</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Visibility
</span><a href="#local-6989586621679571313"><span class="hs-identifier hs-var">visibility</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1315"></span><span>                        </span><span class="annot"><span class="annottext">Visibility
</span><a href="Distribution.Simple.Setup.Haddock.html#Visible"><span class="hs-identifier hs-var">Visible</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;visible&quot;</span></span><span>
</span><span id="line-1316"></span><span>                        </span><span class="annot"><span class="annottext">Visibility
</span><a href="Distribution.Simple.Setup.Haddock.html#Hidden"><span class="hs-identifier hs-var">Hidden</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hidden&quot;</span></span><span>
</span><span id="line-1317"></span><span>                    </span><span class="hs-special">]</span><span>
</span><span id="line-1318"></span><span>                  </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1319"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571310"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1320"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-1321"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-1322"></span><span>
</span><span id="line-1323"></span><span>    </span><span id="local-6989586621679571291"><span class="annot"><span class="annottext">isVersion :: Int -&gt; Int -&gt; Bool
</span><a href="#local-6989586621679571291"><span class="hs-identifier hs-var hs-var">isVersion</span></a></span></span><span> </span><span id="local-6989586621679571319"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679571319"><span class="hs-identifier hs-var">major</span></a></span></span><span> </span><span id="local-6989586621679571320"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679571320"><span class="hs-identifier hs-var">minor</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679571279"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">Version -&gt; Version -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Version
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#mkVersion"><span class="hs-identifier hs-var">mkVersion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679571319"><span class="hs-identifier hs-var">major</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679571320"><span class="hs-identifier hs-var">minor</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1324"></span><span>    </span><span id="local-6989586621679571299"><span class="annot"><span class="annottext">verbosityFlag :: String
</span><a href="#local-6989586621679571299"><span class="hs-identifier hs-var hs-var">verbosityFlag</span></a></span></span><span>
</span><span id="line-1325"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
</span><a href="#local-6989586621679571291"><span class="hs-identifier hs-var">isVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--verbosity=1&quot;</span></span><span>
</span><span id="line-1326"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--verbose&quot;</span></span><span>
</span><span id="line-1327"></span><span>    </span><span id="local-6989586621679571308"><span class="annot"><span class="annottext">resourcesDirFlag :: String
</span><a href="#local-6989586621679571308"><span class="hs-identifier hs-var hs-var">resourcesDirFlag</span></a></span></span><span>
</span><span id="line-1328"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
</span><a href="#local-6989586621679571291"><span class="hs-identifier hs-var">isVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">29</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--resources-dir=&quot;</span></span><span>
</span><span id="line-1329"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;--lib=&quot;</span></span><span>
</span><span id="line-1330"></span><span>    </span><span id="local-6989586621679571315"><span class="annot"><span class="annottext">haddockSupportsVisibility :: Bool
</span><a href="#local-6989586621679571315"><span class="hs-identifier hs-var hs-var">haddockSupportsVisibility</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679571279"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">Version -&gt; Version -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Version
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#mkVersion"><span class="hs-identifier hs-var">mkVersion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">26</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">]</span><span>
</span><span id="line-1331"></span><span>    </span><span id="local-6989586621679571287"><span class="annot"><span class="annottext">haddockSupportsPackageName :: Bool
</span><a href="#local-6989586621679571287"><span class="hs-identifier hs-var hs-var">haddockSupportsPackageName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Version
</span><a href="#local-6989586621679571279"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">Version -&gt; Version -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Version
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#mkVersion"><span class="hs-identifier hs-var">mkVersion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span class="hs-special">]</span><span>
</span><span id="line-1332"></span><span>    </span><span id="local-6989586621679571323"><span class="annot"><span class="annottext">haddockSupportsHyperlinkedSource :: Bool
</span><a href="#local-6989586621679571323"><span class="hs-identifier hs-var hs-var">haddockSupportsHyperlinkedSource</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
</span><a href="#local-6989586621679571291"><span class="hs-identifier hs-var">isVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">17</span></span><span>
</span><span id="line-1333"></span><span>    </span><span id="local-6989586621679571292"><span class="annot"><span class="annottext">isHyperlinkedSource :: Bool
</span><a href="#local-6989586621679571292"><span class="hs-identifier hs-var hs-var">isHyperlinkedSource</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1334"></span><span>      </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679571323"><span class="hs-identifier hs-var">haddockSupportsHyperlinkedSource</span></a></span><span>
</span><span id="line-1335"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Flag Bool -&gt; Bool
forall a. a -&gt; Flag a -&gt; a
</span><a href="Distribution.Simple.Flag.html#fromFlagOrDefault"><span class="hs-identifier hs-var">fromFlagOrDefault</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HaddockArgs -&gt; Flag Bool
</span><a href="Distribution.Simple.Haddock.html#argLinkedSource"><span class="hs-identifier hs-var">argLinkedSource</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockArgs
</span><a href="#local-6989586621679571282"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1336"></span><span>
</span><span id="line-1337"></span><span class="hs-comment">---------------------------------------------------------------------------------</span><span>
</span><span id="line-1338"></span><span>
</span><span id="line-1339"></span><span class="hs-comment">-- | Given a list of 'InstalledPackageInfo's, return a list of interfaces and</span><span>
</span><span id="line-1340"></span><span class="hs-comment">-- HTML paths, and an optional warning for packages with missing documentation.</span><span>
</span><span id="line-1341"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#haddockPackagePaths"><span class="hs-identifier hs-type">haddockPackagePaths</span></a></span><span>
</span><span id="line-1342"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.InstalledPackageInfo.html#InstalledPackageInfo"><span class="hs-identifier hs-type">InstalledPackageInfo</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1343"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.InstalledPackageInfo.html#InstalledPackageInfo"><span class="hs-identifier hs-type">InstalledPackageInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">)</span><span>
</span><span id="line-1344"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span>
</span><span id="line-1345"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-comment">-- path to interface</span><span>
</span><span id="line-1346"></span><span>      </span><span class="hs-comment">-- file</span><span>
</span><span id="line-1347"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-comment">-- url to html</span><span>
</span><span id="line-1348"></span><span>          </span><span class="hs-comment">-- documentation</span><span>
</span><span id="line-1349"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-comment">-- url to hyperlinked</span><span>
</span><span id="line-1350"></span><span>          </span><span class="hs-comment">-- source</span><span>
</span><span id="line-1351"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#Visibility"><span class="hs-identifier hs-type">Visibility</span></a></span><span>
</span><span id="line-1352"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-1353"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1354"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-comment">-- warning about</span><span>
</span><span id="line-1355"></span><span>      </span><span class="hs-comment">-- missing documentation</span><span>
</span><span id="line-1356"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-1357"></span><span id="haddockPackagePaths"><span class="annot"><span class="annottext">haddockPackagePaths :: [InstalledPackageInfo]
-&gt; Maybe (InstalledPackageInfo -&gt; String)
-&gt; IO
     ([(String, Maybe String, Maybe String, Visibility)], Maybe String)
</span><a href="Distribution.Simple.Haddock.html#haddockPackagePaths"><span class="hs-identifier hs-var hs-var">haddockPackagePaths</span></a></span></span><span> </span><span id="local-6989586621679571324"><span class="annot"><span class="annottext">[InstalledPackageInfo]
</span><a href="#local-6989586621679571324"><span class="hs-identifier hs-var">ipkgs</span></a></span></span><span> </span><span id="local-6989586621679571325"><span class="annot"><span class="annottext">Maybe (InstalledPackageInfo -&gt; String)
</span><a href="#local-6989586621679571325"><span class="hs-identifier hs-var">mkHtmlPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1358"></span><span>  </span><span id="local-6989586621679571326"><span class="annot"><a href="#local-6989586621679571326"><span class="hs-identifier hs-var">interfaces</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1359"></span><span>    </span><span class="annot"><span class="annottext">[IO
   (Either
      PackageIdentifier
      (String, Maybe String, Maybe String, Visibility))]
-&gt; IO
     [Either
        PackageIdentifier (String, Maybe String, Maybe String, Visibility)]
forall (t :: * -&gt; *) (f :: * -&gt; *) a.
(Traversable t, Applicative f) =&gt;
t (f a) -&gt; f (t a)
forall (f :: * -&gt; *) a. Applicative f =&gt; [f a] -&gt; f [a]
</span><span class="hs-identifier hs-var">sequenceA</span></span><span>
</span><span id="line-1360"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">InstalledPackageInfo -&gt; Maybe (String, Maybe String)
</span><a href="#local-6989586621679571328"><span class="hs-identifier hs-var">interfaceAndHtmlPath</span></a></span><span> </span><span class="annot"><span class="annottext">InstalledPackageInfo
</span><a href="#local-6989586621679571329"><span class="hs-identifier hs-var">ipkg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1361"></span><span>        </span><span class="annot"><span class="annottext">Maybe (String, Maybe String)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1362"></span><span>          </span><span class="annot"><span class="annottext">Either
  PackageIdentifier (String, Maybe String, Maybe String, Visibility)
-&gt; IO
     (Either
        PackageIdentifier (String, Maybe String, Maybe String, Visibility))
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageIdentifier
-&gt; Either
     PackageIdentifier (String, Maybe String, Maybe String, Visibility)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InstalledPackageInfo -&gt; PackageIdentifier
forall pkg. Package pkg =&gt; pkg -&gt; PackageIdentifier
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Package.html#packageId"><span class="hs-identifier hs-var">packageId</span></a></span><span> </span><span class="annot"><span class="annottext">InstalledPackageInfo
</span><a href="#local-6989586621679571329"><span class="hs-identifier hs-var">ipkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1363"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679571330"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571330"><span class="hs-identifier hs-var">interface</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571331"><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621679571331"><span class="hs-identifier hs-var">html</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1364"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679571332"><span class="annot"><a href="#local-6989586621679571332"><span class="hs-identifier hs-var">html'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571333"><span class="annot"><a href="#local-6989586621679571333"><span class="hs-identifier hs-var">hypsrc'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-1365"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621679571331"><span class="hs-identifier hs-var">html</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1366"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679571334"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571334"><span class="hs-identifier hs-var">htmlPath</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1367"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571336"><span class="annot"><span class="annottext">hypSrcPath :: String
</span><a href="#local-6989586621679571336"><span class="hs-identifier hs-var hs-var hs-var">hypSrcPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571334"><span class="hs-identifier hs-var">htmlPath</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571337"><span class="hs-identifier hs-var">defaultHyperlinkedSourceDirectory</span></a></span><span>
</span><span id="line-1368"></span><span>                </span><span id="local-6989586621679571338"><span class="annot"><a href="#local-6989586621679571338"><span class="hs-identifier hs-var">hypSrcExists</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO Bool
</span><a href="../../directory-1.3.9.0-af18/src/System.Directory.html#doesDirectoryExist"><span class="hs-identifier hs-var">doesDirectoryExist</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571336"><span class="hs-identifier hs-var">hypSrcPath</span></a></span><span>
</span><span id="line-1369"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1370"></span><span>                  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679571339"><span class="hs-identifier hs-type">fixFileUrl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571334"><span class="hs-identifier hs-type">htmlPath</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1371"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621679571338"><span class="hs-identifier hs-type">hypSrcExists</span></a></span><span>
</span><span id="line-1372"></span><span>                      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679571339"><span class="hs-identifier hs-type">fixFileUrl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571336"><span class="hs-identifier hs-type">hypSrcPath</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1373"></span><span>                      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>
</span><span id="line-1374"></span><span>                  </span><span class="hs-special">)</span><span>
</span><span id="line-1375"></span><span>              </span><span class="annot"><span class="annottext">Maybe String
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Maybe String, Maybe String) -&gt; IO (Maybe String, Maybe String)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-1376"></span><span>
</span><span id="line-1377"></span><span>          </span><span id="local-6989586621679571340"><span class="annot"><a href="#local-6989586621679571340"><span class="hs-identifier hs-var">exists</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="../../directory-1.3.9.0-af18/src/System.Directory.html#doesFileExist"><span class="hs-identifier hs-type">doesFileExist</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571330"><span class="hs-identifier hs-type">interface</span></a></span><span>
</span><span id="line-1378"></span><span>          </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621679571340"><span class="hs-identifier hs-type">exists</span></a></span><span>
</span><span id="line-1379"></span><span>            </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679571330"><span class="hs-identifier hs-type">interface</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679571332"><span class="hs-identifier hs-type">html'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679571333"><span class="hs-identifier hs-type">hypsrc'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#Visible"><span class="hs-identifier hs-type">Visible</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1380"></span><span>            </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><a href="#local-6989586621679571341"><span class="hs-identifier hs-type">pkgid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1381"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679571329"><span class="annot"><span class="annottext">InstalledPackageInfo
</span><a href="#local-6989586621679571329"><span class="hs-identifier hs-var">ipkg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[InstalledPackageInfo]
</span><a href="#local-6989586621679571324"><span class="hs-identifier hs-var">ipkgs</span></a></span><span>
</span><span id="line-1382"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571341"><span class="annot"><span class="annottext">pkgid :: PackageIdentifier
</span><a href="#local-6989586621679571341"><span class="hs-identifier hs-var hs-var">pkgid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InstalledPackageInfo -&gt; PackageIdentifier
forall pkg. Package pkg =&gt; pkg -&gt; PackageIdentifier
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Package.html#packageId"><span class="hs-identifier hs-var">packageId</span></a></span><span> </span><span class="annot"><span class="annottext">InstalledPackageInfo
</span><a href="#local-6989586621679571329"><span class="hs-identifier hs-var">ipkg</span></a></span><span>
</span><span id="line-1383"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">PackageIdentifier -&gt; PackageName
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageId.html#pkgName"><span class="hs-identifier hs-var">pkgName</span></a></span><span> </span><span class="annot"><span class="annottext">PackageIdentifier
</span><a href="#local-6989586621679571341"><span class="hs-identifier hs-var">pkgid</span></a></span><span> </span><span class="annot"><span class="annottext">PackageName -&gt; [PackageName] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`notElem`</span></span><span> </span><span class="annot"><span class="annottext">[PackageName]
</span><a href="#local-6989586621679571344"><span class="hs-identifier hs-var">noHaddockWhitelist</span></a></span><span>
</span><span id="line-1384"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-1385"></span><span>
</span><span id="line-1386"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571345"><span class="annot"><a href="#local-6989586621679571345"><span class="hs-identifier hs-var hs-var">missing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">PackageIdentifier
</span><a href="#local-6989586621679571346"><span class="hs-identifier hs-var">pkgid</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679571346"><span class="annot"><span class="annottext">PackageIdentifier
</span><a href="#local-6989586621679571346"><span class="hs-identifier hs-var">pkgid</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Either
   PackageIdentifier (String, Maybe String, Maybe String, Visibility)]
</span><a href="#local-6989586621679571326"><span class="hs-identifier hs-var">interfaces</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1387"></span><span>      </span><span id="local-6989586621679571348"><span class="annot"><a href="#local-6989586621679571348"><span class="hs-identifier hs-var hs-var">warning</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1388"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;The documentation for the following packages are not &quot;</span></span><span>
</span><span id="line-1389"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;installed. No links will be generated to these packages: &quot;</span></span><span>
</span><span id="line-1390"></span><span>          </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, &quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PackageIdentifier -&gt; String) -&gt; [PackageIdentifier] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">PackageIdentifier -&gt; String
forall a. Pretty a =&gt; a -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Pretty.html#prettyShow"><span class="hs-identifier hs-var">prettyShow</span></a></span><span> </span><span class="annot"><span class="annottext">[PackageIdentifier]
</span><a href="#local-6989586621679571345"><span class="hs-identifier hs-var">missing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1391"></span><span>      </span><span id="local-6989586621679571349"><span class="annot"><a href="#local-6989586621679571349"><span class="hs-identifier hs-var hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Either
   PackageIdentifier (String, Maybe String, Maybe String, Visibility)]
-&gt; [(String, Maybe String, Maybe String, Visibility)]
forall a b. [Either a b] -&gt; [b]
</span><span class="hs-identifier hs-var">rights</span></span><span> </span><span class="annot"><span class="annottext">[Either
   PackageIdentifier (String, Maybe String, Maybe String, Visibility)]
</span><a href="#local-6989586621679571326"><span class="hs-identifier hs-var">interfaces</span></a></span><span>
</span><span id="line-1392"></span><span>
</span><span id="line-1393"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679571349"><span class="hs-identifier hs-type">flags</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="hs-identifier hs-type">null</span></span><span> </span><span class="annot"><a href="#local-6989586621679571345"><span class="hs-identifier hs-type">missing</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679571348"><span class="hs-identifier hs-type">warning</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1394"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1395"></span><span>    </span><span class="hs-comment">-- Don't warn about missing documentation for these packages. See #1231.</span><span>
</span><span id="line-1396"></span><span>    </span><span id="local-6989586621679571344"><span class="annot"><span class="annottext">noHaddockWhitelist :: [PackageName]
</span><a href="#local-6989586621679571344"><span class="hs-identifier hs-var hs-var">noHaddockWhitelist</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; PackageName) -&gt; [String] -&gt; [PackageName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; PackageName
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageName.html#mkPackageName"><span class="hs-identifier hs-var">mkPackageName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rts&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1397"></span><span>
</span><span id="line-1398"></span><span>    </span><span class="hs-comment">-- Actually extract interface and HTML paths from an 'InstalledPackageInfo'.</span><span>
</span><span id="line-1399"></span><span>    </span><span class="annot"><a href="#local-6989586621679571328"><span class="hs-identifier hs-type">interfaceAndHtmlPath</span></a></span><span>
</span><span id="line-1400"></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.InstalledPackageInfo.html#InstalledPackageInfo"><span class="hs-identifier hs-type">InstalledPackageInfo</span></a></span><span>
</span><span id="line-1401"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">)</span><span>
</span><span id="line-1402"></span><span>    </span><span id="local-6989586621679571328"><span class="annot"><span class="annottext">interfaceAndHtmlPath :: InstalledPackageInfo -&gt; Maybe (String, Maybe String)
</span><a href="#local-6989586621679571328"><span class="hs-identifier hs-var hs-var">interfaceAndHtmlPath</span></a></span></span><span> </span><span id="local-6989586621679571351"><span class="annot"><span class="annottext">InstalledPackageInfo
</span><a href="#local-6989586621679571351"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1403"></span><span>      </span><span id="local-6989586621679571352"><span class="annot"><a href="#local-6989586621679571352"><span class="hs-identifier hs-var">interface</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe String
forall a. [a] -&gt; Maybe a
</span><span class="hs-identifier hs-var">listToMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InstalledPackageInfo -&gt; [String]
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.InstalledPackageInfo.html#haddockInterfaces"><span class="hs-identifier hs-var">InstalledPackageInfo.haddockInterfaces</span></a></span><span> </span><span class="annot"><span class="annottext">InstalledPackageInfo
</span><a href="#local-6989586621679571351"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1404"></span><span>      </span><span id="local-6989586621679571355"><span class="annot"><a href="#local-6989586621679571355"><span class="hs-identifier hs-var">html</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621679571325"><span class="hs-identifier hs-type">mkHtmlPath</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1405"></span><span>        </span><span class="annot"><span class="annottext">Maybe (InstalledPackageInfo -&gt; String)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe String
forall a. [a] -&gt; Maybe a
</span><span class="hs-identifier hs-var">listToMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InstalledPackageInfo -&gt; [String]
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.InstalledPackageInfo.html#haddockHTMLs"><span class="hs-identifier hs-var">InstalledPackageInfo.haddockHTMLs</span></a></span><span> </span><span class="annot"><span class="annottext">InstalledPackageInfo
</span><a href="#local-6989586621679571351"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1406"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679571357"><span class="annot"><span class="annottext">InstalledPackageInfo -&gt; String
</span><a href="#local-6989586621679571357"><span class="hs-identifier hs-var">mkPath</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InstalledPackageInfo -&gt; String
</span><a href="#local-6989586621679571357"><span class="hs-identifier hs-var">mkPath</span></a></span><span> </span><span class="annot"><span class="annottext">InstalledPackageInfo
</span><a href="#local-6989586621679571351"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1407"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679571352"><span class="hs-identifier hs-type">interface</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="hs-identifier hs-type">null</span></span><span> </span><span class="annot"><a href="#local-6989586621679571355"><span class="hs-identifier hs-type">html</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621679571355"><span class="hs-identifier hs-type">html</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1408"></span><span>
</span><span id="line-1409"></span><span>    </span><span class="hs-comment">-- The 'haddock-html' field in the hc-pkg output is often set as a</span><span>
</span><span id="line-1410"></span><span>    </span><span class="hs-comment">-- native path, but we need it as a URL. See #1064. Also don't &quot;fix&quot;</span><span>
</span><span id="line-1411"></span><span>    </span><span class="hs-comment">-- the path if it is an interpolated one.</span><span>
</span><span id="line-1412"></span><span>    </span><span id="local-6989586621679571339"><span class="annot"><span class="annottext">fixFileUrl :: ShowS
</span><a href="#local-6989586621679571339"><span class="hs-identifier hs-var hs-var">fixFileUrl</span></a></span></span><span> </span><span id="local-6989586621679571358"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571358"><span class="hs-identifier hs-var">f</span></a></span></span><span>
</span><span id="line-1413"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Maybe (InstalledPackageInfo -&gt; String)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (InstalledPackageInfo -&gt; String)
</span><a href="#local-6989586621679571325"><span class="hs-identifier hs-var">mkHtmlPath</span></a></span><span>
</span><span id="line-1414"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.Posix.html#isAbsolute"><span class="hs-identifier hs-var">isAbsolute</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571358"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1415"></span><span>          </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;file://&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571358"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-1416"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571358"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-1417"></span><span>
</span><span id="line-1418"></span><span>    </span><span class="hs-comment">-- 'src' is the default hyperlinked source directory ever since. It is</span><span>
</span><span id="line-1419"></span><span>    </span><span class="hs-comment">-- not possible to configure that directory in any way in haddock.</span><span>
</span><span id="line-1420"></span><span>    </span><span id="local-6989586621679571337"><span class="annot"><span class="annottext">defaultHyperlinkedSourceDirectory :: String
</span><a href="#local-6989586621679571337"><span class="hs-identifier hs-var hs-var">defaultHyperlinkedSourceDirectory</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;src&quot;</span></span><span>
</span><span id="line-1421"></span><span>
</span><span id="line-1422"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#haddockPackageFlags"><span class="hs-identifier hs-type">haddockPackageFlags</span></a></span><span>
</span><span id="line-1423"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-1424"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-1425"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.ComponentLocalBuildInfo.html#ComponentLocalBuildInfo"><span class="hs-identifier hs-type">ComponentLocalBuildInfo</span></a></span><span>
</span><span id="line-1426"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#PathTemplate"><span class="hs-identifier hs-type">PathTemplate</span></a></span><span>
</span><span id="line-1427"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span>
</span><span id="line-1428"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-comment">-- path to interface</span><span>
</span><span id="line-1429"></span><span>      </span><span class="hs-comment">-- file</span><span>
</span><span id="line-1430"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-comment">-- url to html</span><span>
</span><span id="line-1431"></span><span>          </span><span class="hs-comment">-- documentation</span><span>
</span><span id="line-1432"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-comment">-- url to hyperlinked</span><span>
</span><span id="line-1433"></span><span>          </span><span class="hs-comment">-- source</span><span>
</span><span id="line-1434"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#Visibility"><span class="hs-identifier hs-type">Visibility</span></a></span><span>
</span><span id="line-1435"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-1436"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-1437"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-comment">-- warning about</span><span>
</span><span id="line-1438"></span><span>      </span><span class="hs-comment">-- missing documentation</span><span>
</span><span id="line-1439"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-1440"></span><span id="haddockPackageFlags"><span class="annot"><span class="annottext">haddockPackageFlags :: Verbosity
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Maybe PathTemplate
-&gt; IO
     ([(String, Maybe String, Maybe String, Visibility)], Maybe String)
</span><a href="Distribution.Simple.Haddock.html#haddockPackageFlags"><span class="hs-identifier hs-var hs-var">haddockPackageFlags</span></a></span></span><span> </span><span id="local-6989586621679571359"><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571359"><span class="hs-identifier hs-var">verbosity</span></a></span></span><span> </span><span id="local-6989586621679571360"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571360"><span class="hs-identifier hs-var">lbi</span></a></span></span><span> </span><span id="local-6989586621679571361"><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571361"><span class="hs-identifier hs-var">clbi</span></a></span></span><span> </span><span id="local-6989586621679571362"><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679571362"><span class="hs-identifier hs-var">htmlTemplate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1441"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571363"><span class="annot"><span class="annottext">allPkgs :: InstalledPackageIndex
</span><a href="#local-6989586621679571363"><span class="hs-identifier hs-var hs-var hs-var">allPkgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; InstalledPackageIndex
</span><a href="Distribution.Types.LocalBuildInfo.html#installedPkgs"><span class="hs-identifier hs-var">installedPkgs</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571360"><span class="hs-identifier hs-var">lbi</span></a></span><span>
</span><span id="line-1442"></span><span>      </span><span id="local-6989586621679571364"><span class="annot"><span class="annottext">directDeps :: [UnitId]
</span><a href="#local-6989586621679571364"><span class="hs-identifier hs-var hs-var hs-var">directDeps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((UnitId, MungedPackageId) -&gt; UnitId)
-&gt; [(UnitId, MungedPackageId)] -&gt; [UnitId]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(UnitId, MungedPackageId) -&gt; UnitId
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ComponentLocalBuildInfo -&gt; [(UnitId, MungedPackageId)]
</span><a href="Distribution.Types.ComponentLocalBuildInfo.html#componentPackageDeps"><span class="hs-identifier hs-var">componentPackageDeps</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571361"><span class="hs-identifier hs-var">clbi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1443"></span><span>  </span><span id="local-6989586621679571367"><span class="annot"><a href="#local-6989586621679571367"><span class="hs-identifier hs-var">transitiveDeps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">InstalledPackageIndex
-&gt; [UnitId]
-&gt; Either InstalledPackageIndex [(InstalledPackageInfo, [UnitId])]
</span><a href="Distribution.Simple.PackageIndex.html#dependencyClosure"><span class="hs-identifier hs-var">PackageIndex.dependencyClosure</span></a></span><span> </span><span class="annot"><span class="annottext">InstalledPackageIndex
</span><a href="#local-6989586621679571363"><span class="hs-identifier hs-var">allPkgs</span></a></span><span> </span><span class="annot"><span class="annottext">[UnitId]
</span><a href="#local-6989586621679571364"><span class="hs-identifier hs-var">directDeps</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1444"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679571369"><span class="annot"><span class="annottext">InstalledPackageIndex
</span><a href="#local-6989586621679571369"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">InstalledPackageIndex -&gt; IO InstalledPackageIndex
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">InstalledPackageIndex
</span><a href="#local-6989586621679571369"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1445"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679571370"><span class="annot"><span class="annottext">[(InstalledPackageInfo, [UnitId])]
</span><a href="#local-6989586621679571370"><span class="hs-identifier hs-var">inf</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1446"></span><span>      </span><span class="annot"><span class="annottext">Verbosity -&gt; CabalException -&gt; IO InstalledPackageIndex
forall a1 a.
(HasCallStack, Show a1, Typeable a1,
 Exception (VerboseException a1)) =&gt;
Verbosity -&gt; a1 -&gt; IO a
</span><a href="Distribution.Simple.Utils.html#dieWithException"><span class="hs-identifier hs-var">dieWithException</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571359"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">(CabalException -&gt; IO InstalledPackageIndex)
-&gt; CabalException -&gt; IO InstalledPackageIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(InstalledPackageInfo, [UnitId])] -&gt; CabalException
</span><a href="Distribution.Simple.Errors.html#HaddockPackageFlags"><span class="hs-identifier hs-var">HaddockPackageFlags</span></a></span><span> </span><span class="annot"><span class="annottext">[(InstalledPackageInfo, [UnitId])]
</span><a href="#local-6989586621679571370"><span class="hs-identifier hs-var">inf</span></a></span><span>
</span><span id="line-1447"></span><span>
</span><span id="line-1448"></span><span>  </span><span class="annot"><a href="Distribution.Simple.Haddock.html#haddockPackagePaths"><span class="hs-identifier hs-type">haddockPackagePaths</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.PackageIndex.html#allPackages"><span class="hs-identifier hs-type">PackageIndex.allPackages</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571367"><span class="hs-identifier hs-type">transitiveDeps</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679571373"><span class="hs-identifier hs-type">mkHtmlPath</span></a></span><span>
</span><span id="line-1449"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1450"></span><span>    </span><span id="local-6989586621679571373"><span class="annot"><span class="annottext">mkHtmlPath :: Maybe (InstalledPackageInfo -&gt; String)
</span><a href="#local-6989586621679571373"><span class="hs-identifier hs-var hs-var">mkHtmlPath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(PathTemplate -&gt; InstalledPackageInfo -&gt; String)
-&gt; Maybe PathTemplate -&gt; Maybe (InstalledPackageInfo -&gt; String)
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">PathTemplate -&gt; InstalledPackageInfo -&gt; String
forall {pkg}. Package pkg =&gt; PathTemplate -&gt; pkg -&gt; String
</span><a href="#local-6989586621679571376"><span class="hs-identifier hs-var">expandTemplateVars</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe PathTemplate
</span><a href="#local-6989586621679571362"><span class="hs-identifier hs-var">htmlTemplate</span></a></span><span>
</span><span id="line-1451"></span><span>    </span><span id="local-6989586621679571376"><span class="annot"><span class="annottext">expandTemplateVars :: PathTemplate -&gt; pkg -&gt; String
</span><a href="#local-6989586621679571376"><span class="hs-identifier hs-var hs-var">expandTemplateVars</span></a></span></span><span> </span><span id="local-6989586621679571379"><span class="annot"><span class="annottext">PathTemplate
</span><a href="#local-6989586621679571379"><span class="hs-identifier hs-var">tmpl</span></a></span></span><span> </span><span id="local-6989586621679571380"><span class="annot"><span class="annottext">pkg
</span><a href="#local-6989586621679571380"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1452"></span><span>      </span><span class="annot"><span class="annottext">PathTemplate -&gt; String
</span><a href="Distribution.Simple.InstallDirs.html#fromPathTemplate"><span class="hs-identifier hs-var">fromPathTemplate</span></a></span><span> </span><span class="annot"><span class="annottext">(PathTemplate -&gt; String)
-&gt; (PathTemplate -&gt; PathTemplate) -&gt; PathTemplate -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PathTemplateEnv -&gt; PathTemplate -&gt; PathTemplate
</span><a href="Distribution.Simple.InstallDirs.html#substPathTemplate"><span class="hs-identifier hs-var">substPathTemplate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">pkg -&gt; PathTemplateEnv
forall {pkg}. Package pkg =&gt; pkg -&gt; PathTemplateEnv
</span><a href="#local-6989586621679571381"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">pkg
</span><a href="#local-6989586621679571380"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(PathTemplate -&gt; String) -&gt; PathTemplate -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PathTemplate
</span><a href="#local-6989586621679571379"><span class="hs-identifier hs-var">tmpl</span></a></span><span>
</span><span id="line-1453"></span><span>    </span><span id="local-6989586621679571381"><span class="annot"><span class="annottext">env :: pkg -&gt; PathTemplateEnv
</span><a href="#local-6989586621679571381"><span class="hs-identifier hs-var hs-var">env</span></a></span></span><span> </span><span id="local-6989586621679571384"><span class="annot"><span class="annottext">pkg
</span><a href="#local-6989586621679571384"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; PackageIdentifier -&gt; PathTemplateEnv
</span><a href="Distribution.Simple.Haddock.html#haddockTemplateEnv"><span class="hs-identifier hs-var">haddockTemplateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571360"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">pkg -&gt; PackageIdentifier
forall pkg. Package pkg =&gt; pkg -&gt; PackageIdentifier
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Package.html#packageId"><span class="hs-identifier hs-var">packageId</span></a></span><span> </span><span class="annot"><span class="annottext">pkg
</span><a href="#local-6989586621679571384"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1454"></span><span>
</span><span id="line-1455"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#haddockTemplateEnv"><span class="hs-identifier hs-type">haddockTemplateEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageId.html#PackageIdentifier"><span class="hs-identifier hs-type">PackageIdentifier</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#PathTemplateEnv"><span class="hs-identifier hs-type">PathTemplateEnv</span></a></span><span>
</span><span id="line-1456"></span><span id="haddockTemplateEnv"><span class="annot"><span class="annottext">haddockTemplateEnv :: LocalBuildInfo -&gt; PackageIdentifier -&gt; PathTemplateEnv
</span><a href="Distribution.Simple.Haddock.html#haddockTemplateEnv"><span class="hs-identifier hs-var hs-var">haddockTemplateEnv</span></a></span></span><span> </span><span id="local-6989586621679571385"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571385"><span class="hs-identifier hs-var">lbi</span></a></span></span><span> </span><span id="local-6989586621679571386"><span class="annot"><span class="annottext">PackageIdentifier
</span><a href="#local-6989586621679571386"><span class="hs-identifier hs-var">pkg_id</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1457"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PathTemplateVariable
</span><a href="Distribution.Simple.InstallDirs.Internal.html#PrefixVar"><span class="hs-identifier hs-var">PrefixVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">InstallDirs PathTemplate -&gt; PathTemplate
forall dir. InstallDirs dir -&gt; dir
</span><a href="Distribution.Simple.InstallDirs.html#prefix"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; InstallDirs PathTemplate
</span><a href="Distribution.Types.LocalBuildInfo.html#installDirTemplates"><span class="hs-identifier hs-var">installDirTemplates</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571385"><span class="hs-identifier hs-var">lbi</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1458"></span><span>    </span><span class="hs-comment">-- We want the legacy unit ID here, because it gives us nice paths</span><span>
</span><span id="line-1459"></span><span>    </span><span class="hs-comment">-- (Haddock people don't care about the dependencies)</span><span>
</span><span id="line-1460"></span><span>    </span><span class="annot"><span class="annottext">(PathTemplateVariable, PathTemplate)
-&gt; PathTemplateEnv -&gt; PathTemplateEnv
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">PackageIdentifier
-&gt; UnitId -&gt; CompilerInfo -&gt; Platform -&gt; PathTemplateEnv
</span><a href="Distribution.Simple.InstallDirs.html#initialPathTemplateEnv"><span class="hs-identifier hs-var">initialPathTemplateEnv</span></a></span><span>
</span><span id="line-1461"></span><span>      </span><span class="annot"><span class="annottext">PackageIdentifier
</span><a href="#local-6989586621679571386"><span class="hs-identifier hs-var">pkg_id</span></a></span><span>
</span><span id="line-1462"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageIdentifier -&gt; UnitId
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.UnitId.html#mkLegacyUnitId"><span class="hs-identifier hs-var">mkLegacyUnitId</span></a></span><span> </span><span class="annot"><span class="annottext">PackageIdentifier
</span><a href="#local-6989586621679571386"><span class="hs-identifier hs-var">pkg_id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1463"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Compiler -&gt; CompilerInfo
</span><a href="Distribution.Simple.Compiler.html#compilerInfo"><span class="hs-identifier hs-var">compilerInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; Compiler
</span><a href="Distribution.Types.LocalBuildInfo.html#compiler"><span class="hs-identifier hs-var">compiler</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571385"><span class="hs-identifier hs-var">lbi</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1464"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; Platform
</span><a href="Distribution.Types.LocalBuildInfo.html#hostPlatform"><span class="hs-identifier hs-var">hostPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571385"><span class="hs-identifier hs-var">lbi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1465"></span><span>
</span><span id="line-1466"></span><span class="hs-comment">-- ------------------------------------------------------------------------------</span><span>
</span><span id="line-1467"></span><span class="hs-comment">-- hscolour support.</span><span>
</span><span id="line-1468"></span><span>
</span><span id="line-1469"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#hscolour"><span class="hs-identifier hs-type">hscolour</span></a></span><span>
</span><span id="line-1470"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-1471"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-1472"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Simple.PreProcess.html#PPSuffixHandler"><span class="hs-identifier hs-type">PPSuffixHandler</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1473"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Hscolour.html#HscolourFlags"><span class="hs-identifier hs-type">HscolourFlags</span></a></span><span>
</span><span id="line-1474"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1475"></span><span id="hscolour"><span class="annot"><span class="annottext">hscolour :: PackageDescription
-&gt; LocalBuildInfo -&gt; [PPSuffixHandler] -&gt; HscolourFlags -&gt; IO ()
</span><a href="Distribution.Simple.Haddock.html#hscolour"><span class="hs-identifier hs-var hs-var">hscolour</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BuildHooks
-&gt; PackageDescription
-&gt; LocalBuildInfo
-&gt; [PPSuffixHandler]
-&gt; HscolourFlags
-&gt; IO ()
</span><a href="Distribution.Simple.Haddock.html#hscolour_setupHooks"><span class="hs-identifier hs-var">hscolour_setupHooks</span></a></span><span> </span><span class="annot"><span class="annottext">BuildHooks
</span><a href="Distribution.Simple.SetupHooks.Internal.html#noBuildHooks"><span class="hs-identifier hs-var">noBuildHooks</span></a></span><span>
</span><span id="line-1476"></span><span>
</span><span id="line-1477"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#hscolour_setupHooks"><span class="hs-identifier hs-type">hscolour_setupHooks</span></a></span><span>
</span><span id="line-1478"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.SetupHooks.Internal.html#BuildHooks"><span class="hs-identifier hs-type">BuildHooks</span></a></span><span>
</span><span id="line-1479"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-1480"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-1481"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Simple.PreProcess.html#PPSuffixHandler"><span class="hs-identifier hs-type">PPSuffixHandler</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1482"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Hscolour.html#HscolourFlags"><span class="hs-identifier hs-type">HscolourFlags</span></a></span><span>
</span><span id="line-1483"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1484"></span><span id="hscolour_setupHooks"><span class="annot"><span class="annottext">hscolour_setupHooks :: BuildHooks
-&gt; PackageDescription
-&gt; LocalBuildInfo
-&gt; [PPSuffixHandler]
-&gt; HscolourFlags
-&gt; IO ()
</span><a href="Distribution.Simple.Haddock.html#hscolour_setupHooks"><span class="hs-identifier hs-var hs-var">hscolour_setupHooks</span></a></span></span><span> </span><span id="local-6989586621679571393"><span class="annot"><span class="annottext">BuildHooks
</span><a href="#local-6989586621679571393"><span class="hs-identifier hs-var">setupHooks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1485"></span><span>  </span><span class="annot"><span class="annottext">BuildHooks
-&gt; (String -&gt; IO ())
-&gt; HaddockTarget
-&gt; PackageDescription
-&gt; LocalBuildInfo
-&gt; [PPSuffixHandler]
-&gt; HscolourFlags
-&gt; IO ()
</span><a href="Distribution.Simple.Haddock.html#hscolour%27"><span class="hs-identifier hs-var">hscolour'</span></a></span><span> </span><span class="annot"><span class="annottext">BuildHooks
</span><a href="#local-6989586621679571393"><span class="hs-identifier hs-var">setupHooks</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
forall a. String -&gt; IO a
</span><a href="Distribution.Simple.Utils.html#dieNoVerbosity"><span class="hs-identifier hs-var">dieNoVerbosity</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="Distribution.Simple.Setup.Haddock.html#ForDevelopment"><span class="hs-identifier hs-var">ForDevelopment</span></a></span><span>
</span><span id="line-1486"></span><span>
</span><span id="line-1487"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#hscolour%27"><span class="hs-identifier hs-type">hscolour'</span></a></span><span>
</span><span id="line-1488"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.SetupHooks.Internal.html#BuildHooks"><span class="hs-identifier hs-type">BuildHooks</span></a></span><span>
</span><span id="line-1489"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1490"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Called when the 'hscolour' exe is not found.</span></span><span>
</span><span id="line-1491"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockTarget"><span class="hs-identifier hs-type">HaddockTarget</span></a></span><span>
</span><span id="line-1492"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.PackageDescription.html#PackageDescription"><span class="hs-identifier hs-type">PackageDescription</span></a></span><span>
</span><span id="line-1493"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span>
</span><span id="line-1494"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Distribution.Simple.PreProcess.html#PPSuffixHandler"><span class="hs-identifier hs-type">PPSuffixHandler</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1495"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Hscolour.html#HscolourFlags"><span class="hs-identifier hs-type">HscolourFlags</span></a></span><span>
</span><span id="line-1496"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1497"></span><span id="hscolour%27"><span class="annot"><span class="annottext">hscolour' :: BuildHooks
-&gt; (String -&gt; IO ())
-&gt; HaddockTarget
-&gt; PackageDescription
-&gt; LocalBuildInfo
-&gt; [PPSuffixHandler]
-&gt; HscolourFlags
-&gt; IO ()
</span><a href="Distribution.Simple.Haddock.html#hscolour%27"><span class="hs-identifier hs-var hs-var">hscolour'</span></a></span></span><span>
</span><span id="line-1498"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Simple.SetupHooks.Internal.html#BuildHooks"><span class="hs-identifier hs-type">BuildHooks</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">preBuildComponentRules :: BuildHooks -&gt; Maybe PreBuildComponentRules
</span><a href="Distribution.Simple.SetupHooks.Internal.html#preBuildComponentRules"><span class="hs-identifier hs-var">preBuildComponentRules</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679571395"><span class="annot"><span class="annottext">Maybe PreBuildComponentRules
</span><a href="#local-6989586621679571395"><span class="hs-identifier hs-var">mbPbcRules</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1499"></span><span>  </span><span id="local-6989586621679571396"><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679571396"><span class="hs-identifier hs-var">onNoHsColour</span></a></span></span><span>
</span><span id="line-1500"></span><span>  </span><span id="local-6989586621679571397"><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679571397"><span class="hs-identifier hs-var">haddockTarget</span></a></span></span><span>
</span><span id="line-1501"></span><span>  </span><span id="local-6989586621679571398"><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679571398"><span class="hs-identifier hs-var">pkg_descr</span></a></span></span><span>
</span><span id="line-1502"></span><span>  </span><span id="local-6989586621679571399"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571399"><span class="hs-identifier hs-var">lbi</span></a></span></span><span>
</span><span id="line-1503"></span><span>  </span><span id="local-6989586621679571400"><span class="annot"><span class="annottext">[PPSuffixHandler]
</span><a href="#local-6989586621679571400"><span class="hs-identifier hs-var">suffixes</span></a></span></span><span>
</span><span id="line-1504"></span><span>  </span><span id="local-6989586621679571401"><span class="annot"><span class="annottext">HscolourFlags
</span><a href="#local-6989586621679571401"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1505"></span><span>    </span><span class="annot"><span class="annottext">(CabalException -&gt; IO ())
-&gt; ((ConfiguredProgram, Version, ProgramDb) -&gt; IO ())
-&gt; Either CabalException (ConfiguredProgram, Version, ProgramDb)
-&gt; IO ()
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679571403"><span class="annot"><span class="annottext">CabalException
</span><a href="#local-6989586621679571403"><span class="hs-identifier hs-var">excep</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="#local-6989586621679571396"><span class="hs-identifier hs-var">onNoHsColour</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CabalException -&gt; String
</span><a href="Distribution.Simple.Errors.html#exceptionMessage"><span class="hs-identifier hs-var">exceptionMessage</span></a></span><span> </span><span class="annot"><span class="annottext">CabalException
</span><a href="#local-6989586621679571403"><span class="hs-identifier hs-var">excep</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679571405"><span class="annot"><span class="annottext">ConfiguredProgram
</span><a href="#local-6989586621679571405"><span class="hs-identifier hs-var">hscolourProg</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Version
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ProgramDb
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConfiguredProgram -&gt; IO ()
</span><a href="#local-6989586621679571406"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">ConfiguredProgram
</span><a href="#local-6989586621679571405"><span class="hs-identifier hs-var">hscolourProg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1506"></span><span>      </span><span class="annot"><span class="annottext">(Either CabalException (ConfiguredProgram, Version, ProgramDb)
 -&gt; IO ())
-&gt; IO
     (Either CabalException (ConfiguredProgram, Version, ProgramDb))
-&gt; IO ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; Program
-&gt; VersionRange
-&gt; ProgramDb
-&gt; IO
     (Either CabalException (ConfiguredProgram, Version, ProgramDb))
</span><a href="Distribution.Simple.Program.Db.html#lookupProgramVersion"><span class="hs-identifier hs-var">lookupProgramVersion</span></a></span><span>
</span><span id="line-1507"></span><span>        </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span>
</span><span id="line-1508"></span><span>        </span><span class="annot"><span class="annottext">Program
</span><a href="Distribution.Simple.Program.Builtin.html#hscolourProgram"><span class="hs-identifier hs-var">hscolourProgram</span></a></span><span>
</span><span id="line-1509"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Version -&gt; VersionRange
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.VersionRange.Internal.html#orLaterVersion"><span class="hs-identifier hs-var">orLaterVersion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int] -&gt; Version
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#mkVersion"><span class="hs-identifier hs-var">mkVersion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1510"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; ProgramDb
</span><a href="Distribution.Types.LocalBuildInfo.html#withPrograms"><span class="hs-identifier hs-var">withPrograms</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571399"><span class="hs-identifier hs-var">lbi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1511"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-1512"></span><span>      </span><span id="local-6989586621679571411"><span class="annot"><span class="annottext">common :: CommonSetupFlags
</span><a href="#local-6989586621679571411"><span class="hs-identifier hs-var hs-var">common</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HscolourFlags -&gt; CommonSetupFlags
</span><a href="Distribution.Simple.Setup.Hscolour.html#hscolourCommonFlags"><span class="hs-identifier hs-var">hscolourCommonFlags</span></a></span><span> </span><span class="annot"><span class="annottext">HscolourFlags
</span><a href="#local-6989586621679571401"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-1513"></span><span>      </span><span id="local-6989586621679571409"><span class="annot"><span class="annottext">verbosity :: Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var hs-var">verbosity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Flag Verbosity -&gt; Verbosity
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag Verbosity -&gt; Verbosity) -&gt; Flag Verbosity -&gt; Verbosity
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CommonSetupFlags -&gt; Flag Verbosity
</span><a href="Distribution.Simple.Setup.Common.html#setupVerbosity"><span class="hs-identifier hs-var">setupVerbosity</span></a></span><span> </span><span class="annot"><span class="annottext">CommonSetupFlags
</span><a href="#local-6989586621679571411"><span class="hs-identifier hs-var">common</span></a></span><span>
</span><span id="line-1514"></span><span>      </span><span id="local-6989586621679571417"><span class="annot"><span class="annottext">distPref :: SymbolicPath Pkg ('Dir Dist)
</span><a href="#local-6989586621679571417"><span class="hs-identifier hs-var hs-var">distPref</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Flag (SymbolicPath Pkg ('Dir Dist)) -&gt; SymbolicPath Pkg ('Dir Dist)
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag (SymbolicPath Pkg ('Dir Dist))
 -&gt; SymbolicPath Pkg ('Dir Dist))
-&gt; Flag (SymbolicPath Pkg ('Dir Dist))
-&gt; SymbolicPath Pkg ('Dir Dist)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CommonSetupFlags -&gt; Flag (SymbolicPath Pkg ('Dir Dist))
</span><a href="Distribution.Simple.Setup.Common.html#setupDistPref"><span class="hs-identifier hs-var">setupDistPref</span></a></span><span> </span><span class="annot"><span class="annottext">CommonSetupFlags
</span><a href="#local-6989586621679571411"><span class="hs-identifier hs-var">common</span></a></span><span>
</span><span id="line-1515"></span><span>      </span><span id="local-6989586621679571418"><span class="annot"><span class="annottext">mbWorkDir :: Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571418"><span class="hs-identifier hs-var hs-var">mbWorkDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="Distribution.Simple.LocalBuildInfo.html#mbWorkDirLBI"><span class="hs-identifier hs-var">mbWorkDirLBI</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571399"><span class="hs-identifier hs-var">lbi</span></a></span><span>
</span><span id="line-1516"></span><span>      </span><span id="local-6989586621679571420"><span class="annot"><span class="annottext">i :: SymbolicPathX allowAbsolute Pkg to -&gt; String
</span><a href="#local-6989586621679571420"><span class="hs-identifier hs-var hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; SymbolicPathX allowAbsolute Pkg to -&gt; String
forall (allowAbsolute :: AllowAbsolute) (to :: FileOrDir).
LocalBuildInfo -&gt; SymbolicPathX allowAbsolute Pkg to -&gt; String
</span><a href="Distribution.Simple.LocalBuildInfo.html#interpretSymbolicPathLBI"><span class="hs-identifier hs-var">interpretSymbolicPathLBI</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571399"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="hs-comment">-- See Note [Symbolic paths] in Distribution.Utils.Path</span><span>
</span><span id="line-1517"></span><span>      </span><span id="local-6989586621679571422"><span class="annot"><a href="#local-6989586621679571423"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571422"><span class="hs-identifier hs-type">to</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span></span><span>
</span><span id="line-1518"></span><span>      </span><span id="local-6989586621679571423"><span class="annot"><span class="annottext">u :: forall (to :: FileOrDir). SymbolicPath Pkg to -&gt; String
</span><a href="#local-6989586621679571423"><span class="hs-identifier hs-var hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SymbolicPathX 'AllowAbsolute Pkg to -&gt; String
forall (allowAbsolute :: AllowAbsolute) from (to :: FileOrDir).
SymbolicPathX allowAbsolute from to -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#interpretSymbolicPathCWD"><span class="hs-identifier hs-var">interpretSymbolicPathCWD</span></a></span><span>
</span><span id="line-1519"></span><span>
</span><span id="line-1520"></span><span>      </span><span class="annot"><a href="#local-6989586621679571406"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Types.html#ConfiguredProgram"><span class="hs-identifier hs-type">ConfiguredProgram</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1521"></span><span>      </span><span id="local-6989586621679571406"><span class="annot"><span class="annottext">go :: ConfiguredProgram -&gt; IO ()
</span><a href="#local-6989586621679571406"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679571424"><span class="annot"><span class="annottext">ConfiguredProgram
</span><a href="#local-6989586621679571424"><span class="hs-identifier hs-var">hscolourProg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1522"></span><span>        </span><span class="annot"><span class="annottext">Verbosity -&gt; String -&gt; IO ()
</span><a href="Distribution.Simple.Utils.html#warn"><span class="hs-identifier hs-var">warn</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1523"></span><span>          </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;the 'cabal hscolour' command is deprecated in favour of 'cabal &quot;</span></span><span>
</span><span id="line-1524"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;haddock --hyperlink-source' and will be removed in the next major &quot;</span></span><span>
</span><span id="line-1525"></span><span>            </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;release.&quot;</span></span><span>
</span><span id="line-1526"></span><span>
</span><span id="line-1527"></span><span>        </span><span class="annot"><span class="annottext">Verbosity -&gt; String -&gt; PackageIdentifier -&gt; IO ()
</span><a href="Distribution.Simple.Utils.html#setupMessage"><span class="hs-identifier hs-var">setupMessage</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Running hscolour for&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PackageDescription -&gt; PackageIdentifier
forall pkg. Package pkg =&gt; pkg -&gt; PackageIdentifier
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Package.html#packageId"><span class="hs-identifier hs-var">packageId</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679571398"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1528"></span><span>        </span><span class="annot"><span class="annottext">Verbosity -&gt; Bool -&gt; String -&gt; IO ()
</span><a href="Distribution.Simple.Utils.html#createDirectoryIfMissingVerbose"><span class="hs-identifier hs-var">createDirectoryIfMissingVerbose</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1529"></span><span>          </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts) -&gt; String
forall {allowAbsolute :: AllowAbsolute} {to :: FileOrDir}.
SymbolicPathX allowAbsolute Pkg to -&gt; String
</span><a href="#local-6989586621679571420"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(SymbolicPath Pkg ('Dir Artifacts) -&gt; String)
-&gt; SymbolicPath Pkg ('Dir Artifacts) -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1530"></span><span>            </span><span class="annot"><span class="annottext">HaddockTarget
-&gt; SymbolicPath Pkg ('Dir Dist)
-&gt; PackageDescription
-&gt; SymbolicPath Pkg ('Dir Artifacts)
forall root.
HaddockTarget
-&gt; SymbolicPath root ('Dir Dist)
-&gt; PackageDescription
-&gt; SymbolicPath root ('Dir Artifacts)
</span><a href="Distribution.Simple.BuildPaths.html#hscolourPref"><span class="hs-identifier hs-var">hscolourPref</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679571397"><span class="hs-identifier hs-var">haddockTarget</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Dist)
</span><a href="#local-6989586621679571417"><span class="hs-identifier hs-var">distPref</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679571398"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span>
</span><span id="line-1531"></span><span>
</span><span id="line-1532"></span><span>        </span><span class="annot"><span class="annottext">PackageDescription
-&gt; LocalBuildInfo
-&gt; (Component -&gt; ComponentLocalBuildInfo -&gt; IO ())
-&gt; IO ()
</span><a href="Distribution.Simple.LocalBuildInfo.html#withAllComponentsInBuildOrder"><span class="hs-identifier hs-var">withAllComponentsInBuildOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679571398"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571399"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">((Component -&gt; ComponentLocalBuildInfo -&gt; IO ()) -&gt; IO ())
-&gt; (Component -&gt; ComponentLocalBuildInfo -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679571428"><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679571428"><span class="hs-identifier hs-var">comp</span></a></span></span><span> </span><span id="local-6989586621679571429"><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571429"><span class="hs-identifier hs-var">clbi</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1533"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571430"><span class="annot"><span class="annottext">tgt :: TargetInfo
</span><a href="#local-6989586621679571430"><span class="hs-identifier hs-var hs-var hs-var">tgt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo -&gt; Component -&gt; TargetInfo
</span><a href="Distribution.Types.TargetInfo.html#TargetInfo"><span class="hs-identifier hs-var">TargetInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571429"><span class="hs-identifier hs-var">clbi</span></a></span><span> </span><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679571428"><span class="hs-identifier hs-var">comp</span></a></span><span>
</span><span id="line-1534"></span><span>              </span><span class="annot"><a href="#local-6989586621679571432"><span class="hs-identifier hs-type">runPreBuildHooks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Types.LocalBuildInfo.html#LocalBuildInfo"><span class="hs-identifier hs-type">LocalBuildInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Types.TargetInfo.html#TargetInfo"><span class="hs-identifier hs-type">TargetInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1535"></span><span>              </span><span id="local-6989586621679571432"><span class="annot"><span class="annottext">runPreBuildHooks :: LocalBuildInfo -&gt; TargetInfo -&gt; IO ()
</span><a href="#local-6989586621679571432"><span class="hs-identifier hs-var hs-var hs-var">runPreBuildHooks</span></a></span></span><span> </span><span id="local-6989586621679571433"><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571433"><span class="hs-identifier hs-var">lbi2</span></a></span></span><span> </span><span id="local-6989586621679571434"><span class="annot"><span class="annottext">TargetInfo
</span><a href="#local-6989586621679571434"><span class="hs-identifier hs-var">target</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1536"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571435"><span class="annot"><span class="annottext">inputs :: PreBuildComponentInputs
</span><a href="#local-6989586621679571435"><span class="hs-identifier hs-var hs-var">inputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1537"></span><span>                      </span><span class="annot"><a href="Distribution.Simple.SetupHooks.Internal.html#PreBuildComponentInputs"><span class="hs-identifier hs-type">SetupHooks.PreBuildComponentInputs</span></a></span><span>
</span><span id="line-1538"></span><span>                        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">buildingWhat :: BuildingWhat
</span><a href="Distribution.Simple.SetupHooks.Internal.html#buildingWhat"><span class="hs-identifier hs-var">SetupHooks.buildingWhat</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HscolourFlags -&gt; BuildingWhat
</span><a href="Distribution.Simple.Setup.html#BuildHscolour"><span class="hs-identifier hs-var">BuildHscolour</span></a></span><span> </span><span class="annot"><span class="annottext">HscolourFlags
</span><a href="#local-6989586621679571401"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-1539"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">localBuildInfo :: LocalBuildInfo
</span><a href="Distribution.Simple.SetupHooks.Internal.html#localBuildInfo"><span class="hs-identifier hs-var">SetupHooks.localBuildInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571433"><span class="hs-identifier hs-var">lbi2</span></a></span><span>
</span><span id="line-1540"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">targetInfo :: TargetInfo
</span><a href="Distribution.Simple.SetupHooks.Internal.html#targetInfo"><span class="hs-identifier hs-var">SetupHooks.targetInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TargetInfo
</span><a href="#local-6989586621679571434"><span class="hs-identifier hs-var">target</span></a></span><span>
</span><span id="line-1541"></span><span>                        </span><span class="hs-special">}</span><span>
</span><span id="line-1542"></span><span>                 </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Maybe PreBuildComponentRules
-&gt; (PreBuildComponentRules -&gt; IO ()) -&gt; IO ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="annot"><span class="annottext">Maybe PreBuildComponentRules
</span><a href="#local-6989586621679571395"><span class="hs-identifier hs-var">mbPbcRules</span></a></span><span> </span><span class="annot"><span class="annottext">((PreBuildComponentRules -&gt; IO ()) -&gt; IO ())
-&gt; (PreBuildComponentRules -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679571437"><span class="annot"><span class="annottext">PreBuildComponentRules
</span><a href="#local-6989586621679571437"><span class="hs-identifier hs-var">pbcRules</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1543"></span><span>                      </span><span class="hs-special">(</span><span id="local-6989586621679571438"><span class="annot"><a href="#local-6989586621679571438"><span class="hs-identifier hs-var">ruleFromId</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571439"><span class="annot"><a href="#local-6989586621679571439"><span class="hs-identifier hs-var">_mons</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; PreBuildComponentInputs
-&gt; PreBuildComponentRules
-&gt; IO (Map RuleId Rule, [MonitorFilePath])
forall env.
Verbosity
-&gt; env -&gt; Rules env -&gt; IO (Map RuleId Rule, [MonitorFilePath])
</span><a href="Distribution.Simple.SetupHooks.Rule.html#computeRules"><span class="hs-identifier hs-var">SetupHooks.computeRules</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">PreBuildComponentInputs
</span><a href="#local-6989586621679571435"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="annot"><span class="annottext">PreBuildComponentRules
</span><a href="#local-6989586621679571437"><span class="hs-identifier hs-var">pbcRules</span></a></span><span>
</span><span id="line-1544"></span><span>                      </span><span class="annot"><a href="Distribution.Simple.SetupHooks.Internal.html#executeRules"><span class="hs-identifier hs-type">SetupHooks.executeRules</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571409"><span class="hs-identifier hs-type">verbosity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571433"><span class="hs-identifier hs-type">lbi2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571430"><span class="hs-identifier hs-type">tgt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679571438"><span class="hs-identifier hs-type">ruleFromId</span></a></span><span>
</span><span id="line-1545"></span><span>          </span><span class="annot"><span class="annottext">(LocalBuildInfo -&gt; TargetInfo -&gt; IO ())
-&gt; Verbosity -&gt; LocalBuildInfo -&gt; TargetInfo -&gt; IO ()
</span><a href="Distribution.Simple.Build.html#preBuildComponent"><span class="hs-identifier hs-var">preBuildComponent</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo -&gt; TargetInfo -&gt; IO ()
</span><a href="#local-6989586621679571432"><span class="hs-identifier hs-var">runPreBuildHooks</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571399"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">TargetInfo
</span><a href="#local-6989586621679571430"><span class="hs-identifier hs-var">tgt</span></a></span><span>
</span><span id="line-1546"></span><span>          </span><span class="annot"><span class="annottext">PackageDescription
-&gt; Component
-&gt; LocalBuildInfo
-&gt; ComponentLocalBuildInfo
-&gt; Bool
-&gt; Verbosity
-&gt; [PPSuffixHandler]
-&gt; IO ()
</span><a href="Distribution.Simple.PreProcess.html#preprocessComponent"><span class="hs-identifier hs-var">preprocessComponent</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679571398"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span> </span><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679571428"><span class="hs-identifier hs-var">comp</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571399"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571429"><span class="hs-identifier hs-var">clbi</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">[PPSuffixHandler]
</span><a href="#local-6989586621679571400"><span class="hs-identifier hs-var">suffixes</span></a></span><span>
</span><span id="line-1547"></span><span>          </span><span class="hs-keyword">let</span><span>
</span><span id="line-1548"></span><span>            </span><span id="local-6989586621679571443"><span class="annot"><span class="annottext">doExe :: Component -&gt; IO ()
</span><a href="#local-6989586621679571443"><span class="hs-identifier hs-var hs-var">doExe</span></a></span></span><span> </span><span id="local-6989586621679571444"><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679571444"><span class="hs-identifier hs-var">com</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Component -&gt; Maybe Executable
</span><a href="Distribution.Simple.Haddock.html#compToExe"><span class="hs-identifier hs-var">compToExe</span></a></span><span> </span><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679571444"><span class="hs-identifier hs-var">com</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1549"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679571445"><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679571445"><span class="hs-identifier hs-var">exe</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1550"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571455"><span class="annot"><span class="annottext">outputDir :: SymbolicPathX 'AllowAbsolute Pkg c3
</span><a href="#local-6989586621679571455"><span class="hs-identifier hs-var hs-var">outputDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1551"></span><span>                      </span><span class="annot"><span class="annottext">HaddockTarget
-&gt; SymbolicPath Pkg ('Dir Dist)
-&gt; PackageDescription
-&gt; SymbolicPath Pkg ('Dir Artifacts)
forall root.
HaddockTarget
-&gt; SymbolicPath root ('Dir Dist)
-&gt; PackageDescription
-&gt; SymbolicPath root ('Dir Artifacts)
</span><a href="Distribution.Simple.BuildPaths.html#hscolourPref"><span class="hs-identifier hs-var">hscolourPref</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679571397"><span class="hs-identifier hs-var">haddockTarget</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Dist)
</span><a href="#local-6989586621679571417"><span class="hs-identifier hs-var">distPref</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679571398"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span>
</span><span id="line-1552"></span><span>                        </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
-&gt; RelativePath Artifacts c3 -&gt; SymbolicPathX 'AllowAbsolute Pkg c3
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; RelativePath Artifacts c3
forall from (to :: FileOrDir).
HasCallStack =&gt;
String -&gt; RelativePath from to
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#makeRelativePathEx"><span class="hs-identifier hs-var">makeRelativePathEx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnqualComponentName -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.UnqualComponentName.html#unUnqualComponentName"><span class="hs-identifier hs-var">unUnqualComponentName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Executable -&gt; UnqualComponentName
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Executable.html#exeName"><span class="hs-identifier hs-var">exeName</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679571445"><span class="hs-identifier hs-var">exe</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;src&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1553"></span><span>                </span><span class="annot"><span class="annottext">ConfiguredProgram
-&gt; SymbolicPath Pkg (ZonkAny 0)
-&gt; [(ModuleName, SymbolicPath Pkg 'File)]
-&gt; IO ()
forall (to :: FileOrDir) (to1 :: FileOrDir).
ConfiguredProgram
-&gt; SymbolicPath Pkg to
-&gt; [(ModuleName, SymbolicPath Pkg to1)]
-&gt; IO ()
</span><a href="#local-6989586621679571457"><span class="hs-identifier hs-var">runHsColour</span></a></span><span> </span><span class="annot"><span class="annottext">ConfiguredProgram
</span><a href="#local-6989586621679571424"><span class="hs-identifier hs-var">hscolourProg</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg (ZonkAny 0)
forall {to2 :: FileOrDir}. SymbolicPathX 'AllowAbsolute Pkg to2
</span><a href="#local-6989586621679571455"><span class="hs-identifier hs-var">outputDir</span></a></span><span> </span><span class="annot"><span class="annottext">([(ModuleName, SymbolicPath Pkg 'File)] -&gt; IO ())
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)] -&gt; IO ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; Executable
-&gt; ComponentLocalBuildInfo
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)]
</span><a href="Distribution.Simple.BuildPaths.html#getExeSourceFiles"><span class="hs-identifier hs-var">getExeSourceFiles</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571399"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><a href="#local-6989586621679571445"><span class="hs-identifier hs-var">exe</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571429"><span class="hs-identifier hs-var">clbi</span></a></span><span>
</span><span id="line-1554"></span><span>              </span><span class="annot"><span class="annottext">Maybe Executable
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1555"></span><span>                </span><span class="annot"><span class="annottext">Verbosity -&gt; String -&gt; IO ()
</span><a href="Distribution.Simple.Utils.html#warn"><span class="hs-identifier hs-var">warn</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unsupported component, skipping...&quot;</span></span><span>
</span><span id="line-1556"></span><span>                </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1557"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679571428"><span class="hs-identifier hs-var">comp</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1558"></span><span>            </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#CLib"><span class="hs-identifier hs-type">CLib</span></a></span><span> </span><span id="local-6989586621679571458"><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679571458"><span class="hs-identifier hs-var">lib</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1559"></span><span>              </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571466"><span class="annot"><span class="annottext">outputDir :: SymbolicPathX 'AllowAbsolute Pkg c3
</span><a href="#local-6989586621679571466"><span class="hs-identifier hs-var hs-var">outputDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockTarget
-&gt; SymbolicPath Pkg ('Dir Dist)
-&gt; PackageDescription
-&gt; SymbolicPath Pkg ('Dir Artifacts)
forall root.
HaddockTarget
-&gt; SymbolicPath root ('Dir Dist)
-&gt; PackageDescription
-&gt; SymbolicPath root ('Dir Artifacts)
</span><a href="Distribution.Simple.BuildPaths.html#hscolourPref"><span class="hs-identifier hs-var">hscolourPref</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679571397"><span class="hs-identifier hs-var">haddockTarget</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Dist)
</span><a href="#local-6989586621679571417"><span class="hs-identifier hs-var">distPref</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679571398"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
-&gt; RelativePath Artifacts c3 -&gt; SymbolicPathX 'AllowAbsolute Pkg c3
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; RelativePath Artifacts c3
forall from (to :: FileOrDir).
HasCallStack =&gt;
String -&gt; RelativePath from to
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#makeRelativePathEx"><span class="hs-identifier hs-var">makeRelativePathEx</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;src&quot;</span></span><span>
</span><span id="line-1560"></span><span>              </span><span class="annot"><span class="annottext">ConfiguredProgram
-&gt; SymbolicPath Pkg (ZonkAny 1)
-&gt; [(ModuleName, SymbolicPath Pkg 'File)]
-&gt; IO ()
forall (to :: FileOrDir) (to1 :: FileOrDir).
ConfiguredProgram
-&gt; SymbolicPath Pkg to
-&gt; [(ModuleName, SymbolicPath Pkg to1)]
-&gt; IO ()
</span><a href="#local-6989586621679571457"><span class="hs-identifier hs-var">runHsColour</span></a></span><span> </span><span class="annot"><span class="annottext">ConfiguredProgram
</span><a href="#local-6989586621679571424"><span class="hs-identifier hs-var">hscolourProg</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg (ZonkAny 1)
forall {to2 :: FileOrDir}. SymbolicPathX 'AllowAbsolute Pkg to2
</span><a href="#local-6989586621679571466"><span class="hs-identifier hs-var">outputDir</span></a></span><span> </span><span class="annot"><span class="annottext">([(ModuleName, SymbolicPath Pkg 'File)] -&gt; IO ())
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)] -&gt; IO ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; Library
-&gt; ComponentLocalBuildInfo
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)]
</span><a href="Distribution.Simple.BuildPaths.html#getLibSourceFiles"><span class="hs-identifier hs-var">getLibSourceFiles</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571399"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">Library
</span><a href="#local-6989586621679571458"><span class="hs-identifier hs-var">lib</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571429"><span class="hs-identifier hs-var">clbi</span></a></span><span>
</span><span id="line-1561"></span><span>            </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#CFLib"><span class="hs-identifier hs-type">CFLib</span></a></span><span> </span><span id="local-6989586621679571467"><span class="annot"><span class="annottext">ForeignLib
</span><a href="#local-6989586621679571467"><span class="hs-identifier hs-var">flib</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1562"></span><span>              </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679571476"><span class="annot"><span class="annottext">outputDir :: SymbolicPathX 'AllowAbsolute Pkg c3
</span><a href="#local-6989586621679571476"><span class="hs-identifier hs-var hs-var">outputDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1563"></span><span>                    </span><span class="annot"><span class="annottext">HaddockTarget
-&gt; SymbolicPath Pkg ('Dir Dist)
-&gt; PackageDescription
-&gt; SymbolicPath Pkg ('Dir Artifacts)
forall root.
HaddockTarget
-&gt; SymbolicPath root ('Dir Dist)
-&gt; PackageDescription
-&gt; SymbolicPath root ('Dir Artifacts)
</span><a href="Distribution.Simple.BuildPaths.html#hscolourPref"><span class="hs-identifier hs-var">hscolourPref</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockTarget
</span><a href="#local-6989586621679571397"><span class="hs-identifier hs-var">haddockTarget</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Dist)
</span><a href="#local-6989586621679571417"><span class="hs-identifier hs-var">distPref</span></a></span><span> </span><span class="annot"><span class="annottext">PackageDescription
</span><a href="#local-6989586621679571398"><span class="hs-identifier hs-var">pkg_descr</span></a></span><span>
</span><span id="line-1564"></span><span>                      </span><span class="annot"><span class="annottext">SymbolicPath Pkg ('Dir Artifacts)
-&gt; RelativePath Artifacts c3 -&gt; SymbolicPathX 'AllowAbsolute Pkg c3
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; RelativePath Artifacts c3
forall from (to :: FileOrDir).
HasCallStack =&gt;
String -&gt; RelativePath from to
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#makeRelativePathEx"><span class="hs-identifier hs-var">makeRelativePathEx</span></a></span><span>
</span><span id="line-1565"></span><span>                        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">UnqualComponentName -&gt; String
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.UnqualComponentName.html#unUnqualComponentName"><span class="hs-identifier hs-var">unUnqualComponentName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ForeignLib -&gt; UnqualComponentName
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.ForeignLib.html#foreignLibName"><span class="hs-identifier hs-var">foreignLibName</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignLib
</span><a href="#local-6989586621679571467"><span class="hs-identifier hs-var">flib</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1566"></span><span>                            </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;src&quot;</span></span><span>
</span><span id="line-1567"></span><span>                        </span><span class="hs-special">)</span><span>
</span><span id="line-1568"></span><span>              </span><span class="annot"><span class="annottext">ConfiguredProgram
-&gt; SymbolicPath Pkg (ZonkAny 2)
-&gt; [(ModuleName, SymbolicPath Pkg 'File)]
-&gt; IO ()
forall (to :: FileOrDir) (to1 :: FileOrDir).
ConfiguredProgram
-&gt; SymbolicPath Pkg to
-&gt; [(ModuleName, SymbolicPath Pkg to1)]
-&gt; IO ()
</span><a href="#local-6989586621679571457"><span class="hs-identifier hs-var">runHsColour</span></a></span><span> </span><span class="annot"><span class="annottext">ConfiguredProgram
</span><a href="#local-6989586621679571424"><span class="hs-identifier hs-var">hscolourProg</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg (ZonkAny 2)
forall {to2 :: FileOrDir}. SymbolicPathX 'AllowAbsolute Pkg to2
</span><a href="#local-6989586621679571476"><span class="hs-identifier hs-var">outputDir</span></a></span><span> </span><span class="annot"><span class="annottext">([(ModuleName, SymbolicPath Pkg 'File)] -&gt; IO ())
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)] -&gt; IO ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Verbosity
-&gt; LocalBuildInfo
-&gt; ForeignLib
-&gt; ComponentLocalBuildInfo
-&gt; IO [(ModuleName, SymbolicPath Pkg 'File)]
</span><a href="Distribution.Simple.BuildPaths.html#getFLibSourceFiles"><span class="hs-identifier hs-var">getFLibSourceFiles</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">LocalBuildInfo
</span><a href="#local-6989586621679571399"><span class="hs-identifier hs-var">lbi</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignLib
</span><a href="#local-6989586621679571467"><span class="hs-identifier hs-var">flib</span></a></span><span> </span><span class="annot"><span class="annottext">ComponentLocalBuildInfo
</span><a href="#local-6989586621679571429"><span class="hs-identifier hs-var">clbi</span></a></span><span>
</span><span id="line-1569"></span><span>            </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#CExe"><span class="hs-identifier hs-type">CExe</span></a></span><span> </span><span class="annot"><span class="annottext">Executable
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Flag Bool -&gt; Bool
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HscolourFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Hscolour.html#hscolourExecutables"><span class="hs-identifier hs-var">hscolourExecutables</span></a></span><span> </span><span class="annot"><span class="annottext">HscolourFlags
</span><a href="#local-6989586621679571401"><span class="hs-identifier hs-var">flags</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Component -&gt; IO ()
</span><a href="#local-6989586621679571443"><span class="hs-identifier hs-var">doExe</span></a></span><span> </span><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679571428"><span class="hs-identifier hs-var">comp</span></a></span><span>
</span><span id="line-1570"></span><span>            </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#CTest"><span class="hs-identifier hs-type">CTest</span></a></span><span> </span><span class="annot"><span class="annottext">TestSuite
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Flag Bool -&gt; Bool
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HscolourFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Hscolour.html#hscolourTestSuites"><span class="hs-identifier hs-var">hscolourTestSuites</span></a></span><span> </span><span class="annot"><span class="annottext">HscolourFlags
</span><a href="#local-6989586621679571401"><span class="hs-identifier hs-var">flags</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Component -&gt; IO ()
</span><a href="#local-6989586621679571443"><span class="hs-identifier hs-var">doExe</span></a></span><span> </span><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679571428"><span class="hs-identifier hs-var">comp</span></a></span><span>
</span><span id="line-1571"></span><span>            </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Component.html#CBench"><span class="hs-identifier hs-type">CBench</span></a></span><span> </span><span class="annot"><span class="annottext">Benchmark
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Flag Bool -&gt; Bool
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HscolourFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Hscolour.html#hscolourBenchmarks"><span class="hs-identifier hs-var">hscolourBenchmarks</span></a></span><span> </span><span class="annot"><span class="annottext">HscolourFlags
</span><a href="#local-6989586621679571401"><span class="hs-identifier hs-var">flags</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Component -&gt; IO ()
</span><a href="#local-6989586621679571443"><span class="hs-identifier hs-var">doExe</span></a></span><span> </span><span class="annot"><span class="annottext">Component
</span><a href="#local-6989586621679571428"><span class="hs-identifier hs-var">comp</span></a></span><span>
</span><span id="line-1572"></span><span>
</span><span id="line-1573"></span><span>      </span><span id="local-6989586621679571480"><span class="annot"><span class="annottext">stylesheet :: Maybe String
</span><a href="#local-6989586621679571480"><span class="hs-identifier hs-var hs-var">stylesheet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Flag String -&gt; Maybe String
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HscolourFlags -&gt; Flag String
</span><a href="Distribution.Simple.Setup.Hscolour.html#hscolourCSS"><span class="hs-identifier hs-var">hscolourCSS</span></a></span><span> </span><span class="annot"><span class="annottext">HscolourFlags
</span><a href="#local-6989586621679571401"><span class="hs-identifier hs-var">flags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1574"></span><span>
</span><span id="line-1575"></span><span>      </span><span id="local-6989586621679570232"><span id="local-6989586621679570233"><span class="annot"><a href="#local-6989586621679571457"><span class="hs-identifier hs-type">runHsColour</span></a></span><span>
</span><span id="line-1576"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Program.Types.html#ConfiguredProgram"><span class="hs-identifier hs-type">ConfiguredProgram</span></a></span><span>
</span><span id="line-1577"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570232"><span class="hs-identifier hs-type">to</span></a></span><span>
</span><span id="line-1578"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.ModuleName.html#ModuleName"><span class="hs-identifier hs-type">ModuleName.ModuleName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679570233"><span class="hs-identifier hs-type">to1</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1579"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1580"></span><span>      </span><span id="local-6989586621679571457"><span class="annot"><span class="annottext">runHsColour :: forall (to :: FileOrDir) (to1 :: FileOrDir).
ConfiguredProgram
-&gt; SymbolicPath Pkg to
-&gt; [(ModuleName, SymbolicPath Pkg to1)]
-&gt; IO ()
</span><a href="#local-6989586621679571457"><span class="hs-identifier hs-var hs-var">runHsColour</span></a></span></span><span> </span><span id="local-6989586621679571491"><span class="annot"><span class="annottext">ConfiguredProgram
</span><a href="#local-6989586621679571491"><span class="hs-identifier hs-var">prog</span></a></span></span><span> </span><span id="local-6989586621679571492"><span class="annot"><span class="annottext">SymbolicPath Pkg to
</span><a href="#local-6989586621679571492"><span class="hs-identifier hs-var">outputDir</span></a></span></span><span> </span><span id="local-6989586621679571493"><span class="annot"><span class="annottext">[(ModuleName, SymbolicPath Pkg to1)]
</span><a href="#local-6989586621679571493"><span class="hs-identifier hs-var">moduleFiles</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1581"></span><span>        </span><span class="annot"><span class="annottext">Verbosity -&gt; Bool -&gt; String -&gt; IO ()
</span><a href="Distribution.Simple.Utils.html#createDirectoryIfMissingVerbose"><span class="hs-identifier hs-var">createDirectoryIfMissingVerbose</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymbolicPath Pkg to -&gt; String
forall {allowAbsolute :: AllowAbsolute} {to :: FileOrDir}.
SymbolicPathX allowAbsolute Pkg to -&gt; String
</span><a href="#local-6989586621679571420"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg to
</span><a href="#local-6989586621679571492"><span class="hs-identifier hs-var">outputDir</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1582"></span><span>
</span><span id="line-1583"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621679571480"><span class="hs-identifier hs-var">stylesheet</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-comment">-- copy the CSS file</span><span>
</span><span id="line-1584"></span><span>          </span><span class="annot"><span class="annottext">Maybe String
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1585"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">ConfiguredProgram -&gt; Maybe Version
</span><a href="Distribution.Simple.Program.Types.html#programVersion"><span class="hs-identifier hs-var">programVersion</span></a></span><span> </span><span class="annot"><span class="annottext">ConfiguredProgram
</span><a href="#local-6989586621679571491"><span class="hs-identifier hs-var">prog</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Version -&gt; Maybe Version -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Version -&gt; Maybe Version
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int] -&gt; Version
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Types.Version.html#mkVersion"><span class="hs-identifier hs-var">mkVersion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1586"></span><span>                </span><span class="annot"><span class="annottext">Verbosity
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; ConfiguredProgram
-&gt; [String]
-&gt; IO ()
forall to.
Verbosity
-&gt; Maybe (SymbolicPath CWD ('Dir to))
-&gt; ConfiguredProgram
-&gt; [String]
-&gt; IO ()
</span><a href="Distribution.Simple.Program.html#runProgramCwd"><span class="hs-identifier hs-var">runProgramCwd</span></a></span><span>
</span><span id="line-1587"></span><span>                  </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span>
</span><span id="line-1588"></span><span>                  </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571418"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span>
</span><span id="line-1589"></span><span>                  </span><span class="annot"><span class="annottext">ConfiguredProgram
</span><a href="#local-6989586621679571491"><span class="hs-identifier hs-var">prog</span></a></span><span>
</span><span id="line-1590"></span><span>                  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-print-css&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-o&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg to -&gt; String
forall (to :: FileOrDir). SymbolicPath Pkg to -&gt; String
</span><a href="#local-6989586621679571423"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg to
</span><a href="#local-6989586621679571492"><span class="hs-identifier hs-var">outputDir</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hscolour.css&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1591"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1592"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679571494"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571494"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Verbosity -&gt; String -&gt; String -&gt; IO ()
</span><a href="Distribution.Simple.Utils.html#copyFileVerbose"><span class="hs-identifier hs-var">copyFileVerbose</span></a></span><span> </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571494"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SymbolicPath Pkg to -&gt; String
forall {allowAbsolute :: AllowAbsolute} {to :: FileOrDir}.
SymbolicPathX allowAbsolute Pkg to -&gt; String
</span><a href="#local-6989586621679571420"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg to
</span><a href="#local-6989586621679571492"><span class="hs-identifier hs-var">outputDir</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hscolour.css&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1593"></span><span>
</span><span id="line-1594"></span><span>        </span><span class="annot"><span class="annottext">[(ModuleName, SymbolicPath Pkg to1)]
-&gt; ((ModuleName, SymbolicPath Pkg to1) -&gt; IO ()) -&gt; IO ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="annot"><span class="annottext">[(ModuleName, SymbolicPath Pkg to1)]
</span><a href="#local-6989586621679571493"><span class="hs-identifier hs-var">moduleFiles</span></a></span><span> </span><span class="annot"><span class="annottext">(((ModuleName, SymbolicPath Pkg to1) -&gt; IO ()) -&gt; IO ())
-&gt; ((ModuleName, SymbolicPath Pkg to1) -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679571496"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621679571496"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679571497"><span class="annot"><span class="annottext">SymbolicPath Pkg to1
</span><a href="#local-6989586621679571497"><span class="hs-identifier hs-var">inFile</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1595"></span><span>          </span><span class="annot"><span class="annottext">Verbosity
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
-&gt; ConfiguredProgram
-&gt; [String]
-&gt; IO ()
forall to.
Verbosity
-&gt; Maybe (SymbolicPath CWD ('Dir to))
-&gt; ConfiguredProgram
-&gt; [String]
-&gt; IO ()
</span><a href="Distribution.Simple.Program.html#runProgramCwd"><span class="hs-identifier hs-var">runProgramCwd</span></a></span><span>
</span><span id="line-1596"></span><span>            </span><span class="annot"><span class="annottext">Verbosity
</span><a href="#local-6989586621679571409"><span class="hs-identifier hs-var">verbosity</span></a></span><span>
</span><span id="line-1597"></span><span>            </span><span class="annot"><span class="annottext">Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="#local-6989586621679571418"><span class="hs-identifier hs-var">mbWorkDir</span></a></span><span>
</span><span id="line-1598"></span><span>            </span><span class="annot"><span class="annottext">ConfiguredProgram
</span><a href="#local-6989586621679571491"><span class="hs-identifier hs-var">prog</span></a></span><span>
</span><span id="line-1599"></span><span>            </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-css&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-anchor&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-o&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; String
</span><a href="#local-6989586621679571498"><span class="hs-identifier hs-var">outFile</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621679571496"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg to1 -&gt; String
forall (to :: FileOrDir). SymbolicPath Pkg to -&gt; String
</span><a href="#local-6989586621679571423"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg to1
</span><a href="#local-6989586621679571497"><span class="hs-identifier hs-var">inFile</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1600"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-1601"></span><span>          </span><span id="local-6989586621679571498"><span class="annot"><span class="annottext">outFile :: ModuleName -&gt; String
</span><a href="#local-6989586621679571498"><span class="hs-identifier hs-var hs-var">outFile</span></a></span></span><span> </span><span id="local-6989586621679571501"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621679571501"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1602"></span><span>            </span><span class="annot"><span class="annottext">SymbolicPath Pkg to -&gt; String
forall {allowAbsolute :: AllowAbsolute} {to :: FileOrDir}.
SymbolicPathX allowAbsolute Pkg to -&gt; String
</span><a href="#local-6989586621679571420"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SymbolicPath Pkg to
</span><a href="#local-6989586621679571492"><span class="hs-identifier hs-var">outputDir</span></a></span><span>
</span><span id="line-1603"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModuleName -&gt; [String]
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.ModuleName.html#components"><span class="hs-identifier hs-var">ModuleName.components</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621679571501"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1604"></span><span>                </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p. FileLike p =&gt; p -&gt; String -&gt; p
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C.%3E"><span class="hs-operator hs-var">&lt;.&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;html&quot;</span></span><span>
</span><span id="line-1605"></span><span>
</span><span id="line-1606"></span><span class="annot"><a href="Distribution.Simple.Haddock.html#haddockToHscolour"><span class="hs-identifier hs-type">haddockToHscolour</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockFlags"><span class="hs-identifier hs-type">HaddockFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Hscolour.html#HscolourFlags"><span class="hs-identifier hs-type">HscolourFlags</span></a></span><span>
</span><span id="line-1607"></span><span id="haddockToHscolour"><span class="annot"><span class="annottext">haddockToHscolour :: HaddockFlags -&gt; HscolourFlags
</span><a href="Distribution.Simple.Haddock.html#haddockToHscolour"><span class="hs-identifier hs-var hs-var">haddockToHscolour</span></a></span></span><span> </span><span id="local-6989586621679571503"><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679571503"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1608"></span><span>  </span><span class="annot"><a href="Distribution.Simple.Setup.Hscolour.html#HscolourFlags"><span class="hs-identifier hs-type">HscolourFlags</span></a></span><span>
</span><span id="line-1609"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hscolourCommonFlags :: CommonSetupFlags
</span><a href="Distribution.Simple.Setup.Hscolour.html#hscolourCommonFlags"><span class="hs-identifier hs-var">hscolourCommonFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; CommonSetupFlags
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockCommonFlags"><span class="hs-identifier hs-var">haddockCommonFlags</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679571503"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-1610"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hscolourCSS :: Flag String
</span><a href="Distribution.Simple.Setup.Hscolour.html#hscolourCSS"><span class="hs-identifier hs-var">hscolourCSS</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag String
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockHscolourCss"><span class="hs-identifier hs-var">haddockHscolourCss</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679571503"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-1611"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hscolourExecutables :: Flag Bool
</span><a href="Distribution.Simple.Setup.Hscolour.html#hscolourExecutables"><span class="hs-identifier hs-var">hscolourExecutables</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockExecutables"><span class="hs-identifier hs-var">haddockExecutables</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679571503"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-1612"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hscolourTestSuites :: Flag Bool
</span><a href="Distribution.Simple.Setup.Hscolour.html#hscolourTestSuites"><span class="hs-identifier hs-var">hscolourTestSuites</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockTestSuites"><span class="hs-identifier hs-var">haddockTestSuites</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679571503"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-1613"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hscolourBenchmarks :: Flag Bool
</span><a href="Distribution.Simple.Setup.Hscolour.html#hscolourBenchmarks"><span class="hs-identifier hs-var">hscolourBenchmarks</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockBenchmarks"><span class="hs-identifier hs-var">haddockBenchmarks</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679571503"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-1614"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hscolourForeignLibs :: Flag Bool
</span><a href="Distribution.Simple.Setup.Hscolour.html#hscolourForeignLibs"><span class="hs-identifier hs-var">hscolourForeignLibs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; Flag Bool
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockForeignLibs"><span class="hs-identifier hs-var">haddockForeignLibs</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679571503"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-1615"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-1616"></span><span>
</span><span id="line-1617"></span><span class="hs-comment">-- ------------------------------------------------------------------------------</span><span>
</span><span id="line-1618"></span><span class="hs-comment">-- Boilerplate Monoid instance.</span><span>
</span><span id="line-1619"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679571512"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1620"></span><span>  </span><span id="local-6989586621679571618"><span class="annot"><span class="annottext">mempty :: HaddockArgs
</span><span class="hs-identifier hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockArgs
forall a. (Generic a, GMonoid (Rep a)) =&gt; a
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Compat.Semigroup.html#gmempty"><span class="hs-identifier hs-var">gmempty</span></a></span><span>
</span><span id="line-1621"></span><span>  </span><span id="local-6989586621679571621"><span class="annot"><span class="annottext">mappend :: HaddockArgs -&gt; HaddockArgs -&gt; HaddockArgs
</span><span class="hs-identifier hs-var hs-var hs-var">mappend</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; HaddockArgs -&gt; HaddockArgs
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span>
</span><span id="line-1622"></span><span>
</span><span id="line-1623"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679571624"><span id="local-6989586621679571627"><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#HaddockArgs"><span class="hs-identifier hs-type">HaddockArgs</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1624"></span><span>  </span><span id="local-6989586621679571718"><span class="annot"><span class="annottext">&lt;&gt; :: HaddockArgs -&gt; HaddockArgs -&gt; HaddockArgs
</span><span class="hs-operator hs-var hs-var hs-var">(&lt;&gt;)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HaddockArgs -&gt; HaddockArgs -&gt; HaddockArgs
forall a. (Generic a, GSemigroup (Rep a)) =&gt; a -&gt; a -&gt; a
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Compat.Semigroup.html#gmappend"><span class="hs-identifier hs-var">gmappend</span></a></span><span>
</span><span id="line-1625"></span><span>
</span><span id="line-1626"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679571725"><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Directory"><span class="hs-identifier hs-type">Directory</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1627"></span><span>  </span><span id="local-6989586621679571727"><span class="annot"><span class="annottext">mempty :: Directory
</span><span class="hs-identifier hs-var hs-var hs-var">mempty</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Directory
</span><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-var">Dir</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span>
</span><span id="line-1628"></span><span>  </span><span id="local-6989586621679571729"><span class="annot"><span class="annottext">mappend :: Directory -&gt; Directory -&gt; Directory
</span><span class="hs-identifier hs-var hs-var hs-var">mappend</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Directory -&gt; Directory -&gt; Directory
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span>
</span><span id="line-1629"></span><span>
</span><span id="line-1630"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679571732"><span id="local-6989586621679571735"><span class="annot"><span class="hs-identifier hs-type">Semigroup</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Directory"><span class="hs-identifier hs-type">Directory</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1631"></span><span>  </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span id="local-6989586621679571740"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571740"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679571741"><span class="annot"><span class="annottext">&lt;&gt; :: Directory -&gt; Directory -&gt; Directory
</span><span class="hs-operator hs-var hs-var hs-var">&lt;&gt;</span></span></span><span> </span><span class="annot"><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span id="local-6989586621679571742"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571742"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Directory
</span><a href="Distribution.Simple.Haddock.html#Dir"><span class="hs-identifier hs-var">Dir</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Directory) -&gt; String -&gt; Directory
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571740"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall p q r. PathLike p q r =&gt; p -&gt; q -&gt; r
</span><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679571742"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1632"></span></pre></body></html>