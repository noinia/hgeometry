<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DeriveDataTypeable #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes #-}</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- Module      :  Distribution.Simple.Setup</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- Copyright   :  Isaac Jones 2003-2004</span><span>
</span><span id="line-14"></span><span class="hs-comment">--                Duncan Coutts 2007</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- License     :  BSD3</span><span>
</span><span id="line-16"></span><span class="hs-comment">--</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- Maintainer  :  cabal-devel@haskell.org</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- Portability :  portable</span><span>
</span><span id="line-19"></span><span class="hs-comment">--</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- This module defines the command line interface for all the Cabal</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- commands. For each command (like @configure@, @build@ etc) it defines a type</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- that holds all the flags, the default set of flags and a 'CommandUI' that</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- maps command line flags to and from the corresponding flags type.</span><span>
</span><span id="line-24"></span><span class="hs-comment">--</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- All the flags types are instances of 'Monoid', see</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- &lt;http://www.haskell.org/pipermail/cabal-devel/2007-December/001509.html&gt;</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- for an explanation.</span><span>
</span><span id="line-28"></span><span class="hs-comment">--</span><span>
</span><span id="line-29"></span><span class="hs-comment">-- The types defined here get used in the front end and especially in</span><span>
</span><span id="line-30"></span><span class="hs-comment">-- @cabal-install@ which has to do quite a bit of manipulating sets of command</span><span>
</span><span id="line-31"></span><span class="hs-comment">-- line flags.</span><span>
</span><span id="line-32"></span><span class="hs-comment">--</span><span>
</span><span id="line-33"></span><span class="hs-comment">-- This is actually relatively nice, it works quite well. The main change it</span><span>
</span><span id="line-34"></span><span class="hs-comment">-- needs is to unify it with the code for managing sets of fields that can be</span><span>
</span><span id="line-35"></span><span class="hs-comment">-- read and written from files. This would allow us to save configure flags in</span><span>
</span><span id="line-36"></span><span class="hs-comment">-- config files.</span><span>
</span><span id="line-37"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.html"><span class="hs-identifier">Distribution.Simple.Setup</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Global.html#GlobalFlags"><span class="hs-identifier">GlobalFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Global.html#emptyGlobalFlags"><span class="hs-identifier">emptyGlobalFlags</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Global.html#defaultGlobalFlags"><span class="hs-identifier">defaultGlobalFlags</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Global.html#globalCommand"><span class="hs-identifier">globalCommand</span></a></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#CommonSetupFlags"><span class="hs-identifier">CommonSetupFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#defaultCommonSetupFlags"><span class="hs-identifier">defaultCommonSetupFlags</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Config.html#ConfigFlags"><span class="hs-identifier">ConfigFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Config.html#emptyConfigFlags"><span class="hs-identifier">emptyConfigFlags</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Config.html#defaultConfigFlags"><span class="hs-identifier">defaultConfigFlags</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Config.html#configureCommand"><span class="hs-identifier">configureCommand</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Config.html#configPrograms"><span class="hs-identifier">configPrograms</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Config.html#readPackageDb"><span class="hs-identifier">readPackageDb</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Config.html#readPackageDbList"><span class="hs-identifier">readPackageDbList</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Config.html#showPackageDb"><span class="hs-identifier">showPackageDb</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Config.html#showPackageDbList"><span class="hs-identifier">showPackageDbList</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Copy.html#CopyFlags"><span class="hs-identifier">CopyFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Copy.html#emptyCopyFlags"><span class="hs-identifier">emptyCopyFlags</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Copy.html#defaultCopyFlags"><span class="hs-identifier">defaultCopyFlags</span></a></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Copy.html#copyCommand"><span class="hs-identifier">copyCommand</span></a></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Install.html#InstallFlags"><span class="hs-identifier">InstallFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Install.html#emptyInstallFlags"><span class="hs-identifier">emptyInstallFlags</span></a></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Install.html#defaultInstallFlags"><span class="hs-identifier">defaultInstallFlags</span></a></span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Install.html#installCommand"><span class="hs-identifier">installCommand</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockTarget"><span class="hs-identifier">HaddockTarget</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockFlags"><span class="hs-identifier">HaddockFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#emptyHaddockFlags"><span class="hs-identifier">emptyHaddockFlags</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#defaultHaddockFlags"><span class="hs-identifier">defaultHaddockFlags</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockCommand"><span class="hs-identifier">haddockCommand</span></a></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#Visibility"><span class="hs-identifier">Visibility</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockProjectFlags"><span class="hs-identifier">HaddockProjectFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#emptyHaddockProjectFlags"><span class="hs-identifier">emptyHaddockProjectFlags</span></a></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#defaultHaddockProjectFlags"><span class="hs-identifier">defaultHaddockProjectFlags</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockProjectCommand"><span class="hs-identifier">haddockProjectCommand</span></a></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Hscolour.html#HscolourFlags"><span class="hs-identifier">HscolourFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Hscolour.html#emptyHscolourFlags"><span class="hs-identifier">emptyHscolourFlags</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Hscolour.html#defaultHscolourFlags"><span class="hs-identifier">defaultHscolourFlags</span></a></span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Hscolour.html#hscolourCommand"><span class="hs-identifier">hscolourCommand</span></a></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Build.html#BuildFlags"><span class="hs-identifier">BuildFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Build.html#emptyBuildFlags"><span class="hs-identifier">emptyBuildFlags</span></a></span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Build.html#defaultBuildFlags"><span class="hs-identifier">defaultBuildFlags</span></a></span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Build.html#buildCommand"><span class="hs-identifier">buildCommand</span></a></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Types.DumpBuildInfo.html#DumpBuildInfo"><span class="hs-identifier">DumpBuildInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Repl.html#ReplFlags"><span class="hs-identifier">ReplFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Repl.html#defaultReplFlags"><span class="hs-identifier">defaultReplFlags</span></a></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Repl.html#replCommand"><span class="hs-identifier">replCommand</span></a></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Repl.html#ReplOptions"><span class="hs-identifier">ReplOptions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Clean.html#CleanFlags"><span class="hs-identifier">CleanFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Clean.html#emptyCleanFlags"><span class="hs-identifier">emptyCleanFlags</span></a></span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Clean.html#defaultCleanFlags"><span class="hs-identifier">defaultCleanFlags</span></a></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Clean.html#cleanCommand"><span class="hs-identifier">cleanCommand</span></a></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Register.html#RegisterFlags"><span class="hs-identifier">RegisterFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Register.html#emptyRegisterFlags"><span class="hs-identifier">emptyRegisterFlags</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Register.html#defaultRegisterFlags"><span class="hs-identifier">defaultRegisterFlags</span></a></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Register.html#registerCommand"><span class="hs-identifier">registerCommand</span></a></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Register.html#unregisterCommand"><span class="hs-identifier">unregisterCommand</span></a></span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.SDist.html#SDistFlags"><span class="hs-identifier">SDistFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.SDist.html#emptySDistFlags"><span class="hs-identifier">emptySDistFlags</span></a></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.SDist.html#defaultSDistFlags"><span class="hs-identifier">defaultSDistFlags</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.SDist.html#sdistCommand"><span class="hs-identifier">sdistCommand</span></a></span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Test.html#TestFlags"><span class="hs-identifier">TestFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Test.html#emptyTestFlags"><span class="hs-identifier">emptyTestFlags</span></a></span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Test.html#defaultTestFlags"><span class="hs-identifier">defaultTestFlags</span></a></span><span>
</span><span id="line-100"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Test.html#testCommand"><span class="hs-identifier">testCommand</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Test.html#TestShowDetails"><span class="hs-identifier">TestShowDetails</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Benchmark.html#BenchmarkFlags"><span class="hs-identifier">BenchmarkFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Benchmark.html#emptyBenchmarkFlags"><span class="hs-identifier">emptyBenchmarkFlags</span></a></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Benchmark.html#defaultBenchmarkFlags"><span class="hs-identifier">defaultBenchmarkFlags</span></a></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Benchmark.html#benchmarkCommand"><span class="hs-identifier">benchmarkCommand</span></a></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html#CopyDest"><span class="hs-identifier">CopyDest</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Config.html#configureArgs"><span class="hs-identifier">configureArgs</span></a></span><span>
</span><span id="line-108"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Config.html#configureOptions"><span class="hs-identifier">configureOptions</span></a></span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#configureCCompiler"><span class="hs-identifier">configureCCompiler</span></a></span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#configureLinker"><span class="hs-identifier">configureLinker</span></a></span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Build.html#buildOptions"><span class="hs-identifier">buildOptions</span></a></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockOptions"><span class="hs-identifier">haddockOptions</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#haddockProjectOptions"><span class="hs-identifier">haddockProjectOptions</span></a></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Config.html#installDirsOptions"><span class="hs-identifier">installDirsOptions</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Test.html#testOptions%27"><span class="hs-identifier">testOptions'</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Benchmark.html#benchmarkOptions%27"><span class="hs-identifier">benchmarkOptions'</span></a></span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#programDbOptions"><span class="hs-identifier">programDbOptions</span></a></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#programDbPaths%27"><span class="hs-identifier">programDbPaths'</span></a></span><span>
</span><span id="line-119"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#programFlagsDescription"><span class="hs-identifier">programFlagsDescription</span></a></span><span>
</span><span id="line-120"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Repl.html#replOptions"><span class="hs-identifier">replOptions</span></a></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#splitArgs"><span class="hs-identifier">splitArgs</span></a></span><span>
</span><span id="line-122"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#defaultDistPref"><span class="hs-identifier">defaultDistPref</span></a></span><span>
</span><span id="line-123"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#optionDistPref"><span class="hs-identifier">optionDistPref</span></a></span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#Flag"><span class="hs-identifier">Flag</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#toFlag"><span class="hs-identifier">toFlag</span></a></span><span>
</span><span id="line-126"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier">fromFlag</span></a></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#fromFlagOrDefault"><span class="hs-identifier">fromFlagOrDefault</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier">flagToMaybe</span></a></span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#flagToList"><span class="hs-identifier">flagToList</span></a></span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#maybeToFlag"><span class="hs-identifier">maybeToFlag</span></a></span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html#BooleanFlag"><span class="hs-identifier">BooleanFlag</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#boolOpt"><span class="hs-identifier">boolOpt</span></a></span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#boolOpt%27"><span class="hs-identifier">boolOpt'</span></a></span><span>
</span><span id="line-134"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#trueArg"><span class="hs-identifier">trueArg</span></a></span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#falseArg"><span class="hs-identifier">falseArg</span></a></span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#optionVerbosity"><span class="hs-identifier">optionVerbosity</span></a></span><span>
</span><span id="line-137"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.html#BuildingWhat"><span class="hs-identifier">BuildingWhat</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.html#buildingWhatCommonFlags"><span class="hs-identifier">buildingWhatCommonFlags</span></a></span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.html#buildingWhatVerbosity"><span class="hs-identifier">buildingWhatVerbosity</span></a></span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.html#buildingWhatWorkingDir"><span class="hs-identifier">buildingWhatWorkingDir</span></a></span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.html#buildingWhatDistPref"><span class="hs-identifier">buildingWhatDistPref</span></a></span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Compat.Prelude.html"><span class="hs-identifier">Distribution.Compat.Prelude</span></a></span><span>
</span><span id="line-145"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Flag.html"><span class="hs-identifier">Distribution.Simple.Flag</span></a></span><span>
</span><span id="line-148"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.InstallDirs.html"><span class="hs-identifier">Distribution.Simple.InstallDirs</span></a></span><span>
</span><span id="line-149"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Types.DumpBuildInfo.html"><span class="hs-identifier">Distribution.Types.DumpBuildInfo</span></a></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Benchmark.html"><span class="hs-identifier">Distribution.Simple.Setup.Benchmark</span></a></span><span>
</span><span id="line-152"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Build.html"><span class="hs-identifier">Distribution.Simple.Setup.Build</span></a></span><span>
</span><span id="line-153"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Clean.html"><span class="hs-identifier">Distribution.Simple.Setup.Clean</span></a></span><span>
</span><span id="line-154"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html"><span class="hs-identifier">Distribution.Simple.Setup.Common</span></a></span><span>
</span><span id="line-155"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Config.html"><span class="hs-identifier">Distribution.Simple.Setup.Config</span></a></span><span>
</span><span id="line-156"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Copy.html"><span class="hs-identifier">Distribution.Simple.Setup.Copy</span></a></span><span>
</span><span id="line-157"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Global.html"><span class="hs-identifier">Distribution.Simple.Setup.Global</span></a></span><span>
</span><span id="line-158"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html"><span class="hs-identifier">Distribution.Simple.Setup.Haddock</span></a></span><span>
</span><span id="line-159"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Hscolour.html"><span class="hs-identifier">Distribution.Simple.Setup.Hscolour</span></a></span><span>
</span><span id="line-160"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Install.html"><span class="hs-identifier">Distribution.Simple.Setup.Install</span></a></span><span>
</span><span id="line-161"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Register.html"><span class="hs-identifier">Distribution.Simple.Setup.Register</span></a></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Register.html#RegisterFlags"><span class="hs-identifier">RegisterFlags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Register.html#defaultRegisterFlags"><span class="hs-identifier">defaultRegisterFlags</span></a></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Register.html#emptyRegisterFlags"><span class="hs-identifier">emptyRegisterFlags</span></a></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Register.html#registerCommand"><span class="hs-identifier">registerCommand</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Register.html#unregisterCommand"><span class="hs-identifier">unregisterCommand</span></a></span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Repl.html"><span class="hs-identifier">Distribution.Simple.Setup.Repl</span></a></span><span>
</span><span id="line-169"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.SDist.html"><span class="hs-identifier">Distribution.Simple.Setup.SDist</span></a></span><span>
</span><span id="line-170"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Test.html"><span class="hs-identifier">Distribution.Simple.Setup.Test</span></a></span><span>
</span><span id="line-171"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html"><span class="hs-identifier">Distribution.Utils.Path</span></a></span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html"><span class="hs-identifier">Distribution.Verbosity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier">Verbosity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">-- | What kind of build phase are we doing/hooking into?</span><span>
</span><span id="line-176"></span><span class="hs-comment">--</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- Is this a normal build, or is it perhaps for running an interactive</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- session or Haddock?</span><span>
</span><span id="line-179"></span><span class="hs-keyword">data</span><span> </span><span id="BuildingWhat"><span class="annot"><a href="Distribution.Simple.Setup.html#BuildingWhat"><span class="hs-identifier hs-var">BuildingWhat</span></a></span></span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-comment">-- | A normal build.</span></span><span>
</span><span id="line-181"></span><span>    </span><span id="BuildNormal"><span class="annot"><a href="Distribution.Simple.Setup.html#BuildNormal"><span class="hs-identifier hs-var">BuildNormal</span></a></span></span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Build.html#BuildFlags"><span class="hs-identifier hs-type">BuildFlags</span></a></span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-comment">-- | Build steps for an interactive session.</span></span><span>
</span><span id="line-183"></span><span>    </span><span id="BuildRepl"><span class="annot"><a href="Distribution.Simple.Setup.html#BuildRepl"><span class="hs-identifier hs-var">BuildRepl</span></a></span></span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Repl.html#ReplFlags"><span class="hs-identifier hs-type">ReplFlags</span></a></span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-comment">-- | Build steps for generating documentation.</span></span><span>
</span><span id="line-185"></span><span>    </span><span id="BuildHaddock"><span class="annot"><a href="Distribution.Simple.Setup.html#BuildHaddock"><span class="hs-identifier hs-var">BuildHaddock</span></a></span></span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Haddock.html#HaddockFlags"><span class="hs-identifier hs-type">HaddockFlags</span></a></span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-comment">-- | Build steps for Hscolour.</span></span><span>
</span><span id="line-187"></span><span>    </span><span id="BuildHscolour"><span class="annot"><a href="Distribution.Simple.Setup.html#BuildHscolour"><span class="hs-identifier hs-var">BuildHscolour</span></a></span></span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Hscolour.html#HscolourFlags"><span class="hs-identifier hs-type">HscolourFlags</span></a></span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679540882"><span id="local-6989586621679540884"><span class="annot"><span class="annottext">(forall x. BuildingWhat -&gt; Rep BuildingWhat x)
-&gt; (forall x. Rep BuildingWhat x -&gt; BuildingWhat)
-&gt; Generic BuildingWhat
forall x. Rep BuildingWhat x -&gt; BuildingWhat
forall x. BuildingWhat -&gt; Rep BuildingWhat x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cfrom :: forall x. BuildingWhat -&gt; Rep BuildingWhat x
from :: forall x. BuildingWhat -&gt; Rep BuildingWhat x
$cto :: forall x. Rep BuildingWhat x -&gt; BuildingWhat
to :: forall x. Rep BuildingWhat x -&gt; BuildingWhat
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Generic</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679540890"><span id="local-6989586621679540905"><span id="local-6989586621679540909"><span class="annot"><span class="annottext">Int -&gt; BuildingWhat -&gt; ShowS
[BuildingWhat] -&gt; ShowS
BuildingWhat -&gt; String
(Int -&gt; BuildingWhat -&gt; ShowS)
-&gt; (BuildingWhat -&gt; String)
-&gt; ([BuildingWhat] -&gt; ShowS)
-&gt; Show BuildingWhat
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; BuildingWhat -&gt; ShowS
showsPrec :: Int -&gt; BuildingWhat -&gt; ShowS
$cshow :: BuildingWhat -&gt; String
show :: BuildingWhat -&gt; String
$cshowList :: [BuildingWhat] -&gt; ShowS
showList :: [BuildingWhat] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="annot"><a href="Distribution.Simple.Setup.html#buildingWhatCommonFlags"><span class="hs-identifier hs-type">buildingWhatCommonFlags</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.html#BuildingWhat"><span class="hs-identifier hs-type">BuildingWhat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.Common.html#CommonSetupFlags"><span class="hs-identifier hs-type">CommonSetupFlags</span></a></span><span>
</span><span id="line-191"></span><span id="buildingWhatCommonFlags"><span class="annot"><span class="annottext">buildingWhatCommonFlags :: BuildingWhat -&gt; CommonSetupFlags
</span><a href="Distribution.Simple.Setup.html#buildingWhatCommonFlags"><span class="hs-identifier hs-var hs-var">buildingWhatCommonFlags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-192"></span><span>  </span><span class="annot"><a href="Distribution.Simple.Setup.html#BuildNormal"><span class="hs-identifier hs-type">BuildNormal</span></a></span><span> </span><span id="local-6989586621679540913"><span class="annot"><span class="annottext">BuildFlags
</span><a href="#local-6989586621679540913"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BuildFlags -&gt; CommonSetupFlags
</span><a href="Distribution.Simple.Setup.Build.html#buildCommonFlags"><span class="hs-identifier hs-var">buildCommonFlags</span></a></span><span> </span><span class="annot"><span class="annottext">BuildFlags
</span><a href="#local-6989586621679540913"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-193"></span><span>  </span><span class="annot"><a href="Distribution.Simple.Setup.html#BuildRepl"><span class="hs-identifier hs-type">BuildRepl</span></a></span><span> </span><span id="local-6989586621679540915"><span class="annot"><span class="annottext">ReplFlags
</span><a href="#local-6989586621679540915"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ReplFlags -&gt; CommonSetupFlags
</span><a href="Distribution.Simple.Setup.Repl.html#replCommonFlags"><span class="hs-identifier hs-var">replCommonFlags</span></a></span><span> </span><span class="annot"><span class="annottext">ReplFlags
</span><a href="#local-6989586621679540915"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-194"></span><span>  </span><span class="annot"><a href="Distribution.Simple.Setup.html#BuildHaddock"><span class="hs-identifier hs-type">BuildHaddock</span></a></span><span> </span><span id="local-6989586621679540917"><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679540917"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HaddockFlags -&gt; CommonSetupFlags
</span><a href="Distribution.Simple.Setup.Haddock.html#haddockCommonFlags"><span class="hs-identifier hs-var">haddockCommonFlags</span></a></span><span> </span><span class="annot"><span class="annottext">HaddockFlags
</span><a href="#local-6989586621679540917"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-195"></span><span>  </span><span class="annot"><a href="Distribution.Simple.Setup.html#BuildHscolour"><span class="hs-identifier hs-type">BuildHscolour</span></a></span><span> </span><span id="local-6989586621679540919"><span class="annot"><span class="annottext">HscolourFlags
</span><a href="#local-6989586621679540919"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HscolourFlags -&gt; CommonSetupFlags
</span><a href="Distribution.Simple.Setup.Hscolour.html#hscolourCommonFlags"><span class="hs-identifier hs-var">hscolourCommonFlags</span></a></span><span> </span><span class="annot"><span class="annottext">HscolourFlags
</span><a href="#local-6989586621679540919"><span class="hs-identifier hs-var">flags</span></a></span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="annot"><a href="Distribution.Simple.Setup.html#buildingWhatVerbosity"><span class="hs-identifier hs-type">buildingWhatVerbosity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.html#BuildingWhat"><span class="hs-identifier hs-type">BuildingWhat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Distribution.Verbosity.html#Verbosity"><span class="hs-identifier hs-type">Verbosity</span></a></span><span>
</span><span id="line-198"></span><span id="buildingWhatVerbosity"><span class="annot"><span class="annottext">buildingWhatVerbosity :: BuildingWhat -&gt; Verbosity
</span><a href="Distribution.Simple.Setup.html#buildingWhatVerbosity"><span class="hs-identifier hs-var hs-var">buildingWhatVerbosity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Flag Verbosity -&gt; Verbosity
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag Verbosity -&gt; Verbosity)
-&gt; (BuildingWhat -&gt; Flag Verbosity) -&gt; BuildingWhat -&gt; Verbosity
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CommonSetupFlags -&gt; Flag Verbosity
</span><a href="Distribution.Simple.Setup.Common.html#setupVerbosity"><span class="hs-identifier hs-var">setupVerbosity</span></a></span><span> </span><span class="annot"><span class="annottext">(CommonSetupFlags -&gt; Flag Verbosity)
-&gt; (BuildingWhat -&gt; CommonSetupFlags)
-&gt; BuildingWhat
-&gt; Flag Verbosity
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">BuildingWhat -&gt; CommonSetupFlags
</span><a href="Distribution.Simple.Setup.html#buildingWhatCommonFlags"><span class="hs-identifier hs-var">buildingWhatCommonFlags</span></a></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="annot"><a href="Distribution.Simple.Setup.html#buildingWhatWorkingDir"><span class="hs-identifier hs-type">buildingWhatWorkingDir</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.html#BuildingWhat"><span class="hs-identifier hs-type">BuildingWhat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#CWD"><span class="hs-identifier hs-type">CWD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span id="buildingWhatWorkingDir"><span class="annot"><span class="annottext">buildingWhatWorkingDir :: BuildingWhat -&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
</span><a href="Distribution.Simple.Setup.html#buildingWhatWorkingDir"><span class="hs-identifier hs-var hs-var">buildingWhatWorkingDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Flag (SymbolicPath CWD ('Dir Pkg))
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
forall a. Flag a -&gt; Maybe a
</span><a href="Distribution.Simple.Flag.html#flagToMaybe"><span class="hs-identifier hs-var">flagToMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag (SymbolicPath CWD ('Dir Pkg))
 -&gt; Maybe (SymbolicPath CWD ('Dir Pkg)))
-&gt; (BuildingWhat -&gt; Flag (SymbolicPath CWD ('Dir Pkg)))
-&gt; BuildingWhat
-&gt; Maybe (SymbolicPath CWD ('Dir Pkg))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CommonSetupFlags -&gt; Flag (SymbolicPath CWD ('Dir Pkg))
</span><a href="Distribution.Simple.Setup.Common.html#setupWorkingDir"><span class="hs-identifier hs-var">setupWorkingDir</span></a></span><span> </span><span class="annot"><span class="annottext">(CommonSetupFlags -&gt; Flag (SymbolicPath CWD ('Dir Pkg)))
-&gt; (BuildingWhat -&gt; CommonSetupFlags)
-&gt; BuildingWhat
-&gt; Flag (SymbolicPath CWD ('Dir Pkg))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">BuildingWhat -&gt; CommonSetupFlags
</span><a href="Distribution.Simple.Setup.html#buildingWhatCommonFlags"><span class="hs-identifier hs-var">buildingWhatCommonFlags</span></a></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="annot"><a href="Distribution.Simple.Setup.html#buildingWhatDistPref"><span class="hs-identifier hs-type">buildingWhatDistPref</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.html#BuildingWhat"><span class="hs-identifier hs-type">BuildingWhat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#SymbolicPath"><span class="hs-identifier hs-type">SymbolicPath</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Pkg"><span class="hs-identifier hs-type">Pkg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dir"><span class="hs-identifier hs-type">Dir</span></a></span><span> </span><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Path.html#Dist"><span class="hs-identifier hs-type">Dist</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span id="buildingWhatDistPref"><span class="annot"><span class="annottext">buildingWhatDistPref :: BuildingWhat -&gt; SymbolicPath Pkg ('Dir Dist)
</span><a href="Distribution.Simple.Setup.html#buildingWhatDistPref"><span class="hs-identifier hs-var hs-var">buildingWhatDistPref</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Flag (SymbolicPath Pkg ('Dir Dist)) -&gt; SymbolicPath Pkg ('Dir Dist)
forall a. WithCallStack (Flag a -&gt; a)
</span><a href="Distribution.Simple.Flag.html#fromFlag"><span class="hs-identifier hs-var">fromFlag</span></a></span><span> </span><span class="annot"><span class="annottext">(Flag (SymbolicPath Pkg ('Dir Dist))
 -&gt; SymbolicPath Pkg ('Dir Dist))
-&gt; (BuildingWhat -&gt; Flag (SymbolicPath Pkg ('Dir Dist)))
-&gt; BuildingWhat
-&gt; SymbolicPath Pkg ('Dir Dist)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CommonSetupFlags -&gt; Flag (SymbolicPath Pkg ('Dir Dist))
</span><a href="Distribution.Simple.Setup.Common.html#setupDistPref"><span class="hs-identifier hs-var">setupDistPref</span></a></span><span> </span><span class="annot"><span class="annottext">(CommonSetupFlags -&gt; Flag (SymbolicPath Pkg ('Dir Dist)))
-&gt; (BuildingWhat -&gt; CommonSetupFlags)
-&gt; BuildingWhat
-&gt; Flag (SymbolicPath Pkg ('Dir Dist))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">BuildingWhat -&gt; CommonSetupFlags
</span><a href="Distribution.Simple.Setup.html#buildingWhatCommonFlags"><span class="hs-identifier hs-var">buildingWhatCommonFlags</span></a></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span class="hs-comment">-- The test cases kinda have to be rewritten from the ground up... :/</span><span>
</span><span id="line-207"></span><span class="hs-comment">-- hunitTests :: [Test]</span><span>
</span><span id="line-208"></span><span class="hs-comment">-- hunitTests =</span><span>
</span><span id="line-209"></span><span class="hs-comment">--    let m = [(&quot;ghc&quot;, GHC), (&quot;nhc98&quot;, NHC), (&quot;hugs&quot;, Hugs)]</span><span>
</span><span id="line-210"></span><span class="hs-comment">--        (flags, commands', unkFlags, ers)</span><span>
</span><span id="line-211"></span><span class="hs-comment">--               = getOpt Permute options [&quot;configure&quot;, &quot;foobar&quot;, &quot;--prefix=/foo&quot;, &quot;--ghc&quot;, &quot;--nhc98&quot;, &quot;--hugs&quot;, &quot;--with-compiler=/comp&quot;, &quot;--unknown1&quot;, &quot;--unknown2&quot;, &quot;--install-prefix=/foo&quot;, &quot;--user&quot;, &quot;--global&quot;]</span><span>
</span><span id="line-212"></span><span class="hs-comment">--       in  [TestLabel &quot;very basic option parsing&quot; $ TestList [</span><span>
</span><span id="line-213"></span><span class="hs-comment">--                 &quot;getOpt flags&quot; ~: &quot;failed&quot; ~:</span><span>
</span><span id="line-214"></span><span class="hs-comment">--                 [Prefix &quot;/foo&quot;, GhcFlag, NhcFlag, HugsFlag,</span><span>
</span><span id="line-215"></span><span class="hs-comment">--                  WithCompiler &quot;/comp&quot;, InstPrefix &quot;/foo&quot;, UserFlag, GlobalFlag]</span><span>
</span><span id="line-216"></span><span class="hs-comment">--                 ~=? flags,</span><span>
</span><span id="line-217"></span><span class="hs-comment">--                 &quot;getOpt commands&quot; ~: &quot;failed&quot; ~: [&quot;configure&quot;, &quot;foobar&quot;] ~=? commands',</span><span>
</span><span id="line-218"></span><span class="hs-comment">--                 &quot;getOpt unknown opts&quot; ~: &quot;failed&quot; ~:</span><span>
</span><span id="line-219"></span><span class="hs-comment">--                      [&quot;--unknown1&quot;, &quot;--unknown2&quot;] ~=? unkFlags,</span><span>
</span><span id="line-220"></span><span class="hs-comment">--                 &quot;getOpt errors&quot; ~: &quot;failed&quot; ~: [] ~=? ers],</span><span>
</span><span id="line-221"></span><span class="hs-comment">--</span><span>
</span><span id="line-222"></span><span class="hs-comment">--               TestLabel &quot;test location of various compilers&quot; $ TestList</span><span>
</span><span id="line-223"></span><span class="hs-comment">--               [&quot;configure parsing for prefix and compiler flag&quot; ~: &quot;failed&quot; ~:</span><span>
</span><span id="line-224"></span><span class="hs-comment">--                    (Right (ConfigCmd (Just comp, Nothing, Just &quot;/usr/local&quot;), []))</span><span>
</span><span id="line-225"></span><span class="hs-comment">--                   ~=? (parseArgs [&quot;--prefix=/usr/local&quot;, &quot;--&quot;++name, &quot;configure&quot;])</span><span>
</span><span id="line-226"></span><span class="hs-comment">--                   | (name, comp) &lt;- m],</span><span>
</span><span id="line-227"></span><span class="hs-comment">--</span><span>
</span><span id="line-228"></span><span class="hs-comment">--               TestLabel &quot;find the package tool&quot; $ TestList</span><span>
</span><span id="line-229"></span><span class="hs-comment">--               [&quot;configure parsing for prefix comp flag, withcompiler&quot; ~: &quot;failed&quot; ~:</span><span>
</span><span id="line-230"></span><span class="hs-comment">--                    (Right (ConfigCmd (Just comp, Just &quot;/foo/comp&quot;, Just &quot;/usr/local&quot;), []))</span><span>
</span><span id="line-231"></span><span class="hs-comment">--                   ~=? (parseArgs [&quot;--prefix=/usr/local&quot;, &quot;--&quot;++name,</span><span>
</span><span id="line-232"></span><span class="hs-comment">--                                   &quot;--with-compiler=/foo/comp&quot;, &quot;configure&quot;])</span><span>
</span><span id="line-233"></span><span class="hs-comment">--                   | (name, comp) &lt;- m],</span><span>
</span><span id="line-234"></span><span class="hs-comment">--</span><span>
</span><span id="line-235"></span><span class="hs-comment">--               TestLabel &quot;simpler commands&quot; $ TestList</span><span>
</span><span id="line-236"></span><span class="hs-comment">--               [flag ~: &quot;failed&quot; ~: (Right (flagCmd, [])) ~=? (parseArgs [flag])</span><span>
</span><span id="line-237"></span><span class="hs-comment">--                   | (flag, flagCmd) &lt;- [(&quot;build&quot;, BuildCmd),</span><span>
</span><span id="line-238"></span><span class="hs-comment">--                                         (&quot;install&quot;, InstallCmd Nothing False),</span><span>
</span><span id="line-239"></span><span class="hs-comment">--                                         (&quot;sdist&quot;, SDistCmd),</span><span>
</span><span id="line-240"></span><span class="hs-comment">--                                         (&quot;register&quot;, RegisterCmd False)]</span><span>
</span><span id="line-241"></span><span class="hs-comment">--                  ]</span><span>
</span><span id="line-242"></span><span class="hs-comment">--               ]</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">{- Testing ideas:
   * IO to look for hugs and hugs-pkg (which hugs, etc)
   * quickCheck to test permutations of arguments
   * what other options can we over-ride with a command-line flag?
-}</span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679540926"><span id="local-6989586621679540933"><span id="local-6989586621679540939"><span class="annot"><span class="hs-identifier hs-type">Binary</span></span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.html#BuildingWhat"><span class="hs-identifier hs-type">BuildingWhat</span></a></span></span></span></span><span>
</span><span id="line-251"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679541011"><span id="local-6989586621679541018"><span class="annot"><a href="../../Cabal-syntax-3.14.1.0-ebb2/src/Distribution.Utils.Structured.html#Structured"><span class="hs-identifier hs-type">Structured</span></a></span><span> </span><span class="annot"><a href="Distribution.Simple.Setup.html#BuildingWhat"><span class="hs-identifier hs-type">BuildingWhat</span></a></span></span></span><span>
</span><span id="line-252"></span></pre></body></html>