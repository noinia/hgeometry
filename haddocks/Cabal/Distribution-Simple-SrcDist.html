<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Distribution.Simple.SrcDist</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">Cabal-3.14.1.0: A framework for packaging Haskell software</span><ul class="links" id="page-menu"><li><a href="src/Distribution.Simple.SrcDist.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Simon Marlow 2004</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>cabal-devel@haskell.org</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Distribution.Simple.SrcDist</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">The top level action</a><ul><li><a href="#g:2">Parts of <code>sdist</code></a></li><li><a href="#g:3">Snapshots</a></li></ul></li><li><a href="#g:4">Extracting the source files</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This handles the <code class="inline-code">sdist</code> command. The module exports an <code><a href="Distribution-Simple-SrcDist.html#v:sdist" title="Distribution.Simple.SrcDist">sdist</a></code> action but
 also some of the phases that make it up so that other tools can use just the
 bits they need. In particular the preparation of the tree of files to go
 into the source tarball is separated from actually building the source
 tarball.</p><p>The <code><a href="Distribution-Simple-SrcDist.html#v:createArchive" title="Distribution.Simple.SrcDist">createArchive</a></code> action uses the external <code class="inline-code">tar</code> program and assumes that
 it accepts the <code class="inline-code">-z</code> flag. Neither of these assumptions are valid on Windows.
 The <code><a href="Distribution-Simple-SrcDist.html#v:sdist" title="Distribution.Simple.SrcDist">sdist</a></code> action now also does some distribution QA checks.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:sdist">sdist</a> :: <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="Distribution-Simple-Setup.html#t:SDistFlags" title="Distribution.Simple.Setup">SDistFlags</a> -&gt; (<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:FilePath" title="Distribution.Compat.Prelude">FilePath</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:FilePath" title="Distribution.Compat.Prelude">FilePath</a>) -&gt; [<a href="Distribution-Simple-PreProcess.html#t:PPSuffixHandler" title="Distribution.Simple.PreProcess">PPSuffixHandler</a>] -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> ()</li><li class="src short"><a href="#v:printPackageProblems">printPackageProblems</a> :: <a href="Distribution-Verbosity.html#t:Verbosity" title="Distribution.Verbosity">Verbosity</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> ()</li><li class="src short"><a href="#v:prepareTree">prepareTree</a> :: <a href="Distribution-Verbosity.html#t:Verbosity" title="Distribution.Verbosity">Verbosity</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> (<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:SymbolicPath" title="Distribution.Utils.Path">SymbolicPath</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:CWD" title="Distribution.Utils.Path">CWD</a> ('<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#v:Dir" title="Distribution.Utils.Path">Dir</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:Pkg" title="Distribution.Utils.Path">Pkg</a>)) -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:FilePath" title="Distribution.Compat.Prelude">FilePath</a> -&gt; [<a href="Distribution-Simple-PreProcess.html#t:PPSuffixHandler" title="Distribution.Simple.PreProcess">PPSuffixHandler</a>] -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> ()</li><li class="src short"><a href="#v:createArchive">createArchive</a> :: <a href="Distribution-Verbosity.html#t:Verbosity" title="Distribution.Verbosity">Verbosity</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:FilePath" title="Distribution.Compat.Prelude">FilePath</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:FilePath" title="Distribution.Compat.Prelude">FilePath</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:FilePath" title="Distribution.Compat.Prelude">FilePath</a></li><li class="src short"><a href="#v:prepareSnapshotTree">prepareSnapshotTree</a> :: <a href="Distribution-Verbosity.html#t:Verbosity" title="Distribution.Verbosity">Verbosity</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> (<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:SymbolicPath" title="Distribution.Utils.Path">SymbolicPath</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:CWD" title="Distribution.Utils.Path">CWD</a> ('<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#v:Dir" title="Distribution.Utils.Path">Dir</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:Pkg" title="Distribution.Utils.Path">Pkg</a>)) -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:FilePath" title="Distribution.Compat.Prelude">FilePath</a> -&gt; [<a href="Distribution-Simple-PreProcess.html#t:PPSuffixHandler" title="Distribution.Simple.PreProcess">PPSuffixHandler</a>] -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> ()</li><li class="src short"><a href="#v:snapshotPackage">snapshotPackage</a> :: <a href="../time-1.14-9bf8/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a></li><li class="src short"><a href="#v:snapshotVersion">snapshotVersion</a> :: <a href="../time-1.14-9bf8/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a> -&gt; <a href="Distribution-Make.html#t:Version" title="Distribution.Make">Version</a> -&gt; <a href="Distribution-Make.html#t:Version" title="Distribution.Make">Version</a></li><li class="src short"><a href="#v:dateToSnapshotNumber">dateToSnapshotNumber</a> :: <a href="../time-1.14-9bf8/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:Int" title="Distribution.Compat.Prelude">Int</a></li><li class="src short"><a href="#v:listPackageSources">listPackageSources</a> :: <a href="Distribution-Verbosity.html#t:Verbosity" title="Distribution.Verbosity">Verbosity</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> (<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:SymbolicPath" title="Distribution.Utils.Path">SymbolicPath</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:CWD" title="Distribution.Utils.Path">CWD</a> ('<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#v:Dir" title="Distribution.Utils.Path">Dir</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:Pkg" title="Distribution.Utils.Path">Pkg</a>)) -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; [<a href="Distribution-Simple-PreProcess.html#t:PPSuffixHandler" title="Distribution.Simple.PreProcess">PPSuffixHandler</a>] -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> [<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:SymbolicPath" title="Distribution.Utils.Path">SymbolicPath</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:Pkg" title="Distribution.Utils.Path">Pkg</a> '<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#v:File" title="Distribution.Utils.Path">File</a>]</li><li class="src short"><a href="#v:listPackageSourcesWithDie">listPackageSourcesWithDie</a> :: <a href="Distribution-Verbosity.html#t:Verbosity" title="Distribution.Verbosity">Verbosity</a> -&gt; (<span class="keyword">forall</span> res. <a href="Distribution-Verbosity.html#t:Verbosity" title="Distribution.Verbosity">Verbosity</a> -&gt; <a href="Distribution-Simple-Errors.html#t:CabalException" title="Distribution.Simple.Errors">CabalException</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> [res]) -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> (<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:SymbolicPath" title="Distribution.Utils.Path">SymbolicPath</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:CWD" title="Distribution.Utils.Path">CWD</a> ('<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#v:Dir" title="Distribution.Utils.Path">Dir</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:Pkg" title="Distribution.Utils.Path">Pkg</a>)) -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; [<a href="Distribution-Simple-PreProcess.html#t:PPSuffixHandler" title="Distribution.Simple.PreProcess">PPSuffixHandler</a>] -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> [<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:SymbolicPath" title="Distribution.Utils.Path">SymbolicPath</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:Pkg" title="Distribution.Utils.Path">Pkg</a> '<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#v:File" title="Distribution.Utils.Path">File</a>]</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>The top level action</h1></a><div class="top"><p class="src"><a id="v:sdist" class="def">sdist</a> <a href="src/Distribution.Simple.SrcDist.html#sdist" class="link">Source</a> <a href="#v:sdist" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a></td><td class="doc"><p>information from the tarball</p></td></tr><tr><td class="src">-&gt; <a href="Distribution-Simple-Setup.html#t:SDistFlags" title="Distribution.Simple.Setup">SDistFlags</a></td><td class="doc"><p>verbosity &amp; snapshot</p></td></tr><tr><td class="src">-&gt; (<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:FilePath" title="Distribution.Compat.Prelude">FilePath</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:FilePath" title="Distribution.Compat.Prelude">FilePath</a>)</td><td class="doc"><p>build prefix (temp dir)</p></td></tr><tr><td class="src">-&gt; [<a href="Distribution-Simple-PreProcess.html#t:PPSuffixHandler" title="Distribution.Simple.PreProcess">PPSuffixHandler</a>]</td><td class="doc"><p>extra preprocessors (includes suffixes)</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Create a source distribution.</p></div></div><a href="#g:2" id="g:2"><h2>Parts of <code>sdist</code></h2></a><div class="top"><p class="src"><a id="v:printPackageProblems" class="def">printPackageProblems</a> :: <a href="Distribution-Verbosity.html#t:Verbosity" title="Distribution.Verbosity">Verbosity</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> () <a href="src/Distribution.Simple.SrcDist.html#printPackageProblems" class="link">Source</a> <a href="#v:printPackageProblems" class="selflink">#</a></p><div class="doc"><p>Note: must be called with the CWD set to the directory containing
 the '.cabal' file.</p></div></div><div class="top"><p class="src"><a id="v:prepareTree" class="def">prepareTree</a> <a href="src/Distribution.Simple.SrcDist.html#prepareTree" class="link">Source</a> <a href="#v:prepareTree" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Distribution-Verbosity.html#t:Verbosity" title="Distribution.Verbosity">Verbosity</a></td><td class="doc"><p>verbosity</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> (<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:SymbolicPath" title="Distribution.Utils.Path">SymbolicPath</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:CWD" title="Distribution.Utils.Path">CWD</a> ('<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#v:Dir" title="Distribution.Utils.Path">Dir</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:Pkg" title="Distribution.Utils.Path">Pkg</a>))</td><td class="doc"><p>working directory</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a></td><td class="doc"><p>info from the cabal file</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:FilePath" title="Distribution.Compat.Prelude">FilePath</a></td><td class="doc"><p>source tree to populate</p></td></tr><tr><td class="src">-&gt; [<a href="Distribution-Simple-PreProcess.html#t:PPSuffixHandler" title="Distribution.Simple.PreProcess">PPSuffixHandler</a>]</td><td class="doc"><p>extra preprocessors (includes suffixes)</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Prepare a directory tree of source files.</p></div></div><div class="top"><p class="src"><a id="v:createArchive" class="def">createArchive</a> <a href="src/Distribution.Simple.SrcDist.html#createArchive" class="link">Source</a> <a href="#v:createArchive" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Distribution-Verbosity.html#t:Verbosity" title="Distribution.Verbosity">Verbosity</a></td><td class="doc"><p>verbosity</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a></td><td class="doc"><p>info from cabal file</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:FilePath" title="Distribution.Compat.Prelude">FilePath</a></td><td class="doc"><p>source tree to archive</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:FilePath" title="Distribution.Compat.Prelude">FilePath</a></td><td class="doc"><p>name of archive to create</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:FilePath" title="Distribution.Compat.Prelude">FilePath</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Create an archive from a tree of source files, and clean up the tree.</p></div></div><a href="#g:3" id="g:3"><h2>Snapshots</h2></a><div class="top"><p class="src"><a id="v:prepareSnapshotTree" class="def">prepareSnapshotTree</a> <a href="src/Distribution.Simple.SrcDist.html#prepareSnapshotTree" class="link">Source</a> <a href="#v:prepareSnapshotTree" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Distribution-Verbosity.html#t:Verbosity" title="Distribution.Verbosity">Verbosity</a></td><td class="doc"><p>verbosity</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> (<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:SymbolicPath" title="Distribution.Utils.Path">SymbolicPath</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:CWD" title="Distribution.Utils.Path">CWD</a> ('<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#v:Dir" title="Distribution.Utils.Path">Dir</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:Pkg" title="Distribution.Utils.Path">Pkg</a>))</td><td class="doc"><p>working directory</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a></td><td class="doc"><p>info from the cabal file</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:FilePath" title="Distribution.Compat.Prelude">FilePath</a></td><td class="doc"><p>source tree to populate</p></td></tr><tr><td class="src">-&gt; [<a href="Distribution-Simple-PreProcess.html#t:PPSuffixHandler" title="Distribution.Simple.PreProcess">PPSuffixHandler</a>]</td><td class="doc"><p>extra preprocessors (includes suffixes)</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Prepare a directory tree of source files for a snapshot version.
 It is expected that the appropriate snapshot version has already been set
 in the package description, eg using <code><a href="Distribution-Simple-SrcDist.html#v:snapshotPackage" title="Distribution.Simple.SrcDist">snapshotPackage</a></code> or <code><a href="Distribution-Simple-SrcDist.html#v:snapshotVersion" title="Distribution.Simple.SrcDist">snapshotVersion</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:snapshotPackage" class="def">snapshotPackage</a> :: <a href="../time-1.14-9bf8/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a> <a href="src/Distribution.Simple.SrcDist.html#snapshotPackage" class="link">Source</a> <a href="#v:snapshotPackage" class="selflink">#</a></p><div class="doc"><p>Modifies a <code><a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a></code> by appending a snapshot number
 corresponding to the given date.</p></div></div><div class="top"><p class="src"><a id="v:snapshotVersion" class="def">snapshotVersion</a> :: <a href="../time-1.14-9bf8/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a> -&gt; <a href="Distribution-Make.html#t:Version" title="Distribution.Make">Version</a> -&gt; <a href="Distribution-Make.html#t:Version" title="Distribution.Make">Version</a> <a href="src/Distribution.Simple.SrcDist.html#snapshotVersion" class="link">Source</a> <a href="#v:snapshotVersion" class="selflink">#</a></p><div class="doc"><p>Modifies a <code><a href="Distribution-Make.html#t:Version" title="Distribution.Make">Version</a></code> by appending a snapshot number corresponding
 to the given date.</p></div></div><div class="top"><p class="src"><a id="v:dateToSnapshotNumber" class="def">dateToSnapshotNumber</a> :: <a href="../time-1.14-9bf8/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:Int" title="Distribution.Compat.Prelude">Int</a> <a href="src/Distribution.Simple.SrcDist.html#dateToSnapshotNumber" class="link">Source</a> <a href="#v:dateToSnapshotNumber" class="selflink">#</a></p><div class="doc"><p>Given a date produce a corresponding integer representation.
 For example given a date <code class="inline-code">18<em>03</em>2008</code> produce the number <code class="inline-code">20080318</code>.</p></div></div><a href="#g:4" id="g:4"><h1>Extracting the source files</h1></a><div class="top"><p class="src"><a id="v:listPackageSources" class="def">listPackageSources</a> <a href="src/Distribution.Simple.SrcDist.html#listPackageSources" class="link">Source</a> <a href="#v:listPackageSources" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Distribution-Verbosity.html#t:Verbosity" title="Distribution.Verbosity">Verbosity</a></td><td class="doc"><p>verbosity</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> (<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:SymbolicPath" title="Distribution.Utils.Path">SymbolicPath</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:CWD" title="Distribution.Utils.Path">CWD</a> ('<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#v:Dir" title="Distribution.Utils.Path">Dir</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:Pkg" title="Distribution.Utils.Path">Pkg</a>))</td><td class="doc"><p>directory with cabal file</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a></td><td class="doc"><p>info from the cabal file</p></td></tr><tr><td class="src">-&gt; [<a href="Distribution-Simple-PreProcess.html#t:PPSuffixHandler" title="Distribution.Simple.PreProcess">PPSuffixHandler</a>]</td><td class="doc"><p>extra preprocessors (include suffixes)</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> [<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:SymbolicPath" title="Distribution.Utils.Path">SymbolicPath</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:Pkg" title="Distribution.Utils.Path">Pkg</a> '<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#v:File" title="Distribution.Utils.Path">File</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>List all source files of a package.</p><p>Since <code class="inline-code">Cabal-3.4</code> returns a single list. There shouldn't be any
 executable files, they are hardly portable.</p></div></div><div class="top"><p class="src"><a id="v:listPackageSourcesWithDie" class="def">listPackageSourcesWithDie</a> <a href="src/Distribution.Simple.SrcDist.html#listPackageSourcesWithDie" class="link">Source</a> <a href="#v:listPackageSourcesWithDie" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Distribution-Verbosity.html#t:Verbosity" title="Distribution.Verbosity">Verbosity</a></td><td class="doc"><p>verbosity</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> res. <a href="Distribution-Verbosity.html#t:Verbosity" title="Distribution.Verbosity">Verbosity</a> -&gt; <a href="Distribution-Simple-Errors.html#t:CabalException" title="Distribution.Simple.Errors">CabalException</a> -&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> [res])</td><td class="doc"><p><code><a href="Distribution-Simple-Utils.html#v:die-39-" title="Distribution.Simple.Utils">die'</a></code> alternative.
 Since <code><a href="Distribution-Simple-Utils.html#v:die-39-" title="Distribution.Simple.Utils">die'</a></code> prefixes the error message with <code class="inline-code">errorPrefix</code>,
 whatever is passed in here and wants to die should do the same.
 See issue #7331.</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:Maybe" title="Distribution.Compat.Prelude">Maybe</a> (<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:SymbolicPath" title="Distribution.Utils.Path">SymbolicPath</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:CWD" title="Distribution.Utils.Path">CWD</a> ('<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#v:Dir" title="Distribution.Utils.Path">Dir</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:Pkg" title="Distribution.Utils.Path">Pkg</a>))</td><td class="doc"><p>directory with cabal file</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Types-PackageDescription.html#t:PackageDescription" title="Distribution.Types.PackageDescription">PackageDescription</a></td><td class="doc"><p>info from the cabal file</p></td></tr><tr><td class="src">-&gt; [<a href="Distribution-Simple-PreProcess.html#t:PPSuffixHandler" title="Distribution.Simple.PreProcess">PPSuffixHandler</a>]</td><td class="doc"><p>extra preprocessors (include suffixes)</p></td></tr><tr><td class="src">-&gt; <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Compat-Prelude.html#t:IO" title="Distribution.Compat.Prelude">IO</a> [<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:SymbolicPath" title="Distribution.Utils.Path">SymbolicPath</a> <a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#t:Pkg" title="Distribution.Utils.Path">Pkg</a> '<a href="../Cabal-syntax-3.14.1.0-ebb2/Distribution-Utils-Path.html#v:File" title="Distribution.Utils.Path">File</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A variant of <code><a href="Distribution-Simple-SrcDist.html#v:listPackageSources" title="Distribution.Simple.SrcDist">listPackageSources</a></code> with configurable <code class="inline-code">die</code>.</p><p><em>Note:</em> may still <code class="inline-code">die</code> directly. For example on missing include file.</p><p>Since @3.4.0.0</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>