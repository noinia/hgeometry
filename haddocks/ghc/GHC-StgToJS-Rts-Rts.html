<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>GHC.StgToJS.Rts.Rts</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">ghc-9.12.2: The GHC API</span><ul class="links" id="page-menu"><li><a href="src/GHC.StgToJS.Rts.Rts.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) The University of Glasgow 2001</td></tr><tr><th>License</th><td>BSD-style (see the file LICENSE)</td></tr><tr><th>Maintainer</th><td>Jeffrey Young  &lt;jeffrey.young@iohk.io&gt;
                Luite Stegeman &lt;luite.stegeman@iohk.io&gt;
                Sylvain Henry  &lt;sylvain.henry@iohk.io&gt;
                Josh Meredith  &lt;josh.meredith@iohk.io&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>GHC2021</td></tr></table><p class="caption">GHC.StgToJS.Rts.Rts</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Top level driver of the JavaScript Backend RTS. This file is an
 implementation of the JS RTS for the JS backend written as an EDSL in
 Haskell. It assumes the existence of pre-generated JS functions, included as
 js-sources in base. These functions are similarly assumed for non-inline
 Primops, See <code><a href="GHC-StgToJS.html#v:Prim" title="GHC.StgToJS">Prim</a></code>. Most of the elements in this module are
 constants in Haskell Land which define pieces of the JS RTS.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:rts">rts</a> :: <a href="GHC-StgToJS-Types.html#t:StgToJSConfig" title="GHC.StgToJS.Types">StgToJSConfig</a> -&gt; <a href="GHC-JS-JStg-Monad.html#t:JSM" title="GHC.JS.JStg.Monad">JSM</a> <a href="GHC-JS-JStg-Syntax.html#t:JStgStat" title="GHC.JS.JStg.Syntax">JStgStat</a></li><li class="src short"><a href="#v:assignRegs">assignRegs</a> :: <a href="GHC-StgToJS-Types.html#t:StgToJSConfig" title="GHC.StgToJS.Types">StgToJSConfig</a> -&gt; [<a href="GHC-JS-JStg-Syntax.html#t:JStgExpr" title="GHC.JS.JStg.Syntax">JStgExpr</a>] -&gt; <a href="GHC-JS-JStg-Syntax.html#t:JStgStat" title="GHC.JS.JStg.Syntax">JStgStat</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:rts" class="def">rts</a> :: <a href="GHC-StgToJS-Types.html#t:StgToJSConfig" title="GHC.StgToJS.Types">StgToJSConfig</a> -&gt; <a href="GHC-JS-JStg-Monad.html#t:JSM" title="GHC.JS.JStg.Monad">JSM</a> <a href="GHC-JS-JStg-Syntax.html#t:JStgStat" title="GHC.JS.JStg.Syntax">JStgStat</a> <a href="src/GHC.StgToJS.Rts.Rts.html#rts" class="link">Source</a> <a href="#v:rts" class="selflink">#</a></p><div class="doc"><p>Generated RTS code</p></div></div><div class="top"><p class="src"><a id="v:assignRegs" class="def">assignRegs</a> :: <a href="GHC-StgToJS-Types.html#t:StgToJSConfig" title="GHC.StgToJS.Types">StgToJSConfig</a> -&gt; [<a href="GHC-JS-JStg-Syntax.html#t:JStgExpr" title="GHC.JS.JStg.Syntax">JStgExpr</a>] -&gt; <a href="GHC-JS-JStg-Syntax.html#t:JStgStat" title="GHC.JS.JStg.Syntax">JStgStat</a> <a href="src/GHC.StgToJS.Rts.Rts.html#assignRegs" class="link">Source</a> <a href="#v:assignRegs" class="selflink">#</a></p><div class="doc"><p>Assign registers R1 ... Rn in descending order, that is assign Rn first.
 This function uses the <code><a href="GHC-StgToJS-Symbols.html#v:hdLoads" title="GHC.StgToJS.Symbols">hdLoads</a></code> array to construct functions which set
 the registers.</p><p>JS payload which defines an array of function symbols that set N registers
 from M parameters. For example, h$l4 compiles to:
 <code class="inline-code">
    function h$l4(x1, x2, x3, x4) {
      h$r4 = x1;
      h$r3 = x2;
      h$r2 = x3;
      h$r1 = x4;
    };
 </code></p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>