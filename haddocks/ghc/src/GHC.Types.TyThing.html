<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="annot"><span class="hs-comment">-- | A global typecheckable-thing, essentially anything that has a name.</span></span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html"><span class="hs-identifier">GHC.Types.TyThing</span></a></span><span>
</span><span id="line-5"></span><span>   </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier">TyThing</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-6"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#MonadThings"><span class="hs-identifier">MonadThings</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-7"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#mkATyCon"><span class="hs-identifier">mkATyCon</span></a></span><span>
</span><span id="line-8"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#mkAnId"><span class="hs-identifier">mkAnId</span></a></span><span>
</span><span id="line-9"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#pprShortTyThing"><span class="hs-identifier">pprShortTyThing</span></a></span><span>
</span><span id="line-10"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#pprTyThingCategory"><span class="hs-identifier">pprTyThingCategory</span></a></span><span>
</span><span id="line-11"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingCategory"><span class="hs-identifier">tyThingCategory</span></a></span><span>
</span><span id="line-12"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#implicitTyThings"><span class="hs-identifier">implicitTyThings</span></a></span><span>
</span><span id="line-13"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#implicitConLikeThings"><span class="hs-identifier">implicitConLikeThings</span></a></span><span>
</span><span id="line-14"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#implicitClassThings"><span class="hs-identifier">implicitClassThings</span></a></span><span>
</span><span id="line-15"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#implicitTyConThings"><span class="hs-identifier">implicitTyConThings</span></a></span><span>
</span><span id="line-16"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#implicitCoTyCon"><span class="hs-identifier">implicitCoTyCon</span></a></span><span>
</span><span id="line-17"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#isImplicitTyThing"><span class="hs-identifier">isImplicitTyThing</span></a></span><span>
</span><span id="line-18"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingParent_maybe"><span class="hs-identifier">tyThingParent_maybe</span></a></span><span>
</span><span id="line-19"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingsTyCoVars"><span class="hs-identifier">tyThingsTyCoVars</span></a></span><span>
</span><span id="line-20"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingLocalGREs"><span class="hs-identifier">tyThingLocalGREs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingGREInfo"><span class="hs-identifier">tyThingGREInfo</span></a></span><span>
</span><span id="line-21"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingTyCon"><span class="hs-identifier">tyThingTyCon</span></a></span><span>
</span><span id="line-22"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingCoAxiom"><span class="hs-identifier">tyThingCoAxiom</span></a></span><span>
</span><span id="line-23"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingDataCon"><span class="hs-identifier">tyThingDataCon</span></a></span><span>
</span><span id="line-24"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingConLike"><span class="hs-identifier">tyThingConLike</span></a></span><span>
</span><span id="line-25"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingId"><span class="hs-identifier">tyThingId</span></a></span><span>
</span><span id="line-26"></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">where</span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-30"></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.GREInfo.html"><span class="hs-identifier">GHC.Types.GREInfo</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html"><span class="hs-identifier">GHC.Types.Name.Reader</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.html"><span class="hs-identifier">GHC.Types.Var</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html"><span class="hs-identifier">GHC.Types.Var.Set</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Id.html"><span class="hs-identifier">GHC.Types.Id</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html"><span class="hs-identifier">GHC.Types.Id.Info</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Set.html"><span class="hs-identifier">GHC.Types.Unique.Set</span></a></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Class.html"><span class="hs-identifier">GHC.Core.Class</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html"><span class="hs-identifier">GHC.Core.DataCon</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.ConLike.html"><span class="hs-identifier">GHC.Core.ConLike</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.PatSyn.html"><span class="hs-identifier">GHC.Core.PatSyn</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.FVs.html"><span class="hs-identifier">GHC.Core.TyCo.FVs</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html"><span class="hs-identifier">GHC.Core.Coercion.Axiom</span></a></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">liftM</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Reader.html"><span class="hs-identifier">Control.Monad.Trans.Reader</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html"><span class="hs-identifier">Control.Monad.Trans.Class</span></a></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NE</span></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">intersect</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-comment">{-
Note [ATyCon for classes]
~~~~~~~~~~~~~~~~~~~~~~~~~
Both classes and type constructors are represented in the type environment
as ATyCon.  You can tell the difference, and get to the class, with
   isClassTyCon :: TyCon -&gt; Bool
   tyConClass_maybe :: TyCon -&gt; Maybe Class
The Class and its associated TyCon have the same Name.
-}</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-comment">-- | A global typecheckable-thing, essentially anything that has a name.</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- Not to be confused with a 'TcTyThing', which is also a typecheckable</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- thing but in the *local* context.  See &quot;GHC.Tc.Utils.Env&quot; for how to retrieve</span><span>
</span><span id="line-74"></span><span class="hs-comment">-- a 'TyThing' given a 'Name'.</span><span>
</span><span id="line-75"></span><span class="hs-keyword">data</span><span> </span><span id="TyThing"><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-var">TyThing</span></a></span></span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="AnId"><span class="annot"><a href="GHC.Types.TyThing.html#AnId"><span class="hs-identifier hs-var">AnId</span></a></span></span><span>     </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="AConLike"><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-var">AConLike</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.ConLike.html#ConLike"><span class="hs-identifier hs-type">ConLike</span></a></span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ATyCon"><span class="annot"><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-var">ATyCon</span></a></span></span><span>   </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span>       </span><span class="hs-comment">-- TyCons and classes; see Note [ATyCon for classes]</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ACoAxiom"><span class="annot"><a href="GHC.Types.TyThing.html#ACoAxiom"><span class="hs-identifier hs-var">ACoAxiom</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#CoAxiom"><span class="hs-identifier hs-type">CoAxiom</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#Branched"><span class="hs-identifier hs-type">Branched</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-82"></span><span>  </span><span id="local-6989586621682591712"><span class="annot"><span class="annottext">ppr :: TyThing -&gt; SDoc
</span><a href="#local-6989586621682591712"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; SDoc
</span><a href="GHC.Types.TyThing.html#pprShortTyThing"><span class="hs-identifier hs-var">pprShortTyThing</span></a></span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682591715"><span class="annot"><a href="GHC.Types.Name.html#NamedThing"><span class="hs-identifier hs-type">NamedThing</span></a></span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>       </span><span class="hs-comment">-- Can't put this with the type</span><span>
</span><span id="line-85"></span><span>  </span><span id="local-6989586621682591724"><span class="annot"><span class="annottext">getName :: TyThing -&gt; Name
</span><a href="#local-6989586621682591724"><span class="hs-identifier hs-var hs-var hs-var">getName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AnId"><span class="hs-identifier hs-type">AnId</span></a></span><span> </span><span id="local-6989586621682591726"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591726"><span class="hs-identifier hs-var">id</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591726"><span class="hs-identifier hs-var">id</span></a></span><span>    </span><span class="hs-comment">-- decl, because the DataCon instance</span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-type">ATyCon</span></a></span><span> </span><span id="local-6989586621682591727"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591727"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591727"><span class="hs-identifier hs-var">tc</span></a></span><span>    </span><span class="hs-comment">-- isn't visible there</span><span>
</span><span id="line-87"></span><span>  </span><span class="annot"><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ACoAxiom"><span class="hs-identifier hs-type">ACoAxiom</span></a></span><span> </span><span id="local-6989586621682591728"><span class="annot"><span class="annottext">CoAxiom Branched
</span><a href="#local-6989586621682591728"><span class="hs-identifier hs-var">cc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoAxiom Branched -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">CoAxiom Branched
</span><a href="#local-6989586621682591728"><span class="hs-identifier hs-var">cc</span></a></span><span>
</span><span id="line-88"></span><span>  </span><span class="annot"><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span id="local-6989586621682591729"><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591729"><span class="hs-identifier hs-var">cl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConLike -&gt; Name
</span><a href="GHC.Core.ConLike.html#conLikeName"><span class="hs-identifier hs-var">conLikeName</span></a></span><span> </span><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591729"><span class="hs-identifier hs-var">cl</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="annot"><a href="GHC.Types.TyThing.html#mkATyCon"><span class="hs-identifier hs-type">mkATyCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span>
</span><span id="line-91"></span><span id="mkATyCon"><span class="annot"><span class="annottext">mkATyCon :: TyCon -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#mkATyCon"><span class="hs-identifier hs-var hs-var">mkATyCon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-var">ATyCon</span></a></span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span class="annot"><a href="GHC.Types.TyThing.html#mkAnId"><span class="hs-identifier hs-type">mkAnId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span>
</span><span id="line-94"></span><span id="mkAnId"><span class="annot"><span class="annottext">mkAnId :: Id -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#mkAnId"><span class="hs-identifier hs-var hs-var">mkAnId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#AnId"><span class="hs-identifier hs-var">AnId</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="annot"><a href="GHC.Types.TyThing.html#pprShortTyThing"><span class="hs-identifier hs-type">pprShortTyThing</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-97"></span><span class="hs-comment">-- c.f. GHC.Types.TyThing.Ppr.pprTyThing, which prints all the details</span><span>
</span><span id="line-98"></span><span id="pprShortTyThing"><span class="annot"><span class="annottext">pprShortTyThing :: TyThing -&gt; SDoc
</span><a href="GHC.Types.TyThing.html#pprShortTyThing"><span class="hs-identifier hs-var hs-var">pprShortTyThing</span></a></span></span><span> </span><span id="local-6989586621682591731"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591731"><span class="hs-identifier hs-var">thing</span></a></span></span><span>
</span><span id="line-99"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; SDoc
</span><a href="GHC.Types.TyThing.html#pprTyThingCategory"><span class="hs-identifier hs-var">pprTyThingCategory</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591731"><span class="hs-identifier hs-var">thing</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyThing -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591731"><span class="hs-identifier hs-var">thing</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="annot"><a href="GHC.Types.TyThing.html#pprTyThingCategory"><span class="hs-identifier hs-type">pprTyThingCategory</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-102"></span><span id="pprTyThingCategory"><span class="annot"><span class="annottext">pprTyThingCategory :: TyThing -&gt; SDoc
</span><a href="GHC.Types.TyThing.html#pprTyThingCategory"><span class="hs-identifier hs-var hs-var">pprTyThingCategory</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SDoc) -&gt; (TyThing -&gt; String) -&gt; TyThing -&gt; SDoc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="GHC.Utils.Misc.html#capitalise"><span class="hs-identifier hs-var">capitalise</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; (TyThing -&gt; String) -&gt; TyThing -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; String
</span><a href="GHC.Types.TyThing.html#tyThingCategory"><span class="hs-identifier hs-var">tyThingCategory</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingCategory"><span class="hs-identifier hs-type">tyThingCategory</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-105"></span><span id="tyThingCategory"><span class="annot"><span class="annottext">tyThingCategory :: TyThing -&gt; String
</span><a href="GHC.Types.TyThing.html#tyThingCategory"><span class="hs-identifier hs-var hs-var">tyThingCategory</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-type">ATyCon</span></a></span><span> </span><span id="local-6989586621682591737"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591737"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isClassTyCon"><span class="hs-identifier hs-var">isClassTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591737"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;class&quot;</span></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;type constructor&quot;</span></span><span>
</span><span id="line-108"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingCategory"><span class="hs-identifier hs-var">tyThingCategory</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ACoAxiom"><span class="hs-identifier hs-type">ACoAxiom</span></a></span><span> </span><span class="annot"><span class="annottext">CoAxiom Branched
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;coercion axiom&quot;</span></span><span>
</span><span id="line-109"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingCategory"><span class="hs-identifier hs-var">tyThingCategory</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AnId"><span class="hs-identifier hs-type">AnId</span></a></span><span>   </span><span class="annot"><span class="annottext">Id
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;identifier&quot;</span></span><span>
</span><span id="line-110"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingCategory"><span class="hs-identifier hs-var">tyThingCategory</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-type">RealDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;data constructor&quot;</span></span><span>
</span><span id="line-111"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingCategory"><span class="hs-identifier hs-var">tyThingCategory</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.ConLike.html#PatSynCon"><span class="hs-identifier hs-type">PatSynCon</span></a></span><span> </span><span class="annot"><span class="annottext">PatSyn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;pattern synonym&quot;</span></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-comment">{-
Note [Implicit TyThings]
~~~~~~~~~~~~~~~~~~~~~~~~
  DEFINITION: An &quot;implicit&quot; TyThing is one that does not have its own
  IfaceDecl in an interface file.  Instead, its binding in the type
  environment is created as part of typechecking the IfaceDecl for
  some other thing.

Examples:
  * All DataCons are implicit, because they are generated from the
    IfaceDecl for the data/newtype.  Ditto class methods.

  * Record selectors are *not* implicit, because they get their own
    free-standing IfaceDecl.

  * Associated data/type families are implicit because they are
    included in the IfaceDecl of the parent class.  (NB: the
    IfaceClass decl happens to use IfaceDecl recursively for the
    associated types, but that's irrelevant here.)

  * Dictionary function Ids are not implicit.

  * Axioms for newtypes are implicit (same as above), but axioms
    for data/type family instances are *not* implicit (like DFunIds).
-}</span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-comment">-- | Determine the 'TyThing's brought into scope by another 'TyThing'</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- /other/ than itself. For example, Id's don't have any implicit TyThings</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- as they just bring themselves into scope, but classes bring their</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- dictionary datatype, type constructor and some selector functions into</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- scope, just for a start!</span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span class="hs-comment">-- N.B. the set of TyThings returned here *must* match the set of</span><span>
</span><span id="line-148"></span><span class="hs-comment">-- names returned by 'GHC.Iface.Load.ifaceDeclImplicitBndrs', in the sense that</span><span>
</span><span id="line-149"></span><span class="hs-comment">-- TyThing.getOccName should define a bijection between the two lists.</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- This invariant is used in 'GHC.IfaceToCore.tc_iface_decl_fingerprint' (see</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- Note [Tricky iface loop])</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- The order of the list does not matter.</span><span>
</span><span id="line-153"></span><span class="annot"><a href="GHC.Types.TyThing.html#implicitTyThings"><span class="hs-identifier hs-type">implicitTyThings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-154"></span><span id="implicitTyThings"><span class="annot"><span class="annottext">implicitTyThings :: TyThing -&gt; [TyThing]
</span><a href="GHC.Types.TyThing.html#implicitTyThings"><span class="hs-identifier hs-var hs-var">implicitTyThings</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AnId"><span class="hs-identifier hs-type">AnId</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-155"></span><span class="annot"><a href="GHC.Types.TyThing.html#implicitTyThings"><span class="hs-identifier hs-var">implicitTyThings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ACoAxiom"><span class="hs-identifier hs-type">ACoAxiom</span></a></span><span> </span><span id="local-6989586621682591741"><span class="annot"><span class="annottext">CoAxiom Branched
</span><a href="#local-6989586621682591741"><span class="hs-identifier hs-var">_cc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-156"></span><span class="annot"><a href="GHC.Types.TyThing.html#implicitTyThings"><span class="hs-identifier hs-var">implicitTyThings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-type">ATyCon</span></a></span><span> </span><span id="local-6989586621682591742"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591742"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [TyThing]
</span><a href="GHC.Types.TyThing.html#implicitTyConThings"><span class="hs-identifier hs-var">implicitTyConThings</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591742"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-157"></span><span class="annot"><a href="GHC.Types.TyThing.html#implicitTyThings"><span class="hs-identifier hs-var">implicitTyThings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span id="local-6989586621682591743"><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591743"><span class="hs-identifier hs-var">cl</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConLike -&gt; [TyThing]
</span><a href="GHC.Types.TyThing.html#implicitConLikeThings"><span class="hs-identifier hs-var">implicitConLikeThings</span></a></span><span> </span><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591743"><span class="hs-identifier hs-var">cl</span></a></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="annot"><a href="GHC.Types.TyThing.html#implicitConLikeThings"><span class="hs-identifier hs-type">implicitConLikeThings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.ConLike.html#ConLike"><span class="hs-identifier hs-type">ConLike</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-160"></span><span id="implicitConLikeThings"><span class="annot"><span class="annottext">implicitConLikeThings :: ConLike -&gt; [TyThing]
</span><a href="GHC.Types.TyThing.html#implicitConLikeThings"><span class="hs-identifier hs-var hs-var">implicitConLikeThings</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-type">RealDataCon</span></a></span><span> </span><span id="local-6989586621682591744"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591744"><span class="hs-identifier hs-var">dc</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [TyThing]
</span><a href="GHC.Core.DataCon.html#dataConImplicitTyThings"><span class="hs-identifier hs-var">dataConImplicitTyThings</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591744"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="annot"><a href="GHC.Types.TyThing.html#implicitConLikeThings"><span class="hs-identifier hs-var">implicitConLikeThings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.ConLike.html#PatSynCon"><span class="hs-identifier hs-type">PatSynCon</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- Pattern synonyms have no implicit Ids; the wrapper and matcher</span><span>
</span><span id="line-165"></span><span>        </span><span class="hs-comment">-- are not &quot;implicit&quot;; they are simply new top-level bindings,</span><span>
</span><span id="line-166"></span><span>        </span><span class="hs-comment">-- and they have their own declaration in an interface file</span><span>
</span><span id="line-167"></span><span>        </span><span class="hs-comment">-- Unless a record pat syn when there are implicit selectors</span><span>
</span><span id="line-168"></span><span>        </span><span class="hs-comment">-- They are still not included here as `implicitConLikeThings` is</span><span>
</span><span id="line-169"></span><span>        </span><span class="hs-comment">-- used by `tcTyClsDecls` whilst pattern synonyms are typed checked</span><span>
</span><span id="line-170"></span><span>        </span><span class="hs-comment">-- by `tcTopValBinds`.</span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="annot"><a href="GHC.Types.TyThing.html#implicitClassThings"><span class="hs-identifier hs-type">implicitClassThings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.Class.html#Class"><span class="hs-identifier hs-type">Class</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-173"></span><span id="implicitClassThings"><span class="annot"><span class="annottext">implicitClassThings :: Class -&gt; [TyThing]
</span><a href="GHC.Types.TyThing.html#implicitClassThings"><span class="hs-identifier hs-var hs-var">implicitClassThings</span></a></span></span><span> </span><span id="local-6989586621682591746"><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682591746"><span class="hs-identifier hs-var">cl</span></a></span></span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- Does not include default methods, because those Ids may have</span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-comment">--    their own pragmas, unfoldings etc, not derived from the Class object</span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span>    </span><span class="hs-comment">-- associated types</span><span>
</span><span id="line-178"></span><span>    </span><span class="hs-comment">--    No recursive call for the classATs, because they</span><span>
</span><span id="line-179"></span><span>    </span><span class="hs-comment">--    are only the family decls; they have no implicit things</span><span>
</span><span id="line-180"></span><span>    </span><span class="annot"><span class="annottext">(TyCon -&gt; TyThing) -&gt; [TyCon] -&gt; [TyThing]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-var">ATyCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Class -&gt; [TyCon]
</span><a href="GHC.Core.Class.html#classATs"><span class="hs-identifier hs-var">classATs</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682591746"><span class="hs-identifier hs-var">cl</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TyThing] -&gt; [TyThing] -&gt; [TyThing]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-comment">-- superclass and operation selectors</span><span>
</span><span id="line-183"></span><span>    </span><span class="annot"><span class="annottext">(Id -&gt; TyThing) -&gt; [Id] -&gt; [TyThing]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Id -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#AnId"><span class="hs-identifier hs-var">AnId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Class -&gt; [Id]
</span><a href="GHC.Core.Class.html#classAllSelIds"><span class="hs-identifier hs-var">classAllSelIds</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682591746"><span class="hs-identifier hs-var">cl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="annot"><a href="GHC.Types.TyThing.html#implicitTyConThings"><span class="hs-identifier hs-type">implicitTyConThings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-186"></span><span id="implicitTyConThings"><span class="annot"><span class="annottext">implicitTyConThings :: TyCon -&gt; [TyThing]
</span><a href="GHC.Types.TyThing.html#implicitTyConThings"><span class="hs-identifier hs-var hs-var">implicitTyConThings</span></a></span></span><span> </span><span id="local-6989586621682591749"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591749"><span class="hs-identifier hs-var">tc</span></a></span></span><span>
</span><span id="line-187"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TyThing]
</span><a href="#local-6989586621682591750"><span class="hs-identifier hs-var">class_stuff</span></a></span><span> </span><span class="annot"><span class="annottext">[TyThing] -&gt; [TyThing] -&gt; [TyThing]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-188"></span><span>      </span><span class="hs-comment">-- fields (names of selectors)</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span>      </span><span class="hs-comment">-- (possibly) implicit newtype axioms</span><span>
</span><span id="line-191"></span><span>      </span><span class="hs-comment">-- or type family axioms</span><span>
</span><span id="line-192"></span><span>    </span><span class="annot"><span class="annottext">TyCon -&gt; [TyThing]
</span><a href="GHC.Types.TyThing.html#implicitCoTyCon"><span class="hs-identifier hs-var">implicitCoTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591749"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">[TyThing] -&gt; [TyThing] -&gt; [TyThing]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span>      </span><span class="hs-comment">-- for each data constructor in order,</span><span>
</span><span id="line-195"></span><span>      </span><span class="hs-comment">--   the constructor and associated implicit 'Id's</span><span>
</span><span id="line-196"></span><span>    </span><span class="annot"><span class="annottext">[TyThing]
</span><a href="#local-6989586621682591751"><span class="hs-identifier hs-var">datacon_stuff</span></a></span><span>
</span><span id="line-197"></span><span>      </span><span class="hs-comment">-- NB. record selectors are *not* implicit, they have fully-fledged</span><span>
</span><span id="line-198"></span><span>      </span><span class="hs-comment">-- bindings that pass through the compilation pipeline as normal.</span><span>
</span><span id="line-199"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-200"></span><span>    </span><span id="local-6989586621682591750"><span class="annot"><span class="annottext">class_stuff :: [TyThing]
</span><a href="#local-6989586621682591750"><span class="hs-identifier hs-var hs-var">class_stuff</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe Class
</span><a href="GHC.Core.TyCon.html#tyConClass_maybe"><span class="hs-identifier hs-var">tyConClass_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591749"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-201"></span><span>        </span><span class="annot"><span class="annottext">Maybe Class
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-202"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682591753"><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682591753"><span class="hs-identifier hs-var">cl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Class -&gt; [TyThing]
</span><a href="GHC.Types.TyThing.html#implicitClassThings"><span class="hs-identifier hs-var">implicitClassThings</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682591753"><span class="hs-identifier hs-var">cl</span></a></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-comment">-- For each data constructor in order,</span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-comment">--   the constructor, worker, and (possibly) wrapper</span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-207"></span><span>    </span><span class="hs-comment">-- If the data constructor is in a &quot;type data&quot; declaration,</span><span>
</span><span id="line-208"></span><span>    </span><span class="hs-comment">-- promote it to the type level now.</span><span>
</span><span id="line-209"></span><span>    </span><span class="hs-comment">-- See Note [Type data declarations] in GHC.Rename.Module.</span><span>
</span><span id="line-210"></span><span>    </span><span class="annot"><a href="#local-6989586621682591751"><span class="hs-identifier hs-type">datacon_stuff</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-211"></span><span>    </span><span id="local-6989586621682591751"><span class="annot"><span class="annottext">datacon_stuff :: [TyThing]
</span><a href="#local-6989586621682591751"><span class="hs-identifier hs-var hs-var">datacon_stuff</span></a></span></span><span>
</span><span id="line-212"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isTypeDataTyCon"><span class="hs-identifier hs-var">isTypeDataTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591749"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TyCon -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-var">ATyCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; TyCon
</span><a href="GHC.Core.DataCon.html#promoteDataCon"><span class="hs-identifier hs-var">promoteDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591756"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682591756"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591756"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621682591757"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-213"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-214"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591758"><span class="hs-identifier hs-var">ty_thing</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682591759"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591759"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621682591757"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-215"></span><span>                    </span><span id="local-6989586621682591758"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591758"><span class="hs-identifier hs-var">ty_thing</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ConLike -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-var">AConLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; ConLike
</span><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-var">RealDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591759"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; [TyThing] -&gt; [TyThing]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span>
</span><span id="line-216"></span><span>                                </span><span class="annot"><span class="annottext">DataCon -&gt; [TyThing]
</span><a href="GHC.Core.DataCon.html#dataConImplicitTyThings"><span class="hs-identifier hs-var">dataConImplicitTyThings</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591759"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span>    </span><span class="annot"><a href="#local-6989586621682591757"><span class="hs-identifier hs-type">cons</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-219"></span><span>    </span><span id="local-6989586621682591757"><span class="annot"><span class="annottext">cons :: [DataCon]
</span><a href="#local-6989586621682591757"><span class="hs-identifier hs-var hs-var">cons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [DataCon]
</span><a href="GHC.Core.TyCon.html#tyConDataCons"><span class="hs-identifier hs-var">tyConDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591749"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="hs-comment">-- For newtypes and closed type families (only) add the implicit coercion tycon</span><span>
</span><span id="line-222"></span><span class="annot"><a href="GHC.Types.TyThing.html#implicitCoTyCon"><span class="hs-identifier hs-type">implicitCoTyCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-223"></span><span id="implicitCoTyCon"><span class="annot"><span class="annottext">implicitCoTyCon :: TyCon -&gt; [TyThing]
</span><a href="GHC.Types.TyThing.html#implicitCoTyCon"><span class="hs-identifier hs-var hs-var">implicitCoTyCon</span></a></span></span><span> </span><span id="local-6989586621682591761"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591761"><span class="hs-identifier hs-var">tc</span></a></span></span><span>
</span><span id="line-224"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682591762"><span class="annot"><span class="annottext">CoAxiom Unbranched
</span><a href="#local-6989586621682591762"><span class="hs-identifier hs-var">co</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe (CoAxiom Unbranched)
</span><a href="GHC.Core.TyCon.html#newTyConCo_maybe"><span class="hs-identifier hs-var">newTyConCo_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591761"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoAxiom Branched -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#ACoAxiom"><span class="hs-identifier hs-var">ACoAxiom</span></a></span><span> </span><span class="annot"><span class="annottext">(CoAxiom Branched -&gt; TyThing) -&gt; CoAxiom Branched -&gt; TyThing
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CoAxiom Unbranched -&gt; CoAxiom Branched
forall (br :: BranchFlag). CoAxiom br -&gt; CoAxiom Branched
</span><a href="GHC.Core.Coercion.Axiom.html#toBranchedAxiom"><span class="hs-identifier hs-var">toBranchedAxiom</span></a></span><span> </span><span class="annot"><span class="annottext">CoAxiom Unbranched
</span><a href="#local-6989586621682591762"><span class="hs-identifier hs-var">co</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682591765"><span class="annot"><span class="annottext">CoAxiom Branched
</span><a href="#local-6989586621682591765"><span class="hs-identifier hs-var">co</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe (CoAxiom Branched)
</span><a href="GHC.Core.TyCon.html#isClosedSynFamilyTyConWithAxiom_maybe"><span class="hs-identifier hs-var">isClosedSynFamilyTyConWithAxiom_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591761"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-226"></span><span>                                   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoAxiom Branched -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#ACoAxiom"><span class="hs-identifier hs-var">ACoAxiom</span></a></span><span> </span><span class="annot"><span class="annottext">CoAxiom Branched
</span><a href="#local-6989586621682591765"><span class="hs-identifier hs-var">co</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-227"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-comment">-- | Returns @True@ if there should be no interface-file declaration</span><span>
</span><span id="line-230"></span><span class="hs-comment">-- for this thing on its own: either it is built-in, or it is part</span><span>
</span><span id="line-231"></span><span class="hs-comment">-- of some other declaration, or it is generated implicitly by some</span><span>
</span><span id="line-232"></span><span class="hs-comment">-- other declaration.</span><span>
</span><span id="line-233"></span><span class="annot"><a href="GHC.Types.TyThing.html#isImplicitTyThing"><span class="hs-identifier hs-type">isImplicitTyThing</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-234"></span><span id="isImplicitTyThing"><span class="annot"><span class="annottext">isImplicitTyThing :: TyThing -&gt; Bool
</span><a href="GHC.Types.TyThing.html#isImplicitTyThing"><span class="hs-identifier hs-var hs-var">isImplicitTyThing</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span id="local-6989586621682591767"><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591767"><span class="hs-identifier hs-var">cl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591767"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-235"></span><span>                                    </span><span class="annot"><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-type">RealDataCon</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-236"></span><span>                                    </span><span class="annot"><a href="GHC.Core.ConLike.html#PatSynCon"><span class="hs-identifier hs-type">PatSynCon</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-237"></span><span class="annot"><a href="GHC.Types.TyThing.html#isImplicitTyThing"><span class="hs-identifier hs-var">isImplicitTyThing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AnId"><span class="hs-identifier hs-type">AnId</span></a></span><span> </span><span id="local-6989586621682591768"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591768"><span class="hs-identifier hs-var">id</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; Bool
</span><a href="GHC.Types.Id.html#isImplicitId"><span class="hs-identifier hs-var">isImplicitId</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591768"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-238"></span><span class="annot"><a href="GHC.Types.TyThing.html#isImplicitTyThing"><span class="hs-identifier hs-var">isImplicitTyThing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-type">ATyCon</span></a></span><span> </span><span id="local-6989586621682591770"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591770"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isImplicitTyCon"><span class="hs-identifier hs-var">isImplicitTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591770"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-239"></span><span class="annot"><a href="GHC.Types.TyThing.html#isImplicitTyThing"><span class="hs-identifier hs-var">isImplicitTyThing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ACoAxiom"><span class="hs-identifier hs-type">ACoAxiom</span></a></span><span> </span><span id="local-6989586621682591772"><span class="annot"><span class="annottext">CoAxiom Branched
</span><a href="#local-6989586621682591772"><span class="hs-identifier hs-var">ax</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoAxiom Branched -&gt; Bool
forall (br :: BranchFlag). CoAxiom br -&gt; Bool
</span><a href="GHC.Core.Coercion.Axiom.html#isImplicitCoAxiom"><span class="hs-identifier hs-var">isImplicitCoAxiom</span></a></span><span> </span><span class="annot"><span class="annottext">CoAxiom Branched
</span><a href="#local-6989586621682591772"><span class="hs-identifier hs-var">ax</span></a></span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="hs-comment">-- | tyThingParent_maybe x returns (Just p)</span><span>
</span><span id="line-242"></span><span class="hs-comment">-- when pprTyThingInContext should print a declaration for p</span><span>
</span><span id="line-243"></span><span class="hs-comment">-- (albeit with some &quot;...&quot; in it) when asked to show x</span><span>
</span><span id="line-244"></span><span class="hs-comment">-- It returns the *immediate* parent.  So a datacon returns its tycon</span><span>
</span><span id="line-245"></span><span class="hs-comment">-- but the tycon could be the associated type of a class, so it in turn</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- might have a parent.</span><span>
</span><span id="line-247"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingParent_maybe"><span class="hs-identifier hs-type">tyThingParent_maybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span>
</span><span id="line-248"></span><span id="tyThingParent_maybe"><span class="annot"><span class="annottext">tyThingParent_maybe :: TyThing -&gt; Maybe TyThing
</span><a href="GHC.Types.TyThing.html#tyThingParent_maybe"><span class="hs-identifier hs-var hs-var">tyThingParent_maybe</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span id="local-6989586621682591774"><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591774"><span class="hs-identifier hs-var">cl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591774"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-249"></span><span>    </span><span class="annot"><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-type">RealDataCon</span></a></span><span> </span><span id="local-6989586621682591775"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591775"><span class="hs-identifier hs-var">dc</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; Maybe TyThing
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-var">ATyCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; TyCon
</span><a href="GHC.Core.DataCon.html#dataConTyCon"><span class="hs-identifier hs-var">dataConTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591775"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><a href="GHC.Core.ConLike.html#PatSynCon"><span class="hs-identifier hs-type">PatSynCon</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe TyThing
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-251"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingParent_maybe"><span class="hs-identifier hs-var">tyThingParent_maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-type">ATyCon</span></a></span><span> </span><span id="local-6989586621682591777"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591777"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- Special case for `type data` data constructors.  They appear as an</span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-comment">-- ATyCon (not ADataCon) but we want to display them here as if they were</span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-comment">-- a DataCon (i.e. with the parent declaration) (#22817).</span><span>
</span><span id="line-255"></span><span>    </span><span class="hs-comment">-- See Note [Type data declarations] in GHC.Rename.Module.</span><span>
</span><span id="line-256"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682591778"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591778"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe DataCon
</span><a href="GHC.Core.TyCon.html#isPromotedDataCon_maybe"><span class="hs-identifier hs-var">isPromotedDataCon_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591777"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-257"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682591780"><span class="annot"><span class="annottext">parent_tc :: TyCon
</span><a href="#local-6989586621682591780"><span class="hs-identifier hs-var hs-var">parent_tc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; TyCon
</span><a href="GHC.Core.DataCon.html#dataConTyCon"><span class="hs-identifier hs-var">dataConTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591778"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-258"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isTypeDataTyCon"><span class="hs-identifier hs-var">isTypeDataTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591780"><span class="hs-identifier hs-var">parent_tc</span></a></span><span>
</span><span id="line-259"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; Maybe TyThing
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-var">ATyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591780"><span class="hs-identifier hs-var">parent_tc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682591781"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591781"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe TyCon
</span><a href="GHC.Core.TyCon.html#tyConAssoc_maybe"><span class="hs-identifier hs-var">tyConAssoc_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591777"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-261"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; Maybe TyThing
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-var">ATyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591781"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TyThing
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-264"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingParent_maybe"><span class="hs-identifier hs-var">tyThingParent_maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AnId"><span class="hs-identifier hs-type">AnId</span></a></span><span> </span><span id="local-6989586621682591783"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591783"><span class="hs-identifier hs-var">id</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Id -&gt; IdDetails
</span><a href="GHC.Types.Var.html#idDetails"><span class="hs-identifier hs-var">idDetails</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591783"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-265"></span><span>                                      </span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelId"><span class="hs-identifier hs-type">RecSelId</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sel_tycon :: IdDetails -&gt; RecSelParent
</span><a href="GHC.Types.Id.Info.html#sel_tycon"><span class="hs-identifier hs-var">sel_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelData"><span class="hs-identifier hs-type">RecSelData</span></a></span><span> </span><span id="local-6989586621682591788"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591788"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-266"></span><span>                                          </span><span class="annot"><span class="annottext">TyThing -&gt; Maybe TyThing
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-var">ATyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591788"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>                                      </span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelId"><span class="hs-identifier hs-type">RecSelId</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sel_tycon :: IdDetails -&gt; RecSelParent
</span><a href="GHC.Types.Id.Info.html#sel_tycon"><span class="hs-identifier hs-var">sel_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelPatSyn"><span class="hs-identifier hs-type">RecSelPatSyn</span></a></span><span> </span><span id="local-6989586621682591790"><span class="annot"><span class="annottext">PatSyn
</span><a href="#local-6989586621682591790"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-268"></span><span>                                          </span><span class="annot"><span class="annottext">TyThing -&gt; Maybe TyThing
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConLike -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-var">AConLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PatSyn -&gt; ConLike
</span><a href="GHC.Core.ConLike.html#PatSynCon"><span class="hs-identifier hs-var">PatSynCon</span></a></span><span> </span><span class="annot"><span class="annottext">PatSyn
</span><a href="#local-6989586621682591790"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>                                      </span><span class="annot"><a href="GHC.Types.Id.Info.html#ClassOpId"><span class="hs-identifier hs-type">ClassOpId</span></a></span><span> </span><span id="local-6989586621682591792"><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682591792"><span class="hs-identifier hs-var">cls</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-270"></span><span>                                          </span><span class="annot"><span class="annottext">TyThing -&gt; Maybe TyThing
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; TyThing
</span><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-var">ATyCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Class -&gt; TyCon
</span><a href="GHC.Core.Class.html#classTyCon"><span class="hs-identifier hs-var">classTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682591792"><span class="hs-identifier hs-var">cls</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>                                      </span><span id="local-6989586621682591794"><span class="annot"><span class="annottext">IdDetails
</span><a href="#local-6989586621682591794"><span class="hs-identifier hs-var">_other</span></a></span></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe TyThing
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-272"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingParent_maybe"><span class="hs-identifier hs-var">tyThingParent_maybe</span></a></span><span> </span><span id="local-6989586621682591795"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591795"><span class="hs-identifier hs-var">_other</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TyThing
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingsTyCoVars"><span class="hs-identifier hs-type">tyThingsTyCoVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html#TyCoVarSet"><span class="hs-identifier hs-type">TyCoVarSet</span></a></span><span>
</span><span id="line-275"></span><span id="tyThingsTyCoVars"><span class="annot"><span class="annottext">tyThingsTyCoVars :: [TyThing] -&gt; TyCoVarSet
</span><a href="GHC.Types.TyThing.html#tyThingsTyCoVars"><span class="hs-identifier hs-var hs-var">tyThingsTyCoVars</span></a></span></span><span> </span><span id="local-6989586621682591796"><span class="annot"><span class="annottext">[TyThing]
</span><a href="#local-6989586621682591796"><span class="hs-identifier hs-var">tts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-276"></span><span>    </span><span class="annot"><span class="annottext">[TyCoVarSet] -&gt; TyCoVarSet
</span><a href="GHC.Types.Var.Set.html#unionVarSets"><span class="hs-identifier hs-var">unionVarSets</span></a></span><span> </span><span class="annot"><span class="annottext">([TyCoVarSet] -&gt; TyCoVarSet) -&gt; [TyCoVarSet] -&gt; TyCoVarSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(TyThing -&gt; TyCoVarSet) -&gt; [TyThing] -&gt; [TyCoVarSet]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; TyCoVarSet
</span><a href="#local-6989586621682591798"><span class="hs-identifier hs-var">ttToVarSet</span></a></span><span> </span><span class="annot"><span class="annottext">[TyThing]
</span><a href="#local-6989586621682591796"><span class="hs-identifier hs-var">tts</span></a></span><span>
</span><span id="line-277"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-278"></span><span>        </span><span id="local-6989586621682591798"><span class="annot"><span class="annottext">ttToVarSet :: TyThing -&gt; TyCoVarSet
</span><a href="#local-6989586621682591798"><span class="hs-identifier hs-var hs-var">ttToVarSet</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AnId"><span class="hs-identifier hs-type">AnId</span></a></span><span> </span><span id="local-6989586621682591799"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591799"><span class="hs-identifier hs-var">id</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TyCoVarSet
</span><a href="GHC.Core.TyCo.FVs.html#tyCoVarsOfType"><span class="hs-identifier hs-var">tyCoVarsOfType</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; TyCoVarSet) -&gt; Type -&gt; TyCoVarSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Id -&gt; Type
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591799"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-279"></span><span>        </span><span class="annot"><a href="#local-6989586621682591798"><span class="hs-identifier hs-var">ttToVarSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span id="local-6989586621682591802"><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591802"><span class="hs-identifier hs-var">cl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591802"><span class="hs-identifier hs-var">cl</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-280"></span><span>            </span><span class="annot"><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-type">RealDataCon</span></a></span><span> </span><span id="local-6989586621682591803"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591803"><span class="hs-identifier hs-var">dc</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TyCoVarSet
</span><a href="GHC.Core.TyCo.FVs.html#tyCoVarsOfType"><span class="hs-identifier hs-var">tyCoVarsOfType</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; TyCoVarSet) -&gt; Type -&gt; TyCoVarSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Type
</span><a href="GHC.Core.DataCon.html#dataConRepType"><span class="hs-identifier hs-var">dataConRepType</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591803"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-281"></span><span>            </span><span class="annot"><a href="GHC.Core.ConLike.html#PatSynCon"><span class="hs-identifier hs-type">PatSynCon</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyCoVarSet
</span><a href="GHC.Types.Var.Set.html#emptyVarSet"><span class="hs-identifier hs-var">emptyVarSet</span></a></span><span>
</span><span id="line-282"></span><span>        </span><span class="annot"><a href="#local-6989586621682591798"><span class="hs-identifier hs-var">ttToVarSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-type">ATyCon</span></a></span><span> </span><span id="local-6989586621682591806"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591806"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe Class
</span><a href="GHC.Core.TyCon.html#tyConClass_maybe"><span class="hs-identifier hs-var">tyConClass_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591806"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-284"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682591807"><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682591807"><span class="hs-identifier hs-var">cls</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id] -&gt; TyCoVarSet
</span><a href="GHC.Types.Var.Set.html#mkVarSet"><span class="hs-identifier hs-var">mkVarSet</span></a></span><span> </span><span class="annot"><span class="annottext">([Id] -&gt; TyCoVarSet) -&gt; (Class -&gt; [Id]) -&gt; Class -&gt; TyCoVarSet
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">([Id], [FunDep Id]) -&gt; [Id]
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">(([Id], [FunDep Id]) -&gt; [Id])
-&gt; (Class -&gt; ([Id], [FunDep Id])) -&gt; Class -&gt; [Id]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Class -&gt; ([Id], [FunDep Id])
</span><a href="GHC.Core.Class.html#classTvsFds"><span class="hs-identifier hs-var">classTvsFds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682591807"><span class="hs-identifier hs-var">cls</span></a></span><span>
</span><span id="line-285"></span><span>              </span><span class="annot"><span class="annottext">Maybe Class
</span><span class="hs-identifier hs-var">Nothing</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TyCoVarSet
</span><a href="GHC.Core.TyCo.FVs.html#tyCoVarsOfType"><span class="hs-identifier hs-var">tyCoVarsOfType</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; TyCoVarSet) -&gt; Type -&gt; TyCoVarSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Type
</span><a href="GHC.Core.TyCon.html#tyConKind"><span class="hs-identifier hs-var">tyConKind</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591806"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-286"></span><span>        </span><span class="annot"><a href="#local-6989586621682591798"><span class="hs-identifier hs-var">ttToVarSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ACoAxiom"><span class="hs-identifier hs-type">ACoAxiom</span></a></span><span> </span><span class="annot"><span class="annottext">CoAxiom Branched
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCoVarSet
</span><a href="GHC.Types.Var.Set.html#emptyVarSet"><span class="hs-identifier hs-var">emptyVarSet</span></a></span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span class="hs-comment">-- | The 'GlobalRdrElt's that a 'TyThing' should bring into scope.</span><span>
</span><span id="line-289"></span><span class="hs-comment">-- Used to build the 'GlobalRdrEnv' for the InteractiveContext.</span><span>
</span><span id="line-290"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingLocalGREs"><span class="hs-identifier hs-type">tyThingLocalGREs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-291"></span><span id="tyThingLocalGREs"><span class="annot"><span class="annottext">tyThingLocalGREs :: TyThing -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.TyThing.html#tyThingLocalGREs"><span class="hs-identifier hs-var hs-var">tyThingLocalGREs</span></a></span></span><span> </span><span id="local-6989586621682591813"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591813"><span class="hs-identifier hs-var">ty_thing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591813"><span class="hs-identifier hs-var">ty_thing</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-293"></span><span>    </span><span class="annot"><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-type">ATyCon</span></a></span><span> </span><span id="local-6989586621682591814"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591814"><span class="hs-identifier hs-var">t</span></a></span></span><span>
</span><span id="line-294"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682591815"><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682591815"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe Class
</span><a href="GHC.Core.TyCon.html#tyConClass_maybe"><span class="hs-identifier hs-var">tyConClass_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591814"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-295"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Parent -&gt; GlobalRdrElt
</span><a href="#local-6989586621682591816"><span class="hs-identifier hs-var">myself</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="GHC.Types.Name.Reader.html#NoParent"><span class="hs-identifier hs-var">NoParent</span></a></span><span>
</span><span id="line-296"></span><span>       </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="hs-special">(</span><span>  </span><span class="annot"><span class="annottext">(Id -&gt; GlobalRdrElt) -&gt; [Id] -&gt; [GlobalRdrElt]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parent -&gt; Name -&gt; GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#mkLocalVanillaGRE"><span class="hs-identifier hs-var">mkLocalVanillaGRE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#ParentIs"><span class="hs-identifier hs-var">ParentIs</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Parent) -&gt; Name -&gt; Parent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Class -&gt; Name
</span><a href="GHC.Core.Class.html#className"><span class="hs-identifier hs-var">className</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682591815"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; GlobalRdrElt) -&gt; (Id -&gt; Name) -&gt; Id -&gt; GlobalRdrElt
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Id -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Class -&gt; [Id]
</span><a href="GHC.Core.Class.html#classMethods"><span class="hs-identifier hs-var">classMethods</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682591815"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>         </span><span class="annot"><span class="annottext">[GlobalRdrElt] -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(TyCon -&gt; GlobalRdrElt) -&gt; [TyCon] -&gt; [GlobalRdrElt]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; GlobalRdrElt
</span><a href="#local-6989586621682591822"><span class="hs-identifier hs-var">tc_GRE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Class -&gt; [TyCon]
</span><a href="GHC.Core.Class.html#classATs"><span class="hs-identifier hs-var">classATs</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621682591815"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-298"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-299"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682591823"><span class="annot"><span class="annottext">dcs :: [DataCon]
</span><a href="#local-6989586621682591823"><span class="hs-identifier hs-var hs-var">dcs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [DataCon]
</span><a href="GHC.Core.TyCon.html#tyConDataCons"><span class="hs-identifier hs-var">tyConDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591814"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-300"></span><span>             </span><span id="local-6989586621682591824"><span class="annot"><span class="annottext">par :: Parent
</span><a href="#local-6989586621682591824"><span class="hs-identifier hs-var hs-var">par</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#ParentIs"><span class="hs-identifier hs-var">ParentIs</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Parent) -&gt; Name -&gt; Parent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Name
</span><a href="GHC.Core.TyCon.html#tyConName"><span class="hs-identifier hs-var">tyConName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591814"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-301"></span><span>             </span><span id="local-6989586621682591826"><span class="annot"><span class="annottext">mk_nm :: DataCon -&gt; ConLikeName
</span><a href="#local-6989586621682591826"><span class="hs-identifier hs-var hs-var">mk_nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ConLikeName
</span><a href="GHC.Types.GREInfo.html#DataConName"><span class="hs-identifier hs-var">DataConName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; ConLikeName)
-&gt; (DataCon -&gt; Name) -&gt; DataCon -&gt; ConLikeName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Name
</span><a href="GHC.Core.DataCon.html#dataConName"><span class="hs-identifier hs-var">dataConName</span></a></span><span>
</span><span id="line-302"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Parent -&gt; GlobalRdrElt
</span><a href="#local-6989586621682591816"><span class="hs-identifier hs-var">myself</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="GHC.Types.Name.Reader.html#NoParent"><span class="hs-identifier hs-var">NoParent</span></a></span><span>
</span><span id="line-303"></span><span>          </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; GlobalRdrElt) -&gt; [DataCon] -&gt; [GlobalRdrElt]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parent -&gt; DataCon -&gt; GlobalRdrElt
</span><a href="#local-6989586621682591829"><span class="hs-identifier hs-var">dc_GRE</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621682591824"><span class="hs-identifier hs-var">par</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621682591823"><span class="hs-identifier hs-var">dcs</span></a></span><span>
</span><span id="line-304"></span><span>            </span><span class="annot"><span class="annottext">[GlobalRdrElt] -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-305"></span><span>            </span><span class="annot"><span class="annottext">Parent -&gt; [(ConLikeName, ConInfo)] -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#mkLocalFieldGREs"><span class="hs-identifier hs-var">mkLocalFieldGREs</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621682591824"><span class="hs-identifier hs-var">par</span></a></span><span>
</span><span id="line-306"></span><span>               </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; ConLikeName
</span><a href="#local-6989586621682591826"><span class="hs-identifier hs-var">mk_nm</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591831"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ConInfo
</span><a href="#local-6989586621682591832"><span class="hs-identifier hs-var">con_info</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682591831"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591831"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[DataCon]
</span><a href="#local-6989586621682591823"><span class="hs-identifier hs-var">dcs</span></a></span><span>
</span><span id="line-308"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682591832"><span class="annot"><span class="annottext">con_info :: ConInfo
</span><a href="#local-6989586621682591832"><span class="hs-identifier hs-var hs-var">con_info</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConLike -&gt; ConInfo
</span><a href="GHC.Core.ConLike.html#conLikeConInfo"><span class="hs-identifier hs-var">conLikeConInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; ConLike
</span><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-var">RealDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591831"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-309"></span><span>    </span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span id="local-6989586621682591834"><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591834"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-310"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682591835"><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621682591835"><span class="hs-identifier hs-var">par</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682591836"><span class="annot"><span class="annottext">[(ConLikeName, ConInfo)]
</span><a href="#local-6989586621682591836"><span class="hs-identifier hs-var">cons_flds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591834"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-311"></span><span>            </span><span class="annot"><a href="GHC.Core.ConLike.html#PatSynCon"><span class="hs-identifier hs-type">PatSynCon</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-312"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parent
</span><a href="GHC.Types.Name.Reader.html#NoParent"><span class="hs-identifier hs-var">NoParent</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConLike -&gt; ConLikeName
</span><a href="GHC.Core.ConLike.html#conLikeConLikeName"><span class="hs-identifier hs-var">conLikeConLikeName</span></a></span><span> </span><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591834"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ConLike -&gt; ConInfo
</span><a href="GHC.Core.ConLike.html#conLikeConInfo"><span class="hs-identifier hs-var">conLikeConInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591834"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>              </span><span class="hs-comment">-- NB: NoParent for local pattern synonyms, as per</span><span>
</span><span id="line-314"></span><span>              </span><span class="hs-comment">-- Note [Parents] in GHC.Types.Name.Reader.</span><span>
</span><span id="line-315"></span><span>            </span><span class="annot"><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-type">RealDataCon</span></a></span><span> </span><span id="local-6989586621682591838"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591838"><span class="hs-identifier hs-var">dc1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-316"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#ParentIs"><span class="hs-identifier hs-var">ParentIs</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Parent) -&gt; Name -&gt; Parent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Name
</span><a href="GHC.Core.TyCon.html#tyConName"><span class="hs-identifier hs-var">tyConName</span></a></span><span> </span><span class="annot"><span class="annottext">(TyCon -&gt; Name) -&gt; TyCon -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; TyCon
</span><a href="GHC.Core.DataCon.html#dataConTyCon"><span class="hs-identifier hs-var">dataConTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591838"><span class="hs-identifier hs-var">dc1</span></a></span><span>
</span><span id="line-317"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ConLikeName
</span><a href="GHC.Types.GREInfo.html#DataConName"><span class="hs-identifier hs-var">DataConName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; ConLikeName) -&gt; Name -&gt; ConLikeName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Name
</span><a href="GHC.Core.DataCon.html#dataConName"><span class="hs-identifier hs-var">dataConName</span></a></span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; Name) -&gt; DataCon -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591839"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ConLikeInfo -&gt; ConFieldInfo -&gt; ConInfo
</span><a href="GHC.Types.GREInfo.html#ConInfo"><span class="hs-identifier hs-var">ConInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ConLikeInfo
</span><a href="#local-6989586621682591841"><span class="hs-identifier hs-var">conInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NonEmpty FieldLabel -&gt; ConFieldInfo
</span><a href="GHC.Types.GREInfo.html#ConHasRecordFields"><span class="hs-identifier hs-var">ConHasRecordFields</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldLabel
</span><a href="#local-6989586621682591843"><span class="hs-identifier hs-var">fld</span></a></span><span> </span><span class="annot"><span class="annottext">FieldLabel -&gt; [FieldLabel] -&gt; NonEmpty FieldLabel
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><span class="hs-operator hs-var">:|</span></span><span> </span><span class="annot"><span class="annottext">[FieldLabel]
</span><a href="#local-6989586621682591845"><span class="hs-identifier hs-var">flds</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682591839"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591839"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [DataCon]
</span><a href="GHC.Core.TyCon.html#tyConDataCons"><span class="hs-identifier hs-var">tyConDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">(TyCon -&gt; [DataCon]) -&gt; TyCon -&gt; [DataCon]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; TyCon
</span><a href="GHC.Core.DataCon.html#dataConTyCon"><span class="hs-identifier hs-var">dataConTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591838"><span class="hs-identifier hs-var">dc1</span></a></span><span>
</span><span id="line-319"></span><span>                </span><span class="hs-comment">-- Go through all the data constructors of the parent TyCon,</span><span>
</span><span id="line-320"></span><span>                </span><span class="hs-comment">-- to ensure that all the record fields have the correct set</span><span>
</span><span id="line-321"></span><span>                </span><span class="hs-comment">-- of parent data constructors. See #23546.</span><span>
</span><span id="line-322"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682591846"><span class="annot"><span class="annottext">con_info :: ConInfo
</span><a href="#local-6989586621682591846"><span class="hs-identifier hs-var hs-var">con_info</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConLike -&gt; ConInfo
</span><a href="GHC.Core.ConLike.html#conLikeConInfo"><span class="hs-identifier hs-var">conLikeConInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; ConLike
</span><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-var">RealDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591839"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-323"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.GREInfo.html#ConInfo"><span class="hs-identifier hs-type">ConInfo</span></a></span><span> </span><span id="local-6989586621682591841"><span class="annot"><span class="annottext">ConLikeInfo
</span><a href="#local-6989586621682591841"><span class="hs-identifier hs-var">conInfo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.GREInfo.html#ConHasRecordFields"><span class="hs-identifier hs-type">ConHasRecordFields</span></a></span><span> </span><span id="local-6989586621682591847"><span class="annot"><span class="annottext">NonEmpty FieldLabel
</span><a href="#local-6989586621682591847"><span class="hs-identifier hs-var">flds0</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ConInfo
</span><a href="#local-6989586621682591846"><span class="hs-identifier hs-var">con_info</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-324"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682591848"><span class="annot"><span class="annottext">flds1 :: [FieldLabel]
</span><a href="#local-6989586621682591848"><span class="hs-identifier hs-var hs-var">flds1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty FieldLabel -&gt; [FieldLabel]
forall a. NonEmpty a -&gt; [a]
</span><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html#toList"><span class="hs-identifier hs-var">NE.toList</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty FieldLabel
</span><a href="#local-6989586621682591847"><span class="hs-identifier hs-var">flds0</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldLabel] -&gt; [FieldLabel] -&gt; [FieldLabel]
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">`intersect`</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [FieldLabel]
</span><a href="GHC.Core.DataCon.html#dataConFieldLabels"><span class="hs-identifier hs-var">dataConFieldLabels</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591839"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-325"></span><span>                </span><span class="hs-special">,</span><span> </span><span id="local-6989586621682591843"><span class="annot"><span class="annottext">FieldLabel
</span><a href="#local-6989586621682591843"><span class="hs-identifier hs-var">fld</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621682591845"><span class="annot"><span class="annottext">[FieldLabel]
</span><a href="#local-6989586621682591845"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[FieldLabel]
</span><a href="#local-6989586621682591848"><span class="hs-identifier hs-var">flds1</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-326"></span><span>                </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-327"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Parent -&gt; GlobalRdrElt
</span><a href="#local-6989586621682591816"><span class="hs-identifier hs-var">myself</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621682591835"><span class="hs-identifier hs-var">par</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRdrElt -&gt; [GlobalRdrElt] -&gt; [GlobalRdrElt]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">Parent -&gt; [(ConLikeName, ConInfo)] -&gt; [GlobalRdrElt]
</span><a href="GHC.Types.Name.Reader.html#mkLocalFieldGREs"><span class="hs-identifier hs-var">mkLocalFieldGREs</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621682591835"><span class="hs-identifier hs-var">par</span></a></span><span> </span><span class="annot"><span class="annottext">[(ConLikeName, ConInfo)]
</span><a href="#local-6989586621682591836"><span class="hs-identifier hs-var">cons_flds</span></a></span><span>
</span><span id="line-328"></span><span>    </span><span class="annot"><a href="GHC.Types.TyThing.html#AnId"><span class="hs-identifier hs-type">AnId</span></a></span><span> </span><span id="local-6989586621682591851"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591851"><span class="hs-identifier hs-var">id</span></a></span></span><span>
</span><span id="line-329"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelId"><span class="hs-identifier hs-type">RecSelId</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sel_tycon :: IdDetails -&gt; RecSelParent
</span><a href="GHC.Types.Id.Info.html#sel_tycon"><span class="hs-identifier hs-var">sel_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelData"><span class="hs-identifier hs-type">RecSelData</span></a></span><span> </span><span id="local-6989586621682591852"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591852"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Id -&gt; IdDetails
</span><a href="GHC.Types.Var.html#idDetails"><span class="hs-identifier hs-var">idDetails</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591851"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-330"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Parent -&gt; GlobalRdrElt
</span><a href="#local-6989586621682591816"><span class="hs-identifier hs-var">myself</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Parent
</span><a href="GHC.Types.Name.Reader.html#ParentIs"><span class="hs-identifier hs-var">ParentIs</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Parent) -&gt; Name -&gt; Parent
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Name
</span><a href="GHC.Core.TyCon.html#tyConName"><span class="hs-identifier hs-var">tyConName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591852"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-331"></span><span>      </span><span class="hs-comment">-- Fallback to NoParent for PatSyn record selectors,</span><span>
</span><span id="line-332"></span><span>      </span><span class="hs-comment">-- as per Note [Parents] in GHC.Types.Name.Reader.</span><span>
</span><span id="line-333"></span><span>    </span><span class="annot"><span class="annottext">TyThing
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Parent -&gt; GlobalRdrElt
</span><a href="#local-6989586621682591816"><span class="hs-identifier hs-var">myself</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="GHC.Types.Name.Reader.html#NoParent"><span class="hs-identifier hs-var">NoParent</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-334"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-335"></span><span>    </span><span class="annot"><a href="#local-6989586621682591822"><span class="hs-identifier hs-type">tc_GRE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span>
</span><span id="line-336"></span><span>    </span><span id="local-6989586621682591822"><span class="annot"><span class="annottext">tc_GRE :: TyCon -&gt; GlobalRdrElt
</span><a href="#local-6989586621682591822"><span class="hs-identifier hs-var hs-var">tc_GRE</span></a></span></span><span> </span><span id="local-6989586621682591853"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591853"><span class="hs-identifier hs-var">at</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyConFlavour Name -&gt; Name -&gt; GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#mkLocalTyConGRE"><span class="hs-identifier hs-var">mkLocalTyConGRE</span></a></span><span>
</span><span id="line-337"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TyCon -&gt; Name) -&gt; TyConFlavour TyCon -&gt; TyConFlavour Name
forall a b. (a -&gt; b) -&gt; TyConFlavour a -&gt; TyConFlavour b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Name
</span><a href="GHC.Core.TyCon.html#tyConName"><span class="hs-identifier hs-var">tyConName</span></a></span><span> </span><span class="annot"><span class="annottext">(TyConFlavour TyCon -&gt; TyConFlavour Name)
-&gt; TyConFlavour TyCon -&gt; TyConFlavour Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; TyConFlavour TyCon
</span><a href="GHC.Core.TyCon.html#tyConFlavour"><span class="hs-identifier hs-var">tyConFlavour</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591853"><span class="hs-identifier hs-var">at</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; Name
</span><a href="GHC.Core.TyCon.html#tyConName"><span class="hs-identifier hs-var">tyConName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591853"><span class="hs-identifier hs-var">at</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>    </span><span class="annot"><a href="#local-6989586621682591829"><span class="hs-identifier hs-type">dc_GRE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Parent"><span class="hs-identifier hs-type">Parent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span>
</span><span id="line-340"></span><span>    </span><span id="local-6989586621682591829"><span class="annot"><span class="annottext">dc_GRE :: Parent -&gt; DataCon -&gt; GlobalRdrElt
</span><a href="#local-6989586621682591829"><span class="hs-identifier hs-var hs-var">dc_GRE</span></a></span></span><span> </span><span id="local-6989586621682591856"><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621682591856"><span class="hs-identifier hs-var">par</span></a></span></span><span> </span><span id="local-6989586621682591857"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591857"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-341"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682591858"><span class="annot"><span class="annottext">con_info :: ConInfo
</span><a href="#local-6989586621682591858"><span class="hs-identifier hs-var hs-var">con_info</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConLike -&gt; ConInfo
</span><a href="GHC.Core.ConLike.html#conLikeConInfo"><span class="hs-identifier hs-var">conLikeConInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataCon -&gt; ConLike
</span><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-var">RealDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591857"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Parent -&gt; (ConLikeName, ConInfo) -&gt; GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#mkLocalConLikeGRE"><span class="hs-identifier hs-var">mkLocalConLikeGRE</span></a></span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621682591856"><span class="hs-identifier hs-var">par</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ConLikeName
</span><a href="GHC.Types.GREInfo.html#DataConName"><span class="hs-identifier hs-var">DataConName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; ConLikeName) -&gt; Name -&gt; ConLikeName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Name
</span><a href="GHC.Core.DataCon.html#dataConName"><span class="hs-identifier hs-var">dataConName</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591857"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ConInfo
</span><a href="#local-6989586621682591858"><span class="hs-identifier hs-var">con_info</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span>    </span><span class="annot"><a href="#local-6989586621682591816"><span class="hs-identifier hs-type">myself</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Parent"><span class="hs-identifier hs-type">Parent</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#GlobalRdrElt"><span class="hs-identifier hs-type">GlobalRdrElt</span></a></span><span>
</span><span id="line-344"></span><span>    </span><span id="local-6989586621682591816"><span class="annot"><span class="annottext">myself :: Parent -&gt; GlobalRdrElt
</span><a href="#local-6989586621682591816"><span class="hs-identifier hs-var hs-var">myself</span></a></span></span><span> </span><span id="local-6989586621682591860"><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621682591860"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GREInfo -&gt; Parent -&gt; Name -&gt; GlobalRdrElt
</span><a href="GHC.Types.Name.Reader.html#mkLocalGRE"><span class="hs-identifier hs-var">mkLocalGRE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyThing -&gt; GREInfo
</span><a href="GHC.Types.TyThing.html#tyThingGREInfo"><span class="hs-identifier hs-var">tyThingGREInfo</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591813"><span class="hs-identifier hs-var">ty_thing</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parent
</span><a href="#local-6989586621682591860"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyThing -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591813"><span class="hs-identifier hs-var">ty_thing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span>
</span><span id="line-346"></span><span class="hs-comment">-- | Obtain information pertinent to the renamer about a particular 'TyThing'.</span><span>
</span><span id="line-347"></span><span class="hs-comment">--</span><span>
</span><span id="line-348"></span><span class="hs-comment">-- This extracts out renamer information from typechecker information.</span><span>
</span><span id="line-349"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingGREInfo"><span class="hs-identifier hs-type">tyThingGREInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.GREInfo.html#GREInfo"><span class="hs-identifier hs-type">GREInfo</span></a></span><span>
</span><span id="line-350"></span><span id="tyThingGREInfo"><span class="annot"><span class="annottext">tyThingGREInfo :: TyThing -&gt; GREInfo
</span><a href="GHC.Types.TyThing.html#tyThingGREInfo"><span class="hs-identifier hs-var hs-var">tyThingGREInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-351"></span><span>  </span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span id="local-6989586621682591862"><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591862"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConInfo -&gt; GREInfo
</span><a href="GHC.Types.GREInfo.html#IAmConLike"><span class="hs-identifier hs-var">IAmConLike</span></a></span><span> </span><span class="annot"><span class="annottext">(ConInfo -&gt; GREInfo) -&gt; ConInfo -&gt; GREInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConLike -&gt; ConInfo
</span><a href="GHC.Core.ConLike.html#conLikeConInfo"><span class="hs-identifier hs-var">conLikeConInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591862"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-352"></span><span>  </span><span class="annot"><a href="GHC.Types.TyThing.html#AnId"><span class="hs-identifier hs-type">AnId</span></a></span><span> </span><span id="local-6989586621682591864"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591864"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Id -&gt; IdDetails
</span><a href="GHC.Types.Var.html#idDetails"><span class="hs-identifier hs-var">idDetails</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591864"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-353"></span><span>    </span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelId"><span class="hs-identifier hs-type">RecSelId</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sel_tycon :: IdDetails -&gt; RecSelParent
</span><a href="GHC.Types.Id.Info.html#sel_tycon"><span class="hs-identifier hs-var">sel_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682591865"><span class="annot"><span class="annottext">RecSelParent
</span><a href="#local-6989586621682591865"><span class="hs-identifier hs-var">parent</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sel_fieldLabel :: IdDetails -&gt; FieldLabel
</span><a href="GHC.Types.Id.Info.html#sel_fieldLabel"><span class="hs-identifier hs-var">sel_fieldLabel</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682591867"><span class="annot"><span class="annottext">FieldLabel
</span><a href="#local-6989586621682591867"><span class="hs-identifier hs-var">fl</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-354"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682591868"><span class="annot"><span class="annottext">relevant_cons :: UniqSet ConLikeName
</span><a href="#local-6989586621682591868"><span class="hs-identifier hs-var hs-var">relevant_cons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">RecSelParent
</span><a href="#local-6989586621682591865"><span class="hs-identifier hs-var">parent</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-355"></span><span>            </span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelPatSyn"><span class="hs-identifier hs-type">RecSelPatSyn</span></a></span><span> </span><span id="local-6989586621682591869"><span class="annot"><span class="annottext">PatSyn
</span><a href="#local-6989586621682591869"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ConLikeName -&gt; UniqSet ConLikeName
forall a. Uniquable a =&gt; a -&gt; UniqSet a
</span><a href="GHC.Types.Unique.Set.html#unitUniqSet"><span class="hs-identifier hs-var">unitUniqSet</span></a></span><span> </span><span class="annot"><span class="annottext">(ConLikeName -&gt; UniqSet ConLikeName)
-&gt; ConLikeName -&gt; UniqSet ConLikeName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ConLikeName
</span><a href="GHC.Types.GREInfo.html#PatSynName"><span class="hs-identifier hs-var">PatSynName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PatSyn -&gt; Name
</span><a href="GHC.Core.PatSyn.html#patSynName"><span class="hs-identifier hs-var">patSynName</span></a></span><span> </span><span class="annot"><span class="annottext">PatSyn
</span><a href="#local-6989586621682591869"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-356"></span><span>            </span><span class="annot"><a href="GHC.Types.Id.Info.html#RecSelData"><span class="hs-identifier hs-type">RecSelData</span></a></span><span>   </span><span id="local-6989586621682591873"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591873"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-357"></span><span>              </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682591874"><span class="annot"><span class="annottext">dcs :: [ConLike]
</span><a href="#local-6989586621682591874"><span class="hs-identifier hs-var hs-var">dcs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(DataCon -&gt; ConLike) -&gt; [DataCon] -&gt; [ConLike]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; ConLike
</span><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-var">RealDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">([DataCon] -&gt; [ConLike]) -&gt; [DataCon] -&gt; [ConLike]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [DataCon]
</span><a href="GHC.Core.TyCon.html#tyConDataCons"><span class="hs-identifier hs-var">tyConDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591873"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="hs-keyword">in</span><span>
</span><span id="line-358"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[ConLike] -&gt; [FieldLabelString] -&gt; ([ConLike], [ConLike])
</span><a href="GHC.Core.ConLike.html#conLikesWithFields"><span class="hs-identifier hs-var">conLikesWithFields</span></a></span><span> </span><span class="annot"><span class="annottext">[ConLike]
</span><a href="#local-6989586621682591874"><span class="hs-identifier hs-var">dcs</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FieldLabel -&gt; FieldLabelString
</span><a href="GHC.Types.FieldLabel.html#flLabel"><span class="hs-identifier hs-var">flLabel</span></a></span><span> </span><span class="annot"><span class="annottext">FieldLabel
</span><a href="#local-6989586621682591867"><span class="hs-identifier hs-var">fl</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-359"></span><span>                </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[ConLike]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; UniqSet ConLikeName
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;tyThingGREInfo: no DataCons with this FieldLabel&quot;</span></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; UniqSet ConLikeName) -&gt; SDoc -&gt; UniqSet ConLikeName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-360"></span><span>                        </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;id:&quot;</span></span><span>  </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Id -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591864"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-361"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fl:&quot;</span></span><span>  </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FieldLabel -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">FieldLabel
</span><a href="#local-6989586621682591867"><span class="hs-identifier hs-var">fl</span></a></span><span>
</span><span id="line-362"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dcs:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[ConLike] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[ConLike]
</span><a href="#local-6989586621682591874"><span class="hs-identifier hs-var">dcs</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-363"></span><span>                </span><span class="hs-special">(</span><span id="local-6989586621682591879"><span class="annot"><span class="annottext">[ConLike]
</span><a href="#local-6989586621682591879"><span class="hs-identifier hs-var">cons</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[ConLike]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[ConLikeName] -&gt; UniqSet ConLikeName
forall a. Uniquable a =&gt; [a] -&gt; UniqSet a
</span><a href="GHC.Types.Unique.Set.html#mkUniqSet"><span class="hs-identifier hs-var">mkUniqSet</span></a></span><span> </span><span class="annot"><span class="annottext">([ConLikeName] -&gt; UniqSet ConLikeName)
-&gt; [ConLikeName] -&gt; UniqSet ConLikeName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ConLike -&gt; ConLikeName) -&gt; [ConLike] -&gt; [ConLikeName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">ConLike -&gt; ConLikeName
</span><a href="GHC.Core.ConLike.html#conLikeConLikeName"><span class="hs-identifier hs-var">conLikeConLikeName</span></a></span><span> </span><span class="annot"><span class="annottext">[ConLike]
</span><a href="#local-6989586621682591879"><span class="hs-identifier hs-var">cons</span></a></span><span>
</span><span id="line-364"></span><span>       </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">RecFieldInfo -&gt; GREInfo
</span><a href="GHC.Types.GREInfo.html#IAmRecField"><span class="hs-identifier hs-var">IAmRecField</span></a></span><span> </span><span class="annot"><span class="annottext">(RecFieldInfo -&gt; GREInfo) -&gt; RecFieldInfo -&gt; GREInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-365"></span><span>            </span><span class="annot"><a href="GHC.Types.GREInfo.html#RecFieldInfo"><span class="hs-identifier hs-type">RecFieldInfo</span></a></span><span>
</span><span id="line-366"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">recFieldLabel :: FieldLabel
</span><a href="GHC.Types.GREInfo.html#recFieldLabel"><span class="hs-identifier hs-var">recFieldLabel</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldLabel
</span><a href="#local-6989586621682591867"><span class="hs-identifier hs-var">fl</span></a></span><span>
</span><span id="line-367"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">recFieldCons :: UniqSet ConLikeName
</span><a href="GHC.Types.GREInfo.html#recFieldCons"><span class="hs-identifier hs-var">recFieldCons</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqSet ConLikeName
</span><a href="#local-6989586621682591868"><span class="hs-identifier hs-var">relevant_cons</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-368"></span><span>    </span><span class="annot"><span class="annottext">IdDetails
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GREInfo
</span><a href="GHC.Types.GREInfo.html#Vanilla"><span class="hs-identifier hs-var">Vanilla</span></a></span><span>
</span><span id="line-369"></span><span>  </span><span class="annot"><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-type">ATyCon</span></a></span><span> </span><span id="local-6989586621682591886"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591886"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-370"></span><span>    </span><span class="annot"><span class="annottext">TyConFlavour Name -&gt; GREInfo
</span><a href="GHC.Types.GREInfo.html#IAmTyCon"><span class="hs-identifier hs-var">IAmTyCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TyCon -&gt; Name) -&gt; TyConFlavour TyCon -&gt; TyConFlavour Name
forall a b. (a -&gt; b) -&gt; TyConFlavour a -&gt; TyConFlavour b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Name
</span><a href="GHC.Core.TyCon.html#tyConName"><span class="hs-identifier hs-var">tyConName</span></a></span><span> </span><span class="annot"><span class="annottext">(TyConFlavour TyCon -&gt; TyConFlavour Name)
-&gt; TyConFlavour TyCon -&gt; TyConFlavour Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; TyConFlavour TyCon
</span><a href="GHC.Core.TyCon.html#tyConFlavour"><span class="hs-identifier hs-var">tyConFlavour</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591886"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-371"></span><span>  </span><span class="annot"><span class="annottext">TyThing
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GREInfo
</span><a href="GHC.Types.GREInfo.html#Vanilla"><span class="hs-identifier hs-var">Vanilla</span></a></span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span class="annot"><span class="hs-comment">-- | Get the 'TyCon' from a 'TyThing' if it is a type constructor thing. Panics otherwise</span></span><span>
</span><span id="line-374"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingTyCon"><span class="hs-identifier hs-type">tyThingTyCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#HasDebugCallStack"><span class="hs-identifier hs-type">HasDebugCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span>
</span><span id="line-375"></span><span id="tyThingTyCon"><span class="annot"><span class="annottext">tyThingTyCon :: HasDebugCallStack =&gt; TyThing -&gt; TyCon
</span><a href="GHC.Types.TyThing.html#tyThingTyCon"><span class="hs-identifier hs-var hs-var">tyThingTyCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-type">ATyCon</span></a></span><span> </span><span id="local-6989586621682591892"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591892"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682591892"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-376"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingTyCon"><span class="hs-identifier hs-var">tyThingTyCon</span></a></span><span> </span><span id="local-6989586621682591893"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591893"><span class="hs-identifier hs-var">other</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; TyCon
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;tyThingTyCon&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyThing -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591893"><span class="hs-identifier hs-var">other</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-377"></span><span>
</span><span id="line-378"></span><span class="annot"><span class="hs-comment">-- | Get the 'CoAxiom' from a 'TyThing' if it is a coercion axiom thing. Panics otherwise</span></span><span>
</span><span id="line-379"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingCoAxiom"><span class="hs-identifier hs-type">tyThingCoAxiom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#HasDebugCallStack"><span class="hs-identifier hs-type">HasDebugCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#CoAxiom"><span class="hs-identifier hs-type">CoAxiom</span></a></span><span> </span><span class="annot"><a href="GHC.Core.Coercion.Axiom.html#Branched"><span class="hs-identifier hs-type">Branched</span></a></span><span>
</span><span id="line-380"></span><span id="tyThingCoAxiom"><span class="annot"><span class="annottext">tyThingCoAxiom :: HasDebugCallStack =&gt; TyThing -&gt; CoAxiom Branched
</span><a href="GHC.Types.TyThing.html#tyThingCoAxiom"><span class="hs-identifier hs-var hs-var">tyThingCoAxiom</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ACoAxiom"><span class="hs-identifier hs-type">ACoAxiom</span></a></span><span> </span><span id="local-6989586621682591899"><span class="annot"><span class="annottext">CoAxiom Branched
</span><a href="#local-6989586621682591899"><span class="hs-identifier hs-var">ax</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoAxiom Branched
</span><a href="#local-6989586621682591899"><span class="hs-identifier hs-var">ax</span></a></span><span>
</span><span id="line-381"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingCoAxiom"><span class="hs-identifier hs-var">tyThingCoAxiom</span></a></span><span> </span><span id="local-6989586621682591900"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591900"><span class="hs-identifier hs-var">other</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; CoAxiom Branched
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;tyThingCoAxiom&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyThing -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591900"><span class="hs-identifier hs-var">other</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span>
</span><span id="line-383"></span><span class="annot"><span class="hs-comment">-- | Get the 'DataCon' from a 'TyThing' if it is a data constructor thing. Panics otherwise</span></span><span>
</span><span id="line-384"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingDataCon"><span class="hs-identifier hs-type">tyThingDataCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#HasDebugCallStack"><span class="hs-identifier hs-type">HasDebugCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span>
</span><span id="line-385"></span><span id="tyThingDataCon"><span class="annot"><span class="annottext">tyThingDataCon :: HasDebugCallStack =&gt; TyThing -&gt; DataCon
</span><a href="GHC.Types.TyThing.html#tyThingDataCon"><span class="hs-identifier hs-var hs-var">tyThingDataCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-type">RealDataCon</span></a></span><span> </span><span id="local-6989586621682591905"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591905"><span class="hs-identifier hs-var">dc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591905"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-386"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingDataCon"><span class="hs-identifier hs-var">tyThingDataCon</span></a></span><span> </span><span id="local-6989586621682591906"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591906"><span class="hs-identifier hs-var">other</span></a></span></span><span>                       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; DataCon
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;tyThingDataCon&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyThing -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591906"><span class="hs-identifier hs-var">other</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span class="hs-comment">-- | Get the 'ConLike' from a 'TyThing' if it is a data constructor thing.</span><span>
</span><span id="line-389"></span><span class="hs-comment">-- Panics otherwise</span><span>
</span><span id="line-390"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingConLike"><span class="hs-identifier hs-type">tyThingConLike</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#HasDebugCallStack"><span class="hs-identifier hs-type">HasDebugCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.ConLike.html#ConLike"><span class="hs-identifier hs-type">ConLike</span></a></span><span>
</span><span id="line-391"></span><span id="tyThingConLike"><span class="annot"><span class="annottext">tyThingConLike :: HasDebugCallStack =&gt; TyThing -&gt; ConLike
</span><a href="GHC.Types.TyThing.html#tyThingConLike"><span class="hs-identifier hs-var hs-var">tyThingConLike</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span id="local-6989586621682591911"><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591911"><span class="hs-identifier hs-var">dc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ConLike
</span><a href="#local-6989586621682591911"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-392"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingConLike"><span class="hs-identifier hs-var">tyThingConLike</span></a></span><span> </span><span id="local-6989586621682591912"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591912"><span class="hs-identifier hs-var">other</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; ConLike
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;tyThingConLike&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyThing -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591912"><span class="hs-identifier hs-var">other</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span class="annot"><span class="hs-comment">-- | Get the 'Id' from a 'TyThing' if it is a id *or* data constructor thing. Panics otherwise</span></span><span>
</span><span id="line-395"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingId"><span class="hs-identifier hs-type">tyThingId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#HasDebugCallStack"><span class="hs-identifier hs-type">HasDebugCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>
</span><span id="line-396"></span><span id="tyThingId"><span class="annot"><span class="annottext">tyThingId :: HasDebugCallStack =&gt; TyThing -&gt; Id
</span><a href="GHC.Types.TyThing.html#tyThingId"><span class="hs-identifier hs-var hs-var">tyThingId</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AnId"><span class="hs-identifier hs-type">AnId</span></a></span><span> </span><span id="local-6989586621682591917"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591917"><span class="hs-identifier hs-var">id</span></a></span></span><span class="hs-special">)</span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682591917"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-397"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingId"><span class="hs-identifier hs-var">tyThingId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#AConLike"><span class="hs-identifier hs-type">AConLike</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.ConLike.html#RealDataCon"><span class="hs-identifier hs-type">RealDataCon</span></a></span><span> </span><span id="local-6989586621682591918"><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591918"><span class="hs-identifier hs-var">dc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; Id
</span><a href="GHC.Core.DataCon.html#dataConWrapId"><span class="hs-identifier hs-var">dataConWrapId</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="#local-6989586621682591918"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-398"></span><span class="annot"><a href="GHC.Types.TyThing.html#tyThingId"><span class="hs-identifier hs-var">tyThingId</span></a></span><span> </span><span id="local-6989586621682591920"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591920"><span class="hs-identifier hs-var">other</span></a></span></span><span>                       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; Id
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;tyThingId&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyThing -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682591920"><span class="hs-identifier hs-var">other</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="hs-comment">-- | Class that abstracts out the common ability of the monads in GHC</span><span>
</span><span id="line-401"></span><span class="hs-comment">-- to lookup a 'TyThing' in the monadic environment by 'Name'. Provides</span><span>
</span><span id="line-402"></span><span class="hs-comment">-- a number of related convenience functions for accessing particular</span><span>
</span><span id="line-403"></span><span class="hs-comment">-- kinds of 'TyThing'</span><span>
</span><span id="line-404"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621682591630"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="MonadThings"><span class="annot"><a href="GHC.Types.TyThing.html#MonadThings"><span class="hs-identifier hs-var">MonadThings</span></a></span></span><span> </span><span id="local-6989586621682591630"><span class="annot"><a href="#local-6989586621682591630"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-405"></span><span>        </span><span id="lookupThing"><span class="annot"><a href="GHC.Types.TyThing.html#lookupThing"><span class="hs-identifier hs-type">lookupThing</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682591630"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span>        </span><span id="lookupId"><span class="annot"><a href="GHC.Types.TyThing.html#lookupId"><span class="hs-identifier hs-type">lookupId</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682591630"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>
</span><span id="line-408"></span><span>        </span><span id="local-6989586621682591925"><span class="annot"><a href="GHC.Types.TyThing.html#lookupId"><span class="hs-identifier hs-var hs-var">lookupId</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TyThing -&gt; Id) -&gt; m TyThing -&gt; m Id
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; TyThing -&gt; Id
TyThing -&gt; Id
</span><a href="GHC.Types.TyThing.html#tyThingId"><span class="hs-identifier hs-var">tyThingId</span></a></span><span> </span><span class="annot"><span class="annottext">(m TyThing -&gt; m Id) -&gt; (Name -&gt; m TyThing) -&gt; Name -&gt; m Id
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; m TyThing
forall (m :: * -&gt; *). MonadThings m =&gt; Name -&gt; m TyThing
</span><a href="GHC.Types.TyThing.html#lookupThing"><span class="hs-identifier hs-var">lookupThing</span></a></span></span><span>
</span><span id="line-409"></span><span>
</span><span id="line-410"></span><span>        </span><span id="lookupDataCon"><span class="annot"><a href="GHC.Types.TyThing.html#lookupDataCon"><span class="hs-identifier hs-type">lookupDataCon</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682591630"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html#DataCon"><span class="hs-identifier hs-type">DataCon</span></a></span><span>
</span><span id="line-411"></span><span>        </span><span id="local-6989586621682591931"><span class="annot"><a href="GHC.Types.TyThing.html#lookupDataCon"><span class="hs-identifier hs-var hs-var">lookupDataCon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TyThing -&gt; DataCon) -&gt; m TyThing -&gt; m DataCon
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; TyThing -&gt; DataCon
TyThing -&gt; DataCon
</span><a href="GHC.Types.TyThing.html#tyThingDataCon"><span class="hs-identifier hs-var">tyThingDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">(m TyThing -&gt; m DataCon)
-&gt; (Name -&gt; m TyThing) -&gt; Name -&gt; m DataCon
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; m TyThing
forall (m :: * -&gt; *). MonadThings m =&gt; Name -&gt; m TyThing
</span><a href="GHC.Types.TyThing.html#lookupThing"><span class="hs-identifier hs-var">lookupThing</span></a></span></span><span>
</span><span id="line-412"></span><span>
</span><span id="line-413"></span><span>        </span><span id="lookupTyCon"><span class="annot"><a href="GHC.Types.TyThing.html#lookupTyCon"><span class="hs-identifier hs-type">lookupTyCon</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682591630"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span>
</span><span id="line-414"></span><span>        </span><span id="local-6989586621682591937"><span class="annot"><a href="GHC.Types.TyThing.html#lookupTyCon"><span class="hs-identifier hs-var hs-var">lookupTyCon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TyThing -&gt; TyCon) -&gt; m TyThing -&gt; m TyCon
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; TyThing -&gt; TyCon
TyThing -&gt; TyCon
</span><a href="GHC.Types.TyThing.html#tyThingTyCon"><span class="hs-identifier hs-var">tyThingTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">(m TyThing -&gt; m TyCon) -&gt; (Name -&gt; m TyThing) -&gt; Name -&gt; m TyCon
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; m TyThing
forall (m :: * -&gt; *). MonadThings m =&gt; Name -&gt; m TyThing
</span><a href="GHC.Types.TyThing.html#lookupThing"><span class="hs-identifier hs-var">lookupThing</span></a></span></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="hs-comment">-- Instance used in GHC.HsToCore.Quote</span><span>
</span><span id="line-417"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682591640"><span id="local-6989586621682591641"><span id="local-6989586621682591949"><span id="local-6989586621682591953"><span id="local-6989586621682591956"><span class="annot"><a href="GHC.Types.TyThing.html#MonadThings"><span class="hs-identifier hs-type">MonadThings</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682591640"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#MonadThings"><span class="hs-identifier hs-type">MonadThings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Reader.html#ReaderT"><span class="hs-identifier hs-type">ReaderT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682591641"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682591640"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-418"></span><span>  </span><span id="local-6989586621682591963"><span class="annot"><span class="annottext">lookupThing :: Name -&gt; ReaderT s m TyThing
</span><a href="GHC.Types.TyThing.html#lookupThing"><span class="hs-identifier hs-var hs-var hs-var">lookupThing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m TyThing -&gt; ReaderT s m TyThing
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT s m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(m TyThing -&gt; ReaderT s m TyThing)
-&gt; (Name -&gt; m TyThing) -&gt; Name -&gt; ReaderT s m TyThing
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; m TyThing
forall (m :: * -&gt; *). MonadThings m =&gt; Name -&gt; m TyThing
</span><a href="GHC.Types.TyThing.html#lookupThing"><span class="hs-identifier hs-var">lookupThing</span></a></span><span>
</span><span id="line-419"></span></pre></body></html>