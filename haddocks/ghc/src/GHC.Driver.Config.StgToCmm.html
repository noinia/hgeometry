<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE MultiWayIf #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.Driver.Config.StgToCmm.html"><span class="hs-identifier">GHC.Driver.Config.StgToCmm</span></a></span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Driver.Config.StgToCmm.html#initStgToCmmConfig"><span class="hs-identifier">initStgToCmmConfig</span></a></span><span>
</span><span id="line-6"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.Basic.html"><span class="hs-identifier">GHC.Prelude.Basic</span></a></span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Config.html"><span class="hs-identifier">GHC.StgToCmm.Config</span></a></span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html"><span class="hs-identifier">GHC.Cmm.MachOp</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#FMASign"><span class="hs-identifier">FMASign</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Backend.html"><span class="hs-identifier">GHC.Driver.Backend</span></a></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Session.html"><span class="hs-identifier">GHC.Driver.Session</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.html"><span class="hs-identifier">GHC.Platform</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.Profile.html"><span class="hs-identifier">GHC.Platform.Profile</span></a></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.Regs.html"><span class="hs-identifier">GHC.Platform.Regs</span></a></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Error.html"><span class="hs-identifier">GHC.Utils.Error</span></a></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="annot"><a href="GHC.Driver.Config.StgToCmm.html#initStgToCmmConfig"><span class="hs-identifier hs-type">initStgToCmmConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Driver.DynFlags.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Config.html#StgToCmmConfig"><span class="hs-identifier hs-type">StgToCmmConfig</span></a></span><span>
</span><span id="line-23"></span><span id="initStgToCmmConfig"><span class="annot"><span class="annottext">initStgToCmmConfig :: DynFlags -&gt; Module -&gt; StgToCmmConfig
</span><a href="GHC.Driver.Config.StgToCmm.html#initStgToCmmConfig"><span class="hs-identifier hs-var hs-var">initStgToCmmConfig</span></a></span></span><span> </span><span id="local-6989586621682969035"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span></span><span> </span><span id="local-6989586621682969036"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682969036"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Config.html#StgToCmmConfig"><span class="hs-identifier hs-type">StgToCmmConfig</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-comment">-- settings</span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">stgToCmmProfile :: Profile
</span><a href="GHC.StgToCmm.Config.html#stgToCmmProfile"><span class="hs-identifier hs-var">stgToCmmProfile</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682969039"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmThisModule :: Module
</span><a href="GHC.StgToCmm.Config.html#stgToCmmThisModule"><span class="hs-identifier hs-var">stgToCmmThisModule</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682969036"><span class="hs-identifier hs-var">mod</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmTmpDir :: TempDir
</span><a href="GHC.StgToCmm.Config.html#stgToCmmTmpDir"><span class="hs-identifier hs-var">stgToCmmTmpDir</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; TempDir
</span><a href="GHC.Driver.DynFlags.html#tmpDir"><span class="hs-identifier hs-var">tmpDir</span></a></span><span>          </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmContext :: SDocContext
</span><a href="GHC.StgToCmm.Config.html#stgToCmmContext"><span class="hs-identifier hs-var">stgToCmmContext</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; PprStyle -&gt; SDocContext
</span><a href="GHC.Driver.DynFlags.html#initSDocContext"><span class="hs-identifier hs-var">initSDocContext</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">PprStyle
</span><a href="GHC.Utils.Outputable.html#defaultDumpStyle"><span class="hs-identifier hs-var">defaultDumpStyle</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmEmitDebugInfo :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmEmitDebugInfo"><span class="hs-identifier hs-var">stgToCmmEmitDebugInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Int
</span><a href="GHC.Driver.DynFlags.html#debugLevel"><span class="hs-identifier hs-var">debugLevel</span></a></span><span>      </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmBinBlobThresh :: Maybe Word
</span><a href="GHC.StgToCmm.Config.html#stgToCmmBinBlobThresh"><span class="hs-identifier hs-var">stgToCmmBinBlobThresh</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Word
</span><a href="#local-6989586621682969050"><span class="hs-identifier hs-var">b_blob</span></a></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmMaxInlAllocSize :: Int
</span><a href="GHC.StgToCmm.Config.html#stgToCmmMaxInlAllocSize"><span class="hs-identifier hs-var">stgToCmmMaxInlAllocSize</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Int
</span><a href="GHC.Driver.DynFlags.html#maxInlineAllocSize"><span class="hs-identifier hs-var">maxInlineAllocSize</span></a></span><span>           </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-comment">-- ticky options</span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmDoTicky :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmDoTicky"><span class="hs-identifier hs-var">stgToCmmDoTicky</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Ticky"><span class="hs-identifier hs-var">Opt_Ticky</span></a></span><span>                 </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmTickyAllocd :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmTickyAllocd"><span class="hs-identifier hs-var">stgToCmmTickyAllocd</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Ticky_Allocd"><span class="hs-identifier hs-var">Opt_Ticky_Allocd</span></a></span><span>          </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-35"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmTickyLNE :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmTickyLNE"><span class="hs-identifier hs-var">stgToCmmTickyLNE</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Ticky_LNE"><span class="hs-identifier hs-var">Opt_Ticky_LNE</span></a></span><span>             </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmTickyDynThunk :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmTickyDynThunk"><span class="hs-identifier hs-var">stgToCmmTickyDynThunk</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Ticky_Dyn_Thunk"><span class="hs-identifier hs-var">Opt_Ticky_Dyn_Thunk</span></a></span><span>       </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmTickyTag :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmTickyTag"><span class="hs-identifier hs-var">stgToCmmTickyTag</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Ticky_Tag"><span class="hs-identifier hs-var">Opt_Ticky_Tag</span></a></span><span>             </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-comment">-- flags</span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmLoopification :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmLoopification"><span class="hs-identifier hs-var">stgToCmmLoopification</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Loopification"><span class="hs-identifier hs-var">Opt_Loopification</span></a></span><span>         </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmAlignCheck :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAlignCheck"><span class="hs-identifier hs-var">stgToCmmAlignCheck</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_AlignmentSanitisation"><span class="hs-identifier hs-var">Opt_AlignmentSanitisation</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmFastPAPCalls :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmFastPAPCalls"><span class="hs-identifier hs-var">stgToCmmFastPAPCalls</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_FastPAPCalls"><span class="hs-identifier hs-var">Opt_FastPAPCalls</span></a></span><span>          </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmSCCProfiling :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmSCCProfiling"><span class="hs-identifier hs-var">stgToCmmSCCProfiling</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.Session.html#sccProfilingEnabled"><span class="hs-identifier hs-var">sccProfilingEnabled</span></a></span><span>            </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmEagerBlackHole :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmEagerBlackHole"><span class="hs-identifier hs-var">stgToCmmEagerBlackHole</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_EagerBlackHoling"><span class="hs-identifier hs-var">Opt_EagerBlackHoling</span></a></span><span>     </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmOrigThunkInfo :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmOrigThunkInfo"><span class="hs-identifier hs-var">stgToCmmOrigThunkInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_OrigThunkInfo"><span class="hs-identifier hs-var">Opt_OrigThunkInfo</span></a></span><span>         </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmInfoTableMap :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmInfoTableMap"><span class="hs-identifier hs-var">stgToCmmInfoTableMap</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_InfoTableMap"><span class="hs-identifier hs-var">Opt_InfoTableMap</span></a></span><span>          </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmInfoTableMapWithFallback :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmInfoTableMapWithFallback"><span class="hs-identifier hs-var">stgToCmmInfoTableMapWithFallback</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_InfoTableMapWithFallback"><span class="hs-identifier hs-var">Opt_InfoTableMapWithFallback</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmInfoTableMapWithStack :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmInfoTableMapWithStack"><span class="hs-identifier hs-var">stgToCmmInfoTableMapWithStack</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_InfoTableMapWithStack"><span class="hs-identifier hs-var">Opt_InfoTableMapWithStack</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmOmitYields :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmOmitYields"><span class="hs-identifier hs-var">stgToCmmOmitYields</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_OmitYields"><span class="hs-identifier hs-var">Opt_OmitYields</span></a></span><span>            </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmOmitIfPragmas :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmOmitIfPragmas"><span class="hs-identifier hs-var">stgToCmmOmitIfPragmas</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_OmitInterfacePragmas"><span class="hs-identifier hs-var">Opt_OmitInterfacePragmas</span></a></span><span>  </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmPIC :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmPIC"><span class="hs-identifier hs-var">stgToCmmPIC</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PIC"><span class="hs-identifier hs-var">Opt_PIC</span></a></span><span>                   </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmPIE :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmPIE"><span class="hs-identifier hs-var">stgToCmmPIE</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_PIE"><span class="hs-identifier hs-var">Opt_PIE</span></a></span><span>                   </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmExtDynRefs :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmExtDynRefs"><span class="hs-identifier hs-var">stgToCmmExtDynRefs</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_ExternalDynamicRefs"><span class="hs-identifier hs-var">Opt_ExternalDynamicRefs</span></a></span><span>   </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmDoBoundsCheck :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmDoBoundsCheck"><span class="hs-identifier hs-var">stgToCmmDoBoundsCheck</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_DoBoundsChecking"><span class="hs-identifier hs-var">Opt_DoBoundsChecking</span></a></span><span>      </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmDoTagCheck :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmDoTagCheck"><span class="hs-identifier hs-var">stgToCmmDoTagCheck</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_DoTagInferenceChecks"><span class="hs-identifier hs-var">Opt_DoTagInferenceChecks</span></a></span><span>  </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmObjectDeterminism :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmObjectDeterminism"><span class="hs-identifier hs-var">stgToCmmObjectDeterminism</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_ObjectDeterminism"><span class="hs-identifier hs-var">Opt_ObjectDeterminism</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-comment">-- backend flags:</span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-comment">-- LLVM, C, and some 32-bit NCG backends can also handle some 64-bit primops</span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmAllowArith64 :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowArith64"><span class="hs-identifier hs-var">stgToCmmAllowArith64</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969099"><span class="hs-identifier hs-var">w64</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969102"><span class="hs-identifier hs-var">ncg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682969104"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Arch -&gt; Arch -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier hs-var">ArchWasm32</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682969104"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Arch -&gt; Arch -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier hs-var">ArchX86</span></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmAllowQuot64 :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowQuot64"><span class="hs-identifier hs-var">stgToCmmAllowQuot64</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969099"><span class="hs-identifier hs-var">w64</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969102"><span class="hs-identifier hs-var">ncg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682969104"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Arch -&gt; Arch -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier hs-var">ArchWasm32</span></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmAllowQuotRemInstr :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowQuotRemInstr"><span class="hs-identifier hs-var">stgToCmmAllowQuotRemInstr</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969102"><span class="hs-identifier hs-var">ncg</span></a></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969110"><span class="hs-identifier hs-var">x86ish</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969111"><span class="hs-identifier hs-var">ppc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmAllowQuotRem2 :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowQuotRem2"><span class="hs-identifier hs-var">stgToCmmAllowQuotRem2</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969102"><span class="hs-identifier hs-var">ncg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969110"><span class="hs-identifier hs-var">x86ish</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969111"><span class="hs-identifier hs-var">ppc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969113"><span class="hs-identifier hs-var">llvm</span></a></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmAllowExtendedAddSubInstrs :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowExtendedAddSubInstrs"><span class="hs-identifier hs-var">stgToCmmAllowExtendedAddSubInstrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969102"><span class="hs-identifier hs-var">ncg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969110"><span class="hs-identifier hs-var">x86ish</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969111"><span class="hs-identifier hs-var">ppc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969113"><span class="hs-identifier hs-var">llvm</span></a></span><span>
</span><span id="line-65"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmAllowFMAInstr :: FMASign -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowFMAInstr"><span class="hs-identifier hs-var">stgToCmmAllowFMAInstr</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-66"></span><span>      </span><span class="hs-keyword">if</span><span>
</span><span id="line-67"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#isFmaEnabled"><span class="hs-identifier hs-var">isFmaEnabled</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969102"><span class="hs-identifier hs-var">ncg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969113"><span class="hs-identifier hs-var">llvm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>        </span><span class="hs-comment">-- If we're not using the native code generator or LLVM,</span><span>
</span><span id="line-70"></span><span>        </span><span class="hs-comment">-- fall back to the generic implementation.</span><span>
</span><span id="line-71"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682969104"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Arch -&gt; Arch -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier hs-var">ArchWasm32</span></span><span>
</span><span id="line-72"></span><span>        </span><span class="hs-comment">-- WASM doesn't support native FMA instructions (at the time of writing).</span><span>
</span><span id="line-73"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; FMASign -&gt; Bool
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span>        </span><span class="hs-comment">-- FNMSub and FNMAdd have different semantics on PowerPC,</span><span>
</span><span id="line-76"></span><span>        </span><span class="hs-comment">-- so we avoid using them.</span><span>
</span><span id="line-77"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969111"><span class="hs-identifier hs-var">ppc</span></a></span><span>
</span><span id="line-78"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FMAdd"><span class="hs-identifier hs-var">FMAdd</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FMSub"><span class="hs-identifier hs-var">FMSub</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">FMASign
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-81"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; FMASign -&gt; Bool
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmAllowIntMul2Instr :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowIntMul2Instr"><span class="hs-identifier hs-var">stgToCmmAllowIntMul2Instr</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969102"><span class="hs-identifier hs-var">ncg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969110"><span class="hs-identifier hs-var">x86ish</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969121"><span class="hs-identifier hs-var">aarch64</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969113"><span class="hs-identifier hs-var">llvm</span></a></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmAllowWordMul2Instr :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowWordMul2Instr"><span class="hs-identifier hs-var">stgToCmmAllowWordMul2Instr</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969102"><span class="hs-identifier hs-var">ncg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969110"><span class="hs-identifier hs-var">x86ish</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969111"><span class="hs-identifier hs-var">ppc</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969121"><span class="hs-identifier hs-var">aarch64</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969113"><span class="hs-identifier hs-var">llvm</span></a></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-comment">-- SIMD flags</span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmVecInstrsErr :: Maybe String
</span><a href="GHC.StgToCmm.Config.html#stgToCmmVecInstrsErr"><span class="hs-identifier hs-var">stgToCmmVecInstrsErr</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621682969124"><span class="hs-identifier hs-var">vec_err</span></a></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmAvx :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAvx"><span class="hs-identifier hs-var">stgToCmmAvx</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#isAvxEnabled"><span class="hs-identifier hs-var">isAvxEnabled</span></a></span><span>                   </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmAvx2 :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAvx2"><span class="hs-identifier hs-var">stgToCmmAvx2</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#isAvx2Enabled"><span class="hs-identifier hs-var">isAvx2Enabled</span></a></span><span>                  </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmAvx512f :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAvx512f"><span class="hs-identifier hs-var">stgToCmmAvx512f</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#isAvx512fEnabled"><span class="hs-identifier hs-var">isAvx512fEnabled</span></a></span><span>               </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmTickyAP :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmTickyAP"><span class="hs-identifier hs-var">stgToCmmTickyAP</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralFlag -&gt; DynFlags -&gt; Bool
</span><a href="GHC.Driver.DynFlags.html#gopt"><span class="hs-identifier hs-var">gopt</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralFlag
</span><a href="GHC.Driver.Flags.html#Opt_Ticky_AP"><span class="hs-identifier hs-var">Opt_Ticky_AP</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-comment">-- See Note [Saving foreign call target to local]</span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">stgToCmmSaveFCallTargetToLocal :: Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmSaveFCallTargetToLocal"><span class="hs-identifier hs-var">stgToCmmSaveFCallTargetToLocal</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GlobalReg -&gt; Bool) -&gt; [GlobalReg] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; GlobalReg -&gt; Bool
</span><a href="GHC.Platform.Regs.html#callerSaves"><span class="hs-identifier hs-var">callerSaves</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682969104"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([GlobalReg] -&gt; Bool) -&gt; [GlobalReg] -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Platform -&gt; [GlobalReg]
</span><a href="GHC.Platform.Regs.html#activeStgRegs"><span class="hs-identifier hs-var">activeStgRegs</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682969104"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621682969039"><span class="annot"><span class="annottext">profile :: Profile
</span><a href="#local-6989586621682969039"><span class="hs-identifier hs-var hs-var">profile</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Profile
</span><a href="GHC.Driver.DynFlags.html#targetProfile"><span class="hs-identifier hs-var">targetProfile</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-94"></span><span>          </span><span id="local-6989586621682969104"><span class="annot"><span class="annottext">platform :: Platform
</span><a href="#local-6989586621682969104"><span class="hs-identifier hs-var hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Platform
</span><a href="GHC.Platform.Profile.html#profilePlatform"><span class="hs-identifier hs-var">profilePlatform</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682969039"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-95"></span><span>          </span><span id="local-6989586621682969139"><span class="annot"><span class="annottext">bk_end :: Backend
</span><a href="#local-6989586621682969139"><span class="hs-identifier hs-var hs-var">bk_end</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Backend
</span><a href="GHC.Driver.DynFlags.html#backend"><span class="hs-identifier hs-var">backend</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-96"></span><span>          </span><span id="local-6989586621682969099"><span class="annot"><span class="annottext">w64 :: Bool
</span><a href="#local-6989586621682969099"><span class="hs-identifier hs-var hs-var">w64</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; PlatformWordSize
</span><a href="GHC.Platform.html#platformWordSize"><span class="hs-identifier hs-var">platformWordSize</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682969104"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">PlatformWordSize -&gt; PlatformWordSize -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">PlatformWordSize
</span><a href="GHC.Platform.html#PW8"><span class="hs-identifier hs-var">PW8</span></a></span><span>
</span><span id="line-97"></span><span>          </span><span id="local-6989586621682969050"><span class="annot"><span class="annottext">b_blob :: Maybe Word
</span><a href="#local-6989586621682969050"><span class="hs-identifier hs-var hs-var">b_blob</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969102"><span class="hs-identifier hs-var">ncg</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe Word
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Maybe Word
</span><a href="GHC.Driver.DynFlags.html#binBlobThreshold"><span class="hs-identifier hs-var">binBlobThreshold</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-98"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621682969102"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969102"><span class="hs-identifier hs-var">ncg</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682969113"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682969113"><span class="hs-identifier hs-var">llvm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Backend -&gt; PrimitiveImplementation
</span><a href="GHC.Driver.Backend.html#backendPrimitiveImplementation"><span class="hs-identifier hs-var">backendPrimitiveImplementation</span></a></span><span> </span><span class="annot"><span class="annottext">Backend
</span><a href="#local-6989586621682969139"><span class="hs-identifier hs-var">bk_end</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-99"></span><span>                          </span><span class="annot"><span class="annottext">PrimitiveImplementation
</span><a href="GHC.Driver.Backend.html#GenericPrimitives"><span class="hs-identifier hs-var">GenericPrimitives</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>                          </span><span class="annot"><span class="annottext">PrimitiveImplementation
</span><a href="GHC.Driver.Backend.html#JSPrimitives"><span class="hs-identifier hs-var">JSPrimitives</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>                          </span><span class="annot"><span class="annottext">PrimitiveImplementation
</span><a href="GHC.Driver.Backend.html#NcgPrimitives"><span class="hs-identifier hs-var">NcgPrimitives</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>                          </span><span class="annot"><span class="annottext">PrimitiveImplementation
</span><a href="GHC.Driver.Backend.html#LlvmPrimitives"><span class="hs-identifier hs-var">LlvmPrimitives</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>          </span><span id="local-6989586621682969121"><span class="annot"><span class="annottext">aarch64 :: Bool
</span><a href="#local-6989586621682969121"><span class="hs-identifier hs-var hs-var">aarch64</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682969104"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-104"></span><span>                      </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier hs-var">ArchAArch64</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-105"></span><span>                      </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-106"></span><span>          </span><span id="local-6989586621682969110"><span class="annot"><span class="annottext">x86ish :: Bool
</span><a href="#local-6989586621682969110"><span class="hs-identifier hs-var hs-var">x86ish</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682969104"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-107"></span><span>                      </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier hs-var">ArchX86</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-108"></span><span>                      </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier hs-var">ArchX86_64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-109"></span><span>                      </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-110"></span><span>          </span><span id="local-6989586621682969111"><span class="annot"><span class="annottext">ppc :: Bool
</span><a href="#local-6989586621682969111"><span class="hs-identifier hs-var hs-var">ppc</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682969104"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-111"></span><span>                      </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier hs-var">ArchPPC</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-112"></span><span>                      </span><span class="annot"><span class="hs-identifier hs-type">ArchPPC_64</span></span><span> </span><span class="annot"><span class="annottext">PPC_64ABI
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-113"></span><span>                      </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-114"></span><span>          </span><span id="local-6989586621682969124"><span class="annot"><span class="annottext">vec_err :: Maybe String
</span><a href="#local-6989586621682969124"><span class="hs-identifier hs-var hs-var">vec_err</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Backend -&gt; Validity' String
</span><a href="GHC.Driver.Backend.html#backendSimdValidity"><span class="hs-identifier hs-var">backendSimdValidity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DynFlags -&gt; Backend
</span><a href="GHC.Driver.DynFlags.html#backend"><span class="hs-identifier hs-var">backend</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682969035"><span class="hs-identifier hs-var">dflags</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-115"></span><span>                      </span><span class="annot"><span class="annottext">Validity' String
</span><a href="GHC.Utils.Error.html#IsValid"><span class="hs-identifier hs-var">IsValid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-116"></span><span>                      </span><span class="annot"><a href="GHC.Utils.Error.html#NotValid"><span class="hs-identifier hs-type">NotValid</span></a></span><span> </span><span id="local-6989586621682969156"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682969156"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682969156"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-117"></span></pre></body></html>