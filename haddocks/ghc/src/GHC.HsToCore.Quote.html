<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes    #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DataKinds              #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts       #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances      #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE MultiWayIf             #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE PatternSynonyms        #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE RankNTypes             #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables    #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications       #-}</span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies           #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances   #-}</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-incomplete-uni-patterns #-}</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-18"></span><span class="hs-comment">--</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- (c) The University of Glasgow 2006</span><span>
</span><span id="line-20"></span><span class="hs-comment">--</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- The purpose of this module is to transform an HsExpr into a CoreExpr which</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- when evaluated, returns a (Meta.Q Meta.Exp) computation analogous to the</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- input HsExpr. We do this in the DsM monad, which supplies access to</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- CoreExpr's of the &quot;smart constructors&quot; of the Meta.Exp datatype.</span><span>
</span><span id="line-25"></span><span class="hs-comment">--</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- It also defines a bunch of knownKeyNames, in the same way as is done</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- in prelude/GHC.Builtin.Names.  It's much more convenient to do it here, because</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- otherwise we have to recompile GHC.Builtin.Names whenever we add a Name, which is</span><span>
</span><span id="line-29"></span><span class="hs-comment">-- a Royal Pain (triggers other recompilation).</span><span>
</span><span id="line-30"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html"><span class="hs-identifier">GHC.HsToCore.Quote</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#dsBracket"><span class="hs-identifier">dsBracket</span></a></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.html"><span class="hs-identifier">GHC.Platform</span></a></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.DynFlags.html"><span class="hs-identifier">GHC.Driver.DynFlags</span></a></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.HsToCore.Errors.Types.html"><span class="hs-identifier">GHC.HsToCore.Errors.Types</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="hs-pragma">{-# SOURCE</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="annot"><a href="GHC.HsToCore.Expr.html"><span class="hs-identifier">GHC.HsToCore.Expr</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.HsToCore.Expr.html#dsExpr"><span class="hs-identifier">dsExpr</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.HsToCore.Match.Literal.html"><span class="hs-identifier">GHC.HsToCore.Match.Literal</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.HsToCore.Monad.html"><span class="hs-identifier">GHC.HsToCore.Monad</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.HsToCore.Binds.html"><span class="hs-identifier">GHC.HsToCore.Binds</span></a></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Internal.TH.Syntax</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TH</span></span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.html"><span class="hs-identifier">GHC.Hs</span></a></span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Utils.TcType.html"><span class="hs-identifier">GHC.Tc.Utils.TcType</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Types.Evidence.html"><span class="hs-identifier">GHC.Tc.Types.Evidence</span></a></span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Class.html"><span class="hs-identifier">GHC.Core.Class</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.DataCon.html"><span class="hs-identifier">GHC.Core.DataCon</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.html"><span class="hs-identifier">GHC.Core</span></a></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Type.html"><span class="hs-identifier">GHC.Core.Type</span></a></span><span class="hs-special">(</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="GHC.Core.Type.html#ManyTy"><span class="hs-identifier">ManyTy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#mkFunTy"><span class="hs-identifier">mkFunTy</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Make.html"><span class="hs-identifier">GHC.Core.Make</span></a></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Utils.html"><span class="hs-identifier">GHC.Core.Utils</span></a></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html"><span class="hs-identifier">GHC.Builtin.Names</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html"><span class="hs-identifier">GHC.Builtin.Names.TH</span></a></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html"><span class="hs-identifier">GHC.Builtin.Types</span></a></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Types.Prim.html"><span class="hs-identifier">GHC.Builtin.Types.Prim</span></a></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.html"><span class="hs-identifier">GHC.Unit.Module</span></a></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Monad.html"><span class="hs-identifier">GHC.Utils.Monad</span></a></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Maybe.html"><span class="hs-identifier">GHC.Data.Maybe</span></a></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">SrcLoc</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html"><span class="hs-identifier">GHC.Types.Unique</span></a></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html"><span class="hs-identifier">GHC.Types.ForeignCall</span></a></span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.html"><span class="hs-identifier">GHC.Types.Var</span></a></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Id.html"><span class="hs-identifier">GHC.Types.Id</span></a></span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html"><span class="hs-identifier">GHC.Types.SourceText</span></a></span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Fixity.html"><span class="hs-identifier">GHC.Types.Fixity</span></a></span><span>
</span><span id="line-83"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html"><span class="hs-identifier">GHC.Types.TyThing</span></a></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span> </span><span class="hs-keyword">hiding</span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier">varName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#tcName"><span class="hs-identifier">tcName</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Env.html"><span class="hs-identifier">GHC.Types.Name.Env</span></a></span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/GHC.TypeLits.html"><span class="hs-identifier">GHC.TypeLits</span></a></span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Kind.html"><span class="hs-identifier">Data.Kind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Constraint</span></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../ghc-boot-9.12.2-1a37/src/GHC.LanguageExtensions.html"><span class="hs-identifier">GHC.LanguageExtensions</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LangExt</span></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html"><span class="hs-identifier">Language.Haskell.Syntax.Basic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#FieldLabelString"><span class="hs-identifier">FieldLabelString</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../bytestring-0.12.2.0-7dd0/src/Data.ByteString.html"><span class="hs-identifier">Data.ByteString</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="../../bytestring-0.12.2.0-7dd0/src/Data.ByteString.html#unpack"><span class="hs-identifier">unpack</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">sort</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">sortBy</span></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html#toList"><span class="hs-identifier">toList</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Function.html"><span class="hs-identifier">Data.Function</span></a></span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Reader.html"><span class="hs-identifier">Control.Monad.Trans.Reader</span></a></span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html"><span class="hs-identifier">Control.Monad.Trans.Class</span></a></span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html"><span class="hs-identifier">GHC.Types.Name.Reader</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier">RdrName</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-keyword">data</span><span> </span><span id="MetaWrappers"><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaWrappers"><span class="hs-identifier hs-var">MetaWrappers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MetaWrappers"><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaWrappers"><span class="hs-identifier hs-var">MetaWrappers</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-104"></span><span>      </span><span class="hs-comment">-- Applies its argument to a type argument `m` and dictionary `Quote m`</span><span>
</span><span id="line-105"></span><span>      </span><span id="quoteWrapper"><span class="annot"><span class="annottext">MetaWrappers -&gt; CoreExpr -&gt; CoreExpr
</span><a href="GHC.HsToCore.Quote.html#quoteWrapper"><span class="hs-identifier hs-var hs-var">quoteWrapper</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span>
</span><span id="line-106"></span><span>      </span><span class="hs-comment">-- Apply its argument to a type argument `m` and a dictionary `Monad m`</span><span>
</span><span id="line-107"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="monadWrapper"><span class="annot"><span class="annottext">MetaWrappers -&gt; CoreExpr -&gt; CoreExpr
</span><a href="GHC.HsToCore.Quote.html#monadWrapper"><span class="hs-identifier hs-var hs-var">monadWrapper</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span>
</span><span id="line-108"></span><span>      </span><span class="hs-comment">-- Apply the container typed variable `m` to the argument type `T` to get `m T`.</span><span>
</span><span id="line-109"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="metaTy"><span class="annot"><span class="annottext">MetaWrappers -&gt; Type -&gt; Type
</span><a href="GHC.HsToCore.Quote.html#metaTy"><span class="hs-identifier hs-var hs-var">metaTy</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-110"></span><span>      </span><span class="hs-comment">-- Information about the wrappers which be printed to be inspected</span><span>
</span><span id="line-111"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="_debugWrappers"><span class="annot"><span class="annottext">MetaWrappers -&gt; (HsWrapper, HsWrapper, Type)
</span><a href="GHC.HsToCore.Quote.html#_debugWrappers"><span class="hs-identifier hs-var hs-var">_debugWrappers</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.Evidence.html#HsWrapper"><span class="hs-identifier hs-type">HsWrapper</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.Evidence.html#HsWrapper"><span class="hs-identifier hs-type">HsWrapper</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-comment">-- | Construct the functions which will apply the relevant part of the</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- QuoteWrapper to identifiers during desugaring.</span><span>
</span><span id="line-116"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#mkMetaWrappers"><span class="hs-identifier hs-type">mkMetaWrappers</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.Evidence.html#QuoteWrapper"><span class="hs-identifier hs-type">QuoteWrapper</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsM"><span class="hs-identifier hs-type">DsM</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaWrappers"><span class="hs-identifier hs-type">MetaWrappers</span></a></span><span>
</span><span id="line-117"></span><span id="mkMetaWrappers"><span class="annot"><span class="annottext">mkMetaWrappers :: QuoteWrapper -&gt; DsM MetaWrappers
</span><a href="GHC.HsToCore.Quote.html#mkMetaWrappers"><span class="hs-identifier hs-var hs-var">mkMetaWrappers</span></a></span></span><span> </span><span id="local-6989586621683133033"><span class="annot"><span class="annottext">q :: QuoteWrapper
</span><a href="#local-6989586621683133033"><span class="hs-identifier hs-var">q</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.Evidence.html#QuoteWrapper"><span class="hs-identifier hs-type">QuoteWrapper</span></a></span><span> </span><span id="local-6989586621683133035"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683133035"><span class="hs-identifier hs-var">quote_var_raw</span></a></span></span><span> </span><span id="local-6989586621683133036"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683133036"><span class="hs-identifier hs-var">m_var</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-118"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683133037"><span class="annot"><span class="annottext">quote_var :: CoreExpr
</span><a href="#local-6989586621683133037"><span class="hs-identifier hs-var hs-var hs-var">quote_var</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; CoreExpr
forall b. Id -&gt; Expr b
</span><a href="GHC.Core.html#Var"><span class="hs-identifier hs-var">Var</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683133035"><span class="hs-identifier hs-var">quote_var_raw</span></a></span><span>
</span><span id="line-119"></span><span>      </span><span class="hs-comment">-- Get the superclass selector to select the Monad dictionary, going</span><span>
</span><span id="line-120"></span><span>      </span><span class="hs-comment">-- to be used to construct the monadWrapper.</span><span>
</span><span id="line-121"></span><span>      </span><span id="local-6989586621683133039"><span class="annot"><a href="#local-6989586621683133039"><span class="hs-identifier hs-var">quote_tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; DsM TyCon
</span><a href="GHC.HsToCore.Monad.html#dsLookupTyCon"><span class="hs-identifier hs-var">dsLookupTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#quoteClassName"><span class="hs-identifier hs-var">quoteClassName</span></a></span><span>
</span><span id="line-122"></span><span>      </span><span id="local-6989586621683133042"><span class="annot"><a href="#local-6989586621683133042"><span class="hs-identifier hs-var">monad_tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Monad.html#dsLookupTyCon"><span class="hs-identifier hs-type">dsLookupTyCon</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html#monadClassName"><span class="hs-identifier hs-type">monadClassName</span></a></span><span>
</span><span id="line-123"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683133044"><span class="annot"><a href="#local-6989586621683133044"><span class="hs-identifier hs-var">cls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#tyConClass_maybe"><span class="hs-identifier hs-type">tyConClass_maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133039"><span class="hs-identifier hs-type">quote_tc</span></a></span><span>
</span><span id="line-124"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683133046"><span class="annot"><a href="#local-6989586621683133046"><span class="hs-identifier hs-var">monad_cls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#tyConClass_maybe"><span class="hs-identifier hs-type">tyConClass_maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133042"><span class="hs-identifier hs-type">monad_tc</span></a></span><span>
</span><span id="line-125"></span><span>          </span><span class="hs-comment">-- Quote m -&gt; Monad m</span><span>
</span><span id="line-126"></span><span>          </span><span id="local-6989586621683133047"><span class="annot"><a href="#local-6989586621683133047"><span class="hs-identifier hs-var hs-var">monad_sel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Class -&gt; Int -&gt; Id
</span><a href="GHC.Core.Class.html#classSCSelId"><span class="hs-identifier hs-var">classSCSelId</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621683133044"><span class="hs-identifier hs-var">cls</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span>          </span><span class="hs-comment">-- Only used for the defensive assertion that the selector has</span><span>
</span><span id="line-129"></span><span>          </span><span class="hs-comment">-- the expected type</span><span>
</span><span id="line-130"></span><span>          </span><span id="local-6989586621683133049"><span class="annot"><a href="#local-6989586621683133049"><span class="hs-identifier hs-var hs-var">tyvars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [InvisTVBinder]
</span><a href="GHC.Core.DataCon.html#dataConUserTyVarBinders"><span class="hs-identifier hs-var">dataConUserTyVarBinders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Class -&gt; DataCon
</span><a href="GHC.Core.DataCon.html#classDataCon"><span class="hs-identifier hs-var">classDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621683133044"><span class="hs-identifier hs-var">cls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>          </span><span id="local-6989586621683133052"><span class="annot"><a href="#local-6989586621683133052"><span class="hs-identifier hs-var hs-var">expected_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[InvisTVBinder] -&gt; Type -&gt; Type
</span><a href="GHC.Core.TyCo.Rep.html#mkInvisForAllTys"><span class="hs-identifier hs-var">mkInvisForAllTys</span></a></span><span> </span><span class="annot"><span class="annottext">[InvisTVBinder]
</span><a href="#local-6989586621683133049"><span class="hs-identifier hs-var">tyvars</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; Type -&gt; Type
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-132"></span><span>                        </span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; FunTyFlag -&gt; Type -&gt; Type -&gt; Type -&gt; Type
FunTyFlag -&gt; Type -&gt; Type -&gt; Type -&gt; Type
</span><a href="GHC.Core.TyCo.Rep.html#mkFunTy"><span class="hs-identifier hs-var">mkFunTy</span></a></span><span> </span><span class="annot"><span class="annottext">FunTyFlag
</span><a href="GHC.Types.Var.html#invisArgConstraintLike"><span class="hs-identifier hs-var">invisArgConstraintLike</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Core.Type.html#ManyTy"><span class="hs-identifier hs-var">ManyTy</span></a></span><span>
</span><span id="line-133"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Class -&gt; [Type] -&gt; Type
</span><a href="GHC.Core.Predicate.html#mkClassPred"><span class="hs-identifier hs-var">mkClassPred</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621683133044"><span class="hs-identifier hs-var">cls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id] -&gt; [Type]
</span><a href="GHC.Core.TyCo.Rep.html#mkTyVarTys"><span class="hs-identifier hs-var">mkTyVarTys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[InvisTVBinder] -&gt; [Id]
forall tv argf. [VarBndr tv argf] -&gt; [tv]
</span><a href="GHC.Types.Var.html#binderVars"><span class="hs-identifier hs-var">binderVars</span></a></span><span> </span><span class="annot"><span class="annottext">[InvisTVBinder]
</span><a href="#local-6989586621683133049"><span class="hs-identifier hs-var">tyvars</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Class -&gt; [Type] -&gt; Type
</span><a href="GHC.Core.Predicate.html#mkClassPred"><span class="hs-identifier hs-var">mkClassPred</span></a></span><span> </span><span class="annot"><span class="annottext">Class
</span><a href="#local-6989586621683133046"><span class="hs-identifier hs-var">monad_cls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id] -&gt; [Type]
</span><a href="GHC.Core.TyCo.Rep.html#mkTyVarTys"><span class="hs-identifier hs-var">mkTyVarTys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[InvisTVBinder] -&gt; [Id]
forall tv argf. [VarBndr tv argf] -&gt; [tv]
</span><a href="GHC.Types.Var.html#binderVars"><span class="hs-identifier hs-var">binderVars</span></a></span><span> </span><span class="annot"><span class="annottext">[InvisTVBinder]
</span><a href="#local-6989586621683133049"><span class="hs-identifier hs-var">tyvars</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span>      </span><span class="annot"><a href="GHC.Utils.Panic.html#massertPpr"><span class="hs-identifier hs-type">massertPpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-type">idType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133047"><span class="hs-identifier hs-type">monad_sel</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Compare.html#eqType"><span class="hs-operator hs-type">`eqType`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133052"><span class="hs-identifier hs-type">expected_ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-type">ppr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133047"><span class="hs-identifier hs-type">monad_sel</span></a></span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-type">$$</span></a></span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-type">ppr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133052"><span class="hs-identifier hs-type">expected_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683133063"><span class="annot"><a href="#local-6989586621683133063"><span class="hs-identifier hs-var hs-var">m_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CoreExpr
forall b. Type -&gt; Expr b
</span><a href="GHC.Core.html#Type"><span class="hs-identifier hs-var">Type</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683133036"><span class="hs-identifier hs-var">m_var</span></a></span><span>
</span><span id="line-139"></span><span>          </span><span class="hs-comment">-- Construct the contents of MetaWrappers</span><span>
</span><span id="line-140"></span><span>          </span><span id="local-6989586621683133065"><span class="annot"><a href="#local-6989586621683133065"><span class="hs-identifier hs-var hs-var">quoteWrapper</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QuoteWrapper -&gt; HsWrapper
</span><a href="GHC.Tc.Types.Evidence.html#applyQuoteWrapper"><span class="hs-identifier hs-var">applyQuoteWrapper</span></a></span><span> </span><span class="annot"><span class="annottext">QuoteWrapper
</span><a href="#local-6989586621683133033"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-141"></span><span>          </span><span id="local-6989586621683133067"><span class="annot"><a href="#local-6989586621683133067"><span class="hs-identifier hs-var hs-var">monadWrapper</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[EvTerm] -&gt; HsWrapper
</span><a href="GHC.Tc.Types.Evidence.html#mkWpEvApps"><span class="hs-identifier hs-var">mkWpEvApps</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr -&gt; EvTerm
</span><a href="GHC.Tc.Types.Evidence.html#EvExpr"><span class="hs-identifier hs-var">EvExpr</span></a></span><span> </span><span class="annot"><span class="annottext">(CoreExpr -&gt; EvTerm) -&gt; CoreExpr -&gt; EvTerm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CoreExpr -&gt; [CoreExpr] -&gt; CoreExpr
</span><a href="GHC.Core.Make.html#mkCoreApps"><span class="hs-identifier hs-var">mkCoreApps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; CoreExpr
forall b. Id -&gt; Expr b
</span><a href="GHC.Core.html#Var"><span class="hs-identifier hs-var">Var</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683133047"><span class="hs-identifier hs-var">monad_sel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683133063"><span class="hs-identifier hs-var">m_ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683133037"><span class="hs-identifier hs-var">quote_var</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">HsWrapper -&gt; HsWrapper -&gt; HsWrapper
</span><a href="GHC.Tc.Types.Evidence.html#%3C.%3E"><span class="hs-operator hs-var">&lt;.&gt;</span></a></span><span>
</span><span id="line-142"></span><span>                            </span><span class="annot"><span class="annottext">[Type] -&gt; HsWrapper
</span><a href="GHC.Tc.Types.Evidence.html#mkWpTyApps"><span class="hs-identifier hs-var">mkWpTyApps</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683133036"><span class="hs-identifier hs-var">m_var</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-143"></span><span>          </span><span id="local-6989586621683133073"><span class="annot"><a href="#local-6989586621683133073"><span class="hs-identifier hs-var hs-var">tyWrapper</span></a></span></span><span> </span><span id="local-6989586621683133074"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683133074"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; Type
</span><a href="GHC.Core.Type.html#mkAppTy"><span class="hs-identifier hs-var">mkAppTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683133036"><span class="hs-identifier hs-var">m_var</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683133074"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-144"></span><span>          </span><span id="local-6989586621683133076"><span class="annot"><a href="#local-6989586621683133076"><span class="hs-identifier hs-var hs-var">debug</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsWrapper
</span><a href="#local-6989586621683133065"><span class="hs-identifier hs-var">quoteWrapper</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsWrapper
</span><a href="#local-6989586621683133067"><span class="hs-identifier hs-var">monadWrapper</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683133036"><span class="hs-identifier hs-var">m_var</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>      </span><span class="annot"><a href="GHC.HsToCore.Binds.html#dsHsWrapper"><span class="hs-identifier hs-type">dsHsWrapper</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133065"><span class="hs-identifier hs-type">quoteWrapper</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621683133078"><span class="annot"><span class="annottext">CoreExpr -&gt; CoreExpr
</span><a href="#local-6989586621683133078"><span class="hs-identifier hs-var">q_f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-146"></span><span>      </span><span class="annot"><span class="annottext">HsWrapper
-&gt; ((CoreExpr -&gt; CoreExpr) -&gt; DsM MetaWrappers) -&gt; DsM MetaWrappers
forall a. HsWrapper -&gt; ((CoreExpr -&gt; CoreExpr) -&gt; DsM a) -&gt; DsM a
</span><a href="GHC.HsToCore.Binds.html#dsHsWrapper"><span class="hs-identifier hs-var">dsHsWrapper</span></a></span><span> </span><span class="annot"><span class="annottext">HsWrapper
</span><a href="#local-6989586621683133067"><span class="hs-identifier hs-var">monadWrapper</span></a></span><span> </span><span class="annot"><span class="annottext">(((CoreExpr -&gt; CoreExpr) -&gt; DsM MetaWrappers) -&gt; DsM MetaWrappers)
-&gt; ((CoreExpr -&gt; CoreExpr) -&gt; DsM MetaWrappers) -&gt; DsM MetaWrappers
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621683133079"><span class="annot"><span class="annottext">CoreExpr -&gt; CoreExpr
</span><a href="#local-6989586621683133079"><span class="hs-identifier hs-var">m_f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-147"></span><span>      </span><span class="annot"><span class="annottext">MetaWrappers -&gt; DsM MetaWrappers
forall a. a -&gt; IOEnv (Env DsGblEnv DsLclEnv) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CoreExpr -&gt; CoreExpr)
-&gt; (CoreExpr -&gt; CoreExpr)
-&gt; (Type -&gt; Type)
-&gt; (HsWrapper, HsWrapper, Type)
-&gt; MetaWrappers
</span><a href="GHC.HsToCore.Quote.html#MetaWrappers"><span class="hs-identifier hs-var">MetaWrappers</span></a></span><span> </span><span class="annot"><span class="annottext">CoreExpr -&gt; CoreExpr
</span><a href="#local-6989586621683133078"><span class="hs-identifier hs-var">q_f</span></a></span><span> </span><span class="annot"><span class="annottext">CoreExpr -&gt; CoreExpr
</span><a href="#local-6989586621683133079"><span class="hs-identifier hs-var">m_f</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="#local-6989586621683133073"><span class="hs-identifier hs-var">tyWrapper</span></a></span><span> </span><span class="annot"><span class="annottext">(HsWrapper, HsWrapper, Type)
</span><a href="#local-6989586621683133076"><span class="hs-identifier hs-var">debug</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span class="hs-comment">-- Turn A into m A</span><span>
</span><span id="line-150"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapName"><span class="hs-identifier hs-type">wrapName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>
</span><span id="line-151"></span><span id="wrapName"><span class="annot"><span class="annottext">wrapName :: Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#wrapName"><span class="hs-identifier hs-var hs-var">wrapName</span></a></span></span><span> </span><span id="local-6989586621683133081"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683133081"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-152"></span><span>  </span><span id="local-6989586621683133082"><span class="annot"><a href="#local-6989586621683133082"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#lookupType"><span class="hs-identifier hs-var">lookupType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683133081"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-153"></span><span>  </span><span id="local-6989586621683133084"><span class="annot"><a href="#local-6989586621683133084"><span class="hs-identifier hs-var">wrap_fn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Reader.html#asks"><span class="hs-identifier hs-type">asks</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#metaTy"><span class="hs-identifier hs-var">metaTy</span></a></span><span>
</span><span id="line-154"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683133084"><span class="hs-identifier hs-type">wrap_fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133082"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="hs-comment">-- The local state is always the same, calculated from the passed in</span><span>
</span><span id="line-157"></span><span class="hs-comment">-- wrapper</span><span>
</span><span id="line-158"></span><span class="hs-keyword">type</span><span> </span><span id="MetaM"><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-var">MetaM</span></a></span></span><span> </span><span id="local-6989586621683133086"><span class="annot"><a href="#local-6989586621683133086"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Reader.html#ReaderT"><span class="hs-identifier hs-type">ReaderT</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaWrappers"><span class="hs-identifier hs-type">MetaWrappers</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsM"><span class="hs-identifier hs-type">DsM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133086"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span>
</span><span id="line-161"></span><span id="getPlatform"><span class="annot"><span class="annottext">getPlatform :: MetaM Platform
</span><a href="GHC.HsToCore.Quote.html#getPlatform"><span class="hs-identifier hs-var hs-var">getPlatform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Platform
</span><a href="GHC.Driver.DynFlags.html#targetPlatform"><span class="hs-identifier hs-var">targetPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">(DynFlags -&gt; Platform)
-&gt; ReaderT MetaWrappers DsM DynFlags -&gt; MetaM Platform
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ReaderT MetaWrappers DsM DynFlags
forall (m :: * -&gt; *). HasDynFlags m =&gt; m DynFlags
</span><a href="GHC.Driver.DynFlags.html#getDynFlags"><span class="hs-identifier hs-var">getDynFlags</span></a></span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-164"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#dsBracket"><span class="hs-identifier hs-type">dsBracket</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsBracketTc"><span class="hs-identifier hs-type">HsBracketTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsM"><span class="hs-identifier hs-type">DsM</span></a></span><span> </span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span>
</span><span id="line-165"></span><span class="hs-comment">-- See Note [Desugaring Brackets]</span><span>
</span><span id="line-166"></span><span class="hs-comment">-- Returns a CoreExpr of type (M TH.Exp)</span><span>
</span><span id="line-167"></span><span class="hs-comment">-- The quoted thing is parameterised over Name, even though it has</span><span>
</span><span id="line-168"></span><span class="hs-comment">-- been type checked.  We don't want all those type decorations!</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span id="dsBracket"><span class="annot"><span class="annottext">dsBracket :: HsBracketTc -&gt; DsM CoreExpr
</span><a href="GHC.HsToCore.Quote.html#dsBracket"><span class="hs-identifier hs-var hs-var">dsBracket</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsBracketTc"><span class="hs-identifier hs-type">HsBracketTc</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hsb_wrap :: HsBracketTc -&gt; Maybe QuoteWrapper
</span><a href="GHC.Hs.Expr.html#hsb_wrap"><span class="hs-identifier hs-var">hsb_wrap</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133093"><span class="annot"><span class="annottext">Maybe QuoteWrapper
</span><a href="#local-6989586621683133093"><span class="hs-identifier hs-var">mb_wrap</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hsb_splices :: HsBracketTc -&gt; [PendingTcSplice]
</span><a href="GHC.Hs.Expr.html#hsb_splices"><span class="hs-identifier hs-var">hsb_splices</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133095"><span class="annot"><span class="annottext">[PendingTcSplice]
</span><a href="#local-6989586621683133095"><span class="hs-identifier hs-var">splices</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hsb_quote :: HsBracketTc -&gt; HsQuote GhcRn
</span><a href="GHC.Hs.Expr.html#hsb_quote"><span class="hs-identifier hs-var">hsb_quote</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133097"><span class="annot"><span class="annottext">HsQuote GhcRn
</span><a href="#local-6989586621683133097"><span class="hs-identifier hs-var">quote</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsQuote GhcRn
</span><a href="#local-6989586621683133097"><span class="hs-identifier hs-var">quote</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-172"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#VarBr"><span class="hs-identifier hs-type">VarBr</span></a></span><span> </span><span class="annot"><span class="annottext">XVarBr GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133099"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133099"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133101"><span class="annot"><a href="#local-6989586621683133101"><span class="hs-identifier hs-var">e1</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; DsM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupOccDsM"><span class="hs-identifier hs-var">lookupOccDsM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133099"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621683133101"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-173"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExpBr"><span class="hs-identifier hs-type">ExpBr</span></a></span><span> </span><span class="annot"><span class="annottext">XExpBr GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133105"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683133105"><span class="hs-identifier hs-var">e</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ReaderT MetaWrappers DsM CoreExpr -&gt; DsM CoreExpr
</span><a href="#local-6989586621683133106"><span class="hs-identifier hs-var">runOverloaded</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT MetaWrappers DsM CoreExpr -&gt; DsM CoreExpr)
-&gt; ReaderT MetaWrappers DsM CoreExpr -&gt; DsM CoreExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133107"><span class="annot"><a href="#local-6989586621683133107"><span class="hs-identifier hs-var">e1</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683133105"><span class="hs-identifier hs-var">e</span></a></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621683133107"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-174"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#PatBr"><span class="hs-identifier hs-type">PatBr</span></a></span><span> </span><span class="annot"><span class="annottext">XPatBr GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133110"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683133110"><span class="hs-identifier hs-var">p</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ReaderT MetaWrappers DsM CoreExpr -&gt; DsM CoreExpr
</span><a href="#local-6989586621683133106"><span class="hs-identifier hs-var">runOverloaded</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT MetaWrappers DsM CoreExpr -&gt; DsM CoreExpr)
-&gt; ReaderT MetaWrappers DsM CoreExpr -&gt; DsM CoreExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133111"><span class="annot"><a href="#local-6989586621683133111"><span class="hs-identifier hs-var">p1</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LPat GhcRn -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repTopP"><span class="hs-identifier hs-var">repTopP</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683133110"><span class="hs-identifier hs-var">p</span></a></span><span>   </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621683133111"><span class="hs-identifier hs-type">p1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-175"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#TypBr"><span class="hs-identifier hs-type">TypBr</span></a></span><span> </span><span class="annot"><span class="annottext">XTypBr GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133114"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133114"><span class="hs-identifier hs-var">t</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ReaderT MetaWrappers DsM CoreExpr -&gt; DsM CoreExpr
</span><a href="#local-6989586621683133106"><span class="hs-identifier hs-var">runOverloaded</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT MetaWrappers DsM CoreExpr -&gt; DsM CoreExpr)
-&gt; ReaderT MetaWrappers DsM CoreExpr -&gt; DsM CoreExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133115"><span class="annot"><a href="#local-6989586621683133115"><span class="hs-identifier hs-var">t1</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133114"><span class="hs-identifier hs-var">t</span></a></span><span>    </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621683133115"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-176"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#DecBrG"><span class="hs-identifier hs-type">DecBrG</span></a></span><span> </span><span class="annot"><span class="annottext">XDecBrG GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133118"><span class="annot"><span class="annottext">HsGroup GhcRn
</span><a href="#local-6989586621683133118"><span class="hs-identifier hs-var">gp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ReaderT MetaWrappers DsM CoreExpr -&gt; DsM CoreExpr
</span><a href="#local-6989586621683133106"><span class="hs-identifier hs-var">runOverloaded</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT MetaWrappers DsM CoreExpr -&gt; DsM CoreExpr)
-&gt; ReaderT MetaWrappers DsM CoreExpr -&gt; DsM CoreExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133119"><span class="annot"><a href="#local-6989586621683133119"><span class="hs-identifier hs-var">ds1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsGroup GhcRn -&gt; MetaM (Core (M [Dec]))
</span><a href="GHC.HsToCore.Quote.html#repTopDs"><span class="hs-identifier hs-var">repTopDs</span></a></span><span> </span><span class="annot"><span class="annottext">HsGroup GhcRn
</span><a href="#local-6989586621683133118"><span class="hs-identifier hs-var">gp</span></a></span><span> </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621683133119"><span class="hs-identifier hs-type">ds1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-177"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#DecBrL"><span class="hs-identifier hs-type">DecBrL</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; DsM CoreExpr
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dsUntypedBracket: unexpected DecBrL&quot;</span></span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-179"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683133123"><span class="annot"><span class="annottext">QuoteWrapper
</span><a href="#local-6989586621683133123"><span class="hs-identifier hs-var">wrap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe QuoteWrapper
</span><a href="#local-6989586621683133093"><span class="hs-identifier hs-var">mb_wrap</span></a></span><span>  </span><span class="hs-comment">-- Not used in VarBr case</span><span>
</span><span id="line-180"></span><span>      </span><span class="hs-comment">-- In the overloaded case we have to get given a wrapper, it is just</span><span>
</span><span id="line-181"></span><span>      </span><span class="hs-comment">-- the VarBr case that there is no wrapper, because they</span><span>
</span><span id="line-182"></span><span>      </span><span class="hs-comment">-- have a simple type.</span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span>    </span><span id="local-6989586621683133106"><span class="annot"><span class="annottext">runOverloaded :: ReaderT MetaWrappers DsM CoreExpr -&gt; DsM CoreExpr
</span><a href="#local-6989586621683133106"><span class="hs-identifier hs-var hs-var">runOverloaded</span></a></span></span><span> </span><span id="local-6989586621683133124"><span class="annot"><span class="annottext">ReaderT MetaWrappers DsM CoreExpr
</span><a href="#local-6989586621683133124"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133125"><span class="annot"><a href="#local-6989586621683133125"><span class="hs-identifier hs-var">mw</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">QuoteWrapper -&gt; DsM MetaWrappers
</span><a href="GHC.HsToCore.Quote.html#mkMetaWrappers"><span class="hs-identifier hs-var">mkMetaWrappers</span></a></span><span> </span><span class="annot"><span class="annottext">QuoteWrapper
</span><a href="#local-6989586621683133123"><span class="hs-identifier hs-var">wrap</span></a></span><span>
</span><span id="line-185"></span><span>                           </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Reader.html#runReaderT"><span class="hs-identifier hs-var">runReaderT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Reader.html#mapReaderT"><span class="hs-identifier hs-type">mapReaderT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Monad.html#dsExtendMetaEnv"><span class="hs-identifier hs-type">dsExtendMetaEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133129"><span class="hs-identifier hs-type">new_bit</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683133124"><span class="hs-identifier hs-type">act</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683133125"><span class="hs-identifier hs-type">mw</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span>    </span><span id="local-6989586621683133129"><span class="annot"><span class="annottext">new_bit :: DsMetaEnv
</span><a href="#local-6989586621683133129"><span class="hs-identifier hs-var hs-var">new_bit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Name, DsMetaVal)] -&gt; DsMetaEnv
forall a. [(Name, a)] -&gt; NameEnv a
</span><a href="GHC.Types.Name.Env.html#mkNameEnv"><span class="hs-identifier hs-var">mkNameEnv</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683133131"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; DsMetaVal
</span><a href="GHC.HsToCore.Types.html#DsSplice"><span class="hs-identifier hs-var">DsSplice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
GenLocated SrcSpanAnnA (HsExpr GhcTc)
</span><a href="#local-6989586621683133133"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#PendingTcSplice"><span class="hs-identifier hs-type">PendingTcSplice</span></a></span><span> </span><span id="local-6989586621683133131"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683133131"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621683133133"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621683133133"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[PendingTcSplice]
</span><a href="#local-6989586621683133095"><span class="hs-identifier hs-var">splices</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-comment">{-
Note [Desugaring Brackets]
~~~~~~~~~~~~~~~~~~~~~~~~~~

In the old days (pre Dec 2019) quotation brackets used to be monomorphic, ie
an expression bracket was of type Q Exp. This made the desugaring process simple
as there were no complicated type variables to keep consistent throughout the
whole AST. Due to the overloaded quotations proposal a quotation bracket is now
of type `Quote m =&gt; m Exp` and all the combinators defined in TH.Lib have been
generalised to work with any monad implementing a minimal interface.

https://github.com/ghc-proposals/ghc-proposals/blob/master/proposals/0246-overloaded-bracket.rst

Users can rejoice at the flexibility but now there is some additional complexity in
how brackets are desugared as all these polymorphic combinators need their arguments
instantiated.

&gt; IF YOU ARE MODIFYING THIS MODULE DO NOT USE ANYTHING SPECIFIC TO Q. INSTEAD
&gt; USE THE `wrapName` FUNCTION TO APPLY THE `m` TYPE VARIABLE TO A TYPE CONSTRUCTOR.

What the arguments should be instantiated to is supplied by the `QuoteWrapper`
datatype which is produced by `GHC.Tc.Gen.Splice`. It is a pair of an evidence variable
for `Quote m` and a type variable `m`. All the polymorphic combinators in desugaring
need to be applied to these two type variables.

There are three important functions which do the application.

1. The default is `rep2` which takes a function name of type `Quote m =&gt; T` as an argument.
2. `rep2M` takes a function name of type `Monad m =&gt; T` as an argument
3. `rep2_nw` takes a function name without any constraints as an argument.

These functions then use the information in QuoteWrapper to apply the correct
arguments to the functions as the representation is constructed.

The `MetaM` monad carries around an environment of three functions which are
used in order to wrap the polymorphic combinators and instantiate the arguments
to the correct things.

1. quoteWrapper wraps functions of type `forall m . Quote m =&gt; T`
2. monadWrapper wraps functions of type `forall m . Monad m =&gt; T`
3. metaTy wraps a type in the polymorphic `m` variable of the whole representation.

Historical note about the implementation: At the first attempt, I attempted to
lie that the type of any quotation was `Quote m =&gt; m Exp` and then specialise it
by applying a wrapper to pass the `m` and `Quote m` arguments. This approach was
simpler to implement but didn't work because of nested splices. For example,
you might have a nested splice of a more specific type which fixes the type of
the overall quote and so all the combinators used must also be instantiated to
that specific type. Therefore you really have to use the contents of the quote
wrapper to directly apply the right type to the combinators rather than
first generate a polymorphic definition and then just apply the wrapper at the end.

-}</span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span class="hs-comment">{- -------------- Examples --------------------

  [| \x -&gt; x |]
====&gt;
  gensym (unpackString &quot;x&quot;#) `bindQ` \ x1::String -&gt;
  lam (pvar x1) (var x1)


  [| \x -&gt; $(f [| x |]) |]
====&gt;
  gensym (unpackString &quot;x&quot;#) `bindQ` \ x1::String -&gt;
  lam (pvar x1) (f (var x1))
-}</span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span class="hs-comment">-------------------------------------------------------</span><span>
</span><span id="line-260"></span><span class="hs-comment">--                      Declarations</span><span>
</span><span id="line-261"></span><span class="hs-comment">-------------------------------------------------------</span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span class="hs-comment">-- Proxy for the phantom type of `Core`. All the generated fragments have</span><span>
</span><span id="line-264"></span><span class="hs-comment">-- type something like `Quote m =&gt; m Exp` so to keep things simple we represent fragments</span><span>
</span><span id="line-265"></span><span class="hs-comment">-- of that type as `M Exp`.</span><span>
</span><span id="line-266"></span><span class="hs-keyword">data</span><span> </span><span id="M"><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-var">M</span></a></span></span><span> </span><span id="local-6989586621683133135"><span class="annot"><a href="#local-6989586621683133135"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTopP"><span class="hs-identifier hs-type">repTopP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span id="repTopP"><span class="annot"><span class="annottext">repTopP :: LPat GhcRn -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repTopP"><span class="hs-identifier hs-var hs-var">repTopP</span></a></span></span><span> </span><span id="local-6989586621683133136"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683133136"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133137"><span class="annot"><a href="#local-6989586621683133137"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-var">mkGenSyms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CollectFlag GhcRn -&gt; LPat GhcRn -&gt; [IdP GhcRn]
forall p. CollectPass p =&gt; CollectFlag p -&gt; LPat p -&gt; [IdP p]
</span><a href="GHC.Hs.Utils.html#collectPatBinders"><span class="hs-identifier hs-var">collectPatBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcRn
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683133136"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>                 </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133141"><span class="annot"><a href="#local-6989586621683133141"><span class="hs-identifier hs-var">pat'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133137"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-type">repLP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133136"><span class="hs-identifier hs-type">pat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>                 </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133137"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133141"><span class="hs-identifier hs-type">pat'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTopDs"><span class="hs-identifier hs-type">repTopDs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span id="repTopDs"><span class="annot"><span class="annottext">repTopDs :: HsGroup GhcRn -&gt; MetaM (Core (M [Dec]))
</span><a href="GHC.HsToCore.Quote.html#repTopDs"><span class="hs-identifier hs-var hs-var">repTopDs</span></a></span></span><span> </span><span id="local-6989586621683133145"><span class="annot"><span class="annottext">group :: HsGroup GhcRn
</span><a href="#local-6989586621683133145"><span class="hs-identifier hs-var">group</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hs_valds :: forall p. HsGroup p -&gt; HsValBinds p
</span><a href="Language.Haskell.Syntax.Decls.html#hs_valds"><span class="hs-identifier hs-var">hs_valds</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133148"><span class="annot"><span class="annottext">HsValBinds GhcRn
</span><a href="#local-6989586621683133148"><span class="hs-identifier hs-var">valds</span></a></span></span><span>
</span><span id="line-275"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hs_splcds :: forall p. HsGroup p -&gt; [LSpliceDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_splcds"><span class="hs-identifier hs-var">hs_splcds</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133150"><span class="annot"><span class="annottext">[LSpliceDecl GhcRn]
</span><a href="#local-6989586621683133150"><span class="hs-identifier hs-var">splcds</span></a></span></span><span>
</span><span id="line-276"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hs_tyclds :: forall p. HsGroup p -&gt; [TyClGroup p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_tyclds"><span class="hs-identifier hs-var">hs_tyclds</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133152"><span class="annot"><span class="annottext">[TyClGroup GhcRn]
</span><a href="#local-6989586621683133152"><span class="hs-identifier hs-var">tyclds</span></a></span></span><span>
</span><span id="line-277"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hs_derivds :: forall p. HsGroup p -&gt; [LDerivDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_derivds"><span class="hs-identifier hs-var">hs_derivds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133154"><span class="annot"><span class="annottext">[LDerivDecl GhcRn]
</span><a href="#local-6989586621683133154"><span class="hs-identifier hs-var">derivds</span></a></span></span><span>
</span><span id="line-278"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hs_fixds :: forall p. HsGroup p -&gt; [LFixitySig p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_fixds"><span class="hs-identifier hs-var">hs_fixds</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133156"><span class="annot"><span class="annottext">[LFixitySig GhcRn]
</span><a href="#local-6989586621683133156"><span class="hs-identifier hs-var">fixds</span></a></span></span><span>
</span><span id="line-279"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hs_defds :: forall p. HsGroup p -&gt; [LDefaultDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_defds"><span class="hs-identifier hs-var">hs_defds</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133158"><span class="annot"><span class="annottext">[LDefaultDecl GhcRn]
</span><a href="#local-6989586621683133158"><span class="hs-identifier hs-var">defds</span></a></span></span><span>
</span><span id="line-280"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hs_fords :: forall p. HsGroup p -&gt; [LForeignDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_fords"><span class="hs-identifier hs-var">hs_fords</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133160"><span class="annot"><span class="annottext">[LForeignDecl GhcRn]
</span><a href="#local-6989586621683133160"><span class="hs-identifier hs-var">fords</span></a></span></span><span>
</span><span id="line-281"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hs_warnds :: forall p. HsGroup p -&gt; [LWarnDecls p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_warnds"><span class="hs-identifier hs-var">hs_warnds</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133162"><span class="annot"><span class="annottext">[LWarnDecls GhcRn]
</span><a href="#local-6989586621683133162"><span class="hs-identifier hs-var">warnds</span></a></span></span><span>
</span><span id="line-282"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hs_annds :: forall p. HsGroup p -&gt; [LAnnDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_annds"><span class="hs-identifier hs-var">hs_annds</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133164"><span class="annot"><span class="annottext">[LAnnDecl GhcRn]
</span><a href="#local-6989586621683133164"><span class="hs-identifier hs-var">annds</span></a></span></span><span>
</span><span id="line-283"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hs_ruleds :: forall p. HsGroup p -&gt; [LRuleDecls p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_ruleds"><span class="hs-identifier hs-var">hs_ruleds</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133166"><span class="annot"><span class="annottext">[LRuleDecls GhcRn]
</span><a href="#local-6989586621683133166"><span class="hs-identifier hs-var">ruleds</span></a></span></span><span>
</span><span id="line-284"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hs_docs :: forall p. HsGroup p -&gt; [LDocDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_docs"><span class="hs-identifier hs-var">hs_docs</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133168"><span class="annot"><span class="annottext">[LDocDecl GhcRn]
</span><a href="#local-6989586621683133168"><span class="hs-identifier hs-var">docs</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133169"><span class="annot"><span class="annottext">bndrs :: [Name]
</span><a href="#local-6989586621683133169"><span class="hs-identifier hs-var hs-var hs-var">bndrs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcRn -&gt; [Name]
</span><a href="GHC.HsToCore.Quote.html#hsScopedTvBinders"><span class="hs-identifier hs-var">hsScopedTvBinders</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcRn
</span><a href="#local-6989586621683133148"><span class="hs-identifier hs-var">valds</span></a></span><span>
</span><span id="line-286"></span><span>                       </span><span class="annot"><span class="annottext">[Name] -&gt; [Name] -&gt; [Name]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">HsGroup GhcRn -&gt; [Name]
</span><a href="GHC.Hs.Utils.html#hsGroupBinders"><span class="hs-identifier hs-var">hsGroupBinders</span></a></span><span> </span><span class="annot"><span class="annottext">HsGroup GhcRn
</span><a href="#local-6989586621683133145"><span class="hs-identifier hs-var">group</span></a></span><span>
</span><span id="line-287"></span><span>                       </span><span class="annot"><span class="annottext">[Name] -&gt; [Name] -&gt; [Name]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(FieldOcc GhcRn -&gt; Name) -&gt; [FieldOcc GhcRn] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN Name -&gt; Name)
-&gt; (FieldOcc GhcRn -&gt; GenLocated SrcSpanAnnN Name)
-&gt; FieldOcc GhcRn
-&gt; Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldOcc GhcRn -&gt; LIdP GhcRn
FieldOcc GhcRn -&gt; GenLocated SrcSpanAnnN Name
forall pass. FieldOcc pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Type.html#foLabel"><span class="hs-identifier hs-var">foLabel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsValBinds GhcRn -&gt; [FieldOcc GhcRn]
forall (p :: Pass).
IsPass p =&gt;
HsValBinds (GhcPass p) -&gt; [FieldOcc (GhcPass p)]
</span><a href="GHC.Hs.Utils.html#hsPatSynSelectors"><span class="hs-identifier hs-var">hsPatSynSelectors</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcRn
</span><a href="#local-6989586621683133148"><span class="hs-identifier hs-var">valds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133175"><span class="annot"><span class="annottext">instds :: [GenLocated SrcSpanAnnA (InstDecl GhcRn)]
</span><a href="#local-6989586621683133175"><span class="hs-identifier hs-var hs-var hs-var">instds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TyClGroup GhcRn]
</span><a href="#local-6989586621683133152"><span class="hs-identifier hs-var">tyclds</span></a></span><span> </span><span class="annot"><span class="annottext">[TyClGroup GhcRn]
-&gt; (TyClGroup GhcRn -&gt; [GenLocated SrcSpanAnnA (InstDecl GhcRn)])
-&gt; [GenLocated SrcSpanAnnA (InstDecl GhcRn)]
forall a b. [a] -&gt; (a -&gt; [b]) -&gt; [b]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">TyClGroup GhcRn -&gt; [LInstDecl GhcRn]
TyClGroup GhcRn -&gt; [GenLocated SrcSpanAnnA (InstDecl GhcRn)]
forall pass. TyClGroup pass -&gt; [LInstDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#group_instds"><span class="hs-identifier hs-var">group_instds</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">;</span><span>
</span><span id="line-289"></span><span>        </span><span id="local-6989586621683133177"><span class="annot"><a href="#local-6989586621683133177"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-var">mkGenSyms</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683133169"><span class="hs-identifier hs-var">bndrs</span></a></span><span> </span><span class="hs-special">;</span><span>
</span><span id="line-290"></span><span>
</span><span id="line-291"></span><span>        </span><span class="hs-comment">-- Bind all the names mainly to avoid repeated use of explicit strings.</span><span>
</span><span id="line-292"></span><span>        </span><span class="hs-comment">-- Thus we get</span><span>
</span><span id="line-293"></span><span>        </span><span class="hs-comment">--      do { t :: String &lt;- genSym &quot;T&quot; ;</span><span>
</span><span id="line-294"></span><span>        </span><span class="hs-comment">--           return (Data t [] ...more t's... }</span><span>
</span><span id="line-295"></span><span>        </span><span class="hs-comment">-- The other important reason is that the output must mention</span><span>
</span><span id="line-296"></span><span>        </span><span class="hs-comment">-- only &quot;T&quot;, not &quot;Foo:T&quot; where Foo is the current module</span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span>        </span><span id="local-6989586621683133178"><span class="annot"><a href="#local-6989586621683133178"><span class="hs-identifier hs-var">decls</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133177"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-299"></span><span>                  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133179"><span class="annot"><a href="#local-6989586621683133179"><span class="hs-identifier hs-var">val_ds</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_val_binds"><span class="hs-identifier hs-type">rep_val_binds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133148"><span class="hs-identifier hs-type">valds</span></a></span><span>
</span><span id="line-300"></span><span>                     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="#local-6989586621683133182"><span class="hs-identifier hs-type">no_splice</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133150"><span class="hs-identifier hs-type">splcds</span></a></span><span>
</span><span id="line-301"></span><span>                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133183"><span class="annot"><a href="#local-6989586621683133183"><span class="hs-identifier hs-var">tycl_ds</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyClD"><span class="hs-identifier hs-type">repTyClD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tyClGroupTyClDecls"><span class="hs-identifier hs-type">tyClGroupTyClDecls</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133152"><span class="hs-identifier hs-type">tyclds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133186"><span class="annot"><a href="#local-6989586621683133186"><span class="hs-identifier hs-var">role_ds</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRoleD"><span class="hs-identifier hs-type">repRoleD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">concatMap</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#group_roles"><span class="hs-identifier hs-var">group_roles</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133152"><span class="hs-identifier hs-type">tyclds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-303"></span><span>                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133190"><span class="annot"><a href="#local-6989586621683133190"><span class="hs-identifier hs-var">kisig_ds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repKiSigD"><span class="hs-identifier hs-type">repKiSigD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">concatMap</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#group_kisigs"><span class="hs-identifier hs-var">group_kisigs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133152"><span class="hs-identifier hs-type">tyclds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133193"><span class="annot"><a href="#local-6989586621683133193"><span class="hs-identifier hs-var">inst_ds</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInstD"><span class="hs-identifier hs-type">repInstD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133175"><span class="hs-identifier hs-type">instds</span></a></span><span>
</span><span id="line-305"></span><span>                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133195"><span class="annot"><a href="#local-6989586621683133195"><span class="hs-identifier hs-var">deriv_ds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repStandaloneDerivD"><span class="hs-identifier hs-type">repStandaloneDerivD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133154"><span class="hs-identifier hs-type">derivds</span></a></span><span>
</span><span id="line-306"></span><span>                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133197"><span class="annot"><a href="#local-6989586621683133197"><span class="hs-identifier hs-var">fix_ds</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLFixD"><span class="hs-identifier hs-type">repLFixD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133156"><span class="hs-identifier hs-type">fixds</span></a></span><span>
</span><span id="line-307"></span><span>                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133199"><span class="annot"><a href="#local-6989586621683133199"><span class="hs-identifier hs-var">def_ds</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDefD"><span class="hs-identifier hs-type">repDefD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133158"><span class="hs-identifier hs-type">defds</span></a></span><span>
</span><span id="line-308"></span><span>                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133201"><span class="annot"><a href="#local-6989586621683133201"><span class="hs-identifier hs-var">for_ds</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repForD"><span class="hs-identifier hs-type">repForD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133160"><span class="hs-identifier hs-type">fords</span></a></span><span>
</span><span id="line-309"></span><span>                     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="#local-6989586621683133203"><span class="hs-identifier hs-type">no_warn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#wd_warnings"><span class="hs-identifier hs-var">wd_warnings</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>                                                           </span><span class="annot"><a href="#local-6989586621683133162"><span class="hs-identifier hs-type">warnds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133205"><span class="annot"><a href="#local-6989586621683133205"><span class="hs-identifier hs-var">ann_ds</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repAnnD"><span class="hs-identifier hs-type">repAnnD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133164"><span class="hs-identifier hs-type">annds</span></a></span><span>
</span><span id="line-312"></span><span>                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133207"><span class="annot"><a href="#local-6989586621683133207"><span class="hs-identifier hs-var">rule_ds</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRuleD"><span class="hs-identifier hs-type">repRuleD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#rds_rules"><span class="hs-identifier hs-var">rds_rules</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>                                                            </span><span class="annot"><a href="#local-6989586621683133166"><span class="hs-identifier hs-type">ruleds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-314"></span><span>                     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="#local-6989586621683133210"><span class="hs-identifier hs-type">no_doc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133168"><span class="hs-identifier hs-type">docs</span></a></span><span>
</span><span id="line-315"></span><span>
</span><span id="line-316"></span><span>                        </span><span class="hs-comment">-- more needed</span><span>
</span><span id="line-317"></span><span>                     </span><span class="hs-special">;</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#de_loc"><span class="hs-identifier hs-type">de_loc</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#sort_by_loc"><span class="hs-identifier hs-type">sort_by_loc</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-318"></span><span>                                </span><span class="annot"><a href="#local-6989586621683133179"><span class="hs-identifier hs-type">val_ds</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">catMaybes</span></span><span> </span><span class="annot"><a href="#local-6989586621683133183"><span class="hs-identifier hs-type">tycl_ds</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133186"><span class="hs-identifier hs-type">role_ds</span></a></span><span>
</span><span id="line-319"></span><span>                                       </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133190"><span class="hs-identifier hs-type">kisig_ds</span></a></span><span>
</span><span id="line-320"></span><span>                                       </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">concat</span></span><span> </span><span class="annot"><a href="#local-6989586621683133197"><span class="hs-identifier hs-type">fix_ds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>                                       </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133199"><span class="hs-identifier hs-type">def_ds</span></a></span><span>
</span><span id="line-322"></span><span>                                       </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133193"><span class="hs-identifier hs-type">inst_ds</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133207"><span class="hs-identifier hs-type">rule_ds</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133201"><span class="hs-identifier hs-type">for_ds</span></a></span><span>
</span><span id="line-323"></span><span>                                       </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133205"><span class="hs-identifier hs-type">ann_ds</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133195"><span class="hs-identifier hs-type">deriv_ds</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">;</span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span>        </span><span id="local-6989586621683133215"><span class="annot"><a href="#local-6989586621683133215"><span class="hs-identifier hs-var">core_list</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-type">repListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#decTyConName"><span class="hs-identifier hs-type">decTyConName</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621683133178"><span class="hs-identifier hs-type">decls</span></a></span><span> </span><span class="hs-special">;</span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span>        </span><span id="local-6989586621683133218"><span class="annot"><a href="#local-6989586621683133218"><span class="hs-identifier hs-var">dec_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#lookupType"><span class="hs-identifier hs-type">lookupType</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#decTyConName"><span class="hs-identifier hs-type">decTyConName</span></a></span><span> </span><span class="hs-special">;</span><span>
</span><span id="line-328"></span><span>        </span><span id="local-6989586621683133219"><span class="annot"><a href="#local-6989586621683133219"><span class="hs-identifier hs-var">q_decs</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSequenceM"><span class="hs-identifier hs-type">repSequenceM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133218"><span class="hs-identifier hs-type">dec_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133215"><span class="hs-identifier hs-type">core_list</span></a></span><span> </span><span class="hs-special">;</span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span>        </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133177"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133219"><span class="hs-identifier hs-type">q_decs</span></a></span><span>
</span><span id="line-331"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-332"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-333"></span><span>    </span><span id="local-6989586621683133182"><span class="annot"><span class="annottext">no_splice :: GenLocated a e -&gt; MetaM a
</span><a href="#local-6989586621683133182"><span class="hs-identifier hs-var hs-var">no_splice</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133224"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683133224"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; ThRejectionReason -&gt; MetaM a
forall a. SrcSpan -&gt; ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandledL"><span class="hs-identifier hs-var">notHandledL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683133224"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThSplicesWithinDeclBrackets"><span class="hs-identifier hs-var">ThSplicesWithinDeclBrackets</span></a></span><span>
</span><span id="line-335"></span><span>    </span><span id="local-6989586621683131289"><span class="annot"><a href="#local-6989586621683133203"><span class="hs-identifier hs-type">no_warn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LWarnDecl"><span class="hs-identifier hs-type">LWarnDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131289"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-336"></span><span>    </span><span id="local-6989586621683133203"><span class="annot"><span class="annottext">no_warn :: forall a. LWarnDecl GhcRn -&gt; MetaM a
</span><a href="#local-6989586621683133203"><span class="hs-identifier hs-var hs-var">no_warn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133229"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133229"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#Warning"><span class="hs-identifier hs-type">Warning</span></a></span><span> </span><span class="annot"><span class="annottext">XWarning GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133231"><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621683133231"><span class="hs-identifier hs-var">thing</span></a></span></span><span> </span><span class="annot"><span class="annottext">WarningTxt GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; ThRejectionReason -&gt; MetaM a
forall a. SrcSpan -&gt; ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandledL"><span class="hs-identifier hs-var">notHandledL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133229"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LIdP GhcRn] -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThWarningAndDeprecationPragmas"><span class="hs-identifier hs-var">ThWarningAndDeprecationPragmas</span></a></span><span> </span><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621683133231"><span class="hs-identifier hs-var">thing</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>    </span><span id="local-6989586621683133210"><span class="annot"><span class="annottext">no_doc :: GenLocated a e -&gt; MetaM a
</span><a href="#local-6989586621683133210"><span class="hs-identifier hs-var hs-var">no_doc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133235"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683133235"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="annot"><span class="annottext">e
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; ThRejectionReason -&gt; MetaM a
forall a. SrcSpan -&gt; ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandledL"><span class="hs-identifier hs-var">notHandledL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683133235"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThHaddockDocumentation"><span class="hs-identifier hs-var">ThHaddockDocumentation</span></a></span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#hsScopedTvBinders"><span class="hs-identifier hs-type">hsScopedTvBinders</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-342"></span><span class="hs-comment">-- See Note [Scoped type variables in quotes]</span><span>
</span><span id="line-343"></span><span id="hsScopedTvBinders"><span class="annot"><span class="annottext">hsScopedTvBinders :: HsValBinds GhcRn -&gt; [Name]
</span><a href="GHC.HsToCore.Quote.html#hsScopedTvBinders"><span class="hs-identifier hs-var hs-var">hsScopedTvBinders</span></a></span></span><span> </span><span id="local-6989586621683133237"><span class="annot"><span class="annottext">HsValBinds GhcRn
</span><a href="#local-6989586621683133237"><span class="hs-identifier hs-var">binds</span></a></span></span><span>
</span><span id="line-344"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (Sig GhcRn) -&gt; [Name])
-&gt; [GenLocated SrcSpanAnnA (Sig GhcRn)] -&gt; [Name]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">LSig GhcRn -&gt; [Name]
GenLocated SrcSpanAnnA (Sig GhcRn) -&gt; [Name]
</span><a href="GHC.HsToCore.Quote.html#get_scoped_tvs"><span class="hs-identifier hs-var">get_scoped_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">[LSig GhcRn]
[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621683133239"><span class="hs-identifier hs-var">sigs</span></a></span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-346"></span><span>    </span><span id="local-6989586621683133239"><span class="annot"><span class="annottext">sigs :: [LSig GhcRn]
</span><a href="#local-6989586621683133239"><span class="hs-identifier hs-var hs-var">sigs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcRn
</span><a href="#local-6989586621683133237"><span class="hs-identifier hs-var">binds</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-347"></span><span>             </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ValBinds"><span class="hs-identifier hs-type">ValBinds</span></a></span><span>           </span><span class="annot"><span class="annottext">XValBinds GhcRn GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133241"><span class="annot"><span class="annottext">[LSig GhcRn]
</span><a href="#local-6989586621683133241"><span class="hs-identifier hs-var">sigs</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[LSig GhcRn]
</span><a href="#local-6989586621683133241"><span class="hs-identifier hs-var">sigs</span></a></span><span>
</span><span id="line-348"></span><span>             </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#XValBindsLR"><span class="hs-identifier hs-type">XValBindsLR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Binds.html#NValBinds"><span class="hs-identifier hs-type">NValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">[(RecFlag, LHsBindsLR GhcRn GhcRn)]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133244"><span class="annot"><span class="annottext">[LSig GhcRn]
</span><a href="#local-6989586621683133244"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[LSig GhcRn]
</span><a href="#local-6989586621683133244"><span class="hs-identifier hs-var">sigs</span></a></span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#get_scoped_tvs"><span class="hs-identifier hs-type">get_scoped_tvs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-351"></span><span id="get_scoped_tvs"><span class="annot"><span class="annottext">get_scoped_tvs :: LSig GhcRn -&gt; [Name]
</span><a href="GHC.HsToCore.Quote.html#get_scoped_tvs"><span class="hs-identifier hs-var hs-var">get_scoped_tvs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133245"><span class="annot"><span class="annottext">Sig GhcRn
</span><a href="#local-6989586621683133245"><span class="hs-keyword hs-var">signature</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="annot"><span class="annottext">XTypeSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133247"><span class="annot"><span class="annottext">LHsSigWcType GhcRn
</span><a href="#local-6989586621683133247"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sig GhcRn
</span><a href="#local-6989586621683133245"><span class="hs-keyword hs-var">signature</span></a></span><span>
</span><span id="line-353"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn -&gt; [Name]
</span><a href="GHC.HsToCore.Quote.html#get_scoped_tvs_from_sig"><span class="hs-identifier hs-var">get_scoped_tvs_from_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsWildCardBndrs GhcRn (GenLocated SrcSpanAnnA (HsSigType GhcRn))
-&gt; GenLocated SrcSpanAnnA (HsSigType GhcRn)
forall pass thing. HsWildCardBndrs pass thing -&gt; thing
</span><a href="Language.Haskell.Syntax.Type.html#hswc_body"><span class="hs-identifier hs-var">hswc_body</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigWcType GhcRn
HsWildCardBndrs GhcRn (GenLocated SrcSpanAnnA (HsSigType GhcRn))
</span><a href="#local-6989586621683133247"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-354"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="annot"><span class="annottext">XClassOpSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133251"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133251"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sig GhcRn
</span><a href="#local-6989586621683133245"><span class="hs-keyword hs-var">signature</span></a></span><span>
</span><span id="line-355"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn -&gt; [Name]
</span><a href="GHC.HsToCore.Quote.html#get_scoped_tvs_from_sig"><span class="hs-identifier hs-var">get_scoped_tvs_from_sig</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133251"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-356"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span> </span><span class="annot"><span class="annottext">XPatSynSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133253"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133253"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Sig GhcRn
</span><a href="#local-6989586621683133245"><span class="hs-keyword hs-var">signature</span></a></span><span>
</span><span id="line-357"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn -&gt; [Name]
</span><a href="GHC.HsToCore.Quote.html#get_scoped_tvs_from_sig"><span class="hs-identifier hs-var">get_scoped_tvs_from_sig</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133253"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-358"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-359"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#get_scoped_tvs_from_sig"><span class="hs-identifier hs-type">get_scoped_tvs_from_sig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-comment">-- Collect both implicit and explicit quantified variables, since</span><span>
</span><span id="line-363"></span><span>  </span><span class="hs-comment">-- the types in instance heads, as well as `via` types in DerivingVia, can</span><span>
</span><span id="line-364"></span><span>  </span><span class="hs-comment">-- bring implicitly quantified type variables into scope, e.g.,</span><span>
</span><span id="line-365"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-366"></span><span>  </span><span class="hs-comment">--   instance Foo [a] where</span><span>
</span><span id="line-367"></span><span>  </span><span class="hs-comment">--     m = n @a</span><span>
</span><span id="line-368"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-369"></span><span>  </span><span class="hs-comment">-- See also Note [Scoped type variables in quotes]</span><span>
</span><span id="line-370"></span><span id="get_scoped_tvs_from_sig"><span class="annot"><span class="annottext">get_scoped_tvs_from_sig :: LHsSigType GhcRn -&gt; [Name]
</span><a href="GHC.HsToCore.Quote.html#get_scoped_tvs_from_sig"><span class="hs-identifier hs-var hs-var">get_scoped_tvs_from_sig</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsSig"><span class="hs-identifier hs-type">HsSig</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">sig_bndrs :: forall pass. HsSigType pass -&gt; HsOuterSigTyVarBndrs pass
</span><a href="Language.Haskell.Syntax.Type.html#sig_bndrs"><span class="hs-identifier hs-var">sig_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133256"><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
</span><a href="#local-6989586621683133256"><span class="hs-identifier hs-var">outer_bndrs</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-371"></span><span>  </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn -&gt; [Name]
forall flag. HsOuterTyVarBndrs flag GhcRn -&gt; [Name]
</span><a href="GHC.Hs.Type.html#hsOuterTyVarNames"><span class="hs-identifier hs-var">hsOuterTyVarNames</span></a></span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
</span><a href="#local-6989586621683133256"><span class="hs-identifier hs-var">outer_bndrs</span></a></span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span class="hs-comment">{- Notes

Note [Scoped type variables in quotes]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Quoting declarations with scoped type variables requires some care. Consider:

  $([d| f :: forall a. a -&gt; a
        f x = x::a
      |])

Here, the `forall a` brings `a` into scope over the binding group. This has
ramifications when desugaring the quote, as we must ensure that that the
desugared code binds `a` with `Language.Haskell.TH.newName` and refers to the
bound `a` type variable in the type signature and in the body of `f`. As a
result, the call to `newName` must occur before any part of the declaration for
`f` is processed. To achieve this, we:

 (a) Gensym a binding for `a` at the same time as we do one for `f`,
     collecting the relevant binders with the hsScopedTvBinders family of
     functions.

 (b) Use `addBinds` to bring these gensymmed bindings into scope over any
     part of the code where the type variables scope. In the `f` example,
     above, that means the type signature and the body of `f`.

 (c) When processing the `forall`, /don't/ gensym the type variables. We have
     already brought the type variables into scope in part (b), after all, so
     gensymming them again would lead to shadowing. We use the rep_ty_sig
     family of functions for processing types without gensymming the type
     variables again.

 (d) Finally, we use wrapGenSyms to generate the Core for these scoped type
     variables:

       newName &quot;a&quot; &gt;&gt;= \a -&gt;
         ... -- process the type signature and body of `f`

The relevant places are signposted with references to this Note.

Note [Binders and occurrences]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
When we desugar [d| data T = MkT |]
we want to get
        Data &quot;T&quot; [] [Con &quot;MkT&quot; []] []
and *not*
        Data &quot;Foo:T&quot; [] [Con &quot;Foo:MkT&quot; []] []
That is, the new data decl should fit into whatever new module it is
asked to fit in.   We do *not* clone, though; no need for this:
        Data &quot;T79&quot; ....

But if we see this:
        data T = MkT
        foo = reifyDecl T

then we must desugar to
        foo = Data &quot;Foo:T&quot; [] [Con &quot;Foo:MkT&quot; []] []

So in repTopDs we bring the binders into scope with mkGenSyms and addBinds.
And we use lookupOcc, rather than lookupBinder
in repTyClD and repC.

Note [Don't quantify implicit type variables in quotes]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
If you're not careful, it's surprisingly easy to take this quoted declaration:

  [d| id :: a -&gt; a
      id x = x
    |]

and have Template Haskell turn it into this:

  id :: forall a. a -&gt; a
  id x = x

Notice that we explicitly quantified the variable `a`! The latter declaration
isn't what the user wrote in the first place.

Usually, the culprit behind these bugs is taking implicitly quantified type
variables (often from the hsib_vars field of HsImplicitBinders) and putting
them into a `ForallT` or `ForallC`. Doing so caused #13018 and #13123.
-}</span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span class="hs-comment">-- represent associated family instances</span><span>
</span><span id="line-456"></span><span class="hs-comment">--</span><span>
</span><span id="line-457"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyClD"><span class="hs-identifier hs-type">repTyClD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LTyClDecl"><span class="hs-identifier hs-type">LTyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-458"></span><span>
</span><span id="line-459"></span><span id="repTyClD"><span class="annot"><span class="annottext">repTyClD :: LTyClDecl GhcRn
-&gt; ReaderT MetaWrappers DsM (Maybe (SrcSpan, Core (M Dec)))
</span><a href="GHC.HsToCore.Quote.html#repTyClD"><span class="hs-identifier hs-var hs-var">repTyClD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133258"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133258"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamDecl"><span class="hs-identifier hs-type">FamDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdFam :: forall pass. TyClDecl pass -&gt; FamilyDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdFam"><span class="hs-identifier hs-var">tcdFam</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133261"><span class="annot"><span class="annottext">FamilyDecl GhcRn
</span><a href="#local-6989586621683133261"><span class="hs-identifier hs-var">fam</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((SrcSpan, Core (M Dec)) -&gt; Maybe (SrcSpan, Core (M Dec)))
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
-&gt; ReaderT MetaWrappers DsM (Maybe (SrcSpan, Core (M Dec)))
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">(SrcSpan, Core (M Dec)) -&gt; Maybe (SrcSpan, Core (M Dec))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
 -&gt; ReaderT MetaWrappers DsM (Maybe (SrcSpan, Core (M Dec))))
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
-&gt; ReaderT MetaWrappers DsM (Maybe (SrcSpan, Core (M Dec)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-460"></span><span>                                              </span><span class="annot"><span class="annottext">LFamilyDecl GhcRn
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repFamilyDecl"><span class="hs-identifier hs-var">repFamilyDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; FamilyDecl GhcRn -&gt; GenLocated SrcSpanAnnA (FamilyDecl GhcRn)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133258"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">FamilyDecl GhcRn
</span><a href="#local-6989586621683133261"><span class="hs-identifier hs-var">fam</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-461"></span><span>
</span><span id="line-462"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyClD"><span class="hs-identifier hs-var">repTyClD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133264"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133264"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SynDecl"><span class="hs-identifier hs-type">SynDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdLName :: forall pass. TyClDecl pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133267"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133267"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdTyVars :: forall pass. TyClDecl pass -&gt; LHsQTyVars pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133269"><span class="annot"><span class="annottext">LHsQTyVars GhcRn
</span><a href="#local-6989586621683133269"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdRhs :: forall pass. TyClDecl pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdRhs"><span class="hs-identifier hs-var">tcdRhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133271"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133271"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-463"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133272"><span class="annot"><a href="#local-6989586621683133272"><span class="hs-identifier hs-var">tc1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133267"><span class="hs-identifier hs-var">tc</span></a></span><span>           </span><span class="hs-comment">-- See Note [Binders and occurrences]</span><span>
</span><span id="line-464"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133274"><span class="annot"><a href="#local-6989586621683133274"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addQTyVarBinds"><span class="hs-identifier hs-type">addQTyVarBinds</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#ReuseBoundNames"><span class="hs-identifier hs-type">ReuseBoundNames</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133269"><span class="hs-identifier hs-type">tvs</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621683133277"><span class="annot"><span class="annottext">Core [M (TyVarBndr BndrVis)]
</span><a href="#local-6989586621683133277"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-465"></span><span>                </span><span class="annot"><span class="annottext">Core Name
-&gt; Core [M (TyVarBndr BndrVis)]
-&gt; XRec GhcRn (HsType GhcRn)
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repSynDecl"><span class="hs-identifier hs-var">repSynDecl</span></a></span><span> </span><span class="annot"><span class="annottext">Core Name
</span><a href="#local-6989586621683133272"><span class="hs-identifier hs-var">tc1</span></a></span><span> </span><span class="annot"><span class="annottext">Core [M (TyVarBndr BndrVis)]
</span><a href="#local-6989586621683133277"><span class="hs-identifier hs-var">bndrs</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133271"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-466"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133264"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133274"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-467"></span><span>
</span><span id="line-468"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyClD"><span class="hs-identifier hs-var">repTyClD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133279"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133279"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataDecl"><span class="hs-identifier hs-type">DataDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdLName :: forall pass. TyClDecl pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133281"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133281"><span class="hs-identifier hs-var">tc</span></a></span></span><span>
</span><span id="line-469"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdTyVars :: forall pass. TyClDecl pass -&gt; LHsQTyVars pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133282"><span class="annot"><span class="annottext">LHsQTyVars GhcRn
</span><a href="#local-6989586621683133282"><span class="hs-identifier hs-var">tvs</span></a></span></span><span>
</span><span id="line-470"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdDataDefn :: forall pass. TyClDecl pass -&gt; HsDataDefn pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdDataDefn"><span class="hs-identifier hs-var">tcdDataDefn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133284"><span class="annot"><span class="annottext">HsDataDefn GhcRn
</span><a href="#local-6989586621683133284"><span class="hs-identifier hs-var">defn</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-471"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133285"><span class="annot"><a href="#local-6989586621683133285"><span class="hs-identifier hs-var">tc1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133281"><span class="hs-identifier hs-var">tc</span></a></span><span>           </span><span class="hs-comment">-- See Note [Binders and occurrences]</span><span>
</span><span id="line-472"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133286"><span class="annot"><a href="#local-6989586621683133286"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addQTyVarBinds"><span class="hs-identifier hs-type">addQTyVarBinds</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#ReuseBoundNames"><span class="hs-identifier hs-type">ReuseBoundNames</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133282"><span class="hs-identifier hs-type">tvs</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621683133287"><span class="annot"><span class="annottext">Core [M (TyVarBndr BndrVis)]
</span><a href="#local-6989586621683133287"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-473"></span><span>                </span><span class="annot"><span class="annottext">Core Name
-&gt; Either
     (Core [M (TyVarBndr BndrVis)])
     (Core (Maybe [M (TyVarBndr ())]), Core (M Type))
-&gt; HsDataDefn GhcRn
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repDataDefn"><span class="hs-identifier hs-var">repDataDefn</span></a></span><span> </span><span class="annot"><span class="annottext">Core Name
</span><a href="#local-6989586621683133285"><span class="hs-identifier hs-var">tc1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Core [M (TyVarBndr BndrVis)]
-&gt; Either
     (Core [M (TyVarBndr BndrVis)])
     (Core (Maybe [M (TyVarBndr ())]), Core (M Type))
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">Core [M (TyVarBndr BndrVis)]
</span><a href="#local-6989586621683133287"><span class="hs-identifier hs-var">bndrs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsDataDefn GhcRn
</span><a href="#local-6989586621683133284"><span class="hs-identifier hs-var">defn</span></a></span><span>
</span><span id="line-474"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133279"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133286"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyClD"><span class="hs-identifier hs-var">repTyClD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133289"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133289"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClassDecl"><span class="hs-identifier hs-type">ClassDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdCtxt :: forall pass. TyClDecl pass -&gt; Maybe (LHsContext pass)
</span><a href="Language.Haskell.Syntax.Decls.html#tcdCtxt"><span class="hs-identifier hs-var">tcdCtxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133292"><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683133292"><span class="hs-identifier hs-var">cxt</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdLName :: forall pass. TyClDecl pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdLName"><span class="hs-identifier hs-var">tcdLName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133293"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133293"><span class="hs-identifier hs-var">cls</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-477"></span><span>                             </span><span class="annot"><span class="annottext">tcdTyVars :: forall pass. TyClDecl pass -&gt; LHsQTyVars pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdTyVars"><span class="hs-identifier hs-var">tcdTyVars</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133294"><span class="annot"><span class="annottext">LHsQTyVars GhcRn
</span><a href="#local-6989586621683133294"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdFDs :: forall pass. TyClDecl pass -&gt; [LHsFunDep pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdFDs"><span class="hs-identifier hs-var">tcdFDs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133296"><span class="annot"><span class="annottext">[LHsFunDep GhcRn]
</span><a href="#local-6989586621683133296"><span class="hs-identifier hs-var">fds</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-478"></span><span>                             </span><span class="annot"><span class="annottext">tcdSigs :: forall pass. TyClDecl pass -&gt; [LSig pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdSigs"><span class="hs-identifier hs-var">tcdSigs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133298"><span class="annot"><span class="annottext">[LSig GhcRn]
</span><a href="#local-6989586621683133298"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdMeths :: forall pass. TyClDecl pass -&gt; LHsBinds pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdMeths"><span class="hs-identifier hs-var">tcdMeths</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133300"><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcRn
</span><a href="#local-6989586621683133300"><span class="hs-identifier hs-var">meth_binds</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-479"></span><span>                             </span><span class="annot"><span class="annottext">tcdATs :: forall pass. TyClDecl pass -&gt; [LFamilyDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdATs"><span class="hs-identifier hs-var">tcdATs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133302"><span class="annot"><span class="annottext">[LFamilyDecl GhcRn]
</span><a href="#local-6989586621683133302"><span class="hs-identifier hs-var">ats</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcdATDefs :: forall pass. TyClDecl pass -&gt; [LTyFamDefltDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdATDefs"><span class="hs-identifier hs-var">tcdATDefs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133304"><span class="annot"><span class="annottext">[LTyFamDefltDecl GhcRn]
</span><a href="#local-6989586621683133304"><span class="hs-identifier hs-var">atds</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-480"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133305"><span class="annot"><a href="#local-6989586621683133305"><span class="hs-identifier hs-var">cls1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133293"><span class="hs-identifier hs-var">cls</span></a></span><span>         </span><span class="hs-comment">-- See Note [Binders and occurrences]</span><span>
</span><span id="line-481"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133306"><span class="annot"><a href="#local-6989586621683133306"><span class="hs-identifier hs-var">dec</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addQTyVarBinds"><span class="hs-identifier hs-type">addQTyVarBinds</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-type">FreshNamesOnly</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133294"><span class="hs-identifier hs-type">tvs</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621683133308"><span class="annot"><span class="annottext">Core [M (TyVarBndr BndrVis)]
</span><a href="#local-6989586621683133308"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-482"></span><span>           </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133309"><span class="annot"><a href="#local-6989586621683133309"><span class="hs-identifier hs-var">cxt1</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn) -&gt; MetaM (Core (M Cxt))
</span><a href="GHC.HsToCore.Quote.html#repLContext"><span class="hs-identifier hs-var">repLContext</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683133292"><span class="hs-identifier hs-var">cxt</span></a></span><span>
</span><span id="line-483"></span><span>          </span><span class="hs-comment">-- See Note [Scoped type variables in quotes]</span><span>
</span><span id="line-484"></span><span>              </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683133311"><span class="annot"><a href="#local-6989586621683133311"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683133312"><span class="annot"><a href="#local-6989586621683133312"><span class="hs-identifier hs-var">sigs_binds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_meth_sigs_binds"><span class="hs-identifier hs-type">rep_meth_sigs_binds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133298"><span class="hs-identifier hs-type">sigs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133300"><span class="hs-identifier hs-type">meth_binds</span></a></span><span>
</span><span id="line-485"></span><span>              </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133314"><span class="annot"><a href="#local-6989586621683133314"><span class="hs-identifier hs-var">fds1</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLFunDeps"><span class="hs-identifier hs-type">repLFunDeps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133296"><span class="hs-identifier hs-type">fds</span></a></span><span>
</span><span id="line-486"></span><span>              </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133316"><span class="annot"><a href="#local-6989586621683133316"><span class="hs-identifier hs-var">ats1</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFamilyDecls"><span class="hs-identifier hs-type">repFamilyDecls</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133302"><span class="hs-identifier hs-type">ats</span></a></span><span>
</span><span id="line-487"></span><span>              </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133318"><span class="annot"><a href="#local-6989586621683133318"><span class="hs-identifier hs-var">atds1</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repAssocTyFamDefaultD"><span class="hs-identifier hs-type">repAssocTyFamDefaultD</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683133304"><span class="hs-identifier hs-type">atds</span></a></span><span>
</span><span id="line-488"></span><span>              </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133320"><span class="annot"><a href="#local-6989586621683133320"><span class="hs-identifier hs-var">decls1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-type">repListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#decTyConName"><span class="hs-identifier hs-type">decTyConName</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683133316"><span class="hs-identifier hs-type">ats1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133318"><span class="hs-identifier hs-type">atds1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133312"><span class="hs-identifier hs-type">sigs_binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-489"></span><span>              </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133321"><span class="annot"><a href="#local-6989586621683133321"><span class="hs-identifier hs-var">decls2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repClass"><span class="hs-identifier hs-type">repClass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133309"><span class="hs-identifier hs-type">cxt1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133305"><span class="hs-identifier hs-type">cls1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133308"><span class="hs-identifier hs-type">bndrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133314"><span class="hs-identifier hs-type">fds1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133320"><span class="hs-identifier hs-type">decls1</span></a></span><span>
</span><span id="line-490"></span><span>              </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133311"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133321"><span class="hs-identifier hs-type">decls2</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-491"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133289"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133306"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-492"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-493"></span><span>
</span><span id="line-494"></span><span class="hs-comment">-------------------------</span><span>
</span><span id="line-495"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRoleD"><span class="hs-identifier hs-type">repRoleD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LRoleAnnotDecl"><span class="hs-identifier hs-type">LRoleAnnotDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-496"></span><span id="repRoleD"><span class="annot"><span class="annottext">repRoleD :: LRoleAnnotDecl GhcRn
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repRoleD"><span class="hs-identifier hs-var hs-var">repRoleD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133323"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133323"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#RoleAnnotDecl"><span class="hs-identifier hs-type">RoleAnnotDecl</span></a></span><span> </span><span class="annot"><span class="annottext">XCRoleAnnotDecl GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133325"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133325"><span class="hs-identifier hs-var">tycon</span></a></span></span><span> </span><span id="local-6989586621683133326"><span class="annot"><span class="annottext">[XRec GhcRn (Maybe Role)]
</span><a href="#local-6989586621683133326"><span class="hs-identifier hs-var">roles</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-497"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133327"><span class="annot"><a href="#local-6989586621683133327"><span class="hs-identifier hs-var">tycon1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133325"><span class="hs-identifier hs-var">tycon</span></a></span><span>
</span><span id="line-498"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133328"><span class="annot"><a href="#local-6989586621683133328"><span class="hs-identifier hs-var">roles1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRole"><span class="hs-identifier hs-type">repRole</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133326"><span class="hs-identifier hs-type">roles</span></a></span><span>
</span><span id="line-499"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133330"><span class="annot"><a href="#local-6989586621683133330"><span class="hs-identifier hs-var">roles2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreList"><span class="hs-identifier hs-type">coreList</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#roleTyConName"><span class="hs-identifier hs-type">roleTyConName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133328"><span class="hs-identifier hs-type">roles1</span></a></span><span>
</span><span id="line-500"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133333"><span class="annot"><a href="#local-6989586621683133333"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRoleAnnotD"><span class="hs-identifier hs-type">repRoleAnnotD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133327"><span class="hs-identifier hs-type">tycon1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133330"><span class="hs-identifier hs-type">roles2</span></a></span><span>
</span><span id="line-501"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133323"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133333"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-502"></span><span>
</span><span id="line-503"></span><span class="hs-comment">-------------------------</span><span>
</span><span id="line-504"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repKiSigD"><span class="hs-identifier hs-type">repKiSigD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LStandaloneKindSig"><span class="hs-identifier hs-type">LStandaloneKindSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-505"></span><span id="repKiSigD"><span class="annot"><span class="annottext">repKiSigD :: LStandaloneKindSig GhcRn
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repKiSigD"><span class="hs-identifier hs-var hs-var">repKiSigD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133335"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133335"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683133336"><span class="annot"><span class="annottext">StandaloneKindSig GhcRn
</span><a href="#local-6989586621683133336"><span class="hs-identifier hs-var">kisig</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-506"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">StandaloneKindSig GhcRn
</span><a href="#local-6989586621683133336"><span class="hs-identifier hs-var">kisig</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-507"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#StandaloneKindSig"><span class="hs-identifier hs-type">StandaloneKindSig</span></a></span><span> </span><span class="annot"><span class="annottext">XStandaloneKindSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133338"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133338"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621683133339"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133339"><span class="hs-identifier hs-var">ki</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-508"></span><span>      </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133340"><span class="annot"><a href="#local-6989586621683133340"><span class="hs-identifier hs-var">th_v</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133338"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-509"></span><span>      </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133341"><span class="annot"><a href="#local-6989586621683133341"><span class="hs-identifier hs-var">th_ki</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repHsSigType"><span class="hs-identifier hs-type">repHsSigType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133339"><span class="hs-identifier hs-type">ki</span></a></span><span>
</span><span id="line-510"></span><span>      </span><span id="local-6989586621683133343"><span class="annot"><a href="#local-6989586621683133343"><span class="hs-identifier hs-var">dec</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#kiSigDName"><span class="hs-identifier hs-type">kiSigDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683133340"><span class="hs-identifier hs-type">th_v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133341"><span class="hs-identifier hs-type">th_ki</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-511"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133335"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133343"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-512"></span><span>
</span><span id="line-513"></span><span class="hs-comment">-------------------------</span><span>
</span><span id="line-514"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDataDefn"><span class="hs-identifier hs-type">repDataDefn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span>
</span><span id="line-515"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-516"></span><span>                        </span><span class="hs-comment">-- the repTyClD case</span><span>
</span><span id="line-517"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-518"></span><span>                        </span><span class="hs-comment">-- the repDataFamInstD case</span><span>
</span><span id="line-519"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-520"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-521"></span><span id="repDataDefn"><span class="annot"><span class="annottext">repDataDefn :: Core Name
-&gt; Either
     (Core [M (TyVarBndr BndrVis)])
     (Core (Maybe [M (TyVarBndr ())]), Core (M Type))
-&gt; HsDataDefn GhcRn
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repDataDefn"><span class="hs-identifier hs-var hs-var">repDataDefn</span></a></span></span><span> </span><span id="local-6989586621683133346"><span class="annot"><span class="annottext">Core Name
</span><a href="#local-6989586621683133346"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621683133347"><span class="annot"><span class="annottext">Either
  (Core [M (TyVarBndr BndrVis)])
  (Core (Maybe [M (TyVarBndr ())]), Core (M Type))
</span><a href="#local-6989586621683133347"><span class="hs-identifier hs-var">opts</span></a></span></span><span>
</span><span id="line-522"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dd_ctxt :: forall pass. HsDataDefn pass -&gt; Maybe (LHsContext pass)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_ctxt"><span class="hs-identifier hs-var">dd_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133350"><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683133350"><span class="hs-identifier hs-var">cxt</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_kindSig :: forall pass. HsDataDefn pass -&gt; Maybe (LHsKind pass)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_kindSig"><span class="hs-identifier hs-var">dd_kindSig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133352"><span class="annot"><span class="annottext">Maybe (XRec GhcRn (HsType GhcRn))
</span><a href="#local-6989586621683133352"><span class="hs-identifier hs-var">ksig</span></a></span></span><span>
</span><span id="line-523"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_cons :: forall pass. HsDataDefn pass -&gt; DataDefnCons (LConDecl pass)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cons"><span class="hs-identifier hs-var">dd_cons</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133354"><span class="annot"><span class="annottext">DataDefnCons (LConDecl GhcRn)
</span><a href="#local-6989586621683133354"><span class="hs-identifier hs-var">cons</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">dd_derivs :: forall pass. HsDataDefn pass -&gt; HsDeriving pass
</span><a href="Language.Haskell.Syntax.Decls.html#dd_derivs"><span class="hs-identifier hs-var">dd_derivs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133356"><span class="annot"><span class="annottext">HsDeriving GhcRn
</span><a href="#local-6989586621683133356"><span class="hs-identifier hs-var">mb_derivs</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-524"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133357"><span class="annot"><a href="#local-6989586621683133357"><span class="hs-identifier hs-var">cxt1</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn) -&gt; MetaM (Core (M Cxt))
</span><a href="GHC.HsToCore.Quote.html#repLContext"><span class="hs-identifier hs-var">repLContext</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683133350"><span class="hs-identifier hs-var">cxt</span></a></span><span>
</span><span id="line-525"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133358"><span class="annot"><a href="#local-6989586621683133358"><span class="hs-identifier hs-var">derivs1</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDerivs"><span class="hs-identifier hs-type">repDerivs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133356"><span class="hs-identifier hs-type">mb_derivs</span></a></span><span>
</span><span id="line-526"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621683133354"><span class="hs-identifier hs-type">cons</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-527"></span><span>           </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#NewTypeCon"><span class="hs-identifier hs-type">NewTypeCon</span></a></span><span> </span><span id="local-6989586621683133361"><span class="annot"><span class="annottext">LConDecl GhcRn
</span><a href="#local-6989586621683133361"><span class="hs-identifier hs-var">con</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133362"><span class="annot"><a href="#local-6989586621683133362"><span class="hs-identifier hs-var">con'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LConDecl GhcRn -&gt; MetaM (Core (M Con))
</span><a href="GHC.HsToCore.Quote.html#repC"><span class="hs-identifier hs-var">repC</span></a></span><span> </span><span class="annot"><span class="annottext">LConDecl GhcRn
</span><a href="#local-6989586621683133361"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-528"></span><span>                                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133364"><span class="annot"><a href="#local-6989586621683133364"><span class="hs-identifier hs-var">ksig'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMaybeLTy"><span class="hs-identifier hs-type">repMaybeLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133352"><span class="hs-identifier hs-type">ksig</span></a></span><span>
</span><span id="line-529"></span><span>                                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNewtype"><span class="hs-identifier hs-type">repNewtype</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133357"><span class="hs-identifier hs-type">cxt1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133346"><span class="hs-identifier hs-type">tc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133347"><span class="hs-identifier hs-type">opts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133364"><span class="hs-identifier hs-type">ksig'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133362"><span class="hs-identifier hs-type">con'</span></a></span><span>
</span><span id="line-530"></span><span>                                                </span><span class="annot"><a href="#local-6989586621683133358"><span class="hs-identifier hs-type">derivs1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-531"></span><span>           </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataTypeCons"><span class="hs-identifier hs-type">DataTypeCons</span></a></span><span> </span><span id="local-6989586621683133368"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683133368"><span class="hs-identifier hs-var">type_data</span></a></span></span><span> </span><span id="local-6989586621683133369"><span class="annot"><span class="annottext">[LConDecl GhcRn]
</span><a href="#local-6989586621683133369"><span class="hs-identifier hs-var">cons</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133370"><span class="annot"><a href="#local-6989586621683133370"><span class="hs-identifier hs-var">ksig'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec GhcRn (HsType GhcRn)) -&gt; MetaM (Core (Maybe (M Type)))
</span><a href="GHC.HsToCore.Quote.html#repMaybeLTy"><span class="hs-identifier hs-var">repMaybeLTy</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (XRec GhcRn (HsType GhcRn))
</span><a href="#local-6989586621683133352"><span class="hs-identifier hs-var">ksig</span></a></span><span>
</span><span id="line-532"></span><span>                               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133371"><span class="annot"><a href="#local-6989586621683133371"><span class="hs-identifier hs-var">consL</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repC"><span class="hs-identifier hs-type">repC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133369"><span class="hs-identifier hs-type">cons</span></a></span><span>
</span><span id="line-533"></span><span>                               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133372"><span class="annot"><a href="#local-6989586621683133372"><span class="hs-identifier hs-var">cons1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-type">coreListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#conTyConName"><span class="hs-identifier hs-type">conTyConName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133371"><span class="hs-identifier hs-type">consL</span></a></span><span>
</span><span id="line-534"></span><span>                               </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repData"><span class="hs-identifier hs-type">repData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133368"><span class="hs-identifier hs-type">type_data</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133357"><span class="hs-identifier hs-type">cxt1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133346"><span class="hs-identifier hs-type">tc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133347"><span class="hs-identifier hs-type">opts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133370"><span class="hs-identifier hs-type">ksig'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133372"><span class="hs-identifier hs-type">cons1</span></a></span><span>
</span><span id="line-535"></span><span>                                         </span><span class="annot"><a href="#local-6989586621683133358"><span class="hs-identifier hs-type">derivs1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-536"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-537"></span><span>
</span><span id="line-538"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSynDecl"><span class="hs-identifier hs-type">repSynDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-539"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-540"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-541"></span><span id="repSynDecl"><span class="annot"><span class="annottext">repSynDecl :: Core Name
-&gt; Core [M (TyVarBndr BndrVis)]
-&gt; XRec GhcRn (HsType GhcRn)
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repSynDecl"><span class="hs-identifier hs-var hs-var">repSynDecl</span></a></span></span><span> </span><span id="local-6989586621683133376"><span class="annot"><span class="annottext">Core Name
</span><a href="#local-6989586621683133376"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621683133377"><span class="annot"><span class="annottext">Core [M (TyVarBndr BndrVis)]
</span><a href="#local-6989586621683133377"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span id="local-6989586621683133378"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133378"><span class="hs-identifier hs-var">ty</span></a></span></span><span>
</span><span id="line-542"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133379"><span class="annot"><a href="#local-6989586621683133379"><span class="hs-identifier hs-var">ty1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133378"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-543"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTySyn"><span class="hs-identifier hs-type">repTySyn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133376"><span class="hs-identifier hs-type">tc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133377"><span class="hs-identifier hs-type">bndrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133379"><span class="hs-identifier hs-type">ty1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-544"></span><span>
</span><span id="line-545"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFamilyDecl"><span class="hs-identifier hs-type">repFamilyDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LFamilyDecl"><span class="hs-identifier hs-type">LFamilyDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-546"></span><span id="repFamilyDecl"><span class="annot"><span class="annottext">repFamilyDecl :: LFamilyDecl GhcRn
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repFamilyDecl"><span class="hs-identifier hs-var hs-var">repFamilyDecl</span></a></span></span><span> </span><span id="local-6989586621683133381"><span class="annot"><span class="annottext">decl :: LFamilyDecl GhcRn
</span><a href="#local-6989586621683133381"><span class="hs-identifier hs-var">decl</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133382"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133382"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamilyDecl"><span class="hs-identifier hs-type">FamilyDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fdInfo :: forall pass. FamilyDecl pass -&gt; FamilyInfo pass
</span><a href="Language.Haskell.Syntax.Decls.html#fdInfo"><span class="hs-identifier hs-var">fdInfo</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133385"><span class="annot"><span class="annottext">FamilyInfo GhcRn
</span><a href="#local-6989586621683133385"><span class="hs-identifier hs-var">info</span></a></span></span><span>
</span><span id="line-547"></span><span>                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdLName :: forall pass. FamilyDecl pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#fdLName"><span class="hs-identifier hs-var">fdLName</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133387"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133387"><span class="hs-identifier hs-var">tc</span></a></span></span><span>
</span><span id="line-548"></span><span>                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdTyVars :: forall pass. FamilyDecl pass -&gt; LHsQTyVars pass
</span><a href="Language.Haskell.Syntax.Decls.html#fdTyVars"><span class="hs-identifier hs-var">fdTyVars</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133389"><span class="annot"><span class="annottext">LHsQTyVars GhcRn
</span><a href="#local-6989586621683133389"><span class="hs-identifier hs-var">tvs</span></a></span></span><span>
</span><span id="line-549"></span><span>                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdResultSig :: forall pass. FamilyDecl pass -&gt; LFamilyResultSig pass
</span><a href="Language.Haskell.Syntax.Decls.html#fdResultSig"><span class="hs-identifier hs-var">fdResultSig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133391"><span class="annot"><span class="annottext">FamilyResultSig GhcRn
</span><a href="#local-6989586621683133391"><span class="hs-identifier hs-var">resultSig</span></a></span></span><span>
</span><span id="line-550"></span><span>                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fdInjectivityAnn :: forall pass. FamilyDecl pass -&gt; Maybe (LInjectivityAnn pass)
</span><a href="Language.Haskell.Syntax.Decls.html#fdInjectivityAnn"><span class="hs-identifier hs-var">fdInjectivityAnn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133393"><span class="annot"><span class="annottext">Maybe (LInjectivityAnn GhcRn)
</span><a href="#local-6989586621683133393"><span class="hs-identifier hs-var">injectivity</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-551"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133394"><span class="annot"><a href="#local-6989586621683133394"><span class="hs-identifier hs-var">tc1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133387"><span class="hs-identifier hs-var">tc</span></a></span><span>           </span><span class="hs-comment">-- See Note [Binders and occurrences]</span><span>
</span><span id="line-552"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683133395"><span class="annot"><a href="#local-6989586621683133395"><span class="hs-identifier hs-var hs-var">res_tv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FamilyResultSig GhcRn -&gt; Maybe (IdP GhcRn)
forall (a :: Pass).
FamilyResultSig (GhcPass a) -&gt; Maybe (IdP (GhcPass a))
</span><a href="GHC.Hs.Decls.html#resultVariableName"><span class="hs-identifier hs-var">resultVariableName</span></a></span><span> </span><span class="annot"><span class="annottext">FamilyResultSig GhcRn
</span><a href="#local-6989586621683133391"><span class="hs-identifier hs-var">resultSig</span></a></span><span>
</span><span id="line-553"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133397"><span class="annot"><a href="#local-6989586621683133397"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addQTyVarBinds"><span class="hs-identifier hs-type">addQTyVarBinds</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#ReuseBoundNames"><span class="hs-identifier hs-type">ReuseBoundNames</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133389"><span class="hs-identifier hs-type">tvs</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621683133398"><span class="annot"><span class="annottext">Core [M (TyVarBndr BndrVis)]
</span><a href="#local-6989586621683133398"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-554"></span><span>                </span><span class="annot"><span class="annottext">FreshOrReuse
-&gt; [Name] -&gt; MetaM (Core (M Dec)) -&gt; MetaM (Core (M Dec))
forall {k} (a :: k).
FreshOrReuse -&gt; [Name] -&gt; MetaM (Core (M a)) -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addSimpleTyVarBinds"><span class="hs-identifier hs-var">addSimpleTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#ReuseBoundNames"><span class="hs-identifier hs-var">ReuseBoundNames</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Name -&gt; [Name]
forall a. Maybe a -&gt; [a]
</span><span class="hs-identifier hs-var">maybeToList</span></span><span> </span><span class="annot"><span class="annottext">Maybe (IdP GhcRn)
Maybe Name
</span><a href="#local-6989586621683133395"><span class="hs-identifier hs-var">res_tv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(MetaM (Core (M Dec)) -&gt; MetaM (Core (M Dec)))
-&gt; MetaM (Core (M Dec)) -&gt; MetaM (Core (M Dec))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-555"></span><span>           </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FamilyInfo GhcRn
</span><a href="#local-6989586621683133385"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-556"></span><span>             </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClosedTypeFamily"><span class="hs-identifier hs-type">ClosedTypeFamily</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [LTyFamInstEqn GhcRn]
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-557"></span><span>                 </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core (M Dec))
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LFamilyDecl GhcRn -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThAbstractClosedTypeFamily"><span class="hs-identifier hs-var">ThAbstractClosedTypeFamily</span></a></span><span> </span><span class="annot"><span class="annottext">LFamilyDecl GhcRn
</span><a href="#local-6989586621683133381"><span class="hs-identifier hs-var">decl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-558"></span><span>             </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClosedTypeFamily"><span class="hs-identifier hs-type">ClosedTypeFamily</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683133404"><span class="annot"><span class="annottext">[LTyFamInstEqn GhcRn]
</span><a href="#local-6989586621683133404"><span class="hs-identifier hs-var">eqns</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-559"></span><span>               </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133405"><span class="annot"><a href="#local-6989586621683133405"><span class="hs-identifier hs-var">eqns1</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA (FamEqn GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn)))
 -&gt; ReaderT MetaWrappers DsM (Core (M TySynEqn)))
-&gt; [GenLocated
      SrcSpanAnnA (FamEqn GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn)))]
-&gt; ReaderT MetaWrappers DsM [Core (M TySynEqn)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyFamInstEqn GhcRn -&gt; ReaderT MetaWrappers DsM (Core (M TySynEqn))
FamEqn GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))
-&gt; ReaderT MetaWrappers DsM (Core (M TySynEqn))
</span><a href="GHC.HsToCore.Quote.html#repTyFamEqn"><span class="hs-identifier hs-var">repTyFamEqn</span></a></span><span> </span><span class="annot"><span class="annottext">(FamEqn GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))
 -&gt; ReaderT MetaWrappers DsM (Core (M TySynEqn)))
-&gt; (GenLocated
      SrcSpanAnnA (FamEqn GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn)))
    -&gt; FamEqn GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn)))
-&gt; GenLocated
     SrcSpanAnnA (FamEqn GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn)))
-&gt; ReaderT MetaWrappers DsM (Core (M TySynEqn))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA (FamEqn GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn)))
-&gt; FamEqn GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LTyFamInstEqn GhcRn]
[GenLocated
   SrcSpanAnnA (FamEqn GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn)))]
</span><a href="#local-6989586621683133404"><span class="hs-identifier hs-var">eqns</span></a></span><span>
</span><span id="line-560"></span><span>                  </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133407"><span class="annot"><a href="#local-6989586621683133407"><span class="hs-identifier hs-var">eqns2</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-type">coreListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#tySynEqnTyConName"><span class="hs-identifier hs-type">tySynEqnTyConName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133405"><span class="hs-identifier hs-type">eqns1</span></a></span><span>
</span><span id="line-561"></span><span>                  </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133409"><span class="annot"><a href="#local-6989586621683133409"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFamilyResultSig"><span class="hs-identifier hs-type">repFamilyResultSig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133391"><span class="hs-identifier hs-type">resultSig</span></a></span><span>
</span><span id="line-562"></span><span>                  </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133411"><span class="annot"><a href="#local-6989586621683133411"><span class="hs-identifier hs-var">inj</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInjectivityAnn"><span class="hs-identifier hs-type">repInjectivityAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133393"><span class="hs-identifier hs-type">injectivity</span></a></span><span>
</span><span id="line-563"></span><span>                  </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repClosedFamilyD"><span class="hs-identifier hs-type">repClosedFamilyD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133394"><span class="hs-identifier hs-type">tc1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133398"><span class="hs-identifier hs-type">bndrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133409"><span class="hs-identifier hs-type">result</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133411"><span class="hs-identifier hs-type">inj</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133407"><span class="hs-identifier hs-type">eqns2</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-564"></span><span>             </span><span class="annot"><span class="annottext">FamilyInfo GhcRn
</span><a href="Language.Haskell.Syntax.Decls.html#OpenTypeFamily"><span class="hs-identifier hs-var">OpenTypeFamily</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-565"></span><span>               </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133415"><span class="annot"><a href="#local-6989586621683133415"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FamilyResultSig GhcRn -&gt; MetaM (Core (M FamilyResultSig))
</span><a href="GHC.HsToCore.Quote.html#repFamilyResultSig"><span class="hs-identifier hs-var">repFamilyResultSig</span></a></span><span> </span><span class="annot"><span class="annottext">FamilyResultSig GhcRn
</span><a href="#local-6989586621683133391"><span class="hs-identifier hs-var">resultSig</span></a></span><span>
</span><span id="line-566"></span><span>                  </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133416"><span class="annot"><a href="#local-6989586621683133416"><span class="hs-identifier hs-var">inj</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInjectivityAnn"><span class="hs-identifier hs-type">repInjectivityAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133393"><span class="hs-identifier hs-type">injectivity</span></a></span><span>
</span><span id="line-567"></span><span>                  </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repOpenFamilyD"><span class="hs-identifier hs-type">repOpenFamilyD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133394"><span class="hs-identifier hs-type">tc1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133398"><span class="hs-identifier hs-type">bndrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133415"><span class="hs-identifier hs-type">result</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133416"><span class="hs-identifier hs-type">inj</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-568"></span><span>             </span><span class="annot"><span class="annottext">FamilyInfo GhcRn
</span><a href="Language.Haskell.Syntax.Decls.html#DataFamily"><span class="hs-identifier hs-var">DataFamily</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-569"></span><span>               </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133419"><span class="annot"><a href="#local-6989586621683133419"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FamilyResultSig GhcRn -&gt; MetaM (Core (Maybe (M Type)))
</span><a href="GHC.HsToCore.Quote.html#repFamilyResultSigToMaybeKind"><span class="hs-identifier hs-var">repFamilyResultSigToMaybeKind</span></a></span><span> </span><span class="annot"><span class="annottext">FamilyResultSig GhcRn
</span><a href="#local-6989586621683133391"><span class="hs-identifier hs-var">resultSig</span></a></span><span>
</span><span id="line-570"></span><span>                  </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDataFamilyD"><span class="hs-identifier hs-type">repDataFamilyD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133394"><span class="hs-identifier hs-type">tc1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133398"><span class="hs-identifier hs-type">bndrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133419"><span class="hs-identifier hs-type">kind</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-571"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133382"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133397"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-572"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-573"></span><span>
</span><span id="line-574"></span><span class="annot"><span class="hs-comment">-- | Represent result signature of a type family</span></span><span>
</span><span id="line-575"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFamilyResultSig"><span class="hs-identifier hs-type">repFamilyResultSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamilyResultSig"><span class="hs-identifier hs-type">FamilyResultSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FamilyResultSig</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-576"></span><span id="repFamilyResultSig"><span class="annot"><span class="annottext">repFamilyResultSig :: FamilyResultSig GhcRn -&gt; MetaM (Core (M FamilyResultSig))
</span><a href="GHC.HsToCore.Quote.html#repFamilyResultSig"><span class="hs-identifier hs-var hs-var">repFamilyResultSig</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#NoSig"><span class="hs-identifier hs-type">NoSig</span></a></span><span> </span><span class="annot"><span class="annottext">XNoSig GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M FamilyResultSig))
</span><a href="GHC.HsToCore.Quote.html#repNoSig"><span class="hs-identifier hs-var">repNoSig</span></a></span><span>
</span><span id="line-577"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFamilyResultSig"><span class="hs-identifier hs-var">repFamilyResultSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#KindSig"><span class="hs-identifier hs-type">KindSig</span></a></span><span> </span><span class="annot"><span class="annottext">XCKindSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133425"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133425"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133426"><span class="annot"><a href="#local-6989586621683133426"><span class="hs-identifier hs-var">ki'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133425"><span class="hs-identifier hs-var">ki</span></a></span><span>
</span><span id="line-578"></span><span>                                          </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repKindSig"><span class="hs-identifier hs-type">repKindSig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133426"><span class="hs-identifier hs-type">ki'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-579"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFamilyResultSig"><span class="hs-identifier hs-var">repFamilyResultSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyVarSig"><span class="hs-identifier hs-type">TyVarSig</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVarSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133429"><span class="annot"><span class="annottext">LHsTyVarBndr () GhcRn
</span><a href="#local-6989586621683133429"><span class="hs-identifier hs-var">bndr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133430"><span class="annot"><a href="#local-6989586621683133430"><span class="hs-identifier hs-var">bndr'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsTyVarBndr () GhcRn -&gt; MetaM (Core (M (TyVarBndr ())))
forall flag flag'.
RepTV flag flag' =&gt;
LHsTyVarBndr flag GhcRn -&gt; MetaM (Core (M (TyVarBndr flag')))
</span><a href="GHC.HsToCore.Quote.html#repTyVarBndr"><span class="hs-identifier hs-var">repTyVarBndr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsTyVarBndr () GhcRn
</span><a href="#local-6989586621683133429"><span class="hs-identifier hs-var">bndr</span></a></span><span>
</span><span id="line-580"></span><span>                                          </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyVarSig"><span class="hs-identifier hs-type">repTyVarSig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133430"><span class="hs-identifier hs-type">bndr'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-581"></span><span>
</span><span id="line-582"></span><span class="hs-comment">-- | Represent result signature using a Maybe Kind. Used with data families,</span><span>
</span><span id="line-583"></span><span class="hs-comment">-- where the result signature can be either missing or a kind but never a named</span><span>
</span><span id="line-584"></span><span class="hs-comment">-- result variable.</span><span>
</span><span id="line-585"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFamilyResultSigToMaybeKind"><span class="hs-identifier hs-type">repFamilyResultSigToMaybeKind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamilyResultSig"><span class="hs-identifier hs-type">FamilyResultSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-586"></span><span>                              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-587"></span><span id="repFamilyResultSigToMaybeKind"><span class="annot"><span class="annottext">repFamilyResultSigToMaybeKind :: FamilyResultSig GhcRn -&gt; MetaM (Core (Maybe (M Type)))
</span><a href="GHC.HsToCore.Quote.html#repFamilyResultSigToMaybeKind"><span class="hs-identifier hs-var hs-var">repFamilyResultSigToMaybeKind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#NoSig"><span class="hs-identifier hs-type">NoSig</span></a></span><span> </span><span class="annot"><span class="annottext">XNoSig GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-588"></span><span>    </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core (Maybe (M Type)))
forall a. Name -&gt; MetaM (Core (Maybe a))
</span><a href="GHC.HsToCore.Quote.html#coreNothingM"><span class="hs-identifier hs-var">coreNothingM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#kindTyConName"><span class="hs-identifier hs-var">kindTyConName</span></a></span><span>
</span><span id="line-589"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFamilyResultSigToMaybeKind"><span class="hs-identifier hs-var">repFamilyResultSigToMaybeKind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#KindSig"><span class="hs-identifier hs-type">KindSig</span></a></span><span> </span><span class="annot"><span class="annottext">XCKindSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133435"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133435"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-590"></span><span>    </span><span class="annot"><span class="annottext">Name -&gt; Core (M Type) -&gt; MetaM (Core (Maybe (M Type)))
forall a. Name -&gt; Core a -&gt; MetaM (Core (Maybe a))
</span><a href="GHC.HsToCore.Quote.html#coreJustM"><span class="hs-identifier hs-var">coreJustM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#kindTyConName"><span class="hs-identifier hs-var">kindTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">(Core (M Type) -&gt; MetaM (Core (Maybe (M Type))))
-&gt; MetaM (Core (M Type)) -&gt; MetaM (Core (Maybe (M Type)))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133435"><span class="hs-identifier hs-var">ki</span></a></span><span>
</span><span id="line-591"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFamilyResultSigToMaybeKind"><span class="hs-identifier hs-var">repFamilyResultSigToMaybeKind</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyVarSig"><span class="hs-identifier hs-type">TyVarSig</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-592"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; MetaM (Core (Maybe (M Type)))
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;repFamilyResultSigToMaybeKind: unexpected TyVarSig&quot;</span></span><span>
</span><span id="line-593"></span><span>
</span><span id="line-594"></span><span class="annot"><span class="hs-comment">-- | Represent injectivity annotation of a type family</span></span><span>
</span><span id="line-595"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInjectivityAnn"><span class="hs-identifier hs-type">repInjectivityAnn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LInjectivityAnn"><span class="hs-identifier hs-type">LInjectivityAnn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-596"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.InjectivityAnn</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-597"></span><span id="repInjectivityAnn"><span class="annot"><span class="annottext">repInjectivityAnn :: Maybe (LInjectivityAnn GhcRn)
-&gt; MetaM (Core (Maybe InjectivityAnn))
</span><a href="GHC.HsToCore.Quote.html#repInjectivityAnn"><span class="hs-identifier hs-var hs-var">repInjectivityAnn</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (LInjectivityAnn GhcRn)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-598"></span><span>    </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core (Maybe InjectivityAnn))
forall a. Name -&gt; MetaM (Core (Maybe a))
</span><a href="GHC.HsToCore.Quote.html#coreNothing"><span class="hs-identifier hs-var">coreNothing</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#injAnnTyConName"><span class="hs-identifier hs-var">injAnnTyConName</span></a></span><span>
</span><span id="line-599"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInjectivityAnn"><span class="hs-identifier hs-var">repInjectivityAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InjectivityAnn"><span class="hs-identifier hs-type">InjectivityAnn</span></a></span><span> </span><span class="annot"><span class="annottext">XCInjectivityAnn GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133441"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133441"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span id="local-6989586621683133442"><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621683133442"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-600"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133443"><span class="annot"><a href="#local-6989586621683133443"><span class="hs-identifier hs-var">lhs'</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupBinder"><span class="hs-identifier hs-var">lookupBinder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133441"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-601"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133445"><span class="annot"><a href="#local-6989586621683133445"><span class="hs-identifier hs-var">rhs1</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#lookupBinder"><span class="hs-identifier hs-type">lookupBinder</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683133442"><span class="hs-identifier hs-type">rhs</span></a></span><span>
</span><span id="line-602"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133446"><span class="annot"><a href="#local-6989586621683133446"><span class="hs-identifier hs-var">rhs2</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreList"><span class="hs-identifier hs-type">coreList</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#nameTyConName"><span class="hs-identifier hs-type">nameTyConName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133445"><span class="hs-identifier hs-type">rhs1</span></a></span><span>
</span><span id="line-603"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133448"><span class="annot"><a href="#local-6989586621683133448"><span class="hs-identifier hs-var">injAnn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-type">rep2_nw</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#injectivityAnnName"><span class="hs-identifier hs-type">injectivityAnnName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133443"><span class="hs-identifier hs-type">lhs'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133446"><span class="hs-identifier hs-type">rhs2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-604"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreJust"><span class="hs-identifier hs-type">coreJust</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#injAnnTyConName"><span class="hs-identifier hs-type">injAnnTyConName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133448"><span class="hs-identifier hs-type">injAnn</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-605"></span><span>
</span><span id="line-606"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFamilyDecls"><span class="hs-identifier hs-type">repFamilyDecls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LFamilyDecl"><span class="hs-identifier hs-type">LFamilyDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-607"></span><span id="repFamilyDecls"><span class="annot"><span class="annottext">repFamilyDecls :: [LFamilyDecl GhcRn] -&gt; MetaM [Core (M Dec)]
</span><a href="GHC.HsToCore.Quote.html#repFamilyDecls"><span class="hs-identifier hs-var hs-var">repFamilyDecls</span></a></span></span><span> </span><span id="local-6989586621683133453"><span class="annot"><span class="annottext">[LFamilyDecl GhcRn]
</span><a href="#local-6989586621683133453"><span class="hs-identifier hs-var">fds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([(SrcSpan, Core (M Dec))] -&gt; [Core (M Dec)])
-&gt; MetaM [(SrcSpan, Core (M Dec))] -&gt; MetaM [Core (M Dec)]
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">[(SrcSpan, Core (M Dec))] -&gt; [Core (M Dec)]
forall a b. [(a, b)] -&gt; [b]
</span><a href="GHC.HsToCore.Quote.html#de_loc"><span class="hs-identifier hs-var">de_loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (FamilyDecl GhcRn)
 -&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec)))
-&gt; [GenLocated SrcSpanAnnA (FamilyDecl GhcRn)]
-&gt; MetaM [(SrcSpan, Core (M Dec))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">LFamilyDecl GhcRn
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
GenLocated SrcSpanAnnA (FamilyDecl GhcRn)
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repFamilyDecl"><span class="hs-identifier hs-var">repFamilyDecl</span></a></span><span> </span><span class="annot"><span class="annottext">[LFamilyDecl GhcRn]
[GenLocated SrcSpanAnnA (FamilyDecl GhcRn)]
</span><a href="#local-6989586621683133453"><span class="hs-identifier hs-var">fds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-608"></span><span>
</span><span id="line-609"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repAssocTyFamDefaultD"><span class="hs-identifier hs-type">repAssocTyFamDefaultD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamDefltDecl"><span class="hs-identifier hs-type">TyFamDefltDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-610"></span><span id="repAssocTyFamDefaultD"><span class="annot"><span class="annottext">repAssocTyFamDefaultD :: TyFamDefltDecl GhcRn -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repAssocTyFamDefaultD"><span class="hs-identifier hs-var hs-var">repAssocTyFamDefaultD</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyFamDefltDecl GhcRn -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repTyFamInstD"><span class="hs-identifier hs-var">repTyFamInstD</span></a></span><span>
</span><span id="line-611"></span><span>
</span><span id="line-612"></span><span class="hs-comment">-------------------------</span><span>
</span><span id="line-613"></span><span class="hs-comment">-- represent fundeps</span><span>
</span><span id="line-614"></span><span class="hs-comment">--</span><span>
</span><span id="line-615"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLFunDeps"><span class="hs-identifier hs-type">repLFunDeps</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsFunDep"><span class="hs-identifier hs-type">LHsFunDep</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.FunDep</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-616"></span><span id="repLFunDeps"><span class="annot"><span class="annottext">repLFunDeps :: [LHsFunDep GhcRn] -&gt; MetaM (Core [FunDep])
</span><a href="GHC.HsToCore.Quote.html#repLFunDeps"><span class="hs-identifier hs-var hs-var">repLFunDeps</span></a></span></span><span> </span><span id="local-6989586621683133455"><span class="annot"><span class="annottext">[LHsFunDep GhcRn]
</span><a href="#local-6989586621683133455"><span class="hs-identifier hs-var">fds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated SrcSpanAnnA (FunDep GhcRn) -&gt; MetaM (Core FunDep))
-&gt; [GenLocated SrcSpanAnnA (FunDep GhcRn)]
-&gt; MetaM (Core [FunDep])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repList"><span class="hs-identifier hs-var">repList</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#funDepTyConName"><span class="hs-identifier hs-var">funDepTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">LHsFunDep GhcRn -&gt; MetaM (Core FunDep)
GenLocated SrcSpanAnnA (FunDep GhcRn) -&gt; MetaM (Core FunDep)
</span><a href="GHC.HsToCore.Quote.html#repLFunDep"><span class="hs-identifier hs-var">repLFunDep</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsFunDep GhcRn]
[GenLocated SrcSpanAnnA (FunDep GhcRn)]
</span><a href="#local-6989586621683133455"><span class="hs-identifier hs-var">fds</span></a></span><span>
</span><span id="line-617"></span><span>
</span><span id="line-618"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLFunDep"><span class="hs-identifier hs-type">repLFunDep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsFunDep"><span class="hs-identifier hs-type">LHsFunDep</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FunDep</span></span><span class="hs-special">)</span><span>
</span><span id="line-619"></span><span id="repLFunDep"><span class="annot"><span class="annottext">repLFunDep :: LHsFunDep GhcRn -&gt; MetaM (Core FunDep)
</span><a href="GHC.HsToCore.Quote.html#repLFunDep"><span class="hs-identifier hs-var hs-var">repLFunDep</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FunDep"><span class="hs-identifier hs-type">FunDep</span></a></span><span> </span><span class="annot"><span class="annottext">XCFunDep GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133460"><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621683133460"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621683133461"><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621683133461"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-620"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683133462"><span class="annot"><a href="#local-6989586621683133462"><span class="hs-identifier hs-var">xs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name))
-&gt; [GenLocated SrcSpanAnnN Name]
-&gt; MetaM (Core [Name])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repList"><span class="hs-identifier hs-var">repList</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#nameTyConName"><span class="hs-identifier hs-var">nameTyConName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupBinder"><span class="hs-identifier hs-var">lookupBinder</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; MetaM (Core Name))
-&gt; (GenLocated SrcSpanAnnN Name -&gt; Name)
-&gt; GenLocated SrcSpanAnnN Name
-&gt; MetaM (Core Name)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP GhcRn]
[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621683133460"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-621"></span><span>        </span><span id="local-6989586621683133463"><span class="annot"><a href="#local-6989586621683133463"><span class="hs-identifier hs-var">ys'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repList"><span class="hs-identifier hs-type">repList</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#nameTyConName"><span class="hs-identifier hs-type">nameTyConName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#lookupBinder"><span class="hs-identifier hs-type">lookupBinder</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683133461"><span class="hs-identifier hs-type">ys</span></a></span><span>
</span><span id="line-622"></span><span>        </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFunDep"><span class="hs-identifier hs-type">repFunDep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133462"><span class="hs-identifier hs-type">xs'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133463"><span class="hs-identifier hs-type">ys'</span></a></span><span>
</span><span id="line-623"></span><span>
</span><span id="line-624"></span><span class="hs-comment">-- Represent instance declarations</span><span>
</span><span id="line-625"></span><span class="hs-comment">--</span><span>
</span><span id="line-626"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInstD"><span class="hs-identifier hs-type">repInstD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LInstDecl"><span class="hs-identifier hs-type">LInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-627"></span><span id="repInstD"><span class="annot"><span class="annottext">repInstD :: LInstDecl GhcRn -&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repInstD"><span class="hs-identifier hs-var hs-var">repInstD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133465"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133465"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamInstD"><span class="hs-identifier hs-type">TyFamInstD</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tfid_inst :: forall pass. InstDecl pass -&gt; TyFamInstDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#tfid_inst"><span class="hs-identifier hs-var">tfid_inst</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133468"><span class="annot"><span class="annottext">TyFamDefltDecl GhcRn
</span><a href="#local-6989586621683133468"><span class="hs-identifier hs-var">fi_decl</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-628"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133469"><span class="annot"><a href="#local-6989586621683133469"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyFamDefltDecl GhcRn -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repTyFamInstD"><span class="hs-identifier hs-var">repTyFamInstD</span></a></span><span> </span><span class="annot"><span class="annottext">TyFamDefltDecl GhcRn
</span><a href="#local-6989586621683133468"><span class="hs-identifier hs-var">fi_decl</span></a></span><span>
</span><span id="line-629"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133465"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133469"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-630"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInstD"><span class="hs-identifier hs-var">repInstD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133470"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133470"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstD"><span class="hs-identifier hs-type">DataFamInstD</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dfid_inst :: forall pass. InstDecl pass -&gt; DataFamInstDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#dfid_inst"><span class="hs-identifier hs-var">dfid_inst</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133473"><span class="annot"><span class="annottext">DataFamInstDecl GhcRn
</span><a href="#local-6989586621683133473"><span class="hs-identifier hs-var">fi_decl</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-631"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133474"><span class="annot"><a href="#local-6989586621683133474"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DataFamInstDecl GhcRn -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repDataFamInstD"><span class="hs-identifier hs-var">repDataFamInstD</span></a></span><span> </span><span class="annot"><span class="annottext">DataFamInstDecl GhcRn
</span><a href="#local-6989586621683133473"><span class="hs-identifier hs-var">fi_decl</span></a></span><span>
</span><span id="line-632"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133470"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133474"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-633"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInstD"><span class="hs-identifier hs-var">repInstD</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133476"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133476"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClsInstD"><span class="hs-identifier hs-type">ClsInstD</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">cid_inst :: forall pass. InstDecl pass -&gt; ClsInstDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#cid_inst"><span class="hs-identifier hs-var">cid_inst</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133479"><span class="annot"><span class="annottext">ClsInstDecl GhcRn
</span><a href="#local-6989586621683133479"><span class="hs-identifier hs-var">cls_decl</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-634"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133480"><span class="annot"><a href="#local-6989586621683133480"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ClsInstDecl GhcRn -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repClsInstD"><span class="hs-identifier hs-var">repClsInstD</span></a></span><span> </span><span class="annot"><span class="annottext">ClsInstDecl GhcRn
</span><a href="#local-6989586621683133479"><span class="hs-identifier hs-var">cls_decl</span></a></span><span>
</span><span id="line-635"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133476"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133480"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-636"></span><span>
</span><span id="line-637"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repClsInstD"><span class="hs-identifier hs-type">repClsInstD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClsInstDecl"><span class="hs-identifier hs-type">ClsInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-638"></span><span id="repClsInstD"><span class="annot"><span class="annottext">repClsInstD :: ClsInstDecl GhcRn -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repClsInstD"><span class="hs-identifier hs-var hs-var">repClsInstD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClsInstDecl"><span class="hs-identifier hs-type">ClsInstDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">cid_poly_ty :: forall pass. ClsInstDecl pass -&gt; LHsSigType pass
</span><a href="Language.Haskell.Syntax.Decls.html#cid_poly_ty"><span class="hs-identifier hs-var">cid_poly_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133484"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133484"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cid_binds :: forall pass. ClsInstDecl pass -&gt; LHsBinds pass
</span><a href="Language.Haskell.Syntax.Decls.html#cid_binds"><span class="hs-identifier hs-var">cid_binds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133486"><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcRn
</span><a href="#local-6989586621683133486"><span class="hs-identifier hs-var">binds</span></a></span></span><span>
</span><span id="line-639"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cid_sigs :: forall pass. ClsInstDecl pass -&gt; [LSig pass]
</span><a href="Language.Haskell.Syntax.Decls.html#cid_sigs"><span class="hs-identifier hs-var">cid_sigs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133488"><span class="annot"><span class="annottext">[LSig GhcRn]
</span><a href="#local-6989586621683133488"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cid_tyfam_insts :: forall pass. ClsInstDecl pass -&gt; [LTyFamInstDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#cid_tyfam_insts"><span class="hs-identifier hs-var">cid_tyfam_insts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133490"><span class="annot"><span class="annottext">[LTyFamDefltDecl GhcRn]
</span><a href="#local-6989586621683133490"><span class="hs-identifier hs-var">ats</span></a></span></span><span>
</span><span id="line-640"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cid_datafam_insts :: forall pass. ClsInstDecl pass -&gt; [LDataFamInstDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#cid_datafam_insts"><span class="hs-identifier hs-var">cid_datafam_insts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133492"><span class="annot"><span class="annottext">[LDataFamInstDecl GhcRn]
</span><a href="#local-6989586621683133492"><span class="hs-identifier hs-var">adts</span></a></span></span><span>
</span><span id="line-641"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">cid_overlap_mode :: forall pass. ClsInstDecl pass -&gt; Maybe (XRec pass OverlapMode)
</span><a href="Language.Haskell.Syntax.Decls.html#cid_overlap_mode"><span class="hs-identifier hs-var">cid_overlap_mode</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133494"><span class="annot"><span class="annottext">Maybe (XRec GhcRn OverlapMode)
</span><a href="#local-6989586621683133494"><span class="hs-identifier hs-var">overlap</span></a></span></span><span>
</span><span id="line-642"></span><span>                         </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-643"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
-&gt; [Name] -&gt; MetaM (Core (M Dec)) -&gt; MetaM (Core (M Dec))
forall {k} (a :: k).
FreshOrReuse -&gt; [Name] -&gt; MetaM (Core (M a)) -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addSimpleTyVarBinds"><span class="hs-identifier hs-var">addSimpleTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-var">FreshNamesOnly</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683133495"><span class="hs-identifier hs-var">tvs</span></a></span><span> </span><span class="annot"><span class="annottext">(MetaM (Core (M Dec)) -&gt; MetaM (Core (M Dec)))
-&gt; MetaM (Core (M Dec)) -&gt; MetaM (Core (M Dec))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-644"></span><span>            </span><span class="hs-comment">-- We must bring the type variables into scope, so their</span><span>
</span><span id="line-645"></span><span>            </span><span class="hs-comment">-- occurrences don't fail, even though the binders don't</span><span>
</span><span id="line-646"></span><span>            </span><span class="hs-comment">-- appear in the resulting data structure</span><span>
</span><span id="line-647"></span><span>            </span><span class="hs-comment">--</span><span>
</span><span id="line-648"></span><span>            </span><span class="hs-comment">-- But we do NOT bring the binders of 'binds' into scope</span><span>
</span><span id="line-649"></span><span>            </span><span class="hs-comment">-- because they are properly regarded as occurrences</span><span>
</span><span id="line-650"></span><span>            </span><span class="hs-comment">-- For example, the method names should be bound to</span><span>
</span><span id="line-651"></span><span>            </span><span class="hs-comment">-- the selector Ids, not to fresh names (#5410)</span><span>
</span><span id="line-652"></span><span>            </span><span class="hs-comment">--</span><span>
</span><span id="line-653"></span><span>            </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133496"><span class="annot"><a href="#local-6989586621683133496"><span class="hs-identifier hs-var">cxt1</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn) -&gt; MetaM (Core (M Cxt))
</span><a href="GHC.HsToCore.Quote.html#repLContext"><span class="hs-identifier hs-var">repLContext</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683133497"><span class="hs-identifier hs-var">cxt</span></a></span><span>
</span><span id="line-654"></span><span>               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133498"><span class="annot"><a href="#local-6989586621683133498"><span class="hs-identifier hs-var">inst_ty1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133499"><span class="hs-identifier hs-type">inst_ty</span></a></span><span>
</span><span id="line-655"></span><span>          </span><span class="hs-comment">-- See Note [Scoped type variables in quotes]</span><span>
</span><span id="line-656"></span><span>               </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683133500"><span class="annot"><a href="#local-6989586621683133500"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683133501"><span class="annot"><a href="#local-6989586621683133501"><span class="hs-identifier hs-var">sigs_binds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_meth_sigs_binds"><span class="hs-identifier hs-type">rep_meth_sigs_binds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133488"><span class="hs-identifier hs-type">sigs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133486"><span class="hs-identifier hs-type">binds</span></a></span><span>
</span><span id="line-657"></span><span>               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133502"><span class="annot"><a href="#local-6989586621683133502"><span class="hs-identifier hs-var">ats1</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyFamInstD"><span class="hs-identifier hs-type">repTyFamInstD</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683133490"><span class="hs-identifier hs-type">ats</span></a></span><span>
</span><span id="line-658"></span><span>               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133503"><span class="annot"><a href="#local-6989586621683133503"><span class="hs-identifier hs-var">adts1</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDataFamInstD"><span class="hs-identifier hs-type">repDataFamInstD</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683133492"><span class="hs-identifier hs-type">adts</span></a></span><span>
</span><span id="line-659"></span><span>               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133504"><span class="annot"><a href="#local-6989586621683133504"><span class="hs-identifier hs-var">decls1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-type">coreListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#decTyConName"><span class="hs-identifier hs-type">decTyConName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683133502"><span class="hs-identifier hs-type">ats1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133503"><span class="hs-identifier hs-type">adts1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133501"><span class="hs-identifier hs-type">sigs_binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-660"></span><span>               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133505"><span class="annot"><a href="#local-6989586621683133505"><span class="hs-identifier hs-var">rOver</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repOverlap"><span class="hs-identifier hs-type">repOverlap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133494"><span class="hs-identifier hs-type">overlap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-661"></span><span>               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133507"><span class="annot"><a href="#local-6989586621683133507"><span class="hs-identifier hs-var">decls2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInst"><span class="hs-identifier hs-type">repInst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133505"><span class="hs-identifier hs-type">rOver</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133496"><span class="hs-identifier hs-type">cxt1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133498"><span class="hs-identifier hs-type">inst_ty1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133504"><span class="hs-identifier hs-type">decls1</span></a></span><span>
</span><span id="line-662"></span><span>               </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133500"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133507"><span class="hs-identifier hs-type">decls2</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-663"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-664"></span><span>   </span><span class="hs-special">(</span><span id="local-6989586621683133495"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683133495"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683133497"><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683133497"><span class="hs-identifier hs-var">cxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683133499"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133499"><span class="hs-identifier hs-var">inst_ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
-&gt; ([Name], Maybe (LHsContext GhcRn), XRec GhcRn (HsType GhcRn))
</span><a href="GHC.Hs.Type.html#splitLHsInstDeclTy"><span class="hs-identifier hs-var">splitLHsInstDeclTy</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133484"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-665"></span><span>
</span><span id="line-666"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repStandaloneDerivD"><span class="hs-identifier hs-type">repStandaloneDerivD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDerivDecl"><span class="hs-identifier hs-type">LDerivDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-667"></span><span id="repStandaloneDerivD"><span class="annot"><span class="annottext">repStandaloneDerivD :: LDerivDecl GhcRn
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repStandaloneDerivD"><span class="hs-identifier hs-var hs-var">repStandaloneDerivD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133510"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133510"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DerivDecl"><span class="hs-identifier hs-type">DerivDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">deriv_strategy :: forall pass. DerivDecl pass -&gt; Maybe (LDerivStrategy pass)
</span><a href="Language.Haskell.Syntax.Decls.html#deriv_strategy"><span class="hs-identifier hs-var">deriv_strategy</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133513"><span class="annot"><span class="annottext">Maybe (LDerivStrategy GhcRn)
</span><a href="#local-6989586621683133513"><span class="hs-identifier hs-var">strat</span></a></span></span><span>
</span><span id="line-668"></span><span>                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">deriv_type :: forall pass. DerivDecl pass -&gt; LHsSigWcType pass
</span><a href="Language.Haskell.Syntax.Decls.html#deriv_type"><span class="hs-identifier hs-var">deriv_type</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133515"><span class="annot"><span class="annottext">LHsSigWcType GhcRn
</span><a href="#local-6989586621683133515"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-669"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133516"><span class="annot"><a href="#local-6989586621683133516"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (LDerivStrategy GhcRn)
-&gt; (Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M Dec)))
-&gt; MetaM (Core (M Dec))
forall {k} (a :: k).
Maybe (LDerivStrategy GhcRn)
-&gt; (Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#repDerivStrategy"><span class="hs-identifier hs-var">repDerivStrategy</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LDerivStrategy GhcRn)
</span><a href="#local-6989586621683133513"><span class="hs-identifier hs-var">strat</span></a></span><span>  </span><span class="annot"><span class="annottext">((Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M Dec)))
 -&gt; MetaM (Core (M Dec)))
-&gt; (Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M Dec)))
-&gt; MetaM (Core (M Dec))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621683133518"><span class="annot"><span class="annottext">Core (Maybe (M DerivStrategy))
</span><a href="#local-6989586621683133518"><span class="hs-identifier hs-var">strat'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-670"></span><span>                </span><span class="annot"><span class="annottext">FreshOrReuse
-&gt; [Name] -&gt; MetaM (Core (M Dec)) -&gt; MetaM (Core (M Dec))
forall {k} (a :: k).
FreshOrReuse -&gt; [Name] -&gt; MetaM (Core (M a)) -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addSimpleTyVarBinds"><span class="hs-identifier hs-var">addSimpleTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-var">FreshNamesOnly</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683133519"><span class="hs-identifier hs-var">tvs</span></a></span><span> </span><span class="annot"><span class="annottext">(MetaM (Core (M Dec)) -&gt; MetaM (Core (M Dec)))
-&gt; MetaM (Core (M Dec)) -&gt; MetaM (Core (M Dec))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-671"></span><span>                </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133520"><span class="annot"><a href="#local-6989586621683133520"><span class="hs-identifier hs-var">cxt'</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn) -&gt; MetaM (Core (M Cxt))
</span><a href="GHC.HsToCore.Quote.html#repLContext"><span class="hs-identifier hs-var">repLContext</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683133521"><span class="hs-identifier hs-var">cxt</span></a></span><span>
</span><span id="line-672"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133522"><span class="annot"><a href="#local-6989586621683133522"><span class="hs-identifier hs-var">inst_ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133523"><span class="hs-identifier hs-type">inst_ty</span></a></span><span>
</span><span id="line-673"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDeriv"><span class="hs-identifier hs-type">repDeriv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133518"><span class="hs-identifier hs-type">strat'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133520"><span class="hs-identifier hs-type">cxt'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133522"><span class="hs-identifier hs-type">inst_ty'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-674"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133510"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133516"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-675"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-676"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621683133519"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683133519"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683133521"><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683133521"><span class="hs-identifier hs-var">cxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683133523"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133523"><span class="hs-identifier hs-var">inst_ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
-&gt; ([Name], Maybe (LHsContext GhcRn), XRec GhcRn (HsType GhcRn))
</span><a href="GHC.Hs.Type.html#splitLHsInstDeclTy"><span class="hs-identifier hs-var">splitLHsInstDeclTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsSigWcType GhcRn -&gt; LHsSigType GhcRn
forall pass. LHsSigWcType pass -&gt; LHsSigType pass
</span><a href="GHC.Hs.Type.html#dropWildCards"><span class="hs-identifier hs-var">dropWildCards</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigWcType GhcRn
</span><a href="#local-6989586621683133515"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-677"></span><span>
</span><span id="line-678"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyFamInstD"><span class="hs-identifier hs-type">repTyFamInstD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamInstDecl"><span class="hs-identifier hs-type">TyFamInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-679"></span><span id="repTyFamInstD"><span class="annot"><span class="annottext">repTyFamInstD :: TyFamDefltDecl GhcRn -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repTyFamInstD"><span class="hs-identifier hs-var hs-var">repTyFamInstD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamInstDecl"><span class="hs-identifier hs-type">TyFamInstDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tfid_eqn :: forall pass. TyFamInstDecl pass -&gt; TyFamInstEqn pass
</span><a href="Language.Haskell.Syntax.Decls.html#tfid_eqn"><span class="hs-identifier hs-var">tfid_eqn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133528"><span class="annot"><span class="annottext">TyFamInstEqn GhcRn
</span><a href="#local-6989586621683133528"><span class="hs-identifier hs-var">eqn</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-680"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133529"><span class="annot"><a href="#local-6989586621683133529"><span class="hs-identifier hs-var">eqn1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyFamInstEqn GhcRn -&gt; ReaderT MetaWrappers DsM (Core (M TySynEqn))
</span><a href="GHC.HsToCore.Quote.html#repTyFamEqn"><span class="hs-identifier hs-var">repTyFamEqn</span></a></span><span> </span><span class="annot"><span class="annottext">TyFamInstEqn GhcRn
</span><a href="#local-6989586621683133528"><span class="hs-identifier hs-var">eqn</span></a></span><span>
</span><span id="line-681"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTySynInst"><span class="hs-identifier hs-type">repTySynInst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133529"><span class="hs-identifier hs-type">eqn1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-682"></span><span>
</span><span id="line-683"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyFamEqn"><span class="hs-identifier hs-type">repTyFamEqn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamInstEqn"><span class="hs-identifier hs-type">TyFamInstEqn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.TySynEqn</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-684"></span><span id="repTyFamEqn"><span class="annot"><span class="annottext">repTyFamEqn :: TyFamInstEqn GhcRn -&gt; ReaderT MetaWrappers DsM (Core (M TySynEqn))
</span><a href="GHC.HsToCore.Quote.html#repTyFamEqn"><span class="hs-identifier hs-var hs-var">repTyFamEqn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">feqn_tycon :: forall pass rhs. FamEqn pass rhs -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133533"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133533"><span class="hs-identifier hs-var">tc_name</span></a></span></span><span>
</span><span id="line-685"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_bndrs :: forall pass rhs. FamEqn pass rhs -&gt; HsOuterFamEqnTyVarBndrs pass
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_bndrs"><span class="hs-identifier hs-var">feqn_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133535"><span class="annot"><span class="annottext">HsOuterFamEqnTyVarBndrs GhcRn
</span><a href="#local-6989586621683133535"><span class="hs-identifier hs-var">outer_bndrs</span></a></span></span><span>
</span><span id="line-686"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_pats :: forall pass rhs. FamEqn pass rhs -&gt; HsFamEqnPats pass
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_pats"><span class="hs-identifier hs-var">feqn_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133537"><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
</span><a href="#local-6989586621683133537"><span class="hs-identifier hs-var">tys</span></a></span></span><span>
</span><span id="line-687"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_fixity :: forall pass rhs. FamEqn pass rhs -&gt; LexicalFixity
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_fixity"><span class="hs-identifier hs-var">feqn_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133539"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621683133539"><span class="hs-identifier hs-var">fixity</span></a></span></span><span>
</span><span id="line-688"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_rhs :: forall pass rhs. FamEqn pass rhs -&gt; rhs
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133541"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133541"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-689"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133542"><span class="annot"><a href="#local-6989586621683133542"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133533"><span class="hs-identifier hs-var">tc_name</span></a></span><span>     </span><span class="hs-comment">-- See Note [Binders and occurrences]</span><span>
</span><span id="line-690"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addHsOuterFamEqnTyVarBinds"><span class="hs-identifier hs-type">addHsOuterFamEqnTyVarBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133535"><span class="hs-identifier hs-type">outer_bndrs</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621683133544"><span class="annot"><span class="annottext">Core (Maybe [M (TyVarBndr ())])
</span><a href="#local-6989586621683133544"><span class="hs-identifier hs-var">mb_exp_bndrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-691"></span><span>         </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133545"><span class="annot"><a href="#local-6989586621683133545"><span class="hs-identifier hs-var">tys1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621683133539"><span class="hs-identifier hs-var">fixity</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-692"></span><span>                        </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="Language.Haskell.Syntax.Basic.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
-&gt; HsFamEqnPats GhcRn -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTyArgs"><span class="hs-identifier hs-var">repTyArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Core Name -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repNamedTyCon"><span class="hs-identifier hs-var">repNamedTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Core Name
</span><a href="#local-6989586621683133542"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
</span><a href="#local-6989586621683133537"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-693"></span><span>                        </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="Language.Haskell.Syntax.Basic.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133551"><span class="annot"><a href="#local-6989586621683133551"><span class="hs-identifier hs-var">t1</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133552"><span class="annot"><a href="#local-6989586621683133552"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621683133553"><span class="annot"><a href="#local-6989586621683133553"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcRn -&gt; MetaM (HsFamEqnPats GhcRn)
</span><a href="#local-6989586621683133554"><span class="hs-identifier hs-var">checkTys</span></a></span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
</span><a href="#local-6989586621683133537"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-694"></span><span>                                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133555"><span class="annot"><a href="#local-6989586621683133555"><span class="hs-identifier hs-var">t1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133551"><span class="hs-identifier hs-type">t1</span></a></span><span>
</span><span id="line-695"></span><span>                                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133556"><span class="annot"><a href="#local-6989586621683133556"><span class="hs-identifier hs-var">t2'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133552"><span class="hs-identifier hs-type">t2</span></a></span><span>
</span><span id="line-696"></span><span>                                     </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyArgs"><span class="hs-identifier hs-type">repTyArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTInfix"><span class="hs-identifier hs-type">repTInfix</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133555"><span class="hs-identifier hs-type">t1'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133542"><span class="hs-identifier hs-type">tc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133556"><span class="hs-identifier hs-type">t2'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683133553"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-697"></span><span>            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133558"><span class="annot"><a href="#local-6989586621683133558"><span class="hs-identifier hs-var">rhs1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133541"><span class="hs-identifier hs-type">rhs</span></a></span><span>
</span><span id="line-698"></span><span>            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTySynEqn"><span class="hs-identifier hs-type">repTySynEqn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133544"><span class="hs-identifier hs-type">mb_exp_bndrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133545"><span class="hs-identifier hs-type">tys1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133558"><span class="hs-identifier hs-type">rhs1</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-699"></span><span>     </span><span class="hs-keyword">where</span><span> </span><span class="annot"><a href="#local-6989586621683133554"><span class="hs-identifier hs-type">checkTys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-700"></span><span>           </span><span id="local-6989586621683133554"><span class="annot"><span class="annottext">checkTys :: HsFamEqnPats GhcRn -&gt; MetaM (HsFamEqnPats GhcRn)
</span><a href="#local-6989586621683133554"><span class="hs-identifier hs-var hs-var">checkTys</span></a></span></span><span> </span><span id="local-6989586621683133561"><span class="annot"><span class="annottext">tys :: HsFamEqnPats GhcRn
</span><a href="#local-6989586621683133561"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">XValArg GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">XValArg GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[HsArg
   GhcRn
   (GenLocated SrcSpanAnnA (HsType GhcRn))
   (GenLocated SrcSpanAnnA (HsType GhcRn))]
-&gt; ReaderT
     MetaWrappers
     DsM
     [HsArg
        GhcRn
        (GenLocated SrcSpanAnnA (HsType GhcRn))
        (GenLocated SrcSpanAnnA (HsType GhcRn))]
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
[HsArg
   GhcRn
   (GenLocated SrcSpanAnnA (HsType GhcRn))
   (GenLocated SrcSpanAnnA (HsType GhcRn))]
</span><a href="#local-6989586621683133561"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-701"></span><span>           </span><span class="annot"><a href="#local-6989586621683133554"><span class="hs-identifier hs-var">checkTys</span></a></span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; ReaderT
     MetaWrappers
     DsM
     [HsArg
        GhcRn
        (GenLocated SrcSpanAnnA (HsType GhcRn))
        (GenLocated SrcSpanAnnA (HsType GhcRn))]
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;repTyFamEqn:checkTys&quot;</span></span><span>
</span><span id="line-702"></span><span>
</span><span id="line-703"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyArgs"><span class="hs-identifier hs-type">repTyArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-704"></span><span id="repTyArgs"><span class="annot"><span class="annottext">repTyArgs :: MetaM (Core (M Type))
-&gt; HsFamEqnPats GhcRn -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTyArgs"><span class="hs-identifier hs-var hs-var">repTyArgs</span></a></span></span><span> </span><span id="local-6989586621683133562"><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="#local-6989586621683133562"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="#local-6989586621683133562"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-705"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyArgs"><span class="hs-identifier hs-var">repTyArgs</span></a></span><span> </span><span id="local-6989586621683133563"><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="#local-6989586621683133563"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">XValArg GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133564"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133564"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621683133565"><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
</span><a href="#local-6989586621683133565"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133566"><span class="annot"><a href="#local-6989586621683133566"><span class="hs-identifier hs-var">f'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="#local-6989586621683133563"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-706"></span><span>                                       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133567"><span class="annot"><a href="#local-6989586621683133567"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133564"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-707"></span><span>                                       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyArgs"><span class="hs-identifier hs-type">repTyArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapp"><span class="hs-identifier hs-type">repTapp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133566"><span class="hs-identifier hs-type">f'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133567"><span class="hs-identifier hs-type">ty'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683133565"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-708"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyArgs"><span class="hs-identifier hs-var">repTyArgs</span></a></span><span> </span><span id="local-6989586621683133569"><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="#local-6989586621683133569"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTypeArg"><span class="hs-identifier hs-type">HsTypeArg</span></a></span><span> </span><span class="annot"><span class="annottext">XTypeArg GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133571"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133571"><span class="hs-identifier hs-var">ki</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621683133572"><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
</span><a href="#local-6989586621683133572"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133573"><span class="annot"><a href="#local-6989586621683133573"><span class="hs-identifier hs-var">f'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="#local-6989586621683133569"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-709"></span><span>                                       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133574"><span class="annot"><a href="#local-6989586621683133574"><span class="hs-identifier hs-var">ki'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133571"><span class="hs-identifier hs-type">ki</span></a></span><span>
</span><span id="line-710"></span><span>                                       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyArgs"><span class="hs-identifier hs-type">repTyArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTappKind"><span class="hs-identifier hs-type">repTappKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133573"><span class="hs-identifier hs-type">f'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133574"><span class="hs-identifier hs-type">ki'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683133572"><span class="hs-keyword hs-type">as</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-711"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyArgs"><span class="hs-identifier hs-var">repTyArgs</span></a></span><span> </span><span id="local-6989586621683133576"><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="#local-6989586621683133576"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsArgPar"><span class="hs-identifier hs-type">HsArgPar</span></a></span><span> </span><span class="annot"><span class="annottext">XArgPar GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621683133578"><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
</span><a href="#local-6989586621683133578"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
-&gt; HsFamEqnPats GhcRn -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTyArgs"><span class="hs-identifier hs-var">repTyArgs</span></a></span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="#local-6989586621683133576"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
</span><a href="#local-6989586621683133578"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-712"></span><span>
</span><span id="line-713"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDataFamInstD"><span class="hs-identifier hs-type">repDataFamInstD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-714"></span><span id="repDataFamInstD"><span class="annot"><span class="annottext">repDataFamInstD :: DataFamInstDecl GhcRn -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repDataFamInstD"><span class="hs-identifier hs-var hs-var">repDataFamInstD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dfid_eqn :: forall pass. DataFamInstDecl pass -&gt; FamEqn pass (HsDataDefn pass)
</span><a href="Language.Haskell.Syntax.Decls.html#dfid_eqn"><span class="hs-identifier hs-var">dfid_eqn</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-715"></span><span>                                      </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">feqn_tycon :: forall pass rhs. FamEqn pass rhs -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133581"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133581"><span class="hs-identifier hs-var">tc_name</span></a></span></span><span>
</span><span id="line-716"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_bndrs :: forall pass rhs. FamEqn pass rhs -&gt; HsOuterFamEqnTyVarBndrs pass
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_bndrs"><span class="hs-identifier hs-var">feqn_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133582"><span class="annot"><span class="annottext">HsOuterFamEqnTyVarBndrs GhcRn
</span><a href="#local-6989586621683133582"><span class="hs-identifier hs-var">outer_bndrs</span></a></span></span><span>
</span><span id="line-717"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_pats :: forall pass rhs. FamEqn pass rhs -&gt; HsFamEqnPats pass
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_pats"><span class="hs-identifier hs-var">feqn_pats</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133583"><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
</span><a href="#local-6989586621683133583"><span class="hs-identifier hs-var">tys</span></a></span></span><span>
</span><span id="line-718"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_fixity :: forall pass rhs. FamEqn pass rhs -&gt; LexicalFixity
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_fixity"><span class="hs-identifier hs-var">feqn_fixity</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133584"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621683133584"><span class="hs-identifier hs-var">fixity</span></a></span></span><span>
</span><span id="line-719"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">feqn_rhs :: forall pass rhs. FamEqn pass rhs -&gt; rhs
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133585"><span class="annot"><span class="annottext">HsDataDefn GhcRn
</span><a href="#local-6989586621683133585"><span class="hs-identifier hs-var">defn</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-720"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133586"><span class="annot"><a href="#local-6989586621683133586"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133581"><span class="hs-identifier hs-var">tc_name</span></a></span><span>         </span><span class="hs-comment">-- See Note [Binders and occurrences]</span><span>
</span><span id="line-721"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addHsOuterFamEqnTyVarBinds"><span class="hs-identifier hs-type">addHsOuterFamEqnTyVarBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133582"><span class="hs-identifier hs-type">outer_bndrs</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621683133587"><span class="annot"><span class="annottext">Core (Maybe [M (TyVarBndr ())])
</span><a href="#local-6989586621683133587"><span class="hs-identifier hs-var">mb_exp_bndrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-722"></span><span>         </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133588"><span class="annot"><a href="#local-6989586621683133588"><span class="hs-identifier hs-var">tys1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621683133584"><span class="hs-identifier hs-var">fixity</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-723"></span><span>                        </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="Language.Haskell.Syntax.Basic.html#Prefix"><span class="hs-identifier hs-var">Prefix</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
-&gt; HsFamEqnPats GhcRn -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTyArgs"><span class="hs-identifier hs-var">repTyArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Core Name -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repNamedTyCon"><span class="hs-identifier hs-var">repNamedTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Core Name
</span><a href="#local-6989586621683133586"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
</span><a href="#local-6989586621683133583"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-724"></span><span>                        </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="Language.Haskell.Syntax.Basic.html#Infix"><span class="hs-identifier hs-var">Infix</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133589"><span class="annot"><a href="#local-6989586621683133589"><span class="hs-identifier hs-var">t1</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133590"><span class="annot"><a href="#local-6989586621683133590"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621683133591"><span class="annot"><a href="#local-6989586621683133591"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcRn -&gt; MetaM (HsFamEqnPats GhcRn)
</span><a href="#local-6989586621683133592"><span class="hs-identifier hs-var">checkTys</span></a></span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
</span><a href="#local-6989586621683133583"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-725"></span><span>                                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133593"><span class="annot"><a href="#local-6989586621683133593"><span class="hs-identifier hs-var">t1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133589"><span class="hs-identifier hs-type">t1</span></a></span><span>
</span><span id="line-726"></span><span>                                     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133594"><span class="annot"><a href="#local-6989586621683133594"><span class="hs-identifier hs-var">t2'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133590"><span class="hs-identifier hs-type">t2</span></a></span><span>
</span><span id="line-727"></span><span>                                     </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyArgs"><span class="hs-identifier hs-type">repTyArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTInfix"><span class="hs-identifier hs-type">repTInfix</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133593"><span class="hs-identifier hs-type">t1'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133586"><span class="hs-identifier hs-type">tc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133594"><span class="hs-identifier hs-type">t2'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683133591"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-728"></span><span>            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDataDefn"><span class="hs-identifier hs-type">repDataDefn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133586"><span class="hs-identifier hs-type">tc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683133587"><span class="hs-identifier hs-type">mb_exp_bndrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133588"><span class="hs-identifier hs-type">tys1</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683133585"><span class="hs-identifier hs-type">defn</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-729"></span><span>
</span><span id="line-730"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span class="annot"><a href="#local-6989586621683133592"><span class="hs-identifier hs-type">checkTys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTypeArg"><span class="hs-identifier hs-type">LHsTypeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-731"></span><span>            </span><span id="local-6989586621683133592"><span class="annot"><span class="annottext">checkTys :: HsFamEqnPats GhcRn -&gt; MetaM (HsFamEqnPats GhcRn)
</span><a href="#local-6989586621683133592"><span class="hs-identifier hs-var hs-var">checkTys</span></a></span></span><span> </span><span id="local-6989586621683133595"><span class="annot"><span class="annottext">tys :: HsFamEqnPats GhcRn
</span><a href="#local-6989586621683133595"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">XValArg GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsValArg"><span class="hs-identifier hs-type">HsValArg</span></a></span><span> </span><span class="annot"><span class="annottext">XValArg GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><span class="hs-identifier">_</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[HsArg
   GhcRn
   (GenLocated SrcSpanAnnA (HsType GhcRn))
   (GenLocated SrcSpanAnnA (HsType GhcRn))]
-&gt; ReaderT
     MetaWrappers
     DsM
     [HsArg
        GhcRn
        (GenLocated SrcSpanAnnA (HsType GhcRn))
        (GenLocated SrcSpanAnnA (HsType GhcRn))]
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
[HsArg
   GhcRn
   (GenLocated SrcSpanAnnA (HsType GhcRn))
   (GenLocated SrcSpanAnnA (HsType GhcRn))]
</span><a href="#local-6989586621683133595"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-732"></span><span>            </span><span class="annot"><a href="#local-6989586621683133592"><span class="hs-identifier hs-var">checkTys</span></a></span><span> </span><span class="annot"><span class="annottext">HsFamEqnPats GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; ReaderT
     MetaWrappers
     DsM
     [HsArg
        GhcRn
        (GenLocated SrcSpanAnnA (HsType GhcRn))
        (GenLocated SrcSpanAnnA (HsType GhcRn))]
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;repDataFamInstD:checkTys&quot;</span></span><span>
</span><span id="line-733"></span><span>
</span><span id="line-734"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repForD"><span class="hs-identifier hs-type">repForD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LForeignDecl"><span class="hs-identifier hs-type">LForeignDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-735"></span><span id="repForD"><span class="annot"><span class="annottext">repForD :: LForeignDecl GhcRn
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repForD"><span class="hs-identifier hs-var hs-var">repForD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133596"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133596"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fd_name :: forall pass. ForeignDecl pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#fd_name"><span class="hs-identifier hs-var">fd_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133599"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133599"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_sig_ty :: forall pass. ForeignDecl pass -&gt; LHsSigType pass
</span><a href="Language.Haskell.Syntax.Decls.html#fd_sig_ty"><span class="hs-identifier hs-var">fd_sig_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133601"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133601"><span class="hs-identifier hs-var">typ</span></a></span></span><span>
</span><span id="line-736"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fd_fi :: forall pass. ForeignDecl pass -&gt; ForeignImport pass
</span><a href="Language.Haskell.Syntax.Decls.html#fd_fi"><span class="hs-identifier hs-var">fd_fi</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#CImport"><span class="hs-identifier hs-type">CImport</span></a></span><span> </span><span class="annot"><span class="annottext">XCImport GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133604"><span class="annot"><span class="annottext">CCallConv
</span><a href="#local-6989586621683133604"><span class="hs-identifier hs-var">cc</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-737"></span><span>                                                    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133605"><span class="annot"><span class="annottext">Safety
</span><a href="#local-6989586621683133605"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621683133606"><span class="annot"><span class="annottext">Maybe Header
</span><a href="#local-6989586621683133606"><span class="hs-identifier hs-var">mch</span></a></span></span><span> </span><span id="local-6989586621683133607"><span class="annot"><span class="annottext">CImportSpec
</span><a href="#local-6989586621683133607"><span class="hs-identifier hs-var">cis</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-738"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133608"><span class="annot"><a href="#local-6989586621683133608"><span class="hs-identifier hs-var">name'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133599"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-739"></span><span>      </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133609"><span class="annot"><a href="#local-6989586621683133609"><span class="hs-identifier hs-var">typ'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repHsSigType"><span class="hs-identifier hs-type">repHsSigType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133601"><span class="hs-identifier hs-type">typ</span></a></span><span>
</span><span id="line-740"></span><span>      </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133610"><span class="annot"><a href="#local-6989586621683133610"><span class="hs-identifier hs-var">cc'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repCCallConv"><span class="hs-identifier hs-type">repCCallConv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133604"><span class="hs-identifier hs-type">cc</span></a></span><span>
</span><span id="line-741"></span><span>      </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133612"><span class="annot"><a href="#local-6989586621683133612"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSafety"><span class="hs-identifier hs-type">repSafety</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133605"><span class="hs-identifier hs-type">s</span></a></span><span>
</span><span id="line-742"></span><span>      </span><span id="local-6989586621683133614"><span class="annot"><a href="#local-6989586621683133614"><span class="hs-identifier hs-var">cis'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621683133615"><span class="hs-identifier hs-type">conv_cimportspec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133607"><span class="hs-identifier hs-type">cis</span></a></span><span>
</span><span id="line-743"></span><span>      </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133616"><span class="annot"><a href="#local-6989586621683133616"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-type">coreStringLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-type">mkFastString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683133619"><span class="hs-identifier hs-type">static</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133620"><span class="hs-identifier hs-type">chStr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133614"><span class="hs-identifier hs-type">cis'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-744"></span><span>      </span><span id="local-6989586621683133621"><span class="annot"><a href="#local-6989586621683133621"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#forImpDName"><span class="hs-identifier hs-type">forImpDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683133610"><span class="hs-identifier hs-type">cc'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133612"><span class="hs-identifier hs-type">s'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133616"><span class="hs-identifier hs-type">str</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133608"><span class="hs-identifier hs-type">name'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133609"><span class="hs-identifier hs-type">typ'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-745"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133596"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133621"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-746"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-747"></span><span>    </span><span id="local-6989586621683133615"><span class="annot"><span class="annottext">conv_cimportspec :: CImportSpec -&gt; MetaM String
</span><a href="#local-6989586621683133615"><span class="hs-identifier hs-var hs-var">conv_cimportspec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span id="local-6989586621683133630"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683133630"><span class="hs-identifier hs-var">cls</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-748"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM String
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThForeignLabel"><span class="hs-identifier hs-var">ThForeignLabel</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683133630"><span class="hs-identifier hs-var">cls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-749"></span><span>    </span><span class="annot"><a href="#local-6989586621683133615"><span class="hs-identifier hs-var">conv_cimportspec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#CFunction"><span class="hs-identifier hs-type">CFunction</span></a></span><span> </span><span class="annot"><span class="annottext">CCallTarget
</span><a href="GHC.Types.ForeignCall.html#DynamicTarget"><span class="hs-identifier hs-var">DynamicTarget</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; MetaM String
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;dynamic&quot;</span></span><span>
</span><span id="line-750"></span><span>    </span><span class="annot"><a href="#local-6989586621683133615"><span class="hs-identifier hs-var">conv_cimportspec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#CFunction"><span class="hs-identifier hs-type">CFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.ForeignCall.html#StaticTarget"><span class="hs-identifier hs-type">StaticTarget</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133635"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683133635"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe Unit
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-751"></span><span>                            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; MetaM String
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683133635"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-752"></span><span>    </span><span class="annot"><a href="#local-6989586621683133615"><span class="hs-identifier hs-var">conv_cimportspec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#CFunction"><span class="hs-identifier hs-type">CFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.ForeignCall.html#StaticTarget"><span class="hs-identifier hs-type">StaticTarget</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span>  </span><span class="annot"><span class="annottext">Maybe Unit
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-753"></span><span>                            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; MetaM String
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;conv_cimportspec: values not supported yet&quot;</span></span><span>
</span><span id="line-754"></span><span>    </span><span class="annot"><a href="#local-6989586621683133615"><span class="hs-identifier hs-var">conv_cimportspec</span></a></span><span> </span><span class="annot"><span class="annottext">CImportSpec
</span><a href="Language.Haskell.Syntax.Decls.html#CWrapper"><span class="hs-identifier hs-var">CWrapper</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; MetaM String
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;wrapper&quot;</span></span><span>
</span><span id="line-755"></span><span>    </span><span class="hs-comment">-- these calling conventions do not support headers and the static keyword</span><span>
</span><span id="line-756"></span><span>    </span><span id="local-6989586621683133638"><span class="annot"><span class="annottext">raw_cconv :: Bool
</span><a href="#local-6989586621683133638"><span class="hs-identifier hs-var hs-var">raw_cconv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="#local-6989586621683133604"><span class="hs-identifier hs-var">cc</span></a></span><span> </span><span class="annot"><span class="annottext">CCallConv -&gt; CCallConv -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#PrimCallConv"><span class="hs-identifier hs-var">PrimCallConv</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="#local-6989586621683133604"><span class="hs-identifier hs-var">cc</span></a></span><span> </span><span class="annot"><span class="annottext">CCallConv -&gt; CCallConv -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#JavaScriptCallConv"><span class="hs-identifier hs-var">JavaScriptCallConv</span></a></span><span>
</span><span id="line-757"></span><span>    </span><span id="local-6989586621683133619"><span class="annot"><span class="annottext">static :: String
</span><a href="#local-6989586621683133619"><span class="hs-identifier hs-var hs-var">static</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CImportSpec
</span><a href="#local-6989586621683133607"><span class="hs-identifier hs-var">cis</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-758"></span><span>                 </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#CFunction"><span class="hs-identifier hs-type">CFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.ForeignCall.html#StaticTarget"><span class="hs-identifier hs-type">StaticTarget</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe Unit
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683133638"><span class="hs-identifier hs-var">raw_cconv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;static &quot;</span></span><span>
</span><span id="line-759"></span><span>                 </span><span class="annot"><span class="annottext">CImportSpec
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-760"></span><span>    </span><span id="local-6989586621683133620"><span class="annot"><span class="annottext">chStr :: String
</span><a href="#local-6989586621683133620"><span class="hs-identifier hs-var hs-var">chStr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Header
</span><a href="#local-6989586621683133606"><span class="hs-identifier hs-var">mch</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-761"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.ForeignCall.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133644"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683133644"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683133638"><span class="hs-identifier hs-var">raw_cconv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683133644"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span>
</span><span id="line-762"></span><span>            </span><span class="annot"><span class="annottext">Maybe Header
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-763"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repForD"><span class="hs-identifier hs-var">repForD</span></a></span><span> </span><span id="local-6989586621683133645"><span class="annot"><span class="annottext">decl :: LForeignDecl GhcRn
</span><a href="#local-6989586621683133645"><span class="hs-identifier hs-var">decl</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignExport"><span class="hs-identifier hs-type">ForeignExport</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LForeignDecl GhcRn -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThForeignExport"><span class="hs-identifier hs-var">ThForeignExport</span></a></span><span> </span><span class="annot"><span class="annottext">LForeignDecl GhcRn
</span><a href="#local-6989586621683133645"><span class="hs-identifier hs-var">decl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-764"></span><span>
</span><span id="line-765"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repCCallConv"><span class="hs-identifier hs-type">repCCallConv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-type">CCallConv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Callconv</span></span><span class="hs-special">)</span><span>
</span><span id="line-766"></span><span id="repCCallConv"><span class="annot"><span class="annottext">repCCallConv :: CCallConv -&gt; MetaM (Core Callconv)
</span><a href="GHC.HsToCore.Quote.html#repCCallConv"><span class="hs-identifier hs-var hs-var">repCCallConv</span></a></span></span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CCallConv"><span class="hs-identifier hs-var">CCallConv</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core Callconv)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#cCallName"><span class="hs-identifier hs-var">cCallName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-767"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repCCallConv"><span class="hs-identifier hs-var">repCCallConv</span></a></span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#StdCallConv"><span class="hs-identifier hs-var">StdCallConv</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core Callconv)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#stdCallName"><span class="hs-identifier hs-var">stdCallName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-768"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repCCallConv"><span class="hs-identifier hs-var">repCCallConv</span></a></span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#CApiConv"><span class="hs-identifier hs-var">CApiConv</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core Callconv)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#cApiCallName"><span class="hs-identifier hs-var">cApiCallName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-769"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repCCallConv"><span class="hs-identifier hs-var">repCCallConv</span></a></span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#PrimCallConv"><span class="hs-identifier hs-var">PrimCallConv</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core Callconv)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#primCallName"><span class="hs-identifier hs-var">primCallName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-770"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repCCallConv"><span class="hs-identifier hs-var">repCCallConv</span></a></span><span> </span><span class="annot"><span class="annottext">CCallConv
</span><a href="GHC.Types.ForeignCall.html#JavaScriptCallConv"><span class="hs-identifier hs-var">JavaScriptCallConv</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core Callconv)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#javaScriptCallName"><span class="hs-identifier hs-var">javaScriptCallName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-771"></span><span>
</span><span id="line-772"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSafety"><span class="hs-identifier hs-type">repSafety</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.ForeignCall.html#Safety"><span class="hs-identifier hs-type">Safety</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Safety</span></span><span class="hs-special">)</span><span>
</span><span id="line-773"></span><span id="repSafety"><span class="annot"><span class="annottext">repSafety :: Safety -&gt; MetaM (Core Safety)
</span><a href="GHC.HsToCore.Quote.html#repSafety"><span class="hs-identifier hs-var hs-var">repSafety</span></a></span></span><span> </span><span class="annot"><span class="annottext">Safety
</span><a href="GHC.Types.ForeignCall.html#PlayRisky"><span class="hs-identifier hs-var">PlayRisky</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core Safety)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#unsafeName"><span class="hs-identifier hs-var">unsafeName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-774"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSafety"><span class="hs-identifier hs-var">repSafety</span></a></span><span> </span><span class="annot"><span class="annottext">Safety
</span><a href="GHC.Types.ForeignCall.html#PlayInterruptible"><span class="hs-identifier hs-var">PlayInterruptible</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core Safety)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#interruptibleName"><span class="hs-identifier hs-var">interruptibleName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-775"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSafety"><span class="hs-identifier hs-var">repSafety</span></a></span><span> </span><span class="annot"><span class="annottext">Safety
</span><a href="GHC.Types.ForeignCall.html#PlaySafe"><span class="hs-identifier hs-var">PlaySafe</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core Safety)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#safeName"><span class="hs-identifier hs-var">safeName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-776"></span><span>
</span><span id="line-777"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLFixD"><span class="hs-identifier hs-type">repLFixD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LFixitySig"><span class="hs-identifier hs-type">LFixitySig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-778"></span><span id="repLFixD"><span class="annot"><span class="annottext">repLFixD :: LFixitySig GhcRn -&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#repLFixD"><span class="hs-identifier hs-var hs-var">repLFixD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133662"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133662"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683133663"><span class="annot"><span class="annottext">FixitySig GhcRn
</span><a href="#local-6989586621683133663"><span class="hs-identifier hs-var">fix_sig</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; FixitySig GhcRn -&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_fix_d"><span class="hs-identifier hs-var">rep_fix_d</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133662"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FixitySig GhcRn
</span><a href="#local-6989586621683133663"><span class="hs-identifier hs-var">fix_sig</span></a></span><span>
</span><span id="line-779"></span><span>
</span><span id="line-780"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_fix_d"><span class="hs-identifier hs-type">rep_fix_d</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixitySig"><span class="hs-identifier hs-type">FixitySig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-781"></span><span id="rep_fix_d"><span class="annot"><span class="annottext">rep_fix_d :: SrcSpan -&gt; FixitySig GhcRn -&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_fix_d"><span class="hs-identifier hs-var hs-var">rep_fix_d</span></a></span></span><span> </span><span id="local-6989586621683133665"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683133665"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixitySig"><span class="hs-identifier hs-type">FixitySig</span></a></span><span> </span><span id="local-6989586621683133667"><span class="annot"><span class="annottext">XFixitySig GhcRn
</span><a href="#local-6989586621683133667"><span class="hs-identifier hs-var">ns_spec</span></a></span></span><span> </span><span id="local-6989586621683133668"><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621683133668"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Fixity"><span class="hs-identifier hs-type">Fixity</span></a></span><span> </span><span id="local-6989586621683133670"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683133670"><span class="hs-identifier hs-var">prec</span></a></span></span><span> </span><span id="local-6989586621683133671"><span class="annot"><span class="annottext">FixityDirection
</span><a href="#local-6989586621683133671"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-782"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133672"><span class="annot"><a href="#local-6989586621683133672"><span class="hs-identifier hs-var">prec'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; MetaM (Core Int)
</span><a href="GHC.HsToCore.Quote.html#coreIntLit"><span class="hs-identifier hs-var">coreIntLit</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683133670"><span class="hs-identifier hs-var">prec</span></a></span><span>
</span><span id="line-783"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683133674"><span class="annot"><a href="#local-6989586621683133674"><span class="hs-identifier hs-var hs-var">rep_fn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FixityDirection
</span><a href="#local-6989586621683133671"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-784"></span><span>                        </span><span class="annot"><span class="annottext">FixityDirection
</span><a href="Language.Haskell.Syntax.Basic.html#InfixL"><span class="hs-identifier hs-var">InfixL</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#infixLWithSpecDName"><span class="hs-identifier hs-var">infixLWithSpecDName</span></a></span><span>
</span><span id="line-785"></span><span>                        </span><span class="annot"><span class="annottext">FixityDirection
</span><a href="Language.Haskell.Syntax.Basic.html#InfixR"><span class="hs-identifier hs-var">InfixR</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#infixRWithSpecDName"><span class="hs-identifier hs-var">infixRWithSpecDName</span></a></span><span>
</span><span id="line-786"></span><span>                        </span><span class="annot"><span class="annottext">FixityDirection
</span><a href="Language.Haskell.Syntax.Basic.html#InfixN"><span class="hs-identifier hs-var">InfixN</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#infixNWithSpecDName"><span class="hs-identifier hs-var">infixNWithSpecDName</span></a></span><span>
</span><span id="line-787"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683133681"><span class="annot"><a href="#local-6989586621683133681"><span class="hs-identifier hs-var hs-var">do_one</span></a></span></span><span> </span><span id="local-6989586621683133682"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133682"><span class="hs-identifier hs-var">name</span></a></span></span><span>
</span><span id="line-788"></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133683"><span class="annot"><a href="#local-6989586621683133683"><span class="hs-identifier hs-var">name'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133682"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-789"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133684"><span class="annot"><a href="#local-6989586621683133684"><span class="hs-identifier hs-var">ns_spec'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNamespaceSpecifier"><span class="hs-identifier hs-type">repNamespaceSpecifier</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133667"><span class="hs-identifier hs-type">ns_spec</span></a></span><span>
</span><span id="line-790"></span><span>                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133686"><span class="annot"><a href="#local-6989586621683133686"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133674"><span class="hs-identifier hs-type">rep_fn</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683133672"><span class="hs-identifier hs-type">prec'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133684"><span class="hs-identifier hs-type">ns_spec'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133683"><span class="hs-identifier hs-type">name'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-791"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683133665"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683133686"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-792"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="#local-6989586621683133681"><span class="hs-identifier hs-type">do_one</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133668"><span class="hs-identifier hs-type">names</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-793"></span><span>
</span><span id="line-794"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDefD"><span class="hs-identifier hs-type">repDefD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDefaultDecl"><span class="hs-identifier hs-type">LDefaultDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-795"></span><span id="repDefD"><span class="annot"><span class="annottext">repDefD :: LDefaultDecl GhcRn
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repDefD"><span class="hs-identifier hs-var hs-var">repDefD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133687"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133687"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DefaultDecl"><span class="hs-identifier hs-type">DefaultDecl</span></a></span><span> </span><span class="annot"><span class="annottext">XCDefaultDecl GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe (LIdP GhcRn)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133689"><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
</span><a href="#local-6989586621683133689"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133690"><span class="annot"><a href="#local-6989586621683133690"><span class="hs-identifier hs-var">tys1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)] -&gt; MetaM [Core (M Type)]
</span><a href="GHC.HsToCore.Quote.html#repLTys"><span class="hs-identifier hs-var">repLTys</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
</span><a href="#local-6989586621683133689"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-796"></span><span>                                           </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133692"><span class="annot"><a href="#local-6989586621683133692"><span class="hs-identifier hs-var">tys2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-type">coreListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#typeTyConName"><span class="hs-identifier hs-type">typeTyConName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133690"><span class="hs-identifier hs-type">tys1</span></a></span><span>
</span><span id="line-797"></span><span>                                           </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133694"><span class="annot"><a href="#local-6989586621683133694"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#defaultDName"><span class="hs-identifier hs-type">defaultDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683133692"><span class="hs-identifier hs-type">tys2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-798"></span><span>                                           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133687"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133694"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-799"></span><span>
</span><span id="line-800"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRuleD"><span class="hs-identifier hs-type">repRuleD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LRuleDecl"><span class="hs-identifier hs-type">LRuleDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-801"></span><span id="repRuleD"><span class="annot"><span class="annottext">repRuleD :: LRuleDecl GhcRn -&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repRuleD"><span class="hs-identifier hs-var hs-var">repRuleD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133696"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133696"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsRule"><span class="hs-identifier hs-type">HsRule</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rd_name :: forall pass. RuleDecl pass -&gt; XRec pass FastString
</span><a href="Language.Haskell.Syntax.Decls.html#rd_name"><span class="hs-identifier hs-var">rd_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133699"><span class="annot"><span class="annottext">XRec GhcRn FastString
</span><a href="#local-6989586621683133699"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-802"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rd_act :: forall pass. RuleDecl pass -&gt; Activation
</span><a href="Language.Haskell.Syntax.Decls.html#rd_act"><span class="hs-identifier hs-var">rd_act</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133701"><span class="annot"><span class="annottext">Activation
</span><a href="#local-6989586621683133701"><span class="hs-identifier hs-var">act</span></a></span></span><span>
</span><span id="line-803"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rd_tyvs :: forall pass.
RuleDecl pass -&gt; Maybe [LHsTyVarBndr () (NoGhcTc pass)]
</span><a href="Language.Haskell.Syntax.Decls.html#rd_tyvs"><span class="hs-identifier hs-var">rd_tyvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133703"><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr () (NoGhcTc GhcRn)]
</span><a href="#local-6989586621683133703"><span class="hs-identifier hs-var">m_ty_bndrs</span></a></span></span><span>
</span><span id="line-804"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rd_tmvs :: forall pass. RuleDecl pass -&gt; [LRuleBndr pass]
</span><a href="Language.Haskell.Syntax.Decls.html#rd_tmvs"><span class="hs-identifier hs-var">rd_tmvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133705"><span class="annot"><span class="annottext">[LRuleBndr GhcRn]
</span><a href="#local-6989586621683133705"><span class="hs-identifier hs-var">tm_bndrs</span></a></span></span><span>
</span><span id="line-805"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rd_lhs :: forall pass. RuleDecl pass -&gt; XRec pass (HsExpr pass)
</span><a href="Language.Haskell.Syntax.Decls.html#rd_lhs"><span class="hs-identifier hs-var">rd_lhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133707"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683133707"><span class="hs-identifier hs-var">lhs</span></a></span></span><span>
</span><span id="line-806"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rd_rhs :: forall pass. RuleDecl pass -&gt; XRec pass (HsExpr pass)
</span><a href="Language.Haskell.Syntax.Decls.html#rd_rhs"><span class="hs-identifier hs-var">rd_rhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133709"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683133709"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-807"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683133710"><span class="annot"><span class="annottext">ty_bndrs :: [GenLocated SrcSpanAnnA (HsTyVarBndr () GhcRn)]
</span><a href="#local-6989586621683133710"><span class="hs-identifier hs-var hs-var hs-var">ty_bndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsTyVarBndr () GhcRn)]
-&gt; Maybe [GenLocated SrcSpanAnnA (HsTyVarBndr () GhcRn)]
-&gt; [GenLocated SrcSpanAnnA (HsTyVarBndr () GhcRn)]
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr () (NoGhcTc GhcRn)]
Maybe [GenLocated SrcSpanAnnA (HsTyVarBndr () GhcRn)]
</span><a href="#local-6989586621683133703"><span class="hs-identifier hs-var">m_ty_bndrs</span></a></span><span>
</span><span id="line-808"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133712"><span class="annot"><a href="#local-6989586621683133712"><span class="hs-identifier hs-var">rule</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
-&gt; [LHsTyVarBndr () GhcRn]
-&gt; (Core [M (TyVarBndr ())] -&gt; MetaM (Core (M Dec)))
-&gt; MetaM (Core (M Dec))
forall {k} flag flag' (a :: k).
RepTV flag flag' =&gt;
FreshOrReuse
-&gt; [LHsTyVarBndr flag GhcRn]
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addHsTyVarBinds"><span class="hs-identifier hs-var">addHsTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-var">FreshNamesOnly</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcRn]
[GenLocated SrcSpanAnnA (HsTyVarBndr () GhcRn)]
</span><a href="#local-6989586621683133710"><span class="hs-identifier hs-var">ty_bndrs</span></a></span><span> </span><span class="annot"><span class="annottext">((Core [M (TyVarBndr ())] -&gt; MetaM (Core (M Dec)))
 -&gt; MetaM (Core (M Dec)))
-&gt; (Core [M (TyVarBndr ())] -&gt; MetaM (Core (M Dec)))
-&gt; MetaM (Core (M Dec))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621683133714"><span class="annot"><span class="annottext">Core [M (TyVarBndr ())]
</span><a href="#local-6989586621683133714"><span class="hs-identifier hs-var">ex_bndrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-809"></span><span>         </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683133715"><span class="annot"><span class="annottext">tm_bndr_names :: [Name]
</span><a href="#local-6989586621683133715"><span class="hs-identifier hs-var hs-var hs-var">tm_bndr_names</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated EpAnnCO (RuleBndr GhcRn) -&gt; [Name])
-&gt; [GenLocated EpAnnCO (RuleBndr GhcRn)] -&gt; [Name]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">LRuleBndr GhcRn -&gt; [Name]
GenLocated EpAnnCO (RuleBndr GhcRn) -&gt; [Name]
</span><a href="GHC.HsToCore.Quote.html#ruleBndrNames"><span class="hs-identifier hs-var">ruleBndrNames</span></a></span><span> </span><span class="annot"><span class="annottext">[LRuleBndr GhcRn]
[GenLocated EpAnnCO (RuleBndr GhcRn)]
</span><a href="#local-6989586621683133705"><span class="hs-identifier hs-var">tm_bndrs</span></a></span><span>
</span><span id="line-810"></span><span>            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133717"><span class="annot"><a href="#local-6989586621683133717"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-var">mkGenSyms</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683133715"><span class="hs-identifier hs-var">tm_bndr_names</span></a></span><span>
</span><span id="line-811"></span><span>            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133718"><span class="annot"><a href="#local-6989586621683133718"><span class="hs-identifier hs-var">rule</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133717"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-812"></span><span>                      </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133719"><span class="annot"><a href="#local-6989586621683133719"><span class="hs-identifier hs-var">elt_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapName"><span class="hs-identifier hs-type">wrapName</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#tyVarBndrUnitTyConName"><span class="hs-identifier hs-type">tyVarBndrUnitTyConName</span></a></span><span>
</span><span id="line-813"></span><span>                         </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133721"><span class="annot"><a href="#local-6989586621683133721"><span class="hs-identifier hs-var">ty_bndrs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621683133703"><span class="hs-identifier hs-type">m_ty_bndrs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-814"></span><span>                             </span><span class="annot"><span class="annottext">Maybe [LHsTyVarBndr () (NoGhcTc GhcRn)]
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Core (Maybe [M (TyVarBndr ())])
forall a. Type -&gt; Core (Maybe a)
</span><a href="GHC.HsToCore.Quote.html#coreNothing%27"><span class="hs-identifier hs-var">coreNothing'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="GHC.Builtin.Types.html#mkListTy"><span class="hs-identifier hs-var">mkListTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683133719"><span class="hs-identifier hs-var">elt_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-815"></span><span>                             </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr () (NoGhcTc GhcRn)]
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Core [M (TyVarBndr ())] -&gt; Core (Maybe [M (TyVarBndr ())])
forall a. Type -&gt; Core a -&gt; Core (Maybe a)
</span><a href="GHC.HsToCore.Quote.html#coreJust%27"><span class="hs-identifier hs-var">coreJust'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="GHC.Builtin.Types.html#mkListTy"><span class="hs-identifier hs-var">mkListTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683133719"><span class="hs-identifier hs-var">elt_ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Core [M (TyVarBndr ())]
</span><a href="#local-6989586621683133714"><span class="hs-identifier hs-var">ex_bndrs</span></a></span><span>
</span><span id="line-816"></span><span>                         </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133725"><span class="annot"><a href="#local-6989586621683133725"><span class="hs-identifier hs-var">tm_bndrs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-type">repListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#ruleBndrTyConName"><span class="hs-identifier hs-type">ruleBndrTyConName</span></a></span><span>
</span><span id="line-817"></span><span>                                                </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRuleBndr"><span class="hs-identifier hs-type">repRuleBndr</span></a></span><span>
</span><span id="line-818"></span><span>                                                </span><span class="annot"><a href="#local-6989586621683133705"><span class="hs-identifier hs-type">tm_bndrs</span></a></span><span>
</span><span id="line-819"></span><span>                         </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133728"><span class="annot"><a href="#local-6989586621683133728"><span class="hs-identifier hs-var">n'</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-type">coreStringLit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133699"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-820"></span><span>                         </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133729"><span class="annot"><a href="#local-6989586621683133729"><span class="hs-identifier hs-var">act'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPhases"><span class="hs-identifier hs-type">repPhases</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133701"><span class="hs-identifier hs-type">act</span></a></span><span>
</span><span id="line-821"></span><span>                         </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133731"><span class="annot"><a href="#local-6989586621683133731"><span class="hs-identifier hs-var">lhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133707"><span class="hs-identifier hs-type">lhs</span></a></span><span>
</span><span id="line-822"></span><span>                         </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133732"><span class="annot"><a href="#local-6989586621683133732"><span class="hs-identifier hs-var">rhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133709"><span class="hs-identifier hs-type">rhs</span></a></span><span>
</span><span id="line-823"></span><span>                         </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragRule"><span class="hs-identifier hs-type">repPragRule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133728"><span class="hs-identifier hs-type">n'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133721"><span class="hs-identifier hs-type">ty_bndrs'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133725"><span class="hs-identifier hs-type">tm_bndrs'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133731"><span class="hs-identifier hs-type">lhs'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133732"><span class="hs-identifier hs-type">rhs'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133729"><span class="hs-identifier hs-type">act'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-824"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133717"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133718"><span class="hs-identifier hs-type">rule</span></a></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-825"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133696"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133712"><span class="hs-identifier hs-type">rule</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-826"></span><span>
</span><span id="line-827"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#ruleBndrNames"><span class="hs-identifier hs-type">ruleBndrNames</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LRuleBndr"><span class="hs-identifier hs-type">LRuleBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-828"></span><span id="ruleBndrNames"><span class="annot"><span class="annottext">ruleBndrNames :: LRuleBndr GhcRn -&gt; [Name]
</span><a href="GHC.HsToCore.Quote.html#ruleBndrNames"><span class="hs-identifier hs-var hs-var">ruleBndrNames</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#RuleBndr"><span class="hs-identifier hs-type">RuleBndr</span></a></span><span> </span><span class="annot"><span class="annottext">XCRuleBndr GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133735"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133735"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133735"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-829"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#ruleBndrNames"><span class="hs-identifier hs-var">ruleBndrNames</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#RuleBndrSig"><span class="hs-identifier hs-type">RuleBndrSig</span></a></span><span> </span><span class="annot"><span class="annottext">XRuleBndrSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133737"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133737"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621683133738"><span class="annot"><span class="annottext">HsPatSigType GhcRn
</span><a href="#local-6989586621683133738"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-830"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsPS"><span class="hs-identifier hs-type">HsPS</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hsps_ext :: forall pass. HsPatSigType pass -&gt; XHsPS pass
</span><a href="Language.Haskell.Syntax.Type.html#hsps_ext"><span class="hs-identifier hs-var">hsps_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html#HsPSRn"><span class="hs-identifier hs-type">HsPSRn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hsps_imp_tvs :: HsPSRn -&gt; [Name]
</span><a href="GHC.Hs.Type.html#hsps_imp_tvs"><span class="hs-identifier hs-var">hsps_imp_tvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133743"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683133743"><span class="hs-identifier hs-var">vars</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsPatSigType GhcRn
</span><a href="#local-6989586621683133738"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-831"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133737"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; [Name]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683133743"><span class="hs-identifier hs-var">vars</span></a></span><span>
</span><span id="line-832"></span><span>
</span><span id="line-833"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRuleBndr"><span class="hs-identifier hs-type">repRuleBndr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LRuleBndr"><span class="hs-identifier hs-type">LRuleBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.RuleBndr</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-834"></span><span id="repRuleBndr"><span class="annot"><span class="annottext">repRuleBndr :: LRuleBndr GhcRn -&gt; MetaM (Core (M RuleBndr))
</span><a href="GHC.HsToCore.Quote.html#repRuleBndr"><span class="hs-identifier hs-var hs-var">repRuleBndr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#RuleBndr"><span class="hs-identifier hs-type">RuleBndr</span></a></span><span> </span><span class="annot"><span class="annottext">XCRuleBndr GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133744"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133744"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-835"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133745"><span class="annot"><a href="#local-6989586621683133745"><span class="hs-identifier hs-var">n'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupNBinder"><span class="hs-identifier hs-var">lookupNBinder</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133744"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-836"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#ruleVarName"><span class="hs-identifier hs-type">ruleVarName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683133745"><span class="hs-identifier hs-type">n'</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-837"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRuleBndr"><span class="hs-identifier hs-var">repRuleBndr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#RuleBndrSig"><span class="hs-identifier hs-type">RuleBndrSig</span></a></span><span> </span><span class="annot"><span class="annottext">XRuleBndrSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133748"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133748"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621683133749"><span class="annot"><span class="annottext">HsPatSigType GhcRn
</span><a href="#local-6989586621683133749"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-838"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133750"><span class="annot"><a href="#local-6989586621683133750"><span class="hs-identifier hs-var">n'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupNBinder"><span class="hs-identifier hs-var">lookupNBinder</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133748"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-839"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133751"><span class="annot"><a href="#local-6989586621683133751"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#hsPatSigType"><span class="hs-identifier hs-type">hsPatSigType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133749"><span class="hs-identifier hs-type">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-840"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#typedRuleVarName"><span class="hs-identifier hs-type">typedRuleVarName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683133750"><span class="hs-identifier hs-type">n'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133751"><span class="hs-identifier hs-type">ty'</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-841"></span><span>
</span><span id="line-842"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repAnnD"><span class="hs-identifier hs-type">repAnnD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LAnnDecl"><span class="hs-identifier hs-type">LAnnDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-843"></span><span id="repAnnD"><span class="annot"><span class="annottext">repAnnD :: LAnnDecl GhcRn -&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repAnnD"><span class="hs-identifier hs-var hs-var">repAnnD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133754"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133754"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsAnnotation"><span class="hs-identifier hs-type">HsAnnotation</span></a></span><span> </span><span class="annot"><span class="annottext">XHsAnnotation GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133756"><span class="annot"><span class="annottext">AnnProvenance GhcRn
</span><a href="#local-6989586621683133756"><span class="hs-identifier hs-var">ann_prov</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133757"><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683133757"><span class="hs-identifier hs-var">exp</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-844"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133758"><span class="annot"><a href="#local-6989586621683133758"><span class="hs-identifier hs-var">target</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">AnnProvenance GhcRn -&gt; MetaM (Core AnnTarget)
</span><a href="GHC.HsToCore.Quote.html#repAnnProv"><span class="hs-identifier hs-var">repAnnProv</span></a></span><span> </span><span class="annot"><span class="annottext">AnnProvenance GhcRn
</span><a href="#local-6989586621683133756"><span class="hs-identifier hs-var">ann_prov</span></a></span><span>
</span><span id="line-845"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133760"><span class="annot"><a href="#local-6989586621683133760"><span class="hs-identifier hs-var">exp'</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-type">repE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133757"><span class="hs-identifier hs-type">exp</span></a></span><span>
</span><span id="line-846"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133762"><span class="annot"><a href="#local-6989586621683133762"><span class="hs-identifier hs-var">dec</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragAnn"><span class="hs-identifier hs-type">repPragAnn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133758"><span class="hs-identifier hs-type">target</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133760"><span class="hs-identifier hs-type">exp'</span></a></span><span>
</span><span id="line-847"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133754"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133762"><span class="hs-identifier hs-type">dec</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-848"></span><span>
</span><span id="line-849"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repAnnProv"><span class="hs-identifier hs-type">repAnnProv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#AnnProvenance"><span class="hs-identifier hs-type">AnnProvenance</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.AnnTarget</span></span><span class="hs-special">)</span><span>
</span><span id="line-850"></span><span id="repAnnProv"><span class="annot"><span class="annottext">repAnnProv :: AnnProvenance GhcRn -&gt; MetaM (Core AnnTarget)
</span><a href="GHC.HsToCore.Quote.html#repAnnProv"><span class="hs-identifier hs-var hs-var">repAnnProv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValueAnnProvenance"><span class="hs-identifier hs-type">ValueAnnProvenance</span></a></span><span> </span><span id="local-6989586621683133765"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133765"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-851"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-comment">-- An ANN references an identifier bound elsewhere in the module, so</span><span>
</span><span id="line-852"></span><span>         </span><span class="hs-comment">-- we must look it up using lookupLOcc (#19377).</span><span>
</span><span id="line-853"></span><span>         </span><span class="hs-comment">-- Similarly for TypeAnnProvenance (`ANN type`) below.</span><span>
</span><span id="line-854"></span><span>         </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133766"><span class="annot"><a href="#local-6989586621683133766"><span class="hs-identifier hs-var">n'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133765"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-855"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-type">rep2_nw</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#valueAnnotationName"><span class="hs-identifier hs-type">valueAnnotationName</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621683133766"><span class="hs-identifier hs-type">n'</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-856"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repAnnProv"><span class="hs-identifier hs-var">repAnnProv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TypeAnnProvenance"><span class="hs-identifier hs-type">TypeAnnProvenance</span></a></span><span> </span><span id="local-6989586621683133769"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133769"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-857"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133770"><span class="annot"><a href="#local-6989586621683133770"><span class="hs-identifier hs-var">n'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133769"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-858"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-type">rep2_nw</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#typeAnnotationName"><span class="hs-identifier hs-type">typeAnnotationName</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621683133770"><span class="hs-identifier hs-type">n'</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-859"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repAnnProv"><span class="hs-identifier hs-var">repAnnProv</span></a></span><span> </span><span class="annot"><span class="annottext">AnnProvenance GhcRn
</span><a href="Language.Haskell.Syntax.Decls.html#ModuleAnnProvenance"><span class="hs-identifier hs-var">ModuleAnnProvenance</span></a></span><span>
</span><span id="line-860"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core AnnTarget)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#moduleAnnotationName"><span class="hs-identifier hs-var">moduleAnnotationName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-861"></span><span>
</span><span id="line-862"></span><span class="hs-comment">-------------------------------------------------------</span><span>
</span><span id="line-863"></span><span class="hs-comment">--                      Constructors</span><span>
</span><span id="line-864"></span><span class="hs-comment">-------------------------------------------------------</span><span>
</span><span id="line-865"></span><span>
</span><span id="line-866"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repC"><span class="hs-identifier hs-type">repC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LConDecl"><span class="hs-identifier hs-type">LConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Con</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-867"></span><span id="repC"><span class="annot"><span class="annottext">repC :: LConDecl GhcRn -&gt; MetaM (Core (M Con))
</span><a href="GHC.HsToCore.Quote.html#repC"><span class="hs-identifier hs-var hs-var">repC</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclH98"><span class="hs-identifier hs-type">ConDeclH98</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">con_name :: forall pass. ConDecl pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#con_name"><span class="hs-identifier hs-var">con_name</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133776"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133776"><span class="hs-identifier hs-var">con</span></a></span></span><span>
</span><span id="line-868"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_forall :: forall pass. ConDecl pass -&gt; Bool
</span><a href="Language.Haskell.Syntax.Decls.html#con_forall"><span class="hs-identifier hs-var">con_forall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-869"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_mb_cxt :: forall pass. ConDecl pass -&gt; Maybe (LHsContext pass)
</span><a href="Language.Haskell.Syntax.Decls.html#con_mb_cxt"><span class="hs-identifier hs-var">con_mb_cxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-870"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_args :: forall pass. ConDecl pass -&gt; HsConDeclH98Details pass
</span><a href="Language.Haskell.Syntax.Decls.html#con_args"><span class="hs-identifier hs-var">con_args</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133780"><span class="annot"><span class="annottext">HsConDeclH98Details GhcRn
</span><a href="#local-6989586621683133780"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-871"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
-&gt; HsConDeclH98Details GhcRn -&gt; MetaM (Core (M Con))
</span><a href="GHC.HsToCore.Quote.html#repH98DataCon"><span class="hs-identifier hs-var">repH98DataCon</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133776"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">HsConDeclH98Details GhcRn
</span><a href="#local-6989586621683133780"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-872"></span><span>
</span><span id="line-873"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repC"><span class="hs-identifier hs-var">repC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclH98"><span class="hs-identifier hs-type">ConDeclH98</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">con_name :: forall pass. ConDecl pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#con_name"><span class="hs-identifier hs-var">con_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133782"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133782"><span class="hs-identifier hs-var">con</span></a></span></span><span>
</span><span id="line-874"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_forall :: forall pass. ConDecl pass -&gt; Bool
</span><a href="Language.Haskell.Syntax.Decls.html#con_forall"><span class="hs-identifier hs-var">con_forall</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133783"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683133783"><span class="hs-identifier hs-var">is_existential</span></a></span></span><span>
</span><span id="line-875"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_ex_tvs :: forall pass. ConDecl pass -&gt; [LHsTyVarBndr Specificity pass]
</span><a href="Language.Haskell.Syntax.Decls.html#con_ex_tvs"><span class="hs-identifier hs-var">con_ex_tvs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133785"><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcRn]
</span><a href="#local-6989586621683133785"><span class="hs-identifier hs-var">con_tvs</span></a></span></span><span>
</span><span id="line-876"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_mb_cxt :: forall pass. ConDecl pass -&gt; Maybe (LHsContext pass)
</span><a href="Language.Haskell.Syntax.Decls.html#con_mb_cxt"><span class="hs-identifier hs-var">con_mb_cxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133786"><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683133786"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span>
</span><span id="line-877"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_args :: forall pass. ConDecl pass -&gt; HsConDeclH98Details pass
</span><a href="Language.Haskell.Syntax.Decls.html#con_args"><span class="hs-identifier hs-var">con_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133787"><span class="annot"><span class="annottext">HsConDeclH98Details GhcRn
</span><a href="#local-6989586621683133787"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-878"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
-&gt; [LHsTyVarBndr Specificity GhcRn]
-&gt; (Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M Con)))
-&gt; MetaM (Core (M Con))
forall {k} flag flag' (a :: k).
RepTV flag flag' =&gt;
FreshOrReuse
-&gt; [LHsTyVarBndr flag GhcRn]
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addHsTyVarBinds"><span class="hs-identifier hs-var">addHsTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-var">FreshNamesOnly</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcRn]
</span><a href="#local-6989586621683133785"><span class="hs-identifier hs-var">con_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">((Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M Con)))
 -&gt; MetaM (Core (M Con)))
-&gt; (Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M Con)))
-&gt; MetaM (Core (M Con))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621683133788"><span class="annot"><span class="annottext">Core [M (TyVarBndr Specificity)]
</span><a href="#local-6989586621683133788"><span class="hs-identifier hs-var">ex_bndrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-879"></span><span>         </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133789"><span class="annot"><a href="#local-6989586621683133789"><span class="hs-identifier hs-var">c'</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
-&gt; HsConDeclH98Details GhcRn -&gt; MetaM (Core (M Con))
</span><a href="GHC.HsToCore.Quote.html#repH98DataCon"><span class="hs-identifier hs-var">repH98DataCon</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133782"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="annot"><span class="annottext">HsConDeclH98Details GhcRn
</span><a href="#local-6989586621683133787"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-880"></span><span>            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133790"><span class="annot"><a href="#local-6989586621683133790"><span class="hs-identifier hs-var">ctxt'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMbContext"><span class="hs-identifier hs-type">repMbContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133786"><span class="hs-identifier hs-type">mcxt</span></a></span><span>
</span><span id="line-881"></span><span>            </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="hs-identifier hs-type">not</span></span><span> </span><span class="annot"><a href="#local-6989586621683133783"><span class="hs-identifier hs-type">is_existential</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&amp;&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">isNothing</span></span><span> </span><span class="annot"><a href="#local-6989586621683133786"><span class="hs-identifier hs-type">mcxt</span></a></span><span>
</span><span id="line-882"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621683133789"><span class="hs-identifier hs-type">c'</span></a></span><span>
</span><span id="line-883"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#forallCName"><span class="hs-identifier hs-type">forallCName</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133788"><span class="hs-identifier hs-type">ex_bndrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133790"><span class="hs-identifier hs-type">ctxt'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133789"><span class="hs-identifier hs-type">c'</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-884"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-885"></span><span>
</span><span id="line-886"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repC"><span class="hs-identifier hs-var">repC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclGADT"><span class="hs-identifier hs-type">ConDeclGADT</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">con_names :: forall pass. ConDecl pass -&gt; NonEmpty (LIdP pass)
</span><a href="Language.Haskell.Syntax.Decls.html#con_names"><span class="hs-identifier hs-var">con_names</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133797"><span class="annot"><span class="annottext">NonEmpty (LIdP GhcRn)
</span><a href="#local-6989586621683133797"><span class="hs-identifier hs-var">cons</span></a></span></span><span>
</span><span id="line-887"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_bndrs :: forall pass. ConDecl pass -&gt; XRec pass (HsOuterSigTyVarBndrs pass)
</span><a href="Language.Haskell.Syntax.Decls.html#con_bndrs"><span class="hs-identifier hs-var">con_bndrs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133799"><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
</span><a href="#local-6989586621683133799"><span class="hs-identifier hs-var">outer_bndrs</span></a></span></span><span>
</span><span id="line-888"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_mb_cxt :: forall pass. ConDecl pass -&gt; Maybe (LHsContext pass)
</span><a href="Language.Haskell.Syntax.Decls.html#con_mb_cxt"><span class="hs-identifier hs-var">con_mb_cxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133800"><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683133800"><span class="hs-identifier hs-var">mcxt</span></a></span></span><span>
</span><span id="line-889"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_g_args :: forall pass. ConDecl pass -&gt; HsConDeclGADTDetails pass
</span><a href="Language.Haskell.Syntax.Decls.html#con_g_args"><span class="hs-identifier hs-var">con_g_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133802"><span class="annot"><span class="annottext">HsConDeclGADTDetails GhcRn
</span><a href="#local-6989586621683133802"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-890"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_res_ty :: forall pass. ConDecl pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Decls.html#con_res_ty"><span class="hs-identifier hs-var">con_res_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133804"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133804"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-891"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683133805"><span class="hs-identifier hs-var">null_outer_imp_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683133806"><span class="hs-identifier hs-var">null_outer_exp_tvs</span></a></span><span>
</span><span id="line-892"></span><span>                                 </span><span class="hs-comment">-- No implicit or explicit variables</span><span>
</span><span id="line-893"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683133800"><span class="hs-identifier hs-var">mcxt</span></a></span><span>              </span><span class="hs-comment">-- No context</span><span>
</span><span id="line-894"></span><span>                                 </span><span class="hs-comment">-- ==&gt; no need for a forall</span><span>
</span><span id="line-895"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty (GenLocated SrcSpanAnnN Name)
-&gt; HsConDeclGADTDetails GhcRn
-&gt; XRec GhcRn (HsType GhcRn)
-&gt; MetaM (Core (M Con))
</span><a href="GHC.HsToCore.Quote.html#repGadtDataCons"><span class="hs-identifier hs-var">repGadtDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (LIdP GhcRn)
NonEmpty (GenLocated SrcSpanAnnN Name)
</span><a href="#local-6989586621683133797"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">HsConDeclGADTDetails GhcRn
</span><a href="#local-6989586621683133802"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133804"><span class="hs-identifier hs-var">res_ty</span></a></span><span>
</span><span id="line-896"></span><span>
</span><span id="line-897"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-898"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
-&gt; (Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M Con)))
-&gt; MetaM (Core (M Con))
forall {k} (a :: k).
HsOuterSigTyVarBndrs GhcRn
-&gt; (Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addHsOuterSigTyVarBinds"><span class="hs-identifier hs-var">addHsOuterSigTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
</span><a href="#local-6989586621683133799"><span class="hs-identifier hs-var">outer_bndrs</span></a></span><span> </span><span class="annot"><span class="annottext">((Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M Con)))
 -&gt; MetaM (Core (M Con)))
-&gt; (Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M Con)))
-&gt; MetaM (Core (M Con))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621683133809"><span class="annot"><span class="annottext">Core [M (TyVarBndr Specificity)]
</span><a href="#local-6989586621683133809"><span class="hs-identifier hs-var">outer_bndrs'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-899"></span><span>             </span><span class="hs-comment">-- See Note [Don't quantify implicit type variables in quotes]</span><span>
</span><span id="line-900"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133810"><span class="annot"><a href="#local-6989586621683133810"><span class="hs-identifier hs-var">c'</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NonEmpty (GenLocated SrcSpanAnnN Name)
-&gt; HsConDeclGADTDetails GhcRn
-&gt; XRec GhcRn (HsType GhcRn)
-&gt; MetaM (Core (M Con))
</span><a href="GHC.HsToCore.Quote.html#repGadtDataCons"><span class="hs-identifier hs-var">repGadtDataCons</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (LIdP GhcRn)
NonEmpty (GenLocated SrcSpanAnnN Name)
</span><a href="#local-6989586621683133797"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">HsConDeclGADTDetails GhcRn
</span><a href="#local-6989586621683133802"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133804"><span class="hs-identifier hs-var">res_ty</span></a></span><span>
</span><span id="line-901"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133811"><span class="annot"><a href="#local-6989586621683133811"><span class="hs-identifier hs-var">ctxt'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMbContext"><span class="hs-identifier hs-type">repMbContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133800"><span class="hs-identifier hs-type">mcxt</span></a></span><span>
</span><span id="line-902"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621683133806"><span class="hs-identifier hs-type">null_outer_exp_tvs</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&amp;&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">isNothing</span></span><span> </span><span class="annot"><a href="#local-6989586621683133800"><span class="hs-identifier hs-type">mcxt</span></a></span><span>
</span><span id="line-903"></span><span>         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621683133810"><span class="hs-identifier hs-type">c'</span></a></span><span>
</span><span id="line-904"></span><span>         </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#forallCName"><span class="hs-identifier hs-type">forallCName</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133809"><span class="hs-identifier hs-type">outer_bndrs'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133811"><span class="hs-identifier hs-type">ctxt'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133810"><span class="hs-identifier hs-type">c'</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-905"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-906"></span><span>    </span><span id="local-6989586621683133805"><span class="annot"><span class="annottext">null_outer_imp_tvs :: Bool
</span><a href="#local-6989586621683133805"><span class="hs-identifier hs-var hs-var">null_outer_imp_tvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn -&gt; Bool
</span><a href="GHC.HsToCore.Quote.html#nullOuterImplicit"><span class="hs-identifier hs-var">nullOuterImplicit</span></a></span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
</span><a href="#local-6989586621683133799"><span class="hs-identifier hs-var">outer_bndrs</span></a></span><span>
</span><span id="line-907"></span><span>    </span><span id="local-6989586621683133806"><span class="annot"><span class="annottext">null_outer_exp_tvs :: Bool
</span><a href="#local-6989586621683133806"><span class="hs-identifier hs-var hs-var">null_outer_exp_tvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn -&gt; Bool
</span><a href="GHC.HsToCore.Quote.html#nullOuterExplicit"><span class="hs-identifier hs-var">nullOuterExplicit</span></a></span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
</span><a href="#local-6989586621683133799"><span class="hs-identifier hs-var">outer_bndrs</span></a></span><span>
</span><span id="line-908"></span><span>
</span><span id="line-909"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMbContext"><span class="hs-identifier hs-type">repMbContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-910"></span><span id="repMbContext"><span class="annot"><span class="annottext">repMbContext :: Maybe (LHsContext GhcRn) -&gt; MetaM (Core (M Cxt))
</span><a href="GHC.HsToCore.Quote.html#repMbContext"><span class="hs-identifier hs-var hs-var">repMbContext</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><span class="hs-identifier hs-var">Nothing</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)] -&gt; MetaM (Core (M Cxt))
</span><a href="GHC.HsToCore.Quote.html#repContext"><span class="hs-identifier hs-var">repContext</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-911"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMbContext"><span class="hs-identifier hs-var">repMbContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnC
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133815"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsType GhcRn)]
</span><a href="#local-6989586621683133815"><span class="hs-identifier hs-var">cxt</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)] -&gt; MetaM (Core (M Cxt))
</span><a href="GHC.HsToCore.Quote.html#repContext"><span class="hs-identifier hs-var">repContext</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
[GenLocated SrcSpanAnnA (HsType GhcRn)]
</span><a href="#local-6989586621683133815"><span class="hs-identifier hs-var">cxt</span></a></span><span>
</span><span id="line-912"></span><span>
</span><span id="line-913"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSrcUnpackedness"><span class="hs-identifier hs-type">repSrcUnpackedness</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#SrcUnpackedness"><span class="hs-identifier hs-type">SrcUnpackedness</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.SourceUnpackedness</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-914"></span><span id="repSrcUnpackedness"><span class="annot"><span class="annottext">repSrcUnpackedness :: SrcUnpackedness -&gt; MetaM (Core (M SourceUnpackedness))
</span><a href="GHC.HsToCore.Quote.html#repSrcUnpackedness"><span class="hs-identifier hs-var hs-var">repSrcUnpackedness</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="Language.Haskell.Syntax.Basic.html#SrcUnpack"><span class="hs-identifier hs-var">SrcUnpack</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M SourceUnpackedness))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#sourceUnpackName"><span class="hs-identifier hs-var">sourceUnpackName</span></a></span><span>         </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-915"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSrcUnpackedness"><span class="hs-identifier hs-var">repSrcUnpackedness</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="Language.Haskell.Syntax.Basic.html#SrcNoUnpack"><span class="hs-identifier hs-var">SrcNoUnpack</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M SourceUnpackedness))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#sourceNoUnpackName"><span class="hs-identifier hs-var">sourceNoUnpackName</span></a></span><span>       </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-916"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSrcUnpackedness"><span class="hs-identifier hs-var">repSrcUnpackedness</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="Language.Haskell.Syntax.Basic.html#NoSrcUnpack"><span class="hs-identifier hs-var">NoSrcUnpack</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M SourceUnpackedness))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#noSourceUnpackednessName"><span class="hs-identifier hs-var">noSourceUnpackednessName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-917"></span><span>
</span><span id="line-918"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSrcStrictness"><span class="hs-identifier hs-type">repSrcStrictness</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#SrcStrictness"><span class="hs-identifier hs-type">SrcStrictness</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.SourceStrictness</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-919"></span><span id="repSrcStrictness"><span class="annot"><span class="annottext">repSrcStrictness :: SrcStrictness -&gt; MetaM (Core (M SourceStrictness))
</span><a href="GHC.HsToCore.Quote.html#repSrcStrictness"><span class="hs-identifier hs-var hs-var">repSrcStrictness</span></a></span></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#SrcLazy"><span class="hs-identifier hs-var">SrcLazy</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M SourceStrictness))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#sourceLazyName"><span class="hs-identifier hs-var">sourceLazyName</span></a></span><span>         </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-920"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSrcStrictness"><span class="hs-identifier hs-var">repSrcStrictness</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#SrcStrict"><span class="hs-identifier hs-var">SrcStrict</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M SourceStrictness))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#sourceStrictName"><span class="hs-identifier hs-var">sourceStrictName</span></a></span><span>       </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-921"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSrcStrictness"><span class="hs-identifier hs-var">repSrcStrictness</span></a></span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M SourceStrictness))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#noSourceStrictnessName"><span class="hs-identifier hs-var">noSourceStrictnessName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-922"></span><span>
</span><span id="line-923"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repBangTy"><span class="hs-identifier hs-type">repBangTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LBangType"><span class="hs-identifier hs-type">LBangType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BangType</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-924"></span><span id="repBangTy"><span class="annot"><span class="annottext">repBangTy :: XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M BangType))
</span><a href="GHC.HsToCore.Quote.html#repBangTy"><span class="hs-identifier hs-var hs-var">repBangTy</span></a></span></span><span> </span><span id="local-6989586621683133831"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133831"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-925"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133832"><span class="annot"><a href="#local-6989586621683133832"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness -&gt; MetaM (Core (M SourceUnpackedness))
</span><a href="GHC.HsToCore.Quote.html#repSrcUnpackedness"><span class="hs-identifier hs-var">repSrcUnpackedness</span></a></span><span> </span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621683133833"><span class="hs-identifier hs-var">su'</span></a></span><span>
</span><span id="line-926"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133834"><span class="annot"><a href="#local-6989586621683133834"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSrcStrictness"><span class="hs-identifier hs-type">repSrcStrictness</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133835"><span class="hs-identifier hs-type">ss'</span></a></span><span>
</span><span id="line-927"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133836"><span class="annot"><a href="#local-6989586621683133836"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#bangName"><span class="hs-identifier hs-type">bangName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683133832"><span class="hs-identifier hs-type">u</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133834"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-928"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133838"><span class="annot"><a href="#local-6989586621683133838"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133839"><span class="hs-identifier hs-type">ty'</span></a></span><span>
</span><span id="line-929"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#bangTypeName"><span class="hs-identifier hs-type">bangTypeName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683133836"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133838"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-930"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-931"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621683133833"><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621683133833"><span class="hs-identifier hs-var">su'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683133835"><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621683133835"><span class="hs-identifier hs-var">ss'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683133839"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcRn)
</span><a href="#local-6989586621683133839"><span class="hs-identifier hs-var">ty'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcRn) -&gt; HsType GhcRn
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
GenLocated SrcSpanAnnA (HsType GhcRn)
</span><a href="#local-6989586621683133831"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-932"></span><span>            </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBangTy"><span class="hs-identifier hs-type">HsBangTy</span></a></span><span> </span><span class="annot"><span class="annottext">XBangTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#HsBang"><span class="hs-identifier hs-type">HsBang</span></a></span><span> </span><span id="local-6989586621683133843"><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621683133843"><span class="hs-identifier hs-var">su</span></a></span></span><span> </span><span id="local-6989586621683133844"><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621683133844"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621683133845"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133845"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="#local-6989586621683133843"><span class="hs-identifier hs-var">su</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621683133844"><span class="hs-identifier hs-var">ss</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
GenLocated SrcSpanAnnA (HsType GhcRn)
</span><a href="#local-6989586621683133845"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-933"></span><span>            </span><span class="annot"><span class="annottext">HsType GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcUnpackedness
</span><a href="Language.Haskell.Syntax.Basic.html#NoSrcUnpack"><span class="hs-identifier hs-var">NoSrcUnpack</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
GenLocated SrcSpanAnnA (HsType GhcRn)
</span><a href="#local-6989586621683133831"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-934"></span><span>
</span><span id="line-935"></span><span class="hs-comment">-------------------------------------------------------</span><span>
</span><span id="line-936"></span><span class="hs-comment">--                      Deriving clauses</span><span>
</span><span id="line-937"></span><span class="hs-comment">-------------------------------------------------------</span><span>
</span><span id="line-938"></span><span>
</span><span id="line-939"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDerivs"><span class="hs-identifier hs-type">repDerivs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDeriving"><span class="hs-identifier hs-type">HsDeriving</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.DerivClause</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-940"></span><span id="repDerivs"><span class="annot"><span class="annottext">repDerivs :: HsDeriving GhcRn -&gt; MetaM (Core [M DerivClause])
</span><a href="GHC.HsToCore.Quote.html#repDerivs"><span class="hs-identifier hs-var hs-var">repDerivs</span></a></span></span><span> </span><span id="local-6989586621683133846"><span class="annot"><span class="annottext">HsDeriving GhcRn
</span><a href="#local-6989586621683133846"><span class="hs-identifier hs-var">clauses</span></a></span></span><span>
</span><span id="line-941"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated EpAnnCO (HsDerivingClause GhcRn)
    -&gt; MetaM (Core (M DerivClause)))
-&gt; [GenLocated EpAnnCO (HsDerivingClause GhcRn)]
-&gt; MetaM (Core [M DerivClause])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-var">repListM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#derivClauseTyConName"><span class="hs-identifier hs-var">derivClauseTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDerivingClause GhcRn -&gt; MetaM (Core (M DerivClause))
GenLocated EpAnnCO (HsDerivingClause GhcRn)
-&gt; MetaM (Core (M DerivClause))
</span><a href="GHC.HsToCore.Quote.html#repDerivClause"><span class="hs-identifier hs-var">repDerivClause</span></a></span><span> </span><span class="annot"><span class="annottext">HsDeriving GhcRn
[GenLocated EpAnnCO (HsDerivingClause GhcRn)]
</span><a href="#local-6989586621683133846"><span class="hs-identifier hs-var">clauses</span></a></span><span>
</span><span id="line-942"></span><span>
</span><span id="line-943"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDerivClause"><span class="hs-identifier hs-type">repDerivClause</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDerivingClause"><span class="hs-identifier hs-type">LHsDerivingClause</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-944"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.DerivClause</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-945"></span><span id="repDerivClause"><span class="annot"><span class="annottext">repDerivClause :: LHsDerivingClause GhcRn -&gt; MetaM (Core (M DerivClause))
</span><a href="GHC.HsToCore.Quote.html#repDerivClause"><span class="hs-identifier hs-var hs-var">repDerivClause</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDerivingClause"><span class="hs-identifier hs-type">HsDerivingClause</span></a></span><span>
</span><span id="line-946"></span><span>                          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">deriv_clause_strategy :: forall pass. HsDerivingClause pass -&gt; Maybe (LDerivStrategy pass)
</span><a href="Language.Haskell.Syntax.Decls.html#deriv_clause_strategy"><span class="hs-identifier hs-var">deriv_clause_strategy</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133851"><span class="annot"><span class="annottext">Maybe (LDerivStrategy GhcRn)
</span><a href="#local-6989586621683133851"><span class="hs-identifier hs-var">dcs</span></a></span></span><span>
</span><span id="line-947"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">deriv_clause_tys :: forall pass. HsDerivingClause pass -&gt; LDerivClauseTys pass
</span><a href="Language.Haskell.Syntax.Decls.html#deriv_clause_tys"><span class="hs-identifier hs-var">deriv_clause_tys</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133853"><span class="annot"><span class="annottext">LDerivClauseTys GhcRn
</span><a href="#local-6989586621683133853"><span class="hs-identifier hs-var">dct</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-948"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LDerivStrategy GhcRn)
-&gt; (Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M DerivClause)))
-&gt; MetaM (Core (M DerivClause))
forall {k} (a :: k).
Maybe (LDerivStrategy GhcRn)
-&gt; (Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#repDerivStrategy"><span class="hs-identifier hs-var">repDerivStrategy</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LDerivStrategy GhcRn)
</span><a href="#local-6989586621683133851"><span class="hs-identifier hs-var">dcs</span></a></span><span> </span><span class="annot"><span class="annottext">((Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M DerivClause)))
 -&gt; MetaM (Core (M DerivClause)))
-&gt; (Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M DerivClause)))
-&gt; MetaM (Core (M DerivClause))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133854"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683133854"><span class="hs-identifier hs-var">dcs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-949"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683133855"><span class="annot"><a href="#local-6989586621683133855"><span class="hs-identifier hs-var">dct'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LDerivClauseTys GhcRn -&gt; MetaM (Core [M Type])
</span><a href="#local-6989586621683133856"><span class="hs-identifier hs-var">rep_deriv_clause_tys</span></a></span><span> </span><span class="annot"><span class="annottext">LDerivClauseTys GhcRn
</span><a href="#local-6989586621683133853"><span class="hs-identifier hs-var">dct</span></a></span><span>
</span><span id="line-950"></span><span>       </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#derivClauseName"><span class="hs-identifier hs-type">derivClauseName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683133854"><span class="hs-identifier hs-type">dcs'</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683133855"><span class="hs-identifier hs-type">dct'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-951"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-952"></span><span>    </span><span class="annot"><a href="#local-6989586621683133856"><span class="hs-identifier hs-type">rep_deriv_clause_tys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDerivClauseTys"><span class="hs-identifier hs-type">LDerivClauseTys</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-953"></span><span>    </span><span id="local-6989586621683133856"><span class="annot"><span class="annottext">rep_deriv_clause_tys :: LDerivClauseTys GhcRn -&gt; MetaM (Core [M Type])
</span><a href="#local-6989586621683133856"><span class="hs-identifier hs-var hs-var">rep_deriv_clause_tys</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnC
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133858"><span class="annot"><span class="annottext">DerivClauseTys GhcRn
</span><a href="#local-6989586621683133858"><span class="hs-identifier hs-var">dct</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DerivClauseTys GhcRn
</span><a href="#local-6989586621683133858"><span class="hs-identifier hs-var">dct</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-954"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DctSingle"><span class="hs-identifier hs-type">DctSingle</span></a></span><span> </span><span class="annot"><span class="annottext">XDctSingle GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133860"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133860"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[LHsSigType GhcRn] -&gt; MetaM (Core [M Type])
</span><a href="#local-6989586621683133861"><span class="hs-identifier hs-var">rep_deriv_tys</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133860"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-955"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DctMulti"><span class="hs-identifier hs-type">DctMulti</span></a></span><span> </span><span class="annot"><span class="annottext">XDctMulti GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133863"><span class="annot"><span class="annottext">[LHsSigType GhcRn]
</span><a href="#local-6989586621683133863"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[LHsSigType GhcRn] -&gt; MetaM (Core [M Type])
</span><a href="#local-6989586621683133861"><span class="hs-identifier hs-var">rep_deriv_tys</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsSigType GhcRn]
</span><a href="#local-6989586621683133863"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-956"></span><span>
</span><span id="line-957"></span><span>    </span><span class="annot"><a href="#local-6989586621683133861"><span class="hs-identifier hs-type">rep_deriv_tys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-958"></span><span>    </span><span id="local-6989586621683133861"><span class="annot"><span class="annottext">rep_deriv_tys :: [LHsSigType GhcRn] -&gt; MetaM (Core [M Type])
</span><a href="#local-6989586621683133861"><span class="hs-identifier hs-var hs-var">rep_deriv_tys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated SrcSpanAnnA (HsSigType GhcRn)
    -&gt; MetaM (Core (M Type)))
-&gt; [GenLocated SrcSpanAnnA (HsSigType GhcRn)]
-&gt; MetaM (Core [M Type])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-var">repListM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#typeTyConName"><span class="hs-identifier hs-var">typeTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn -&gt; MetaM (Core (M Type))
GenLocated SrcSpanAnnA (HsSigType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repHsSigType"><span class="hs-identifier hs-var">repHsSigType</span></a></span><span>
</span><span id="line-959"></span><span>
</span><span id="line-960"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_meth_sigs_binds"><span class="hs-identifier hs-type">rep_meth_sigs_binds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-961"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#GenSymBind"><span class="hs-identifier hs-type">GenSymBind</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-962"></span><span class="hs-comment">-- Represent signatures and methods in class/instance declarations.</span><span>
</span><span id="line-963"></span><span class="hs-comment">-- See Note [Scoped type variables in quotes]</span><span>
</span><span id="line-964"></span><span class="hs-comment">--</span><span>
</span><span id="line-965"></span><span class="hs-comment">-- Why not use 'repBinds': we have already created symbols for methods in</span><span>
</span><span id="line-966"></span><span class="hs-comment">-- 'repTopDs' via 'hsGroupBinders'. However in 'repBinds', we recreate</span><span>
</span><span id="line-967"></span><span class="hs-comment">-- these fun_id via 'collectHsValBinders decs', which would lead to the</span><span>
</span><span id="line-968"></span><span class="hs-comment">-- instance declarations failing in TH.</span><span>
</span><span id="line-969"></span><span id="rep_meth_sigs_binds"><span class="annot"><span class="annottext">rep_meth_sigs_binds :: [LSig GhcRn]
-&gt; LHsBindsLR GhcRn GhcRn -&gt; MetaM ([GenSymBind], [Core (M Dec)])
</span><a href="GHC.HsToCore.Quote.html#rep_meth_sigs_binds"><span class="hs-identifier hs-var hs-var">rep_meth_sigs_binds</span></a></span></span><span> </span><span id="local-6989586621683133864"><span class="annot"><span class="annottext">[LSig GhcRn]
</span><a href="#local-6989586621683133864"><span class="hs-identifier hs-var">sigs</span></a></span></span><span> </span><span id="local-6989586621683133865"><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcRn
</span><a href="#local-6989586621683133865"><span class="hs-identifier hs-var">binds</span></a></span></span><span>
</span><span id="line-970"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683133866"><span class="annot"><span class="annottext">tvs :: [Name]
</span><a href="#local-6989586621683133866"><span class="hs-identifier hs-var hs-var hs-var">tvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (Sig GhcRn) -&gt; [Name])
-&gt; [GenLocated SrcSpanAnnA (Sig GhcRn)] -&gt; [Name]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">LSig GhcRn -&gt; [Name]
GenLocated SrcSpanAnnA (Sig GhcRn) -&gt; [Name]
</span><a href="GHC.HsToCore.Quote.html#get_scoped_tvs"><span class="hs-identifier hs-var">get_scoped_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">[LSig GhcRn]
[GenLocated SrcSpanAnnA (Sig GhcRn)]
</span><a href="#local-6989586621683133864"><span class="hs-identifier hs-var">sigs</span></a></span><span>
</span><span id="line-971"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133867"><span class="annot"><a href="#local-6989586621683133867"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-var">mkGenSyms</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683133866"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-972"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133868"><span class="annot"><a href="#local-6989586621683133868"><span class="hs-identifier hs-var">sigs1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133867"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sigs"><span class="hs-identifier hs-type">rep_sigs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133864"><span class="hs-identifier hs-type">sigs</span></a></span><span>
</span><span id="line-973"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133870"><span class="annot"><a href="#local-6989586621683133870"><span class="hs-identifier hs-var">binds1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133867"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_binds"><span class="hs-identifier hs-type">rep_binds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133865"><span class="hs-identifier hs-type">binds</span></a></span><span>
</span><span id="line-974"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683133867"><span class="hs-identifier hs-type">ss</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#de_loc"><span class="hs-identifier hs-type">de_loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#sort_by_loc"><span class="hs-identifier hs-type">sort_by_loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683133868"><span class="hs-identifier hs-type">sigs1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683133870"><span class="hs-identifier hs-type">binds1</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-975"></span><span>
</span><span id="line-976"></span><span class="hs-comment">-------------------------------------------------------</span><span>
</span><span id="line-977"></span><span class="hs-comment">--   Signatures in a class decl, or a group of bindings</span><span>
</span><span id="line-978"></span><span class="hs-comment">-------------------------------------------------------</span><span>
</span><span id="line-979"></span><span>
</span><span id="line-980"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sigs"><span class="hs-identifier hs-type">rep_sigs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-981"></span><span>        </span><span class="hs-comment">-- We silently ignore ones we don't recognise</span><span>
</span><span id="line-982"></span><span id="rep_sigs"><span class="annot"><span class="annottext">rep_sigs :: [LSig GhcRn] -&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_sigs"><span class="hs-identifier hs-var hs-var">rep_sigs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (Sig GhcRn)
 -&gt; MetaM [(SrcSpan, Core (M Dec))])
-&gt; [GenLocated SrcSpanAnnA (Sig GhcRn)]
-&gt; MetaM [(SrcSpan, Core (M Dec))]
forall (m :: * -&gt; *) (f :: * -&gt; *) a b.
(Monad m, Traversable f) =&gt;
(a -&gt; m [b]) -&gt; f a -&gt; m [b]
</span><a href="GHC.Utils.Monad.html#concatMapM"><span class="hs-identifier hs-var">concatMapM</span></a></span><span> </span><span class="annot"><span class="annottext">LSig GhcRn -&gt; MetaM [(SrcSpan, Core (M Dec))]
GenLocated SrcSpanAnnA (Sig GhcRn)
-&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_sig"><span class="hs-identifier hs-var">rep_sig</span></a></span><span>
</span><span id="line-983"></span><span>
</span><span id="line-984"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sig"><span class="hs-identifier hs-type">rep_sig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-985"></span><span id="rep_sig"><span class="annot"><span class="annottext">rep_sig :: LSig GhcRn -&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_sig"><span class="hs-identifier hs-var hs-var">rep_sig</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133874"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133874"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="annot"><span class="annottext">XTypeSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133875"><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621683133875"><span class="hs-identifier hs-var">nms</span></a></span></span><span> </span><span id="local-6989586621683133876"><span class="annot"><span class="annottext">LHsSigWcType GhcRn
</span><a href="#local-6989586621683133876"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-986"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN Name
 -&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec)))
-&gt; [GenLocated SrcSpanAnnN Name] -&gt; MetaM [(SrcSpan, Core (M Dec))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
-&gt; SrcSpan
-&gt; LHsSigWcType GhcRn
-&gt; GenLocated SrcSpanAnnN Name
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#rep_wc_ty_sig"><span class="hs-identifier hs-var">rep_wc_ty_sig</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#sigDName"><span class="hs-identifier hs-var">sigDName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133874"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsSigWcType GhcRn
</span><a href="#local-6989586621683133876"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP GhcRn]
[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621683133875"><span class="hs-identifier hs-var">nms</span></a></span><span>
</span><span id="line-987"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sig"><span class="hs-identifier hs-var">rep_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133879"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133879"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span> </span><span class="annot"><span class="annottext">XPatSynSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133880"><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621683133880"><span class="hs-identifier hs-var">nms</span></a></span></span><span> </span><span id="local-6989586621683133881"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133881"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-988"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN Name
 -&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec)))
-&gt; [GenLocated SrcSpanAnnN Name] -&gt; MetaM [(SrcSpan, Core (M Dec))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
-&gt; LHsSigType GhcRn
-&gt; GenLocated SrcSpanAnnN Name
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#rep_patsyn_ty_sig"><span class="hs-identifier hs-var">rep_patsyn_ty_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133879"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133881"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP GhcRn]
[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621683133880"><span class="hs-identifier hs-var">nms</span></a></span><span>
</span><span id="line-989"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sig"><span class="hs-identifier hs-var">rep_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133883"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133883"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="annot"><span class="annottext">XClassOpSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133884"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683133884"><span class="hs-identifier hs-var">is_deflt</span></a></span></span><span> </span><span id="local-6989586621683133885"><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621683133885"><span class="hs-identifier hs-var">nms</span></a></span></span><span> </span><span id="local-6989586621683133886"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133886"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-990"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683133884"><span class="hs-identifier hs-var">is_deflt</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN Name
 -&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec)))
-&gt; [GenLocated SrcSpanAnnN Name] -&gt; MetaM [(SrcSpan, Core (M Dec))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
-&gt; SrcSpan
-&gt; LHsSigType GhcRn
-&gt; GenLocated SrcSpanAnnN Name
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#rep_ty_sig"><span class="hs-identifier hs-var">rep_ty_sig</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#defaultSigDName"><span class="hs-identifier hs-var">defaultSigDName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133883"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133886"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP GhcRn]
[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621683133885"><span class="hs-identifier hs-var">nms</span></a></span><span>
</span><span id="line-991"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN Name
 -&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec)))
-&gt; [GenLocated SrcSpanAnnN Name] -&gt; MetaM [(SrcSpan, Core (M Dec))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
-&gt; SrcSpan
-&gt; LHsSigType GhcRn
-&gt; GenLocated SrcSpanAnnN Name
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#rep_ty_sig"><span class="hs-identifier hs-var">rep_ty_sig</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#sigDName"><span class="hs-identifier hs-var">sigDName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133883"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133886"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP GhcRn]
[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621683133885"><span class="hs-identifier hs-var">nms</span></a></span><span>
</span><span id="line-992"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sig"><span class="hs-identifier hs-var">rep_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133889"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133889"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixSig"><span class="hs-identifier hs-type">FixSig</span></a></span><span> </span><span class="annot"><span class="annottext">XFixSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133891"><span class="annot"><span class="annottext">FixitySig GhcRn
</span><a href="#local-6989586621683133891"><span class="hs-identifier hs-var">fix_sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; FixitySig GhcRn -&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_fix_d"><span class="hs-identifier hs-var">rep_fix_d</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133889"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FixitySig GhcRn
</span><a href="#local-6989586621683133891"><span class="hs-identifier hs-var">fix_sig</span></a></span><span>
</span><span id="line-993"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sig"><span class="hs-identifier hs-var">rep_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133892"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133892"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#InlineSig"><span class="hs-identifier hs-type">InlineSig</span></a></span><span> </span><span class="annot"><span class="annottext">XInlineSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133894"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133894"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621683133895"><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621683133895"><span class="hs-identifier hs-var">ispec</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
-&gt; InlinePragma -&gt; SrcSpan -&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_inline"><span class="hs-identifier hs-var">rep_inline</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133894"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621683133895"><span class="hs-identifier hs-var">ispec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133892"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-994"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sig"><span class="hs-identifier hs-var">rep_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133897"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133897"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SpecSig"><span class="hs-identifier hs-type">SpecSig</span></a></span><span> </span><span class="annot"><span class="annottext">XSpecSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133899"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133899"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621683133900"><span class="annot"><span class="annottext">[LHsSigType GhcRn]
</span><a href="#local-6989586621683133900"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span id="local-6989586621683133901"><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621683133901"><span class="hs-identifier hs-var">ispec</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-995"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsSigType GhcRn)
 -&gt; MetaM [(SrcSpan, Core (M Dec))])
-&gt; [GenLocated SrcSpanAnnA (HsSigType GhcRn)]
-&gt; MetaM [(SrcSpan, Core (M Dec))]
forall (m :: * -&gt; *) (f :: * -&gt; *) a b.
(Monad m, Traversable f) =&gt;
(a -&gt; m [b]) -&gt; f a -&gt; m [b]
</span><a href="GHC.Utils.Monad.html#concatMapM"><span class="hs-identifier hs-var">concatMapM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621683133902"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsSigType GhcRn)
</span><a href="#local-6989586621683133902"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
-&gt; LHsSigType GhcRn
-&gt; InlinePragma
-&gt; SrcSpan
-&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_specialise"><span class="hs-identifier hs-var">rep_specialise</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133899"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
GenLocated SrcSpanAnnA (HsSigType GhcRn)
</span><a href="#local-6989586621683133902"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621683133901"><span class="hs-identifier hs-var">ispec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133897"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsSigType GhcRn]
[GenLocated SrcSpanAnnA (HsSigType GhcRn)]
</span><a href="#local-6989586621683133900"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-996"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sig"><span class="hs-identifier hs-var">rep_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133904"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133904"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SpecInstSig"><span class="hs-identifier hs-type">SpecInstSig</span></a></span><span> </span><span class="annot"><span class="annottext">XSpecInstSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133906"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133906"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn -&gt; SrcSpan -&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_specialiseInst"><span class="hs-identifier hs-var">rep_specialiseInst</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133906"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133904"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-997"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sig"><span class="hs-identifier hs-var">rep_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#MinimalSig"><span class="hs-identifier hs-type">MinimalSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM [(SrcSpan, Core (M Dec))]
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="annot"><span class="annottext">ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThMinimalPragmas"><span class="hs-identifier hs-var">ThMinimalPragmas</span></a></span><span>
</span><span id="line-998"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sig"><span class="hs-identifier hs-var">rep_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133910"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133910"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SCCFunSig"><span class="hs-identifier hs-type">SCCFunSig</span></a></span><span> </span><span class="annot"><span class="annottext">XSCCFunSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133912"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683133912"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621683133913"><span class="annot"><span class="annottext">Maybe (XRec GhcRn StringLiteral)
</span><a href="#local-6989586621683133913"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
-&gt; Maybe (XRec GhcRn StringLiteral)
-&gt; SrcSpan
-&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_sccFun"><span class="hs-identifier hs-var">rep_sccFun</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133912"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (XRec GhcRn StringLiteral)
</span><a href="#local-6989586621683133913"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133910"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-999"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sig"><span class="hs-identifier hs-var">rep_sig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683133915"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133915"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#CompleteMatchSig"><span class="hs-identifier hs-type">CompleteMatchSig</span></a></span><span> </span><span class="annot"><span class="annottext">XCompleteMatchSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683133917"><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621683133917"><span class="hs-identifier hs-var">cls</span></a></span></span><span> </span><span id="local-6989586621683133918"><span class="annot"><span class="annottext">Maybe (LIdP GhcRn)
</span><a href="#local-6989586621683133918"><span class="hs-identifier hs-var">mty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1000"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
-&gt; Maybe (GenLocated SrcSpanAnnN Name)
-&gt; SrcSpan
-&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_complete_sig"><span class="hs-identifier hs-var">rep_complete_sig</span></a></span><span> </span><span class="annot"><span class="annottext">[LIdP GhcRn]
[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621683133917"><span class="hs-identifier hs-var">cls</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LIdP GhcRn)
Maybe (GenLocated SrcSpanAnnN Name)
</span><a href="#local-6989586621683133918"><span class="hs-identifier hs-var">mty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683133915"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1001"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sig"><span class="hs-identifier hs-var">rep_sig</span></a></span><span> </span><span id="local-6989586621683133920"><span class="annot"><span class="annottext">d :: LSig GhcRn
</span><a href="#local-6989586621683133920"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#XSig"><span class="hs-identifier hs-type">XSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; MetaM [(SrcSpan, Core (M Dec))]
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rep_sig IdSig&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Sig GhcRn) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LSig GhcRn
GenLocated SrcSpanAnnA (Sig GhcRn)
</span><a href="#local-6989586621683133920"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1002"></span><span>
</span><span id="line-1003"></span><span class="hs-comment">-- Desugar the explicit type variable binders in an 'LHsSigType', making</span><span>
</span><span id="line-1004"></span><span class="hs-comment">-- sure not to gensym them.</span><span>
</span><span id="line-1005"></span><span class="hs-comment">-- See Note [Scoped type variables in quotes]</span><span>
</span><span id="line-1006"></span><span class="hs-comment">-- and Note [Don't quantify implicit type variables in quotes]</span><span>
</span><span id="line-1007"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_ty_sig_tvs"><span class="hs-identifier hs-type">rep_ty_sig_tvs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Specificity.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1008"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Specificity</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1009"></span><span id="rep_ty_sig_tvs"><span class="annot"><span class="annottext">rep_ty_sig_tvs :: [LHsTyVarBndr Specificity GhcRn]
-&gt; MetaM (Core [M (TyVarBndr Specificity)])
</span><a href="GHC.HsToCore.Quote.html#rep_ty_sig_tvs"><span class="hs-identifier hs-var hs-var">rep_ty_sig_tvs</span></a></span></span><span> </span><span id="local-6989586621683133924"><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcRn]
</span><a href="#local-6989586621683133924"><span class="hs-identifier hs-var">explicit_tvs</span></a></span></span><span>
</span><span id="line-1010"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcRn)
    -&gt; MetaM (Core (M (TyVarBndr Specificity))))
-&gt; [GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcRn)]
-&gt; MetaM (Core [M (TyVarBndr Specificity)])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-var">repListM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#tyVarBndrSpecTyConName"><span class="hs-identifier hs-var">tyVarBndrSpecTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">LHsTyVarBndr Specificity GhcRn
-&gt; MetaM (Core (M (TyVarBndr Specificity)))
GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcRn)
-&gt; MetaM (Core (M (TyVarBndr Specificity)))
forall flag flag'.
RepTV flag flag' =&gt;
LHsTyVarBndr flag GhcRn -&gt; MetaM (Core (M (TyVarBndr flag')))
</span><a href="GHC.HsToCore.Quote.html#repTyVarBndr"><span class="hs-identifier hs-var">repTyVarBndr</span></a></span><span>
</span><span id="line-1011"></span><span>             </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcRn]
[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcRn)]
</span><a href="#local-6989586621683133924"><span class="hs-identifier hs-var">explicit_tvs</span></a></span><span>
</span><span id="line-1012"></span><span>
</span><span id="line-1013"></span><span class="hs-comment">-- Desugar the outer type variable binders in an 'LHsSigType', making</span><span>
</span><span id="line-1014"></span><span class="hs-comment">-- sure not to gensym them.</span><span>
</span><span id="line-1015"></span><span class="hs-comment">-- See Note [Scoped type variables in quotes]</span><span>
</span><span id="line-1016"></span><span class="hs-comment">-- and Note [Don't quantify implicit type variables in quotes]</span><span>
</span><span id="line-1017"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_ty_sig_outer_tvs"><span class="hs-identifier hs-type">rep_ty_sig_outer_tvs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterSigTyVarBndrs"><span class="hs-identifier hs-type">HsOuterSigTyVarBndrs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-1018"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Specificity</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1019"></span><span id="rep_ty_sig_outer_tvs"><span class="annot"><span class="annottext">rep_ty_sig_outer_tvs :: HsOuterSigTyVarBndrs GhcRn
-&gt; MetaM (Core [M (TyVarBndr Specificity)])
</span><a href="GHC.HsToCore.Quote.html#rep_ty_sig_outer_tvs"><span class="hs-identifier hs-var hs-var">rep_ty_sig_outer_tvs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterImplicit"><span class="hs-identifier hs-type">HsOuterImplicit</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1020"></span><span>  </span><span class="annot"><span class="annottext">Name
-&gt; [Core (M (TyVarBndr Specificity))]
-&gt; MetaM (Core [M (TyVarBndr Specificity)])
forall a. Name -&gt; [Core a] -&gt; MetaM (Core [a])
</span><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-var">coreListM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#tyVarBndrSpecTyConName"><span class="hs-identifier hs-var">tyVarBndrSpecTyConName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1021"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_ty_sig_outer_tvs"><span class="hs-identifier hs-var">rep_ty_sig_outer_tvs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterExplicit"><span class="hs-identifier hs-type">HsOuterExplicit</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">hso_bndrs :: forall flag pass.
HsOuterTyVarBndrs flag pass -&gt; [LHsTyVarBndr flag (NoGhcTc pass)]
</span><a href="Language.Haskell.Syntax.Type.html#hso_bndrs"><span class="hs-identifier hs-var">hso_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133930"><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity (NoGhcTc GhcRn)]
</span><a href="#local-6989586621683133930"><span class="hs-identifier hs-var">explicit_tvs</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1022"></span><span>  </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcRn]
-&gt; MetaM (Core [M (TyVarBndr Specificity)])
</span><a href="GHC.HsToCore.Quote.html#rep_ty_sig_tvs"><span class="hs-identifier hs-var">rep_ty_sig_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity (NoGhcTc GhcRn)]
[LHsTyVarBndr Specificity GhcRn]
</span><a href="#local-6989586621683133930"><span class="hs-identifier hs-var">explicit_tvs</span></a></span><span>
</span><span id="line-1023"></span><span>
</span><span id="line-1024"></span><span class="hs-comment">-- Desugar a top-level type signature. Unlike 'repHsSigType', this</span><span>
</span><span id="line-1025"></span><span class="hs-comment">-- deliberately avoids gensymming the type variables.</span><span>
</span><span id="line-1026"></span><span class="hs-comment">-- See Note [Scoped type variables in quotes]</span><span>
</span><span id="line-1027"></span><span class="hs-comment">-- and Note [Don't quantify implicit type variables in quotes]</span><span>
</span><span id="line-1028"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_ty_sig"><span class="hs-identifier hs-type">rep_ty_sig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-1029"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1030"></span><span id="rep_ty_sig"><span class="annot"><span class="annottext">rep_ty_sig :: Name
-&gt; SrcSpan
-&gt; LHsSigType GhcRn
-&gt; GenLocated SrcSpanAnnN Name
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#rep_ty_sig"><span class="hs-identifier hs-var hs-var">rep_ty_sig</span></a></span></span><span> </span><span id="local-6989586621683133932"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683133932"><span class="hs-identifier hs-var">mk_sig</span></a></span></span><span> </span><span id="local-6989586621683133933"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683133933"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683133934"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133934"><span class="hs-identifier hs-var">sig_ty</span></a></span></span><span> </span><span id="local-6989586621683133935"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133935"><span class="hs-identifier hs-var">nm</span></a></span></span><span>
</span><span id="line-1031"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133936"><span class="annot"><a href="#local-6989586621683133936"><span class="hs-identifier hs-var">nm1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133935"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1032"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133937"><span class="annot"><a href="#local-6989586621683133937"><span class="hs-identifier hs-var">ty1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_ty_sig%27"><span class="hs-identifier hs-type">rep_ty_sig'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133934"><span class="hs-identifier hs-type">sig_ty</span></a></span><span>
</span><span id="line-1033"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133939"><span class="annot"><a href="#local-6989586621683133939"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repProto"><span class="hs-identifier hs-type">repProto</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133932"><span class="hs-identifier hs-type">mk_sig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133936"><span class="hs-identifier hs-type">nm1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133937"><span class="hs-identifier hs-type">ty1</span></a></span><span>
</span><span id="line-1034"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683133933"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133939"><span class="hs-identifier hs-type">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1035"></span><span>
</span><span id="line-1036"></span><span class="hs-comment">-- Desugar an 'LHsSigType', making sure not to gensym the type variables at</span><span>
</span><span id="line-1037"></span><span class="hs-comment">-- the front of the type signature.</span><span>
</span><span id="line-1038"></span><span class="hs-comment">-- See Note [Scoped type variables in quotes]</span><span>
</span><span id="line-1039"></span><span class="hs-comment">-- and Note [Don't quantify implicit type variables in quotes]</span><span>
</span><span id="line-1040"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_ty_sig%27"><span class="hs-identifier hs-type">rep_ty_sig'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-1041"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1042"></span><span id="rep_ty_sig%27"><span class="annot"><span class="annottext">rep_ty_sig' :: LHsSigType GhcRn -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#rep_ty_sig%27"><span class="hs-identifier hs-var hs-var">rep_ty_sig'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsSig"><span class="hs-identifier hs-type">HsSig</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">sig_bndrs :: forall pass. HsSigType pass -&gt; HsOuterSigTyVarBndrs pass
</span><a href="Language.Haskell.Syntax.Type.html#sig_bndrs"><span class="hs-identifier hs-var">sig_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133941"><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
</span><a href="#local-6989586621683133941"><span class="hs-identifier hs-var">outer_bndrs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sig_body :: forall pass. HsSigType pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#sig_body"><span class="hs-identifier hs-var">sig_body</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683133943"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133943"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1043"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683133944"><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683133944"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683133945"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133945"><span class="hs-identifier hs-var">tau</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
-&gt; (Maybe (LHsContext GhcRn), XRec GhcRn (HsType GhcRn))
forall (pass :: Pass).
LHsType (GhcPass pass)
-&gt; (Maybe (LHsContext (GhcPass pass)), LHsType (GhcPass pass))
</span><a href="GHC.Hs.Type.html#splitLHsQualTy"><span class="hs-identifier hs-var">splitLHsQualTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133943"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-1044"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133947"><span class="annot"><a href="#local-6989586621683133947"><span class="hs-identifier hs-var">th_explicit_tvs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
-&gt; MetaM (Core [M (TyVarBndr Specificity)])
</span><a href="GHC.HsToCore.Quote.html#rep_ty_sig_outer_tvs"><span class="hs-identifier hs-var">rep_ty_sig_outer_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
</span><a href="#local-6989586621683133941"><span class="hs-identifier hs-var">outer_bndrs</span></a></span><span>
</span><span id="line-1045"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133948"><span class="annot"><a href="#local-6989586621683133948"><span class="hs-identifier hs-var">th_ctxt</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLContext"><span class="hs-identifier hs-type">repLContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133944"><span class="hs-identifier hs-type">ctxt</span></a></span><span>
</span><span id="line-1046"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133949"><span class="annot"><a href="#local-6989586621683133949"><span class="hs-identifier hs-var">th_tau</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133945"><span class="hs-identifier hs-type">tau</span></a></span><span>
</span><span id="line-1047"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#nullOuterExplicit"><span class="hs-identifier hs-type">nullOuterExplicit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133941"><span class="hs-identifier hs-type">outer_bndrs</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&amp;&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">null</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#fromMaybeContext"><span class="hs-identifier hs-type">fromMaybeContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133944"><span class="hs-identifier hs-type">ctxt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1048"></span><span>            </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621683133949"><span class="hs-identifier hs-type">th_tau</span></a></span><span>
</span><span id="line-1049"></span><span>            </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTForall"><span class="hs-identifier hs-type">repTForall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133947"><span class="hs-identifier hs-type">th_explicit_tvs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133948"><span class="hs-identifier hs-type">th_ctxt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133949"><span class="hs-identifier hs-type">th_tau</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1050"></span><span>
</span><span id="line-1051"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_patsyn_ty_sig"><span class="hs-identifier hs-type">rep_patsyn_ty_sig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-1052"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1053"></span><span class="hs-comment">-- represents a pattern synonym type signature;</span><span>
</span><span id="line-1054"></span><span class="hs-comment">-- see Note [Pattern synonym type signatures and Template Haskell] in &quot;GHC.ThToHs&quot;</span><span>
</span><span id="line-1055"></span><span class="hs-comment">--</span><span>
</span><span id="line-1056"></span><span class="hs-comment">-- Don't create the implicit and explicit variables when desugaring signatures,</span><span>
</span><span id="line-1057"></span><span class="hs-comment">-- see Note [Scoped type variables in quotes]</span><span>
</span><span id="line-1058"></span><span class="hs-comment">-- and Note [Don't quantify implicit type variables in quotes]</span><span>
</span><span id="line-1059"></span><span id="rep_patsyn_ty_sig"><span class="annot"><span class="annottext">rep_patsyn_ty_sig :: SrcSpan
-&gt; LHsSigType GhcRn
-&gt; GenLocated SrcSpanAnnN Name
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#rep_patsyn_ty_sig"><span class="hs-identifier hs-var hs-var">rep_patsyn_ty_sig</span></a></span></span><span> </span><span id="local-6989586621683133953"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683133953"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683133954"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133954"><span class="hs-identifier hs-var">sig_ty</span></a></span></span><span> </span><span id="local-6989586621683133955"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133955"><span class="hs-identifier hs-var">nm</span></a></span></span><span>
</span><span id="line-1060"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683133956"><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity (GhcPass (NoGhcTcPass 'Renamed))]
</span><a href="#local-6989586621683133956"><span class="hs-identifier hs-var">univs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683133957"><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683133957"><span class="hs-identifier hs-var">reqs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683133958"><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcRn]
</span><a href="#local-6989586621683133958"><span class="hs-identifier hs-var">exis</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683133959"><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683133959"><span class="hs-identifier hs-var">provs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683133960"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683133960"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
-&gt; ([LHsTyVarBndr Specificity (GhcPass (NoGhcTcPass 'Renamed))],
    Maybe (LHsContext GhcRn), [LHsTyVarBndr Specificity GhcRn],
    Maybe (LHsContext GhcRn), XRec GhcRn (HsType GhcRn))
forall (p :: Pass).
LHsSigType (GhcPass p)
-&gt; ([LHsTyVarBndr Specificity (GhcPass (NoGhcTcPass p))],
    Maybe (LHsContext (GhcPass p)),
    [LHsTyVarBndr Specificity (GhcPass p)],
    Maybe (LHsContext (GhcPass p)), LHsType (GhcPass p))
</span><a href="GHC.Hs.Type.html#splitLHsPatSynTy"><span class="hs-identifier hs-var">splitLHsPatSynTy</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133954"><span class="hs-identifier hs-var">sig_ty</span></a></span><span>
</span><span id="line-1061"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133962"><span class="annot"><a href="#local-6989586621683133962"><span class="hs-identifier hs-var">nm1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133955"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1062"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133963"><span class="annot"><a href="#local-6989586621683133963"><span class="hs-identifier hs-var">th_univs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_ty_sig_tvs"><span class="hs-identifier hs-type">rep_ty_sig_tvs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133956"><span class="hs-identifier hs-type">univs</span></a></span><span>
</span><span id="line-1063"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133964"><span class="annot"><a href="#local-6989586621683133964"><span class="hs-identifier hs-var">th_exis</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_ty_sig_tvs"><span class="hs-identifier hs-type">rep_ty_sig_tvs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133958"><span class="hs-identifier hs-type">exis</span></a></span><span>
</span><span id="line-1064"></span><span>
</span><span id="line-1065"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133965"><span class="annot"><a href="#local-6989586621683133965"><span class="hs-identifier hs-var">th_reqs</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLContext"><span class="hs-identifier hs-type">repLContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133957"><span class="hs-identifier hs-type">reqs</span></a></span><span>
</span><span id="line-1066"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133966"><span class="annot"><a href="#local-6989586621683133966"><span class="hs-identifier hs-var">th_provs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLContext"><span class="hs-identifier hs-type">repLContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133959"><span class="hs-identifier hs-type">provs</span></a></span><span>
</span><span id="line-1067"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133967"><span class="annot"><a href="#local-6989586621683133967"><span class="hs-identifier hs-var">th_ty</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133960"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1068"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133968"><span class="annot"><a href="#local-6989586621683133968"><span class="hs-identifier hs-var">ty1</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTForall"><span class="hs-identifier hs-type">repTForall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133963"><span class="hs-identifier hs-type">th_univs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133965"><span class="hs-identifier hs-type">th_reqs</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">=&lt;&lt;</span></span><span>
</span><span id="line-1069"></span><span>                       </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTForall"><span class="hs-identifier hs-type">repTForall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133964"><span class="hs-identifier hs-type">th_exis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133966"><span class="hs-identifier hs-type">th_provs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133967"><span class="hs-identifier hs-type">th_ty</span></a></span><span>
</span><span id="line-1070"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133969"><span class="annot"><a href="#local-6989586621683133969"><span class="hs-identifier hs-var">sig</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repProto"><span class="hs-identifier hs-type">repProto</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#patSynSigDName"><span class="hs-identifier hs-type">patSynSigDName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133962"><span class="hs-identifier hs-type">nm1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133968"><span class="hs-identifier hs-type">ty1</span></a></span><span>
</span><span id="line-1071"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683133953"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133969"><span class="hs-identifier hs-type">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1072"></span><span>
</span><span id="line-1073"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_wc_ty_sig"><span class="hs-identifier hs-type">rep_wc_ty_sig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-1074"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1075"></span><span id="rep_wc_ty_sig"><span class="annot"><span class="annottext">rep_wc_ty_sig :: Name
-&gt; SrcSpan
-&gt; LHsSigWcType GhcRn
-&gt; GenLocated SrcSpanAnnN Name
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#rep_wc_ty_sig"><span class="hs-identifier hs-var hs-var">rep_wc_ty_sig</span></a></span></span><span> </span><span id="local-6989586621683133971"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683133971"><span class="hs-identifier hs-var">mk_sig</span></a></span></span><span> </span><span id="local-6989586621683133972"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683133972"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683133973"><span class="annot"><span class="annottext">LHsSigWcType GhcRn
</span><a href="#local-6989586621683133973"><span class="hs-identifier hs-var">sig_ty</span></a></span></span><span> </span><span id="local-6989586621683133974"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133974"><span class="hs-identifier hs-var">nm</span></a></span></span><span>
</span><span id="line-1076"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; SrcSpan
-&gt; LHsSigType GhcRn
-&gt; GenLocated SrcSpanAnnN Name
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#rep_ty_sig"><span class="hs-identifier hs-var">rep_ty_sig</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683133971"><span class="hs-identifier hs-var">mk_sig</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683133972"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsWildCardBndrs GhcRn (GenLocated SrcSpanAnnA (HsSigType GhcRn))
-&gt; GenLocated SrcSpanAnnA (HsSigType GhcRn)
forall pass thing. HsWildCardBndrs pass thing -&gt; thing
</span><a href="Language.Haskell.Syntax.Type.html#hswc_body"><span class="hs-identifier hs-var">hswc_body</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigWcType GhcRn
HsWildCardBndrs GhcRn (GenLocated SrcSpanAnnA (HsSigType GhcRn))
</span><a href="#local-6989586621683133973"><span class="hs-identifier hs-var">sig_ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133974"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1077"></span><span>
</span><span id="line-1078"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_inline"><span class="hs-identifier hs-type">rep_inline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-1079"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span>      </span><span class="hs-comment">-- Never defaultInlinePragma</span><span>
</span><span id="line-1080"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1081"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1082"></span><span id="rep_inline"><span class="annot"><span class="annottext">rep_inline :: GenLocated SrcSpanAnnN Name
-&gt; InlinePragma -&gt; SrcSpan -&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_inline"><span class="hs-identifier hs-var hs-var">rep_inline</span></a></span></span><span> </span><span id="local-6989586621683133975"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133975"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621683133976"><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621683133976"><span class="hs-identifier hs-var">ispec</span></a></span></span><span> </span><span id="local-6989586621683133977"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683133977"><span class="hs-identifier hs-var">loc</span></a></span></span><span>
</span><span id="line-1083"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Opaque"><span class="hs-identifier hs-type">Opaque</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">InlinePragma -&gt; InlineSpec
</span><a href="GHC.Types.Basic.html#inl_inline"><span class="hs-identifier hs-var">inl_inline</span></a></span><span> </span><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621683133976"><span class="hs-identifier hs-var">ispec</span></a></span><span>
</span><span id="line-1084"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133980"><span class="annot"><a href="#local-6989586621683133980"><span class="hs-identifier hs-var">nm1</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133975"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1085"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133981"><span class="annot"><a href="#local-6989586621683133981"><span class="hs-identifier hs-var">opq</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragOpaque"><span class="hs-identifier hs-type">repPragOpaque</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133980"><span class="hs-identifier hs-type">nm1</span></a></span><span>
</span><span id="line-1086"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683133977"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133981"><span class="hs-identifier hs-type">opq</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1087"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-1088"></span><span>
</span><span id="line-1089"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_inline"><span class="hs-identifier hs-var">rep_inline</span></a></span><span> </span><span id="local-6989586621683133983"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133983"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621683133984"><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621683133984"><span class="hs-identifier hs-var">ispec</span></a></span></span><span> </span><span id="local-6989586621683133985"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683133985"><span class="hs-identifier hs-var">loc</span></a></span></span><span>
</span><span id="line-1090"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683133986"><span class="annot"><a href="#local-6989586621683133986"><span class="hs-identifier hs-var">nm1</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133983"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1091"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133987"><span class="annot"><a href="#local-6989586621683133987"><span class="hs-identifier hs-var">inline</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInline"><span class="hs-identifier hs-type">repInline</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#inl_inline"><span class="hs-identifier hs-var">inl_inline</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133984"><span class="hs-identifier hs-type">ispec</span></a></span><span>
</span><span id="line-1092"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133989"><span class="annot"><a href="#local-6989586621683133989"><span class="hs-identifier hs-var">rm</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRuleMatch"><span class="hs-identifier hs-type">repRuleMatch</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#inl_rule"><span class="hs-identifier hs-var">inl_rule</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133984"><span class="hs-identifier hs-type">ispec</span></a></span><span>
</span><span id="line-1093"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133992"><span class="annot"><a href="#local-6989586621683133992"><span class="hs-identifier hs-var">phases</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPhases"><span class="hs-identifier hs-type">repPhases</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#inl_act"><span class="hs-identifier hs-var">inl_act</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133984"><span class="hs-identifier hs-type">ispec</span></a></span><span>
</span><span id="line-1094"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683133994"><span class="annot"><a href="#local-6989586621683133994"><span class="hs-identifier hs-var">pragma</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragInl"><span class="hs-identifier hs-type">repPragInl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133986"><span class="hs-identifier hs-type">nm1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133987"><span class="hs-identifier hs-type">inline</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133989"><span class="hs-identifier hs-type">rm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133992"><span class="hs-identifier hs-type">phases</span></a></span><span>
</span><span id="line-1095"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683133985"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683133994"><span class="hs-identifier hs-type">pragma</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1096"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-1097"></span><span>
</span><span id="line-1098"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_specialise"><span class="hs-identifier hs-type">rep_specialise</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlinePragma"><span class="hs-identifier hs-type">InlinePragma</span></a></span><span>
</span><span id="line-1099"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1100"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1101"></span><span id="rep_specialise"><span class="annot"><span class="annottext">rep_specialise :: GenLocated SrcSpanAnnN Name
-&gt; LHsSigType GhcRn
-&gt; InlinePragma
-&gt; SrcSpan
-&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_specialise"><span class="hs-identifier hs-var hs-var">rep_specialise</span></a></span></span><span> </span><span id="local-6989586621683133996"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133996"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621683133997"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683133997"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621683133998"><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621683133998"><span class="hs-identifier hs-var">ispec</span></a></span></span><span> </span><span id="local-6989586621683133999"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683133999"><span class="hs-identifier hs-var">loc</span></a></span></span><span>
</span><span id="line-1102"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134000"><span class="annot"><a href="#local-6989586621683134000"><span class="hs-identifier hs-var">nm1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683133996"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1103"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134001"><span class="annot"><a href="#local-6989586621683134001"><span class="hs-identifier hs-var">ty1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repHsSigType"><span class="hs-identifier hs-type">repHsSigType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133997"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1104"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134002"><span class="annot"><a href="#local-6989586621683134002"><span class="hs-identifier hs-var">phases</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPhases"><span class="hs-identifier hs-type">repPhases</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#inl_act"><span class="hs-identifier hs-var">inl_act</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683133998"><span class="hs-identifier hs-type">ispec</span></a></span><span>
</span><span id="line-1105"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683134003"><span class="annot"><a href="#local-6989586621683134003"><span class="hs-identifier hs-var hs-var">inline</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InlinePragma -&gt; InlineSpec
</span><a href="GHC.Types.Basic.html#inl_inline"><span class="hs-identifier hs-var">inl_inline</span></a></span><span> </span><span class="annot"><span class="annottext">InlinePragma
</span><a href="#local-6989586621683133998"><span class="hs-identifier hs-var">ispec</span></a></span><span>
</span><span id="line-1106"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134004"><span class="annot"><a href="#local-6989586621683134004"><span class="hs-identifier hs-var">pragma</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#noUserInlineSpec"><span class="hs-identifier hs-type">noUserInlineSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134003"><span class="hs-identifier hs-type">inline</span></a></span><span>
</span><span id="line-1107"></span><span>                   </span><span class="hs-keyword">then</span><span> </span><span class="hs-comment">-- SPECIALISE</span><span>
</span><span id="line-1108"></span><span>                     </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragSpec"><span class="hs-identifier hs-type">repPragSpec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134000"><span class="hs-identifier hs-type">nm1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134001"><span class="hs-identifier hs-type">ty1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134002"><span class="hs-identifier hs-type">phases</span></a></span><span>
</span><span id="line-1109"></span><span>                   </span><span class="hs-keyword">else</span><span> </span><span class="hs-comment">-- SPECIALISE INLINE</span><span>
</span><span id="line-1110"></span><span>                     </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134007"><span class="annot"><a href="#local-6989586621683134007"><span class="hs-identifier hs-var">inline1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInline"><span class="hs-identifier hs-type">repInline</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134003"><span class="hs-identifier hs-type">inline</span></a></span><span>
</span><span id="line-1111"></span><span>                        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragSpecInl"><span class="hs-identifier hs-type">repPragSpecInl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134000"><span class="hs-identifier hs-type">nm1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134001"><span class="hs-identifier hs-type">ty1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134007"><span class="hs-identifier hs-type">inline1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134002"><span class="hs-identifier hs-type">phases</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1112"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683133999"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134004"><span class="hs-identifier hs-type">pragma</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1113"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-1114"></span><span>
</span><span id="line-1115"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_specialiseInst"><span class="hs-identifier hs-type">rep_specialiseInst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1116"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1117"></span><span id="rep_specialiseInst"><span class="annot"><span class="annottext">rep_specialiseInst :: LHsSigType GhcRn -&gt; SrcSpan -&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_specialiseInst"><span class="hs-identifier hs-var hs-var">rep_specialiseInst</span></a></span></span><span> </span><span id="local-6989586621683134009"><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683134009"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621683134010"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683134010"><span class="hs-identifier hs-var">loc</span></a></span></span><span>
</span><span id="line-1118"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134011"><span class="annot"><a href="#local-6989586621683134011"><span class="hs-identifier hs-var">ty1</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repHsSigType"><span class="hs-identifier hs-var">repHsSigType</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683134009"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1119"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134012"><span class="annot"><a href="#local-6989586621683134012"><span class="hs-identifier hs-var">pragma</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragSpecInst"><span class="hs-identifier hs-type">repPragSpecInst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134011"><span class="hs-identifier hs-type">ty1</span></a></span><span>
</span><span id="line-1120"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134010"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134012"><span class="hs-identifier hs-type">pragma</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1121"></span><span>
</span><span id="line-1122"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sccFun"><span class="hs-identifier hs-type">rep_sccFun</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-1123"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#XRec"><span class="hs-identifier hs-type">XRec</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#StringLiteral"><span class="hs-identifier hs-type">StringLiteral</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1124"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1125"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1126"></span><span id="rep_sccFun"><span class="annot"><span class="annottext">rep_sccFun :: GenLocated SrcSpanAnnN Name
-&gt; Maybe (XRec GhcRn StringLiteral)
-&gt; SrcSpan
-&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_sccFun"><span class="hs-identifier hs-var hs-var">rep_sccFun</span></a></span></span><span> </span><span id="local-6989586621683134014"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683134014"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (XRec GhcRn StringLiteral)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span id="local-6989586621683134015"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683134015"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1127"></span><span>  </span><span id="local-6989586621683134016"><span class="annot"><a href="#local-6989586621683134016"><span class="hs-identifier hs-var">nm1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683134014"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1128"></span><span>  </span><span id="local-6989586621683134017"><span class="annot"><a href="#local-6989586621683134017"><span class="hs-identifier hs-var">scc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragSCCFun"><span class="hs-identifier hs-type">repPragSCCFun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134016"><span class="hs-identifier hs-type">nm1</span></a></span><span>
</span><span id="line-1129"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134015"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134017"><span class="hs-identifier hs-type">scc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1130"></span><span>
</span><span id="line-1131"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sccFun"><span class="hs-identifier hs-var">rep_sccFun</span></a></span><span> </span><span id="local-6989586621683134019"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683134019"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134020"><span class="annot"><span class="annottext">StringLiteral
</span><a href="#local-6989586621683134020"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621683134021"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683134021"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1132"></span><span>  </span><span id="local-6989586621683134022"><span class="annot"><a href="#local-6989586621683134022"><span class="hs-identifier hs-var">nm1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683134019"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1133"></span><span>  </span><span id="local-6989586621683134023"><span class="annot"><a href="#local-6989586621683134023"><span class="hs-identifier hs-var">str1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-type">coreStringLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SourceText.html#sl_fs"><span class="hs-identifier hs-var">sl_fs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134020"><span class="hs-identifier hs-type">str</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1134"></span><span>  </span><span id="local-6989586621683134025"><span class="annot"><a href="#local-6989586621683134025"><span class="hs-identifier hs-var">scc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragSCCFunNamed"><span class="hs-identifier hs-type">repPragSCCFunNamed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134022"><span class="hs-identifier hs-type">nm1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134023"><span class="hs-identifier hs-type">str1</span></a></span><span>
</span><span id="line-1135"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134021"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134025"><span class="hs-identifier hs-type">scc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1136"></span><span>
</span><span id="line-1137"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInline"><span class="hs-identifier hs-type">repInline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#InlineSpec"><span class="hs-identifier hs-type">InlineSpec</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Inline</span></span><span class="hs-special">)</span><span>
</span><span id="line-1138"></span><span id="repInline"><span class="annot"><span class="annottext">repInline :: InlineSpec -&gt; MetaM (Core Inline)
</span><a href="GHC.HsToCore.Quote.html#repInline"><span class="hs-identifier hs-var hs-var">repInline</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#NoInline"><span class="hs-identifier hs-type">NoInline</span></a></span><span>          </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Inline)
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var">dataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#noInlineDataConName"><span class="hs-identifier hs-var">noInlineDataConName</span></a></span><span>
</span><span id="line-1139"></span><span class="hs-comment">-- There is a mismatch between the TH and GHC representation because</span><span>
</span><span id="line-1140"></span><span class="hs-comment">-- OPAQUE pragmas can't have phase activation annotations (which is</span><span>
</span><span id="line-1141"></span><span class="hs-comment">-- enforced by the TH API), therefore they are desugared to OpaqueP rather than</span><span>
</span><span id="line-1142"></span><span class="hs-comment">-- InlineP, see special case in rep_inline.</span><span>
</span><span id="line-1143"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInline"><span class="hs-identifier hs-var">repInline</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#Opaque"><span class="hs-identifier hs-type">Opaque</span></a></span><span>            </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; MetaM (Core Inline)
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;repInline: Opaque&quot;</span></span><span>
</span><span id="line-1144"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInline"><span class="hs-identifier hs-var">repInline</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#Inline"><span class="hs-identifier hs-type">Inline</span></a></span><span>            </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Inline)
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var">dataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#inlineDataConName"><span class="hs-identifier hs-var">inlineDataConName</span></a></span><span>
</span><span id="line-1145"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInline"><span class="hs-identifier hs-var">repInline</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#Inlinable"><span class="hs-identifier hs-type">Inlinable</span></a></span><span>         </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Inline)
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var">dataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#inlinableDataConName"><span class="hs-identifier hs-var">inlinableDataConName</span></a></span><span>
</span><span id="line-1146"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInline"><span class="hs-identifier hs-var">repInline</span></a></span><span> </span><span class="annot"><span class="annottext">InlineSpec
</span><a href="GHC.Types.Basic.html#NoUserInlinePrag"><span class="hs-identifier hs-var">NoUserInlinePrag</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core Inline)
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="annot"><span class="annottext">ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThNoUserInline"><span class="hs-identifier hs-var">ThNoUserInline</span></a></span><span>
</span><span id="line-1147"></span><span>
</span><span id="line-1148"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRuleMatch"><span class="hs-identifier hs-type">repRuleMatch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#RuleMatchInfo"><span class="hs-identifier hs-type">RuleMatchInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.RuleMatch</span></span><span class="hs-special">)</span><span>
</span><span id="line-1149"></span><span id="repRuleMatch"><span class="annot"><span class="annottext">repRuleMatch :: RuleMatchInfo -&gt; MetaM (Core RuleMatch)
</span><a href="GHC.HsToCore.Quote.html#repRuleMatch"><span class="hs-identifier hs-var hs-var">repRuleMatch</span></a></span></span><span> </span><span class="annot"><span class="annottext">RuleMatchInfo
</span><a href="GHC.Types.Basic.html#ConLike"><span class="hs-identifier hs-var">ConLike</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core RuleMatch)
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var">dataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#conLikeDataConName"><span class="hs-identifier hs-var">conLikeDataConName</span></a></span><span>
</span><span id="line-1150"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRuleMatch"><span class="hs-identifier hs-var">repRuleMatch</span></a></span><span> </span><span class="annot"><span class="annottext">RuleMatchInfo
</span><a href="GHC.Types.Basic.html#FunLike"><span class="hs-identifier hs-var">FunLike</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core RuleMatch)
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var">dataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#funLikeDataConName"><span class="hs-identifier hs-var">funLikeDataConName</span></a></span><span>
</span><span id="line-1151"></span><span>
</span><span id="line-1152"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPhases"><span class="hs-identifier hs-type">repPhases</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Activation"><span class="hs-identifier hs-type">Activation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Phases</span></span><span class="hs-special">)</span><span>
</span><span id="line-1153"></span><span id="repPhases"><span class="annot"><span class="annottext">repPhases :: Activation -&gt; MetaM (Core Phases)
</span><a href="GHC.HsToCore.Quote.html#repPhases"><span class="hs-identifier hs-var hs-var">repPhases</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#ActiveBefore"><span class="hs-identifier hs-type">ActiveBefore</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134041"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683134041"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134042"><span class="annot"><a href="#local-6989586621683134042"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; MetaM (Core Int)
</span><a href="GHC.HsToCore.Quote.html#coreIntLit"><span class="hs-identifier hs-var">coreIntLit</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683134041"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-1154"></span><span>                                  </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#dataCon%27"><span class="hs-identifier hs-type">dataCon'</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#beforePhaseDataConName"><span class="hs-identifier hs-type">beforePhaseDataConName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683134042"><span class="hs-identifier hs-type">arg</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1155"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPhases"><span class="hs-identifier hs-var">repPhases</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#ActiveAfter"><span class="hs-identifier hs-type">ActiveAfter</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134046"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683134046"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134047"><span class="annot"><a href="#local-6989586621683134047"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; MetaM (Core Int)
</span><a href="GHC.HsToCore.Quote.html#coreIntLit"><span class="hs-identifier hs-var">coreIntLit</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683134046"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-1156"></span><span>                                  </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#dataCon%27"><span class="hs-identifier hs-type">dataCon'</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#fromPhaseDataConName"><span class="hs-identifier hs-type">fromPhaseDataConName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683134047"><span class="hs-identifier hs-type">arg</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1157"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPhases"><span class="hs-identifier hs-var">repPhases</span></a></span><span> </span><span class="annot"><span class="annottext">Activation
</span><span class="hs-identifier">_</span></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Phases)
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var">dataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#allPhasesDataConName"><span class="hs-identifier hs-var">allPhasesDataConName</span></a></span><span>
</span><span id="line-1158"></span><span>
</span><span id="line-1159"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_complete_sig"><span class="hs-identifier hs-type">rep_complete_sig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1160"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1161"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1162"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1163"></span><span id="rep_complete_sig"><span class="annot"><span class="annottext">rep_complete_sig :: [GenLocated SrcSpanAnnN Name]
-&gt; Maybe (GenLocated SrcSpanAnnN Name)
-&gt; SrcSpan
-&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_complete_sig"><span class="hs-identifier hs-var hs-var">rep_complete_sig</span></a></span></span><span> </span><span id="local-6989586621683134050"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621683134050"><span class="hs-identifier hs-var">cls</span></a></span></span><span> </span><span id="local-6989586621683134051"><span class="annot"><span class="annottext">Maybe (GenLocated SrcSpanAnnN Name)
</span><a href="#local-6989586621683134051"><span class="hs-identifier hs-var">mty</span></a></span></span><span> </span><span id="local-6989586621683134052"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683134052"><span class="hs-identifier hs-var">loc</span></a></span></span><span>
</span><span id="line-1164"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134053"><span class="annot"><a href="#local-6989586621683134053"><span class="hs-identifier hs-var">mty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name))
-&gt; Maybe (GenLocated SrcSpanAnnN Name)
-&gt; MetaM (Core (Maybe Name))
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; Maybe a -&gt; MetaM (Core (Maybe b))
</span><a href="GHC.HsToCore.Quote.html#repMaybe"><span class="hs-identifier hs-var">repMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#nameTyConName"><span class="hs-identifier hs-var">nameTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (GenLocated SrcSpanAnnN Name)
</span><a href="#local-6989586621683134051"><span class="hs-identifier hs-var">mty</span></a></span><span>
</span><span id="line-1165"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134055"><span class="annot"><a href="#local-6989586621683134055"><span class="hs-identifier hs-var">cls'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repList"><span class="hs-identifier hs-type">repList</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#nameTyConName"><span class="hs-identifier hs-type">nameTyConName</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-type">lookupLOcc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134050"><span class="hs-identifier hs-type">cls</span></a></span><span>
</span><span id="line-1166"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134056"><span class="annot"><a href="#local-6989586621683134056"><span class="hs-identifier hs-var">sig</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragComplete"><span class="hs-identifier hs-type">repPragComplete</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134055"><span class="hs-identifier hs-type">cls'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134053"><span class="hs-identifier hs-type">mty'</span></a></span><span>
</span><span id="line-1167"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134052"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134056"><span class="hs-identifier hs-type">sig</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1168"></span><span>
</span><span id="line-1169"></span><span class="hs-comment">-------------------------------------------------------</span><span>
</span><span id="line-1170"></span><span class="hs-comment">--                      Types</span><span>
</span><span id="line-1171"></span><span class="hs-comment">-------------------------------------------------------</span><span>
</span><span id="line-1172"></span><span>
</span><span id="line-1173"></span><span class="hs-keyword">class</span><span> </span><span id="RepTV"><span class="annot"><a href="GHC.HsToCore.Quote.html#RepTV"><span class="hs-identifier hs-var">RepTV</span></a></span></span><span> </span><span id="local-6989586621683131580"><span class="annot"><a href="#local-6989586621683131580"><span class="hs-identifier hs-type">flag</span></a></span></span><span> </span><span id="local-6989586621683131581"><span class="annot"><a href="#local-6989586621683131581"><span class="hs-identifier hs-type">flag'</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621683131580"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621683131581"><span class="hs-identifier hs-type">flag'</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1174"></span><span>    </span><span id="tyVarBndrName"><span class="annot"><a href="GHC.HsToCore.Quote.html#tyVarBndrName"><span class="hs-identifier hs-type">tyVarBndrName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-1175"></span><span>    </span><span id="repPlainTV"><span class="annot"><a href="GHC.HsToCore.Quote.html#repPlainTV"><span class="hs-identifier hs-type">repPlainTV</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621683131580"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><a href="#local-6989586621683131581"><span class="hs-identifier hs-type">flag'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1176"></span><span>    </span><span id="repKindedTV"><span class="annot"><a href="GHC.HsToCore.Quote.html#repKindedTV"><span class="hs-identifier hs-type">repKindedTV</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621683131580"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span class="hs-special">)</span><span>
</span><span id="line-1177"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><a href="#local-6989586621683131581"><span class="hs-identifier hs-type">flag'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1178"></span><span>
</span><span id="line-1179"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#RepTV"><span class="hs-identifier hs-type">RepTV</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1180"></span><span>    </span><span id="local-6989586621683134065"><span class="annot"><span class="annottext">tyVarBndrName :: Name
</span><a href="GHC.HsToCore.Quote.html#tyVarBndrName"><span class="hs-identifier hs-var hs-var hs-var">tyVarBndrName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#tyVarBndrUnitTyConName"><span class="hs-identifier hs-var">tyVarBndrUnitTyConName</span></a></span><span>
</span><span id="line-1181"></span><span>    </span><span id="local-6989586621683134066"><span class="annot"><span class="annottext">repPlainTV :: Core Name -&gt; () -&gt; MetaM (Core (M (TyVarBndr ())))
</span><a href="GHC.HsToCore.Quote.html#repPlainTV"><span class="hs-identifier hs-var hs-var hs-var">repPlainTV</span></a></span></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134067"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683134067"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M (TyVarBndr ())))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#plainTVName"><span class="hs-identifier hs-var">plainTVName</span></a></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683134067"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1182"></span><span>    </span><span id="local-6989586621683134069"><span class="annot"><span class="annottext">repKindedTV :: Core Name -&gt; () -&gt; Core (M Type) -&gt; MetaM (Core (M (TyVarBndr ())))
</span><a href="GHC.HsToCore.Quote.html#repKindedTV"><span class="hs-identifier hs-var hs-var hs-var">repKindedTV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134070"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683134070"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134071"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683134071"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M (TyVarBndr ())))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#kindedTVName"><span class="hs-identifier hs-var">kindedTVName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683134070"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683134071"><span class="hs-identifier hs-var">ki</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1183"></span><span>
</span><span id="line-1184"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#RepTV"><span class="hs-identifier hs-type">RepTV</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Specificity.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Specificity</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1185"></span><span>    </span><span id="local-6989586621683134076"><span class="annot"><span class="annottext">tyVarBndrName :: Name
</span><a href="GHC.HsToCore.Quote.html#tyVarBndrName"><span class="hs-identifier hs-var hs-var hs-var">tyVarBndrName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#tyVarBndrSpecTyConName"><span class="hs-identifier hs-var">tyVarBndrSpecTyConName</span></a></span><span>
</span><span id="line-1186"></span><span>    </span><span id="local-6989586621683134078"><span class="annot"><span class="annottext">repPlainTV :: Core Name
-&gt; Specificity -&gt; MetaM (Core (M (TyVarBndr Specificity)))
</span><a href="GHC.HsToCore.Quote.html#repPlainTV"><span class="hs-identifier hs-var hs-var hs-var">repPlainTV</span></a></span></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134079"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683134079"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621683134080"><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621683134080"><span class="hs-identifier hs-var">spec</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134081"><span class="annot"><a href="#local-6989586621683134081"><span class="hs-identifier hs-var">spec'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Specificity -&gt; MetaM (Core Specificity)
</span><a href="GHC.HsToCore.Quote.html#rep_flag"><span class="hs-identifier hs-var">rep_flag</span></a></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621683134080"><span class="hs-identifier hs-var">spec</span></a></span><span>
</span><span id="line-1187"></span><span>                                            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#plainInvisTVName"><span class="hs-identifier hs-type">plainInvisTVName</span></a></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683134079"><span class="hs-identifier hs-type">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134081"><span class="hs-identifier hs-type">spec'</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1188"></span><span>    </span><span id="local-6989586621683134085"><span class="annot"><span class="annottext">repKindedTV :: Core Name
-&gt; Specificity
-&gt; Core (M Type)
-&gt; MetaM (Core (M (TyVarBndr Specificity)))
</span><a href="GHC.HsToCore.Quote.html#repKindedTV"><span class="hs-identifier hs-var hs-var hs-var">repKindedTV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134086"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683134086"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621683134087"><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621683134087"><span class="hs-identifier hs-var">spec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134088"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683134088"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134089"><span class="annot"><a href="#local-6989586621683134089"><span class="hs-identifier hs-var">spec'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Specificity -&gt; MetaM (Core Specificity)
</span><a href="GHC.HsToCore.Quote.html#rep_flag"><span class="hs-identifier hs-var">rep_flag</span></a></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="#local-6989586621683134087"><span class="hs-identifier hs-var">spec</span></a></span><span>
</span><span id="line-1189"></span><span>                                            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#kindedInvisTVName"><span class="hs-identifier hs-type">kindedInvisTVName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683134086"><span class="hs-identifier hs-type">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134089"><span class="hs-identifier hs-type">spec'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134088"><span class="hs-identifier hs-type">ki</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1190"></span><span>
</span><span id="line-1191"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_flag"><span class="hs-identifier hs-type">rep_flag</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Specificity.html#Specificity"><span class="hs-identifier hs-type">Specificity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Specificity</span></span><span class="hs-special">)</span><span>
</span><span id="line-1192"></span><span id="rep_flag"><span class="annot"><span class="annottext">rep_flag :: Specificity -&gt; MetaM (Core Specificity)
</span><a href="GHC.HsToCore.Quote.html#rep_flag"><span class="hs-identifier hs-var hs-var">rep_flag</span></a></span></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="Language.Haskell.Syntax.Specificity.html#SpecifiedSpec"><span class="hs-identifier hs-var">SpecifiedSpec</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core Specificity)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#specifiedSpecName"><span class="hs-identifier hs-var">specifiedSpecName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1193"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_flag"><span class="hs-identifier hs-var">rep_flag</span></a></span><span> </span><span class="annot"><span class="annottext">Specificity
</span><a href="Language.Haskell.Syntax.Specificity.html#InferredSpec"><span class="hs-identifier hs-var">InferredSpec</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core Specificity)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#inferredSpecName"><span class="hs-identifier hs-var">inferredSpecName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1194"></span><span>
</span><span id="line-1195"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#RepTV"><span class="hs-identifier hs-type">RepTV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBndrVis"><span class="hs-identifier hs-type">HsBndrVis</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1196"></span><span>    </span><span id="local-6989586621683134099"><span class="annot"><span class="annottext">tyVarBndrName :: Name
</span><a href="GHC.HsToCore.Quote.html#tyVarBndrName"><span class="hs-identifier hs-var hs-var hs-var">tyVarBndrName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#tyVarBndrVisTyConName"><span class="hs-identifier hs-var">tyVarBndrVisTyConName</span></a></span><span>
</span><span id="line-1197"></span><span>    </span><span id="local-6989586621683134102"><span class="annot"><span class="annottext">repPlainTV :: Core Name
-&gt; HsBndrVis GhcRn -&gt; MetaM (Core (M (TyVarBndr BndrVis)))
</span><a href="GHC.HsToCore.Quote.html#repPlainTV"><span class="hs-identifier hs-var hs-var hs-var">repPlainTV</span></a></span></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134103"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683134103"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621683134104"><span class="annot"><span class="annottext">HsBndrVis GhcRn
</span><a href="#local-6989586621683134104"><span class="hs-identifier hs-var">vis</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134105"><span class="annot"><a href="#local-6989586621683134105"><span class="hs-identifier hs-var">vis'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsBndrVis GhcRn -&gt; MetaM (Core BndrVis)
</span><a href="GHC.HsToCore.Quote.html#rep_bndr_vis"><span class="hs-identifier hs-var">rep_bndr_vis</span></a></span><span> </span><span class="annot"><span class="annottext">HsBndrVis GhcRn
</span><a href="#local-6989586621683134104"><span class="hs-identifier hs-var">vis</span></a></span><span>
</span><span id="line-1198"></span><span>                                           </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#plainBndrTVName"><span class="hs-identifier hs-type">plainBndrTVName</span></a></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683134103"><span class="hs-identifier hs-type">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134105"><span class="hs-identifier hs-type">vis'</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1199"></span><span>    </span><span id="local-6989586621683134109"><span class="annot"><span class="annottext">repKindedTV :: Core Name
-&gt; HsBndrVis GhcRn
-&gt; Core (M Type)
-&gt; MetaM (Core (M (TyVarBndr BndrVis)))
</span><a href="GHC.HsToCore.Quote.html#repKindedTV"><span class="hs-identifier hs-var hs-var hs-var">repKindedTV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134110"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683134110"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621683134111"><span class="annot"><span class="annottext">HsBndrVis GhcRn
</span><a href="#local-6989586621683134111"><span class="hs-identifier hs-var">vis</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134112"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683134112"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683134113"><span class="annot"><a href="#local-6989586621683134113"><span class="hs-identifier hs-var">vis'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsBndrVis GhcRn -&gt; MetaM (Core BndrVis)
</span><a href="GHC.HsToCore.Quote.html#rep_bndr_vis"><span class="hs-identifier hs-var">rep_bndr_vis</span></a></span><span> </span><span class="annot"><span class="annottext">HsBndrVis GhcRn
</span><a href="#local-6989586621683134111"><span class="hs-identifier hs-var">vis</span></a></span><span>
</span><span id="line-1200"></span><span>                                           </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#kindedBndrTVName"><span class="hs-identifier hs-type">kindedBndrTVName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683134110"><span class="hs-identifier hs-type">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134113"><span class="hs-identifier hs-type">vis'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134112"><span class="hs-identifier hs-type">ki</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1201"></span><span>
</span><span id="line-1202"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_bndr_vis"><span class="hs-identifier hs-type">rep_bndr_vis</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBndrVis"><span class="hs-identifier hs-type">HsBndrVis</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">)</span><span>
</span><span id="line-1203"></span><span id="rep_bndr_vis"><span class="annot"><span class="annottext">rep_bndr_vis :: HsBndrVis GhcRn -&gt; MetaM (Core BndrVis)
</span><a href="GHC.HsToCore.Quote.html#rep_bndr_vis"><span class="hs-identifier hs-var hs-var">rep_bndr_vis</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBndrRequired"><span class="hs-identifier hs-type">HsBndrRequired</span></a></span><span> </span><span class="annot"><span class="annottext">XBndrRequired GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core BndrVis)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#bndrReqName"><span class="hs-identifier hs-var">bndrReqName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1204"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_bndr_vis"><span class="hs-identifier hs-var">rep_bndr_vis</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBndrInvisible"><span class="hs-identifier hs-type">HsBndrInvisible</span></a></span><span> </span><span class="annot"><span class="annottext">XBndrInvisible GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core BndrVis)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#bndrInvisName"><span class="hs-identifier hs-var">bndrInvisName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1205"></span><span>
</span><span id="line-1206"></span><span id="local-6989586621683131465"><span class="annot"><a href="GHC.HsToCore.Quote.html#addHsOuterFamEqnTyVarBinds"><span class="hs-identifier hs-type">addHsOuterFamEqnTyVarBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1207"></span><span>     </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterFamEqnTyVarBndrs"><span class="hs-identifier hs-type">HsOuterFamEqnTyVarBndrs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-1208"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131465"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1209"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131465"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-1210"></span><span id="addHsOuterFamEqnTyVarBinds"><span class="annot"><span class="annottext">addHsOuterFamEqnTyVarBinds :: forall {k} (a :: k).
HsOuterFamEqnTyVarBndrs GhcRn
-&gt; (Core (Maybe [M (TyVarBndr ())]) -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addHsOuterFamEqnTyVarBinds"><span class="hs-identifier hs-var hs-var">addHsOuterFamEqnTyVarBinds</span></a></span></span><span> </span><span id="local-6989586621683134121"><span class="annot"><span class="annottext">HsOuterFamEqnTyVarBndrs GhcRn
</span><a href="#local-6989586621683134121"><span class="hs-identifier hs-var">outer_bndrs</span></a></span></span><span> </span><span id="local-6989586621683134122"><span class="annot"><span class="annottext">Core (Maybe [M (TyVarBndr ())]) -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683134122"><span class="hs-identifier hs-var">thing_inside</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1211"></span><span>  </span><span id="local-6989586621683134123"><span class="annot"><a href="#local-6989586621683134123"><span class="hs-identifier hs-var">elt_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#wrapName"><span class="hs-identifier hs-var">wrapName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#tyVarBndrUnitTyConName"><span class="hs-identifier hs-var">tyVarBndrUnitTyConName</span></a></span><span>
</span><span id="line-1212"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621683134121"><span class="hs-identifier hs-type">outer_bndrs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1213"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterImplicit"><span class="hs-identifier hs-type">HsOuterImplicit</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">hso_ximplicit :: forall flag pass.
HsOuterTyVarBndrs flag pass -&gt; XHsOuterImplicit pass
</span><a href="Language.Haskell.Syntax.Type.html#hso_ximplicit"><span class="hs-identifier hs-var">hso_ximplicit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134125"><span class="annot"><span class="annottext">XHsOuterImplicit GhcRn
</span><a href="#local-6989586621683134125"><span class="hs-identifier hs-var">imp_tvs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1214"></span><span>      </span><span class="annot"><span class="annottext">FreshOrReuse -&gt; [Name] -&gt; MetaM (Core (M a)) -&gt; MetaM (Core (M a))
forall {k} (a :: k).
FreshOrReuse -&gt; [Name] -&gt; MetaM (Core (M a)) -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addSimpleTyVarBinds"><span class="hs-identifier hs-var">addSimpleTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#ReuseBoundNames"><span class="hs-identifier hs-var">ReuseBoundNames</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
XHsOuterImplicit GhcRn
</span><a href="#local-6989586621683134125"><span class="hs-identifier hs-var">imp_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">(MetaM (Core (M a)) -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a)) -&gt; MetaM (Core (M a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1215"></span><span>      </span><span class="annot"><span class="annottext">Core (Maybe [M (TyVarBndr ())]) -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683134122"><span class="hs-identifier hs-var">thing_inside</span></a></span><span> </span><span class="annot"><span class="annottext">(Core (Maybe [M (TyVarBndr ())]) -&gt; MetaM (Core (M a)))
-&gt; Core (Maybe [M (TyVarBndr ())]) -&gt; MetaM (Core (M a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Core (Maybe [M (TyVarBndr ())])
forall a. Type -&gt; Core (Maybe [a])
</span><a href="GHC.HsToCore.Quote.html#coreNothingList"><span class="hs-identifier hs-var">coreNothingList</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683134123"><span class="hs-identifier hs-var">elt_ty</span></a></span><span>
</span><span id="line-1216"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterExplicit"><span class="hs-identifier hs-type">HsOuterExplicit</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">hso_bndrs :: forall flag pass.
HsOuterTyVarBndrs flag pass -&gt; [LHsTyVarBndr flag (NoGhcTc pass)]
</span><a href="Language.Haskell.Syntax.Type.html#hso_bndrs"><span class="hs-identifier hs-var">hso_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134127"><span class="annot"><span class="annottext">[LHsTyVarBndr () (NoGhcTc GhcRn)]
</span><a href="#local-6989586621683134127"><span class="hs-identifier hs-var">exp_bndrs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1217"></span><span>      </span><span class="annot"><span class="annottext">FreshOrReuse
-&gt; [LHsTyVarBndr () GhcRn]
-&gt; (Core [M (TyVarBndr ())] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
forall {k} flag flag' (a :: k).
RepTV flag flag' =&gt;
FreshOrReuse
-&gt; [LHsTyVarBndr flag GhcRn]
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addHsTyVarBinds"><span class="hs-identifier hs-var">addHsTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-var">FreshNamesOnly</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr () (NoGhcTc GhcRn)]
[LHsTyVarBndr () GhcRn]
</span><a href="#local-6989586621683134127"><span class="hs-identifier hs-var">exp_bndrs</span></a></span><span> </span><span class="annot"><span class="annottext">((Core [M (TyVarBndr ())] -&gt; MetaM (Core (M a)))
 -&gt; MetaM (Core (M a)))
-&gt; (Core [M (TyVarBndr ())] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621683134128"><span class="annot"><span class="annottext">Core [M (TyVarBndr ())]
</span><a href="#local-6989586621683134128"><span class="hs-identifier hs-var">th_exp_bndrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1218"></span><span>      </span><span class="annot"><span class="annottext">Core (Maybe [M (TyVarBndr ())]) -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683134122"><span class="hs-identifier hs-var">thing_inside</span></a></span><span> </span><span class="annot"><span class="annottext">(Core (Maybe [M (TyVarBndr ())]) -&gt; MetaM (Core (M a)))
-&gt; Core (Maybe [M (TyVarBndr ())]) -&gt; MetaM (Core (M a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Core [M (TyVarBndr ())] -&gt; Core (Maybe [M (TyVarBndr ())])
forall a. Type -&gt; Core [a] -&gt; Core (Maybe [a])
</span><a href="GHC.HsToCore.Quote.html#coreJustList"><span class="hs-identifier hs-var">coreJustList</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683134123"><span class="hs-identifier hs-var">elt_ty</span></a></span><span> </span><span class="annot"><span class="annottext">Core [M (TyVarBndr ())]
</span><a href="#local-6989586621683134128"><span class="hs-identifier hs-var">th_exp_bndrs</span></a></span><span>
</span><span id="line-1219"></span><span>
</span><span id="line-1220"></span><span id="local-6989586621683131532"><span class="annot"><a href="GHC.HsToCore.Quote.html#addHsOuterSigTyVarBinds"><span class="hs-identifier hs-type">addHsOuterSigTyVarBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-1221"></span><span>     </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterSigTyVarBndrs"><span class="hs-identifier hs-type">HsOuterSigTyVarBndrs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-1222"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Specificity</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131532"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1223"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131532"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-1224"></span><span id="addHsOuterSigTyVarBinds"><span class="annot"><span class="annottext">addHsOuterSigTyVarBinds :: forall {k} (a :: k).
HsOuterSigTyVarBndrs GhcRn
-&gt; (Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addHsOuterSigTyVarBinds"><span class="hs-identifier hs-var hs-var">addHsOuterSigTyVarBinds</span></a></span></span><span> </span><span id="local-6989586621683134132"><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
</span><a href="#local-6989586621683134132"><span class="hs-identifier hs-var">outer_bndrs</span></a></span></span><span> </span><span id="local-6989586621683134133"><span class="annot"><span class="annottext">Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683134133"><span class="hs-identifier hs-var">thing_inside</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
</span><a href="#local-6989586621683134132"><span class="hs-identifier hs-var">outer_bndrs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1225"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterImplicit"><span class="hs-identifier hs-type">HsOuterImplicit</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">hso_ximplicit :: forall flag pass.
HsOuterTyVarBndrs flag pass -&gt; XHsOuterImplicit pass
</span><a href="Language.Haskell.Syntax.Type.html#hso_ximplicit"><span class="hs-identifier hs-var">hso_ximplicit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134134"><span class="annot"><span class="annottext">XHsOuterImplicit GhcRn
</span><a href="#local-6989586621683134134"><span class="hs-identifier hs-var">imp_tvs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1226"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683134135"><span class="annot"><a href="#local-6989586621683134135"><span class="hs-identifier hs-var">th_nil</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; [Core (M (TyVarBndr Specificity))]
-&gt; MetaM (Core [M (TyVarBndr Specificity)])
forall a. Name -&gt; [Core a] -&gt; MetaM (Core [a])
</span><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-var">coreListM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#tyVarBndrSpecTyConName"><span class="hs-identifier hs-var">tyVarBndrSpecTyConName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1227"></span><span>       </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addSimpleTyVarBinds"><span class="hs-identifier hs-type">addSimpleTyVarBinds</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-type">FreshNamesOnly</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134134"><span class="hs-identifier hs-type">imp_tvs</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621683134133"><span class="hs-identifier hs-type">thing_inside</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134135"><span class="hs-identifier hs-type">th_nil</span></a></span><span>
</span><span id="line-1228"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterExplicit"><span class="hs-identifier hs-type">HsOuterExplicit</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">hso_bndrs :: forall flag pass.
HsOuterTyVarBndrs flag pass -&gt; [LHsTyVarBndr flag (NoGhcTc pass)]
</span><a href="Language.Haskell.Syntax.Type.html#hso_bndrs"><span class="hs-identifier hs-var">hso_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134136"><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity (NoGhcTc GhcRn)]
</span><a href="#local-6989586621683134136"><span class="hs-identifier hs-var">exp_bndrs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1229"></span><span>    </span><span class="annot"><span class="annottext">FreshOrReuse
-&gt; [LHsTyVarBndr Specificity GhcRn]
-&gt; (Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
forall {k} flag flag' (a :: k).
RepTV flag flag' =&gt;
FreshOrReuse
-&gt; [LHsTyVarBndr flag GhcRn]
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addHsTyVarBinds"><span class="hs-identifier hs-var">addHsTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-var">FreshNamesOnly</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity (NoGhcTc GhcRn)]
[LHsTyVarBndr Specificity GhcRn]
</span><a href="#local-6989586621683134136"><span class="hs-identifier hs-var">exp_bndrs</span></a></span><span> </span><span class="annot"><span class="annottext">Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683134133"><span class="hs-identifier hs-var">thing_inside</span></a></span><span>
</span><span id="line-1230"></span><span>
</span><span id="line-1231"></span><span class="hs-comment">-- | If a type implicitly quantifies its outermost type variables, return</span><span>
</span><span id="line-1232"></span><span class="hs-comment">-- 'True' if the list of implicitly bound type variables is empty. If a type</span><span>
</span><span id="line-1233"></span><span class="hs-comment">-- explicitly quantifies its outermost type variables, always return 'True'.</span><span>
</span><span id="line-1234"></span><span class="hs-comment">--</span><span>
</span><span id="line-1235"></span><span class="hs-comment">-- This is used in various places to determine if a Template Haskell 'Type'</span><span>
</span><span id="line-1236"></span><span class="hs-comment">-- should be headed by a 'ForallT' or not.</span><span>
</span><span id="line-1237"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#nullOuterImplicit"><span class="hs-identifier hs-type">nullOuterImplicit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterSigTyVarBndrs"><span class="hs-identifier hs-type">HsOuterSigTyVarBndrs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1238"></span><span id="nullOuterImplicit"><span class="annot"><span class="annottext">nullOuterImplicit :: HsOuterSigTyVarBndrs GhcRn -&gt; Bool
</span><a href="GHC.HsToCore.Quote.html#nullOuterImplicit"><span class="hs-identifier hs-var hs-var">nullOuterImplicit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterImplicit"><span class="hs-identifier hs-type">HsOuterImplicit</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">hso_ximplicit :: forall flag pass.
HsOuterTyVarBndrs flag pass -&gt; XHsOuterImplicit pass
</span><a href="Language.Haskell.Syntax.Type.html#hso_ximplicit"><span class="hs-identifier hs-var">hso_ximplicit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134137"><span class="annot"><span class="annottext">XHsOuterImplicit GhcRn
</span><a href="#local-6989586621683134137"><span class="hs-identifier hs-var">imp_tvs</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[Name]
XHsOuterImplicit GhcRn
</span><a href="#local-6989586621683134137"><span class="hs-identifier hs-var">imp_tvs</span></a></span><span>
</span><span id="line-1239"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#nullOuterImplicit"><span class="hs-identifier hs-var">nullOuterImplicit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterExplicit"><span class="hs-identifier hs-type">HsOuterExplicit</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1240"></span><span>  </span><span class="hs-comment">-- Vacuously true, as there is no implicit quantification</span><span>
</span><span id="line-1241"></span><span>
</span><span id="line-1242"></span><span class="hs-comment">-- | If a type explicitly quantifies its outermost type variables, return</span><span>
</span><span id="line-1243"></span><span class="hs-comment">-- 'True' if the list of explicitly bound type variables is empty. If a type</span><span>
</span><span id="line-1244"></span><span class="hs-comment">-- implicitly quantifies its outermost type variables, always return 'True'.</span><span>
</span><span id="line-1245"></span><span class="hs-comment">--</span><span>
</span><span id="line-1246"></span><span class="hs-comment">-- This is used in various places to determine if a Template Haskell 'Type'</span><span>
</span><span id="line-1247"></span><span class="hs-comment">-- should be headed by a 'ForallT' or not.</span><span>
</span><span id="line-1248"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#nullOuterExplicit"><span class="hs-identifier hs-type">nullOuterExplicit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterSigTyVarBndrs"><span class="hs-identifier hs-type">HsOuterSigTyVarBndrs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1249"></span><span id="nullOuterExplicit"><span class="annot"><span class="annottext">nullOuterExplicit :: HsOuterSigTyVarBndrs GhcRn -&gt; Bool
</span><a href="GHC.HsToCore.Quote.html#nullOuterExplicit"><span class="hs-identifier hs-var hs-var">nullOuterExplicit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterExplicit"><span class="hs-identifier hs-type">HsOuterExplicit</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">hso_bndrs :: forall flag pass.
HsOuterTyVarBndrs flag pass -&gt; [LHsTyVarBndr flag (NoGhcTc pass)]
</span><a href="Language.Haskell.Syntax.Type.html#hso_bndrs"><span class="hs-identifier hs-var">hso_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134138"><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity (NoGhcTc GhcRn)]
</span><a href="#local-6989586621683134138"><span class="hs-identifier hs-var">exp_bndrs</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcRn)] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity (NoGhcTc GhcRn)]
[GenLocated SrcSpanAnnA (HsTyVarBndr Specificity GhcRn)]
</span><a href="#local-6989586621683134138"><span class="hs-identifier hs-var">exp_bndrs</span></a></span><span>
</span><span id="line-1250"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#nullOuterExplicit"><span class="hs-identifier hs-var">nullOuterExplicit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOuterImplicit"><span class="hs-identifier hs-type">HsOuterImplicit</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>                      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1251"></span><span>  </span><span class="hs-comment">-- Vacuously true, as there is no outermost explicit quantification</span><span>
</span><span id="line-1252"></span><span>
</span><span id="line-1253"></span><span class="hs-comment">-- Do we want to generate fresh names for type variables</span><span>
</span><span id="line-1254"></span><span class="hs-comment">-- or reuse the ones that are already in scope?</span><span>
</span><span id="line-1255"></span><span class="hs-keyword">data</span><span> </span><span id="FreshOrReuse"><span class="annot"><a href="GHC.HsToCore.Quote.html#FreshOrReuse"><span class="hs-identifier hs-var">FreshOrReuse</span></a></span></span><span>
</span><span id="line-1256"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="FreshNamesOnly"><span class="annot"><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-var">FreshNamesOnly</span></a></span></span><span>
</span><span id="line-1257"></span><span>    </span><span class="hs-comment">-- Generate fresh names for all type variables, regardless of existing</span><span>
</span><span id="line-1258"></span><span>    </span><span class="hs-comment">-- variables in the MetaEnv.</span><span>
</span><span id="line-1259"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-1260"></span><span>    </span><span class="hs-comment">-- This is the default strategy.</span><span>
</span><span id="line-1261"></span><span>
</span><span id="line-1262"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ReuseBoundNames"><span class="annot"><a href="GHC.HsToCore.Quote.html#ReuseBoundNames"><span class="hs-identifier hs-var">ReuseBoundNames</span></a></span></span><span>
</span><span id="line-1263"></span><span>    </span><span class="hs-comment">-- Generate fresh names for type variables not in the MetaEnv.</span><span>
</span><span id="line-1264"></span><span>    </span><span class="hs-comment">-- Where a name is already bound in the MetaEnv, use that existing binding;</span><span>
</span><span id="line-1265"></span><span>    </span><span class="hs-comment">-- do not create a new one with a fresh name.</span><span>
</span><span id="line-1266"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-1267"></span><span>    </span><span class="hs-comment">-- This is the strategy used for data/newtype declarations and type family</span><span>
</span><span id="line-1268"></span><span>    </span><span class="hs-comment">-- instances, so that the nested type variables work right:</span><span>
</span><span id="line-1269"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-1270"></span><span>    </span><span class="hs-comment">--     class C a where</span><span>
</span><span id="line-1271"></span><span>    </span><span class="hs-comment">--       type W a b</span><span>
</span><span id="line-1272"></span><span>    </span><span class="hs-comment">--     instance C (T a) where</span><span>
</span><span id="line-1273"></span><span>    </span><span class="hs-comment">--       type W (T a) b = blah</span><span>
</span><span id="line-1274"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-1275"></span><span>    </span><span class="hs-comment">-- The 'a' in the type instance is the one bound by the instance decl</span><span>
</span><span id="line-1276"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-1277"></span><span>    </span><span class="hs-comment">-- Test cases: TH_reifyExplicitForAllFams T9081 T9199 T10811</span><span>
</span><span id="line-1278"></span><span>
</span><span id="line-1279"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#mkGenSyms%27"><span class="hs-identifier hs-type">mkGenSyms'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#FreshOrReuse"><span class="hs-identifier hs-type">FreshOrReuse</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#GenSymBind"><span class="hs-identifier hs-type">GenSymBind</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1280"></span><span id="mkGenSyms%27"><span class="annot"><span class="annottext">mkGenSyms' :: FreshOrReuse -&gt; [Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms%27"><span class="hs-identifier hs-var hs-var">mkGenSyms'</span></a></span></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-var">FreshNamesOnly</span></a></span><span>  </span><span id="local-6989586621683134140"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683134140"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-var">mkGenSyms</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683134140"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-1281"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#mkGenSyms%27"><span class="hs-identifier hs-var">mkGenSyms'</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#ReuseBoundNames"><span class="hs-identifier hs-var">ReuseBoundNames</span></a></span><span> </span><span id="local-6989586621683134141"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683134141"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1282"></span><span>  </span><span class="hs-comment">-- Make fresh names for the ones that are not already in scope</span><span>
</span><span id="line-1283"></span><span>  </span><span class="hs-comment">-- This makes things work for associated types</span><span>
</span><span id="line-1284"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134142"><span class="annot"><a href="#local-6989586621683134142"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DsM DsMetaEnv -&gt; ReaderT MetaWrappers DsM DsMetaEnv
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">DsM DsMetaEnv
</span><a href="GHC.HsToCore.Monad.html#dsGetMetaEnv"><span class="hs-identifier hs-var">dsGetMetaEnv</span></a></span><span>
</span><span id="line-1285"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-type">mkGenSyms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Misc.html#filterOut"><span class="hs-identifier hs-type">filterOut</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">`elemNameEnv`</span></span><span> </span><span class="annot"><span class="hs-identifier">env</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683134141"><span class="hs-identifier hs-type">names</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1286"></span><span>
</span><span id="line-1287"></span><span id="local-6989586621683131400"><span class="annot"><a href="GHC.HsToCore.Quote.html#addSimpleTyVarBinds"><span class="hs-identifier hs-type">addSimpleTyVarBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#FreshOrReuse"><span class="hs-identifier hs-type">FreshOrReuse</span></a></span><span>
</span><span id="line-1288"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>             </span><span class="hs-comment">-- the binders to be added</span><span>
</span><span id="line-1289"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131400"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- action in the ext env</span><span>
</span><span id="line-1290"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131400"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-1291"></span><span id="addSimpleTyVarBinds"><span class="annot"><span class="annottext">addSimpleTyVarBinds :: forall {k} (a :: k).
FreshOrReuse -&gt; [Name] -&gt; MetaM (Core (M a)) -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addSimpleTyVarBinds"><span class="hs-identifier hs-var hs-var">addSimpleTyVarBinds</span></a></span></span><span> </span><span id="local-6989586621683134149"><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="#local-6989586621683134149"><span class="hs-identifier hs-var">fresh_or_reuse</span></a></span></span><span> </span><span id="local-6989586621683134150"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683134150"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span id="local-6989586621683134151"><span class="annot"><span class="annottext">MetaM (Core (M a))
</span><a href="#local-6989586621683134151"><span class="hs-identifier hs-var">thing_inside</span></a></span></span><span>
</span><span id="line-1292"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134152"><span class="annot"><a href="#local-6989586621683134152"><span class="hs-identifier hs-var">fresh_names</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FreshOrReuse -&gt; [Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms%27"><span class="hs-identifier hs-var">mkGenSyms'</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="#local-6989586621683134149"><span class="hs-identifier hs-var">fresh_or_reuse</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683134150"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-1293"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134153"><span class="annot"><a href="#local-6989586621683134153"><span class="hs-identifier hs-var">term</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134152"><span class="hs-identifier hs-type">fresh_names</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134151"><span class="hs-identifier hs-type">thing_inside</span></a></span><span>
</span><span id="line-1294"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134152"><span class="hs-identifier hs-type">fresh_names</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134153"><span class="hs-identifier hs-type">term</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1295"></span><span>
</span><span id="line-1296"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#addHsTyVarBinds"><span class="hs-identifier hs-type">addHsTyVarBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621683131502"><span class="annot"><a href="#local-6989586621683131502"><span class="hs-identifier hs-type">flag</span></a></span></span><span> </span><span id="local-6989586621683131503"><span class="annot"><a href="#local-6989586621683131503"><span class="hs-identifier hs-type">flag'</span></a></span></span><span> </span><span id="local-6989586621683131504"><span class="annot"><a href="#local-6989586621683131504"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#RepTV"><span class="hs-identifier hs-type">RepTV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131502"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131503"><span class="hs-identifier hs-type">flag'</span></a></span><span>
</span><span id="line-1297"></span><span>                </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#FreshOrReuse"><span class="hs-identifier hs-type">FreshOrReuse</span></a></span><span>
</span><span id="line-1298"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131502"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- the binders to be added</span><span>
</span><span id="line-1299"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><a href="#local-6989586621683131503"><span class="hs-identifier hs-type">flag'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131504"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- action in the ext env</span><span>
</span><span id="line-1300"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131504"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1301"></span><span id="addHsTyVarBinds"><span class="annot"><span class="annottext">addHsTyVarBinds :: forall {k} flag flag' (a :: k).
RepTV flag flag' =&gt;
FreshOrReuse
-&gt; [LHsTyVarBndr flag GhcRn]
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addHsTyVarBinds"><span class="hs-identifier hs-var hs-var">addHsTyVarBinds</span></a></span></span><span> </span><span id="local-6989586621683134160"><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="#local-6989586621683134160"><span class="hs-identifier hs-var">fresh_or_reuse</span></a></span></span><span> </span><span id="local-6989586621683134161"><span class="annot"><span class="annottext">[LHsTyVarBndr flag GhcRn]
</span><a href="#local-6989586621683134161"><span class="hs-identifier hs-var">exp_tvs</span></a></span></span><span> </span><span id="local-6989586621683134162"><span class="annot"><span class="annottext">Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683134162"><span class="hs-identifier hs-var">thing_inside</span></a></span></span><span>
</span><span id="line-1302"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134163"><span class="annot"><a href="#local-6989586621683134163"><span class="hs-identifier hs-var">fresh_exp_names</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FreshOrReuse -&gt; [Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms%27"><span class="hs-identifier hs-var">mkGenSyms'</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="#local-6989586621683134160"><span class="hs-identifier hs-var">fresh_or_reuse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LHsTyVarBndr flag GhcRn] -&gt; [IdP GhcRn]
forall flag (p :: Pass).
[LHsTyVarBndr flag (GhcPass p)] -&gt; [IdP (GhcPass p)]
</span><a href="GHC.Hs.Type.html#hsLTyVarNames"><span class="hs-identifier hs-var">hsLTyVarNames</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr flag GhcRn]
</span><a href="#local-6989586621683134161"><span class="hs-identifier hs-var">exp_tvs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1303"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134165"><span class="annot"><a href="#local-6989586621683134165"><span class="hs-identifier hs-var">term</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134163"><span class="hs-identifier hs-type">fresh_exp_names</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-1304"></span><span>                 </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134166"><span class="annot"><a href="#local-6989586621683134166"><span class="hs-identifier hs-var">kbs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-type">repListM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#tyVarBndrName"><span class="hs-identifier hs-type">tyVarBndrName</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621683131502"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621683131503"><span class="hs-identifier hs-type">flag'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyVarBndr"><span class="hs-identifier hs-type">repTyVarBndr</span></a></span><span>
</span><span id="line-1305"></span><span>                                      </span><span class="annot"><a href="#local-6989586621683134161"><span class="hs-identifier hs-type">exp_tvs</span></a></span><span>
</span><span id="line-1306"></span><span>                    </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="#local-6989586621683134162"><span class="hs-identifier hs-type">thing_inside</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134166"><span class="hs-identifier hs-type">kbs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1307"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134163"><span class="hs-identifier hs-type">fresh_exp_names</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134165"><span class="hs-identifier hs-type">term</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1308"></span><span>
</span><span id="line-1309"></span><span id="local-6989586621683131352"><span class="annot"><a href="GHC.HsToCore.Quote.html#addQTyVarBinds"><span class="hs-identifier hs-type">addQTyVarBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#FreshOrReuse"><span class="hs-identifier hs-type">FreshOrReuse</span></a></span><span>
</span><span id="line-1310"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsQTyVars"><span class="hs-identifier hs-type">LHsQTyVars</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-comment">-- the binders to be added</span><span>
</span><span id="line-1311"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131352"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- action in the ext env</span><span>
</span><span id="line-1312"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131352"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-1313"></span><span id="addQTyVarBinds"><span class="annot"><span class="annottext">addQTyVarBinds :: forall {k} (a :: k).
FreshOrReuse
-&gt; LHsQTyVars GhcRn
-&gt; (Core [M (TyVarBndr BndrVis)] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addQTyVarBinds"><span class="hs-identifier hs-var hs-var">addQTyVarBinds</span></a></span></span><span> </span><span id="local-6989586621683134168"><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="#local-6989586621683134168"><span class="hs-identifier hs-var">fresh_or_reuse</span></a></span></span><span> </span><span id="local-6989586621683134169"><span class="annot"><span class="annottext">LHsQTyVars GhcRn
</span><a href="#local-6989586621683134169"><span class="hs-identifier hs-var">qtvs</span></a></span></span><span> </span><span id="local-6989586621683134170"><span class="annot"><span class="annottext">Core [M (TyVarBndr BndrVis)] -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683134170"><span class="hs-identifier hs-var">thing_inside</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1314"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsQTvs"><span class="hs-identifier hs-type">HsQTvs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hsq_ext :: forall pass. LHsQTyVars pass -&gt; XHsQTvs pass
</span><a href="Language.Haskell.Syntax.Type.html#hsq_ext"><span class="hs-identifier hs-var">hsq_ext</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134173"><span class="annot"><span class="annottext">XHsQTvs GhcRn
</span><a href="#local-6989586621683134173"><span class="hs-identifier hs-var">imp_tvs</span></a></span></span><span>
</span><span id="line-1315"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hsq_explicit :: forall pass.
LHsQTyVars pass -&gt; [LHsTyVarBndr (HsBndrVis pass) pass]
</span><a href="Language.Haskell.Syntax.Type.html#hsq_explicit"><span class="hs-identifier hs-var">hsq_explicit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134175"><span class="annot"><span class="annottext">[LHsTyVarBndr (HsBndrVis GhcRn) GhcRn]
</span><a href="#local-6989586621683134175"><span class="hs-identifier hs-var">exp_tvs</span></a></span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1316"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsQTyVars GhcRn
</span><a href="#local-6989586621683134169"><span class="hs-identifier hs-var">qtvs</span></a></span><span>
</span><span id="line-1317"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
-&gt; [LHsTyVarBndr (HsBndrVis GhcRn) GhcRn]
-&gt; [Name]
-&gt; (Core [M (TyVarBndr BndrVis)] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
forall {k} flag flag' (a :: k).
RepTV flag flag' =&gt;
FreshOrReuse
-&gt; [LHsTyVarBndr flag GhcRn]
-&gt; [Name]
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addTyVarBinds"><span class="hs-identifier hs-var">addTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="#local-6989586621683134168"><span class="hs-identifier hs-var">fresh_or_reuse</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr (HsBndrVis GhcRn) GhcRn]
</span><a href="#local-6989586621683134175"><span class="hs-identifier hs-var">exp_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
XHsQTvs GhcRn
</span><a href="#local-6989586621683134173"><span class="hs-identifier hs-var">imp_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">Core [M (TyVarBndr BndrVis)] -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683134170"><span class="hs-identifier hs-var">thing_inside</span></a></span><span>
</span><span id="line-1318"></span><span>
</span><span id="line-1319"></span><span id="local-6989586621683131613"><span id="local-6989586621683131614"><span id="local-6989586621683131615"><span class="annot"><a href="GHC.HsToCore.Quote.html#addTyVarBinds"><span class="hs-identifier hs-type">addTyVarBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#RepTV"><span class="hs-identifier hs-type">RepTV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131613"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131614"><span class="hs-identifier hs-type">flag'</span></a></span><span>
</span><span id="line-1320"></span><span>              </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#FreshOrReuse"><span class="hs-identifier hs-type">FreshOrReuse</span></a></span><span>
</span><span id="line-1321"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131613"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- the binders to be added</span><span>
</span><span id="line-1322"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1323"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><a href="#local-6989586621683131614"><span class="hs-identifier hs-type">flag'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131615"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- action in the ext env</span><span>
</span><span id="line-1324"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131615"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-1325"></span><span class="hs-comment">-- gensym a list of type variables and enter them into the meta environment;</span><span>
</span><span id="line-1326"></span><span class="hs-comment">-- the computations passed as the second argument is executed in that extended</span><span>
</span><span id="line-1327"></span><span class="hs-comment">-- meta environment and gets the *new* names on Core-level as an argument</span><span>
</span><span id="line-1328"></span><span id="addTyVarBinds"><span class="annot"><span class="annottext">addTyVarBinds :: forall {k} flag flag' (a :: k).
RepTV flag flag' =&gt;
FreshOrReuse
-&gt; [LHsTyVarBndr flag GhcRn]
-&gt; [Name]
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addTyVarBinds"><span class="hs-identifier hs-var hs-var">addTyVarBinds</span></a></span></span><span> </span><span id="local-6989586621683134179"><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="#local-6989586621683134179"><span class="hs-identifier hs-var">fresh_or_reuse</span></a></span></span><span> </span><span id="local-6989586621683134180"><span class="annot"><span class="annottext">[LHsTyVarBndr flag GhcRn]
</span><a href="#local-6989586621683134180"><span class="hs-identifier hs-var">exp_tvs</span></a></span></span><span> </span><span id="local-6989586621683134181"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683134181"><span class="hs-identifier hs-var">imp_tvs</span></a></span></span><span> </span><span id="local-6989586621683134182"><span class="annot"><span class="annottext">Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683134182"><span class="hs-identifier hs-var">thing_inside</span></a></span></span><span>
</span><span id="line-1329"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FreshOrReuse -&gt; [Name] -&gt; MetaM (Core (M a)) -&gt; MetaM (Core (M a))
forall {k} (a :: k).
FreshOrReuse -&gt; [Name] -&gt; MetaM (Core (M a)) -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addSimpleTyVarBinds"><span class="hs-identifier hs-var">addSimpleTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="#local-6989586621683134179"><span class="hs-identifier hs-var">fresh_or_reuse</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683134181"><span class="hs-identifier hs-var">imp_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">(MetaM (Core (M a)) -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a)) -&gt; MetaM (Core (M a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1330"></span><span>    </span><span class="annot"><span class="annottext">FreshOrReuse
-&gt; [LHsTyVarBndr flag GhcRn]
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
forall {k} flag flag' (a :: k).
RepTV flag flag' =&gt;
FreshOrReuse
-&gt; [LHsTyVarBndr flag GhcRn]
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addHsTyVarBinds"><span class="hs-identifier hs-var">addHsTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="#local-6989586621683134179"><span class="hs-identifier hs-var">fresh_or_reuse</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr flag GhcRn]
</span><a href="#local-6989586621683134180"><span class="hs-identifier hs-var">exp_tvs</span></a></span><span> </span><span class="annot"><span class="annottext">((Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a)))
 -&gt; MetaM (Core (M a)))
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1331"></span><span>    </span><span class="annot"><span class="annottext">Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683134182"><span class="hs-identifier hs-var">thing_inside</span></a></span><span>
</span><span id="line-1332"></span><span>
</span><span id="line-1333"></span><span class="annot"><span class="hs-comment">-- | Represent a type variable binder</span></span><span>
</span><span id="line-1334"></span><span id="local-6989586621683131411"><span id="local-6989586621683131412"><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyVarBndr"><span class="hs-identifier hs-type">repTyVarBndr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#RepTV"><span class="hs-identifier hs-type">RepTV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131411"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131412"><span class="hs-identifier hs-type">flag'</span></a></span><span>
</span><span id="line-1335"></span><span>             </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131411"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><a href="#local-6989586621683131412"><span class="hs-identifier hs-type">flag'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1336"></span><span id="repTyVarBndr"><span class="annot"><span class="annottext">repTyVarBndr :: forall flag flag'.
RepTV flag flag' =&gt;
LHsTyVarBndr flag GhcRn -&gt; MetaM (Core (M (TyVarBndr flag')))
</span><a href="GHC.HsToCore.Quote.html#repTyVarBndr"><span class="hs-identifier hs-var hs-var">repTyVarBndr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTvb"><span class="hs-identifier hs-type">HsTvb</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVarBndr GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134189"><span class="annot"><span class="annottext">flag
</span><a href="#local-6989586621683134189"><span class="hs-identifier hs-var">fl</span></a></span></span><span> </span><span id="local-6989586621683134190"><span class="annot"><span class="annottext">HsBndrVar GhcRn
</span><a href="#local-6989586621683134190"><span class="hs-identifier hs-var">bvar</span></a></span></span><span> </span><span id="local-6989586621683134191"><span class="annot"><span class="annottext">HsBndrKind GhcRn
</span><a href="#local-6989586621683134191"><span class="hs-identifier hs-var">bkind</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1337"></span><span>  </span><span id="local-6989586621683134192"><span class="annot"><a href="#local-6989586621683134192"><span class="hs-identifier hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsBndrVar GhcRn -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#repHsBndrVar"><span class="hs-identifier hs-var">repHsBndrVar</span></a></span><span> </span><span class="annot"><span class="annottext">HsBndrVar GhcRn
</span><a href="#local-6989586621683134190"><span class="hs-identifier hs-var">bvar</span></a></span><span>
</span><span id="line-1338"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621683134191"><span class="hs-identifier hs-type">bkind</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1339"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBndrNoKind"><span class="hs-identifier hs-type">HsBndrNoKind</span></a></span><span> </span><span class="annot"><span class="annottext">XBndrNoKind GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1340"></span><span>      </span><span class="annot"><span class="annottext">Core Name
-&gt; flag -&gt; ReaderT MetaWrappers DsM (Core (M (TyVarBndr flag')))
forall flag flag'.
RepTV flag flag' =&gt;
Core Name -&gt; flag -&gt; MetaM (Core (M (TyVarBndr flag')))
</span><a href="GHC.HsToCore.Quote.html#repPlainTV"><span class="hs-identifier hs-var">repPlainTV</span></a></span><span> </span><span class="annot"><span class="annottext">Core Name
</span><a href="#local-6989586621683134192"><span class="hs-identifier hs-var">nm'</span></a></span><span> </span><span class="annot"><span class="annottext">flag
</span><a href="#local-6989586621683134189"><span class="hs-identifier hs-var">fl</span></a></span><span>
</span><span id="line-1341"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBndrKind"><span class="hs-identifier hs-type">HsBndrKind</span></a></span><span> </span><span class="annot"><span class="annottext">XBndrKind GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134196"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134196"><span class="hs-identifier hs-var">ki</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1342"></span><span>      </span><span id="local-6989586621683134197"><span class="annot"><a href="#local-6989586621683134197"><span class="hs-identifier hs-var">ki'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134196"><span class="hs-identifier hs-var">ki</span></a></span><span>
</span><span id="line-1343"></span><span>      </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repKindedTV"><span class="hs-identifier hs-type">repKindedTV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134192"><span class="hs-identifier hs-type">nm'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134189"><span class="hs-identifier hs-type">fl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134197"><span class="hs-identifier hs-type">ki'</span></a></span><span>
</span><span id="line-1344"></span><span>
</span><span id="line-1345"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repHsBndrVar"><span class="hs-identifier hs-type">repHsBndrVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBndrVar"><span class="hs-identifier hs-type">HsBndrVar</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-1346"></span><span id="repHsBndrVar"><span class="annot"><span class="annottext">repHsBndrVar :: HsBndrVar GhcRn -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#repHsBndrVar"><span class="hs-identifier hs-var hs-var">repHsBndrVar</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBndrVar"><span class="hs-identifier hs-type">HsBndrVar</span></a></span><span> </span><span class="annot"><span class="annottext">XBndrVar GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134199"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134199"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1347"></span><span>  </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupBinder"><span class="hs-identifier hs-var">lookupBinder</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134199"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1348"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repHsBndrVar"><span class="hs-identifier hs-var">repHsBndrVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBndrWildCard"><span class="hs-identifier hs-type">HsBndrWildCard</span></a></span><span> </span><span class="annot"><span class="annottext">XBndrWildCard GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1349"></span><span>  </span><span id="local-6989586621683134201"><span class="annot"><a href="#local-6989586621683134201"><span class="hs-identifier hs-var">u</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DsM Unique -&gt; ReaderT MetaWrappers DsM Unique
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">DsM Unique
forall gbl lcl. TcRnIf gbl lcl Unique
</span><a href="GHC.Tc.Utils.Monad.html#newUnique"><span class="hs-identifier hs-var">newUnique</span></a></span><span>
</span><span id="line-1350"></span><span>  </span><span class="annot"><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-type">lift</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#globalVarLocal"><span class="hs-identifier hs-type">globalVarLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134201"><span class="hs-identifier hs-type">u</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkTyVarOcc"><span class="hs-identifier hs-type">mkTyVarOcc</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;_&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1351"></span><span>
</span><span id="line-1352"></span><span class="hs-comment">-- represent a type context</span><span>
</span><span id="line-1353"></span><span class="hs-comment">--</span><span>
</span><span id="line-1354"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLContext"><span class="hs-identifier hs-type">repLContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsContext"><span class="hs-identifier hs-type">LHsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1355"></span><span id="repLContext"><span class="annot"><span class="annottext">repLContext :: Maybe (LHsContext GhcRn) -&gt; MetaM (Core (M Cxt))
</span><a href="GHC.HsToCore.Quote.html#repLContext"><span class="hs-identifier hs-var hs-var">repLContext</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)] -&gt; MetaM (Core (M Cxt))
</span><a href="GHC.HsToCore.Quote.html#repContext"><span class="hs-identifier hs-var">repContext</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1356"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLContext"><span class="hs-identifier hs-var">repLContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683134205"><span class="annot"><span class="annottext">LHsContext GhcRn
</span><a href="#local-6989586621683134205"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)] -&gt; MetaM (Core (M Cxt))
</span><a href="GHC.HsToCore.Quote.html#repContext"><span class="hs-identifier hs-var">repContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnC [GenLocated SrcSpanAnnA (HsType GhcRn)]
-&gt; [GenLocated SrcSpanAnnA (HsType GhcRn)]
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsContext GhcRn
GenLocated SrcSpanAnnC [GenLocated SrcSpanAnnA (HsType GhcRn)]
</span><a href="#local-6989586621683134205"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1357"></span><span>
</span><span id="line-1358"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repContext"><span class="hs-identifier hs-type">repContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsContext"><span class="hs-identifier hs-type">HsContext</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1359"></span><span id="repContext"><span class="annot"><span class="annottext">repContext :: [XRec GhcRn (HsType GhcRn)] -&gt; MetaM (Core (M Cxt))
</span><a href="GHC.HsToCore.Quote.html#repContext"><span class="hs-identifier hs-var hs-var">repContext</span></a></span></span><span> </span><span id="local-6989586621683134206"><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
</span><a href="#local-6989586621683134206"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683134207"><span class="annot"><a href="#local-6989586621683134207"><span class="hs-identifier hs-var">preds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated SrcSpanAnnA (HsType GhcRn) -&gt; MetaM (Core (M Type)))
-&gt; [GenLocated SrcSpanAnnA (HsType GhcRn)]
-&gt; MetaM (Core [M Type])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-var">repListM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#typeTyConName"><span class="hs-identifier hs-var">typeTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
GenLocated SrcSpanAnnA (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
[GenLocated SrcSpanAnnA (HsType GhcRn)]
</span><a href="#local-6989586621683134206"><span class="hs-identifier hs-var">ctxt</span></a></span><span>
</span><span id="line-1360"></span><span>                     </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repCtxt"><span class="hs-identifier hs-type">repCtxt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134207"><span class="hs-identifier hs-type">preds</span></a></span><span>
</span><span id="line-1361"></span><span>
</span><span id="line-1362"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repHsSigType"><span class="hs-identifier hs-type">repHsSigType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1363"></span><span id="repHsSigType"><span class="annot"><span class="annottext">repHsSigType :: LHsSigType GhcRn -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repHsSigType"><span class="hs-identifier hs-var hs-var">repHsSigType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsSig"><span class="hs-identifier hs-type">HsSig</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sig_bndrs :: forall pass. HsSigType pass -&gt; HsOuterSigTyVarBndrs pass
</span><a href="Language.Haskell.Syntax.Type.html#sig_bndrs"><span class="hs-identifier hs-var">sig_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134209"><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
</span><a href="#local-6989586621683134209"><span class="hs-identifier hs-var">outer_bndrs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sig_body :: forall pass. HsSigType pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#sig_body"><span class="hs-identifier hs-var">sig_body</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134210"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134210"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1364"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134211"><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683134211"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683134212"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134212"><span class="hs-identifier hs-var">tau</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
-&gt; (Maybe (LHsContext GhcRn), XRec GhcRn (HsType GhcRn))
forall (pass :: Pass).
LHsType (GhcPass pass)
-&gt; (Maybe (LHsContext (GhcPass pass)), LHsType (GhcPass pass))
</span><a href="GHC.Hs.Type.html#splitLHsQualTy"><span class="hs-identifier hs-var">splitLHsQualTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134210"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-1365"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
-&gt; (Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M Type)))
-&gt; MetaM (Core (M Type))
forall {k} (a :: k).
HsOuterSigTyVarBndrs GhcRn
-&gt; (Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addHsOuterSigTyVarBinds"><span class="hs-identifier hs-var">addHsOuterSigTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsOuterSigTyVarBndrs GhcRn
</span><a href="#local-6989586621683134209"><span class="hs-identifier hs-var">outer_bndrs</span></a></span><span> </span><span class="annot"><span class="annottext">((Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M Type)))
 -&gt; MetaM (Core (M Type)))
-&gt; (Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M Type)))
-&gt; MetaM (Core (M Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621683134213"><span class="annot"><span class="annottext">Core [M (TyVarBndr Specificity)]
</span><a href="#local-6989586621683134213"><span class="hs-identifier hs-var">th_outer_bndrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1366"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134214"><span class="annot"><a href="#local-6989586621683134214"><span class="hs-identifier hs-var">th_ctxt</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn) -&gt; MetaM (Core (M Cxt))
</span><a href="GHC.HsToCore.Quote.html#repLContext"><span class="hs-identifier hs-var">repLContext</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683134211"><span class="hs-identifier hs-var">ctxt</span></a></span><span>
</span><span id="line-1367"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134215"><span class="annot"><a href="#local-6989586621683134215"><span class="hs-identifier hs-var">th_tau</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134212"><span class="hs-identifier hs-type">tau</span></a></span><span>
</span><span id="line-1368"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#nullOuterExplicit"><span class="hs-identifier hs-type">nullOuterExplicit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134209"><span class="hs-identifier hs-type">outer_bndrs</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&amp;&amp;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">null</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Type.html#fromMaybeContext"><span class="hs-identifier hs-type">fromMaybeContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134211"><span class="hs-identifier hs-type">ctxt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1369"></span><span>         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="#local-6989586621683134215"><span class="hs-identifier hs-type">th_tau</span></a></span><span>
</span><span id="line-1370"></span><span>         </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTForall"><span class="hs-identifier hs-type">repTForall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134213"><span class="hs-identifier hs-type">th_outer_bndrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134214"><span class="hs-identifier hs-type">th_ctxt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134215"><span class="hs-identifier hs-type">th_tau</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1371"></span><span>
</span><span id="line-1372"></span><span class="hs-comment">-- yield the representation of a list of types</span><span>
</span><span id="line-1373"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTys"><span class="hs-identifier hs-type">repLTys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1374"></span><span id="repLTys"><span class="annot"><span class="annottext">repLTys :: [XRec GhcRn (HsType GhcRn)] -&gt; MetaM [Core (M Type)]
</span><a href="GHC.HsToCore.Quote.html#repLTys"><span class="hs-identifier hs-var hs-var">repLTys</span></a></span></span><span> </span><span id="local-6989586621683134216"><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
</span><a href="#local-6989586621683134216"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsType GhcRn) -&gt; MetaM (Core (M Type)))
-&gt; [GenLocated SrcSpanAnnA (HsType GhcRn)] -&gt; MetaM [Core (M Type)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
GenLocated SrcSpanAnnA (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
[GenLocated SrcSpanAnnA (HsType GhcRn)]
</span><a href="#local-6989586621683134216"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-1375"></span><span>
</span><span id="line-1376"></span><span class="hs-comment">-- represent a type</span><span>
</span><span id="line-1377"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1378"></span><span id="repLTy"><span class="annot"><span class="annottext">repLTy :: XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var hs-var">repLTy</span></a></span></span><span> </span><span id="local-6989586621683134217"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134217"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsType GhcRn -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcRn) -&gt; HsType GhcRn
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
GenLocated SrcSpanAnnA (HsType GhcRn)
</span><a href="#local-6989586621683134217"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1379"></span><span>
</span><span id="line-1380"></span><span class="hs-comment">-- Desugar a type headed by an invisible forall (e.g., @forall a. a@) or</span><span>
</span><span id="line-1381"></span><span class="hs-comment">-- a context (e.g., @Show a =&gt; a@) into a ForallT from L.H.TH.Syntax.</span><span>
</span><span id="line-1382"></span><span class="hs-comment">-- In other words, the argument to this function is always an</span><span>
</span><span id="line-1383"></span><span class="hs-comment">-- @HsForAllTy HsForAllInvis{}@ or @HsQualTy@.</span><span>
</span><span id="line-1384"></span><span class="hs-comment">-- Types headed by visible foralls (which are desugared to ForallVisT) are</span><span>
</span><span id="line-1385"></span><span class="hs-comment">-- handled separately in repTy.</span><span>
</span><span id="line-1386"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repForallT"><span class="hs-identifier hs-type">repForallT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1387"></span><span id="repForallT"><span class="annot"><span class="annottext">repForallT :: HsType GhcRn -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repForallT"><span class="hs-identifier hs-var hs-var">repForallT</span></a></span></span><span> </span><span id="local-6989586621683134220"><span class="annot"><span class="annottext">HsType GhcRn
</span><a href="#local-6989586621683134220"><span class="hs-identifier hs-var">ty</span></a></span></span><span>
</span><span id="line-1388"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134221"><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcRn]
</span><a href="#local-6989586621683134221"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683134222"><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683134222"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683134223"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134223"><span class="hs-identifier hs-var">tau</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
-&gt; ([LHsTyVarBndr Specificity GhcRn], Maybe (LHsContext GhcRn),
    XRec GhcRn (HsType GhcRn))
forall (p :: Pass).
LHsType (GhcPass p)
-&gt; ([LHsTyVarBndr Specificity (GhcPass p)],
    Maybe (LHsContext (GhcPass p)), LHsType (GhcPass p))
</span><a href="GHC.Hs.Type.html#splitLHsSigmaTyInvis"><span class="hs-identifier hs-var">splitLHsSigmaTyInvis</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsType GhcRn -&gt; GenLocated SrcSpanAnnA (HsType GhcRn)
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">HsType GhcRn
</span><a href="#local-6989586621683134220"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1389"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
-&gt; [LHsTyVarBndr Specificity GhcRn]
-&gt; (Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M Type)))
-&gt; MetaM (Core (M Type))
forall {k} flag flag' (a :: k).
RepTV flag flag' =&gt;
FreshOrReuse
-&gt; [LHsTyVarBndr flag GhcRn]
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addHsTyVarBinds"><span class="hs-identifier hs-var">addHsTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-var">FreshNamesOnly</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcRn]
</span><a href="#local-6989586621683134221"><span class="hs-identifier hs-var">tvs</span></a></span><span> </span><span class="annot"><span class="annottext">((Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M Type)))
 -&gt; MetaM (Core (M Type)))
-&gt; (Core [M (TyVarBndr Specificity)] -&gt; MetaM (Core (M Type)))
-&gt; MetaM (Core (M Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621683134226"><span class="annot"><span class="annottext">Core [M (TyVarBndr Specificity)]
</span><a href="#local-6989586621683134226"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1390"></span><span>   </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134227"><span class="annot"><a href="#local-6989586621683134227"><span class="hs-identifier hs-var">ctxt1</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn) -&gt; MetaM (Core (M Cxt))
</span><a href="GHC.HsToCore.Quote.html#repLContext"><span class="hs-identifier hs-var">repLContext</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsContext GhcRn)
</span><a href="#local-6989586621683134222"><span class="hs-identifier hs-var">ctxt</span></a></span><span>
</span><span id="line-1391"></span><span>      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134228"><span class="annot"><a href="#local-6989586621683134228"><span class="hs-identifier hs-var">tau1</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134223"><span class="hs-identifier hs-type">tau</span></a></span><span>
</span><span id="line-1392"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTForall"><span class="hs-identifier hs-type">repTForall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134226"><span class="hs-identifier hs-type">bndrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134227"><span class="hs-identifier hs-type">ctxt1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134228"><span class="hs-identifier hs-type">tau1</span></a></span><span> </span><span class="hs-comment">-- forall a. C a =&gt; {...}</span><span>
</span><span id="line-1393"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-1394"></span><span>
</span><span id="line-1395"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-type">repTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1396"></span><span id="repTy"><span class="annot"><span class="annottext">repTy :: HsType GhcRn -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var hs-var">repTy</span></a></span></span><span> </span><span id="local-6989586621683134229"><span class="annot"><span class="annottext">ty :: HsType GhcRn
</span><a href="#local-6989586621683134229"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsForAllTy"><span class="hs-identifier hs-type">HsForAllTy</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hst_tele :: forall pass. HsType pass -&gt; HsForAllTelescope pass
</span><a href="Language.Haskell.Syntax.Type.html#hst_tele"><span class="hs-identifier hs-var">hst_tele</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134232"><span class="annot"><span class="annottext">HsForAllTelescope GhcRn
</span><a href="#local-6989586621683134232"><span class="hs-identifier hs-var">tele</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">hst_body :: forall pass. HsType pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#hst_body"><span class="hs-identifier hs-var">hst_body</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134234"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134234"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1397"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsForAllTelescope GhcRn
</span><a href="#local-6989586621683134232"><span class="hs-identifier hs-var">tele</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1398"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsForAllInvis"><span class="hs-identifier hs-type">HsForAllInvis</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType GhcRn -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repForallT"><span class="hs-identifier hs-var">repForallT</span></a></span><span> </span><span class="annot"><span class="annottext">HsType GhcRn
</span><a href="#local-6989586621683134229"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1399"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsForAllVis"><span class="hs-identifier hs-type">HsForAllVis</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hsf_vis_bndrs :: forall pass. HsForAllTelescope pass -&gt; [LHsTyVarBndr () pass]
</span><a href="Language.Haskell.Syntax.Type.html#hsf_vis_bndrs"><span class="hs-identifier hs-var">hsf_vis_bndrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134238"><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcRn]
</span><a href="#local-6989586621683134238"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1400"></span><span>      </span><span class="annot"><span class="annottext">FreshOrReuse
-&gt; [LHsTyVarBndr () GhcRn]
-&gt; (Core [M (TyVarBndr ())] -&gt; MetaM (Core (M Type)))
-&gt; MetaM (Core (M Type))
forall {k} flag flag' (a :: k).
RepTV flag flag' =&gt;
FreshOrReuse
-&gt; [LHsTyVarBndr flag GhcRn]
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addHsTyVarBinds"><span class="hs-identifier hs-var">addHsTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-var">FreshNamesOnly</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcRn]
</span><a href="#local-6989586621683134238"><span class="hs-identifier hs-var">tvs</span></a></span><span> </span><span class="annot"><span class="annottext">((Core [M (TyVarBndr ())] -&gt; MetaM (Core (M Type)))
 -&gt; MetaM (Core (M Type)))
-&gt; (Core [M (TyVarBndr ())] -&gt; MetaM (Core (M Type)))
-&gt; MetaM (Core (M Type))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621683134239"><span class="annot"><span class="annottext">Core [M (TyVarBndr ())]
</span><a href="#local-6989586621683134239"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1401"></span><span>      </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683134240"><span class="annot"><a href="#local-6989586621683134240"><span class="hs-identifier hs-var">body1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134234"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-1402"></span><span>         </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTForallVis"><span class="hs-identifier hs-type">repTForallVis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134239"><span class="hs-identifier hs-type">bndrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134240"><span class="hs-identifier hs-type">body1</span></a></span><span>
</span><span id="line-1403"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span id="local-6989586621683134242"><span class="annot"><span class="annottext">ty :: HsType GhcRn
</span><a href="#local-6989586621683134242"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsQualTy"><span class="hs-identifier hs-type">HsQualTy</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsType GhcRn -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repForallT"><span class="hs-identifier hs-var">repForallT</span></a></span><span> </span><span class="annot"><span class="annottext">HsType GhcRn
</span><a href="#local-6989586621683134242"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1404"></span><span>
</span><span id="line-1405"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyVar"><span class="hs-identifier hs-type">HsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">XTyVar GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134245"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134245"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1406"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134245"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Unique -&gt; Bool
forall a. Uniquable a =&gt; a -&gt; Unique -&gt; Bool
</span><a href="GHC.Types.Unique.html#hasKey"><span class="hs-operator hs-var">`hasKey`</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Names.html#liftedTypeKindTyConKey"><span class="hs-identifier hs-var">liftedTypeKindTyConKey</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTStar"><span class="hs-identifier hs-var">repTStar</span></a></span><span>
</span><span id="line-1407"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134245"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Unique -&gt; Bool
forall a. Uniquable a =&gt; a -&gt; Unique -&gt; Bool
</span><a href="GHC.Types.Unique.html#hasKey"><span class="hs-operator hs-var">`hasKey`</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Names.html#constraintKindTyConKey"><span class="hs-identifier hs-var">constraintKindTyConKey</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTConstraint"><span class="hs-identifier hs-var">repTConstraint</span></a></span><span>
</span><span id="line-1408"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134245"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Unique -&gt; Bool
forall a. Uniquable a =&gt; a -&gt; Unique -&gt; Bool
</span><a href="GHC.Types.Unique.html#hasKey"><span class="hs-operator hs-var">`hasKey`</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Names.html#unrestrictedFunTyConKey"><span class="hs-identifier hs-var">unrestrictedFunTyConKey</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repArrowTyCon"><span class="hs-identifier hs-var">repArrowTyCon</span></a></span><span>
</span><span id="line-1409"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134245"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Unique -&gt; Bool
forall a. Uniquable a =&gt; a -&gt; Unique -&gt; Bool
</span><a href="GHC.Types.Unique.html#hasKey"><span class="hs-operator hs-var">`hasKey`</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Names.html#fUNTyConKey"><span class="hs-identifier hs-var">fUNTyConKey</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repMulArrowTyCon"><span class="hs-identifier hs-var">repMulArrowTyCon</span></a></span><span>
</span><span id="line-1410"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134245"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Unique -&gt; Bool
forall a. Uniquable a =&gt; a -&gt; Unique -&gt; Bool
</span><a href="GHC.Types.Unique.html#hasKey"><span class="hs-operator hs-var">`hasKey`</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Names.html#eqTyConKey"><span class="hs-identifier hs-var">eqTyConKey</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTequality"><span class="hs-identifier hs-var">repTequality</span></a></span><span>
</span><span id="line-1411"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier hs-var">isVarNameSpace</span></a></span><span>     </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621683134258"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683134259"><span class="annot"><a href="#local-6989586621683134259"><span class="hs-identifier hs-var">tv1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupOcc"><span class="hs-identifier hs-var">lookupOcc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134245"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1412"></span><span>                               </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTvar"><span class="hs-identifier hs-type">repTvar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134259"><span class="hs-identifier hs-type">tv1</span></a></span><span>
</span><span id="line-1413"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataConNameSpace"><span class="hs-identifier hs-var">isDataConNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621683134258"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683134263"><span class="annot"><a href="#local-6989586621683134263"><span class="hs-identifier hs-var">dc1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupOcc"><span class="hs-identifier hs-var">lookupOcc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134245"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1414"></span><span>                               </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPromotedDataCon"><span class="hs-identifier hs-type">repPromotedDataCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134263"><span class="hs-identifier hs-type">dc1</span></a></span><span>
</span><span id="line-1415"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcClsNameSpace"><span class="hs-identifier hs-var">isTcClsNameSpace</span></a></span><span>   </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621683134258"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683134266"><span class="annot"><a href="#local-6989586621683134266"><span class="hs-identifier hs-var">tc1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupOcc"><span class="hs-identifier hs-var">lookupOcc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134245"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1416"></span><span>                               </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNamedTyCon"><span class="hs-identifier hs-type">repNamedTyCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134266"><span class="hs-identifier hs-type">tc1</span></a></span><span>
</span><span id="line-1417"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; MetaM (Core (M Type))
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;repTy: HsTyVar: unknown namespace&quot;</span></span><span>
</span><span id="line-1418"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1419"></span><span>    </span><span id="local-6989586621683134267"><span class="annot"><span class="annottext">occ :: OccName
</span><a href="#local-6989586621683134267"><span class="hs-identifier hs-var hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134245"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1420"></span><span>    </span><span id="local-6989586621683134258"><span class="annot"><span class="annottext">ns :: NameSpace
</span><a href="#local-6989586621683134258"><span class="hs-identifier hs-var hs-var">ns</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#occNameSpace"><span class="hs-identifier hs-var">occNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683134267"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-1421"></span><span>
</span><span id="line-1422"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsAppTy"><span class="hs-identifier hs-type">HsAppTy</span></a></span><span> </span><span class="annot"><span class="annottext">XAppTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134271"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134271"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621683134272"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134272"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1423"></span><span>                                </span><span id="local-6989586621683134273"><span class="annot"><a href="#local-6989586621683134273"><span class="hs-identifier hs-var">f1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134271"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-1424"></span><span>                                </span><span id="local-6989586621683134274"><span class="annot"><a href="#local-6989586621683134274"><span class="hs-identifier hs-var">a1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134272"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1425"></span><span>                                </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapp"><span class="hs-identifier hs-type">repTapp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134273"><span class="hs-identifier hs-type">f1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134274"><span class="hs-identifier hs-type">a1</span></a></span><span>
</span><span id="line-1426"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsAppKindTy"><span class="hs-identifier hs-type">HsAppKindTy</span></a></span><span> </span><span class="annot"><span class="annottext">XAppKindTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134276"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134276"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621683134277"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134277"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1427"></span><span>                                </span><span id="local-6989586621683134278"><span class="annot"><a href="#local-6989586621683134278"><span class="hs-identifier hs-var">ty1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134276"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1428"></span><span>                                </span><span id="local-6989586621683134279"><span class="annot"><a href="#local-6989586621683134279"><span class="hs-identifier hs-var">ki1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134277"><span class="hs-identifier hs-type">ki</span></a></span><span>
</span><span id="line-1429"></span><span>                                </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTappKind"><span class="hs-identifier hs-type">repTappKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134278"><span class="hs-identifier hs-type">ty1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134279"><span class="hs-identifier hs-type">ki1</span></a></span><span>
</span><span id="line-1430"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsFunTy"><span class="hs-identifier hs-type">HsFunTy</span></a></span><span> </span><span class="annot"><span class="annottext">XFunTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134281"><span class="annot"><span class="annottext">HsArrow GhcRn
</span><a href="#local-6989586621683134281"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621683134282"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134282"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621683134283"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134283"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">HsArrow GhcRn -&gt; Bool
</span><a href="GHC.Hs.Type.html#isUnrestricted"><span class="hs-identifier hs-var">isUnrestricted</span></a></span><span> </span><span class="annot"><span class="annottext">HsArrow GhcRn
</span><a href="#local-6989586621683134281"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1431"></span><span>                                </span><span id="local-6989586621683134285"><span class="annot"><a href="#local-6989586621683134285"><span class="hs-identifier hs-var">f1</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134282"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-1432"></span><span>                                </span><span id="local-6989586621683134286"><span class="annot"><a href="#local-6989586621683134286"><span class="hs-identifier hs-var">a1</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134283"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1433"></span><span>                                </span><span id="local-6989586621683134287"><span class="annot"><a href="#local-6989586621683134287"><span class="hs-identifier hs-var">tcon</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repArrowTyCon"><span class="hs-identifier hs-type">repArrowTyCon</span></a></span><span>
</span><span id="line-1434"></span><span>                                </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapps"><span class="hs-identifier hs-type">repTapps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134287"><span class="hs-identifier hs-type">tcon</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683134285"><span class="hs-identifier hs-type">f1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134286"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1435"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsFunTy"><span class="hs-identifier hs-type">HsFunTy</span></a></span><span> </span><span class="annot"><span class="annottext">XFunTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134289"><span class="annot"><span class="annottext">HsArrow GhcRn
</span><a href="#local-6989586621683134289"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621683134290"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134290"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621683134291"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134291"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683134292"><span class="annot"><a href="#local-6989586621683134292"><span class="hs-identifier hs-var">w1</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsArrow GhcRn -&gt; XRec GhcRn (HsType GhcRn)
</span><a href="GHC.Hs.Type.html#arrowToHsType"><span class="hs-identifier hs-var">arrowToHsType</span></a></span><span> </span><span class="annot"><span class="annottext">HsArrow GhcRn
</span><a href="#local-6989586621683134289"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1436"></span><span>                             </span><span id="local-6989586621683134294"><span class="annot"><a href="#local-6989586621683134294"><span class="hs-identifier hs-var">f1</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134290"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-1437"></span><span>                             </span><span id="local-6989586621683134295"><span class="annot"><a href="#local-6989586621683134295"><span class="hs-identifier hs-var">a1</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134291"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1438"></span><span>                             </span><span id="local-6989586621683134296"><span class="annot"><a href="#local-6989586621683134296"><span class="hs-identifier hs-var">tcon</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMulArrowTyCon"><span class="hs-identifier hs-type">repMulArrowTyCon</span></a></span><span>
</span><span id="line-1439"></span><span>                             </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapps"><span class="hs-identifier hs-type">repTapps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134296"><span class="hs-identifier hs-type">tcon</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683134292"><span class="hs-identifier hs-type">w1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134294"><span class="hs-identifier hs-type">f1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134295"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1440"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsListTy"><span class="hs-identifier hs-type">HsListTy</span></a></span><span> </span><span class="annot"><span class="annottext">XListTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134298"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134298"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1441"></span><span>                                </span><span id="local-6989586621683134299"><span class="annot"><a href="#local-6989586621683134299"><span class="hs-identifier hs-var">t1</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134298"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1442"></span><span>                                </span><span id="local-6989586621683134300"><span class="annot"><a href="#local-6989586621683134300"><span class="hs-identifier hs-var">tcon</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repListTyCon"><span class="hs-identifier hs-type">repListTyCon</span></a></span><span>
</span><span id="line-1443"></span><span>                                </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapp"><span class="hs-identifier hs-type">repTapp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134300"><span class="hs-identifier hs-type">tcon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134299"><span class="hs-identifier hs-type">t1</span></a></span><span>
</span><span id="line-1444"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTupleTy"><span class="hs-identifier hs-type">HsTupleTy</span></a></span><span> </span><span class="annot"><span class="annottext">XTupleTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsTupleSort
</span><a href="Language.Haskell.Syntax.Type.html#HsUnboxedTuple"><span class="hs-identifier hs-var">HsUnboxedTuple</span></a></span><span> </span><span id="local-6989586621683134304"><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
</span><a href="#local-6989586621683134304"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1445"></span><span>                                </span><span id="local-6989586621683134305"><span class="annot"><a href="#local-6989586621683134305"><span class="hs-identifier hs-var">tys1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)] -&gt; MetaM [Core (M Type)]
</span><a href="GHC.HsToCore.Quote.html#repLTys"><span class="hs-identifier hs-var">repLTys</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
</span><a href="#local-6989586621683134304"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-1446"></span><span>                                </span><span id="local-6989586621683134306"><span class="annot"><a href="#local-6989586621683134306"><span class="hs-identifier hs-var">tcon</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repUnboxedTupleTyCon"><span class="hs-identifier hs-type">repUnboxedTupleTyCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">length</span></span><span> </span><span class="annot"><a href="#local-6989586621683134304"><span class="hs-identifier hs-type">tys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1447"></span><span>                                </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapps"><span class="hs-identifier hs-type">repTapps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134306"><span class="hs-identifier hs-type">tcon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134305"><span class="hs-identifier hs-type">tys1</span></a></span><span>
</span><span id="line-1448"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTupleTy"><span class="hs-identifier hs-type">HsTupleTy</span></a></span><span> </span><span class="annot"><span class="annottext">XTupleTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsTupleSort
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134309"><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
</span><a href="#local-6989586621683134309"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683134310"><span class="annot"><a href="#local-6989586621683134310"><span class="hs-identifier hs-var">tys1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)] -&gt; MetaM [Core (M Type)]
</span><a href="GHC.HsToCore.Quote.html#repLTys"><span class="hs-identifier hs-var">repLTys</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
</span><a href="#local-6989586621683134309"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-1449"></span><span>                                 </span><span id="local-6989586621683134311"><span class="annot"><a href="#local-6989586621683134311"><span class="hs-identifier hs-var">tcon</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTupleTyCon"><span class="hs-identifier hs-type">repTupleTyCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">length</span></span><span> </span><span class="annot"><a href="#local-6989586621683134309"><span class="hs-identifier hs-type">tys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1450"></span><span>                                 </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapps"><span class="hs-identifier hs-type">repTapps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134311"><span class="hs-identifier hs-type">tcon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134310"><span class="hs-identifier hs-type">tys1</span></a></span><span>
</span><span id="line-1451"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsSumTy"><span class="hs-identifier hs-type">HsSumTy</span></a></span><span> </span><span class="annot"><span class="annottext">XSumTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134314"><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
</span><a href="#local-6989586621683134314"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683134315"><span class="annot"><a href="#local-6989586621683134315"><span class="hs-identifier hs-var">tys1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)] -&gt; MetaM [Core (M Type)]
</span><a href="GHC.HsToCore.Quote.html#repLTys"><span class="hs-identifier hs-var">repLTys</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
</span><a href="#local-6989586621683134314"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-1452"></span><span>                                 </span><span id="local-6989586621683134316"><span class="annot"><a href="#local-6989586621683134316"><span class="hs-identifier hs-var">tcon</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repUnboxedSumTyCon"><span class="hs-identifier hs-type">repUnboxedSumTyCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">length</span></span><span> </span><span class="annot"><a href="#local-6989586621683134314"><span class="hs-identifier hs-type">tys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1453"></span><span>                                 </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapps"><span class="hs-identifier hs-type">repTapps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134316"><span class="hs-identifier hs-type">tcon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134315"><span class="hs-identifier hs-type">tys1</span></a></span><span>
</span><span id="line-1454"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsOpTy"><span class="hs-identifier hs-type">HsOpTy</span></a></span><span> </span><span class="annot"><span class="annottext">XOpTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134319"><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621683134319"><span class="hs-identifier hs-var">prom</span></a></span></span><span> </span><span id="local-6989586621683134320"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134320"><span class="hs-identifier hs-var">ty1</span></a></span></span><span> </span><span id="local-6989586621683134321"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683134321"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621683134322"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134322"><span class="hs-identifier hs-var">ty2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">PromotionFlag -&gt; IdP GhcRn -&gt; XRec GhcRn (HsType GhcRn)
forall (p :: Pass) a.
IsSrcSpanAnn p a =&gt;
PromotionFlag -&gt; IdP (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsTyVar"><span class="hs-identifier hs-var">nlHsTyVar</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><a href="#local-6989586621683134319"><span class="hs-identifier hs-var">prom</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683134321"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
-&gt; XRec GhcRn (HsType GhcRn) -&gt; XRec GhcRn (HsType GhcRn)
forall (p :: Pass).
LHsType (GhcPass p) -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsAppTy"><span class="hs-operator hs-var">`nlHsAppTy`</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134320"><span class="hs-identifier hs-var">ty1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1455"></span><span>                                   </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
-&gt; XRec GhcRn (HsType GhcRn) -&gt; XRec GhcRn (HsType GhcRn)
forall (p :: Pass).
LHsType (GhcPass p) -&gt; LHsType (GhcPass p) -&gt; LHsType (GhcPass p)
</span><a href="GHC.Hs.Utils.html#nlHsAppTy"><span class="hs-operator hs-var">`nlHsAppTy`</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134322"><span class="hs-identifier hs-var">ty2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1456"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsParTy"><span class="hs-identifier hs-type">HsParTy</span></a></span><span> </span><span class="annot"><span class="annottext">XParTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134326"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134326"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134326"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1457"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsStarTy"><span class="hs-identifier hs-type">HsStarTy</span></a></span><span> </span><span class="annot"><span class="annottext">XStarTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTStar"><span class="hs-identifier hs-var">repTStar</span></a></span><span>
</span><span id="line-1458"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsKindSig"><span class="hs-identifier hs-type">HsKindSig</span></a></span><span> </span><span class="annot"><span class="annottext">XKindSig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134329"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134329"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621683134330"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134330"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1459"></span><span>                                </span><span id="local-6989586621683134331"><span class="annot"><a href="#local-6989586621683134331"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134329"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1460"></span><span>                                </span><span id="local-6989586621683134332"><span class="annot"><a href="#local-6989586621683134332"><span class="hs-identifier hs-var">k1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134330"><span class="hs-identifier hs-type">k</span></a></span><span>
</span><span id="line-1461"></span><span>                                </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTSig"><span class="hs-identifier hs-type">repTSig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134331"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134332"><span class="hs-identifier hs-type">k1</span></a></span><span>
</span><span id="line-1462"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsSpliceTy"><span class="hs-identifier hs-type">HsSpliceTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsUntypedSpliceNested"><span class="hs-identifier hs-type">HsUntypedSpliceNested</span></a></span><span> </span><span id="local-6989586621683134336"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134336"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsUntypedSplice GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep_splice"><span class="hs-identifier hs-var">rep_splice</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134336"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1463"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span id="local-6989586621683134338"><span class="annot"><span class="annottext">t :: HsType GhcRn
</span><a href="#local-6989586621683134338"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsSpliceTy"><span class="hs-identifier hs-type">HsSpliceTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsUntypedSpliceTop"><span class="hs-identifier hs-type">HsUntypedSpliceTop</span></a></span><span> </span><span class="annot"><span class="annottext">ThModFinalizers
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsType GhcRn)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsUntypedSplice GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; MetaM (Core (M Type))
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;repTy: top level splice&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsType GhcRn -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsType GhcRn
</span><a href="#local-6989586621683134338"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1464"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsExplicitListTy"><span class="hs-identifier hs-type">HsExplicitListTy</span></a></span><span> </span><span class="annot"><span class="annottext">XExplicitListTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134341"><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
</span><a href="#local-6989586621683134341"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1465"></span><span>                                    </span><span id="local-6989586621683134342"><span class="annot"><a href="#local-6989586621683134342"><span class="hs-identifier hs-var">tys1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)] -&gt; MetaM [Core (M Type)]
</span><a href="GHC.HsToCore.Quote.html#repLTys"><span class="hs-identifier hs-var">repLTys</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
</span><a href="#local-6989586621683134341"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-1466"></span><span>                                    </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTPromotedList"><span class="hs-identifier hs-type">repTPromotedList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134342"><span class="hs-identifier hs-type">tys1</span></a></span><span>
</span><span id="line-1467"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsExplicitTupleTy"><span class="hs-identifier hs-type">HsExplicitTupleTy</span></a></span><span> </span><span class="annot"><span class="annottext">XExplicitTupleTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PromotionFlag
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134345"><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
</span><a href="#local-6989586621683134345"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1468"></span><span>                                    </span><span id="local-6989586621683134346"><span class="annot"><a href="#local-6989586621683134346"><span class="hs-identifier hs-var">tys1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)] -&gt; MetaM [Core (M Type)]
</span><a href="GHC.HsToCore.Quote.html#repLTys"><span class="hs-identifier hs-var">repLTys</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec GhcRn (HsType GhcRn)]
</span><a href="#local-6989586621683134345"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-1469"></span><span>                                    </span><span id="local-6989586621683134347"><span class="annot"><a href="#local-6989586621683134347"><span class="hs-identifier hs-var">tcon</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPromotedTupleTyCon"><span class="hs-identifier hs-type">repPromotedTupleTyCon</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">length</span></span><span> </span><span class="annot"><a href="#local-6989586621683134345"><span class="hs-identifier hs-type">tys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1470"></span><span>                                    </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapps"><span class="hs-identifier hs-type">repTapps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134347"><span class="hs-identifier hs-type">tcon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134346"><span class="hs-identifier hs-type">tys1</span></a></span><span>
</span><span id="line-1471"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyLit"><span class="hs-identifier hs-type">HsTyLit</span></a></span><span> </span><span class="annot"><span class="annottext">XTyLit GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134350"><span class="annot"><span class="annottext">HsTyLit GhcRn
</span><a href="#local-6989586621683134350"><span class="hs-identifier hs-var">lit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1472"></span><span>                          </span><span id="local-6989586621683134351"><span class="annot"><a href="#local-6989586621683134351"><span class="hs-identifier hs-var">lit'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsTyLit GhcRn -&gt; MetaM (Core (M TyLit))
forall (p :: Pass). HsTyLit (GhcPass p) -&gt; MetaM (Core (M TyLit))
</span><a href="GHC.HsToCore.Quote.html#repTyLit"><span class="hs-identifier hs-var">repTyLit</span></a></span><span> </span><span class="annot"><span class="annottext">HsTyLit GhcRn
</span><a href="#local-6989586621683134350"><span class="hs-identifier hs-var">lit</span></a></span><span>
</span><span id="line-1473"></span><span>                          </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTLit"><span class="hs-identifier hs-type">repTLit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134351"><span class="hs-identifier hs-type">lit'</span></a></span><span>
</span><span id="line-1474"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsWildCardTy"><span class="hs-identifier hs-type">HsWildCardTy</span></a></span><span> </span><span class="annot"><span class="annottext">XWildCardTy GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTWildCard"><span class="hs-identifier hs-var">repTWildCard</span></a></span><span>
</span><span id="line-1475"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsIParamTy"><span class="hs-identifier hs-type">HsIParamTy</span></a></span><span> </span><span class="annot"><span class="annottext">XIParamTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134357"><span class="annot"><span class="annottext">XRec GhcRn HsIPName
</span><a href="#local-6989586621683134357"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621683134358"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683134358"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1476"></span><span>                             </span><span id="local-6989586621683134359"><span class="annot"><a href="#local-6989586621683134359"><span class="hs-identifier hs-var">n'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsIPName -&gt; ReaderT MetaWrappers DsM (Core String)
</span><a href="GHC.HsToCore.Quote.html#rep_implicit_param_name"><span class="hs-identifier hs-var">rep_implicit_param_name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated EpAnnCO HsIPName -&gt; HsIPName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn HsIPName
GenLocated EpAnnCO HsIPName
</span><a href="#local-6989586621683134357"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1477"></span><span>                             </span><span id="local-6989586621683134361"><span class="annot"><a href="#local-6989586621683134361"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134358"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-1478"></span><span>                             </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTImplicitParam"><span class="hs-identifier hs-type">repTImplicitParam</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134359"><span class="hs-identifier hs-type">n'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134361"><span class="hs-identifier hs-type">t'</span></a></span><span>
</span><span id="line-1479"></span><span>
</span><span id="line-1480"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-var">repTy</span></a></span><span> </span><span id="local-6989586621683134363"><span class="annot"><span class="annottext">HsType GhcRn
</span><a href="#local-6989586621683134363"><span class="hs-identifier hs-var">ty</span></a></span></span><span>                      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core (M Type))
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsType GhcRn -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThExoticFormOfType"><span class="hs-identifier hs-var">ThExoticFormOfType</span></a></span><span> </span><span class="annot"><span class="annottext">HsType GhcRn
</span><a href="#local-6989586621683134363"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1481"></span><span>
</span><span id="line-1482"></span><span id="local-6989586621683131669"><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyLit"><span class="hs-identifier hs-type">repTyLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsTyLit"><span class="hs-identifier hs-type">HsTyLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131669"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.TyLit</span></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-1483"></span><span id="repTyLit"><span class="annot"><span class="annottext">repTyLit :: forall (p :: Pass). HsTyLit (GhcPass p) -&gt; MetaM (Core (M TyLit))
</span><a href="GHC.HsToCore.Quote.html#repTyLit"><span class="hs-identifier hs-var hs-var">repTyLit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsNumTy"><span class="hs-identifier hs-type">HsNumTy</span></a></span><span> </span><span class="annot"><span class="annottext">XNumTy (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134371"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683134371"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1484"></span><span>                         </span><span id="local-6989586621683134372"><span class="annot"><a href="#local-6989586621683134372"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MetaM Platform
</span><a href="GHC.HsToCore.Quote.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-1485"></span><span>                         </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#numTyLitName"><span class="hs-identifier hs-type">numTyLitName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.Make.html#mkIntegerExpr"><span class="hs-identifier hs-type">mkIntegerExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134372"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134371"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1486"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyLit"><span class="hs-identifier hs-var">repTyLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsStrTy"><span class="hs-identifier hs-type">HsStrTy</span></a></span><span> </span><span class="annot"><span class="annottext">XStrTy (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134376"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683134376"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134377"><span class="annot"><a href="#local-6989586621683134377"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReaderT MetaWrappers DsM CoreExpr
forall (m :: * -&gt; *). MonadThings m =&gt; FastString -&gt; m CoreExpr
</span><a href="GHC.Core.Make.html#mkStringExprFS"><span class="hs-identifier hs-var">mkStringExprFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683134376"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1487"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#strTyLitName"><span class="hs-identifier hs-type">strTyLitName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683134377"><span class="hs-identifier hs-type">s'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1488"></span><span>                            </span><span class="hs-special">}</span><span>
</span><span id="line-1489"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyLit"><span class="hs-identifier hs-var">repTyLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsCharTy"><span class="hs-identifier hs-type">HsCharTy</span></a></span><span> </span><span class="annot"><span class="annottext">XCharTy (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134381"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621683134381"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134382"><span class="annot"><a href="#local-6989586621683134382"><span class="hs-identifier hs-var">c'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CoreExpr -&gt; ReaderT MetaWrappers DsM CoreExpr
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; CoreExpr
</span><a href="GHC.Core.Make.html#mkCharExpr"><span class="hs-identifier hs-var">mkCharExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621683134381"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1490"></span><span>                             </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#charTyLitName"><span class="hs-identifier hs-type">charTyLitName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683134382"><span class="hs-identifier hs-type">c'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1491"></span><span>                             </span><span class="hs-special">}</span><span>
</span><span id="line-1492"></span><span>
</span><span id="line-1493"></span><span class="annot"><span class="hs-comment">-- | Represent a type wrapped in a Maybe</span></span><span>
</span><span id="line-1494"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMaybeLTy"><span class="hs-identifier hs-type">repMaybeLTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsKind"><span class="hs-identifier hs-type">LHsKind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1495"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1496"></span><span id="repMaybeLTy"><span class="annot"><span class="annottext">repMaybeLTy :: Maybe (XRec GhcRn (HsType GhcRn)) -&gt; MetaM (Core (Maybe (M Type)))
</span><a href="GHC.HsToCore.Quote.html#repMaybeLTy"><span class="hs-identifier hs-var hs-var">repMaybeLTy</span></a></span></span><span> </span><span id="local-6989586621683134385"><span class="annot"><span class="annottext">Maybe (XRec GhcRn (HsType GhcRn))
</span><a href="#local-6989586621683134385"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1497"></span><span>  </span><span id="local-6989586621683134386"><span class="annot"><a href="#local-6989586621683134386"><span class="hs-identifier hs-var">k_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#wrapName"><span class="hs-identifier hs-var">wrapName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#kindTyConName"><span class="hs-identifier hs-var">kindTyConName</span></a></span><span>
</span><span id="line-1498"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMaybeT"><span class="hs-identifier hs-type">repMaybeT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134386"><span class="hs-identifier hs-type">k_ty</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134385"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-1499"></span><span>
</span><span id="line-1500"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRole"><span class="hs-identifier hs-type">repRole</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedAn"><span class="hs-identifier hs-type">LocatedAn</span></a></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#NoEpAnns"><span class="hs-identifier hs-type">NoEpAnns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#Role"><span class="hs-identifier hs-type">Role</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Role</span></span><span class="hs-special">)</span><span>
</span><span id="line-1501"></span><span id="repRole"><span class="annot"><span class="annottext">repRole :: LocatedAn NoEpAnns (Maybe Role)
-&gt; ReaderT MetaWrappers DsM (Core Role)
</span><a href="GHC.HsToCore.Quote.html#repRole"><span class="hs-identifier hs-var hs-var">repRole</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="Language.Haskell.Syntax.Basic.html#Nominal"><span class="hs-identifier hs-var">Nominal</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; ReaderT MetaWrappers DsM (Core Role)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#nominalRName"><span class="hs-identifier hs-var">nominalRName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1502"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRole"><span class="hs-identifier hs-var">repRole</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="Language.Haskell.Syntax.Basic.html#Representational"><span class="hs-identifier hs-var">Representational</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; ReaderT MetaWrappers DsM (Core Role)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#representationalRName"><span class="hs-identifier hs-var">representationalRName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1503"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRole"><span class="hs-identifier hs-var">repRole</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">Role
</span><a href="Language.Haskell.Syntax.Basic.html#Phantom"><span class="hs-identifier hs-var">Phantom</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; ReaderT MetaWrappers DsM (Core Role)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#phantomRName"><span class="hs-identifier hs-var">phantomRName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1504"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRole"><span class="hs-identifier hs-var">repRole</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe Role
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; ReaderT MetaWrappers DsM (Core Role)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#inferRName"><span class="hs-identifier hs-var">inferRName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1505"></span><span>
</span><span id="line-1506"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-1507"></span><span class="hs-comment">--              Splices</span><span>
</span><span id="line-1508"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-1509"></span><span>
</span><span id="line-1510"></span><span class="hs-comment">-- See Note [How brackets and nested splices are handled] in GHC.Tc.Gen.Splice</span><span>
</span><span id="line-1511"></span><span class="hs-comment">-- We return a CoreExpr of any old type; the context should know</span><span>
</span><span id="line-1512"></span><span>
</span><span id="line-1513"></span><span id="local-6989586621683134395"><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_splice"><span class="hs-identifier hs-type">rep_splice</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134395"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1514"></span><span id="rep_splice"><span class="annot"><span class="annottext">rep_splice :: forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep_splice"><span class="hs-identifier hs-var hs-var">rep_splice</span></a></span></span><span> </span><span id="local-6989586621683134406"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134406"><span class="hs-identifier hs-var">splice_name</span></a></span></span><span>
</span><span id="line-1515"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134407"><span class="annot"><a href="#local-6989586621683134407"><span class="hs-identifier hs-var">mb_val</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IOEnv (Env DsGblEnv DsLclEnv) (Maybe DsMetaVal)
-&gt; ReaderT MetaWrappers DsM (Maybe DsMetaVal)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(IOEnv (Env DsGblEnv DsLclEnv) (Maybe DsMetaVal)
 -&gt; ReaderT MetaWrappers DsM (Maybe DsMetaVal))
-&gt; IOEnv (Env DsGblEnv DsLclEnv) (Maybe DsMetaVal)
-&gt; ReaderT MetaWrappers DsM (Maybe DsMetaVal)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; IOEnv (Env DsGblEnv DsLclEnv) (Maybe DsMetaVal)
</span><a href="GHC.HsToCore.Monad.html#dsLookupMetaEnv"><span class="hs-identifier hs-var">dsLookupMetaEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134406"><span class="hs-identifier hs-var">splice_name</span></a></span><span>
</span><span id="line-1516"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621683134407"><span class="hs-identifier hs-type">mb_val</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1517"></span><span>           </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Types.html#DsSplice"><span class="hs-identifier hs-type">DsSplice</span></a></span><span> </span><span id="local-6989586621683134409"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621683134409"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134410"><span class="annot"><a href="#local-6989586621683134410"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DsM CoreExpr -&gt; ReaderT MetaWrappers DsM CoreExpr
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(DsM CoreExpr -&gt; ReaderT MetaWrappers DsM CoreExpr)
-&gt; DsM CoreExpr -&gt; ReaderT MetaWrappers DsM CoreExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; DsM CoreExpr
</span><a href="GHC.HsToCore.Expr.html#dsExpr"><span class="hs-identifier hs-var">dsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621683134409"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1518"></span><span>                                   </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134410"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1519"></span><span>           </span><span class="annot"><span class="annottext">Maybe DsMetaVal
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; ReaderT MetaWrappers DsM (Core a)
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;HsSplice&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134406"><span class="hs-identifier hs-var">splice_name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1520"></span><span>                        </span><span class="hs-comment">-- Should not happen; statically checked</span><span>
</span><span id="line-1521"></span><span>
</span><span id="line-1522"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-1523"></span><span class="hs-comment">--              Expressions</span><span>
</span><span id="line-1524"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-1525"></span><span>
</span><span id="line-1526"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLEs"><span class="hs-identifier hs-type">repLEs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1527"></span><span id="repLEs"><span class="annot"><span class="annottext">repLEs :: [LHsExpr GhcRn] -&gt; MetaM (Core [M Exp])
</span><a href="GHC.HsToCore.Quote.html#repLEs"><span class="hs-identifier hs-var hs-var">repLEs</span></a></span></span><span> </span><span id="local-6989586621683134412"><span class="annot"><span class="annottext">[LHsExpr GhcRn]
</span><a href="#local-6989586621683134412"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated SrcSpanAnnA (HsExpr GhcRn) -&gt; MetaM (Core (M Exp)))
-&gt; [GenLocated SrcSpanAnnA (HsExpr GhcRn)]
-&gt; MetaM (Core [M Exp])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-var">repListM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#expTyConName"><span class="hs-identifier hs-var">expTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
GenLocated SrcSpanAnnA (HsExpr GhcRn) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsExpr GhcRn]
[GenLocated SrcSpanAnnA (HsExpr GhcRn)]
</span><a href="#local-6989586621683134412"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-1528"></span><span>
</span><span id="line-1529"></span><span class="hs-comment">-- FIXME: some of these panics should be converted into proper error messages</span><span>
</span><span id="line-1530"></span><span class="hs-comment">--        unless we can make sure that constructs, which are plainly not</span><span>
</span><span id="line-1531"></span><span class="hs-comment">--        supported in TH already lead to error messages at an earlier stage</span><span>
</span><span id="line-1532"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1533"></span><span id="repLE"><span class="annot"><span class="annottext">repLE :: LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var hs-var">repLE</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683134414"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683134414"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683134415"><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134415"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IOEnv (Env DsGblEnv DsLclEnv) (Core (M Exp))
 -&gt; IOEnv (Env DsGblEnv DsLclEnv) (Core (M Exp)))
-&gt; MetaM (Core (M Exp)) -&gt; MetaM (Core (M Exp))
forall (m :: * -&gt; *) a (n :: * -&gt; *) b r.
(m a -&gt; n b) -&gt; ReaderT r m a -&gt; ReaderT r n b
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Reader.html#mapReaderT"><span class="hs-identifier hs-var">mapReaderT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
-&gt; IOEnv (Env DsGblEnv DsLclEnv) (Core (M Exp))
-&gt; IOEnv (Env DsGblEnv DsLclEnv) (Core (M Exp))
forall a. SrcSpan -&gt; DsM a -&gt; DsM a
</span><a href="GHC.HsToCore.Monad.html#putSrcSpanDs"><span class="hs-identifier hs-var">putSrcSpanDs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683134414"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134415"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1534"></span><span>
</span><span id="line-1535"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-type">repE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1536"></span><span id="repE"><span class="annot"><span class="annottext">repE :: HsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var hs-var">repE</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-type">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134418"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134418"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1537"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134419"><span class="annot"><a href="#local-6989586621683134419"><span class="hs-identifier hs-var">mb_val</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IOEnv (Env DsGblEnv DsLclEnv) (Maybe DsMetaVal)
-&gt; ReaderT MetaWrappers DsM (Maybe DsMetaVal)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(IOEnv (Env DsGblEnv DsLclEnv) (Maybe DsMetaVal)
 -&gt; ReaderT MetaWrappers DsM (Maybe DsMetaVal))
-&gt; IOEnv (Env DsGblEnv DsLclEnv) (Maybe DsMetaVal)
-&gt; ReaderT MetaWrappers DsM (Maybe DsMetaVal)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; IOEnv (Env DsGblEnv DsLclEnv) (Maybe DsMetaVal)
</span><a href="GHC.HsToCore.Monad.html#dsLookupMetaEnv"><span class="hs-identifier hs-var">dsLookupMetaEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134418"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1538"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621683134419"><span class="hs-identifier hs-type">mb_val</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1539"></span><span>        </span><span class="annot"><span class="annottext">Maybe DsMetaVal
</span><span class="hs-identifier hs-var">Nothing</span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134420"><span class="annot"><a href="#local-6989586621683134420"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DsM (Core Name) -&gt; MetaM (Core Name)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(DsM (Core Name) -&gt; MetaM (Core Name))
-&gt; DsM (Core Name) -&gt; MetaM (Core Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; DsM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#globalVar"><span class="hs-identifier hs-var">globalVar</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134418"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1540"></span><span>                                 </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repVarOrCon"><span class="hs-identifier hs-type">repVarOrCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134418"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134420"><span class="hs-identifier hs-type">str</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1541"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Types.html#DsBound"><span class="hs-identifier hs-type">DsBound</span></a></span><span> </span><span id="local-6989586621683134424"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683134424"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Core Name -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repVarOrCon"><span class="hs-identifier hs-var">repVarOrCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134418"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Core Name
</span><a href="GHC.HsToCore.Quote.html#coreVar"><span class="hs-identifier hs-var">coreVar</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683134424"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1542"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Types.html#DsSplice"><span class="hs-identifier hs-type">DsSplice</span></a></span><span> </span><span id="local-6989586621683134426"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621683134426"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134427"><span class="annot"><a href="#local-6989586621683134427"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DsM CoreExpr -&gt; ReaderT MetaWrappers DsM CoreExpr
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(DsM CoreExpr -&gt; ReaderT MetaWrappers DsM CoreExpr)
-&gt; DsM CoreExpr -&gt; ReaderT MetaWrappers DsM CoreExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; DsM CoreExpr
</span><a href="GHC.HsToCore.Expr.html#dsExpr"><span class="hs-identifier hs-var">dsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621683134426"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1543"></span><span>                                 </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134427"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1544"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsIPVar"><span class="hs-identifier hs-type">HsIPVar</span></a></span><span> </span><span class="annot"><span class="annottext">XIPVar GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134429"><span class="annot"><span class="annottext">HsIPName
</span><a href="#local-6989586621683134429"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsIPName -&gt; ReaderT MetaWrappers DsM (Core String)
</span><a href="GHC.HsToCore.Quote.html#rep_implicit_param_name"><span class="hs-identifier hs-var">rep_implicit_param_name</span></a></span><span> </span><span class="annot"><span class="annottext">HsIPName
</span><a href="#local-6989586621683134429"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">ReaderT MetaWrappers DsM (Core String)
-&gt; (Core String -&gt; MetaM (Core (M Exp))) -&gt; MetaM (Core (M Exp))
forall a b.
ReaderT MetaWrappers DsM a
-&gt; (a -&gt; ReaderT MetaWrappers DsM b) -&gt; ReaderT MetaWrappers DsM b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Core String -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repImplicitParamVar"><span class="hs-identifier hs-var">repImplicitParamVar</span></a></span><span>
</span><span id="line-1545"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsOverLabel"><span class="hs-identifier hs-type">HsOverLabel</span></a></span><span> </span><span class="annot"><span class="annottext">XOverLabel GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134432"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683134432"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repOverLabel"><span class="hs-identifier hs-var">repOverLabel</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683134432"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1546"></span><span>
</span><span id="line-1547"></span><span>
</span><span id="line-1548"></span><span>        </span><span class="hs-comment">-- Remember, we're desugaring renamer output here, so</span><span>
</span><span id="line-1549"></span><span>        </span><span class="hs-comment">-- HsOverlit can definitely occur</span><span>
</span><span id="line-1550"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsOverLit"><span class="hs-identifier hs-type">HsOverLit</span></a></span><span> </span><span class="annot"><span class="annottext">XOverLitE GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134435"><span class="annot"><span class="annottext">HsOverLit GhcRn
</span><a href="#local-6989586621683134435"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134436"><span class="annot"><a href="#local-6989586621683134436"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcRn -&gt; MetaM (Core Lit)
</span><a href="GHC.HsToCore.Quote.html#repOverloadedLiteral"><span class="hs-identifier hs-var">repOverloadedLiteral</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcRn
</span><a href="#local-6989586621683134435"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLit"><span class="hs-identifier hs-type">repLit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134436"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1551"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><span class="annottext">XLitE GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134440"><span class="annot"><span class="annottext">HsLit GhcRn
</span><a href="#local-6989586621683134440"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134441"><span class="annot"><a href="#local-6989586621683134441"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsLit GhcRn -&gt; MetaM (Core Lit)
</span><a href="GHC.HsToCore.Quote.html#repLiteral"><span class="hs-identifier hs-var">repLiteral</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcRn
</span><a href="#local-6989586621683134440"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">;</span><span>           </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLit"><span class="hs-identifier hs-type">repLit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134441"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1552"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLam"><span class="hs-identifier hs-type">HsLam</span></a></span><span> </span><span class="annot"><span class="annottext">XLam GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsLamVariant
</span><a href="Language.Haskell.Syntax.Expr.html#LamSingle"><span class="hs-identifier hs-var">LamSingle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnLW
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621683134447"><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
</span><a href="#local-6989586621683134447"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LMatch GhcRn (LHsExpr GhcRn) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLambda"><span class="hs-identifier hs-var">repLambda</span></a></span><span> </span><span class="annot"><span class="annottext">LMatch GhcRn (LHsExpr GhcRn)
GenLocated
  SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
</span><a href="#local-6989586621683134447"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1553"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span id="local-6989586621683134449"><span class="annot"><span class="annottext">e :: HsExpr GhcRn
</span><a href="#local-6989586621683134449"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLam"><span class="hs-identifier hs-type">HsLam</span></a></span><span> </span><span class="annot"><span class="annottext">XLam GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsLamVariant
</span><a href="Language.Haskell.Syntax.Expr.html#LamSingle"><span class="hs-identifier hs-var">LamSingle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnLW
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; MetaM (Core (M Exp))
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;repE: HsLam with multiple alternatives&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcRn -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134449"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1554"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLam"><span class="hs-identifier hs-type">HsLam</span></a></span><span> </span><span class="annot"><span class="annottext">XLam GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsLamVariant
</span><a href="Language.Haskell.Syntax.Expr.html#LamCase"><span class="hs-identifier hs-var">LamCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnLW
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134451"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134451"><span class="hs-identifier hs-var">ms</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1555"></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134452"><span class="annot"><a href="#local-6989586621683134452"><span class="hs-identifier hs-var">ms'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
 -&gt; ReaderT MetaWrappers DsM (Core (M Match)))
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
-&gt; ReaderT MetaWrappers DsM [Core (M Match)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">LMatch GhcRn (LHsExpr GhcRn)
-&gt; ReaderT MetaWrappers DsM (Core (M Match))
GenLocated
  SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
-&gt; ReaderT MetaWrappers DsM (Core (M Match))
</span><a href="GHC.HsToCore.Quote.html#repMatchTup"><span class="hs-identifier hs-var">repMatchTup</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134451"><span class="hs-identifier hs-var">ms</span></a></span><span>
</span><span id="line-1556"></span><span>                        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134454"><span class="annot"><a href="#local-6989586621683134454"><span class="hs-identifier hs-var">core_ms</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-type">coreListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#matchTyConName"><span class="hs-identifier hs-type">matchTyConName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134452"><span class="hs-identifier hs-type">ms'</span></a></span><span>
</span><span id="line-1557"></span><span>                        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLamCase"><span class="hs-identifier hs-type">repLamCase</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134454"><span class="hs-identifier hs-type">core_ms</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1558"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLam"><span class="hs-identifier hs-type">HsLam</span></a></span><span> </span><span class="annot"><span class="annottext">XLam GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsLamVariant
</span><a href="Language.Haskell.Syntax.Expr.html#LamCases"><span class="hs-identifier hs-var">LamCases</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnLW
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134458"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134458"><span class="hs-identifier hs-var">ms</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1559"></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134459"><span class="annot"><a href="#local-6989586621683134459"><span class="hs-identifier hs-var">ms'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
 -&gt; ReaderT MetaWrappers DsM (Core (M Clause)))
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
-&gt; ReaderT MetaWrappers DsM [Core (M Clause)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">LMatch GhcRn (LHsExpr GhcRn)
-&gt; ReaderT MetaWrappers DsM (Core (M Clause))
GenLocated
  SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
-&gt; ReaderT MetaWrappers DsM (Core (M Clause))
</span><a href="GHC.HsToCore.Quote.html#repClauseTup"><span class="hs-identifier hs-var">repClauseTup</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134458"><span class="hs-identifier hs-var">ms</span></a></span><span>
</span><span id="line-1560"></span><span>                        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134461"><span class="annot"><a href="#local-6989586621683134461"><span class="hs-identifier hs-var">core_ms</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-type">coreListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#matchTyConName"><span class="hs-identifier hs-type">matchTyConName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134459"><span class="hs-identifier hs-type">ms'</span></a></span><span>
</span><span id="line-1561"></span><span>                        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLamCases"><span class="hs-identifier hs-type">repLamCases</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134461"><span class="hs-identifier hs-type">core_ms</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1562"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsApp"><span class="hs-identifier hs-type">HsApp</span></a></span><span> </span><span class="annot"><span class="annottext">XApp GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134464"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134464"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621683134465"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134465"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span id="local-6989586621683134466"><span class="annot"><a href="#local-6989586621683134466"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134464"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134467"><span class="annot"><a href="#local-6989586621683134467"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134465"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repApp"><span class="hs-identifier hs-type">repApp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134466"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134467"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-1563"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsAppType"><span class="hs-identifier hs-type">HsAppType</span></a></span><span> </span><span class="annot"><span class="annottext">XAppTypeE GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134470"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134470"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621683134471"><span class="annot"><span class="annottext">LHsWcType (NoGhcTc GhcRn)
</span><a href="#local-6989586621683134471"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134472"><span class="annot"><a href="#local-6989586621683134472"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134470"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1564"></span><span>                            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134473"><span class="annot"><a href="#local-6989586621683134473"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#hswc_body"><span class="hs-identifier hs-var">hswc_body</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134471"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1565"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repAppType"><span class="hs-identifier hs-type">repAppType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134472"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134473"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1566"></span><span>
</span><span id="line-1567"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#OpApp"><span class="hs-identifier hs-type">OpApp</span></a></span><span> </span><span class="annot"><span class="annottext">XOpApp GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134476"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134476"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621683134477"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134477"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621683134478"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134478"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1568"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134479"><span class="annot"><a href="#local-6989586621683134479"><span class="hs-identifier hs-var">arg1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134476"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">;</span><span>
</span><span id="line-1569"></span><span>       </span><span id="local-6989586621683134480"><span class="annot"><a href="#local-6989586621683134480"><span class="hs-identifier hs-var">arg2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134478"><span class="hs-identifier hs-type">e2</span></a></span><span class="hs-special">;</span><span>
</span><span id="line-1570"></span><span>       </span><span id="local-6989586621683134481"><span class="annot"><a href="#local-6989586621683134481"><span class="hs-identifier hs-var">the_op</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134477"><span class="hs-identifier hs-type">op</span></a></span><span> </span><span class="hs-special">;</span><span>
</span><span id="line-1571"></span><span>       </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInfixApp"><span class="hs-identifier hs-type">repInfixApp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134479"><span class="hs-identifier hs-type">arg1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134481"><span class="hs-identifier hs-type">the_op</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134480"><span class="hs-identifier hs-type">arg2</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1572"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#NegApp"><span class="hs-identifier hs-type">NegApp</span></a></span><span> </span><span class="annot"><span class="annottext">XNegApp GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134484"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134484"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1573"></span><span>                              </span><span id="local-6989586621683134485"><span class="annot"><a href="#local-6989586621683134485"><span class="hs-identifier hs-var">a</span></a></span></span><span>         </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134484"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1574"></span><span>                              </span><span id="local-6989586621683134486"><span class="annot"><a href="#local-6989586621683134486"><span class="hs-identifier hs-var">negateVar</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#lookupOcc"><span class="hs-identifier hs-type">lookupOcc</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html#negateName"><span class="hs-identifier hs-type">negateName</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&gt;&gt;=</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repVar"><span class="hs-identifier hs-type">repVar</span></a></span><span>
</span><span id="line-1575"></span><span>                              </span><span class="annot"><a href="#local-6989586621683134486"><span class="hs-identifier hs-type">negateVar</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repApp"><span class="hs-operator hs-type">`repApp`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134485"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1576"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsPar"><span class="hs-identifier hs-type">HsPar</span></a></span><span> </span><span class="annot"><span class="annottext">XPar GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134490"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134490"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134490"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1577"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#SectionL"><span class="hs-identifier hs-type">SectionL</span></a></span><span> </span><span class="annot"><span class="annottext">XSectionL GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134492"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134492"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621683134493"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134493"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134494"><span class="annot"><a href="#local-6989586621683134494"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134492"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134495"><span class="annot"><a href="#local-6989586621683134495"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134493"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSectionL"><span class="hs-identifier hs-type">repSectionL</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134494"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134495"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1578"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#SectionR"><span class="hs-identifier hs-type">SectionR</span></a></span><span> </span><span class="annot"><span class="annottext">XSectionR GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134498"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134498"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621683134499"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134499"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134500"><span class="annot"><a href="#local-6989586621683134500"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134498"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134501"><span class="annot"><a href="#local-6989586621683134501"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134499"><span class="hs-identifier hs-type">y</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSectionR"><span class="hs-identifier hs-type">repSectionR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134500"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134501"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1579"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCase"><span class="hs-identifier hs-type">HsCase</span></a></span><span> </span><span class="annot"><span class="annottext">XCase GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134504"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134504"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnLW
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134505"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134505"><span class="hs-identifier hs-var">ms</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1580"></span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134506"><span class="annot"><a href="#local-6989586621683134506"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134504"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1581"></span><span>                               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134507"><span class="annot"><a href="#local-6989586621683134507"><span class="hs-identifier hs-var">ms2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMatchTup"><span class="hs-identifier hs-type">repMatchTup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134505"><span class="hs-identifier hs-type">ms</span></a></span><span>
</span><span id="line-1582"></span><span>                               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134508"><span class="annot"><a href="#local-6989586621683134508"><span class="hs-identifier hs-var">core_ms2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-type">coreListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#matchTyConName"><span class="hs-identifier hs-type">matchTyConName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134507"><span class="hs-identifier hs-type">ms2</span></a></span><span>
</span><span id="line-1583"></span><span>                               </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repCaseE"><span class="hs-identifier hs-type">repCaseE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134506"><span class="hs-identifier hs-type">arg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134508"><span class="hs-identifier hs-type">core_ms2</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1584"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsIf"><span class="hs-identifier hs-type">HsIf</span></a></span><span> </span><span class="annot"><span class="annottext">XIf GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134511"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134511"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621683134512"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134512"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621683134513"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134513"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1585"></span><span>                            </span><span id="local-6989586621683134514"><span class="annot"><a href="#local-6989586621683134514"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134511"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1586"></span><span>                            </span><span id="local-6989586621683134515"><span class="annot"><a href="#local-6989586621683134515"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134512"><span class="hs-identifier hs-type">y</span></a></span><span>
</span><span id="line-1587"></span><span>                            </span><span id="local-6989586621683134516"><span class="annot"><a href="#local-6989586621683134516"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134513"><span class="hs-identifier hs-type">z</span></a></span><span>
</span><span id="line-1588"></span><span>                            </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repCond"><span class="hs-identifier hs-type">repCond</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134514"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134515"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134516"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-1589"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsMultiIf"><span class="hs-identifier hs-type">HsMultiIf</span></a></span><span> </span><span class="annot"><span class="annottext">XMultiIf GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134519"><span class="annot"><span class="annottext">[LGRHS GhcRn (LHsExpr GhcRn)]
</span><a href="#local-6989586621683134519"><span class="hs-identifier hs-var">alts</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1590"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134520"><span class="annot"><a href="#local-6989586621683134520"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683134521"><span class="annot"><a href="#local-6989586621683134521"><span class="hs-identifier hs-var">alts'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">([([GenSymBind], Core (M (Guard, Exp)))]
 -&gt; ([[GenSymBind]], [Core (M (Guard, Exp))]))
-&gt; ReaderT MetaWrappers DsM [([GenSymBind], Core (M (Guard, Exp)))]
-&gt; ReaderT
     MetaWrappers DsM ([[GenSymBind]], [Core (M (Guard, Exp))])
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">[([GenSymBind], Core (M (Guard, Exp)))]
-&gt; ([[GenSymBind]], [Core (M (Guard, Exp))])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><span class="hs-identifier hs-var">unzip</span></span><span> </span><span class="annot"><span class="annottext">(ReaderT MetaWrappers DsM [([GenSymBind], Core (M (Guard, Exp)))]
 -&gt; ReaderT
      MetaWrappers DsM ([[GenSymBind]], [Core (M (Guard, Exp))]))
-&gt; ReaderT MetaWrappers DsM [([GenSymBind], Core (M (Guard, Exp)))]
-&gt; ReaderT
     MetaWrappers DsM ([[GenSymBind]], [Core (M (Guard, Exp))])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(GenLocated
   EpAnnCO (GRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
 -&gt; ReaderT MetaWrappers DsM ([GenSymBind], Core (M (Guard, Exp))))
-&gt; [GenLocated
      EpAnnCO (GRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
-&gt; ReaderT MetaWrappers DsM [([GenSymBind], Core (M (Guard, Exp)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">LGRHS GhcRn (LHsExpr GhcRn)
-&gt; ReaderT MetaWrappers DsM ([GenSymBind], Core (M (Guard, Exp)))
GenLocated
  EpAnnCO (GRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
-&gt; ReaderT MetaWrappers DsM ([GenSymBind], Core (M (Guard, Exp)))
</span><a href="GHC.HsToCore.Quote.html#repLGRHS"><span class="hs-identifier hs-var">repLGRHS</span></a></span><span> </span><span class="annot"><span class="annottext">[LGRHS GhcRn (LHsExpr GhcRn)]
[GenLocated
   EpAnnCO (GRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134519"><span class="hs-identifier hs-var">alts</span></a></span><span>
</span><span id="line-1591"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134524"><span class="annot"><a href="#local-6989586621683134524"><span class="hs-identifier hs-var">expr'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMultiIf"><span class="hs-identifier hs-type">repMultiIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList"><span class="hs-identifier hs-type">nonEmptyCoreList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134521"><span class="hs-identifier hs-type">alts'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1592"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">concat</span></span><span> </span><span class="annot"><a href="#local-6989586621683134520"><span class="hs-identifier hs-type">binds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683134524"><span class="hs-identifier hs-type">expr'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1593"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLet"><span class="hs-identifier hs-type">HsLet</span></a></span><span> </span><span class="annot"><span class="annottext">XLet GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134528"><span class="annot"><span class="annottext">HsLocalBinds GhcRn
</span><a href="#local-6989586621683134528"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621683134529"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134529"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134530"><span class="annot"><a href="#local-6989586621683134530"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683134531"><span class="annot"><a href="#local-6989586621683134531"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcRn -&gt; MetaM ([GenSymBind], Core [M Dec])
</span><a href="GHC.HsToCore.Quote.html#repBinds"><span class="hs-identifier hs-var">repBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcRn
</span><a href="#local-6989586621683134528"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-1594"></span><span>                               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134533"><span class="annot"><a href="#local-6989586621683134533"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134530"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134529"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1595"></span><span>                               </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134534"><span class="annot"><a href="#local-6989586621683134534"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLetE"><span class="hs-identifier hs-type">repLetE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134531"><span class="hs-identifier hs-type">ds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134533"><span class="hs-identifier hs-type">e2</span></a></span><span>
</span><span id="line-1596"></span><span>                               </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134530"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134534"><span class="hs-identifier hs-type">z</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1597"></span><span>
</span><span id="line-1598"></span><span class="hs-comment">-- FIXME: I haven't got the types here right yet</span><span>
</span><span id="line-1599"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span id="local-6989586621683134536"><span class="annot"><span class="annottext">e :: HsExpr GhcRn
</span><a href="#local-6989586621683134536"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsDo"><span class="hs-identifier hs-type">HsDo</span></a></span><span> </span><span class="annot"><span class="annottext">XDo GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134538"><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="#local-6989586621683134538"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnLW
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134539"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134539"><span class="hs-identifier hs-var">sts</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1600"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683134540"><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621683134540"><span class="hs-identifier hs-var">maybeModuleName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="#local-6989586621683134538"><span class="hs-identifier hs-var">ctxt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1601"></span><span>     </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#DoExpr"><span class="hs-identifier hs-type">DoExpr</span></a></span><span> </span><span id="local-6989586621683134542"><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621683134542"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName -&gt; Maybe (Maybe ModuleName)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621683134542"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="Language.Haskell.Syntax.Expr.html#GhciStmtCtxt"><span class="hs-identifier hs-var">GhciStmtCtxt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName -&gt; Maybe (Maybe ModuleName)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsDoFlavour
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe ModuleName)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1602"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134544"><span class="annot"><a href="#local-6989586621683134544"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683134545"><span class="annot"><a href="#local-6989586621683134545"><span class="hs-identifier hs-var">zs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcRn] -&gt; MetaM ([GenSymBind], [Core (M Stmt)])
</span><a href="GHC.HsToCore.Quote.html#repLSts"><span class="hs-identifier hs-var">repLSts</span></a></span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcRn]
[GenLocated
   SrcSpanAnnA
   (StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134539"><span class="hs-identifier hs-var">sts</span></a></span><span class="hs-special">;</span><span>
</span><span id="line-1603"></span><span>        </span><span id="local-6989586621683134547"><span class="annot"><a href="#local-6989586621683134547"><span class="hs-identifier hs-var">e'</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDoE"><span class="hs-identifier hs-type">repDoE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134540"><span class="hs-identifier hs-type">maybeModuleName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList"><span class="hs-identifier hs-type">nonEmptyCoreList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134545"><span class="hs-identifier hs-type">zs</span></a></span><span class="hs-special">)</span><span class="hs-special">;</span><span>
</span><span id="line-1604"></span><span>        </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134544"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134547"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1605"></span><span>
</span><span id="line-1606"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="Language.Haskell.Syntax.Expr.html#ListComp"><span class="hs-identifier hs-var">ListComp</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="#local-6989586621683134538"><span class="hs-identifier hs-var">ctxt</span></a></span><span>
</span><span id="line-1607"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134550"><span class="annot"><a href="#local-6989586621683134550"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683134551"><span class="annot"><a href="#local-6989586621683134551"><span class="hs-identifier hs-var">zs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcRn] -&gt; MetaM ([GenSymBind], [Core (M Stmt)])
</span><a href="GHC.HsToCore.Quote.html#repLSts"><span class="hs-identifier hs-var">repLSts</span></a></span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcRn]
[GenLocated
   SrcSpanAnnA
   (StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134539"><span class="hs-identifier hs-var">sts</span></a></span><span class="hs-special">;</span><span>
</span><span id="line-1608"></span><span>        </span><span id="local-6989586621683134552"><span class="annot"><a href="#local-6989586621683134552"><span class="hs-identifier hs-var">e'</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repComp"><span class="hs-identifier hs-type">repComp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList"><span class="hs-identifier hs-type">nonEmptyCoreList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134551"><span class="hs-identifier hs-type">zs</span></a></span><span class="hs-special">)</span><span class="hs-special">;</span><span>
</span><span id="line-1609"></span><span>        </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134550"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134552"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1610"></span><span>
</span><span id="line-1611"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MDoExpr"><span class="hs-identifier hs-type">MDoExpr</span></a></span><span> </span><span id="local-6989586621683134555"><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621683134555"><span class="hs-identifier hs-var">maybeModuleName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="#local-6989586621683134538"><span class="hs-identifier hs-var">ctxt</span></a></span><span>
</span><span id="line-1612"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134556"><span class="annot"><a href="#local-6989586621683134556"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683134557"><span class="annot"><a href="#local-6989586621683134557"><span class="hs-identifier hs-var">zs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcRn] -&gt; MetaM ([GenSymBind], [Core (M Stmt)])
</span><a href="GHC.HsToCore.Quote.html#repLSts"><span class="hs-identifier hs-var">repLSts</span></a></span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcRn]
[GenLocated
   SrcSpanAnnA
   (StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134539"><span class="hs-identifier hs-var">sts</span></a></span><span class="hs-special">;</span><span>
</span><span id="line-1613"></span><span>        </span><span id="local-6989586621683134558"><span class="annot"><a href="#local-6989586621683134558"><span class="hs-identifier hs-var">e'</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMDoE"><span class="hs-identifier hs-type">repMDoE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134555"><span class="hs-identifier hs-type">maybeModuleName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList"><span class="hs-identifier hs-type">nonEmptyCoreList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134557"><span class="hs-identifier hs-type">zs</span></a></span><span class="hs-special">)</span><span class="hs-special">;</span><span>
</span><span id="line-1614"></span><span>        </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134556"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134558"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1615"></span><span>
</span><span id="line-1616"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1617"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core (M Exp))
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcRn -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThMonadComprehensionSyntax"><span class="hs-identifier hs-var">ThMonadComprehensionSyntax</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134536"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1618"></span><span>
</span><span id="line-1619"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExplicitList"><span class="hs-identifier hs-type">ExplicitList</span></a></span><span> </span><span class="annot"><span class="annottext">XExplicitList GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134562"><span class="annot"><span class="annottext">[LHsExpr GhcRn]
</span><a href="#local-6989586621683134562"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134563"><span class="annot"><a href="#local-6989586621683134563"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LHsExpr GhcRn] -&gt; MetaM (Core [M Exp])
</span><a href="GHC.HsToCore.Quote.html#repLEs"><span class="hs-identifier hs-var">repLEs</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsExpr GhcRn]
</span><a href="#local-6989586621683134562"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repListExp"><span class="hs-identifier hs-type">repListExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134563"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1620"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExplicitTuple"><span class="hs-identifier hs-type">ExplicitTuple</span></a></span><span> </span><span class="annot"><span class="annottext">XExplicitTuple GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134566"><span class="annot"><span class="annottext">[HsTupArg GhcRn]
</span><a href="#local-6989586621683134566"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span id="local-6989586621683134567"><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621683134567"><span class="hs-identifier hs-var">boxity</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1621"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621683134568"><span class="hs-identifier hs-type">tupArgToCoreExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsTupArg"><span class="hs-identifier hs-type">HsTupArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1622"></span><span>      </span><span id="local-6989586621683134568"><span class="annot"><span class="annottext">tupArgToCoreExp :: HsTupArg GhcRn -&gt; MetaM (Core (Maybe (M Exp)))
</span><a href="#local-6989586621683134568"><span class="hs-identifier hs-var hs-var">tupArgToCoreExp</span></a></span></span><span> </span><span id="local-6989586621683134569"><span class="annot"><span class="annottext">HsTupArg GhcRn
</span><a href="#local-6989586621683134569"><span class="hs-identifier hs-var">a</span></a></span></span><span>
</span><span id="line-1623"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Present"><span class="hs-identifier hs-type">Present</span></a></span><span> </span><span class="annot"><span class="annottext">XPresent GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134571"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134571"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsTupArg GhcRn
</span><a href="#local-6989586621683134569"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134572"><span class="annot"><a href="#local-6989586621683134572"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134571"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1624"></span><span>                                  </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreJustM"><span class="hs-identifier hs-type">coreJustM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#expTyConName"><span class="hs-identifier hs-type">expTyConName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134572"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1625"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core (Maybe (M Exp)))
forall a. Name -&gt; MetaM (Core (Maybe a))
</span><a href="GHC.HsToCore.Quote.html#coreNothingM"><span class="hs-identifier hs-var">coreNothingM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#expTyConName"><span class="hs-identifier hs-var">expTyConName</span></a></span><span>
</span><span id="line-1626"></span><span>
</span><span id="line-1627"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134573"><span class="annot"><a href="#local-6989586621683134573"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(HsTupArg GhcRn -&gt; MetaM (Core (Maybe (M Exp))))
-&gt; [HsTupArg GhcRn]
-&gt; ReaderT MetaWrappers DsM [Core (Maybe (M Exp))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">HsTupArg GhcRn -&gt; MetaM (Core (Maybe (M Exp)))
</span><a href="#local-6989586621683134568"><span class="hs-identifier hs-var">tupArgToCoreExp</span></a></span><span> </span><span class="annot"><span class="annottext">[HsTupArg GhcRn]
</span><a href="#local-6989586621683134566"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-1628"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134574"><span class="annot"><a href="#local-6989586621683134574"><span class="hs-identifier hs-var">expTy</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapName"><span class="hs-identifier hs-type">wrapName</span></a></span><span>  </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#expTyConName"><span class="hs-identifier hs-type">expTyConName</span></a></span><span>
</span><span id="line-1629"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683134575"><span class="annot"><a href="#local-6989586621683134575"><span class="hs-identifier hs-var hs-var">maybeExpQTy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; [Type] -&gt; Type
</span><a href="GHC.Core.Type.html#mkTyConApp"><span class="hs-identifier hs-var">mkTyConApp</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="GHC.Builtin.Types.html#maybeTyCon"><span class="hs-identifier hs-var">maybeTyCon</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683134574"><span class="hs-identifier hs-var">expTy</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1630"></span><span>              </span><span id="local-6989586621683134578"><span class="annot"><a href="#local-6989586621683134578"><span class="hs-identifier hs-var hs-var">listArg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; [Core (Maybe (M Exp))] -&gt; Core [Maybe (M Exp)]
forall a. Type -&gt; [Core a] -&gt; Core [a]
</span><a href="GHC.HsToCore.Quote.html#coreList%27"><span class="hs-identifier hs-var">coreList'</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683134575"><span class="hs-identifier hs-var">maybeExpQTy</span></a></span><span> </span><span class="annot"><span class="annottext">[Core (Maybe (M Exp))]
</span><a href="#local-6989586621683134573"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1631"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#isBoxed"><span class="hs-identifier hs-type">isBoxed</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134567"><span class="hs-identifier hs-type">boxity</span></a></span><span>
</span><span id="line-1632"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTup"><span class="hs-identifier hs-type">repTup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134578"><span class="hs-identifier hs-type">listArg</span></a></span><span>
</span><span id="line-1633"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repUnboxedTup"><span class="hs-identifier hs-type">repUnboxedTup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134578"><span class="hs-identifier hs-type">listArg</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1634"></span><span>
</span><span id="line-1635"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExplicitSum"><span class="hs-identifier hs-type">ExplicitSum</span></a></span><span> </span><span class="annot"><span class="annottext">XExplicitSum GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134584"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683134584"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span id="local-6989586621683134585"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683134585"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span id="local-6989586621683134586"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134586"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1636"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134587"><span class="annot"><a href="#local-6989586621683134587"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134586"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1637"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repUnboxedSum"><span class="hs-identifier hs-type">repUnboxedSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134587"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134584"><span class="hs-identifier hs-type">alt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134585"><span class="hs-identifier hs-type">arity</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1638"></span><span>
</span><span id="line-1639"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecordCon"><span class="hs-identifier hs-type">RecordCon</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rcon_con :: forall p. HsExpr p -&gt; XRec p (ConLikeP p)
</span><a href="Language.Haskell.Syntax.Expr.html#rcon_con"><span class="hs-identifier hs-var">rcon_con</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134591"><span class="annot"><span class="annottext">XRec GhcRn (ConLikeP GhcRn)
</span><a href="#local-6989586621683134591"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rcon_flds :: forall p. HsExpr p -&gt; HsRecordBinds p
</span><a href="Language.Haskell.Syntax.Expr.html#rcon_flds"><span class="hs-identifier hs-var">rcon_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134593"><span class="annot"><span class="annottext">HsRecordBinds GhcRn
</span><a href="#local-6989586621683134593"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1640"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134594"><span class="annot"><a href="#local-6989586621683134594"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (ConLikeP GhcRn)
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683134591"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">;</span><span>
</span><span id="line-1641"></span><span>        </span><span id="local-6989586621683134595"><span class="annot"><a href="#local-6989586621683134595"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFields"><span class="hs-identifier hs-type">repFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134593"><span class="hs-identifier hs-type">flds</span></a></span><span class="hs-special">;</span><span>
</span><span id="line-1642"></span><span>        </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRecCon"><span class="hs-identifier hs-type">repRecCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134594"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134595"><span class="hs-identifier hs-type">fs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1643"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecordUpd"><span class="hs-identifier hs-type">RecordUpd</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rupd_expr :: forall p. HsExpr p -&gt; LHsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_expr"><span class="hs-identifier hs-var">rupd_expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134600"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134600"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rupd_flds :: forall p. HsExpr p -&gt; LHsRecUpdFields p
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_flds"><span class="hs-identifier hs-var">rupd_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RegularRecUpdFields"><span class="hs-identifier hs-type">RegularRecUpdFields</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">recUpdFields :: forall p. LHsRecUpdFields p -&gt; [LHsRecUpdField p p]
</span><a href="Language.Haskell.Syntax.Expr.html#recUpdFields"><span class="hs-identifier hs-var">recUpdFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134604"><span class="annot"><span class="annottext">[LHsRecUpdField GhcRn GhcRn]
</span><a href="#local-6989586621683134604"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1644"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134605"><span class="annot"><a href="#local-6989586621683134605"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134600"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">;</span><span>
</span><span id="line-1645"></span><span>        </span><span id="local-6989586621683134606"><span class="annot"><a href="#local-6989586621683134606"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repUpdFields"><span class="hs-identifier hs-type">repUpdFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134604"><span class="hs-identifier hs-type">flds</span></a></span><span class="hs-special">;</span><span>
</span><span id="line-1646"></span><span>        </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRecUpd"><span class="hs-identifier hs-type">repRecUpd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134605"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134606"><span class="hs-identifier hs-type">fs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1647"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span id="local-6989586621683134609"><span class="annot"><span class="annottext">e :: HsExpr GhcRn
</span><a href="#local-6989586621683134609"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecordUpd"><span class="hs-identifier hs-type">RecordUpd</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rupd_flds :: forall p. HsExpr p -&gt; LHsRecUpdFields p
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_flds"><span class="hs-identifier hs-var">rupd_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#OverloadedRecUpdFields"><span class="hs-identifier hs-type">OverloadedRecUpdFields</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1648"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1649"></span><span>      </span><span class="hs-comment">-- Not possible due to elimination in the renamer. See Note</span><span>
</span><span id="line-1650"></span><span>      </span><span class="hs-comment">-- [Handling overloaded and rebindable constructs]</span><span>
</span><span id="line-1651"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; MetaM (Core (M Exp))
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;repE: unexpected overloaded record update&quot;</span></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; MetaM (Core (M Exp))) -&gt; SDoc -&gt; MetaM (Core (M Exp))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134609"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1652"></span><span>
</span><span id="line-1653"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExprWithTySig"><span class="hs-identifier hs-type">ExprWithTySig</span></a></span><span> </span><span class="annot"><span class="annottext">XExprWithTySig GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134612"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134612"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621683134613"><span class="annot"><span class="annottext">LHsSigWcType (NoGhcTc GhcRn)
</span><a href="#local-6989586621683134613"><span class="hs-identifier hs-var">wc_ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1654"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
-&gt; [Name] -&gt; MetaM (Core (M Exp)) -&gt; MetaM (Core (M Exp))
forall {k} (a :: k).
FreshOrReuse -&gt; [Name] -&gt; MetaM (Core (M a)) -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addSimpleTyVarBinds"><span class="hs-identifier hs-var">addSimpleTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-var">FreshNamesOnly</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsSigType GhcRn -&gt; [Name]
</span><a href="GHC.HsToCore.Quote.html#get_scoped_tvs_from_sig"><span class="hs-identifier hs-var">get_scoped_tvs_from_sig</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn
</span><a href="#local-6989586621683134614"><span class="hs-identifier hs-var">sig_ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(MetaM (Core (M Exp)) -&gt; MetaM (Core (M Exp)))
-&gt; MetaM (Core (M Exp)) -&gt; MetaM (Core (M Exp))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1655"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134615"><span class="annot"><a href="#local-6989586621683134615"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134612"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1656"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134616"><span class="annot"><a href="#local-6989586621683134616"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_ty_sig%27"><span class="hs-identifier hs-type">rep_ty_sig'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134614"><span class="hs-identifier hs-type">sig_ty</span></a></span><span>
</span><span id="line-1657"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSigExp"><span class="hs-identifier hs-type">repSigExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134615"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134616"><span class="hs-identifier hs-type">t1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1658"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1659"></span><span>    </span><span id="local-6989586621683134614"><span class="annot"><span class="annottext">sig_ty :: LHsSigType GhcRn
</span><a href="#local-6989586621683134614"><span class="hs-identifier hs-var hs-var">sig_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsSigWcType GhcRn -&gt; LHsSigType GhcRn
forall pass. LHsSigWcType pass -&gt; LHsSigType pass
</span><a href="GHC.Hs.Type.html#dropWildCards"><span class="hs-identifier hs-var">dropWildCards</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigWcType (NoGhcTc GhcRn)
LHsSigWcType GhcRn
</span><a href="#local-6989586621683134613"><span class="hs-identifier hs-var">wc_ty</span></a></span><span>
</span><span id="line-1660"></span><span>
</span><span id="line-1661"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ArithSeq"><span class="hs-identifier hs-type">ArithSeq</span></a></span><span> </span><span class="annot"><span class="annottext">XArithSeq GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe (SyntaxExpr GhcRn)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134619"><span class="annot"><span class="annottext">ArithSeqInfo GhcRn
</span><a href="#local-6989586621683134619"><span class="hs-identifier hs-var">aseq</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1662"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ArithSeqInfo GhcRn
</span><a href="#local-6989586621683134619"><span class="hs-identifier hs-var">aseq</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1663"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#From"><span class="hs-identifier hs-type">From</span></a></span><span> </span><span id="local-6989586621683134621"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134621"><span class="hs-identifier hs-var">e</span></a></span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134622"><span class="annot"><a href="#local-6989586621683134622"><span class="hs-identifier hs-var">ds1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134621"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFrom"><span class="hs-identifier hs-type">repFrom</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134622"><span class="hs-identifier hs-type">ds1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1664"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FromThen"><span class="hs-identifier hs-type">FromThen</span></a></span><span> </span><span id="local-6989586621683134625"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134625"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621683134626"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134626"><span class="hs-identifier hs-var">e2</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1665"></span><span>                             </span><span id="local-6989586621683134627"><span class="annot"><a href="#local-6989586621683134627"><span class="hs-identifier hs-var">ds1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134625"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-1666"></span><span>                             </span><span id="local-6989586621683134628"><span class="annot"><a href="#local-6989586621683134628"><span class="hs-identifier hs-var">ds2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134626"><span class="hs-identifier hs-type">e2</span></a></span><span>
</span><span id="line-1667"></span><span>                             </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFromThen"><span class="hs-identifier hs-type">repFromThen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134627"><span class="hs-identifier hs-type">ds1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134628"><span class="hs-identifier hs-type">ds2</span></a></span><span>
</span><span id="line-1668"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FromTo"><span class="hs-identifier hs-type">FromTo</span></a></span><span>   </span><span id="local-6989586621683134631"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134631"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621683134632"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134632"><span class="hs-identifier hs-var">e2</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1669"></span><span>                             </span><span id="local-6989586621683134633"><span class="annot"><a href="#local-6989586621683134633"><span class="hs-identifier hs-var">ds1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134631"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-1670"></span><span>                             </span><span id="local-6989586621683134634"><span class="annot"><a href="#local-6989586621683134634"><span class="hs-identifier hs-var">ds2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134632"><span class="hs-identifier hs-type">e2</span></a></span><span>
</span><span id="line-1671"></span><span>                             </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFromTo"><span class="hs-identifier hs-type">repFromTo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134633"><span class="hs-identifier hs-type">ds1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134634"><span class="hs-identifier hs-type">ds2</span></a></span><span>
</span><span id="line-1672"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FromThenTo"><span class="hs-identifier hs-type">FromThenTo</span></a></span><span> </span><span id="local-6989586621683134637"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134637"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621683134638"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134638"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span id="local-6989586621683134639"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134639"><span class="hs-identifier hs-var">e3</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1673"></span><span>                             </span><span id="local-6989586621683134640"><span class="annot"><a href="#local-6989586621683134640"><span class="hs-identifier hs-var">ds1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134637"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-1674"></span><span>                             </span><span id="local-6989586621683134641"><span class="annot"><a href="#local-6989586621683134641"><span class="hs-identifier hs-var">ds2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134638"><span class="hs-identifier hs-type">e2</span></a></span><span>
</span><span id="line-1675"></span><span>                             </span><span id="local-6989586621683134642"><span class="annot"><a href="#local-6989586621683134642"><span class="hs-identifier hs-var">ds3</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134639"><span class="hs-identifier hs-type">e3</span></a></span><span>
</span><span id="line-1676"></span><span>                             </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFromThenTo"><span class="hs-identifier hs-type">repFromThenTo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134640"><span class="hs-identifier hs-type">ds1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134641"><span class="hs-identifier hs-type">ds2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134642"><span class="hs-identifier hs-type">ds3</span></a></span><span>
</span><span id="line-1677"></span><span>
</span><span id="line-1678"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsTypedSplice"><span class="hs-identifier hs-type">HsTypedSplice</span></a></span><span> </span><span id="local-6989586621683134645"><span class="annot"><span class="annottext">XTypedSplice GhcRn
</span><a href="#local-6989586621683134645"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep_splice"><span class="hs-identifier hs-var">rep_splice</span></a></span><span> </span><span class="annot"><span class="annottext">XTypedSplice GhcRn
Name
</span><a href="#local-6989586621683134645"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1679"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsUntypedSplice"><span class="hs-identifier hs-type">HsUntypedSplice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsUntypedSpliceNested"><span class="hs-identifier hs-type">HsUntypedSpliceNested</span></a></span><span> </span><span id="local-6989586621683134647"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134647"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsUntypedSplice GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep_splice"><span class="hs-identifier hs-var">rep_splice</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134647"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1680"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span id="local-6989586621683134648"><span class="annot"><span class="annottext">e :: HsExpr GhcRn
</span><a href="#local-6989586621683134648"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsUntypedSplice"><span class="hs-identifier hs-type">HsUntypedSplice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsUntypedSpliceTop"><span class="hs-identifier hs-type">HsUntypedSpliceTop</span></a></span><span> </span><span class="annot"><span class="annottext">ThModFinalizers
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsUntypedSplice GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; MetaM (Core (M Exp))
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;repE: top level splice&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcRn -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134648"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1681"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsStatic"><span class="hs-identifier hs-type">HsStatic</span></a></span><span> </span><span class="annot"><span class="annottext">XStatic GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134650"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134650"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134650"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Exp))
-&gt; (Core (M Exp) -&gt; MetaM (Core (M Exp))) -&gt; MetaM (Core (M Exp))
forall a b.
ReaderT MetaWrappers DsM a
-&gt; (a -&gt; ReaderT MetaWrappers DsM b) -&gt; ReaderT MetaWrappers DsM b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#staticEName"><span class="hs-identifier hs-var">staticEName</span></a></span><span> </span><span class="annot"><span class="annottext">([CoreExpr] -&gt; MetaM (Core (M Exp)))
-&gt; (Core (M Exp) -&gt; [CoreExpr])
-&gt; Core (M Exp)
-&gt; MetaM (Core (M Exp))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CoreExpr -&gt; [CoreExpr] -&gt; [CoreExpr]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(CoreExpr -&gt; [CoreExpr])
-&gt; (Core (M Exp) -&gt; CoreExpr) -&gt; Core (M Exp) -&gt; [CoreExpr]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Core (M Exp) -&gt; CoreExpr
forall {k} (a :: k). Core a -&gt; CoreExpr
</span><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-var">unC</span></a></span><span>
</span><span id="line-1682"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsUnboundVar"><span class="hs-identifier hs-type">HsUnboundVar</span></a></span><span> </span><span class="annot"><span class="annottext">XUnboundVar GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134653"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683134653"><span class="hs-identifier hs-var">uv</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1683"></span><span>                               </span><span id="local-6989586621683134654"><span class="annot"><a href="#local-6989586621683134654"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">RdrName -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#repRdrName"><span class="hs-identifier hs-var">repRdrName</span></a></span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683134653"><span class="hs-identifier hs-var">uv</span></a></span><span>
</span><span id="line-1684"></span><span>                               </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repUnboundVar"><span class="hs-identifier hs-type">repUnboundVar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134654"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-1685"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsGetField"><span class="hs-identifier hs-type">HsGetField</span></a></span><span> </span><span class="annot"><span class="annottext">XGetField GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134658"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134658"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#DotFieldOcc"><span class="hs-identifier hs-type">DotFieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">XCDotFieldOcc GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Basic.html#FieldLabelString"><span class="hs-identifier hs-type">FieldLabelString</span></a></span><span> </span><span id="local-6989586621683134661"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683134661"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1686"></span><span>  </span><span id="local-6989586621683134662"><span class="annot"><a href="#local-6989586621683134662"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134658"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1687"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repGetField"><span class="hs-identifier hs-type">repGetField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134662"><span class="hs-identifier hs-type">e1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134661"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-1688"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsProjection"><span class="hs-identifier hs-type">HsProjection</span></a></span><span> </span><span class="annot"><span class="annottext">XProjection GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134665"><span class="annot"><span class="annottext">NonEmpty (DotFieldOcc GhcRn)
</span><a href="#local-6989586621683134665"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty FastString -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repProjection"><span class="hs-identifier hs-var">repProjection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DotFieldOcc GhcRn -&gt; FastString)
-&gt; NonEmpty (DotFieldOcc GhcRn) -&gt; NonEmpty FastString
forall a b. (a -&gt; b) -&gt; NonEmpty a -&gt; NonEmpty b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldLabelString -&gt; FastString
</span><a href="Language.Haskell.Syntax.Basic.html#field_label"><span class="hs-identifier hs-var">field_label</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldLabelString -&gt; FastString)
-&gt; (DotFieldOcc GhcRn -&gt; FieldLabelString)
-&gt; DotFieldOcc GhcRn
-&gt; FastString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN FieldLabelString -&gt; FieldLabelString
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN FieldLabelString -&gt; FieldLabelString)
-&gt; (DotFieldOcc GhcRn -&gt; GenLocated SrcSpanAnnN FieldLabelString)
-&gt; DotFieldOcc GhcRn
-&gt; FieldLabelString
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DotFieldOcc GhcRn -&gt; XRec GhcRn FieldLabelString
DotFieldOcc GhcRn -&gt; GenLocated SrcSpanAnnN FieldLabelString
forall p. DotFieldOcc p -&gt; XRec p FieldLabelString
</span><a href="Language.Haskell.Syntax.Expr.html#dfoLabel"><span class="hs-identifier hs-var">dfoLabel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NonEmpty (DotFieldOcc GhcRn)
</span><a href="#local-6989586621683134665"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1689"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsEmbTy"><span class="hs-identifier hs-type">HsEmbTy</span></a></span><span> </span><span class="annot"><span class="annottext">XEmbTy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134670"><span class="annot"><span class="annottext">LHsWcType (NoGhcTc GhcRn)
</span><a href="#local-6989586621683134670"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1690"></span><span>  </span><span id="local-6989586621683134671"><span class="annot"><a href="#local-6989586621683134671"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsWildCardBndrs GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))
-&gt; GenLocated SrcSpanAnnA (HsType GhcRn)
forall pass thing. HsWildCardBndrs pass thing -&gt; thing
</span><a href="Language.Haskell.Syntax.Type.html#hswc_body"><span class="hs-identifier hs-var">hswc_body</span></a></span><span> </span><span class="annot"><span class="annottext">LHsWcType (NoGhcTc GhcRn)
HsWildCardBndrs GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))
</span><a href="#local-6989586621683134670"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1691"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#typeEName"><span class="hs-identifier hs-type">typeEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134671"><span class="hs-identifier hs-type">t1</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1692"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsQual"><span class="hs-identifier hs-type">HsQual</span></a></span><span> </span><span class="annot"><span class="annottext">XQual GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnC
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134674"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsExpr GhcRn)]
</span><a href="#local-6989586621683134674"><span class="hs-identifier hs-var">ctx</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621683134675"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134675"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1693"></span><span>  </span><span id="local-6989586621683134676"><span class="annot"><a href="#local-6989586621683134676"><span class="hs-identifier hs-var">ctx'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LHsExpr GhcRn] -&gt; MetaM (Core [M Exp])
</span><a href="GHC.HsToCore.Quote.html#repLEs"><span class="hs-identifier hs-var">repLEs</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsExpr GhcRn]
[GenLocated SrcSpanAnnA (HsExpr GhcRn)]
</span><a href="#local-6989586621683134674"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-1694"></span><span>  </span><span id="local-6989586621683134677"><span class="annot"><a href="#local-6989586621683134677"><span class="hs-identifier hs-var">body'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134675"><span class="hs-identifier hs-type">body</span></a></span><span>
</span><span id="line-1695"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#constrainedEName"><span class="hs-identifier hs-type">constrainedEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134676"><span class="hs-identifier hs-type">ctx'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134677"><span class="hs-identifier hs-type">body'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1696"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsForAll"><span class="hs-identifier hs-type">HsForAll</span></a></span><span> </span><span class="annot"><span class="annottext">XForAll GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134680"><span class="annot"><span class="annottext">HsForAllTelescope GhcRn
</span><a href="#local-6989586621683134680"><span class="hs-identifier hs-var">tele</span></a></span></span><span> </span><span id="local-6989586621683134681"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134681"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1697"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsForAllTelescope GhcRn
</span><a href="#local-6989586621683134680"><span class="hs-identifier hs-var">tele</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1698"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsForAllVis"><span class="hs-identifier hs-type">HsForAllVis</span></a></span><span>   </span><span class="annot"><span class="annottext">XHsForAllVis GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134682"><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcRn]
</span><a href="#local-6989586621683134682"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [LHsTyVarBndr () GhcRn] -&gt; MetaM (Core (M Exp))
forall flag flag'.
RepTV flag flag' =&gt;
Name -&gt; [LHsTyVarBndr flag GhcRn] -&gt; MetaM (Core (M Exp))
</span><a href="#local-6989586621683134683"><span class="hs-identifier hs-var">mk_forall</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#forallVisEName"><span class="hs-identifier hs-var">forallVisEName</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr () GhcRn]
</span><a href="#local-6989586621683134682"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-1699"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsForAllInvis"><span class="hs-identifier hs-type">HsForAllInvis</span></a></span><span> </span><span class="annot"><span class="annottext">XHsForAllInvis GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134685"><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcRn]
</span><a href="#local-6989586621683134685"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [LHsTyVarBndr Specificity GhcRn] -&gt; MetaM (Core (M Exp))
forall flag flag'.
RepTV flag flag' =&gt;
Name -&gt; [LHsTyVarBndr flag GhcRn] -&gt; MetaM (Core (M Exp))
</span><a href="#local-6989586621683134683"><span class="hs-identifier hs-var">mk_forall</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#forallEName"><span class="hs-identifier hs-var">forallEName</span></a></span><span>    </span><span class="annot"><span class="annottext">[LHsTyVarBndr Specificity GhcRn]
</span><a href="#local-6989586621683134685"><span class="hs-identifier hs-var">tvs</span></a></span><span>
</span><span id="line-1700"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1701"></span><span>    </span><span id="local-6989586621683131759"><span id="local-6989586621683131760"><span class="annot"><a href="#local-6989586621683134683"><span class="hs-identifier hs-type">mk_forall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#RepTV"><span class="hs-identifier hs-type">RepTV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131759"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131760"><span class="hs-identifier hs-type">flag'</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsTyVarBndr"><span class="hs-identifier hs-type">LHsTyVarBndr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131759"><span class="hs-identifier hs-type">flag</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-1702"></span><span>    </span><span id="local-6989586621683134683"><span class="annot"><span class="annottext">mk_forall :: forall flag flag'.
RepTV flag flag' =&gt;
Name -&gt; [LHsTyVarBndr flag GhcRn] -&gt; MetaM (Core (M Exp))
</span><a href="#local-6989586621683134683"><span class="hs-identifier hs-var hs-var">mk_forall</span></a></span></span><span> </span><span id="local-6989586621683134690"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134690"><span class="hs-identifier hs-var">forall_name</span></a></span></span><span> </span><span id="local-6989586621683134691"><span class="annot"><span class="annottext">[LHsTyVarBndr flag GhcRn]
</span><a href="#local-6989586621683134691"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1703"></span><span>      </span><span class="annot"><span class="annottext">FreshOrReuse
-&gt; [LHsTyVarBndr flag GhcRn]
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M Exp)))
-&gt; MetaM (Core (M Exp))
forall {k} flag flag' (a :: k).
RepTV flag flag' =&gt;
FreshOrReuse
-&gt; [LHsTyVarBndr flag GhcRn]
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addHsTyVarBinds"><span class="hs-identifier hs-var">addHsTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-var">FreshNamesOnly</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsTyVarBndr flag GhcRn]
</span><a href="#local-6989586621683134691"><span class="hs-identifier hs-var">tvs</span></a></span><span> </span><span class="annot"><span class="annottext">((Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M Exp)))
 -&gt; MetaM (Core (M Exp)))
-&gt; (Core [M (TyVarBndr flag')] -&gt; MetaM (Core (M Exp)))
-&gt; MetaM (Core (M Exp))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621683134692"><span class="annot"><span class="annottext">Core [M (TyVarBndr flag')]
</span><a href="#local-6989586621683134692"><span class="hs-identifier hs-var">bndrs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1704"></span><span>        </span><span id="local-6989586621683134693"><span class="annot"><a href="#local-6989586621683134693"><span class="hs-identifier hs-var">body'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134681"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-1705"></span><span>        </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134690"><span class="hs-identifier hs-type">forall_name</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134692"><span class="hs-identifier hs-type">bndrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134693"><span class="hs-identifier hs-type">body'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1706"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsFunArr"><span class="hs-identifier hs-type">HsFunArr</span></a></span><span> </span><span class="annot"><span class="annottext">XFunArr GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134695"><span class="annot"><span class="annottext">HsArrowOf (LHsExpr GhcRn) GhcRn
</span><a href="#local-6989586621683134695"><span class="hs-identifier hs-var">mult</span></a></span></span><span> </span><span id="local-6989586621683134696"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134696"><span class="hs-identifier hs-var">arg</span></a></span></span><span> </span><span id="local-6989586621683134697"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134697"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1707"></span><span>  </span><span id="local-6989586621683134698"><span class="annot"><a href="#local-6989586621683134698"><span class="hs-identifier hs-var">fun</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsArrowOf (GenLocated SrcSpanAnnA (HsExpr GhcRn)) GhcRn
-&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repFunArr"><span class="hs-identifier hs-var">repFunArr</span></a></span><span> </span><span class="annot"><span class="annottext">HsArrowOf (LHsExpr GhcRn) GhcRn
HsArrowOf (GenLocated SrcSpanAnnA (HsExpr GhcRn)) GhcRn
</span><a href="#local-6989586621683134695"><span class="hs-identifier hs-var">mult</span></a></span><span>
</span><span id="line-1708"></span><span>  </span><span id="local-6989586621683134700"><span class="annot"><a href="#local-6989586621683134700"><span class="hs-identifier hs-var">arg'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134696"><span class="hs-identifier hs-type">arg</span></a></span><span>
</span><span id="line-1709"></span><span>  </span><span id="local-6989586621683134701"><span class="annot"><a href="#local-6989586621683134701"><span class="hs-identifier hs-var">res'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134697"><span class="hs-identifier hs-type">res</span></a></span><span>
</span><span id="line-1710"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repApps"><span class="hs-identifier hs-type">repApps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134698"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683134700"><span class="hs-identifier hs-type">arg'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134701"><span class="hs-identifier hs-type">res'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1711"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span id="local-6989586621683134703"><span class="annot"><span class="annottext">e :: HsExpr GhcRn
</span><a href="#local-6989586621683134703"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#ExpandedThingRn"><span class="hs-identifier hs-type">ExpandedThingRn</span></a></span><span> </span><span id="local-6989586621683134706"><span class="annot"><span class="annottext">HsThingRn
</span><a href="#local-6989586621683134706"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621683134707"><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134707"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1712"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#OrigExpr"><span class="hs-identifier hs-type">OrigExpr</span></a></span><span> </span><span id="local-6989586621683134709"><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134709"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsThingRn
</span><a href="#local-6989586621683134706"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-1713"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134710"><span class="annot"><a href="#local-6989586621683134710"><span class="hs-identifier hs-var">rebindable_on</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DsM Bool -&gt; ReaderT MetaWrappers DsM Bool
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(DsM Bool -&gt; ReaderT MetaWrappers DsM Bool)
-&gt; DsM Bool -&gt; ReaderT MetaWrappers DsM Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Extension -&gt; DsM Bool
forall gbl lcl. Extension -&gt; TcRnIf gbl lcl Bool
</span><a href="GHC.Tc.Utils.Monad.html#xoptM"><span class="hs-identifier hs-var">xoptM</span></a></span><span> </span><span class="annot"><span class="annottext">Extension
</span><span class="hs-identifier hs-var">LangExt.RebindableSyntax</span></span><span>
</span><span id="line-1714"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621683134710"><span class="hs-identifier hs-type">rebindable_on</span></a></span><span>  </span><span class="hs-comment">-- See Note [Quotation and rebindable syntax]</span><span>
</span><span id="line-1715"></span><span>         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-type">repE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134707"><span class="hs-identifier hs-type">x</span></a></span><span>
</span><span id="line-1716"></span><span>         </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-type">repE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134709"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1717"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1718"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core (M Exp))
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcRn -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThExpressionForm"><span class="hs-identifier hs-var">ThExpressionForm</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134703"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1719"></span><span>
</span><span id="line-1720"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#PopErrCtxt"><span class="hs-identifier hs-type">PopErrCtxt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134715"><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134715"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134715"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1721"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsRecSelRn"><span class="hs-identifier hs-type">HsRecSelRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">XCFieldOcc GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134718"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134718"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XVar GhcRn -&gt; LIdP GhcRn -&gt; HsExpr GhcRn
forall p. XVar p -&gt; LIdP p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-var">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar GhcRn
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; GenLocated SrcSpanAnnN Name
forall e a. HasAnnotation e =&gt; a -&gt; GenLocated e a
</span><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-var">noLocA</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134718"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1722"></span><span>
</span><span id="line-1723"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span id="local-6989586621683134720"><span class="annot"><span class="annottext">e :: HsExpr GhcRn
</span><a href="#local-6989586621683134720"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsPragE"><span class="hs-identifier hs-type">HsPragE</span></a></span><span> </span><span class="annot"><span class="annottext">XPragE GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsPragSCC"><span class="hs-identifier hs-type">HsPragSCC</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core (M Exp))
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcRn -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThCostCentres"><span class="hs-identifier hs-var">ThCostCentres</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134720"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1724"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span id="local-6989586621683134724"><span class="annot"><span class="annottext">e :: HsExpr GhcRn
</span><a href="#local-6989586621683134724"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsTypedBracket"><span class="hs-identifier hs-type">HsTypedBracket</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core (M Exp))
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcRn -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThExpressionForm"><span class="hs-identifier hs-var">ThExpressionForm</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134724"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1725"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span id="local-6989586621683134726"><span class="annot"><span class="annottext">e :: HsExpr GhcRn
</span><a href="#local-6989586621683134726"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsUntypedBracket"><span class="hs-identifier hs-type">HsUntypedBracket</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core (M Exp))
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcRn -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThExpressionForm"><span class="hs-identifier hs-var">ThExpressionForm</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134726"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1726"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-var">repE</span></a></span><span> </span><span id="local-6989586621683134728"><span class="annot"><span class="annottext">e :: HsExpr GhcRn
</span><a href="#local-6989586621683134728"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsProc"><span class="hs-identifier hs-type">HsProc</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core (M Exp))
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcRn -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThExpressionForm"><span class="hs-identifier hs-var">ThExpressionForm</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134728"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1727"></span><span>
</span><span id="line-1728"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFunArr"><span class="hs-identifier hs-type">repFunArr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsArrowOf"><span class="hs-identifier hs-type">HsArrowOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedA"><span class="hs-identifier hs-type">LocatedA</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1729"></span><span id="repFunArr"><span class="annot"><span class="annottext">repFunArr :: HsArrowOf (GenLocated SrcSpanAnnA (HsExpr GhcRn)) GhcRn
-&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repFunArr"><span class="hs-identifier hs-var hs-var">repFunArr</span></a></span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsUnrestrictedArrow"><span class="hs-identifier hs-type">HsUnrestrictedArrow</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repConName"><span class="hs-identifier hs-var">repConName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Types.html#unrestrictedFunTyConName"><span class="hs-identifier hs-var">unrestrictedFunTyConName</span></a></span><span>
</span><span id="line-1730"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFunArr"><span class="hs-identifier hs-var">repFunArr</span></a></span><span> </span><span id="local-6989586621683134734"><span class="annot"><span class="annottext">HsArrowOf (GenLocated SrcSpanAnnA (HsExpr GhcRn)) GhcRn
</span><a href="#local-6989586621683134734"><span class="hs-identifier hs-var">mult</span></a></span></span><span>
</span><span id="line-1731"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134735"><span class="annot"><a href="#local-6989586621683134735"><span class="hs-identifier hs-var">fun</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repConName"><span class="hs-identifier hs-var">repConName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Types.Prim.html#fUNTyConName"><span class="hs-identifier hs-var">fUNTyConName</span></a></span><span>
</span><span id="line-1732"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134737"><span class="annot"><a href="#local-6989586621683134737"><span class="hs-identifier hs-var">mult'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#arrowToHsExpr"><span class="hs-identifier hs-type">arrowToHsExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134734"><span class="hs-identifier hs-type">mult</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1733"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repApp"><span class="hs-identifier hs-type">repApp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134735"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134737"><span class="hs-identifier hs-type">mult'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1734"></span><span>
</span><span id="line-1735"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repConName"><span class="hs-identifier hs-type">repConName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1736"></span><span id="repConName"><span class="annot"><span class="annottext">repConName :: Name -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repConName"><span class="hs-identifier hs-var hs-var">repConName</span></a></span></span><span> </span><span id="local-6989586621683134739"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134739"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1737"></span><span>  </span><span id="local-6989586621683134740"><span class="annot"><a href="#local-6989586621683134740"><span class="hs-identifier hs-var">core_name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DsM (Core Name) -&gt; MetaM (Core Name)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(DsM (Core Name) -&gt; MetaM (Core Name))
-&gt; DsM (Core Name) -&gt; MetaM (Core Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; DsM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#globalVar"><span class="hs-identifier hs-var">globalVar</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134739"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1738"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repCon"><span class="hs-identifier hs-type">repCon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134740"><span class="hs-identifier hs-type">core_name</span></a></span><span>
</span><span id="line-1739"></span><span>
</span><span id="line-1740"></span><span class="hs-comment">{- Note [Quotation and rebindable syntax]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Consider
  f = [| (* 3) |]

Because of Note [Handling overloaded and rebindable constructs] in GHC.Rename.Expr,
the renamer will expand (* 3) to (rightSection (*) 3), regardless of RebindableSyntax.
Then, concerning the TH quotation,

* If RebindableSyntax is off, we want the TH quote to generate the section (* 3),
  as the user originally wrote.

* If RebindableSyntax is on, we perhaps want the TH quote to generate
  (rightSection (*) 3), using whatever 'rightSection' is in scope, because
  (a) RebindableSyntax might not be on in the splicing context
  (b) Even if it is, 'rightSection' might not be in scope
  (c) At least in the case of Typed Template Haskell we should never get
      a type error from the splice.

We consult the module-wide RebindableSyntax flag here. We could instead record
the choice in ExpandedThingRn, but it seems simpler to consult the flag (again).
-}</span><span>
</span><span id="line-1762"></span><span>
</span><span id="line-1763"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-1764"></span><span class="hs-comment">-- Building representations of auxiliary structures like Match, Clause, Stmt,</span><span>
</span><span id="line-1765"></span><span>
</span><span id="line-1766"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMatchTup"><span class="hs-identifier hs-type">repMatchTup</span></a></span><span> </span><span class="hs-glyph">::</span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Match</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1767"></span><span id="repMatchTup"><span class="annot"><span class="annottext">repMatchTup :: LMatch GhcRn (LHsExpr GhcRn)
-&gt; ReaderT MetaWrappers DsM (Core (M Match))
</span><a href="GHC.HsToCore.Quote.html#repMatchTup"><span class="hs-identifier hs-var hs-var">repMatchTup</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_pats :: forall p body. Match p body -&gt; XRec p [LPat p]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621683134744"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcRn)
</span><a href="#local-6989586621683134744"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-1768"></span><span>                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: forall p body. Match p body -&gt; GRHSs p body
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><span class="annottext">XCGRHSs GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134747"><span class="annot"><span class="annottext">[LGRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))]
</span><a href="#local-6989586621683134747"><span class="hs-identifier hs-var">guards</span></a></span></span><span> </span><span id="local-6989586621683134748"><span class="annot"><span class="annottext">HsLocalBinds GhcRn
</span><a href="#local-6989586621683134748"><span class="hs-identifier hs-var">wheres</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1769"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134749"><span class="annot"><a href="#local-6989586621683134749"><span class="hs-identifier hs-var">ss1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-var">mkGenSyms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CollectFlag GhcRn -&gt; LPat GhcRn -&gt; [IdP GhcRn]
forall p. CollectPass p =&gt; CollectFlag p -&gt; LPat p -&gt; [IdP p]
</span><a href="GHC.Hs.Utils.html#collectPatBinders"><span class="hs-identifier hs-var">collectPatBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcRn
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn
GenLocated SrcSpanAnnA (Pat GhcRn)
</span><a href="#local-6989586621683134744"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1770"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134749"><span class="hs-identifier hs-type">ss1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1771"></span><span>     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134750"><span class="annot"><a href="#local-6989586621683134750"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-type">repLP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134744"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-1772"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134751"><span class="annot"><a href="#local-6989586621683134751"><span class="hs-identifier hs-var">ss2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683134752"><span class="annot"><a href="#local-6989586621683134752"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repBinds"><span class="hs-identifier hs-type">repBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134748"><span class="hs-identifier hs-type">wheres</span></a></span><span>
</span><span id="line-1773"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134751"><span class="hs-identifier hs-type">ss2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1774"></span><span>     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134753"><span class="annot"><a href="#local-6989586621683134753"><span class="hs-identifier hs-var">gs</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repGuards"><span class="hs-identifier hs-type">repGuards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134747"><span class="hs-identifier hs-type">guards</span></a></span><span>
</span><span id="line-1775"></span><span>     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134755"><span class="annot"><a href="#local-6989586621683134755"><span class="hs-identifier hs-var">match</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMatch"><span class="hs-identifier hs-type">repMatch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134750"><span class="hs-identifier hs-type">p1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134753"><span class="hs-identifier hs-type">gs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134752"><span class="hs-identifier hs-type">ds</span></a></span><span>
</span><span id="line-1776"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134749"><span class="hs-identifier hs-type">ss1</span></a></span><span class="annot"><span class="hs-operator hs-type">++</span></span><span class="annot"><a href="#local-6989586621683134751"><span class="hs-identifier hs-type">ss2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683134755"><span class="hs-identifier hs-type">match</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">}</span><span>
</span><span id="line-1777"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMatchTup"><span class="hs-identifier hs-var">repMatchTup</span></a></span><span> </span><span class="annot"><span class="annottext">LMatch GhcRn (LHsExpr GhcRn)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ReaderT MetaWrappers DsM (Core (M Match))
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;repMatchTup: case alt with more than one arg or with invisible pattern&quot;</span></span><span>
</span><span id="line-1778"></span><span>
</span><span id="line-1779"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repClauseTup"><span class="hs-identifier hs-type">repClauseTup</span></a></span><span> </span><span class="hs-glyph">::</span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Clause</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1780"></span><span id="repClauseTup"><span class="annot"><span class="annottext">repClauseTup :: LMatch GhcRn (LHsExpr GhcRn)
-&gt; ReaderT MetaWrappers DsM (Core (M Clause))
</span><a href="GHC.HsToCore.Quote.html#repClauseTup"><span class="hs-identifier hs-var hs-var">repClauseTup</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_pats :: forall p body. Match p body -&gt; XRec p [LPat p]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134757"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcRn)]
</span><a href="#local-6989586621683134757"><span class="hs-identifier hs-var">ps</span></a></span></span><span>
</span><span id="line-1781"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: forall p body. Match p body -&gt; GRHSs p body
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><span class="annottext">XCGRHSs GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134758"><span class="annot"><span class="annottext">[LGRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))]
</span><a href="#local-6989586621683134758"><span class="hs-identifier hs-var">guards</span></a></span></span><span>  </span><span id="local-6989586621683134759"><span class="annot"><span class="annottext">HsLocalBinds GhcRn
</span><a href="#local-6989586621683134759"><span class="hs-identifier hs-var">wheres</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1782"></span><span>  </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134760"><span class="annot"><a href="#local-6989586621683134760"><span class="hs-identifier hs-var">ss1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-var">mkGenSyms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CollectFlag GhcRn -&gt; [LPat GhcRn] -&gt; [IdP GhcRn]
forall p. CollectPass p =&gt; CollectFlag p -&gt; [LPat p] -&gt; [IdP p]
</span><a href="GHC.Hs.Utils.html#collectPatsBinders"><span class="hs-identifier hs-var">collectPatsBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcRn
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcRn]
[GenLocated SrcSpanAnnA (Pat GhcRn)]
</span><a href="#local-6989586621683134757"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1783"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134760"><span class="hs-identifier hs-type">ss1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1784"></span><span>       </span><span id="local-6989586621683134762"><span class="annot"><a href="#local-6989586621683134762"><span class="hs-identifier hs-var">ps1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLPs"><span class="hs-identifier hs-type">repLPs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134757"><span class="hs-identifier hs-type">ps</span></a></span><span>
</span><span id="line-1785"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134764"><span class="annot"><a href="#local-6989586621683134764"><span class="hs-identifier hs-var">ss2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683134765"><span class="annot"><a href="#local-6989586621683134765"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repBinds"><span class="hs-identifier hs-type">repBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134759"><span class="hs-identifier hs-type">wheres</span></a></span><span>
</span><span id="line-1786"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134764"><span class="hs-identifier hs-type">ss2</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1787"></span><span>       </span><span id="local-6989586621683134766"><span class="annot"><a href="#local-6989586621683134766"><span class="hs-identifier hs-var">gs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repGuards"><span class="hs-identifier hs-type">repGuards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134758"><span class="hs-identifier hs-type">guards</span></a></span><span>
</span><span id="line-1788"></span><span>     </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134767"><span class="annot"><a href="#local-6989586621683134767"><span class="hs-identifier hs-var">clause</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repClause"><span class="hs-identifier hs-type">repClause</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134762"><span class="hs-identifier hs-type">ps1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134766"><span class="hs-identifier hs-type">gs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134765"><span class="hs-identifier hs-type">ds</span></a></span><span>
</span><span id="line-1789"></span><span>     </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134760"><span class="hs-identifier hs-type">ss1</span></a></span><span class="annot"><span class="hs-operator hs-type">++</span></span><span class="annot"><a href="#local-6989586621683134764"><span class="hs-identifier hs-type">ss2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683134767"><span class="hs-identifier hs-type">clause</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">}</span><span>
</span><span id="line-1790"></span><span>
</span><span id="line-1791"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repGuards"><span class="hs-identifier hs-type">repGuards</span></a></span><span> </span><span class="hs-glyph">::</span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LGRHS"><span class="hs-identifier hs-type">LGRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Body</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1792"></span><span id="repGuards"><span class="annot"><span class="annottext">repGuards :: [LGRHS GhcRn (LHsExpr GhcRn)] -&gt; MetaM (Core (M Body))
</span><a href="GHC.HsToCore.Quote.html#repGuards"><span class="hs-identifier hs-var hs-var">repGuards</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><span class="annottext">XCGRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621683134770"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcRn)
</span><a href="#local-6989586621683134770"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1793"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span id="local-6989586621683134771"><span class="annot"><a href="#local-6989586621683134771"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
GenLocated SrcSpanAnnA (HsExpr GhcRn)
</span><a href="#local-6989586621683134770"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNormal"><span class="hs-identifier hs-type">repNormal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134771"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1794"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repGuards"><span class="hs-identifier hs-var">repGuards</span></a></span><span> </span><span id="local-6989586621683134773"><span class="annot"><span class="annottext">[LGRHS GhcRn (LHsExpr GhcRn)]
</span><a href="#local-6989586621683134773"><span class="hs-identifier hs-var">other</span></a></span></span><span>
</span><span id="line-1795"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134774"><span class="annot"><a href="#local-6989586621683134774"><span class="hs-identifier hs-var">zs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   EpAnnCO (GRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
 -&gt; ReaderT MetaWrappers DsM ([GenSymBind], Core (M (Guard, Exp))))
-&gt; [GenLocated
      EpAnnCO (GRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
-&gt; ReaderT MetaWrappers DsM [([GenSymBind], Core (M (Guard, Exp)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">LGRHS GhcRn (LHsExpr GhcRn)
-&gt; ReaderT MetaWrappers DsM ([GenSymBind], Core (M (Guard, Exp)))
GenLocated
  EpAnnCO (GRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
-&gt; ReaderT MetaWrappers DsM ([GenSymBind], Core (M (Guard, Exp)))
</span><a href="GHC.HsToCore.Quote.html#repLGRHS"><span class="hs-identifier hs-var">repLGRHS</span></a></span><span> </span><span class="annot"><span class="annottext">[LGRHS GhcRn (LHsExpr GhcRn)]
[GenLocated
   EpAnnCO (GRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134773"><span class="hs-identifier hs-var">other</span></a></span><span>
</span><span id="line-1796"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134775"><span class="annot"><a href="#local-6989586621683134775"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683134776"><span class="annot"><a href="#local-6989586621683134776"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">unzip</span></span><span> </span><span class="annot"><a href="#local-6989586621683134774"><span class="hs-identifier hs-type">zs</span></a></span><span>
</span><span id="line-1797"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134777"><span class="annot"><a href="#local-6989586621683134777"><span class="hs-identifier hs-var">gd</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repGuarded"><span class="hs-identifier hs-type">repGuarded</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList"><span class="hs-identifier hs-type">nonEmptyCoreList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134776"><span class="hs-identifier hs-type">ys</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1798"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">concat</span></span><span> </span><span class="annot"><a href="#local-6989586621683134775"><span class="hs-identifier hs-type">xs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683134777"><span class="hs-identifier hs-type">gd</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1799"></span><span>
</span><span id="line-1800"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLGRHS"><span class="hs-identifier hs-type">repLGRHS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LGRHS"><span class="hs-identifier hs-type">LGRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1801"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#GenSymBind"><span class="hs-identifier hs-type">GenSymBind</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Guard</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1802"></span><span id="repLGRHS"><span class="annot"><span class="annottext">repLGRHS :: LGRHS GhcRn (LHsExpr GhcRn)
-&gt; ReaderT MetaWrappers DsM ([GenSymBind], Core (M (Guard, Exp)))
</span><a href="GHC.HsToCore.Quote.html#repLGRHS"><span class="hs-identifier hs-var hs-var">repLGRHS</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><span class="annottext">XCGRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#BodyStmt"><span class="hs-identifier hs-type">BodyStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XBodyStmt GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134780"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcRn)
</span><a href="#local-6989586621683134780"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span id="local-6989586621683134781"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcRn)
</span><a href="#local-6989586621683134781"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1803"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134782"><span class="annot"><a href="#local-6989586621683134782"><span class="hs-identifier hs-var">guarded</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; LHsExpr GhcRn -&gt; MetaM (Core (M (Guard, Exp)))
</span><a href="GHC.HsToCore.Quote.html#repLNormalGE"><span class="hs-identifier hs-var">repLNormalGE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
GenLocated SrcSpanAnnA (HsExpr GhcRn)
</span><a href="#local-6989586621683134780"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
GenLocated SrcSpanAnnA (HsExpr GhcRn)
</span><a href="#local-6989586621683134781"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-1804"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134782"><span class="hs-identifier hs-type">guarded</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1805"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLGRHS"><span class="hs-identifier hs-var">repLGRHS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><span class="annottext">XCGRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134784"><span class="annot"><span class="annottext">[ExprLStmt GhcRn]
</span><a href="#local-6989586621683134784"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span id="local-6989586621683134785"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcRn)
</span><a href="#local-6989586621683134785"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1806"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134786"><span class="annot"><a href="#local-6989586621683134786"><span class="hs-identifier hs-var">gs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683134787"><span class="annot"><a href="#local-6989586621683134787"><span class="hs-identifier hs-var">ss'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcRn] -&gt; MetaM ([GenSymBind], [Core (M Stmt)])
</span><a href="GHC.HsToCore.Quote.html#repLSts"><span class="hs-identifier hs-var">repLSts</span></a></span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcRn]
</span><a href="#local-6989586621683134784"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-1807"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134788"><span class="annot"><a href="#local-6989586621683134788"><span class="hs-identifier hs-var">rhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134786"><span class="hs-identifier hs-type">gs</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134785"><span class="hs-identifier hs-type">rhs</span></a></span><span>
</span><span id="line-1808"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134789"><span class="annot"><a href="#local-6989586621683134789"><span class="hs-identifier hs-var">guarded</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPatGE"><span class="hs-identifier hs-type">repPatGE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList"><span class="hs-identifier hs-type">nonEmptyCoreList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134787"><span class="hs-identifier hs-type">ss'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683134788"><span class="hs-identifier hs-type">rhs'</span></a></span><span>
</span><span id="line-1809"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134786"><span class="hs-identifier hs-type">gs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134789"><span class="hs-identifier hs-type">guarded</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1810"></span><span>
</span><span id="line-1811"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFields"><span class="hs-identifier hs-type">repFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsRecordBinds"><span class="hs-identifier hs-type">HsRecordBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FieldExp</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1812"></span><span id="repFields"><span class="annot"><span class="annottext">repFields :: HsRecordBinds GhcRn -&gt; MetaM (Core [M FieldExp])
</span><a href="GHC.HsToCore.Quote.html#repFields"><span class="hs-identifier hs-var hs-var">repFields</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rec_flds :: forall p arg. HsRecFields p arg -&gt; [LHsRecField p arg]
</span><a href="Language.Haskell.Syntax.Pat.html#rec_flds"><span class="hs-identifier hs-var">rec_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134793"><span class="annot"><span class="annottext">[LHsRecUpdField GhcRn GhcRn]
</span><a href="#local-6989586621683134793"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1813"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
         (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
    -&gt; MetaM (Core (M FieldExp)))
-&gt; [GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
         (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
-&gt; MetaM (Core [M FieldExp])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-var">repListM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#fieldExpTyConName"><span class="hs-identifier hs-var">fieldExpTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">LHsRecUpdField GhcRn GhcRn -&gt; MetaM (Core (M FieldExp))
GenLocated
  SrcSpanAnnA
  (HsFieldBind
     (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
     (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
-&gt; MetaM (Core (M FieldExp))
</span><a href="#local-6989586621683134795"><span class="hs-identifier hs-var">rep_fld</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsRecUpdField GhcRn GhcRn]
[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
      (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134793"><span class="hs-identifier hs-var">flds</span></a></span><span>
</span><span id="line-1814"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1815"></span><span>    </span><span class="annot"><a href="#local-6989586621683134795"><span class="hs-identifier hs-type">rep_fld</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1816"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FieldExp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1817"></span><span>    </span><span id="local-6989586621683134795"><span class="annot"><span class="annottext">rep_fld :: LHsRecUpdField GhcRn GhcRn -&gt; MetaM (Core (M FieldExp))
</span><a href="#local-6989586621683134795"><span class="hs-identifier hs-var hs-var">rep_fld</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134796"><span class="annot"><span class="annottext">HsFieldBind
  (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
  (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621683134796"><span class="hs-identifier hs-var">fld</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134797"><span class="annot"><a href="#local-6989586621683134797"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupOcc"><span class="hs-identifier hs-var">lookupOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsRecField GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
-&gt; IdP GhcRn
forall p arg. UnXRec p =&gt; HsRecField p arg -&gt; IdP p
</span><a href="Language.Haskell.Syntax.Pat.html#hsRecFieldSel"><span class="hs-identifier hs-var">hsRecFieldSel</span></a></span><span> </span><span class="annot"><span class="annottext">HsRecField GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
HsFieldBind
  (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
  (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621683134796"><span class="hs-identifier hs-var">fld</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1818"></span><span>                           </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134799"><span class="annot"><a href="#local-6989586621683134799"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#hfbRHS"><span class="hs-identifier hs-var">hfbRHS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134796"><span class="hs-identifier hs-type">fld</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1819"></span><span>                           </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFieldExp"><span class="hs-identifier hs-type">repFieldExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134797"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134799"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1820"></span><span>
</span><span id="line-1821"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repUpdFields"><span class="hs-identifier hs-type">repUpdFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsRecUpdField"><span class="hs-identifier hs-type">LHsRecUpdField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FieldExp</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1822"></span><span id="repUpdFields"><span class="annot"><span class="annottext">repUpdFields :: [LHsRecUpdField GhcRn GhcRn] -&gt; MetaM (Core [M FieldExp])
</span><a href="GHC.HsToCore.Quote.html#repUpdFields"><span class="hs-identifier hs-var hs-var">repUpdFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
         (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
    -&gt; MetaM (Core (M FieldExp)))
-&gt; [GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
         (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
-&gt; MetaM (Core [M FieldExp])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-var">repListM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#fieldExpTyConName"><span class="hs-identifier hs-var">fieldExpTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">LHsRecUpdField GhcRn GhcRn -&gt; MetaM (Core (M FieldExp))
GenLocated
  SrcSpanAnnA
  (HsFieldBind
     (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
     (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
-&gt; MetaM (Core (M FieldExp))
</span><a href="#local-6989586621683134802"><span class="hs-identifier hs-var">rep_fld</span></a></span><span>
</span><span id="line-1823"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1824"></span><span>    </span><span class="annot"><a href="#local-6989586621683134802"><span class="hs-identifier hs-type">rep_fld</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsRecUpdField"><span class="hs-identifier hs-type">LHsRecUpdField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FieldExp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1825"></span><span>    </span><span id="local-6989586621683134802"><span class="annot"><span class="annottext">rep_fld :: LHsRecUpdField GhcRn GhcRn -&gt; MetaM (Core (M FieldExp))
</span><a href="#local-6989586621683134802"><span class="hs-identifier hs-var hs-var">rep_fld</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683134803"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683134803"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621683134804"><span class="annot"><span class="annottext">HsFieldBind
  (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
  (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621683134804"><span class="hs-identifier hs-var">fld</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1826"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">XCFieldOcc GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134805"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134805"><span class="hs-identifier hs-var">sel_name</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (FieldOcc GhcRn) -&gt; FieldOcc GhcRn
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsFieldBind
  (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
  (GenLocated SrcSpanAnnA (HsExpr GhcRn))
-&gt; GenLocated SrcSpanAnnA (FieldOcc GhcRn)
forall lhs rhs. HsFieldBind lhs rhs -&gt; lhs
</span><a href="Language.Haskell.Syntax.Pat.html#hfbLHS"><span class="hs-identifier hs-var">hfbLHS</span></a></span><span> </span><span class="annot"><span class="annottext">HsFieldBind
  (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
  (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621683134804"><span class="hs-identifier hs-var">fld</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1827"></span><span>      </span><span class="hs-comment">-- If we have an unbountName in the sel_name, that means we failed to</span><span>
</span><span id="line-1828"></span><span>      </span><span class="hs-comment">-- disambiguate during the Rename stage of Ghc. Now if we continued</span><span>
</span><span id="line-1829"></span><span>      </span><span class="hs-comment">-- onwards to type checking that might be fine, as explained in</span><span>
</span><span id="line-1830"></span><span>      </span><span class="hs-comment">-- Note [Ambiguous FieldOcc in record updates], but if instead we</span><span>
</span><span id="line-1831"></span><span>      </span><span class="hs-comment">-- are within the context of Template Haskell, we just fail immediately.</span><span>
</span><span id="line-1832"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span>  </span><span class="annot"><span class="annottext">Name -&gt; Bool
</span><a href="GHC.Builtin.Names.html#isUnboundName"><span class="hs-identifier hs-var">isUnboundName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134805"><span class="hs-identifier hs-var">sel_name</span></a></span><span>
</span><span id="line-1833"></span><span>       </span><span class="hs-keyword">then</span><span>  </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core (M FieldExp))
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsRecUpdField GhcRn GhcRn -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThAmbiguousRecordUpdates"><span class="hs-identifier hs-var">ThAmbiguousRecordUpdates</span></a></span><span> </span><span class="annot"><span class="annottext">HsRecUpdField GhcRn GhcRn
HsFieldBind
  (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
  (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621683134804"><span class="hs-identifier hs-var">fld</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1834"></span><span>       </span><span class="hs-keyword">else</span><span>  </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134809"><span class="annot"><a href="#local-6989586621683134809"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; Name -&gt; GenLocated SrcSpanAnnA Name
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683134803"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683134805"><span class="hs-identifier hs-var">sel_name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1835"></span><span>                 </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134810"><span class="annot"><a href="#local-6989586621683134810"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#hfbRHS"><span class="hs-identifier hs-var">hfbRHS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134804"><span class="hs-identifier hs-type">fld</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1836"></span><span>                 </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFieldExp"><span class="hs-identifier hs-type">repFieldExp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134809"><span class="hs-identifier hs-type">fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134810"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-1837"></span><span>                 </span><span class="hs-special">}</span><span>
</span><span id="line-1838"></span><span>
</span><span id="line-1839"></span><span>
</span><span id="line-1840"></span><span>
</span><span id="line-1841"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-1842"></span><span class="hs-comment">-- Representing Stmt's is tricky, especially if bound variables</span><span>
</span><span id="line-1843"></span><span class="hs-comment">-- shadow each other. Consider:  [| do { x &lt;- f 1; x &lt;- f x; g x } |]</span><span>
</span><span id="line-1844"></span><span class="hs-comment">-- First gensym new names for every variable in any of the patterns.</span><span>
</span><span id="line-1845"></span><span class="hs-comment">-- both static (x'1 and x'2), and dynamic ((gensym &quot;x&quot;) and (gensym &quot;y&quot;))</span><span>
</span><span id="line-1846"></span><span class="hs-comment">-- if variables didn't shadow, the static gensym wouldn't be necessary</span><span>
</span><span id="line-1847"></span><span class="hs-comment">-- and we could reuse the original names (x and x).</span><span>
</span><span id="line-1848"></span><span class="hs-comment">--</span><span>
</span><span id="line-1849"></span><span class="hs-comment">-- do { x'1 &lt;- gensym &quot;x&quot;</span><span>
</span><span id="line-1850"></span><span class="hs-comment">--    ; x'2 &lt;- gensym &quot;x&quot;</span><span>
</span><span id="line-1851"></span><span class="hs-comment">--    ; doE Nothing</span><span>
</span><span id="line-1852"></span><span class="hs-comment">--          [ BindSt (pvar x'1) [| f 1 |]</span><span>
</span><span id="line-1853"></span><span class="hs-comment">--          , BindSt (pvar x'2) [| f x |]</span><span>
</span><span id="line-1854"></span><span class="hs-comment">--          , NoBindSt [| g x |]</span><span>
</span><span id="line-1855"></span><span class="hs-comment">--          ]</span><span>
</span><span id="line-1856"></span><span class="hs-comment">--    }</span><span>
</span><span id="line-1857"></span><span>
</span><span id="line-1858"></span><span class="hs-comment">-- The strategy is to translate a whole list of do-bindings by building a</span><span>
</span><span id="line-1859"></span><span class="hs-comment">-- bigger environment, and a bigger set of meta bindings</span><span>
</span><span id="line-1860"></span><span class="hs-comment">-- (like:  x'1 &lt;- gensym &quot;x&quot; ) and then combining these with the translations</span><span>
</span><span id="line-1861"></span><span class="hs-comment">-- of the expressions within the Do</span><span>
</span><span id="line-1862"></span><span>
</span><span id="line-1863"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-1864"></span><span class="hs-comment">-- The helper function repSts computes the translation of each sub expression</span><span>
</span><span id="line-1865"></span><span class="hs-comment">-- and a bunch of prefix bindings denoting the dynamic renaming.</span><span>
</span><span id="line-1866"></span><span>
</span><span id="line-1867"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLSts"><span class="hs-identifier hs-type">repLSts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#GenSymBind"><span class="hs-identifier hs-type">GenSymBind</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1868"></span><span id="repLSts"><span class="annot"><span class="annottext">repLSts :: [ExprLStmt GhcRn] -&gt; MetaM ([GenSymBind], [Core (M Stmt)])
</span><a href="GHC.HsToCore.Quote.html#repLSts"><span class="hs-identifier hs-var hs-var">repLSts</span></a></span></span><span> </span><span id="local-6989586621683134812"><span class="annot"><span class="annottext">[ExprLStmt GhcRn]
</span><a href="#local-6989586621683134812"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Stmt GhcRn (LHsExpr GhcRn)]
-&gt; MetaM ([GenSymBind], [Core (M Stmt)])
</span><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-var">repSts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA
   (StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
 -&gt; StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
-&gt; [StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
-&gt; StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcRn]
[GenLocated
   SrcSpanAnnA
   (StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134812"><span class="hs-identifier hs-var">stmts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1869"></span><span>
</span><span id="line-1870"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-type">repSts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Stmt"><span class="hs-identifier hs-type">Stmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#GenSymBind"><span class="hs-identifier hs-type">GenSymBind</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1871"></span><span id="repSts"><span class="annot"><span class="annottext">repSts :: [Stmt GhcRn (LHsExpr GhcRn)]
-&gt; MetaM ([GenSymBind], [Core (M Stmt)])
</span><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-var hs-var">repSts</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#BindStmt"><span class="hs-identifier hs-type">BindStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XBindStmt GhcRn GhcRn (LHsExpr GhcRn)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134815"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683134815"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621683134816"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134816"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621683134817"><span class="annot"><span class="annottext">[Stmt GhcRn (LHsExpr GhcRn)]
</span><a href="#local-6989586621683134817"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1872"></span><span>   </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134818"><span class="annot"><a href="#local-6989586621683134818"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134816"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1873"></span><span>      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134819"><span class="annot"><a href="#local-6989586621683134819"><span class="hs-identifier hs-var">ss1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-type">mkGenSyms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Utils.html#collectPatBinders"><span class="hs-identifier hs-type">collectPatBinders</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-type">CollNoDictBinders</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134815"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1874"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134819"><span class="hs-identifier hs-type">ss1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-1875"></span><span>      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134820"><span class="annot"><a href="#local-6989586621683134820"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-type">repLP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134815"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">;</span><span>
</span><span id="line-1876"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134821"><span class="annot"><a href="#local-6989586621683134821"><span class="hs-identifier hs-var">ss2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683134822"><span class="annot"><a href="#local-6989586621683134822"><span class="hs-identifier hs-var">zs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-type">repSts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134817"><span class="hs-identifier hs-type">ss</span></a></span><span>
</span><span id="line-1877"></span><span>      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134823"><span class="annot"><a href="#local-6989586621683134823"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repBindSt"><span class="hs-identifier hs-type">repBindSt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134820"><span class="hs-identifier hs-type">p1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134818"><span class="hs-identifier hs-type">e2</span></a></span><span>
</span><span id="line-1878"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134819"><span class="hs-identifier hs-type">ss1</span></a></span><span class="annot"><span class="hs-operator hs-type">++</span></span><span class="annot"><a href="#local-6989586621683134821"><span class="hs-identifier hs-type">ss2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134823"><span class="hs-identifier hs-type">z</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621683134822"><span class="hs-identifier hs-type">zs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span>
</span><span id="line-1879"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-var">repSts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LetStmt"><span class="hs-identifier hs-type">LetStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XLetStmt GhcRn GhcRn (LHsExpr GhcRn)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134826"><span class="annot"><span class="annottext">HsLocalBinds GhcRn
</span><a href="#local-6989586621683134826"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621683134827"><span class="annot"><span class="annottext">[Stmt GhcRn (LHsExpr GhcRn)]
</span><a href="#local-6989586621683134827"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1880"></span><span>   </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134828"><span class="annot"><a href="#local-6989586621683134828"><span class="hs-identifier hs-var">ss1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683134829"><span class="annot"><a href="#local-6989586621683134829"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcRn -&gt; MetaM ([GenSymBind], Core [M Dec])
</span><a href="GHC.HsToCore.Quote.html#repBinds"><span class="hs-identifier hs-var">repBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcRn
</span><a href="#local-6989586621683134826"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-1881"></span><span>      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134830"><span class="annot"><a href="#local-6989586621683134830"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLetSt"><span class="hs-identifier hs-type">repLetSt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134829"><span class="hs-identifier hs-type">ds</span></a></span><span>
</span><span id="line-1882"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134832"><span class="annot"><a href="#local-6989586621683134832"><span class="hs-identifier hs-var">ss2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683134833"><span class="annot"><a href="#local-6989586621683134833"><span class="hs-identifier hs-var">zs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134828"><span class="hs-identifier hs-type">ss1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-type">repSts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134827"><span class="hs-identifier hs-type">ss</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1883"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134828"><span class="hs-identifier hs-type">ss1</span></a></span><span class="annot"><span class="hs-operator hs-type">++</span></span><span class="annot"><a href="#local-6989586621683134832"><span class="hs-identifier hs-type">ss2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134830"><span class="hs-identifier hs-type">z</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621683134833"><span class="hs-identifier hs-type">zs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1884"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-var">repSts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#BodyStmt"><span class="hs-identifier hs-type">BodyStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XBodyStmt GhcRn GhcRn (LHsExpr GhcRn)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134834"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134834"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621683134835"><span class="annot"><span class="annottext">[Stmt GhcRn (LHsExpr GhcRn)]
</span><a href="#local-6989586621683134835"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1885"></span><span>   </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134836"><span class="annot"><a href="#local-6989586621683134836"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134834"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1886"></span><span>      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134837"><span class="annot"><a href="#local-6989586621683134837"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNoBindSt"><span class="hs-identifier hs-type">repNoBindSt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134836"><span class="hs-identifier hs-type">e2</span></a></span><span>
</span><span id="line-1887"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134839"><span class="annot"><a href="#local-6989586621683134839"><span class="hs-identifier hs-var">ss2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683134840"><span class="annot"><a href="#local-6989586621683134840"><span class="hs-identifier hs-var">zs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-type">repSts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134835"><span class="hs-identifier hs-type">ss</span></a></span><span>
</span><span id="line-1888"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134839"><span class="hs-identifier hs-type">ss2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134837"><span class="hs-identifier hs-type">z</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621683134840"><span class="hs-identifier hs-type">zs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1889"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-var">repSts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ParStmt"><span class="hs-identifier hs-type">ParStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XParStmt GhcRn GhcRn (LHsExpr GhcRn)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134842"><span class="annot"><span class="annottext">[ParStmtBlock GhcRn GhcRn]
</span><a href="#local-6989586621683134842"><span class="hs-identifier hs-var">stmt_blocks</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621683134843"><span class="annot"><span class="annottext">[Stmt GhcRn (LHsExpr GhcRn)]
</span><a href="#local-6989586621683134843"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1890"></span><span>   </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134844"><span class="annot"><a href="#local-6989586621683134844"><span class="hs-identifier hs-var">ss_s</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683134845"><span class="annot"><a href="#local-6989586621683134845"><span class="hs-identifier hs-var">stmt_blocks1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(ParStmtBlock GhcRn GhcRn
 -&gt; ReaderT MetaWrappers DsM ([GenSymBind], Core [M Stmt]))
-&gt; [ParStmtBlock GhcRn GhcRn]
-&gt; ReaderT MetaWrappers DsM ([[GenSymBind]], [Core [M Stmt]])
forall (m :: * -&gt; *) a b c.
Applicative m =&gt;
(a -&gt; m (b, c)) -&gt; [a] -&gt; m ([b], [c])
</span><span class="hs-identifier hs-var">mapAndUnzipM</span></span><span> </span><span class="annot"><span class="annottext">ParStmtBlock GhcRn GhcRn
-&gt; ReaderT MetaWrappers DsM ([GenSymBind], Core [M Stmt])
</span><a href="#local-6989586621683134847"><span class="hs-identifier hs-var">rep_stmt_block</span></a></span><span> </span><span class="annot"><span class="annottext">[ParStmtBlock GhcRn GhcRn]
</span><a href="#local-6989586621683134842"><span class="hs-identifier hs-var">stmt_blocks</span></a></span><span>
</span><span id="line-1891"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683134848"><span class="annot"><a href="#local-6989586621683134848"><span class="hs-identifier hs-var hs-var">stmt_blocks2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Core [M Stmt]] -&gt; Core [[M Stmt]]
forall a. [Core a] -&gt; Core [a]
</span><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList"><span class="hs-identifier hs-var">nonEmptyCoreList</span></a></span><span> </span><span class="annot"><span class="annottext">[Core [M Stmt]]
</span><a href="#local-6989586621683134845"><span class="hs-identifier hs-var">stmt_blocks1</span></a></span><span>
</span><span id="line-1892"></span><span>            </span><span id="local-6989586621683134849"><span class="annot"><a href="#local-6989586621683134849"><span class="hs-identifier hs-var hs-var">ss1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[GenSymBind]] -&gt; [GenSymBind]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="annot"><span class="annottext">[[GenSymBind]]
</span><a href="#local-6989586621683134844"><span class="hs-identifier hs-var">ss_s</span></a></span><span>
</span><span id="line-1893"></span><span>      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134850"><span class="annot"><a href="#local-6989586621683134850"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repParSt"><span class="hs-identifier hs-type">repParSt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134848"><span class="hs-identifier hs-type">stmt_blocks2</span></a></span><span>
</span><span id="line-1894"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134852"><span class="annot"><a href="#local-6989586621683134852"><span class="hs-identifier hs-var">ss2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683134853"><span class="annot"><a href="#local-6989586621683134853"><span class="hs-identifier hs-var">zs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134849"><span class="hs-identifier hs-type">ss1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-type">repSts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134843"><span class="hs-identifier hs-type">ss</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1895"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134849"><span class="hs-identifier hs-type">ss1</span></a></span><span class="annot"><span class="hs-operator hs-type">++</span></span><span class="annot"><a href="#local-6989586621683134852"><span class="hs-identifier hs-type">ss2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134850"><span class="hs-identifier hs-type">z</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621683134853"><span class="hs-identifier hs-type">zs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1896"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1897"></span><span>     </span><span class="annot"><a href="#local-6989586621683134847"><span class="hs-identifier hs-type">rep_stmt_block</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ParStmtBlock"><span class="hs-identifier hs-type">ParStmtBlock</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-1898"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#GenSymBind"><span class="hs-identifier hs-type">GenSymBind</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1899"></span><span>     </span><span id="local-6989586621683134847"><span class="annot"><span class="annottext">rep_stmt_block :: ParStmtBlock GhcRn GhcRn
-&gt; ReaderT MetaWrappers DsM ([GenSymBind], Core [M Stmt])
</span><a href="#local-6989586621683134847"><span class="hs-identifier hs-var hs-var">rep_stmt_block</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ParStmtBlock"><span class="hs-identifier hs-type">ParStmtBlock</span></a></span><span> </span><span class="annot"><span class="annottext">XParStmtBlock GhcRn GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134855"><span class="annot"><span class="annottext">[ExprLStmt GhcRn]
</span><a href="#local-6989586621683134855"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span class="annot"><span class="annottext">[IdP GhcRn]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1900"></span><span>       </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134856"><span class="annot"><a href="#local-6989586621683134856"><span class="hs-identifier hs-var">ss1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683134857"><span class="annot"><a href="#local-6989586621683134857"><span class="hs-identifier hs-var">zs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Stmt GhcRn (LHsExpr GhcRn)]
-&gt; MetaM ([GenSymBind], [Core (M Stmt)])
</span><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-var">repSts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA
   (StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
 -&gt; StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
-&gt; [StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnA
  (StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
-&gt; StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcRn]
[GenLocated
   SrcSpanAnnA
   (StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134855"><span class="hs-identifier hs-var">stmts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1901"></span><span>          </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134858"><span class="annot"><a href="#local-6989586621683134858"><span class="hs-identifier hs-var">zs1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-type">coreListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#stmtTyConName"><span class="hs-identifier hs-type">stmtTyConName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134857"><span class="hs-identifier hs-type">zs</span></a></span><span>
</span><span id="line-1902"></span><span>          </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134856"><span class="hs-identifier hs-type">ss1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134858"><span class="hs-identifier hs-type">zs1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1903"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-var">repSts</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LastStmt"><span class="hs-identifier hs-type">LastStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XLastStmt GhcRn GhcRn (LHsExpr GhcRn)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134861"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134861"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">]</span><span>
</span><span id="line-1904"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134862"><span class="annot"><a href="#local-6989586621683134862"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683134861"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1905"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134863"><span class="annot"><a href="#local-6989586621683134863"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNoBindSt"><span class="hs-identifier hs-type">repNoBindSt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134862"><span class="hs-identifier hs-type">e2</span></a></span><span>
</span><span id="line-1906"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683134863"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1907"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-var">repSts</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134864"><span class="annot"><span class="annottext">stmt :: Stmt GhcRn (LHsExpr GhcRn)
</span><a href="#local-6989586621683134864"><span class="hs-identifier hs-var">stmt</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecStmt"><span class="hs-identifier hs-type">RecStmt</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621683134866"><span class="annot"><span class="annottext">[Stmt GhcRn (LHsExpr GhcRn)]
</span><a href="#local-6989586621683134866"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1908"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683134867"><span class="annot"><span class="annottext">binders :: [IdP GhcRn]
</span><a href="#local-6989586621683134867"><span class="hs-identifier hs-var hs-var hs-var">binders</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcRn
-&gt; [LStmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))]
-&gt; [IdP GhcRn]
forall (idL :: Pass) (idR :: Pass) body.
(IsPass idL, IsPass idR, CollectPass (GhcPass idL)) =&gt;
CollectFlag (GhcPass idL)
-&gt; [LStmtLR (GhcPass idL) (GhcPass idR) body]
-&gt; [IdP (GhcPass idL)]
</span><a href="GHC.Hs.Utils.html#collectLStmtsBinders"><span class="hs-identifier hs-var">collectLStmtsBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcRn
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnLW
  [LStmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))]
-&gt; [LStmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))]
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnLW
   [LStmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))]
 -&gt; [LStmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))])
-&gt; GenLocated
     SrcSpanAnnLW
     [LStmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))]
-&gt; [LStmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
-&gt; XRec
     GhcRn [LStmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))]
forall idL idR body.
StmtLR idL idR body -&gt; XRec idR [LStmtLR idL idR body]
</span><a href="Language.Haskell.Syntax.Expr.html#recS_stmts"><span class="hs-identifier hs-var">recS_stmts</span></a></span><span> </span><span class="annot"><span class="annottext">Stmt GhcRn (LHsExpr GhcRn)
StmtLR GhcRn GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621683134864"><span class="hs-identifier hs-var">stmt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1909"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134870"><span class="annot"><a href="#local-6989586621683134870"><span class="hs-identifier hs-var">ss1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-var">mkGenSyms</span></a></span><span> </span><span class="annot"><span class="annottext">[IdP GhcRn]
[Name]
</span><a href="#local-6989586621683134867"><span class="hs-identifier hs-var">binders</span></a></span><span>
</span><span id="line-1910"></span><span>       </span><span class="hs-comment">-- Bring all of binders in the recursive group into scope for the</span><span>
</span><span id="line-1911"></span><span>       </span><span class="hs-comment">-- whole group.</span><span>
</span><span id="line-1912"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134871"><span class="annot"><a href="#local-6989586621683134871"><span class="hs-identifier hs-var">ss1_other</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683134872"><span class="annot"><a href="#local-6989586621683134872"><span class="hs-identifier hs-var">rss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134870"><span class="hs-identifier hs-type">ss1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-type">repSts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">map</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_stmts"><span class="hs-identifier hs-var">recS_stmts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134864"><span class="hs-identifier hs-type">stmt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1913"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.Plain.html#massert"><span class="hs-identifier hs-type">massert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">sort</span></span><span> </span><span class="annot"><a href="#local-6989586621683134870"><span class="hs-identifier hs-type">ss1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">==</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">sort</span></span><span> </span><span class="annot"><a href="#local-6989586621683134871"><span class="hs-identifier hs-type">ss1_other</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1914"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134874"><span class="annot"><a href="#local-6989586621683134874"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRecSt"><span class="hs-identifier hs-type">repRecSt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList"><span class="hs-identifier hs-type">nonEmptyCoreList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134872"><span class="hs-identifier hs-type">rss</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1915"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134876"><span class="annot"><a href="#local-6989586621683134876"><span class="hs-identifier hs-var">ss2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683134877"><span class="annot"><a href="#local-6989586621683134877"><span class="hs-identifier hs-var">zs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134870"><span class="hs-identifier hs-type">ss1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-type">repSts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134866"><span class="hs-identifier hs-type">ss</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1916"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134870"><span class="hs-identifier hs-type">ss1</span></a></span><span class="annot"><span class="hs-operator hs-type">++</span></span><span class="annot"><a href="#local-6989586621683134876"><span class="hs-identifier hs-type">ss2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134874"><span class="hs-identifier hs-type">z</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><a href="#local-6989586621683134877"><span class="hs-identifier hs-type">zs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1917"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-var">repSts</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([GenSymBind], [Core (M Stmt)])
-&gt; MetaM ([GenSymBind], [Core (M Stmt)])
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1918"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSts"><span class="hs-identifier hs-var">repSts</span></a></span><span> </span><span id="local-6989586621683134878"><span class="annot"><span class="annottext">[Stmt GhcRn (LHsExpr GhcRn)]
</span><a href="#local-6989586621683134878"><span class="hs-identifier hs-var">other</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM ([GenSymBind], [Core (M Stmt)])
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Stmt GhcRn (LHsExpr GhcRn)] -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThExoticStatement"><span class="hs-identifier hs-var">ThExoticStatement</span></a></span><span> </span><span class="annot"><span class="annottext">[Stmt GhcRn (LHsExpr GhcRn)]
</span><a href="#local-6989586621683134878"><span class="hs-identifier hs-var">other</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1919"></span><span>
</span><span id="line-1920"></span><span>
</span><span id="line-1921"></span><span class="hs-comment">-----------------------------------------------------------</span><span>
</span><span id="line-1922"></span><span class="hs-comment">--                      Bindings</span><span>
</span><span id="line-1923"></span><span class="hs-comment">-----------------------------------------------------------</span><span>
</span><span id="line-1924"></span><span>
</span><span id="line-1925"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repBinds"><span class="hs-identifier hs-type">repBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#GenSymBind"><span class="hs-identifier hs-type">GenSymBind</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1926"></span><span id="repBinds"><span class="annot"><span class="annottext">repBinds :: HsLocalBinds GhcRn -&gt; MetaM ([GenSymBind], Core [M Dec])
</span><a href="GHC.HsToCore.Quote.html#repBinds"><span class="hs-identifier hs-var hs-var">repBinds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#EmptyLocalBinds"><span class="hs-identifier hs-type">EmptyLocalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XEmptyLocalBinds GhcRn GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-1927"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134881"><span class="annot"><a href="#local-6989586621683134881"><span class="hs-identifier hs-var">core_list</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Core (M Dec)] -&gt; MetaM (Core [M Dec])
forall a. Name -&gt; [Core a] -&gt; MetaM (Core [a])
</span><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-var">coreListM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#decTyConName"><span class="hs-identifier hs-var">decTyConName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1928"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134881"><span class="hs-identifier hs-type">core_list</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1929"></span><span>
</span><span id="line-1930"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repBinds"><span class="hs-identifier hs-var">repBinds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsIPBinds"><span class="hs-identifier hs-type">HsIPBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XHsIPBinds GhcRn GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IPBinds"><span class="hs-identifier hs-type">IPBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XIPBinds GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134884"><span class="annot"><span class="annottext">[LIPBind GhcRn]
</span><a href="#local-6989586621683134884"><span class="hs-identifier hs-var">decs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1931"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>   </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134885"><span class="annot"><a href="#local-6989586621683134885"><span class="hs-identifier hs-var">ips</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (IPBind GhcRn)
 -&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec)))
-&gt; [GenLocated SrcSpanAnnA (IPBind GhcRn)]
-&gt; MetaM [(SrcSpan, Core (M Dec))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">LIPBind GhcRn -&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
GenLocated SrcSpanAnnA (IPBind GhcRn)
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#rep_implicit_param_bind"><span class="hs-identifier hs-var">rep_implicit_param_bind</span></a></span><span> </span><span class="annot"><span class="annottext">[LIPBind GhcRn]
[GenLocated SrcSpanAnnA (IPBind GhcRn)]
</span><a href="#local-6989586621683134884"><span class="hs-identifier hs-var">decs</span></a></span><span>
</span><span id="line-1932"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134887"><span class="annot"><a href="#local-6989586621683134887"><span class="hs-identifier hs-var">core_list</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-type">coreListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#decTyConName"><span class="hs-identifier hs-type">decTyConName</span></a></span><span>
</span><span id="line-1933"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#de_loc"><span class="hs-identifier hs-type">de_loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#sort_by_loc"><span class="hs-identifier hs-type">sort_by_loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134885"><span class="hs-identifier hs-type">ips</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1934"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134887"><span class="hs-identifier hs-type">core_list</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1935"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-1936"></span><span>
</span><span id="line-1937"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repBinds"><span class="hs-identifier hs-var">repBinds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XHsValBinds GhcRn GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134889"><span class="annot"><span class="annottext">HsValBinds GhcRn
</span><a href="#local-6989586621683134889"><span class="hs-identifier hs-var">decs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1938"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>   </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134890"><span class="annot"><span class="annottext">bndrs :: [Name]
</span><a href="#local-6989586621683134890"><span class="hs-identifier hs-var hs-var hs-var">bndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcRn -&gt; [Name]
</span><a href="GHC.HsToCore.Quote.html#hsScopedTvBinders"><span class="hs-identifier hs-var">hsScopedTvBinders</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcRn
</span><a href="#local-6989586621683134889"><span class="hs-identifier hs-var">decs</span></a></span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; [Name] -&gt; [Name]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcRn -&gt; HsValBinds GhcRn -&gt; [IdP GhcRn]
forall (idL :: Pass) idR.
CollectPass (GhcPass idL) =&gt;
CollectFlag (GhcPass idL)
-&gt; HsValBindsLR (GhcPass idL) idR -&gt; [IdP (GhcPass idL)]
</span><a href="GHC.Hs.Utils.html#collectHsValBinders"><span class="hs-identifier hs-var">collectHsValBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcRn
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBinds GhcRn
</span><a href="#local-6989586621683134889"><span class="hs-identifier hs-var">decs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1939"></span><span>                </span><span class="hs-comment">-- No need to worry about detailed scopes within</span><span>
</span><span id="line-1940"></span><span>                </span><span class="hs-comment">-- the binding group, because we are talking Names</span><span>
</span><span id="line-1941"></span><span>                </span><span class="hs-comment">-- here, so we can safely treat it as a mutually</span><span>
</span><span id="line-1942"></span><span>                </span><span class="hs-comment">-- recursive group</span><span>
</span><span id="line-1943"></span><span>                </span><span class="hs-comment">-- For hsScopedTvBinders see Note [Scoped type variables in quotes]</span><span>
</span><span id="line-1944"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134892"><span class="annot"><a href="#local-6989586621683134892"><span class="hs-identifier hs-var">ss</span></a></span></span><span>        </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-var">mkGenSyms</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683134890"><span class="hs-identifier hs-var">bndrs</span></a></span><span>
</span><span id="line-1945"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134893"><span class="annot"><a href="#local-6989586621683134893"><span class="hs-identifier hs-var">prs</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134892"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_val_binds"><span class="hs-identifier hs-type">rep_val_binds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134889"><span class="hs-identifier hs-type">decs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1946"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134894"><span class="annot"><a href="#local-6989586621683134894"><span class="hs-identifier hs-var">core_list</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-type">coreListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#decTyConName"><span class="hs-identifier hs-type">decTyConName</span></a></span><span>
</span><span id="line-1947"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#de_loc"><span class="hs-identifier hs-type">de_loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#sort_by_loc"><span class="hs-identifier hs-type">sort_by_loc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134893"><span class="hs-identifier hs-type">prs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1948"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134892"><span class="hs-identifier hs-type">ss</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134894"><span class="hs-identifier hs-type">core_list</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1949"></span><span>
</span><span id="line-1950"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_implicit_param_bind"><span class="hs-identifier hs-type">rep_implicit_param_bind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LIPBind"><span class="hs-identifier hs-type">LIPBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1951"></span><span id="rep_implicit_param_bind"><span class="annot"><span class="annottext">rep_implicit_param_bind :: LIPBind GhcRn -&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#rep_implicit_param_bind"><span class="hs-identifier hs-var hs-var">rep_implicit_param_bind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683134895"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683134895"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IPBind"><span class="hs-identifier hs-type">IPBind</span></a></span><span> </span><span class="annot"><span class="annottext">XCIPBind GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134897"><span class="annot"><span class="annottext">HsIPName
</span><a href="#local-6989586621683134897"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134898"><span class="annot"><span class="annottext">HsExpr GhcRn
</span><a href="#local-6989586621683134898"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1952"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134899"><span class="annot"><a href="#local-6989586621683134899"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsIPName -&gt; ReaderT MetaWrappers DsM (Core String)
</span><a href="GHC.HsToCore.Quote.html#rep_implicit_param_name"><span class="hs-identifier hs-var">rep_implicit_param_name</span></a></span><span> </span><span class="annot"><span class="annottext">HsIPName
</span><a href="#local-6989586621683134897"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1953"></span><span>      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134900"><span class="annot"><a href="#local-6989586621683134900"><span class="hs-identifier hs-var">rhs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repE"><span class="hs-identifier hs-type">repE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134898"><span class="hs-identifier hs-type">rhs</span></a></span><span>
</span><span id="line-1954"></span><span>      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134901"><span class="annot"><a href="#local-6989586621683134901"><span class="hs-identifier hs-var">ipb</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repImplicitParamBind"><span class="hs-identifier hs-type">repImplicitParamBind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134899"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134900"><span class="hs-identifier hs-type">rhs'</span></a></span><span>
</span><span id="line-1955"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134895"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134901"><span class="hs-identifier hs-type">ipb</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1956"></span><span>
</span><span id="line-1957"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_implicit_param_name"><span class="hs-identifier hs-type">rep_implicit_param_name</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsIPName"><span class="hs-identifier hs-type">HsIPName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span>
</span><span id="line-1958"></span><span id="rep_implicit_param_name"><span class="annot"><span class="annottext">rep_implicit_param_name :: HsIPName -&gt; ReaderT MetaWrappers DsM (Core String)
</span><a href="GHC.HsToCore.Quote.html#rep_implicit_param_name"><span class="hs-identifier hs-var hs-var">rep_implicit_param_name</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsIPName"><span class="hs-identifier hs-type">HsIPName</span></a></span><span> </span><span id="local-6989586621683134904"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683134904"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReaderT MetaWrappers DsM (Core String)
forall (m :: * -&gt; *).
MonadThings m =&gt;
FastString -&gt; m (Core String)
</span><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-var">coreStringLit</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683134904"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-1959"></span><span>
</span><span id="line-1960"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_val_binds"><span class="hs-identifier hs-type">rep_val_binds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1961"></span><span class="hs-comment">-- Assumes: all the binders of the binding are already in the meta-env</span><span>
</span><span id="line-1962"></span><span id="rep_val_binds"><span class="annot"><span class="annottext">rep_val_binds :: HsValBinds GhcRn -&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_val_binds"><span class="hs-identifier hs-var hs-var">rep_val_binds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#XValBindsLR"><span class="hs-identifier hs-type">XValBindsLR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Binds.html#NValBinds"><span class="hs-identifier hs-type">NValBinds</span></a></span><span> </span><span id="local-6989586621683134905"><span class="annot"><span class="annottext">[(RecFlag, LHsBindsLR GhcRn GhcRn)]
</span><a href="#local-6989586621683134905"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span id="local-6989586621683134906"><span class="annot"><span class="annottext">[LSig GhcRn]
</span><a href="#local-6989586621683134906"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1963"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134907"><span class="annot"><a href="#local-6989586621683134907"><span class="hs-identifier hs-var">core1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcRn -&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_binds"><span class="hs-identifier hs-var">rep_binds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((RecFlag, [GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcRn)])
 -&gt; [GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcRn)])
-&gt; [(RecFlag, [GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcRn)])]
-&gt; [GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcRn)]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">(RecFlag, [GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcRn)])
-&gt; [GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcRn)]
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">[(RecFlag, LHsBindsLR GhcRn GhcRn)]
[(RecFlag, [GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcRn)])]
</span><a href="#local-6989586621683134905"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1964"></span><span>      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134909"><span class="annot"><a href="#local-6989586621683134909"><span class="hs-identifier hs-var">core2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_sigs"><span class="hs-identifier hs-type">rep_sigs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134906"><span class="hs-identifier hs-type">sigs</span></a></span><span>
</span><span id="line-1965"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683134907"><span class="hs-identifier hs-type">core1</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621683134909"><span class="hs-identifier hs-type">core2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1966"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_val_binds"><span class="hs-identifier hs-var">rep_val_binds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ValBinds"><span class="hs-identifier hs-type">ValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XValBinds GhcRn GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsBindsLR GhcRn GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LSig GhcRn]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-1967"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; MetaM [(SrcSpan, Core (M Dec))]
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;rep_val_binds: ValBinds&quot;</span></span><span>
</span><span id="line-1968"></span><span>
</span><span id="line-1969"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_binds"><span class="hs-identifier hs-type">rep_binds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1970"></span><span id="rep_binds"><span class="annot"><span class="annottext">rep_binds :: LHsBindsLR GhcRn GhcRn -&gt; MetaM [(SrcSpan, Core (M Dec))]
</span><a href="GHC.HsToCore.Quote.html#rep_binds"><span class="hs-identifier hs-var hs-var">rep_binds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcRn)
 -&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec)))
-&gt; [GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcRn)]
-&gt; MetaM [(SrcSpan, Core (M Dec))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">LHsBind GhcRn -&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
GenLocated SrcSpanAnnA (HsBindLR GhcRn GhcRn)
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#rep_bind"><span class="hs-identifier hs-var">rep_bind</span></a></span><span>
</span><span id="line-1971"></span><span>
</span><span id="line-1972"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_bind"><span class="hs-identifier hs-type">rep_bind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1973"></span><span class="hs-comment">-- Assumes: all the binders of the binding are already in the meta-env</span><span>
</span><span id="line-1974"></span><span>
</span><span id="line-1975"></span><span class="hs-comment">-- Note GHC treats declarations of a variable (not a pattern)</span><span>
</span><span id="line-1976"></span><span class="hs-comment">-- e.g.  x = g 5 as a Fun MonoBinds. This is indicated by a single match</span><span>
</span><span id="line-1977"></span><span class="hs-comment">-- with an empty list of patterns</span><span>
</span><span id="line-1978"></span><span id="rep_bind"><span class="annot"><span class="annottext">rep_bind :: LHsBind GhcRn -&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#rep_bind"><span class="hs-identifier hs-var hs-var">rep_bind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683134911"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683134911"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span>
</span><span id="line-1979"></span><span>                 </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_id :: forall idL idR. HsBindLR idL idR -&gt; LIdP idL
</span><a href="Language.Haskell.Syntax.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134914"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683134914"><span class="hs-identifier hs-var">fn</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-1980"></span><span>                   </span><span class="annot"><span class="annottext">fun_matches :: forall idL idR. HsBindLR idL idR -&gt; MatchGroup idR (LHsExpr idR)
</span><a href="Language.Haskell.Syntax.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span>
</span><span id="line-1981"></span><span>                           </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnLW
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span>
</span><span id="line-1982"></span><span>                                   </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_pats :: forall p body. Match p body -&gt; XRec p [LPat p]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1983"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: forall p body. Match p body -&gt; GRHSs p body
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><span class="annottext">XCGRHSs GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134916"><span class="annot"><span class="annottext">[LGRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))]
</span><a href="#local-6989586621683134916"><span class="hs-identifier hs-var">guards</span></a></span></span><span> </span><span id="local-6989586621683134917"><span class="annot"><span class="annottext">HsLocalBinds GhcRn
</span><a href="#local-6989586621683134917"><span class="hs-identifier hs-var">wheres</span></a></span></span><span>
</span><span id="line-1984"></span><span>                                   </span><span class="hs-comment">-- For a variable declaration I'm pretty</span><span>
</span><span id="line-1985"></span><span>                                   </span><span class="hs-comment">-- sure we always have a FunRhs</span><span>
</span><span id="line-1986"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_ctxt :: forall p body. Match p body -&gt; HsMatchContext (LIdP (NoGhcTc p))
</span><a href="Language.Haskell.Syntax.Expr.html#m_ctxt"><span class="hs-identifier hs-var">m_ctxt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FunRhs"><span class="hs-identifier hs-type">FunRhs</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mc_strictness :: forall fn. HsMatchContext fn -&gt; SrcStrictness
</span><a href="Language.Haskell.Syntax.Expr.html#mc_strictness"><span class="hs-identifier hs-var">mc_strictness</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134921"><span class="annot"><span class="annottext">SrcStrictness
</span><a href="#local-6989586621683134921"><span class="hs-identifier hs-var">strictessAnn</span></a></span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1987"></span><span>                                   </span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1988"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134922"><span class="annot"><a href="#local-6989586621683134922"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683134923"><span class="annot"><a href="#local-6989586621683134923"><span class="hs-identifier hs-var">wherecore</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcRn -&gt; MetaM ([GenSymBind], Core [M Dec])
</span><a href="GHC.HsToCore.Quote.html#repBinds"><span class="hs-identifier hs-var">repBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcRn
</span><a href="#local-6989586621683134917"><span class="hs-identifier hs-var">wheres</span></a></span><span>
</span><span id="line-1989"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134924"><span class="annot"><a href="#local-6989586621683134924"><span class="hs-identifier hs-var">guardcore</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134922"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repGuards"><span class="hs-identifier hs-type">repGuards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134916"><span class="hs-identifier hs-type">guards</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1990"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134925"><span class="annot"><a href="#local-6989586621683134925"><span class="hs-identifier hs-var">fn'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#lookupNBinder"><span class="hs-identifier hs-type">lookupNBinder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134914"><span class="hs-identifier hs-type">fn</span></a></span><span>
</span><span id="line-1991"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134926"><span class="annot"><a href="#local-6989586621683134926"><span class="hs-identifier hs-var">p</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPvar"><span class="hs-identifier hs-type">repPvar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134925"><span class="hs-identifier hs-type">fn'</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&gt;&gt;=</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621683134921"><span class="hs-identifier hs-type">strictessAnn</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1992"></span><span>                                    </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#SrcLazy"><span class="hs-identifier hs-var">SrcLazy</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Core (M Pat) -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPtilde"><span class="hs-identifier hs-var">repPtilde</span></a></span><span>
</span><span id="line-1993"></span><span>                                    </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#SrcStrict"><span class="hs-identifier hs-var">SrcStrict</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Core (M Pat) -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPbang"><span class="hs-identifier hs-var">repPbang</span></a></span><span>
</span><span id="line-1994"></span><span>                                    </span><span class="annot"><span class="annottext">SrcStrictness
</span><a href="Language.Haskell.Syntax.Basic.html#NoSrcStrict"><span class="hs-identifier hs-var">NoSrcStrict</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Core (M Pat) -&gt; MetaM (Core (M Pat))
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-1995"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134930"><span class="annot"><a href="#local-6989586621683134930"><span class="hs-identifier hs-var">ans</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repVal"><span class="hs-identifier hs-type">repVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134926"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134924"><span class="hs-identifier hs-type">guardcore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134923"><span class="hs-identifier hs-type">wherecore</span></a></span><span>
</span><span id="line-1996"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134932"><span class="annot"><a href="#local-6989586621683134932"><span class="hs-identifier hs-var">ans'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134922"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134930"><span class="hs-identifier hs-type">ans</span></a></span><span>
</span><span id="line-1997"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134911"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134932"><span class="hs-identifier hs-type">ans'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1998"></span><span>
</span><span id="line-1999"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_bind"><span class="hs-identifier hs-var">rep_bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683134933"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683134933"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_id :: forall idL idR. HsBindLR idL idR -&gt; LIdP idL
</span><a href="Language.Haskell.Syntax.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134934"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683134934"><span class="hs-identifier hs-var">fn</span></a></span></span><span>
</span><span id="line-2000"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fun_matches :: forall idL idR. HsBindLR idL idR -&gt; MatchGroup idR (LHsExpr idR)
</span><a href="Language.Haskell.Syntax.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnLW
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134935"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134935"><span class="hs-identifier hs-var">ms</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2001"></span><span> </span><span class="hs-glyph">=</span><span>   </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134936"><span class="annot"><a href="#local-6989586621683134936"><span class="hs-identifier hs-var">ms1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
 -&gt; ReaderT MetaWrappers DsM (Core (M Clause)))
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
-&gt; ReaderT MetaWrappers DsM [Core (M Clause)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">LMatch GhcRn (LHsExpr GhcRn)
-&gt; ReaderT MetaWrappers DsM (Core (M Clause))
GenLocated
  SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
-&gt; ReaderT MetaWrappers DsM (Core (M Clause))
</span><a href="GHC.HsToCore.Quote.html#repClauseTup"><span class="hs-identifier hs-var">repClauseTup</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683134935"><span class="hs-identifier hs-var">ms</span></a></span><span>
</span><span id="line-2002"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134937"><span class="annot"><a href="#local-6989586621683134937"><span class="hs-identifier hs-var">fn'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#lookupNBinder"><span class="hs-identifier hs-type">lookupNBinder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134934"><span class="hs-identifier hs-type">fn</span></a></span><span>
</span><span id="line-2003"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134938"><span class="annot"><a href="#local-6989586621683134938"><span class="hs-identifier hs-var">ans</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFun"><span class="hs-identifier hs-type">repFun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134937"><span class="hs-identifier hs-type">fn'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList"><span class="hs-identifier hs-type">nonEmptyCoreList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134936"><span class="hs-identifier hs-type">ms1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2004"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134933"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134938"><span class="hs-identifier hs-type">ans</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2005"></span><span>
</span><span id="line-2006"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_bind"><span class="hs-identifier hs-var">rep_bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683134940"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683134940"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatBind"><span class="hs-identifier hs-type">PatBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_lhs :: forall idL idR. HsBindLR idL idR -&gt; LPat idL
</span><a href="Language.Haskell.Syntax.Binds.html#pat_lhs"><span class="hs-identifier hs-var">pat_lhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134943"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683134943"><span class="hs-identifier hs-var">pat</span></a></span></span><span>
</span><span id="line-2007"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_rhs :: forall idL idR. HsBindLR idL idR -&gt; GRHSs idR (LHsExpr idR)
</span><a href="Language.Haskell.Syntax.Binds.html#pat_rhs"><span class="hs-identifier hs-var">pat_rhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><span class="annottext">XCGRHSs GhcRn (LHsExpr GhcRn)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134945"><span class="annot"><span class="annottext">[LGRHS GhcRn (LHsExpr GhcRn)]
</span><a href="#local-6989586621683134945"><span class="hs-identifier hs-var">guards</span></a></span></span><span> </span><span id="local-6989586621683134946"><span class="annot"><span class="annottext">HsLocalBinds GhcRn
</span><a href="#local-6989586621683134946"><span class="hs-identifier hs-var">wheres</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2008"></span><span> </span><span class="hs-glyph">=</span><span>   </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134947"><span class="annot"><a href="#local-6989586621683134947"><span class="hs-identifier hs-var">patcore</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LPat GhcRn -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-var">repLP</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683134943"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-2009"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134948"><span class="annot"><a href="#local-6989586621683134948"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683134949"><span class="annot"><a href="#local-6989586621683134949"><span class="hs-identifier hs-var">wherecore</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repBinds"><span class="hs-identifier hs-type">repBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134946"><span class="hs-identifier hs-type">wheres</span></a></span><span>
</span><span id="line-2010"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134950"><span class="annot"><a href="#local-6989586621683134950"><span class="hs-identifier hs-var">guardcore</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134948"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repGuards"><span class="hs-identifier hs-type">repGuards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134945"><span class="hs-identifier hs-type">guards</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2011"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134951"><span class="annot"><a href="#local-6989586621683134951"><span class="hs-identifier hs-var">ans</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repVal"><span class="hs-identifier hs-type">repVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134947"><span class="hs-identifier hs-type">patcore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134950"><span class="hs-identifier hs-type">guardcore</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134949"><span class="hs-identifier hs-type">wherecore</span></a></span><span>
</span><span id="line-2012"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134952"><span class="annot"><a href="#local-6989586621683134952"><span class="hs-identifier hs-var">ans'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134948"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134951"><span class="hs-identifier hs-type">ans</span></a></span><span>
</span><span id="line-2013"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134940"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134952"><span class="hs-identifier hs-type">ans'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2014"></span><span>
</span><span id="line-2015"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_bind"><span class="hs-identifier hs-var">rep_bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621683134953"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621683134953"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynBind"><span class="hs-identifier hs-type">PatSynBind</span></a></span><span> </span><span class="annot"><span class="annottext">XPatSynBind GhcRn GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PSB"><span class="hs-identifier hs-type">PSB</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">psb_id :: forall idL idR. PatSynBind idL idR -&gt; LIdP idL
</span><a href="Language.Haskell.Syntax.Binds.html#psb_id"><span class="hs-identifier hs-var">psb_id</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134957"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683134957"><span class="hs-identifier hs-var">syn</span></a></span></span><span>
</span><span id="line-2016"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">psb_args :: forall idL idR. PatSynBind idL idR -&gt; HsPatSynDetails idR
</span><a href="Language.Haskell.Syntax.Binds.html#psb_args"><span class="hs-identifier hs-var">psb_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134959"><span class="annot"><span class="annottext">HsPatSynDetails GhcRn
</span><a href="#local-6989586621683134959"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-2017"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">psb_def :: forall idL idR. PatSynBind idL idR -&gt; LPat idR
</span><a href="Language.Haskell.Syntax.Binds.html#psb_def"><span class="hs-identifier hs-var">psb_def</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134961"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683134961"><span class="hs-identifier hs-var">pat</span></a></span></span><span>
</span><span id="line-2018"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">psb_dir :: forall idL idR. PatSynBind idL idR -&gt; HsPatSynDir idR
</span><a href="Language.Haskell.Syntax.Binds.html#psb_dir"><span class="hs-identifier hs-var">psb_dir</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683134963"><span class="annot"><span class="annottext">HsPatSynDir GhcRn
</span><a href="#local-6989586621683134963"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2019"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134964"><span class="annot"><a href="#local-6989586621683134964"><span class="hs-identifier hs-var">syn'</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupNBinder"><span class="hs-identifier hs-var">lookupNBinder</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683134957"><span class="hs-identifier hs-var">syn</span></a></span><span>
</span><span id="line-2020"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134965"><span class="annot"><a href="#local-6989586621683134965"><span class="hs-identifier hs-var">dir'</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPatSynDir"><span class="hs-identifier hs-type">repPatSynDir</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134963"><span class="hs-identifier hs-type">dir</span></a></span><span>
</span><span id="line-2021"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134967"><span class="annot"><a href="#local-6989586621683134967"><span class="hs-identifier hs-var">ss</span></a></span></span><span>        </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621683134968"><span class="hs-identifier hs-type">mkGenArgSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134959"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-2022"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134969"><span class="annot"><a href="#local-6989586621683134969"><span class="hs-identifier hs-var">patSynD'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134967"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-2023"></span><span>         </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683134970"><span class="annot"><a href="#local-6989586621683134970"><span class="hs-identifier hs-var">args'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPatSynArgs"><span class="hs-identifier hs-type">repPatSynArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134959"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-2024"></span><span>            </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134972"><span class="annot"><a href="#local-6989586621683134972"><span class="hs-identifier hs-var">pat'</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-type">repLP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134961"><span class="hs-identifier hs-type">pat</span></a></span><span>
</span><span id="line-2025"></span><span>            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPatSynD"><span class="hs-identifier hs-type">repPatSynD</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134964"><span class="hs-identifier hs-type">syn'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134970"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134965"><span class="hs-identifier hs-type">dir'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134972"><span class="hs-identifier hs-type">pat'</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-2026"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134974"><span class="annot"><a href="#local-6989586621683134974"><span class="hs-identifier hs-var">patSynD''</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621683134975"><span class="hs-identifier hs-type">wrapGenArgSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134959"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134967"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134969"><span class="hs-identifier hs-type">patSynD'</span></a></span><span>
</span><span id="line-2027"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134953"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683134974"><span class="hs-identifier hs-type">patSynD''</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2028"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2029"></span><span>    </span><span class="annot"><a href="#local-6989586621683134968"><span class="hs-identifier hs-type">mkGenArgSyms</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsPatSynDetails"><span class="hs-identifier hs-type">HsPatSynDetails</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#GenSymBind"><span class="hs-identifier hs-type">GenSymBind</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2030"></span><span>    </span><span class="hs-comment">-- for Record Pattern Synonyms we want to conflate the selector</span><span>
</span><span id="line-2031"></span><span>    </span><span class="hs-comment">-- and the pattern-only names in order to provide a nicer TH</span><span>
</span><span id="line-2032"></span><span>    </span><span class="hs-comment">-- API. Whereas inside GHC, record pattern synonym selectors and</span><span>
</span><span id="line-2033"></span><span>    </span><span class="hs-comment">-- their pattern-only bound right hand sides have different names,</span><span>
</span><span id="line-2034"></span><span>    </span><span class="hs-comment">-- we want to treat them the same in TH. This is the reason why we</span><span>
</span><span id="line-2035"></span><span>    </span><span class="hs-comment">-- need an adjusted mkGenArgSyms in the `RecCon` case below.</span><span>
</span><span id="line-2036"></span><span>    </span><span id="local-6989586621683134968"><span class="annot"><span class="annottext">mkGenArgSyms :: HsPatSynDetails GhcRn -&gt; MetaM [GenSymBind]
</span><a href="#local-6989586621683134968"><span class="hs-identifier hs-var hs-var">mkGenArgSyms</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-type">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[Void]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683134977"><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621683134977"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-var">mkGenSyms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN Name -&gt; Name)
-&gt; [GenLocated SrcSpanAnnN Name] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">[LIdP GhcRn]
[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621683134977"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2037"></span><span>    </span><span class="annot"><a href="#local-6989586621683134968"><span class="hs-identifier hs-var">mkGenArgSyms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-type">InfixCon</span></a></span><span> </span><span id="local-6989586621683134979"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683134979"><span class="hs-identifier hs-var">arg1</span></a></span></span><span> </span><span id="local-6989586621683134980"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683134980"><span class="hs-identifier hs-var">arg2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-var">mkGenSyms</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683134979"><span class="hs-identifier hs-var">arg1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683134980"><span class="hs-identifier hs-var">arg2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2038"></span><span>    </span><span class="annot"><a href="#local-6989586621683134968"><span class="hs-identifier hs-var">mkGenArgSyms</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-type">RecCon</span></a></span><span> </span><span id="local-6989586621683134982"><span class="annot"><span class="annottext">[RecordPatSynField GhcRn]
</span><a href="#local-6989586621683134982"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2039"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683134983"><span class="annot"><span class="annottext">pats :: [Name]
</span><a href="#local-6989586621683134983"><span class="hs-identifier hs-var hs-var hs-var">pats</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RecordPatSynField GhcRn -&gt; Name)
-&gt; [RecordPatSynField GhcRn] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN Name -&gt; Name)
-&gt; (RecordPatSynField GhcRn -&gt; GenLocated SrcSpanAnnN Name)
-&gt; RecordPatSynField GhcRn
-&gt; Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">RecordPatSynField GhcRn -&gt; LIdP GhcRn
RecordPatSynField GhcRn -&gt; GenLocated SrcSpanAnnN Name
forall pass. RecordPatSynField pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Binds.html#recordPatSynPatVar"><span class="hs-identifier hs-var">recordPatSynPatVar</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RecordPatSynField GhcRn]
</span><a href="#local-6989586621683134982"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-2040"></span><span>                 </span><span id="local-6989586621683134985"><span class="annot"><span class="annottext">sels :: [Name]
</span><a href="#local-6989586621683134985"><span class="hs-identifier hs-var hs-var hs-var">sels</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RecordPatSynField GhcRn -&gt; Name)
-&gt; [RecordPatSynField GhcRn] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN Name -&gt; Name)
-&gt; (RecordPatSynField GhcRn -&gt; GenLocated SrcSpanAnnN Name)
-&gt; RecordPatSynField GhcRn
-&gt; Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldOcc GhcRn -&gt; LIdP GhcRn
FieldOcc GhcRn -&gt; GenLocated SrcSpanAnnN Name
forall pass. FieldOcc pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Type.html#foLabel"><span class="hs-identifier hs-var">foLabel</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldOcc GhcRn -&gt; GenLocated SrcSpanAnnN Name)
-&gt; (RecordPatSynField GhcRn -&gt; FieldOcc GhcRn)
-&gt; RecordPatSynField GhcRn
-&gt; GenLocated SrcSpanAnnN Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">RecordPatSynField GhcRn -&gt; FieldOcc GhcRn
forall pass. RecordPatSynField pass -&gt; FieldOcc pass
</span><a href="Language.Haskell.Syntax.Binds.html#recordPatSynField"><span class="hs-identifier hs-var">recordPatSynField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RecordPatSynField GhcRn]
</span><a href="#local-6989586621683134982"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-2041"></span><span>           </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683134987"><span class="annot"><a href="#local-6989586621683134987"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-var">mkGenSyms</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683134985"><span class="hs-identifier hs-var">sels</span></a></span><span>
</span><span id="line-2042"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621683134988"><span class="hs-identifier hs-type">replaceNames</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">zip</span></span><span> </span><span class="annot"><a href="#local-6989586621683134985"><span class="hs-identifier hs-type">sels</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683134983"><span class="hs-identifier hs-type">pats</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683134987"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2043"></span><span>
</span><span id="line-2044"></span><span>    </span><span id="local-6989586621683134988"><span class="annot"><span class="annottext">replaceNames :: [(a, a)] -&gt; [(a, b)] -&gt; [(a, b)]
</span><a href="#local-6989586621683134988"><span class="hs-identifier hs-var hs-var">replaceNames</span></a></span></span><span> </span><span id="local-6989586621683134991"><span class="annot"><span class="annottext">[(a, a)]
</span><a href="#local-6989586621683134991"><span class="hs-identifier hs-var">selsPats</span></a></span></span><span> </span><span id="local-6989586621683134992"><span class="annot"><span class="annottext">[(a, b)]
</span><a href="#local-6989586621683134992"><span class="hs-identifier hs-var">genSyms</span></a></span></span><span>
</span><span id="line-2045"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683134993"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621683134994"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134995"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683134995"><span class="hs-identifier hs-var">sel</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683134994"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621683134994"><span class="hs-identifier hs-var">id</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(a, b)]
</span><a href="#local-6989586621683134992"><span class="hs-identifier hs-var">genSyms</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683134996"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683134996"><span class="hs-identifier hs-var">sel'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683134993"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683134993"><span class="hs-identifier hs-var">pat</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(a, a)]
</span><a href="#local-6989586621683134991"><span class="hs-identifier hs-var">selsPats</span></a></span><span>
</span><span id="line-2046"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683134995"><span class="hs-identifier hs-var">sel</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683134996"><span class="hs-identifier hs-var">sel'</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-2047"></span><span>
</span><span id="line-2048"></span><span>    </span><span class="annot"><a href="#local-6989586621683134975"><span class="hs-identifier hs-type">wrapGenArgSyms</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsPatSynDetails"><span class="hs-identifier hs-type">HsPatSynDetails</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-2049"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#GenSymBind"><span class="hs-identifier hs-type">GenSymBind</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2050"></span><span>    </span><span id="local-6989586621683134975"><span class="annot"><span class="annottext">wrapGenArgSyms :: HsPatSynDetails GhcRn
-&gt; [GenSymBind] -&gt; Core (M Dec) -&gt; MetaM (Core (M Dec))
</span><a href="#local-6989586621683134975"><span class="hs-identifier hs-var hs-var">wrapGenArgSyms</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-type">RecCon</span></a></span><span> </span><span class="annot"><span class="annottext">[RecordPatSynField GhcRn]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenSymBind]
</span><span class="hs-identifier">_</span></span><span>  </span><span id="local-6989586621683134997"><span class="annot"><span class="annottext">Core (M Dec)
</span><a href="#local-6989586621683134997"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Core (M Dec) -&gt; MetaM (Core (M Dec))
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Core (M Dec)
</span><a href="#local-6989586621683134997"><span class="hs-identifier hs-var">dec</span></a></span><span>
</span><span id="line-2051"></span><span>    </span><span class="annot"><a href="#local-6989586621683134975"><span class="hs-identifier hs-var">wrapGenArgSyms</span></a></span><span> </span><span class="annot"><span class="annottext">HsPatSynDetails GhcRn
</span><span class="hs-identifier">_</span></span><span>          </span><span id="local-6989586621683134998"><span class="annot"><span class="annottext">[GenSymBind]
</span><a href="#local-6989586621683134998"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span id="local-6989586621683134999"><span class="annot"><span class="annottext">Core (M Dec)
</span><a href="#local-6989586621683134999"><span class="hs-identifier hs-var">dec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenSymBind] -&gt; Core (M Dec) -&gt; MetaM (Core (M Dec))
forall {k} (a :: k).
[GenSymBind] -&gt; Core (M a) -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-var">wrapGenSyms</span></a></span><span> </span><span class="annot"><span class="annottext">[GenSymBind]
</span><a href="#local-6989586621683134998"><span class="hs-identifier hs-var">ss</span></a></span><span> </span><span class="annot"><span class="annottext">Core (M Dec)
</span><a href="#local-6989586621683134999"><span class="hs-identifier hs-var">dec</span></a></span><span>
</span><span id="line-2052"></span><span>
</span><span id="line-2053"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep_bind"><span class="hs-identifier hs-var">rep_bind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#VarBind"><span class="hs-identifier hs-type">VarBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">var_ext :: forall idL idR. HsBindLR idL idR -&gt; XVarBind idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#var_ext"><span class="hs-identifier hs-var">var_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683135002"><span class="annot"><span class="annottext">XVarBind GhcRn GhcRn
</span><a href="#local-6989586621683135002"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DataConCantHappen
-&gt; ReaderT MetaWrappers DsM (SrcSpan, Core (M Dec))
forall a. DataConCantHappen -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#dataConCantHappen"><span class="hs-identifier hs-var">dataConCantHappen</span></a></span><span> </span><span class="annot"><span class="annottext">XVarBind GhcRn GhcRn
DataConCantHappen
</span><a href="#local-6989586621683135002"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-2054"></span><span>
</span><span id="line-2055"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPatSynD"><span class="hs-identifier hs-type">repPatSynD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span>
</span><span id="line-2056"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.PatSynArgs</span></span><span class="hs-special">)</span><span>
</span><span id="line-2057"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.PatSynDir</span></span><span class="hs-special">)</span><span>
</span><span id="line-2058"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span>
</span><span id="line-2059"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2060"></span><span id="repPatSynD"><span class="annot"><span class="annottext">repPatSynD :: Core Name
-&gt; Core (M PatSynArgs)
-&gt; Core (M PatSynDir)
-&gt; Core (M Pat)
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repPatSynD"><span class="hs-identifier hs-var hs-var">repPatSynD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135004"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135004"><span class="hs-identifier hs-var">syn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135005"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135005"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135006"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135006"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135007"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135007"><span class="hs-identifier hs-var">pat</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2061"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#patSynDName"><span class="hs-identifier hs-var">patSynDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135004"><span class="hs-identifier hs-var">syn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135005"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135006"><span class="hs-identifier hs-var">dir</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135007"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2062"></span><span>
</span><span id="line-2063"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPatSynArgs"><span class="hs-identifier hs-type">repPatSynArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsPatSynDetails"><span class="hs-identifier hs-type">HsPatSynDetails</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.PatSynArgs</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2064"></span><span id="repPatSynArgs"><span class="annot"><span class="annottext">repPatSynArgs :: HsPatSynDetails GhcRn -&gt; MetaM (Core (M PatSynArgs))
</span><a href="GHC.HsToCore.Quote.html#repPatSynArgs"><span class="hs-identifier hs-var hs-var">repPatSynArgs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-type">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[Void]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135009"><span class="annot"><span class="annottext">[LIdP GhcRn]
</span><a href="#local-6989586621683135009"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2065"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135010"><span class="annot"><a href="#local-6989586621683135010"><span class="hs-identifier hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name))
-&gt; [GenLocated SrcSpanAnnN Name]
-&gt; MetaM (Core [Name])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repList"><span class="hs-identifier hs-var">repList</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#nameTyConName"><span class="hs-identifier hs-var">nameTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">[LIdP GhcRn]
[GenLocated SrcSpanAnnN Name]
</span><a href="#local-6989586621683135009"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-2066"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPrefixPatSynArgs"><span class="hs-identifier hs-type">repPrefixPatSynArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135010"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2067"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPatSynArgs"><span class="hs-identifier hs-var">repPatSynArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-type">InfixCon</span></a></span><span> </span><span id="local-6989586621683135012"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683135012"><span class="hs-identifier hs-var">arg1</span></a></span></span><span> </span><span id="local-6989586621683135013"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683135013"><span class="hs-identifier hs-var">arg2</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2068"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135014"><span class="annot"><a href="#local-6989586621683135014"><span class="hs-identifier hs-var">arg1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683135012"><span class="hs-identifier hs-var">arg1</span></a></span><span>
</span><span id="line-2069"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135015"><span class="annot"><a href="#local-6989586621683135015"><span class="hs-identifier hs-var">arg2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-type">lookupLOcc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135013"><span class="hs-identifier hs-type">arg2</span></a></span><span>
</span><span id="line-2070"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInfixPatSynArgs"><span class="hs-identifier hs-type">repInfixPatSynArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135014"><span class="hs-identifier hs-type">arg1'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135015"><span class="hs-identifier hs-type">arg2'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2071"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPatSynArgs"><span class="hs-identifier hs-var">repPatSynArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-type">RecCon</span></a></span><span> </span><span id="local-6989586621683135017"><span class="annot"><span class="annottext">[RecordPatSynField GhcRn]
</span><a href="#local-6989586621683135017"><span class="hs-identifier hs-var">fields</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2072"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135018"><span class="annot"><a href="#local-6989586621683135018"><span class="hs-identifier hs-var">sels'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (FieldOcc GhcRn -&gt; MetaM (Core Name))
-&gt; [FieldOcc GhcRn]
-&gt; MetaM (Core [Name])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repList"><span class="hs-identifier hs-var">repList</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#nameTyConName"><span class="hs-identifier hs-var">nameTyConName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupOcc"><span class="hs-identifier hs-var">lookupOcc</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; MetaM (Core Name))
-&gt; (FieldOcc GhcRn -&gt; Name) -&gt; FieldOcc GhcRn -&gt; MetaM (Core Name)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN Name -&gt; Name)
-&gt; (FieldOcc GhcRn -&gt; GenLocated SrcSpanAnnN Name)
-&gt; FieldOcc GhcRn
-&gt; Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldOcc GhcRn -&gt; LIdP GhcRn
FieldOcc GhcRn -&gt; GenLocated SrcSpanAnnN Name
forall pass. FieldOcc pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Type.html#foLabel"><span class="hs-identifier hs-var">foLabel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FieldOcc GhcRn]
</span><a href="#local-6989586621683135019"><span class="hs-identifier hs-var">sels</span></a></span><span>
</span><span id="line-2073"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRecordPatSynArgs"><span class="hs-identifier hs-type">repRecordPatSynArgs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135018"><span class="hs-identifier hs-type">sels'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2074"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621683135019"><span class="annot"><span class="annottext">sels :: [FieldOcc GhcRn]
</span><a href="#local-6989586621683135019"><span class="hs-identifier hs-var hs-var">sels</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RecordPatSynField GhcRn -&gt; FieldOcc GhcRn)
-&gt; [RecordPatSynField GhcRn] -&gt; [FieldOcc GhcRn]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">RecordPatSynField GhcRn -&gt; FieldOcc GhcRn
forall pass. RecordPatSynField pass -&gt; FieldOcc pass
</span><a href="Language.Haskell.Syntax.Binds.html#recordPatSynField"><span class="hs-identifier hs-var">recordPatSynField</span></a></span><span> </span><span class="annot"><span class="annottext">[RecordPatSynField GhcRn]
</span><a href="#local-6989586621683135017"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-2075"></span><span>
</span><span id="line-2076"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPrefixPatSynArgs"><span class="hs-identifier hs-type">repPrefixPatSynArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.PatSynArgs</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2077"></span><span id="repPrefixPatSynArgs"><span class="annot"><span class="annottext">repPrefixPatSynArgs :: Core [Name] -&gt; MetaM (Core (M PatSynArgs))
</span><a href="GHC.HsToCore.Quote.html#repPrefixPatSynArgs"><span class="hs-identifier hs-var hs-var">repPrefixPatSynArgs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135021"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135021"><span class="hs-identifier hs-var">nms</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M PatSynArgs))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#prefixPatSynName"><span class="hs-identifier hs-var">prefixPatSynName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135021"><span class="hs-identifier hs-var">nms</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2078"></span><span>
</span><span id="line-2079"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInfixPatSynArgs"><span class="hs-identifier hs-type">repInfixPatSynArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.PatSynArgs</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2080"></span><span id="repInfixPatSynArgs"><span class="annot"><span class="annottext">repInfixPatSynArgs :: Core Name -&gt; Core Name -&gt; MetaM (Core (M PatSynArgs))
</span><a href="GHC.HsToCore.Quote.html#repInfixPatSynArgs"><span class="hs-identifier hs-var hs-var">repInfixPatSynArgs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135023"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135023"><span class="hs-identifier hs-var">nm1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135024"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135024"><span class="hs-identifier hs-var">nm2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M PatSynArgs))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#infixPatSynName"><span class="hs-identifier hs-var">infixPatSynName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135023"><span class="hs-identifier hs-var">nm1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135024"><span class="hs-identifier hs-var">nm2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2081"></span><span>
</span><span id="line-2082"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRecordPatSynArgs"><span class="hs-identifier hs-type">repRecordPatSynArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">]</span><span>
</span><span id="line-2083"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.PatSynArgs</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2084"></span><span id="repRecordPatSynArgs"><span class="annot"><span class="annottext">repRecordPatSynArgs :: Core [Name] -&gt; MetaM (Core (M PatSynArgs))
</span><a href="GHC.HsToCore.Quote.html#repRecordPatSynArgs"><span class="hs-identifier hs-var hs-var">repRecordPatSynArgs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135026"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135026"><span class="hs-identifier hs-var">sels</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M PatSynArgs))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#recordPatSynName"><span class="hs-identifier hs-var">recordPatSynName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135026"><span class="hs-identifier hs-var">sels</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2085"></span><span>
</span><span id="line-2086"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPatSynDir"><span class="hs-identifier hs-type">repPatSynDir</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsPatSynDir"><span class="hs-identifier hs-type">HsPatSynDir</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.PatSynDir</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2087"></span><span id="repPatSynDir"><span class="annot"><span class="annottext">repPatSynDir :: HsPatSynDir GhcRn -&gt; MetaM (Core (M PatSynDir))
</span><a href="GHC.HsToCore.Quote.html#repPatSynDir"><span class="hs-identifier hs-var hs-var">repPatSynDir</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsPatSynDir GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#Unidirectional"><span class="hs-identifier hs-var">Unidirectional</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M PatSynDir))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#unidirPatSynName"><span class="hs-identifier hs-var">unidirPatSynName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2088"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPatSynDir"><span class="hs-identifier hs-var">repPatSynDir</span></a></span><span> </span><span class="annot"><span class="annottext">HsPatSynDir GhcRn
</span><a href="Language.Haskell.Syntax.Binds.html#ImplicitBidirectional"><span class="hs-identifier hs-var">ImplicitBidirectional</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M PatSynDir))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#implBidirPatSynName"><span class="hs-identifier hs-var">implBidirPatSynName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2089"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPatSynDir"><span class="hs-identifier hs-var">repPatSynDir</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ExplicitBidirectional"><span class="hs-identifier hs-type">ExplicitBidirectional</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnLW
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135033"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683135033"><span class="hs-identifier hs-var">clauses</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2090"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135034"><span class="annot"><a href="#local-6989586621683135034"><span class="hs-identifier hs-var">clauses'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
 -&gt; ReaderT MetaWrappers DsM (Core (M Clause)))
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
-&gt; ReaderT MetaWrappers DsM [Core (M Clause)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">LMatch GhcRn (LHsExpr GhcRn)
-&gt; ReaderT MetaWrappers DsM (Core (M Clause))
GenLocated
  SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))
-&gt; ReaderT MetaWrappers DsM (Core (M Clause))
</span><a href="GHC.HsToCore.Quote.html#repClauseTup"><span class="hs-identifier hs-var">repClauseTup</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn)))]
</span><a href="#local-6989586621683135033"><span class="hs-identifier hs-var">clauses</span></a></span><span>
</span><span id="line-2091"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repExplBidirPatSynDir"><span class="hs-identifier hs-type">repExplBidirPatSynDir</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList"><span class="hs-identifier hs-type">nonEmptyCoreList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135034"><span class="hs-identifier hs-type">clauses'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2092"></span><span>
</span><span id="line-2093"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repExplBidirPatSynDir"><span class="hs-identifier hs-type">repExplBidirPatSynDir</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Clause</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.PatSynDir</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2094"></span><span id="repExplBidirPatSynDir"><span class="annot"><span class="annottext">repExplBidirPatSynDir :: Core [M Clause] -&gt; MetaM (Core (M PatSynDir))
</span><a href="GHC.HsToCore.Quote.html#repExplBidirPatSynDir"><span class="hs-identifier hs-var hs-var">repExplBidirPatSynDir</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135036"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135036"><span class="hs-identifier hs-var">cls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M PatSynDir))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#explBidirPatSynName"><span class="hs-identifier hs-var">explBidirPatSynName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135036"><span class="hs-identifier hs-var">cls</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2095"></span><span>
</span><span id="line-2096"></span><span>
</span><span id="line-2097"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2098"></span><span class="hs-comment">-- Since everything in a Bind is mutually recursive we need rename all</span><span>
</span><span id="line-2099"></span><span class="hs-comment">-- all the variables simultaneously. For example:</span><span>
</span><span id="line-2100"></span><span class="hs-comment">-- [| AndMonoBinds (f x = x + g 2) (g x = f 1 + 2) |] would translate to</span><span>
</span><span id="line-2101"></span><span class="hs-comment">-- do { f'1 &lt;- gensym &quot;f&quot;</span><span>
</span><span id="line-2102"></span><span class="hs-comment">--    ; g'2 &lt;- gensym &quot;g&quot;</span><span>
</span><span id="line-2103"></span><span class="hs-comment">--    ; [ do { x'3 &lt;- gensym &quot;x&quot;; fun f'1 [pvar x'3] [| x + g2 |]},</span><span>
</span><span id="line-2104"></span><span class="hs-comment">--        do { x'4 &lt;- gensym &quot;x&quot;; fun g'2 [pvar x'4] [| f 1 + 2 |]}</span><span>
</span><span id="line-2105"></span><span class="hs-comment">--      ]}</span><span>
</span><span id="line-2106"></span><span class="hs-comment">-- This requires collecting the bindings (f'1 &lt;- gensym &quot;f&quot;), and the</span><span>
</span><span id="line-2107"></span><span class="hs-comment">-- environment ( f |-&gt; f'1 ) from each binding, and then unioning them</span><span>
</span><span id="line-2108"></span><span class="hs-comment">-- together. As we do this we collect GenSymBinds's which represent the renamed</span><span>
</span><span id="line-2109"></span><span class="hs-comment">-- variables bound by the Bindings. In order not to lose track of these</span><span>
</span><span id="line-2110"></span><span class="hs-comment">-- representations we build a shadow datatype MB with the same structure as</span><span>
</span><span id="line-2111"></span><span class="hs-comment">-- MonoBinds, but which has slots for the representations</span><span>
</span><span id="line-2112"></span><span>
</span><span id="line-2113"></span><span>
</span><span id="line-2114"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2115"></span><span class="hs-comment">-- GHC allows a more general form of lambda abstraction than specified</span><span>
</span><span id="line-2116"></span><span class="hs-comment">-- by Haskell 98. In particular it allows guarded lambda's like :</span><span>
</span><span id="line-2117"></span><span class="hs-comment">-- (\  x | even x -&gt; 0 | odd x -&gt; 1) at the moment we can't represent this in</span><span>
</span><span id="line-2118"></span><span class="hs-comment">-- Haskell Template's Meta.Exp type so we punt if it isn't a simple thing like</span><span>
</span><span id="line-2119"></span><span class="hs-comment">-- (\ p1 .. pn -&gt; exp) by causing an error.</span><span>
</span><span id="line-2120"></span><span>
</span><span id="line-2121"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLambda"><span class="hs-identifier hs-type">repLambda</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2122"></span><span id="repLambda"><span class="annot"><span class="annottext">repLambda :: LMatch GhcRn (LHsExpr GhcRn) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLambda"><span class="hs-identifier hs-var hs-var">repLambda</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_pats :: forall p body. Match p body -&gt; XRec p [LPat p]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135038"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcRn)]
</span><a href="#local-6989586621683135038"><span class="hs-identifier hs-var">ps</span></a></span></span><span>
</span><span id="line-2123"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: forall p body. Match p body -&gt; GRHSs p body
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><span class="annottext">XCGRHSs GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><span class="annottext">XCGRHS GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span id="local-6989586621683135039"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcRn)
</span><a href="#local-6989586621683135039"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2124"></span><span>                                              </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#EmptyLocalBinds"><span class="hs-identifier hs-type">EmptyLocalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XEmptyLocalBinds GhcRn GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2125"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683135040"><span class="annot"><span class="annottext">bndrs :: [IdP GhcRn]
</span><a href="#local-6989586621683135040"><span class="hs-identifier hs-var hs-var hs-var">bndrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcRn -&gt; [LPat GhcRn] -&gt; [IdP GhcRn]
forall p. CollectPass p =&gt; CollectFlag p -&gt; [LPat p] -&gt; [IdP p]
</span><a href="GHC.Hs.Utils.html#collectPatsBinders"><span class="hs-identifier hs-var">collectPatsBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcRn
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcRn]
[GenLocated SrcSpanAnnA (Pat GhcRn)]
</span><a href="#local-6989586621683135038"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="hs-special">;</span><span>
</span><span id="line-2126"></span><span>      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135041"><span class="annot"><a href="#local-6989586621683135041"><span class="hs-identifier hs-var">ss</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-var">mkGenSyms</span></a></span><span> </span><span class="annot"><span class="annottext">[IdP GhcRn]
[Name]
</span><a href="#local-6989586621683135040"><span class="hs-identifier hs-var">bndrs</span></a></span><span>
</span><span id="line-2127"></span><span>      </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135042"><span class="annot"><a href="#local-6989586621683135042"><span class="hs-identifier hs-var">lam</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135041"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-2128"></span><span>                </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135043"><span class="annot"><a href="#local-6989586621683135043"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLPs"><span class="hs-identifier hs-type">repLPs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135038"><span class="hs-identifier hs-type">ps</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135044"><span class="annot"><a href="#local-6989586621683135044"><span class="hs-identifier hs-var">body</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135039"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLam"><span class="hs-identifier hs-type">repLam</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135043"><span class="hs-identifier hs-type">xs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135044"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-2129"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135041"><span class="hs-identifier hs-type">ss</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135042"><span class="hs-identifier hs-type">lam</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2130"></span><span>
</span><span id="line-2131"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLambda"><span class="hs-identifier hs-var">repLambda</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135046"><span class="annot"><span class="annottext">Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621683135046"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core (M Exp))
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Match GhcRn (LHsExpr GhcRn) -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThGuardedLambdas"><span class="hs-identifier hs-var">ThGuardedLambdas</span></a></span><span> </span><span class="annot"><span class="annottext">Match GhcRn (LHsExpr GhcRn)
Match GhcRn (GenLocated SrcSpanAnnA (HsExpr GhcRn))
</span><a href="#local-6989586621683135046"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2132"></span><span>
</span><span id="line-2133"></span><span>
</span><span id="line-2134"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2135"></span><span class="hs-comment">--                      Patterns</span><span>
</span><span id="line-2136"></span><span class="hs-comment">-- repP deals with patterns.  It assumes that we have already</span><span>
</span><span id="line-2137"></span><span class="hs-comment">-- walked over the pattern(s) once to collect the binders, and</span><span>
</span><span id="line-2138"></span><span class="hs-comment">-- have extended the environment.  So every pattern-bound</span><span>
</span><span id="line-2139"></span><span class="hs-comment">-- variable should already appear in the environment.</span><span>
</span><span id="line-2140"></span><span>
</span><span id="line-2141"></span><span class="hs-comment">-- Process a list of patterns</span><span>
</span><span id="line-2142"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLPs"><span class="hs-identifier hs-type">repLPs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2143"></span><span id="repLPs"><span class="annot"><span class="annottext">repLPs :: [LPat GhcRn] -&gt; MetaM (Core [M Pat])
</span><a href="GHC.HsToCore.Quote.html#repLPs"><span class="hs-identifier hs-var hs-var">repLPs</span></a></span></span><span> </span><span id="local-6989586621683135048"><span class="annot"><span class="annottext">[LPat GhcRn]
</span><a href="#local-6989586621683135048"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated SrcSpanAnnA (Pat GhcRn) -&gt; MetaM (Core (M Pat)))
-&gt; [GenLocated SrcSpanAnnA (Pat GhcRn)]
-&gt; MetaM (Core [M Pat])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-var">repListM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#patTyConName"><span class="hs-identifier hs-var">patTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn -&gt; MetaM (Core (M Pat))
GenLocated SrcSpanAnnA (Pat GhcRn) -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-var">repLP</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcRn]
[GenLocated SrcSpanAnnA (Pat GhcRn)]
</span><a href="#local-6989586621683135048"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-2144"></span><span>
</span><span id="line-2145"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLPs1"><span class="hs-identifier hs-type">repLPs1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2146"></span><span id="repLPs1"><span class="annot"><span class="annottext">repLPs1 :: NonEmpty (LPat GhcRn) -&gt; MetaM (Core (NonEmpty (M Pat)))
</span><a href="GHC.HsToCore.Quote.html#repLPs1"><span class="hs-identifier hs-var hs-var">repLPs1</span></a></span></span><span> </span><span id="local-6989586621683135051"><span class="annot"><span class="annottext">NonEmpty (LPat GhcRn)
</span><a href="#local-6989586621683135051"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated SrcSpanAnnA (Pat GhcRn) -&gt; MetaM (Core (M Pat)))
-&gt; NonEmpty (GenLocated SrcSpanAnnA (Pat GhcRn))
-&gt; MetaM (Core (NonEmpty (M Pat)))
forall a b.
Name
-&gt; (a -&gt; MetaM (Core b)) -&gt; NonEmpty a -&gt; MetaM (Core (NonEmpty b))
</span><a href="GHC.HsToCore.Quote.html#repNonEmptyM"><span class="hs-identifier hs-var">repNonEmptyM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#patTyConName"><span class="hs-identifier hs-var">patTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn -&gt; MetaM (Core (M Pat))
GenLocated SrcSpanAnnA (Pat GhcRn) -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-var">repLP</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (LPat GhcRn)
NonEmpty (GenLocated SrcSpanAnnA (Pat GhcRn))
</span><a href="#local-6989586621683135051"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-2147"></span><span>
</span><span id="line-2148"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-type">repLP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2149"></span><span id="repLP"><span class="annot"><span class="annottext">repLP :: LPat GhcRn -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-var hs-var">repLP</span></a></span></span><span> </span><span id="local-6989586621683135053"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135053"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pat GhcRn -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcRn) -&gt; Pat GhcRn
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn
GenLocated SrcSpanAnnA (Pat GhcRn)
</span><a href="#local-6989586621683135053"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2150"></span><span>
</span><span id="line-2151"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-type">repP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#Pat"><span class="hs-identifier hs-type">Pat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2152"></span><span id="repP"><span class="annot"><span class="annottext">repP :: Pat GhcRn -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var hs-var">repP</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#WildPat"><span class="hs-identifier hs-type">WildPat</span></a></span><span> </span><span class="annot"><span class="annottext">XWildPat GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPwild"><span class="hs-identifier hs-var">repPwild</span></a></span><span>
</span><span id="line-2153"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LitPat"><span class="hs-identifier hs-type">LitPat</span></a></span><span> </span><span class="annot"><span class="annottext">XLitPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135058"><span class="annot"><span class="annottext">HsLit GhcRn
</span><a href="#local-6989586621683135058"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135059"><span class="annot"><a href="#local-6989586621683135059"><span class="hs-identifier hs-var">l2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsLit GhcRn -&gt; MetaM (Core Lit)
</span><a href="GHC.HsToCore.Quote.html#repLiteral"><span class="hs-identifier hs-var">repLiteral</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcRn
</span><a href="#local-6989586621683135058"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPlit"><span class="hs-identifier hs-type">repPlit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135059"><span class="hs-identifier hs-type">l2</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2154"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#VarPat"><span class="hs-identifier hs-type">VarPat</span></a></span><span> </span><span class="annot"><span class="annottext">XVarPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135062"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683135062"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135063"><span class="annot"><a href="#local-6989586621683135063"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupBinder"><span class="hs-identifier hs-var">lookupBinder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683135062"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPvar"><span class="hs-identifier hs-type">repPvar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135063"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2155"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LazyPat"><span class="hs-identifier hs-type">LazyPat</span></a></span><span> </span><span class="annot"><span class="annottext">XLazyPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135065"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135065"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135066"><span class="annot"><a href="#local-6989586621683135066"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LPat GhcRn -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-var">repLP</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135065"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPtilde"><span class="hs-identifier hs-type">repPtilde</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135066"><span class="hs-identifier hs-type">p1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2156"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#BangPat"><span class="hs-identifier hs-type">BangPat</span></a></span><span> </span><span class="annot"><span class="annottext">XBangPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135068"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135068"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135069"><span class="annot"><a href="#local-6989586621683135069"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LPat GhcRn -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-var">repLP</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135068"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPbang"><span class="hs-identifier hs-type">repPbang</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135069"><span class="hs-identifier hs-type">p1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2157"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#AsPat"><span class="hs-identifier hs-type">AsPat</span></a></span><span> </span><span class="annot"><span class="annottext">XAsPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135071"><span class="annot"><span class="annottext">LIdP GhcRn
</span><a href="#local-6989586621683135071"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621683135072"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135072"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135073"><span class="annot"><a href="#local-6989586621683135073"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupNBinder"><span class="hs-identifier hs-var">lookupNBinder</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683135071"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135074"><span class="annot"><a href="#local-6989586621683135074"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-type">repLP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135072"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-2158"></span><span>                             </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPaspat"><span class="hs-identifier hs-type">repPaspat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135073"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135074"><span class="hs-identifier hs-type">p1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2159"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ParPat"><span class="hs-identifier hs-type">ParPat</span></a></span><span> </span><span class="annot"><span class="annottext">XParPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135077"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135077"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LPat GhcRn -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-var">repLP</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135077"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-2160"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ListPat"><span class="hs-identifier hs-type">ListPat</span></a></span><span> </span><span class="annot"><span class="annottext">XListPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135079"><span class="annot"><span class="annottext">[LPat GhcRn]
</span><a href="#local-6989586621683135079"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135080"><span class="annot"><a href="#local-6989586621683135080"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LPat GhcRn] -&gt; MetaM (Core [M Pat])
</span><a href="GHC.HsToCore.Quote.html#repLPs"><span class="hs-identifier hs-var">repLPs</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcRn]
</span><a href="#local-6989586621683135079"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPlist"><span class="hs-identifier hs-type">repPlist</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135080"><span class="hs-identifier hs-type">qs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2161"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#TuplePat"><span class="hs-identifier hs-type">TuplePat</span></a></span><span> </span><span class="annot"><span class="annottext">XTuplePat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135083"><span class="annot"><span class="annottext">[LPat GhcRn]
</span><a href="#local-6989586621683135083"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span id="local-6989586621683135084"><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621683135084"><span class="hs-identifier hs-var">boxed</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2162"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Boxity -&gt; Bool
</span><a href="Language.Haskell.Syntax.Basic.html#isBoxed"><span class="hs-identifier hs-var">isBoxed</span></a></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621683135084"><span class="hs-identifier hs-var">boxed</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135085"><span class="annot"><a href="#local-6989586621683135085"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LPat GhcRn] -&gt; MetaM (Core [M Pat])
</span><a href="GHC.HsToCore.Quote.html#repLPs"><span class="hs-identifier hs-var">repLPs</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcRn]
</span><a href="#local-6989586621683135083"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPtup"><span class="hs-identifier hs-type">repPtup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135085"><span class="hs-identifier hs-type">qs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2163"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135087"><span class="annot"><a href="#local-6989586621683135087"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LPat GhcRn] -&gt; MetaM (Core [M Pat])
</span><a href="GHC.HsToCore.Quote.html#repLPs"><span class="hs-identifier hs-var">repLPs</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcRn]
</span><a href="#local-6989586621683135083"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPunboxedTup"><span class="hs-identifier hs-type">repPunboxedTup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135087"><span class="hs-identifier hs-type">qs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2164"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#SumPat"><span class="hs-identifier hs-type">SumPat</span></a></span><span> </span><span class="annot"><span class="annottext">XSumPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135090"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135090"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621683135091"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683135091"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span id="local-6989586621683135092"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683135092"><span class="hs-identifier hs-var">arity</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135093"><span class="annot"><a href="#local-6989586621683135093"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LPat GhcRn -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-var">repLP</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135090"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-2165"></span><span>                                 </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPunboxedSum"><span class="hs-identifier hs-type">repPunboxedSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135093"><span class="hs-identifier hs-type">p1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135091"><span class="hs-identifier hs-type">alt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135092"><span class="hs-identifier hs-type">arity</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2166"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ConPat"><span class="hs-identifier hs-type">ConPat</span></a></span><span> </span><span class="annot"><span class="annottext">XConPat GhcRn
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#NoExtField"><span class="hs-identifier hs-var">NoExtField</span></a></span><span> </span><span id="local-6989586621683135097"><span class="annot"><span class="annottext">XRec GhcRn (ConLikeP GhcRn)
</span><a href="#local-6989586621683135097"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span id="local-6989586621683135098"><span class="annot"><span class="annottext">HsConPatDetails GhcRn
</span><a href="#local-6989586621683135098"><span class="hs-identifier hs-var">details</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2167"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135099"><span class="annot"><a href="#local-6989586621683135099"><span class="hs-identifier hs-var">con_str</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (ConLikeP GhcRn)
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683135097"><span class="hs-identifier hs-var">dc</span></a></span><span>
</span><span id="line-2168"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621683135098"><span class="hs-identifier hs-type">details</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2169"></span><span>         </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-type">PrefixCon</span></a></span><span> </span><span id="local-6989586621683135100"><span class="annot"><span class="annottext">[HsConPatTyArg (NoGhcTc GhcRn)]
</span><a href="#local-6989586621683135100"><span class="hs-identifier hs-var">tyargs</span></a></span></span><span> </span><span id="local-6989586621683135101"><span class="annot"><span class="annottext">[LPat GhcRn]
</span><a href="#local-6989586621683135101"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135102"><span class="annot"><a href="#local-6989586621683135102"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LPat GhcRn] -&gt; MetaM (Core [M Pat])
</span><a href="GHC.HsToCore.Quote.html#repLPs"><span class="hs-identifier hs-var">repLPs</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcRn]
</span><a href="#local-6989586621683135101"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-2170"></span><span>                                   </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683135105"><span class="annot"><a href="#local-6989586621683135105"><span class="hs-identifier hs-var hs-var">unwrapTyArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsConPatTyArg"><span class="hs-identifier hs-type">HsConPatTyArg</span></a></span><span> </span><span class="annot"><span class="annottext">XConPatTyArg pass
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135107"><span class="annot"><span class="annottext">HsTyPat pass
</span><a href="#local-6989586621683135107"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated l (HsType pass) -&gt; HsType pass
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsTyPat pass -&gt; XRec pass (HsType pass)
forall pass. HsTyPat pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#hstp_body"><span class="hs-identifier hs-var">hstp_body</span></a></span><span> </span><span class="annot"><span class="annottext">HsTyPat pass
</span><a href="#local-6989586621683135107"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2171"></span><span>                                   </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135109"><span class="annot"><a href="#local-6989586621683135109"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-type">repListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#typeTyConName"><span class="hs-identifier hs-type">typeTyConName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTy"><span class="hs-identifier hs-type">repTy</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="#local-6989586621683135105"><span class="hs-identifier hs-type">unwrapTyArg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683135100"><span class="hs-identifier hs-type">tyargs</span></a></span><span>
</span><span id="line-2172"></span><span>                                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPcon"><span class="hs-identifier hs-type">repPcon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135099"><span class="hs-identifier hs-type">con_str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135109"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135102"><span class="hs-identifier hs-type">qs</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2173"></span><span>         </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-type">RecCon</span></a></span><span> </span><span id="local-6989586621683135111"><span class="annot"><span class="annottext">HsRecFields GhcRn (LPat GhcRn)
</span><a href="#local-6989586621683135111"><span class="hs-identifier hs-var">rec</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135112"><span class="annot"><a href="#local-6989586621683135112"><span class="hs-identifier hs-var">fps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
         (GenLocated SrcSpanAnnA (Pat GhcRn)))
    -&gt; MetaM (Core (M (Name, Pat))))
-&gt; [GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
         (GenLocated SrcSpanAnnA (Pat GhcRn)))]
-&gt; MetaM (Core [M (Name, Pat)])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-var">repListM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#fieldPatTyConName"><span class="hs-identifier hs-var">fieldPatTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">LHsRecField GhcRn (LPat GhcRn) -&gt; MetaM (Core (M (Name, Pat)))
GenLocated
  SrcSpanAnnA
  (HsFieldBind
     (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
     (GenLocated SrcSpanAnnA (Pat GhcRn)))
-&gt; MetaM (Core (M (Name, Pat)))
</span><a href="#local-6989586621683135114"><span class="hs-identifier hs-var">rep_fld</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsRecFields GhcRn (GenLocated SrcSpanAnnA (Pat GhcRn))
-&gt; [LHsRecField GhcRn (GenLocated SrcSpanAnnA (Pat GhcRn))]
forall p arg. HsRecFields p arg -&gt; [LHsRecField p arg]
</span><a href="Language.Haskell.Syntax.Pat.html#rec_flds"><span class="hs-identifier hs-var">rec_flds</span></a></span><span> </span><span class="annot"><span class="annottext">HsRecFields GhcRn (LPat GhcRn)
HsRecFields GhcRn (GenLocated SrcSpanAnnA (Pat GhcRn))
</span><a href="#local-6989586621683135111"><span class="hs-identifier hs-var">rec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2174"></span><span>                            </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPrec"><span class="hs-identifier hs-type">repPrec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135099"><span class="hs-identifier hs-type">con_str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135112"><span class="hs-identifier hs-type">fps</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2175"></span><span>         </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-type">InfixCon</span></a></span><span> </span><span id="local-6989586621683135116"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135116"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span id="local-6989586621683135117"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135117"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135118"><span class="annot"><a href="#local-6989586621683135118"><span class="hs-identifier hs-var">p1'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LPat GhcRn -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-var">repLP</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135116"><span class="hs-identifier hs-var">p1</span></a></span><span class="hs-special">;</span><span>
</span><span id="line-2176"></span><span>                                </span><span id="local-6989586621683135119"><span class="annot"><a href="#local-6989586621683135119"><span class="hs-identifier hs-var">p2'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-type">repLP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135117"><span class="hs-identifier hs-type">p2</span></a></span><span class="hs-special">;</span><span>
</span><span id="line-2177"></span><span>                                </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPinfix"><span class="hs-identifier hs-type">repPinfix</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135118"><span class="hs-identifier hs-type">p1'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135099"><span class="hs-identifier hs-type">con_str</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135119"><span class="hs-identifier hs-type">p2'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2178"></span><span>   </span><span class="hs-special">}</span><span>
</span><span id="line-2179"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2180"></span><span>   </span><span class="annot"><a href="#local-6989586621683135114"><span class="hs-identifier hs-type">rep_fld</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsRecField"><span class="hs-identifier hs-type">LHsRecField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2181"></span><span>   </span><span id="local-6989586621683135114"><span class="annot"><span class="annottext">rep_fld :: LHsRecField GhcRn (LPat GhcRn) -&gt; MetaM (Core (M (Name, Pat)))
</span><a href="#local-6989586621683135114"><span class="hs-identifier hs-var hs-var">rep_fld</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135121"><span class="annot"><span class="annottext">HsFieldBind
  (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
  (GenLocated SrcSpanAnnA (Pat GhcRn))
</span><a href="#local-6989586621683135121"><span class="hs-identifier hs-var">fld</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135122"><span class="annot"><a href="#local-6989586621683135122"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupOcc"><span class="hs-identifier hs-var">lookupOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsRecField GhcRn (GenLocated SrcSpanAnnA (Pat GhcRn)) -&gt; IdP GhcRn
forall p arg. UnXRec p =&gt; HsRecField p arg -&gt; IdP p
</span><a href="Language.Haskell.Syntax.Pat.html#hsRecFieldSel"><span class="hs-identifier hs-var">hsRecFieldSel</span></a></span><span> </span><span class="annot"><span class="annottext">HsRecField GhcRn (GenLocated SrcSpanAnnA (Pat GhcRn))
HsFieldBind
  (GenLocated SrcSpanAnnA (FieldOcc GhcRn))
  (GenLocated SrcSpanAnnA (Pat GhcRn))
</span><a href="#local-6989586621683135121"><span class="hs-identifier hs-var">fld</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2182"></span><span>                          </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135123"><span class="annot"><a href="#local-6989586621683135123"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-type">repLP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#hfbRHS"><span class="hs-identifier hs-var">hfbRHS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135121"><span class="hs-identifier hs-type">fld</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2183"></span><span>                          </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#fieldPatName"><span class="hs-identifier hs-type">fieldPatName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135122"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683135123"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2184"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#NPat"><span class="hs-identifier hs-type">NPat</span></a></span><span> </span><span class="annot"><span class="annottext">XNPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135126"><span class="annot"><span class="annottext">HsOverLit GhcRn
</span><a href="#local-6989586621683135126"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (SyntaxExpr GhcRn)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135127"><span class="annot"><a href="#local-6989586621683135127"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcRn -&gt; MetaM (Core Lit)
</span><a href="GHC.HsToCore.Quote.html#repOverloadedLiteral"><span class="hs-identifier hs-var">repOverloadedLiteral</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcRn
</span><a href="#local-6989586621683135126"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-2185"></span><span>                                     </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPlit"><span class="hs-identifier hs-type">repPlit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135127"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2186"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#ViewPat"><span class="hs-identifier hs-type">ViewPat</span></a></span><span> </span><span class="annot"><span class="annottext">XViewPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135129"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683135129"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621683135130"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135130"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135131"><span class="annot"><a href="#local-6989586621683135131"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683135129"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135132"><span class="annot"><a href="#local-6989586621683135132"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-type">repLP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135130"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPview"><span class="hs-identifier hs-type">repPview</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135131"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135132"><span class="hs-identifier hs-type">p'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2187"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span id="local-6989586621683135134"><span class="annot"><span class="annottext">p :: Pat GhcRn
</span><a href="#local-6989586621683135134"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#NPat"><span class="hs-identifier hs-type">NPat</span></a></span><span> </span><span class="annot"><span class="annottext">XNPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnnCO
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135135"><span class="annot"><span class="annottext">HsOverLit GhcRn
</span><a href="#local-6989586621683135135"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>
</span><span id="line-2188"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Hs.Lit.html#OverLitRn"><span class="hs-identifier hs-type">OverLitRn</span></a></span><span> </span><span id="local-6989586621683135137"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683135137"><span class="hs-identifier hs-var">rebindable</span></a></span></span><span> </span><span class="annot"><span class="annottext">LIdP GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcRn -&gt; XOverLit GhcRn
forall p. HsOverLit p -&gt; XOverLit p
</span><a href="Language.Haskell.Syntax.Lit.html#ol_ext"><span class="hs-identifier hs-var">ol_ext</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcRn
</span><a href="#local-6989586621683135135"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-2189"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683135137"><span class="hs-identifier hs-var">rebindable</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core (M Pat))
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcRn -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThNegativeOverloadedPatterns"><span class="hs-identifier hs-var">ThNegativeOverloadedPatterns</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcRn
</span><a href="#local-6989586621683135134"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2190"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsIntegral"><span class="hs-identifier hs-type">HsIntegral</span></a></span><span> </span><span id="local-6989586621683135141"><span class="annot"><span class="annottext">IntegralLit
</span><a href="#local-6989586621683135141"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcRn -&gt; OverLitVal
forall p. HsOverLit p -&gt; OverLitVal
</span><a href="Language.Haskell.Syntax.Lit.html#ol_val"><span class="hs-identifier hs-var">ol_val</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcRn
</span><a href="#local-6989586621683135135"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135143"><span class="annot"><a href="#local-6989586621683135143"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcRn -&gt; MetaM (Core Lit)
</span><a href="GHC.HsToCore.Quote.html#repOverloadedLiteral"><span class="hs-identifier hs-var">repOverloadedLiteral</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcRn
</span><a href="#local-6989586621683135135"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">{</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#ol_val"><span class="hs-identifier hs-var">ol_val</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsIntegral"><span class="hs-identifier hs-type">HsIntegral</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SourceText.html#negateIntegralLit"><span class="hs-identifier hs-type">negateIntegralLit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135141"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-2191"></span><span>                                  </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPlit"><span class="hs-identifier hs-type">repPlit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135143"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2192"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsFractional"><span class="hs-identifier hs-type">HsFractional</span></a></span><span> </span><span id="local-6989586621683135146"><span class="annot"><span class="annottext">FractionalLit
</span><a href="#local-6989586621683135146"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcRn -&gt; OverLitVal
forall p. HsOverLit p -&gt; OverLitVal
</span><a href="Language.Haskell.Syntax.Lit.html#ol_val"><span class="hs-identifier hs-var">ol_val</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcRn
</span><a href="#local-6989586621683135135"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135147"><span class="annot"><a href="#local-6989586621683135147"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcRn -&gt; MetaM (Core Lit)
</span><a href="GHC.HsToCore.Quote.html#repOverloadedLiteral"><span class="hs-identifier hs-var">repOverloadedLiteral</span></a></span><span> </span><span class="annot"><span class="annottext">HsOverLit GhcRn
</span><a href="#local-6989586621683135135"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">{</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#ol_val"><span class="hs-identifier hs-var">ol_val</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsFractional"><span class="hs-identifier hs-type">HsFractional</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SourceText.html#negateFractionalLit"><span class="hs-identifier hs-type">negateFractionalLit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135146"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-2193"></span><span>                                  </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPlit"><span class="hs-identifier hs-type">repPlit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135147"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2194"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core (M Pat))
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcRn -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThExoticPattern"><span class="hs-identifier hs-var">ThExoticPattern</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcRn
</span><a href="#local-6989586621683135134"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2195"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#SigPat"><span class="hs-identifier hs-type">SigPat</span></a></span><span> </span><span class="annot"><span class="annottext">XSigPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135151"><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135151"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621683135152"><span class="annot"><span class="annottext">HsPatSigType (NoGhcTc GhcRn)
</span><a href="#local-6989586621683135152"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135153"><span class="annot"><a href="#local-6989586621683135153"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LPat GhcRn -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repLP"><span class="hs-identifier hs-var">repLP</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcRn
</span><a href="#local-6989586621683135151"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-2196"></span><span>                         </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135154"><span class="annot"><a href="#local-6989586621683135154"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#hsPatSigType"><span class="hs-identifier hs-type">hsPatSigType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135152"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2197"></span><span>                         </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPsig"><span class="hs-identifier hs-type">repPsig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135153"><span class="hs-identifier hs-type">p'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135154"><span class="hs-identifier hs-type">t'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2198"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#EmbTyPat"><span class="hs-identifier hs-type">EmbTyPat</span></a></span><span> </span><span class="annot"><span class="annottext">XEmbTyPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135157"><span class="annot"><span class="annottext">HsTyPat (NoGhcTc GhcRn)
</span><a href="#local-6989586621683135157"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135158"><span class="annot"><a href="#local-6989586621683135158"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsTyPat GhcRn -&gt; XRec GhcRn (HsType GhcRn)
forall pass. HsTyPat pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#hstp_body"><span class="hs-identifier hs-var">hstp_body</span></a></span><span> </span><span class="annot"><span class="annottext">HsTyPat (NoGhcTc GhcRn)
HsTyPat GhcRn
</span><a href="#local-6989586621683135157"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2199"></span><span>                         </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPtype"><span class="hs-identifier hs-type">repPtype</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135158"><span class="hs-identifier hs-type">t'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2200"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#InvisPat"><span class="hs-identifier hs-type">InvisPat</span></a></span><span> </span><span class="annot"><span class="annottext">XInvisPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135161"><span class="annot"><span class="annottext">HsTyPat (NoGhcTc GhcRn)
</span><a href="#local-6989586621683135161"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135162"><span class="annot"><a href="#local-6989586621683135162"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-var">repLTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsTyPat GhcRn -&gt; XRec GhcRn (HsType GhcRn)
forall pass. HsTyPat pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#hstp_body"><span class="hs-identifier hs-var">hstp_body</span></a></span><span> </span><span class="annot"><span class="annottext">HsTyPat (NoGhcTc GhcRn)
HsTyPat GhcRn
</span><a href="#local-6989586621683135161"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2201"></span><span>                         </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPinvis"><span class="hs-identifier hs-type">repPinvis</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135162"><span class="hs-identifier hs-type">t'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2202"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#OrPat"><span class="hs-identifier hs-type">OrPat</span></a></span><span> </span><span class="annot"><span class="annottext">XOrPat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135165"><span class="annot"><span class="annottext">NonEmpty (LPat GhcRn)
</span><a href="#local-6989586621683135165"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135166"><span class="annot"><a href="#local-6989586621683135166"><span class="hs-identifier hs-var">ps'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NonEmpty (LPat GhcRn) -&gt; MetaM (Core (NonEmpty (M Pat)))
</span><a href="GHC.HsToCore.Quote.html#repLPs1"><span class="hs-identifier hs-var">repLPs1</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (LPat GhcRn)
</span><a href="#local-6989586621683135165"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPor"><span class="hs-identifier hs-type">repPor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135166"><span class="hs-identifier hs-type">ps'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2203"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#SplicePat"><span class="hs-identifier hs-type">SplicePat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsUntypedSpliceNested"><span class="hs-identifier hs-type">HsUntypedSpliceNested</span></a></span><span> </span><span id="local-6989586621683135169"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135169"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsUntypedSplice GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep_splice"><span class="hs-identifier hs-var">rep_splice</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135169"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-2204"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span id="local-6989586621683135170"><span class="annot"><span class="annottext">p :: Pat GhcRn
</span><a href="#local-6989586621683135170"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#SplicePat"><span class="hs-identifier hs-type">SplicePat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsUntypedSpliceTop"><span class="hs-identifier hs-type">HsUntypedSpliceTop</span></a></span><span> </span><span class="annot"><span class="annottext">ThModFinalizers
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Pat GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsUntypedSplice GhcRn
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; MetaM (Core (M Pat))
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;repP: top level splice&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcRn -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcRn
</span><a href="#local-6989586621683135170"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2205"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repP"><span class="hs-identifier hs-var">repP</span></a></span><span> </span><span id="local-6989586621683135171"><span class="annot"><span class="annottext">Pat GhcRn
</span><a href="#local-6989586621683135171"><span class="hs-identifier hs-var">other</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core (M Pat))
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pat GhcRn -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThExoticPattern"><span class="hs-identifier hs-var">ThExoticPattern</span></a></span><span> </span><span class="annot"><span class="annottext">Pat GhcRn
</span><a href="#local-6989586621683135171"><span class="hs-identifier hs-var">other</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2206"></span><span>
</span><span id="line-2207"></span><span class="hs-comment">----------------------------------------------------------</span><span>
</span><span id="line-2208"></span><span class="hs-comment">-- Declaration ordering helpers</span><span>
</span><span id="line-2209"></span><span>
</span><span id="line-2210"></span><span id="local-6989586621683131300"><span class="annot"><a href="GHC.HsToCore.Quote.html#sort_by_loc"><span class="hs-identifier hs-type">sort_by_loc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683131300"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683131300"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span><span>
</span><span id="line-2211"></span><span id="sort_by_loc"><span class="annot"><span class="annottext">sort_by_loc :: forall a. [(SrcSpan, a)] -&gt; [(SrcSpan, a)]
</span><a href="GHC.HsToCore.Quote.html#sort_by_loc"><span class="hs-identifier hs-var hs-var">sort_by_loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((SrcSpan, a) -&gt; (SrcSpan, a) -&gt; Ordering)
-&gt; [(SrcSpan, a)] -&gt; [(SrcSpan, a)]
forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sortBy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpan -&gt; Ordering
</span><a href="GHC.Types.SrcLoc.html#leftmost_smallest"><span class="hs-identifier hs-var">SrcLoc.leftmost_smallest</span></a></span><span> </span><span class="annot"><span class="annottext">(SrcSpan -&gt; SrcSpan -&gt; Ordering)
-&gt; ((SrcSpan, a) -&gt; SrcSpan)
-&gt; (SrcSpan, a)
-&gt; (SrcSpan, a)
-&gt; Ordering
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-operator hs-var">`on`</span></span><span> </span><span class="annot"><span class="annottext">(SrcSpan, a) -&gt; SrcSpan
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span>
</span><span id="line-2212"></span><span>
</span><span id="line-2213"></span><span id="local-6989586621683131298"><span id="local-6989586621683131299"><span class="annot"><a href="GHC.HsToCore.Quote.html#de_loc"><span class="hs-identifier hs-type">de_loc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683131298"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683131299"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683131299"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-2214"></span><span id="de_loc"><span class="annot"><span class="annottext">de_loc :: forall a b. [(a, b)] -&gt; [b]
</span><a href="GHC.HsToCore.Quote.html#de_loc"><span class="hs-identifier hs-var hs-var">de_loc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, b) -&gt; b) -&gt; [(a, b)] -&gt; [b]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(a, b) -&gt; b
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span>
</span><span id="line-2215"></span><span>
</span><span id="line-2216"></span><span class="hs-comment">----------------------------------------------------------</span><span>
</span><span id="line-2217"></span><span class="hs-comment">--      The meta-environment</span><span>
</span><span id="line-2218"></span><span>
</span><span id="line-2219"></span><span class="hs-comment">-- A name/identifier association for fresh names of locally bound entities</span><span>
</span><span id="line-2220"></span><span class="hs-keyword">type</span><span> </span><span id="GenSymBind"><span class="annot"><a href="GHC.HsToCore.Quote.html#GenSymBind"><span class="hs-identifier hs-var">GenSymBind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">)</span><span>    </span><span class="hs-comment">-- Gensym the string and bind it to the Id</span><span>
</span><span id="line-2221"></span><span>                                </span><span class="hs-comment">-- I.e.         (x, x_id) means</span><span>
</span><span id="line-2222"></span><span>                                </span><span class="hs-comment">--      let x_id = gensym &quot;x&quot; in ...</span><span>
</span><span id="line-2223"></span><span>
</span><span id="line-2224"></span><span class="hs-comment">-- Generate a fresh name for a locally bound entity</span><span>
</span><span id="line-2225"></span><span>
</span><span id="line-2226"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-type">mkGenSyms</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#GenSymBind"><span class="hs-identifier hs-type">GenSymBind</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2227"></span><span class="hs-comment">-- We can use the existing name.  For example:</span><span>
</span><span id="line-2228"></span><span class="hs-comment">--      [| \x_77 -&gt; x_77 + x_77 |]</span><span>
</span><span id="line-2229"></span><span class="hs-comment">-- desugars to</span><span>
</span><span id="line-2230"></span><span class="hs-comment">--      do { x_77 &lt;- genSym &quot;x&quot;; .... }</span><span>
</span><span id="line-2231"></span><span class="hs-comment">-- We use the same x_77 in the desugared program, but with the type Bndr</span><span>
</span><span id="line-2232"></span><span class="hs-comment">-- instead of Int</span><span>
</span><span id="line-2233"></span><span class="hs-comment">--</span><span>
</span><span id="line-2234"></span><span class="hs-comment">-- We do make it an Internal name, though (hence localiseName)</span><span>
</span><span id="line-2235"></span><span class="hs-comment">--</span><span>
</span><span id="line-2236"></span><span class="hs-comment">-- Nevertheless, it's monadic because we have to generate nameTy</span><span>
</span><span id="line-2237"></span><span id="mkGenSyms"><span class="annot"><span class="annottext">mkGenSyms :: [Name] -&gt; MetaM [GenSymBind]
</span><a href="GHC.HsToCore.Quote.html#mkGenSyms"><span class="hs-identifier hs-var hs-var">mkGenSyms</span></a></span></span><span> </span><span id="local-6989586621683135175"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621683135175"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135176"><span class="annot"><a href="#local-6989586621683135176"><span class="hs-identifier hs-var">var_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#lookupType"><span class="hs-identifier hs-var">lookupType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#nameTyConName"><span class="hs-identifier hs-var">nameTyConName</span></a></span><span>
</span><span id="line-2238"></span><span>                  </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683135177"><span class="hs-identifier hs-type">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.html#mkLocalId"><span class="hs-identifier hs-type">mkLocalId</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#localiseName"><span class="hs-identifier hs-type">localiseName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135177"><span class="hs-identifier hs-type">nm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Core.Type.html#ManyTy"><span class="hs-identifier hs-type">ManyTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135176"><span class="hs-identifier hs-type">var_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2239"></span><span>                           </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621683135177"><span class="annot"><a href="#local-6989586621683135177"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621683135175"><span class="hs-identifier hs-type">ns</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2240"></span><span>
</span><span id="line-2241"></span><span>
</span><span id="line-2242"></span><span id="local-6989586621683131223"><span class="annot"><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-type">addBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#GenSymBind"><span class="hs-identifier hs-type">GenSymBind</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131223"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131223"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-2243"></span><span class="hs-comment">-- Add a list of fresh names for locally bound entities to the</span><span>
</span><span id="line-2244"></span><span class="hs-comment">-- meta environment (which is part of the state carried around</span><span>
</span><span id="line-2245"></span><span class="hs-comment">-- by the desugarer monad)</span><span>
</span><span id="line-2246"></span><span id="addBinds"><span class="annot"><span class="annottext">addBinds :: forall a. [GenSymBind] -&gt; MetaM a -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#addBinds"><span class="hs-identifier hs-var hs-var">addBinds</span></a></span></span><span> </span><span id="local-6989586621683135180"><span class="annot"><span class="annottext">[GenSymBind]
</span><a href="#local-6989586621683135180"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span id="local-6989586621683135181"><span class="annot"><span class="annottext">MetaM a
</span><a href="#local-6989586621683135181"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IOEnv (Env DsGblEnv DsLclEnv) a
 -&gt; IOEnv (Env DsGblEnv DsLclEnv) a)
-&gt; MetaM a -&gt; MetaM a
forall (m :: * -&gt; *) a (n :: * -&gt; *) b r.
(m a -&gt; n b) -&gt; ReaderT r m a -&gt; ReaderT r n b
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Reader.html#mapReaderT"><span class="hs-identifier hs-var">mapReaderT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DsMetaEnv
-&gt; IOEnv (Env DsGblEnv DsLclEnv) a
-&gt; IOEnv (Env DsGblEnv DsLclEnv) a
forall a. DsMetaEnv -&gt; DsM a -&gt; DsM a
</span><a href="GHC.HsToCore.Monad.html#dsExtendMetaEnv"><span class="hs-identifier hs-var">dsExtendMetaEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Name, DsMetaVal)] -&gt; DsMetaEnv
forall a. [(Name, a)] -&gt; NameEnv a
</span><a href="GHC.Types.Name.Env.html#mkNameEnv"><span class="hs-identifier hs-var">mkNameEnv</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135182"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Id -&gt; DsMetaVal
</span><a href="GHC.HsToCore.Types.html#DsBound"><span class="hs-identifier hs-var">DsBound</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683135183"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621683135182"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135182"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683135183"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683135183"><span class="hs-identifier hs-var">id</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[GenSymBind]
</span><a href="#local-6989586621683135180"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MetaM a
</span><a href="#local-6989586621683135181"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-2247"></span><span>
</span><span id="line-2248"></span><span class="hs-comment">-- Look up a locally bound name</span><span>
</span><span id="line-2249"></span><span class="hs-comment">--</span><span>
</span><span id="line-2250"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#lookupNBinder"><span class="hs-identifier hs-type">lookupNBinder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-2251"></span><span id="lookupNBinder"><span class="annot"><span class="annottext">lookupNBinder :: GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupNBinder"><span class="hs-identifier hs-var hs-var">lookupNBinder</span></a></span></span><span> </span><span id="local-6989586621683135184"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683135184"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupBinder"><span class="hs-identifier hs-var">lookupBinder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683135184"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2252"></span><span>
</span><span id="line-2253"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#lookupBinder"><span class="hs-identifier hs-type">lookupBinder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-2254"></span><span id="lookupBinder"><span class="annot"><span class="annottext">lookupBinder :: Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupBinder"><span class="hs-identifier hs-var hs-var">lookupBinder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupOcc"><span class="hs-identifier hs-var">lookupOcc</span></a></span><span>
</span><span id="line-2255"></span><span>  </span><span class="hs-comment">-- Binders are brought into scope before the pattern or what-not is</span><span>
</span><span id="line-2256"></span><span>  </span><span class="hs-comment">-- desugared.  Moreover, in instance declaration the binder of a method</span><span>
</span><span id="line-2257"></span><span>  </span><span class="hs-comment">-- will be the selector Id and hence a global; so we need the</span><span>
</span><span id="line-2258"></span><span>  </span><span class="hs-comment">-- globalVar case of lookupOcc</span><span>
</span><span id="line-2259"></span><span>
</span><span id="line-2260"></span><span class="hs-comment">-- Look up a name that is either locally bound or a global name</span><span>
</span><span id="line-2261"></span><span class="hs-comment">--</span><span>
</span><span id="line-2262"></span><span class="hs-comment">--  * If it is a global name, generate the &quot;original name&quot; representation (ie,</span><span>
</span><span id="line-2263"></span><span class="hs-comment">--   the &lt;module&gt;:&lt;name&gt; form) for the associated entity</span><span>
</span><span id="line-2264"></span><span class="hs-comment">--</span><span>
</span><span id="line-2265"></span><span id="local-6989586621683131348"><span class="annot"><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-type">lookupLOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#GenLocated"><span class="hs-identifier hs-type">GenLocated</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131348"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">)</span></span><span>
</span><span id="line-2266"></span><span class="hs-comment">-- Lookup an occurrence; it can't be a splice.</span><span>
</span><span id="line-2267"></span><span class="hs-comment">-- Use the in-scope bindings if they exist</span><span>
</span><span id="line-2268"></span><span id="lookupLOcc"><span class="annot"><span class="annottext">lookupLOcc :: forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var hs-var">lookupLOcc</span></a></span></span><span> </span><span id="local-6989586621683135185"><span class="annot"><span class="annottext">GenLocated l Name
</span><a href="#local-6989586621683135185"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupOcc"><span class="hs-identifier hs-var">lookupOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated l Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated l Name
</span><a href="#local-6989586621683135185"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2269"></span><span>
</span><span id="line-2270"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#lookupOcc"><span class="hs-identifier hs-type">lookupOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-2271"></span><span id="lookupOcc"><span class="annot"><span class="annottext">lookupOcc :: Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupOcc"><span class="hs-identifier hs-var hs-var">lookupOcc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DsM (Core Name) -&gt; MetaM (Core Name)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(DsM (Core Name) -&gt; MetaM (Core Name))
-&gt; (Name -&gt; DsM (Core Name)) -&gt; Name -&gt; MetaM (Core Name)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; DsM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupOccDsM"><span class="hs-identifier hs-var">lookupOccDsM</span></a></span><span>
</span><span id="line-2272"></span><span>
</span><span id="line-2273"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#lookupOccDsM"><span class="hs-identifier hs-type">lookupOccDsM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsM"><span class="hs-identifier hs-type">DsM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-2274"></span><span id="lookupOccDsM"><span class="annot"><span class="annottext">lookupOccDsM :: Name -&gt; DsM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupOccDsM"><span class="hs-identifier hs-var hs-var">lookupOccDsM</span></a></span></span><span> </span><span id="local-6989586621683135186"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135186"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-2275"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span>  </span><span id="local-6989586621683135187"><span class="annot"><a href="#local-6989586621683135187"><span class="hs-identifier hs-var">mb_val</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; IOEnv (Env DsGblEnv DsLclEnv) (Maybe DsMetaVal)
</span><a href="GHC.HsToCore.Monad.html#dsLookupMetaEnv"><span class="hs-identifier hs-var">dsLookupMetaEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135186"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">;</span><span>
</span><span id="line-2276"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621683135187"><span class="hs-identifier hs-type">mb_val</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2277"></span><span>                </span><span class="annot"><span class="annottext">Maybe DsMetaVal
</span><span class="hs-identifier hs-var">Nothing</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; DsM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#globalVar"><span class="hs-identifier hs-var">globalVar</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135186"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-2278"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Types.html#DsBound"><span class="hs-identifier hs-type">DsBound</span></a></span><span> </span><span id="local-6989586621683135188"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683135188"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Core Name -&gt; DsM (Core Name)
forall a. a -&gt; IOEnv (Env DsGblEnv DsLclEnv) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Core Name
</span><a href="GHC.HsToCore.Quote.html#coreVar"><span class="hs-identifier hs-var">coreVar</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683135188"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2279"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Types.html#DsSplice"><span class="hs-identifier hs-type">DsSplice</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; DsM (Core Name)
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;repE:lookupOcc&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135186"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2280"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-2281"></span><span>
</span><span id="line-2282"></span><span>
</span><span id="line-2283"></span><span class="hs-comment">-- Not bound by the meta-env</span><span>
</span><span id="line-2284"></span><span class="hs-comment">-- Could be top-level; or could be local</span><span>
</span><span id="line-2285"></span><span class="hs-comment">--      f x = $(g [| x |])</span><span>
</span><span id="line-2286"></span><span class="hs-comment">-- Here the x will be local</span><span>
</span><span id="line-2287"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#globalVar"><span class="hs-identifier hs-type">globalVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsM"><span class="hs-identifier hs-type">DsM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-2288"></span><span id="globalVar"><span class="annot"><span class="annottext">globalVar :: Name -&gt; DsM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#globalVar"><span class="hs-identifier hs-var hs-var">globalVar</span></a></span></span><span> </span><span id="local-6989586621683135189"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135189"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2289"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Module
</span><a href="GHC.Types.Name.html#nameModule_maybe"><span class="hs-identifier hs-var">nameModule_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135189"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2290"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683135191"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621683135191"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Module -&gt; OccName -&gt; DsM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#globalVarExternal"><span class="hs-identifier hs-var">globalVarExternal</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621683135191"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
forall a. NamedThing a =&gt; a -&gt; OccName
</span><a href="GHC.Types.Name.html#getOccName"><span class="hs-identifier hs-var">getOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135189"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2291"></span><span>    </span><span class="annot"><span class="annottext">Maybe Module
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Unique -&gt; OccName -&gt; DsM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#globalVarLocal"><span class="hs-identifier hs-var">globalVarLocal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135189"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
forall a. NamedThing a =&gt; a -&gt; OccName
</span><a href="GHC.Types.Name.html#getOccName"><span class="hs-identifier hs-var">getOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135189"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2292"></span><span>
</span><span id="line-2293"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#globalVarLocal"><span class="hs-identifier hs-type">globalVarLocal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsM"><span class="hs-identifier hs-type">DsM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-2294"></span><span id="globalVarLocal"><span class="annot"><span class="annottext">globalVarLocal :: Unique -&gt; OccName -&gt; DsM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#globalVarLocal"><span class="hs-identifier hs-var hs-var">globalVarLocal</span></a></span></span><span> </span><span id="local-6989586621683135195"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621683135195"><span class="hs-identifier hs-var">unique</span></a></span></span><span> </span><span id="local-6989586621683135196"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683135196"><span class="hs-identifier hs-var">name</span></a></span></span><span>
</span><span id="line-2295"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135197"><span class="annot"><a href="#local-6989586621683135197"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; IOEnv (Env DsGblEnv DsLclEnv) (Core String)
forall (m :: * -&gt; *). MonadThings m =&gt; OccName -&gt; m (Core String)
</span><a href="GHC.HsToCore.Quote.html#occNameLit"><span class="hs-identifier hs-var">occNameLit</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683135196"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-2296"></span><span>        </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135199"><span class="annot"><a href="#local-6989586621683135199"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Driver.DynFlags.html#targetPlatform"><span class="hs-identifier hs-var">targetPlatform</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="GHC.Driver.DynFlags.html#getDynFlags"><span class="hs-identifier hs-type">getDynFlags</span></a></span><span>
</span><span id="line-2297"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683135200"><span class="annot"><a href="#local-6989586621683135200"><span class="hs-identifier hs-var hs-var">uni</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Integer -&gt; CoreExpr
</span><a href="GHC.Core.Make.html#mkIntegerExpr"><span class="hs-identifier hs-var">mkIntegerExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621683135199"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word64 -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; Integer) -&gt; Word64 -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Unique -&gt; Word64
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621683135195"><span class="hs-identifier hs-var">unique</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2298"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2_nwDsM"><span class="hs-identifier hs-type">rep2_nwDsM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#mkNameLName"><span class="hs-identifier hs-type">mkNameLName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135197"><span class="hs-identifier hs-type">occ</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683135200"><span class="hs-identifier hs-type">uni</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2299"></span><span>
</span><span id="line-2300"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#globalVarExternal"><span class="hs-identifier hs-type">globalVarExternal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsM"><span class="hs-identifier hs-type">DsM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-2301"></span><span id="globalVarExternal"><span class="annot"><span class="annottext">globalVarExternal :: Module -&gt; OccName -&gt; DsM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#globalVarExternal"><span class="hs-identifier hs-var hs-var">globalVarExternal</span></a></span></span><span> </span><span id="local-6989586621683135204"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621683135204"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621683135205"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683135205"><span class="hs-identifier hs-var">name_occ</span></a></span></span><span>
</span><span id="line-2302"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135206"><span class="annot"><a href="#local-6989586621683135206"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; IOEnv (Env DsGblEnv DsLclEnv) (Core String)
forall (m :: * -&gt; *).
MonadThings m =&gt;
FastString -&gt; m (Core String)
</span><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-var">coreStringLit</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683135207"><span class="hs-identifier hs-var">name_mod</span></a></span><span>
</span><span id="line-2303"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135208"><span class="annot"><a href="#local-6989586621683135208"><span class="hs-identifier hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-type">coreStringLit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135209"><span class="hs-identifier hs-type">name_pkg</span></a></span><span>
</span><span id="line-2304"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135210"><span class="annot"><a href="#local-6989586621683135210"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#occNameLit"><span class="hs-identifier hs-type">occNameLit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135205"><span class="hs-identifier hs-type">name_occ</span></a></span><span>
</span><span id="line-2305"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isDataOcc"><span class="hs-identifier hs-type">isDataOcc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135205"><span class="hs-identifier hs-type">name_occ</span></a></span><span>
</span><span id="line-2306"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2_nwDsM"><span class="hs-identifier hs-type">rep2_nwDsM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#mkNameG_dName"><span class="hs-identifier hs-type">mkNameG_dName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135208"><span class="hs-identifier hs-type">pkg</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683135206"><span class="hs-identifier hs-type">mod</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683135210"><span class="hs-identifier hs-type">occ</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2307"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isVarOcc"><span class="hs-identifier hs-type">isVarOcc</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621683135205"><span class="hs-identifier hs-type">name_occ</span></a></span><span>
</span><span id="line-2308"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2_nwDsM"><span class="hs-identifier hs-type">rep2_nwDsM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#mkNameG_vName"><span class="hs-identifier hs-type">mkNameG_vName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135208"><span class="hs-identifier hs-type">pkg</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683135206"><span class="hs-identifier hs-type">mod</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683135210"><span class="hs-identifier hs-type">occ</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2309"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTcOcc"><span class="hs-identifier hs-type">isTcOcc</span></a></span><span>   </span><span class="annot"><a href="#local-6989586621683135205"><span class="hs-identifier hs-type">name_occ</span></a></span><span>
</span><span id="line-2310"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2_nwDsM"><span class="hs-identifier hs-type">rep2_nwDsM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#mkNameG_tcName"><span class="hs-identifier hs-type">mkNameG_tcName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135208"><span class="hs-identifier hs-type">pkg</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683135206"><span class="hs-identifier hs-type">mod</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683135210"><span class="hs-identifier hs-type">occ</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2311"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683135217"><span class="annot"><a href="#local-6989586621683135217"><span class="hs-identifier hs-var">con_fs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#fieldOcc_maybe"><span class="hs-identifier hs-type">fieldOcc_maybe</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135205"><span class="hs-identifier hs-type">name_occ</span></a></span><span>
</span><span id="line-2312"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135219"><span class="annot"><a href="#local-6989586621683135219"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-type">coreStringLit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135217"><span class="hs-identifier hs-type">con_fs</span></a></span><span>
</span><span id="line-2313"></span><span>                   </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2_nwDsM"><span class="hs-identifier hs-type">rep2_nwDsM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#mkNameG_fldName"><span class="hs-identifier hs-type">mkNameG_fldName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135208"><span class="hs-identifier hs-type">pkg</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683135206"><span class="hs-identifier hs-type">mod</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683135219"><span class="hs-identifier hs-type">con</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683135210"><span class="hs-identifier hs-type">occ</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2314"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">otherwise</span></span><span>
</span><span id="line-2315"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-type">pprPanic</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;GHC.HsToCore.Quote.globalVar&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-type">ppr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135205"><span class="hs-identifier hs-type">name_occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2316"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-2317"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2318"></span><span>    </span><span id="local-6989586621683135207"><span class="annot"><span class="annottext">name_mod :: FastString
</span><a href="#local-6989586621683135207"><span class="hs-identifier hs-var hs-var">name_mod</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; FastString
</span><a href="Language.Haskell.Syntax.Module.Name.html#moduleNameFS"><span class="hs-identifier hs-var">moduleNameFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span><a href="GHC.Unit.Types.html#moduleName"><span class="hs-identifier hs-var">moduleName</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621683135204"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2319"></span><span>    </span><span id="local-6989586621683135209"><span class="annot"><span class="annottext">name_pkg :: FastString
</span><a href="#local-6989586621683135209"><span class="hs-identifier hs-var hs-var">name_pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unit -&gt; FastString
forall u. IsUnitId u =&gt; u -&gt; FastString
</span><a href="GHC.Unit.Types.html#unitFS"><span class="hs-identifier hs-var">unitFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Module -&gt; Unit
forall unit. GenModule unit -&gt; unit
</span><a href="GHC.Unit.Types.html#moduleUnit"><span class="hs-identifier hs-var">moduleUnit</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621683135204"><span class="hs-identifier hs-var">mod</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2320"></span><span>
</span><span id="line-2321"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#lookupType"><span class="hs-identifier hs-type">lookupType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>      </span><span class="hs-comment">-- Name of type constructor (e.g. (M TH.Exp))</span><span>
</span><span id="line-2322"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>  </span><span class="hs-comment">-- The type</span><span>
</span><span id="line-2323"></span><span id="lookupType"><span class="annot"><span class="annottext">lookupType :: Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#lookupType"><span class="hs-identifier hs-var hs-var">lookupType</span></a></span></span><span> </span><span id="local-6989586621683135225"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135225"><span class="hs-identifier hs-var">tc_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135226"><span class="annot"><a href="#local-6989586621683135226"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DsM TyCon -&gt; ReaderT MetaWrappers DsM TyCon
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(DsM TyCon -&gt; ReaderT MetaWrappers DsM TyCon)
-&gt; DsM TyCon -&gt; ReaderT MetaWrappers DsM TyCon
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; DsM TyCon
</span><a href="GHC.HsToCore.Monad.html#dsLookupTyCon"><span class="hs-identifier hs-var">dsLookupTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135225"><span class="hs-identifier hs-var">tc_name</span></a></span><span> </span><span class="hs-special">;</span><span>
</span><span id="line-2324"></span><span>                          </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Type.html#mkTyConApp"><span class="hs-identifier hs-type">mkTyConApp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135226"><span class="hs-identifier hs-type">tc</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2325"></span><span>
</span><span id="line-2326"></span><span id="local-6989586621683131225"><span class="annot"><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-type">wrapGenSyms</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#GenSymBind"><span class="hs-identifier hs-type">GenSymBind</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2327"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131225"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131225"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-2328"></span><span class="hs-comment">-- wrapGenSyms [(nm1,id1), (nm2,id2)] y</span><span>
</span><span id="line-2329"></span><span class="hs-comment">--      --&gt; bindQ (gensym nm1) (\ id1 -&gt;</span><span>
</span><span id="line-2330"></span><span class="hs-comment">--          bindQ (gensym nm2 (\ id2 -&gt;</span><span>
</span><span id="line-2331"></span><span class="hs-comment">--          y))</span><span>
</span><span id="line-2332"></span><span>
</span><span id="line-2333"></span><span id="wrapGenSyms"><span class="annot"><span class="annottext">wrapGenSyms :: forall {k} (a :: k).
[GenSymBind] -&gt; Core (M a) -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#wrapGenSyms"><span class="hs-identifier hs-var hs-var">wrapGenSyms</span></a></span></span><span> </span><span id="local-6989586621683135236"><span class="annot"><span class="annottext">[GenSymBind]
</span><a href="#local-6989586621683135236"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span id="local-6989586621683135237"><span class="annot"><span class="annottext">body :: Core (M a)
</span><a href="#local-6989586621683135237"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135238"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135238"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2334"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135239"><span class="annot"><a href="#local-6989586621683135239"><span class="hs-identifier hs-var">var_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#lookupType"><span class="hs-identifier hs-var">lookupType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#nameTyConName"><span class="hs-identifier hs-var">nameTyConName</span></a></span><span>
</span><span id="line-2335"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="#local-6989586621683135240"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135239"><span class="hs-identifier hs-type">var_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135236"><span class="hs-identifier hs-type">binds</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2336"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2337"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621683135241"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135241"><span class="hs-identifier hs-var">elt_ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; (Type, Type)
</span><a href="GHC.Tc.Utils.TcType.html#tcSplitAppTy"><span class="hs-identifier hs-var">tcSplitAppTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; CoreExpr -&gt; Type
CoreExpr -&gt; Type
</span><a href="GHC.Core.Utils.html#exprType"><span class="hs-identifier hs-var">exprType</span></a></span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135238"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2338"></span><span>        </span><span class="hs-comment">-- b :: m a, so we can get the type 'a' by looking at the</span><span>
</span><span id="line-2339"></span><span>        </span><span class="hs-comment">-- argument type. Need to use `tcSplitAppTy` here as since</span><span>
</span><span id="line-2340"></span><span>        </span><span class="hs-comment">-- the overloaded quotations patch the type of the expression can</span><span>
</span><span id="line-2341"></span><span>        </span><span class="hs-comment">-- be something more complicated than just `Q a`.</span><span>
</span><span id="line-2342"></span><span>        </span><span class="hs-comment">-- See #17839 for when this went wrong with the type `WriterT () m a`</span><span>
</span><span id="line-2343"></span><span>
</span><span id="line-2344"></span><span>    </span><span id="local-6989586621683135240"><span class="annot"><span class="annottext">go :: Type -&gt; [GenSymBind] -&gt; ReaderT MetaWrappers DsM (Core (M a))
</span><a href="#local-6989586621683135240"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Core (M a) -&gt; ReaderT MetaWrappers DsM (Core (M a))
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Core (M a)
</span><a href="#local-6989586621683135237"><span class="hs-identifier hs-var">body</span></a></span><span>
</span><span id="line-2345"></span><span>    </span><span class="annot"><a href="#local-6989586621683135240"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621683135244"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135244"><span class="hs-identifier hs-var">var_ty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621683135245"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135245"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621683135246"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683135246"><span class="hs-identifier hs-var">id</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621683135247"><span class="annot"><span class="annottext">[GenSymBind]
</span><a href="#local-6989586621683135247"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2346"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135248"><span class="annot"><a href="#local-6989586621683135248"><span class="hs-identifier hs-var">body'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; [GenSymBind] -&gt; ReaderT MetaWrappers DsM (Core (M a))
</span><a href="#local-6989586621683135240"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135244"><span class="hs-identifier hs-var">var_ty</span></a></span><span> </span><span class="annot"><span class="annottext">[GenSymBind]
</span><a href="#local-6989586621683135247"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-2347"></span><span>           </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135249"><span class="annot"><a href="#local-6989586621683135249"><span class="hs-identifier hs-var">lit_str</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#occNameLit"><span class="hs-identifier hs-type">occNameLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#occName"><span class="hs-identifier hs-type">occName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135245"><span class="hs-identifier hs-type">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2348"></span><span>           </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135251"><span class="annot"><a href="#local-6989586621683135251"><span class="hs-identifier hs-var">gensym_app</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repGensym"><span class="hs-identifier hs-type">repGensym</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135249"><span class="hs-identifier hs-type">lit_str</span></a></span><span>
</span><span id="line-2349"></span><span>           </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repBindM"><span class="hs-identifier hs-type">repBindM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135244"><span class="hs-identifier hs-type">var_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135241"><span class="hs-identifier hs-type">elt_ty</span></a></span><span>
</span><span id="line-2350"></span><span>                      </span><span class="annot"><a href="#local-6989586621683135251"><span class="hs-identifier hs-type">gensym_app</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.html#Lam"><span class="hs-identifier hs-type">Lam</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135246"><span class="hs-identifier hs-type">id</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135248"><span class="hs-identifier hs-type">body'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2351"></span><span>
</span><span id="line-2352"></span><span id="local-6989586621683131922"><span class="annot"><a href="GHC.HsToCore.Quote.html#occNameLit"><span class="hs-identifier hs-type">occNameLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#MonadThings"><span class="hs-identifier hs-type">MonadThings</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131922"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621683131922"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span></span><span>
</span><span id="line-2353"></span><span id="occNameLit"><span class="annot"><span class="annottext">occNameLit :: forall (m :: * -&gt; *). MonadThings m =&gt; OccName -&gt; m (Core String)
</span><a href="GHC.HsToCore.Quote.html#occNameLit"><span class="hs-identifier hs-var hs-var">occNameLit</span></a></span></span><span> </span><span id="local-6989586621683135257"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683135257"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; m (Core String)
forall (m :: * -&gt; *).
MonadThings m =&gt;
FastString -&gt; m (Core String)
</span><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-var">coreStringLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683135257"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2354"></span><span>
</span><span id="line-2355"></span><span>
</span><span id="line-2356"></span><span class="hs-comment">-- %*********************************************************************</span><span>
</span><span id="line-2357"></span><span class="hs-comment">-- %*                                                                   *</span><span>
</span><span id="line-2358"></span><span class="hs-comment">--              Constructing code</span><span>
</span><span id="line-2359"></span><span class="hs-comment">-- %*                                                                   *</span><span>
</span><span id="line-2360"></span><span class="hs-comment">-- %*********************************************************************</span><span>
</span><span id="line-2361"></span><span>
</span><span id="line-2362"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2363"></span><span class="hs-comment">-- PHANTOM TYPES for consistency. In order to make sure we do this correct</span><span>
</span><span id="line-2364"></span><span class="hs-comment">-- we invent a new datatype which uses phantom types.</span><span>
</span><span id="line-2365"></span><span>
</span><span id="line-2366"></span><span class="hs-keyword">newtype</span><span> </span><span id="Core"><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-var">Core</span></a></span></span><span> </span><span id="local-6989586621683131683"><span class="annot"><a href="#local-6989586621683131683"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MkC"><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-var">MkC</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span>
</span><span id="line-2367"></span><span id="local-6989586621683131422"><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131422"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span></span><span>
</span><span id="line-2368"></span><span id="unC"><span class="annot"><span class="annottext">unC :: forall {k} (a :: k). Core a -&gt; CoreExpr
</span><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-var hs-var">unC</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135259"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135259"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135259"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-2369"></span><span>
</span><span id="line-2370"></span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><span id="NotM"><span class="annot"><a href="GHC.HsToCore.Quote.html#NotM"><span class="hs-identifier hs-var">NotM</span></a></span></span><span> </span><span id="local-6989586621683135260"><span class="annot"><a href="#local-6989586621683135260"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2371"></span><span>  </span><span id="NotM"><span class="annot"><a href="GHC.HsToCore.Quote.html#NotM"><span class="hs-identifier hs-var">NotM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TypeError</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;rep2_nw must not produce something of overloaded type&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2372"></span><span>  </span><span id="NotM"><span class="annot"><a href="GHC.HsToCore.Quote.html#NotM"><span class="hs-identifier hs-var">NotM</span></a></span></span><span> </span><span id="local-6989586621683135261"><span class="annot"><a href="#local-6989586621683135261"><span class="hs-identifier hs-type hs-type">_other</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Constraint</span></span><span class="hs-special">)</span><span>
</span><span id="line-2373"></span><span>
</span><span id="line-2374"></span><span id="local-6989586621683135262"><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2M"><span class="hs-identifier hs-type">rep2M</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135262"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-2375"></span><span id="local-6989586621683131376"><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131376"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-2376"></span><span id="local-6989586621683131420"><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-type">rep2_nw</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#NotM"><span class="hs-identifier hs-type">NotM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131420"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131420"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-2377"></span><span id="local-6989586621683131924"><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2_nwDsM"><span class="hs-identifier hs-type">rep2_nwDsM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#NotM"><span class="hs-identifier hs-type">NotM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131924"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsM"><span class="hs-identifier hs-type">DsM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131924"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-2378"></span><span id="rep2"><span class="annot"><span class="annottext">rep2 :: forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var hs-var">rep2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall z. DsM z -&gt; ReaderT MetaWrappers DsM z)
-&gt; ReaderT MetaWrappers DsM (CoreExpr -&gt; CoreExpr)
-&gt; Name
-&gt; [CoreExpr]
-&gt; ReaderT MetaWrappers DsM (Core (M a))
forall {k} (m :: * -&gt; *) (a :: k).
Monad m =&gt;
(forall z. DsM z -&gt; m z)
-&gt; m (CoreExpr -&gt; CoreExpr) -&gt; Name -&gt; [CoreExpr] -&gt; m (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2X"><span class="hs-identifier hs-var">rep2X</span></a></span><span> </span><span class="annot"><span class="annottext">IOEnv (Env DsGblEnv DsLclEnv) z -&gt; ReaderT MetaWrappers DsM z
forall z. DsM z -&gt; ReaderT MetaWrappers DsM z
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(MetaWrappers -&gt; CoreExpr -&gt; CoreExpr)
-&gt; ReaderT MetaWrappers DsM (CoreExpr -&gt; CoreExpr)
forall (m :: * -&gt; *) r a. Monad m =&gt; (r -&gt; a) -&gt; ReaderT r m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Reader.html#asks"><span class="hs-identifier hs-var">asks</span></a></span><span> </span><span class="annot"><span class="annottext">MetaWrappers -&gt; CoreExpr -&gt; CoreExpr
</span><a href="GHC.HsToCore.Quote.html#quoteWrapper"><span class="hs-identifier hs-var">quoteWrapper</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2379"></span><span id="rep2M"><span class="annot"><span class="annottext">rep2M :: forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2M"><span class="hs-identifier hs-var hs-var">rep2M</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall z. DsM z -&gt; ReaderT MetaWrappers DsM z)
-&gt; ReaderT MetaWrappers DsM (CoreExpr -&gt; CoreExpr)
-&gt; Name
-&gt; [CoreExpr]
-&gt; ReaderT MetaWrappers DsM (Core (M a))
forall {k} (m :: * -&gt; *) (a :: k).
Monad m =&gt;
(forall z. DsM z -&gt; m z)
-&gt; m (CoreExpr -&gt; CoreExpr) -&gt; Name -&gt; [CoreExpr] -&gt; m (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2X"><span class="hs-identifier hs-var">rep2X</span></a></span><span> </span><span class="annot"><span class="annottext">IOEnv (Env DsGblEnv DsLclEnv) z -&gt; ReaderT MetaWrappers DsM z
forall z. DsM z -&gt; ReaderT MetaWrappers DsM z
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(MetaWrappers -&gt; CoreExpr -&gt; CoreExpr)
-&gt; ReaderT MetaWrappers DsM (CoreExpr -&gt; CoreExpr)
forall (m :: * -&gt; *) r a. Monad m =&gt; (r -&gt; a) -&gt; ReaderT r m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Reader.html#asks"><span class="hs-identifier hs-var">asks</span></a></span><span> </span><span class="annot"><span class="annottext">MetaWrappers -&gt; CoreExpr -&gt; CoreExpr
</span><a href="GHC.HsToCore.Quote.html#monadWrapper"><span class="hs-identifier hs-var">monadWrapper</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2380"></span><span id="rep2_nw"><span class="annot"><span class="annottext">rep2_nw :: forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var hs-var">rep2_nw</span></a></span></span><span> </span><span id="local-6989586621683135277"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135277"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621683135278"><span class="annot"><span class="annottext">[CoreExpr]
</span><a href="#local-6989586621683135278"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DsM (Core a) -&gt; ReaderT MetaWrappers DsM (Core a)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; DsM (Core a)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; DsM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nwDsM"><span class="hs-identifier hs-var">rep2_nwDsM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135277"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">[CoreExpr]
</span><a href="#local-6989586621683135278"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2381"></span><span id="rep2_nwDsM"><span class="annot"><span class="annottext">rep2_nwDsM :: forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; DsM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nwDsM"><span class="hs-identifier hs-var hs-var">rep2_nwDsM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(forall z. DsM z -&gt; DsM z)
-&gt; IOEnv (Env DsGblEnv DsLclEnv) (CoreExpr -&gt; CoreExpr)
-&gt; Name
-&gt; [CoreExpr]
-&gt; IOEnv (Env DsGblEnv DsLclEnv) (Core a)
forall {k} (m :: * -&gt; *) (a :: k).
Monad m =&gt;
(forall z. DsM z -&gt; m z)
-&gt; m (CoreExpr -&gt; CoreExpr) -&gt; Name -&gt; [CoreExpr] -&gt; m (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2X"><span class="hs-identifier hs-var">rep2X</span></a></span><span> </span><span class="annot"><span class="annottext">DsM z -&gt; DsM z
forall a. a -&gt; a
forall z. DsM z -&gt; DsM z
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CoreExpr -&gt; CoreExpr)
-&gt; IOEnv (Env DsGblEnv DsLclEnv) (CoreExpr -&gt; CoreExpr)
forall a. a -&gt; IOEnv (Env DsGblEnv DsLclEnv) a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">CoreExpr -&gt; CoreExpr
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span class="hs-special">)</span><span>
</span><span id="line-2382"></span><span>
</span><span id="line-2383"></span><span id="local-6989586621683131943"><span id="local-6989586621683131944"><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2X"><span class="hs-identifier hs-type">rep2X</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621683131943"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621683131939"><span class="annot"><a href="#local-6989586621683131939"><span class="hs-identifier hs-type">z</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.HsToCore.Types.html#DsM"><span class="hs-identifier hs-type">DsM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131939"><span class="hs-identifier hs-type">z</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621683131943"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131939"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2384"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621683131943"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2385"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-2386"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-2387"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621683131943"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131944"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-2388"></span><span id="rep2X"><span class="annot"><span class="annottext">rep2X :: forall {k} (m :: * -&gt; *) (a :: k).
Monad m =&gt;
(forall z. DsM z -&gt; m z)
-&gt; m (CoreExpr -&gt; CoreExpr) -&gt; Name -&gt; [CoreExpr] -&gt; m (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2X"><span class="hs-identifier hs-var hs-var">rep2X</span></a></span></span><span> </span><span id="local-6989586621683135288"><span class="annot"><span class="annottext">forall z. DsM z -&gt; m z
</span><a href="#local-6989586621683135288"><span class="hs-identifier hs-var">lift_dsm</span></a></span></span><span> </span><span id="local-6989586621683135289"><span class="annot"><span class="annottext">m (CoreExpr -&gt; CoreExpr)
</span><a href="#local-6989586621683135289"><span class="hs-identifier hs-var">get_wrap</span></a></span></span><span> </span><span id="local-6989586621683135290"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135290"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621683135291"><span class="annot"><span class="annottext">[CoreExpr]
</span><a href="#local-6989586621683135291"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2389"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135292"><span class="annot"><a href="#local-6989586621683135292"><span class="hs-identifier hs-var">rep_id</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DsM Id -&gt; m Id
forall z. DsM z -&gt; m z
</span><a href="#local-6989586621683135288"><span class="hs-identifier hs-var">lift_dsm</span></a></span><span> </span><span class="annot"><span class="annottext">(DsM Id -&gt; m Id) -&gt; DsM Id -&gt; m Id
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; DsM Id
</span><a href="GHC.HsToCore.Monad.html#dsLookupGlobalId"><span class="hs-identifier hs-var">dsLookupGlobalId</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135290"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-2390"></span><span>  </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135294"><span class="annot"><a href="#local-6989586621683135294"><span class="hs-identifier hs-var">wrap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621683135289"><span class="hs-identifier hs-type">get_wrap</span></a></span><span>
</span><span id="line-2391"></span><span>  </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">foldl'</span></span><span> </span><span class="annot"><a href="GHC.Core.html#App"><span class="hs-identifier hs-type">App</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683135294"><span class="hs-identifier hs-type">wrap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135292"><span class="hs-identifier hs-type">rep_id</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621683135291"><span class="hs-identifier hs-type">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2392"></span><span>
</span><span id="line-2393"></span><span>
</span><span id="line-2394"></span><span id="local-6989586621683131577"><span class="annot"><a href="GHC.HsToCore.Quote.html#dataCon%27"><span class="hs-identifier hs-type">dataCon'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.html#CoreExpr"><span class="hs-identifier hs-type">CoreExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131577"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-2395"></span><span id="dataCon%27"><span class="annot"><span class="annottext">dataCon' :: forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon%27"><span class="hs-identifier hs-var hs-var">dataCon'</span></a></span></span><span> </span><span id="local-6989586621683135301"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135301"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621683135302"><span class="annot"><span class="annottext">[CoreExpr]
</span><a href="#local-6989586621683135302"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135303"><span class="annot"><a href="#local-6989586621683135303"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IOEnv (Env DsGblEnv DsLclEnv) DataCon
-&gt; ReaderT MetaWrappers DsM DataCon
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(IOEnv (Env DsGblEnv DsLclEnv) DataCon
 -&gt; ReaderT MetaWrappers DsM DataCon)
-&gt; IOEnv (Env DsGblEnv DsLclEnv) DataCon
-&gt; ReaderT MetaWrappers DsM DataCon
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; IOEnv (Env DsGblEnv DsLclEnv) DataCon
</span><a href="GHC.HsToCore.Monad.html#dsLookupDataCon"><span class="hs-identifier hs-var">dsLookupDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135301"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-2396"></span><span>                     </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Core.Make.html#mkCoreConApps"><span class="hs-identifier hs-type">mkCoreConApps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135303"><span class="hs-identifier hs-type">id</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135302"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2397"></span><span>
</span><span id="line-2398"></span><span id="local-6989586621683131575"><span class="annot"><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-type">dataCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131575"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-2399"></span><span id="dataCon"><span class="annot"><span class="annottext">dataCon :: forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var hs-var">dataCon</span></a></span></span><span> </span><span id="local-6989586621683135306"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135306"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon%27"><span class="hs-identifier hs-var">dataCon'</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135306"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2400"></span><span>
</span><span id="line-2401"></span><span>
</span><span id="line-2402"></span><span class="hs-comment">-- %*********************************************************************</span><span>
</span><span id="line-2403"></span><span class="hs-comment">-- %*                                                                   *</span><span>
</span><span id="line-2404"></span><span class="hs-comment">--              The 'smart constructors'</span><span>
</span><span id="line-2405"></span><span class="hs-comment">-- %*                                                                   *</span><span>
</span><span id="line-2406"></span><span class="hs-comment">-- %*********************************************************************</span><span>
</span><span id="line-2407"></span><span>
</span><span id="line-2408"></span><span class="hs-comment">--------------- Patterns -----------------</span><span>
</span><span id="line-2409"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPlit"><span class="hs-identifier hs-type">repPlit</span></a></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Lit</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2410"></span><span id="repPlit"><span class="annot"><span class="annottext">repPlit :: Core Lit -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPlit"><span class="hs-identifier hs-var hs-var">repPlit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135307"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135307"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#litPName"><span class="hs-identifier hs-var">litPName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135307"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2411"></span><span>
</span><span id="line-2412"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPvar"><span class="hs-identifier hs-type">repPvar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2413"></span><span id="repPvar"><span class="annot"><span class="annottext">repPvar :: Core Name -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPvar"><span class="hs-identifier hs-var hs-var">repPvar</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135309"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135309"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#varPName"><span class="hs-identifier hs-var">varPName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135309"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2414"></span><span>
</span><span id="line-2415"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPtup"><span class="hs-identifier hs-type">repPtup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2416"></span><span id="repPtup"><span class="annot"><span class="annottext">repPtup :: Core [M Pat] -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPtup"><span class="hs-identifier hs-var hs-var">repPtup</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135311"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135311"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#tupPName"><span class="hs-identifier hs-var">tupPName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135311"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2417"></span><span>
</span><span id="line-2418"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPunboxedTup"><span class="hs-identifier hs-type">repPunboxedTup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2419"></span><span id="repPunboxedTup"><span class="annot"><span class="annottext">repPunboxedTup :: Core [M Pat] -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPunboxedTup"><span class="hs-identifier hs-var hs-var">repPunboxedTup</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135313"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135313"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#unboxedTupPName"><span class="hs-identifier hs-var">unboxedTupPName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135313"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2420"></span><span>
</span><span id="line-2421"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPunboxedSum"><span class="hs-identifier hs-type">repPunboxedSum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.SumAlt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.SumArity</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2422"></span><span class="hs-comment">-- Note: not Core TH.SumAlt or Core TH.SumArity; it's easier to be direct here</span><span>
</span><span id="line-2423"></span><span id="repPunboxedSum"><span class="annot"><span class="annottext">repPunboxedSum :: Core (M Pat) -&gt; Int -&gt; Int -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPunboxedSum"><span class="hs-identifier hs-var hs-var">repPunboxedSum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135317"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135317"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621683135318"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683135318"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span id="local-6989586621683135319"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683135319"><span class="hs-identifier hs-var">arity</span></a></span></span><span>
</span><span id="line-2424"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135320"><span class="annot"><a href="#local-6989586621683135320"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MetaM Platform
</span><a href="GHC.HsToCore.Quote.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2425"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#unboxedSumPName"><span class="hs-identifier hs-type">unboxedSumPName</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621683135317"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-2426"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Make.html#mkIntExprInt"><span class="hs-identifier hs-type">mkIntExprInt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135320"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135318"><span class="hs-identifier hs-type">alt</span></a></span><span>
</span><span id="line-2427"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Make.html#mkIntExprInt"><span class="hs-identifier hs-type">mkIntExprInt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135320"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135319"><span class="hs-identifier hs-type">arity</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2428"></span><span>
</span><span id="line-2429"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPcon"><span class="hs-identifier hs-type">repPcon</span></a></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2430"></span><span id="repPcon"><span class="annot"><span class="annottext">repPcon :: Core Name -&gt; Core [M Type] -&gt; Core [M Pat] -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPcon"><span class="hs-identifier hs-var hs-var">repPcon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135323"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135323"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135324"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135324"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135325"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135325"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#conPName"><span class="hs-identifier hs-var">conPName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135323"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135324"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135325"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2431"></span><span>
</span><span id="line-2432"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPrec"><span class="hs-identifier hs-type">repPrec</span></a></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2433"></span><span id="repPrec"><span class="annot"><span class="annottext">repPrec :: Core Name -&gt; Core [M (Name, Pat)] -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPrec"><span class="hs-identifier hs-var hs-var">repPrec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135327"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135327"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135328"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135328"><span class="hs-identifier hs-var">rps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#recPName"><span class="hs-identifier hs-var">recPName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135327"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135328"><span class="hs-identifier hs-var">rps</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2434"></span><span>
</span><span id="line-2435"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPinfix"><span class="hs-identifier hs-type">repPinfix</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2436"></span><span id="repPinfix"><span class="annot"><span class="annottext">repPinfix :: Core (M Pat) -&gt; Core Name -&gt; Core (M Pat) -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPinfix"><span class="hs-identifier hs-var hs-var">repPinfix</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135330"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135330"><span class="hs-identifier hs-var">p1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135331"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135331"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135332"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135332"><span class="hs-identifier hs-var">p2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#infixPName"><span class="hs-identifier hs-var">infixPName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135330"><span class="hs-identifier hs-var">p1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135331"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135332"><span class="hs-identifier hs-var">p2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2437"></span><span>
</span><span id="line-2438"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPtilde"><span class="hs-identifier hs-type">repPtilde</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2439"></span><span id="repPtilde"><span class="annot"><span class="annottext">repPtilde :: Core (M Pat) -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPtilde"><span class="hs-identifier hs-var hs-var">repPtilde</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135334"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135334"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#tildePName"><span class="hs-identifier hs-var">tildePName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135334"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2440"></span><span>
</span><span id="line-2441"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPbang"><span class="hs-identifier hs-type">repPbang</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2442"></span><span id="repPbang"><span class="annot"><span class="annottext">repPbang :: Core (M Pat) -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPbang"><span class="hs-identifier hs-var hs-var">repPbang</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135336"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135336"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#bangPName"><span class="hs-identifier hs-var">bangPName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135336"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2443"></span><span>
</span><span id="line-2444"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPaspat"><span class="hs-identifier hs-type">repPaspat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2445"></span><span id="repPaspat"><span class="annot"><span class="annottext">repPaspat :: Core Name -&gt; Core (M Pat) -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPaspat"><span class="hs-identifier hs-var hs-var">repPaspat</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135338"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135338"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135339"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135339"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#asPName"><span class="hs-identifier hs-var">asPName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135338"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135339"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2446"></span><span>
</span><span id="line-2447"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPwild"><span class="hs-identifier hs-type">repPwild</span></a></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2448"></span><span id="repPwild"><span class="annot"><span class="annottext">repPwild :: MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPwild"><span class="hs-identifier hs-var hs-var">repPwild</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#wildPName"><span class="hs-identifier hs-var">wildPName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2449"></span><span>
</span><span id="line-2450"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPlist"><span class="hs-identifier hs-type">repPlist</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2451"></span><span id="repPlist"><span class="annot"><span class="annottext">repPlist :: Core [M Pat] -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPlist"><span class="hs-identifier hs-var hs-var">repPlist</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135342"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135342"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#listPName"><span class="hs-identifier hs-var">listPName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135342"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2452"></span><span>
</span><span id="line-2453"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPview"><span class="hs-identifier hs-type">repPview</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2454"></span><span id="repPview"><span class="annot"><span class="annottext">repPview :: Core (M Exp) -&gt; Core (M Pat) -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPview"><span class="hs-identifier hs-var hs-var">repPview</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135344"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135344"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135345"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135345"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#viewPName"><span class="hs-identifier hs-var">viewPName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135344"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135345"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2455"></span><span>
</span><span id="line-2456"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPor"><span class="hs-identifier hs-type">repPor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2457"></span><span id="repPor"><span class="annot"><span class="annottext">repPor :: Core (NonEmpty (M Pat)) -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPor"><span class="hs-identifier hs-var hs-var">repPor</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135347"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135347"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#orPName"><span class="hs-identifier hs-var">orPName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135347"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2458"></span><span>
</span><span id="line-2459"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPsig"><span class="hs-identifier hs-type">repPsig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2460"></span><span id="repPsig"><span class="annot"><span class="annottext">repPsig :: Core (M Pat) -&gt; Core (M Type) -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPsig"><span class="hs-identifier hs-var hs-var">repPsig</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135349"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135349"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135350"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135350"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#sigPName"><span class="hs-identifier hs-var">sigPName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135349"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135350"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2461"></span><span>
</span><span id="line-2462"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPtype"><span class="hs-identifier hs-type">repPtype</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2463"></span><span id="repPtype"><span class="annot"><span class="annottext">repPtype :: Core (M Type) -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPtype"><span class="hs-identifier hs-var hs-var">repPtype</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135352"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135352"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#typePName"><span class="hs-identifier hs-var">typePName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135352"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2464"></span><span>
</span><span id="line-2465"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPinvis"><span class="hs-identifier hs-type">repPinvis</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2466"></span><span id="repPinvis"><span class="annot"><span class="annottext">repPinvis :: Core (M Type) -&gt; MetaM (Core (M Pat))
</span><a href="GHC.HsToCore.Quote.html#repPinvis"><span class="hs-identifier hs-var hs-var">repPinvis</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135354"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135354"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Pat))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#invisPName"><span class="hs-identifier hs-var">invisPName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135354"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2467"></span><span>
</span><span id="line-2468"></span><span class="hs-comment">--------------- Expressions -----------------</span><span>
</span><span id="line-2469"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repVarOrCon"><span class="hs-identifier hs-type">repVarOrCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2470"></span><span id="repVarOrCon"><span class="annot"><span class="annottext">repVarOrCon :: Name -&gt; Core Name -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repVarOrCon"><span class="hs-identifier hs-var hs-var">repVarOrCon</span></a></span></span><span> </span><span id="local-6989586621683135356"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135356"><span class="hs-identifier hs-var">vc</span></a></span></span><span> </span><span id="local-6989586621683135357"><span class="annot"><span class="annottext">Core Name
</span><a href="#local-6989586621683135357"><span class="hs-identifier hs-var">str</span></a></span></span><span>
</span><span id="line-2471"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier hs-var">isVarNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621683135358"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Core Name -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repVar"><span class="hs-identifier hs-var">repVar</span></a></span><span> </span><span class="annot"><span class="annottext">Core Name
</span><a href="#local-6989586621683135357"><span class="hs-identifier hs-var">str</span></a></span><span>  </span><span class="hs-comment">-- Both type and term variables (#18740)</span><span>
</span><span id="line-2472"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Core Name -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repCon"><span class="hs-identifier hs-var">repCon</span></a></span><span> </span><span class="annot"><span class="annottext">Core Name
</span><a href="#local-6989586621683135357"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-2473"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2474"></span><span>    </span><span id="local-6989586621683135358"><span class="annot"><span class="annottext">ns :: NameSpace
</span><a href="#local-6989586621683135358"><span class="hs-identifier hs-var hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; NameSpace
</span><a href="GHC.Types.Name.html#nameNameSpace"><span class="hs-identifier hs-var">nameNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135356"><span class="hs-identifier hs-var">vc</span></a></span><span>
</span><span id="line-2475"></span><span>
</span><span id="line-2476"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repVar"><span class="hs-identifier hs-type">repVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2477"></span><span id="repVar"><span class="annot"><span class="annottext">repVar :: Core Name -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repVar"><span class="hs-identifier hs-var hs-var">repVar</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135360"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135360"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#varEName"><span class="hs-identifier hs-var">varEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135360"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2478"></span><span>
</span><span id="line-2479"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repCon"><span class="hs-identifier hs-type">repCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2480"></span><span id="repCon"><span class="annot"><span class="annottext">repCon :: Core Name -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repCon"><span class="hs-identifier hs-var hs-var">repCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135362"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135362"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#conEName"><span class="hs-identifier hs-var">conEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135362"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2481"></span><span>
</span><span id="line-2482"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLit"><span class="hs-identifier hs-type">repLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Lit</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2483"></span><span id="repLit"><span class="annot"><span class="annottext">repLit :: Core Lit -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLit"><span class="hs-identifier hs-var hs-var">repLit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135364"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135364"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#litEName"><span class="hs-identifier hs-var">litEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135364"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2484"></span><span>
</span><span id="line-2485"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repApp"><span class="hs-identifier hs-type">repApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2486"></span><span id="repApp"><span class="annot"><span class="annottext">repApp :: Core (M Exp) -&gt; Core (M Exp) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repApp"><span class="hs-identifier hs-var hs-var">repApp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135366"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135366"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135367"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135367"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#appEName"><span class="hs-identifier hs-var">appEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135366"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135367"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2487"></span><span>
</span><span id="line-2488"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repApps"><span class="hs-identifier hs-type">repApps</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2489"></span><span id="repApps"><span class="annot"><span class="annottext">repApps :: Core (M Exp) -&gt; [Core (M Exp)] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repApps"><span class="hs-identifier hs-var hs-var">repApps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Core (M Exp) -&gt; Core (M Exp) -&gt; MetaM (Core (M Exp)))
-&gt; Core (M Exp) -&gt; [Core (M Exp)] -&gt; MetaM (Core (M Exp))
forall (t :: * -&gt; *) (m :: * -&gt; *) b a.
(Foldable t, Monad m) =&gt;
(b -&gt; a -&gt; m b) -&gt; b -&gt; t a -&gt; m b
</span><span class="hs-identifier hs-var">foldlM</span></span><span> </span><span class="annot"><span class="annottext">Core (M Exp) -&gt; Core (M Exp) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repApp"><span class="hs-identifier hs-var">repApp</span></a></span><span>
</span><span id="line-2490"></span><span>
</span><span id="line-2491"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repAppType"><span class="hs-identifier hs-type">repAppType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2492"></span><span id="repAppType"><span class="annot"><span class="annottext">repAppType :: Core (M Exp) -&gt; Core (M Type) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repAppType"><span class="hs-identifier hs-var hs-var">repAppType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135370"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135370"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135371"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135371"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#appTypeEName"><span class="hs-identifier hs-var">appTypeEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135370"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135371"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2493"></span><span>
</span><span id="line-2494"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLam"><span class="hs-identifier hs-type">repLam</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2495"></span><span id="repLam"><span class="annot"><span class="annottext">repLam :: Core [M Pat] -&gt; Core (M Exp) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLam"><span class="hs-identifier hs-var hs-var">repLam</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135373"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135373"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135374"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135374"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#lamEName"><span class="hs-identifier hs-var">lamEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135373"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135374"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2496"></span><span>
</span><span id="line-2497"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLamCase"><span class="hs-identifier hs-type">repLamCase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Match</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2498"></span><span id="repLamCase"><span class="annot"><span class="annottext">repLamCase :: Core [M Match] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLamCase"><span class="hs-identifier hs-var hs-var">repLamCase</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135376"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135376"><span class="hs-identifier hs-var">ms</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#lamCaseEName"><span class="hs-identifier hs-var">lamCaseEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135376"><span class="hs-identifier hs-var">ms</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2499"></span><span>
</span><span id="line-2500"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLamCases"><span class="hs-identifier hs-type">repLamCases</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Clause</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2501"></span><span id="repLamCases"><span class="annot"><span class="annottext">repLamCases :: Core [M Clause] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLamCases"><span class="hs-identifier hs-var hs-var">repLamCases</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135378"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135378"><span class="hs-identifier hs-var">ms</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#lamCasesEName"><span class="hs-identifier hs-var">lamCasesEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135378"><span class="hs-identifier hs-var">ms</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2502"></span><span>
</span><span id="line-2503"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTup"><span class="hs-identifier hs-type">repTup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2504"></span><span id="repTup"><span class="annot"><span class="annottext">repTup :: Core [Maybe (M Exp)] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repTup"><span class="hs-identifier hs-var hs-var">repTup</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135380"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135380"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#tupEName"><span class="hs-identifier hs-var">tupEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135380"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2505"></span><span>
</span><span id="line-2506"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repUnboxedTup"><span class="hs-identifier hs-type">repUnboxedTup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2507"></span><span id="repUnboxedTup"><span class="annot"><span class="annottext">repUnboxedTup :: Core [Maybe (M Exp)] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repUnboxedTup"><span class="hs-identifier hs-var hs-var">repUnboxedTup</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135382"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135382"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#unboxedTupEName"><span class="hs-identifier hs-var">unboxedTupEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135382"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2508"></span><span>
</span><span id="line-2509"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repUnboxedSum"><span class="hs-identifier hs-type">repUnboxedSum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.SumAlt</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.SumArity</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2510"></span><span class="hs-comment">-- Note: not Core TH.SumAlt or Core TH.SumArity; it's easier to be direct here</span><span>
</span><span id="line-2511"></span><span id="repUnboxedSum"><span class="annot"><span class="annottext">repUnboxedSum :: Core (M Exp) -&gt; Int -&gt; Int -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repUnboxedSum"><span class="hs-identifier hs-var hs-var">repUnboxedSum</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135384"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135384"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621683135385"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683135385"><span class="hs-identifier hs-var">alt</span></a></span></span><span> </span><span id="local-6989586621683135386"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683135386"><span class="hs-identifier hs-var">arity</span></a></span></span><span>
</span><span id="line-2512"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135387"><span class="annot"><a href="#local-6989586621683135387"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MetaM Platform
</span><a href="GHC.HsToCore.Quote.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2513"></span><span>      </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#unboxedSumEName"><span class="hs-identifier hs-type">unboxedSumEName</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621683135384"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-2514"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Make.html#mkIntExprInt"><span class="hs-identifier hs-type">mkIntExprInt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135387"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135385"><span class="hs-identifier hs-type">alt</span></a></span><span>
</span><span id="line-2515"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Make.html#mkIntExprInt"><span class="hs-identifier hs-type">mkIntExprInt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135387"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135386"><span class="hs-identifier hs-type">arity</span></a></span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2516"></span><span>
</span><span id="line-2517"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repCond"><span class="hs-identifier hs-type">repCond</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2518"></span><span id="repCond"><span class="annot"><span class="annottext">repCond :: Core (M Exp)
-&gt; Core (M Exp) -&gt; Core (M Exp) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repCond"><span class="hs-identifier hs-var hs-var">repCond</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135389"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135389"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135390"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135390"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135391"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135391"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#condEName"><span class="hs-identifier hs-var">condEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135389"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135390"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135391"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2519"></span><span>
</span><span id="line-2520"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMultiIf"><span class="hs-identifier hs-type">repMultiIf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Guard</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2521"></span><span id="repMultiIf"><span class="annot"><span class="annottext">repMultiIf :: Core [M (Guard, Exp)] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repMultiIf"><span class="hs-identifier hs-var hs-var">repMultiIf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135393"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135393"><span class="hs-identifier hs-var">alts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#multiIfEName"><span class="hs-identifier hs-var">multiIfEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135393"><span class="hs-identifier hs-var">alts</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2522"></span><span>
</span><span id="line-2523"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLetE"><span class="hs-identifier hs-type">repLetE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2524"></span><span id="repLetE"><span class="annot"><span class="annottext">repLetE :: Core [M Dec] -&gt; Core (M Exp) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLetE"><span class="hs-identifier hs-var hs-var">repLetE</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135395"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135395"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135396"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135396"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#letEName"><span class="hs-identifier hs-var">letEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135395"><span class="hs-identifier hs-var">ds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135396"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2525"></span><span>
</span><span id="line-2526"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repCaseE"><span class="hs-identifier hs-type">repCaseE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Match</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2527"></span><span id="repCaseE"><span class="annot"><span class="annottext">repCaseE :: Core (M Exp) -&gt; Core [M Match] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repCaseE"><span class="hs-identifier hs-var hs-var">repCaseE</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135398"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135398"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135399"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135399"><span class="hs-identifier hs-var">ms</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#caseEName"><span class="hs-identifier hs-var">caseEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135398"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135399"><span class="hs-identifier hs-var">ms</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2528"></span><span>
</span><span id="line-2529"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDoE"><span class="hs-identifier hs-type">repDoE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2530"></span><span id="repDoE"><span class="annot"><span class="annottext">repDoE :: Maybe ModuleName -&gt; Core [M Stmt] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repDoE"><span class="hs-identifier hs-var hs-var">repDoE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe ModuleName -&gt; Core [M Stmt] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repDoBlock"><span class="hs-identifier hs-var">repDoBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#doEName"><span class="hs-identifier hs-var">doEName</span></a></span><span>
</span><span id="line-2531"></span><span>
</span><span id="line-2532"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMDoE"><span class="hs-identifier hs-type">repMDoE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2533"></span><span id="repMDoE"><span class="annot"><span class="annottext">repMDoE :: Maybe ModuleName -&gt; Core [M Stmt] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repMDoE"><span class="hs-identifier hs-var hs-var">repMDoE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe ModuleName -&gt; Core [M Stmt] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repDoBlock"><span class="hs-identifier hs-var">repDoBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#mdoEName"><span class="hs-identifier hs-var">mdoEName</span></a></span><span>
</span><span id="line-2534"></span><span>
</span><span id="line-2535"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDoBlock"><span class="hs-identifier hs-type">repDoBlock</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2536"></span><span id="repDoBlock"><span class="annot"><span class="annottext">repDoBlock :: Name -&gt; Maybe ModuleName -&gt; Core [M Stmt] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repDoBlock"><span class="hs-identifier hs-var hs-var">repDoBlock</span></a></span></span><span> </span><span id="local-6989586621683135404"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135404"><span class="hs-identifier hs-var">doName</span></a></span></span><span> </span><span id="local-6989586621683135405"><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621683135405"><span class="hs-identifier hs-var">maybeModName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135406"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135406"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2537"></span><span>    </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135407"><span class="annot"><a href="#local-6989586621683135407"><span class="hs-identifier hs-var">coreModName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (Maybe ModName))
</span><a href="#local-6989586621683135408"><span class="hs-identifier hs-var">coreModNameM</span></a></span><span>
</span><span id="line-2538"></span><span>    </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135404"><span class="hs-identifier hs-type">doName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135407"><span class="hs-identifier hs-type">coreModName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621683135406"><span class="hs-identifier hs-type">ss</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2539"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2540"></span><span>    </span><span class="annot"><a href="#local-6989586621683135408"><span class="hs-identifier hs-type">coreModNameM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.ModName</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2541"></span><span>    </span><span id="local-6989586621683135408"><span class="annot"><span class="annottext">coreModNameM :: MetaM (Core (Maybe ModName))
</span><a href="#local-6989586621683135408"><span class="hs-identifier hs-var hs-var">coreModNameM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><a href="#local-6989586621683135405"><span class="hs-identifier hs-var">maybeModName</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2542"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683135409"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621683135409"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2543"></span><span>        </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135410"><span class="annot"><a href="#local-6989586621683135410"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReaderT MetaWrappers DsM (Core String)
forall (m :: * -&gt; *).
MonadThings m =&gt;
FastString -&gt; m (Core String)
</span><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-var">coreStringLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModuleName -&gt; FastString
</span><a href="Language.Haskell.Syntax.Module.Name.html#moduleNameFS"><span class="hs-identifier hs-var">moduleNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621683135409"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2544"></span><span>        </span><span id="local-6989586621683135411"><span class="annot"><a href="#local-6989586621683135411"><span class="hs-identifier hs-var">mName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-type">rep2_nw</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#mkModNameName"><span class="hs-identifier hs-type">mkModNameName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135410"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2545"></span><span>        </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreJust"><span class="hs-identifier hs-type">coreJust</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#modNameTyConName"><span class="hs-identifier hs-type">modNameTyConName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135411"><span class="hs-identifier hs-type">mName</span></a></span><span>
</span><span id="line-2546"></span><span>      </span><span class="annot"><span class="annottext">Maybe ModuleName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core (Maybe ModName))
forall a. Name -&gt; MetaM (Core (Maybe a))
</span><a href="GHC.HsToCore.Quote.html#coreNothing"><span class="hs-identifier hs-var">coreNothing</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#modNameTyConName"><span class="hs-identifier hs-var">modNameTyConName</span></a></span><span>
</span><span id="line-2547"></span><span>
</span><span id="line-2548"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repComp"><span class="hs-identifier hs-type">repComp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2549"></span><span id="repComp"><span class="annot"><span class="annottext">repComp :: Core [M Stmt] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repComp"><span class="hs-identifier hs-var hs-var">repComp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135414"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135414"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#compEName"><span class="hs-identifier hs-var">compEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135414"><span class="hs-identifier hs-var">ss</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2550"></span><span>
</span><span id="line-2551"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repListExp"><span class="hs-identifier hs-type">repListExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2552"></span><span id="repListExp"><span class="annot"><span class="annottext">repListExp :: Core [M Exp] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repListExp"><span class="hs-identifier hs-var hs-var">repListExp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135416"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135416"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#listEName"><span class="hs-identifier hs-var">listEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135416"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2553"></span><span>
</span><span id="line-2554"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSigExp"><span class="hs-identifier hs-type">repSigExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2555"></span><span id="repSigExp"><span class="annot"><span class="annottext">repSigExp :: Core (M Exp) -&gt; Core (M Type) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repSigExp"><span class="hs-identifier hs-var hs-var">repSigExp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135418"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135418"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135419"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135419"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#sigEName"><span class="hs-identifier hs-var">sigEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135418"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135419"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2556"></span><span>
</span><span id="line-2557"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRecCon"><span class="hs-identifier hs-type">repRecCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FieldExp</span></span><span class="hs-special">]</span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2558"></span><span id="repRecCon"><span class="annot"><span class="annottext">repRecCon :: Core Name -&gt; Core [M FieldExp] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repRecCon"><span class="hs-identifier hs-var hs-var">repRecCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135421"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135421"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135422"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135422"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#recConEName"><span class="hs-identifier hs-var">recConEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135421"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135422"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2559"></span><span>
</span><span id="line-2560"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRecUpd"><span class="hs-identifier hs-type">repRecUpd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FieldExp</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2561"></span><span id="repRecUpd"><span class="annot"><span class="annottext">repRecUpd :: Core (M Exp) -&gt; Core [M FieldExp] -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repRecUpd"><span class="hs-identifier hs-var hs-var">repRecUpd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135424"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135424"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135425"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135425"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#recUpdEName"><span class="hs-identifier hs-var">recUpdEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135424"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135425"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2562"></span><span>
</span><span id="line-2563"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFieldExp"><span class="hs-identifier hs-type">repFieldExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FieldExp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2564"></span><span id="repFieldExp"><span class="annot"><span class="annottext">repFieldExp :: Core Name -&gt; Core (M Exp) -&gt; MetaM (Core (M FieldExp))
</span><a href="GHC.HsToCore.Quote.html#repFieldExp"><span class="hs-identifier hs-var hs-var">repFieldExp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135427"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135427"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135428"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135428"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M FieldExp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#fieldExpName"><span class="hs-identifier hs-var">fieldExpName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135427"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135428"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2565"></span><span>
</span><span id="line-2566"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInfixApp"><span class="hs-identifier hs-type">repInfixApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2567"></span><span id="repInfixApp"><span class="annot"><span class="annottext">repInfixApp :: Core (M Exp)
-&gt; Core (M Exp) -&gt; Core (M Exp) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repInfixApp"><span class="hs-identifier hs-var hs-var">repInfixApp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135430"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135430"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135431"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135431"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135432"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135432"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#infixAppName"><span class="hs-identifier hs-var">infixAppName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135430"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135431"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135432"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2568"></span><span>
</span><span id="line-2569"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSectionL"><span class="hs-identifier hs-type">repSectionL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2570"></span><span id="repSectionL"><span class="annot"><span class="annottext">repSectionL :: Core (M Exp) -&gt; Core (M Exp) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repSectionL"><span class="hs-identifier hs-var hs-var">repSectionL</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135434"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135434"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135435"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135435"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#sectionLName"><span class="hs-identifier hs-var">sectionLName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135434"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135435"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2571"></span><span>
</span><span id="line-2572"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repSectionR"><span class="hs-identifier hs-type">repSectionR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2573"></span><span id="repSectionR"><span class="annot"><span class="annottext">repSectionR :: Core (M Exp) -&gt; Core (M Exp) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repSectionR"><span class="hs-identifier hs-var hs-var">repSectionR</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135437"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135437"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135438"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135438"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#sectionRName"><span class="hs-identifier hs-var">sectionRName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135437"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135438"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2574"></span><span>
</span><span id="line-2575"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repImplicitParamVar"><span class="hs-identifier hs-type">repImplicitParamVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2576"></span><span id="repImplicitParamVar"><span class="annot"><span class="annottext">repImplicitParamVar :: Core String -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repImplicitParamVar"><span class="hs-identifier hs-var hs-var">repImplicitParamVar</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135440"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135440"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#implicitParamVarEName"><span class="hs-identifier hs-var">implicitParamVarEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135440"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2577"></span><span>
</span><span id="line-2578"></span><span class="hs-comment">------------ Right hand sides (guarded expressions) ----</span><span>
</span><span id="line-2579"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repGuarded"><span class="hs-identifier hs-type">repGuarded</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Guard</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Body</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2580"></span><span id="repGuarded"><span class="annot"><span class="annottext">repGuarded :: Core [M (Guard, Exp)] -&gt; MetaM (Core (M Body))
</span><a href="GHC.HsToCore.Quote.html#repGuarded"><span class="hs-identifier hs-var hs-var">repGuarded</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135442"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135442"><span class="hs-identifier hs-var">pairs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Body))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#guardedBName"><span class="hs-identifier hs-var">guardedBName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135442"><span class="hs-identifier hs-var">pairs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2581"></span><span>
</span><span id="line-2582"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNormal"><span class="hs-identifier hs-type">repNormal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Body</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2583"></span><span id="repNormal"><span class="annot"><span class="annottext">repNormal :: Core (M Exp) -&gt; MetaM (Core (M Body))
</span><a href="GHC.HsToCore.Quote.html#repNormal"><span class="hs-identifier hs-var hs-var">repNormal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135444"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135444"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Body))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#normalBName"><span class="hs-identifier hs-var">normalBName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135444"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2584"></span><span>
</span><span id="line-2585"></span><span class="hs-comment">------------ Guards ----</span><span>
</span><span id="line-2586"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLNormalGE"><span class="hs-identifier hs-type">repLNormalGE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-2587"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Guard</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2588"></span><span id="repLNormalGE"><span class="annot"><span class="annottext">repLNormalGE :: LHsExpr GhcRn -&gt; LHsExpr GhcRn -&gt; MetaM (Core (M (Guard, Exp)))
</span><a href="GHC.HsToCore.Quote.html#repLNormalGE"><span class="hs-identifier hs-var hs-var">repLNormalGE</span></a></span></span><span> </span><span id="local-6989586621683135446"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683135446"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621683135447"><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683135447"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683135448"><span class="annot"><a href="#local-6989586621683135448"><span class="hs-identifier hs-var">g'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-var">repLE</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcRn
</span><a href="#local-6989586621683135446"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-2589"></span><span>                      </span><span id="local-6989586621683135449"><span class="annot"><a href="#local-6989586621683135449"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLE"><span class="hs-identifier hs-type">repLE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135447"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-2590"></span><span>                      </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNormalGE"><span class="hs-identifier hs-type">repNormalGE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135448"><span class="hs-identifier hs-type">g'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135449"><span class="hs-identifier hs-type">e'</span></a></span><span>
</span><span id="line-2591"></span><span>
</span><span id="line-2592"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNormalGE"><span class="hs-identifier hs-type">repNormalGE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Guard</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2593"></span><span id="repNormalGE"><span class="annot"><span class="annottext">repNormalGE :: Core (M Exp) -&gt; Core (M Exp) -&gt; MetaM (Core (M (Guard, Exp)))
</span><a href="GHC.HsToCore.Quote.html#repNormalGE"><span class="hs-identifier hs-var hs-var">repNormalGE</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135451"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135451"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135452"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135452"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M (Guard, Exp)))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#normalGEName"><span class="hs-identifier hs-var">normalGEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135451"><span class="hs-identifier hs-var">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135452"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2594"></span><span>
</span><span id="line-2595"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPatGE"><span class="hs-identifier hs-type">repPatGE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.Guard</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2596"></span><span id="repPatGE"><span class="annot"><span class="annottext">repPatGE :: Core [M Stmt] -&gt; Core (M Exp) -&gt; MetaM (Core (M (Guard, Exp)))
</span><a href="GHC.HsToCore.Quote.html#repPatGE"><span class="hs-identifier hs-var hs-var">repPatGE</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135454"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135454"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135455"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135455"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M (Guard, Exp)))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#patGEName"><span class="hs-identifier hs-var">patGEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135454"><span class="hs-identifier hs-var">ss</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135455"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2597"></span><span>
</span><span id="line-2598"></span><span class="hs-comment">------------- Stmts -------------------</span><span>
</span><span id="line-2599"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repBindSt"><span class="hs-identifier hs-type">repBindSt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2600"></span><span id="repBindSt"><span class="annot"><span class="annottext">repBindSt :: Core (M Pat) -&gt; Core (M Exp) -&gt; MetaM (Core (M Stmt))
</span><a href="GHC.HsToCore.Quote.html#repBindSt"><span class="hs-identifier hs-var hs-var">repBindSt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135457"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135457"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135458"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135458"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Stmt))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#bindSName"><span class="hs-identifier hs-var">bindSName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135457"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135458"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2601"></span><span>
</span><span id="line-2602"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLetSt"><span class="hs-identifier hs-type">repLetSt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2603"></span><span id="repLetSt"><span class="annot"><span class="annottext">repLetSt :: Core [M Dec] -&gt; MetaM (Core (M Stmt))
</span><a href="GHC.HsToCore.Quote.html#repLetSt"><span class="hs-identifier hs-var hs-var">repLetSt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135460"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135460"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Stmt))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#letSName"><span class="hs-identifier hs-var">letSName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135460"><span class="hs-identifier hs-var">ds</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2604"></span><span>
</span><span id="line-2605"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNoBindSt"><span class="hs-identifier hs-type">repNoBindSt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2606"></span><span id="repNoBindSt"><span class="annot"><span class="annottext">repNoBindSt :: Core (M Exp) -&gt; MetaM (Core (M Stmt))
</span><a href="GHC.HsToCore.Quote.html#repNoBindSt"><span class="hs-identifier hs-var hs-var">repNoBindSt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135462"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135462"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Stmt))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#noBindSName"><span class="hs-identifier hs-var">noBindSName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135462"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2607"></span><span>
</span><span id="line-2608"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repParSt"><span class="hs-identifier hs-type">repParSt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2609"></span><span id="repParSt"><span class="annot"><span class="annottext">repParSt :: Core [[M Stmt]] -&gt; MetaM (Core (M Stmt))
</span><a href="GHC.HsToCore.Quote.html#repParSt"><span class="hs-identifier hs-var hs-var">repParSt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135464"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135464"><span class="hs-identifier hs-var">sss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Stmt))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#parSName"><span class="hs-identifier hs-var">parSName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135464"><span class="hs-identifier hs-var">sss</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2610"></span><span>
</span><span id="line-2611"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRecSt"><span class="hs-identifier hs-type">repRecSt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Stmt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2612"></span><span id="repRecSt"><span class="annot"><span class="annottext">repRecSt :: Core [M Stmt] -&gt; MetaM (Core (M Stmt))
</span><a href="GHC.HsToCore.Quote.html#repRecSt"><span class="hs-identifier hs-var hs-var">repRecSt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135466"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135466"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Stmt))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#recSName"><span class="hs-identifier hs-var">recSName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135466"><span class="hs-identifier hs-var">ss</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2613"></span><span>
</span><span id="line-2614"></span><span class="hs-comment">-------------- Range (Arithmetic sequences) -----------</span><span>
</span><span id="line-2615"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFrom"><span class="hs-identifier hs-type">repFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2616"></span><span id="repFrom"><span class="annot"><span class="annottext">repFrom :: Core (M Exp) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repFrom"><span class="hs-identifier hs-var hs-var">repFrom</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135468"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135468"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#fromEName"><span class="hs-identifier hs-var">fromEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135468"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2617"></span><span>
</span><span id="line-2618"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFromThen"><span class="hs-identifier hs-type">repFromThen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2619"></span><span id="repFromThen"><span class="annot"><span class="annottext">repFromThen :: Core (M Exp) -&gt; Core (M Exp) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repFromThen"><span class="hs-identifier hs-var hs-var">repFromThen</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135470"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135470"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135471"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135471"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#fromThenEName"><span class="hs-identifier hs-var">fromThenEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135470"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135471"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2620"></span><span>
</span><span id="line-2621"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFromTo"><span class="hs-identifier hs-type">repFromTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2622"></span><span id="repFromTo"><span class="annot"><span class="annottext">repFromTo :: Core (M Exp) -&gt; Core (M Exp) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repFromTo"><span class="hs-identifier hs-var hs-var">repFromTo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135473"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135473"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135474"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135474"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#fromToEName"><span class="hs-identifier hs-var">fromToEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135473"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135474"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2623"></span><span>
</span><span id="line-2624"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFromThenTo"><span class="hs-identifier hs-type">repFromThenTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2625"></span><span id="repFromThenTo"><span class="annot"><span class="annottext">repFromThenTo :: Core (M Exp)
-&gt; Core (M Exp) -&gt; Core (M Exp) -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repFromThenTo"><span class="hs-identifier hs-var hs-var">repFromThenTo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135476"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135476"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135477"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135477"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135478"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135478"><span class="hs-identifier hs-var">z</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#fromThenToEName"><span class="hs-identifier hs-var">fromThenToEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135476"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135477"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135478"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2626"></span><span>
</span><span id="line-2627"></span><span class="hs-comment">------------ Match and Clause Tuples -----------</span><span>
</span><span id="line-2628"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMatch"><span class="hs-identifier hs-type">repMatch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Body</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Match</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2629"></span><span id="repMatch"><span class="annot"><span class="annottext">repMatch :: Core (M Pat)
-&gt; Core (M Body)
-&gt; Core [M Dec]
-&gt; ReaderT MetaWrappers DsM (Core (M Match))
</span><a href="GHC.HsToCore.Quote.html#repMatch"><span class="hs-identifier hs-var hs-var">repMatch</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135480"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135480"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135481"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135481"><span class="hs-identifier hs-var">bod</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135482"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135482"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; ReaderT MetaWrappers DsM (Core (M Match))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#matchName"><span class="hs-identifier hs-var">matchName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135480"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135481"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135482"><span class="hs-identifier hs-var">ds</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2630"></span><span>
</span><span id="line-2631"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repClause"><span class="hs-identifier hs-type">repClause</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Body</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Clause</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2632"></span><span id="repClause"><span class="annot"><span class="annottext">repClause :: Core [M Pat]
-&gt; Core (M Body)
-&gt; Core [M Dec]
-&gt; ReaderT MetaWrappers DsM (Core (M Clause))
</span><a href="GHC.HsToCore.Quote.html#repClause"><span class="hs-identifier hs-var hs-var">repClause</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135484"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135484"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135485"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135485"><span class="hs-identifier hs-var">bod</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135486"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135486"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; ReaderT MetaWrappers DsM (Core (M Clause))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#clauseName"><span class="hs-identifier hs-var">clauseName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135484"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135485"><span class="hs-identifier hs-var">bod</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135486"><span class="hs-identifier hs-var">ds</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2633"></span><span>
</span><span id="line-2634"></span><span class="hs-comment">-------------- Dec -----------------------------</span><span>
</span><span id="line-2635"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repVal"><span class="hs-identifier hs-type">repVal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Body</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2636"></span><span id="repVal"><span class="annot"><span class="annottext">repVal :: Core (M Pat)
-&gt; Core (M Body) -&gt; Core [M Dec] -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repVal"><span class="hs-identifier hs-var hs-var">repVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135488"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135488"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135489"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135489"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135490"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135490"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#valDName"><span class="hs-identifier hs-var">valDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135488"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135489"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135490"><span class="hs-identifier hs-var">ds</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2637"></span><span>
</span><span id="line-2638"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFun"><span class="hs-identifier hs-type">repFun</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Clause</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2639"></span><span id="repFun"><span class="annot"><span class="annottext">repFun :: Core Name -&gt; Core [M Clause] -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repFun"><span class="hs-identifier hs-var hs-var">repFun</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135492"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135492"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135493"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135493"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#funDName"><span class="hs-identifier hs-var">funDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135492"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135493"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2640"></span><span>
</span><span id="line-2641"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repData"><span class="hs-identifier hs-type">repData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-comment">-- ^ @True@ for a @type data@ declaration.</span><span>
</span><span id="line-2642"></span><span>                </span><span class="hs-comment">-- See Note [Type data declarations] in GHC.Rename.Module</span><span>
</span><span id="line-2643"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span>
</span><span id="line-2644"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2645"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2646"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Con</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.DerivClause</span></span><span class="hs-special">]</span><span>
</span><span id="line-2647"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2648"></span><span id="repData"><span class="annot"><span class="annottext">repData :: Bool
-&gt; Core (M Cxt)
-&gt; Core Name
-&gt; Either
     (Core [M (TyVarBndr BndrVis)])
     (Core (Maybe [M (TyVarBndr ())]), Core (M Type))
-&gt; Core (Maybe (M Type))
-&gt; Core [M Con]
-&gt; Core [M DerivClause]
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repData"><span class="hs-identifier hs-var hs-var">repData</span></a></span></span><span> </span><span id="local-6989586621683135495"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683135495"><span class="hs-identifier hs-var">type_data</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135496"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135496"><span class="hs-identifier hs-var">cxt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135497"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135497"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135498"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135498"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135499"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135499"><span class="hs-identifier hs-var">ksig</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135500"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135500"><span class="hs-identifier hs-var">cons</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135501"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135501"><span class="hs-identifier hs-var">derivs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2649"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683135495"><span class="hs-identifier hs-var">type_data</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#typeDataDName"><span class="hs-identifier hs-var">typeDataDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135497"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135498"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135499"><span class="hs-identifier hs-var">ksig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135500"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2650"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#dataDName"><span class="hs-identifier hs-var">dataDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135496"><span class="hs-identifier hs-var">cxt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135497"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135498"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135499"><span class="hs-identifier hs-var">ksig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135500"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135501"><span class="hs-identifier hs-var">derivs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2651"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repData"><span class="hs-identifier hs-var">repData</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135504"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135504"><span class="hs-identifier hs-var">cxt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135505"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135505"><span class="hs-identifier hs-var">mb_bndrs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135506"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135506"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135507"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135507"><span class="hs-identifier hs-var">ksig</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135508"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135508"><span class="hs-identifier hs-var">cons</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2652"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135509"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135509"><span class="hs-identifier hs-var">derivs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2653"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#dataInstDName"><span class="hs-identifier hs-var">dataInstDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135504"><span class="hs-identifier hs-var">cxt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135505"><span class="hs-identifier hs-var">mb_bndrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135506"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135507"><span class="hs-identifier hs-var">ksig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135508"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135509"><span class="hs-identifier hs-var">derivs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2654"></span><span>
</span><span id="line-2655"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNewtype"><span class="hs-identifier hs-type">repNewtype</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span>
</span><span id="line-2656"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2657"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2658"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Con</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.DerivClause</span></span><span class="hs-special">]</span><span>
</span><span id="line-2659"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2660"></span><span id="repNewtype"><span class="annot"><span class="annottext">repNewtype :: Core (M Cxt)
-&gt; Core Name
-&gt; Either
     (Core [M (TyVarBndr BndrVis)])
     (Core (Maybe [M (TyVarBndr ())]), Core (M Type))
-&gt; Core (Maybe (M Type))
-&gt; Core (M Con)
-&gt; Core [M DerivClause]
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repNewtype"><span class="hs-identifier hs-var hs-var">repNewtype</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135511"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135511"><span class="hs-identifier hs-var">cxt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135512"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135512"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135513"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135513"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135514"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135514"><span class="hs-identifier hs-var">ksig</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135515"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135515"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2661"></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135516"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135516"><span class="hs-identifier hs-var">derivs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2662"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#newtypeDName"><span class="hs-identifier hs-var">newtypeDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135511"><span class="hs-identifier hs-var">cxt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135512"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135513"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135514"><span class="hs-identifier hs-var">ksig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135515"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135516"><span class="hs-identifier hs-var">derivs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2663"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNewtype"><span class="hs-identifier hs-var">repNewtype</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135518"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135518"><span class="hs-identifier hs-var">cxt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135519"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135519"><span class="hs-identifier hs-var">mb_bndrs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135520"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135520"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135521"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135521"><span class="hs-identifier hs-var">ksig</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135522"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135522"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2664"></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135523"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135523"><span class="hs-identifier hs-var">derivs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2665"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#newtypeInstDName"><span class="hs-identifier hs-var">newtypeInstDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135518"><span class="hs-identifier hs-var">cxt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135519"><span class="hs-identifier hs-var">mb_bndrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135520"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135521"><span class="hs-identifier hs-var">ksig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135522"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135523"><span class="hs-identifier hs-var">derivs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2666"></span><span>
</span><span id="line-2667"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTySyn"><span class="hs-identifier hs-type">repTySyn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2668"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2669"></span><span id="repTySyn"><span class="annot"><span class="annottext">repTySyn :: Core Name
-&gt; Core [M (TyVarBndr BndrVis)]
-&gt; Core (M Type)
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repTySyn"><span class="hs-identifier hs-var hs-var">repTySyn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135525"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135525"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135526"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135526"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135527"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135527"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2670"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#tySynDName"><span class="hs-identifier hs-var">tySynDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135525"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135526"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135527"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2671"></span><span>
</span><span id="line-2672"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repInst"><span class="hs-identifier hs-type">repInst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Overlap</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2673"></span><span>           </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2674"></span><span id="repInst"><span class="annot"><span class="annottext">repInst :: Core (Maybe Overlap)
-&gt; Core (M Cxt)
-&gt; Core (M Type)
-&gt; Core [M Dec]
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repInst"><span class="hs-identifier hs-var hs-var">repInst</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135529"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135529"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135530"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135530"><span class="hs-identifier hs-var">cxt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135531"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135531"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135532"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135532"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#instanceWithOverlapDName"><span class="hs-identifier hs-var">instanceWithOverlapDName</span></a></span><span>
</span><span id="line-2675"></span><span>                                                              </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135529"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135530"><span class="hs-identifier hs-var">cxt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135531"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135532"><span class="hs-identifier hs-var">ds</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2676"></span><span>
</span><span id="line-2677"></span><span id="local-6989586621683131448"><span class="annot"><a href="GHC.HsToCore.Quote.html#repDerivStrategy"><span class="hs-identifier hs-type">repDerivStrategy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDerivStrategy"><span class="hs-identifier hs-type">LDerivStrategy</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2678"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.DerivStrategy</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131448"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2679"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131448"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-2680"></span><span id="repDerivStrategy"><span class="annot"><span class="annottext">repDerivStrategy :: forall {k} (a :: k).
Maybe (LDerivStrategy GhcRn)
-&gt; (Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#repDerivStrategy"><span class="hs-identifier hs-var hs-var">repDerivStrategy</span></a></span></span><span> </span><span id="local-6989586621683135544"><span class="annot"><span class="annottext">Maybe (LDerivStrategy GhcRn)
</span><a href="#local-6989586621683135544"><span class="hs-identifier hs-var">mds</span></a></span></span><span> </span><span id="local-6989586621683135545"><span class="annot"><span class="annottext">Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683135545"><span class="hs-identifier hs-var">thing_inside</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2681"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (LDerivStrategy GhcRn)
</span><a href="#local-6989586621683135544"><span class="hs-identifier hs-var">mds</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2682"></span><span>    </span><span class="annot"><span class="annottext">Maybe (LDerivStrategy GhcRn)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683135545"><span class="hs-identifier hs-var">thing_inside</span></a></span><span> </span><span class="annot"><span class="annottext">(Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M a)))
-&gt; ReaderT MetaWrappers DsM (Core (Maybe (M DerivStrategy)))
-&gt; MetaM (Core (M a))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">ReaderT MetaWrappers DsM (Core (Maybe (M DerivStrategy)))
forall {a}. MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135546"><span class="hs-identifier hs-var">nothing</span></a></span><span>
</span><span id="line-2683"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683135547"><span class="annot"><span class="annottext">LDerivStrategy GhcRn
</span><a href="#local-6989586621683135547"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2684"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenLocated EpAnnCO (DerivStrategy GhcRn) -&gt; DerivStrategy GhcRn
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LDerivStrategy GhcRn
GenLocated EpAnnCO (DerivStrategy GhcRn)
</span><a href="#local-6989586621683135547"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2685"></span><span>        </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#StockStrategy"><span class="hs-identifier hs-type">StockStrategy</span></a></span><span>    </span><span class="annot"><span class="annottext">XStockStrategy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683135545"><span class="hs-identifier hs-var">thing_inside</span></a></span><span> </span><span class="annot"><span class="annottext">(Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M a)))
-&gt; ReaderT MetaWrappers DsM (Core (Maybe (M DerivStrategy)))
-&gt; MetaM (Core (M a))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Core (M DerivStrategy)
-&gt; ReaderT MetaWrappers DsM (Core (Maybe (M DerivStrategy)))
forall {a}. Core a -&gt; MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135549"><span class="hs-identifier hs-var">just</span></a></span><span> </span><span class="annot"><span class="annottext">(Core (M DerivStrategy)
 -&gt; ReaderT MetaWrappers DsM (Core (Maybe (M DerivStrategy))))
-&gt; ReaderT MetaWrappers DsM (Core (M DerivStrategy))
-&gt; ReaderT MetaWrappers DsM (Core (Maybe (M DerivStrategy)))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">ReaderT MetaWrappers DsM (Core (M DerivStrategy))
</span><a href="GHC.HsToCore.Quote.html#repStockStrategy"><span class="hs-identifier hs-var">repStockStrategy</span></a></span><span>
</span><span id="line-2686"></span><span>        </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#AnyclassStrategy"><span class="hs-identifier hs-type">AnyclassStrategy</span></a></span><span> </span><span class="annot"><span class="annottext">XAnyClassStrategy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683135545"><span class="hs-identifier hs-var">thing_inside</span></a></span><span> </span><span class="annot"><span class="annottext">(Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M a)))
-&gt; ReaderT MetaWrappers DsM (Core (Maybe (M DerivStrategy)))
-&gt; MetaM (Core (M a))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Core (M DerivStrategy)
-&gt; ReaderT MetaWrappers DsM (Core (Maybe (M DerivStrategy)))
forall {a}. Core a -&gt; MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135549"><span class="hs-identifier hs-var">just</span></a></span><span> </span><span class="annot"><span class="annottext">(Core (M DerivStrategy)
 -&gt; ReaderT MetaWrappers DsM (Core (Maybe (M DerivStrategy))))
-&gt; ReaderT MetaWrappers DsM (Core (M DerivStrategy))
-&gt; ReaderT MetaWrappers DsM (Core (Maybe (M DerivStrategy)))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">ReaderT MetaWrappers DsM (Core (M DerivStrategy))
</span><a href="GHC.HsToCore.Quote.html#repAnyclassStrategy"><span class="hs-identifier hs-var">repAnyclassStrategy</span></a></span><span>
</span><span id="line-2687"></span><span>        </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#NewtypeStrategy"><span class="hs-identifier hs-type">NewtypeStrategy</span></a></span><span>  </span><span class="annot"><span class="annottext">XNewtypeStrategy GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M a))
</span><a href="#local-6989586621683135545"><span class="hs-identifier hs-var">thing_inside</span></a></span><span> </span><span class="annot"><span class="annottext">(Core (Maybe (M DerivStrategy)) -&gt; MetaM (Core (M a)))
-&gt; ReaderT MetaWrappers DsM (Core (Maybe (M DerivStrategy)))
-&gt; MetaM (Core (M a))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Core (M DerivStrategy)
-&gt; ReaderT MetaWrappers DsM (Core (Maybe (M DerivStrategy)))
forall {a}. Core a -&gt; MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135549"><span class="hs-identifier hs-var">just</span></a></span><span> </span><span class="annot"><span class="annottext">(Core (M DerivStrategy)
 -&gt; ReaderT MetaWrappers DsM (Core (Maybe (M DerivStrategy))))
-&gt; ReaderT MetaWrappers DsM (Core (M DerivStrategy))
-&gt; ReaderT MetaWrappers DsM (Core (Maybe (M DerivStrategy)))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">ReaderT MetaWrappers DsM (Core (M DerivStrategy))
</span><a href="GHC.HsToCore.Quote.html#repNewtypeStrategy"><span class="hs-identifier hs-var">repNewtypeStrategy</span></a></span><span>
</span><span id="line-2688"></span><span>        </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ViaStrategy"><span class="hs-identifier hs-type">ViaStrategy</span></a></span><span> </span><span id="local-6989586621683135556"><span class="annot"><span class="annottext">XViaStrategy GhcRn
</span><a href="#local-6989586621683135556"><span class="hs-identifier hs-var">ty</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FreshOrReuse -&gt; [Name] -&gt; MetaM (Core (M a)) -&gt; MetaM (Core (M a))
forall {k} (a :: k).
FreshOrReuse -&gt; [Name] -&gt; MetaM (Core (M a)) -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#addSimpleTyVarBinds"><span class="hs-identifier hs-var">addSimpleTyVarBinds</span></a></span><span> </span><span class="annot"><span class="annottext">FreshOrReuse
</span><a href="GHC.HsToCore.Quote.html#FreshNamesOnly"><span class="hs-identifier hs-var">FreshNamesOnly</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsSigType GhcRn -&gt; [Name]
</span><a href="GHC.HsToCore.Quote.html#get_scoped_tvs_from_sig"><span class="hs-identifier hs-var">get_scoped_tvs_from_sig</span></a></span><span> </span><span class="annot"><span class="annottext">XViaStrategy GhcRn
LHsSigType GhcRn
</span><a href="#local-6989586621683135556"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(MetaM (Core (M a)) -&gt; MetaM (Core (M a)))
-&gt; MetaM (Core (M a)) -&gt; MetaM (Core (M a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-2689"></span><span>                              </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683135557"><span class="annot"><a href="#local-6989586621683135557"><span class="hs-identifier hs-var">ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsSigType GhcRn -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#rep_ty_sig%27"><span class="hs-identifier hs-var">rep_ty_sig'</span></a></span><span> </span><span class="annot"><span class="annottext">XViaStrategy GhcRn
LHsSigType GhcRn
</span><a href="#local-6989586621683135556"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2690"></span><span>                                 </span><span id="local-6989586621683135558"><span class="annot"><a href="#local-6989586621683135558"><span class="hs-identifier hs-var">via_strat</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repViaStrategy"><span class="hs-identifier hs-type">repViaStrategy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135557"><span class="hs-identifier hs-type">ty'</span></a></span><span>
</span><span id="line-2691"></span><span>                                 </span><span id="local-6989586621683135560"><span class="annot"><a href="#local-6989586621683135560"><span class="hs-identifier hs-var">m_via_strat</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621683135549"><span class="hs-identifier hs-type">just</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135558"><span class="hs-identifier hs-type">via_strat</span></a></span><span>
</span><span id="line-2692"></span><span>                                 </span><span class="annot"><a href="#local-6989586621683135545"><span class="hs-identifier hs-type">thing_inside</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135560"><span class="hs-identifier hs-type">m_via_strat</span></a></span><span>
</span><span id="line-2693"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2694"></span><span>  </span><span id="local-6989586621683135546"><span class="annot"><span class="annottext">nothing :: MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135546"><span class="hs-identifier hs-var hs-var">nothing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core (Maybe a))
forall a. Name -&gt; MetaM (Core (Maybe a))
</span><a href="GHC.HsToCore.Quote.html#coreNothingM"><span class="hs-identifier hs-var">coreNothingM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#derivStrategyTyConName"><span class="hs-identifier hs-var">derivStrategyTyConName</span></a></span><span>
</span><span id="line-2695"></span><span>  </span><span id="local-6989586621683135549"><span class="annot"><span class="annottext">just :: Core a -&gt; MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135549"><span class="hs-identifier hs-var hs-var">just</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Core a -&gt; MetaM (Core (Maybe a))
forall a. Name -&gt; Core a -&gt; MetaM (Core (Maybe a))
</span><a href="GHC.HsToCore.Quote.html#coreJustM"><span class="hs-identifier hs-var">coreJustM</span></a></span><span>    </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#derivStrategyTyConName"><span class="hs-identifier hs-var">derivStrategyTyConName</span></a></span><span>
</span><span id="line-2696"></span><span>
</span><span id="line-2697"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repStockStrategy"><span class="hs-identifier hs-type">repStockStrategy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.DerivStrategy</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2698"></span><span id="repStockStrategy"><span class="annot"><span class="annottext">repStockStrategy :: ReaderT MetaWrappers DsM (Core (M DerivStrategy))
</span><a href="GHC.HsToCore.Quote.html#repStockStrategy"><span class="hs-identifier hs-var hs-var">repStockStrategy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; [CoreExpr] -&gt; ReaderT MetaWrappers DsM (Core (M DerivStrategy))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#stockStrategyName"><span class="hs-identifier hs-var">stockStrategyName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2699"></span><span>
</span><span id="line-2700"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repAnyclassStrategy"><span class="hs-identifier hs-type">repAnyclassStrategy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.DerivStrategy</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2701"></span><span id="repAnyclassStrategy"><span class="annot"><span class="annottext">repAnyclassStrategy :: ReaderT MetaWrappers DsM (Core (M DerivStrategy))
</span><a href="GHC.HsToCore.Quote.html#repAnyclassStrategy"><span class="hs-identifier hs-var hs-var">repAnyclassStrategy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; [CoreExpr] -&gt; ReaderT MetaWrappers DsM (Core (M DerivStrategy))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#anyclassStrategyName"><span class="hs-identifier hs-var">anyclassStrategyName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2702"></span><span>
</span><span id="line-2703"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNewtypeStrategy"><span class="hs-identifier hs-type">repNewtypeStrategy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.DerivStrategy</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2704"></span><span id="repNewtypeStrategy"><span class="annot"><span class="annottext">repNewtypeStrategy :: ReaderT MetaWrappers DsM (Core (M DerivStrategy))
</span><a href="GHC.HsToCore.Quote.html#repNewtypeStrategy"><span class="hs-identifier hs-var hs-var">repNewtypeStrategy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; [CoreExpr] -&gt; ReaderT MetaWrappers DsM (Core (M DerivStrategy))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#newtypeStrategyName"><span class="hs-identifier hs-var">newtypeStrategyName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2705"></span><span>
</span><span id="line-2706"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repViaStrategy"><span class="hs-identifier hs-type">repViaStrategy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.DerivStrategy</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2707"></span><span id="repViaStrategy"><span class="annot"><span class="annottext">repViaStrategy :: Core (M Type) -&gt; ReaderT MetaWrappers DsM (Core (M DerivStrategy))
</span><a href="GHC.HsToCore.Quote.html#repViaStrategy"><span class="hs-identifier hs-var hs-var">repViaStrategy</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135565"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135565"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; [CoreExpr] -&gt; ReaderT MetaWrappers DsM (Core (M DerivStrategy))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#viaStrategyName"><span class="hs-identifier hs-var">viaStrategyName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135565"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2708"></span><span>
</span><span id="line-2709"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repOverlap"><span class="hs-identifier hs-type">repOverlap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#OverlapMode"><span class="hs-identifier hs-type">OverlapMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Overlap</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2710"></span><span id="repOverlap"><span class="annot"><span class="annottext">repOverlap :: Maybe OverlapMode -&gt; MetaM (Core (Maybe Overlap))
</span><a href="GHC.HsToCore.Quote.html#repOverlap"><span class="hs-identifier hs-var hs-var">repOverlap</span></a></span></span><span> </span><span id="local-6989586621683135567"><span class="annot"><span class="annottext">Maybe OverlapMode
</span><a href="#local-6989586621683135567"><span class="hs-identifier hs-var">mb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2711"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe OverlapMode
</span><a href="#local-6989586621683135567"><span class="hs-identifier hs-var">mb</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2712"></span><span>    </span><span class="annot"><span class="annottext">Maybe OverlapMode
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (Maybe Overlap))
forall {a}. MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135568"><span class="hs-identifier hs-var">nothing</span></a></span><span>
</span><span id="line-2713"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683135569"><span class="annot"><span class="annottext">OverlapMode
</span><a href="#local-6989586621683135569"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2714"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OverlapMode
</span><a href="#local-6989586621683135569"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2715"></span><span>        </span><span class="annot"><a href="GHC.Types.Basic.html#NoOverlap"><span class="hs-identifier hs-type">NoOverlap</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (Maybe Overlap))
forall {a}. MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135568"><span class="hs-identifier hs-var">nothing</span></a></span><span>
</span><span id="line-2716"></span><span>        </span><span class="annot"><a href="GHC.Types.Basic.html#Overlappable"><span class="hs-identifier hs-type">Overlappable</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Core Overlap -&gt; MetaM (Core (Maybe Overlap))
forall {a}. Core a -&gt; MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135572"><span class="hs-identifier hs-var">just</span></a></span><span> </span><span class="annot"><span class="annottext">(Core Overlap -&gt; MetaM (Core (Maybe Overlap)))
-&gt; ReaderT MetaWrappers DsM (Core Overlap)
-&gt; MetaM (Core (Maybe Overlap))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ReaderT MetaWrappers DsM (Core Overlap)
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var">dataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#overlappableDataConName"><span class="hs-identifier hs-var">overlappableDataConName</span></a></span><span>
</span><span id="line-2717"></span><span>        </span><span class="annot"><a href="GHC.Types.Basic.html#Overlapping"><span class="hs-identifier hs-type">Overlapping</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Core Overlap -&gt; MetaM (Core (Maybe Overlap))
forall {a}. Core a -&gt; MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135572"><span class="hs-identifier hs-var">just</span></a></span><span> </span><span class="annot"><span class="annottext">(Core Overlap -&gt; MetaM (Core (Maybe Overlap)))
-&gt; ReaderT MetaWrappers DsM (Core Overlap)
-&gt; MetaM (Core (Maybe Overlap))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ReaderT MetaWrappers DsM (Core Overlap)
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var">dataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#overlappingDataConName"><span class="hs-identifier hs-var">overlappingDataConName</span></a></span><span>
</span><span id="line-2718"></span><span>        </span><span class="annot"><a href="GHC.Types.Basic.html#Overlaps"><span class="hs-identifier hs-type">Overlaps</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Core Overlap -&gt; MetaM (Core (Maybe Overlap))
forall {a}. Core a -&gt; MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135572"><span class="hs-identifier hs-var">just</span></a></span><span> </span><span class="annot"><span class="annottext">(Core Overlap -&gt; MetaM (Core (Maybe Overlap)))
-&gt; ReaderT MetaWrappers DsM (Core Overlap)
-&gt; MetaM (Core (Maybe Overlap))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ReaderT MetaWrappers DsM (Core Overlap)
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var">dataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#overlapsDataConName"><span class="hs-identifier hs-var">overlapsDataConName</span></a></span><span>
</span><span id="line-2719"></span><span>        </span><span class="annot"><a href="GHC.Types.Basic.html#Incoherent"><span class="hs-identifier hs-type">Incoherent</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Core Overlap -&gt; MetaM (Core (Maybe Overlap))
forall {a}. Core a -&gt; MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135572"><span class="hs-identifier hs-var">just</span></a></span><span> </span><span class="annot"><span class="annottext">(Core Overlap -&gt; MetaM (Core (Maybe Overlap)))
-&gt; ReaderT MetaWrappers DsM (Core Overlap)
-&gt; MetaM (Core (Maybe Overlap))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ReaderT MetaWrappers DsM (Core Overlap)
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var">dataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#incoherentDataConName"><span class="hs-identifier hs-var">incoherentDataConName</span></a></span><span>
</span><span id="line-2720"></span><span>        </span><span class="annot"><a href="GHC.Types.Basic.html#NonCanonical"><span class="hs-identifier hs-type">NonCanonical</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Core Overlap -&gt; MetaM (Core (Maybe Overlap))
forall {a}. Core a -&gt; MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135572"><span class="hs-identifier hs-var">just</span></a></span><span> </span><span class="annot"><span class="annottext">(Core Overlap -&gt; MetaM (Core (Maybe Overlap)))
-&gt; ReaderT MetaWrappers DsM (Core Overlap)
-&gt; MetaM (Core (Maybe Overlap))
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ReaderT MetaWrappers DsM (Core Overlap)
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var">dataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#incoherentDataConName"><span class="hs-identifier hs-var">incoherentDataConName</span></a></span><span>
</span><span id="line-2721"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2722"></span><span>  </span><span id="local-6989586621683135568"><span class="annot"><span class="annottext">nothing :: MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135568"><span class="hs-identifier hs-var hs-var">nothing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core (Maybe a))
forall a. Name -&gt; MetaM (Core (Maybe a))
</span><a href="GHC.HsToCore.Quote.html#coreNothing"><span class="hs-identifier hs-var">coreNothing</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#overlapTyConName"><span class="hs-identifier hs-var">overlapTyConName</span></a></span><span>
</span><span id="line-2723"></span><span>  </span><span id="local-6989586621683135572"><span class="annot"><span class="annottext">just :: Core a -&gt; MetaM (Core (Maybe a))
</span><a href="#local-6989586621683135572"><span class="hs-identifier hs-var hs-var">just</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Core a -&gt; MetaM (Core (Maybe a))
forall a. Name -&gt; Core a -&gt; MetaM (Core (Maybe a))
</span><a href="GHC.HsToCore.Quote.html#coreJust"><span class="hs-identifier hs-var">coreJust</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#overlapTyConName"><span class="hs-identifier hs-var">overlapTyConName</span></a></span><span>
</span><span id="line-2724"></span><span>
</span><span id="line-2725"></span><span>
</span><span id="line-2726"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNamespaceSpecifier"><span class="hs-identifier hs-type">repNamespaceSpecifier</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Binds.html#NamespaceSpecifier"><span class="hs-identifier hs-type">NamespaceSpecifier</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.NamespaceSpecifier</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2727"></span><span id="repNamespaceSpecifier"><span class="annot"><span class="annottext">repNamespaceSpecifier :: NamespaceSpecifier -&gt; MetaM (Core NamespaceSpecifier)
</span><a href="GHC.HsToCore.Quote.html#repNamespaceSpecifier"><span class="hs-identifier hs-var hs-var">repNamespaceSpecifier</span></a></span></span><span> </span><span id="local-6989586621683135582"><span class="annot"><span class="annottext">NamespaceSpecifier
</span><a href="#local-6989586621683135582"><span class="hs-identifier hs-var">ns_spec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">NamespaceSpecifier
</span><a href="#local-6989586621683135582"><span class="hs-identifier hs-var">ns_spec</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2728"></span><span>  </span><span class="annot"><a href="GHC.Hs.Binds.html#NoNamespaceSpecifier"><span class="hs-identifier hs-type">NoNamespaceSpecifier</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core NamespaceSpecifier)
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var">dataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#noNamespaceSpecifierDataConName"><span class="hs-identifier hs-var">noNamespaceSpecifierDataConName</span></a></span><span>
</span><span id="line-2729"></span><span>  </span><span class="annot"><a href="GHC.Hs.Binds.html#TypeNamespaceSpecifier"><span class="hs-identifier hs-type">TypeNamespaceSpecifier</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core NamespaceSpecifier)
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var">dataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#typeNamespaceSpecifierDataConName"><span class="hs-identifier hs-var">typeNamespaceSpecifierDataConName</span></a></span><span>
</span><span id="line-2730"></span><span>  </span><span class="annot"><a href="GHC.Hs.Binds.html#DataNamespaceSpecifier"><span class="hs-identifier hs-type">DataNamespaceSpecifier</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core NamespaceSpecifier)
forall {k} (a :: k). Name -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#dataCon"><span class="hs-identifier hs-var">dataCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#dataNamespaceSpecifierDataConName"><span class="hs-identifier hs-var">dataNamespaceSpecifierDataConName</span></a></span><span>
</span><span id="line-2731"></span><span>
</span><span id="line-2732"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repClass"><span class="hs-identifier hs-type">repClass</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2733"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.FunDep</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2734"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2735"></span><span id="repClass"><span class="annot"><span class="annottext">repClass :: Core (M Cxt)
-&gt; Core Name
-&gt; Core [M (TyVarBndr BndrVis)]
-&gt; Core [FunDep]
-&gt; Core [M Dec]
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repClass"><span class="hs-identifier hs-var hs-var">repClass</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135589"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135589"><span class="hs-identifier hs-var">cxt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135590"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135590"><span class="hs-identifier hs-var">cls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135591"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135591"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135592"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135592"><span class="hs-identifier hs-var">fds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135593"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135593"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2736"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#classDName"><span class="hs-identifier hs-var">classDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135589"><span class="hs-identifier hs-var">cxt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135590"><span class="hs-identifier hs-var">cls</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135591"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135592"><span class="hs-identifier hs-var">fds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135593"><span class="hs-identifier hs-var">ds</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2737"></span><span>
</span><span id="line-2738"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDeriv"><span class="hs-identifier hs-type">repDeriv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.DerivStrategy</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2739"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-2740"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2741"></span><span id="repDeriv"><span class="annot"><span class="annottext">repDeriv :: Core (Maybe (M DerivStrategy))
-&gt; Core (M Cxt) -&gt; Core (M Type) -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repDeriv"><span class="hs-identifier hs-var hs-var">repDeriv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135595"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135595"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135596"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135596"><span class="hs-identifier hs-var">cxt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135597"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135597"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2742"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#standaloneDerivWithStrategyDName"><span class="hs-identifier hs-var">standaloneDerivWithStrategyDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135595"><span class="hs-identifier hs-var">ds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135596"><span class="hs-identifier hs-var">cxt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135597"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2743"></span><span>
</span><span id="line-2744"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragInl"><span class="hs-identifier hs-type">repPragInl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Inline</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.RuleMatch</span></span><span>
</span><span id="line-2745"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Phases</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2746"></span><span id="repPragInl"><span class="annot"><span class="annottext">repPragInl :: Core Name
-&gt; Core Inline
-&gt; Core RuleMatch
-&gt; Core Phases
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repPragInl"><span class="hs-identifier hs-var hs-var">repPragInl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135599"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135599"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135600"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135600"><span class="hs-identifier hs-var">inline</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135601"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135601"><span class="hs-identifier hs-var">rm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135602"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135602"><span class="hs-identifier hs-var">phases</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2747"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#pragInlDName"><span class="hs-identifier hs-var">pragInlDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135599"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135600"><span class="hs-identifier hs-var">inline</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135601"><span class="hs-identifier hs-var">rm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135602"><span class="hs-identifier hs-var">phases</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2748"></span><span>
</span><span id="line-2749"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragOpaque"><span class="hs-identifier hs-type">repPragOpaque</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2750"></span><span id="repPragOpaque"><span class="annot"><span class="annottext">repPragOpaque :: Core Name -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repPragOpaque"><span class="hs-identifier hs-var hs-var">repPragOpaque</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135604"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135604"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#pragOpaqueDName"><span class="hs-identifier hs-var">pragOpaqueDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135604"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2751"></span><span>
</span><span id="line-2752"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragSpec"><span class="hs-identifier hs-type">repPragSpec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Phases</span></span><span>
</span><span id="line-2753"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2754"></span><span id="repPragSpec"><span class="annot"><span class="annottext">repPragSpec :: Core Name -&gt; Core (M Type) -&gt; Core Phases -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repPragSpec"><span class="hs-identifier hs-var hs-var">repPragSpec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135606"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135606"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135607"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135607"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135608"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135608"><span class="hs-identifier hs-var">phases</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2755"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#pragSpecDName"><span class="hs-identifier hs-var">pragSpecDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135606"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135607"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135608"><span class="hs-identifier hs-var">phases</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2756"></span><span>
</span><span id="line-2757"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragSpecInl"><span class="hs-identifier hs-type">repPragSpecInl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Inline</span></span><span>
</span><span id="line-2758"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Phases</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2759"></span><span id="repPragSpecInl"><span class="annot"><span class="annottext">repPragSpecInl :: Core Name
-&gt; Core (M Type)
-&gt; Core Inline
-&gt; Core Phases
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repPragSpecInl"><span class="hs-identifier hs-var hs-var">repPragSpecInl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135610"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135610"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135611"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135611"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135612"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135612"><span class="hs-identifier hs-var">inline</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135613"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135613"><span class="hs-identifier hs-var">phases</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2760"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#pragSpecInlDName"><span class="hs-identifier hs-var">pragSpecInlDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135610"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135611"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135612"><span class="hs-identifier hs-var">inline</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135613"><span class="hs-identifier hs-var">phases</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2761"></span><span>
</span><span id="line-2762"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragSpecInst"><span class="hs-identifier hs-type">repPragSpecInst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2763"></span><span id="repPragSpecInst"><span class="annot"><span class="annottext">repPragSpecInst :: Core (M Type) -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repPragSpecInst"><span class="hs-identifier hs-var hs-var">repPragSpecInst</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135615"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135615"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#pragSpecInstDName"><span class="hs-identifier hs-var">pragSpecInstDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135615"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2764"></span><span>
</span><span id="line-2765"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragComplete"><span class="hs-identifier hs-type">repPragComplete</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2766"></span><span id="repPragComplete"><span class="annot"><span class="annottext">repPragComplete :: Core [Name] -&gt; Core (Maybe Name) -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repPragComplete"><span class="hs-identifier hs-var hs-var">repPragComplete</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135617"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135617"><span class="hs-identifier hs-var">cls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135618"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135618"><span class="hs-identifier hs-var">mty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#pragCompleteDName"><span class="hs-identifier hs-var">pragCompleteDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135617"><span class="hs-identifier hs-var">cls</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135618"><span class="hs-identifier hs-var">mty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2767"></span><span>
</span><span id="line-2768"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragRule"><span class="hs-identifier hs-type">repPragRule</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2769"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.RuleBndr</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span>
</span><span id="line-2770"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Phases</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2771"></span><span id="repPragRule"><span class="annot"><span class="annottext">repPragRule :: Core String
-&gt; Core (Maybe [M (TyVarBndr ())])
-&gt; Core [M RuleBndr]
-&gt; Core (M Exp)
-&gt; Core (M Exp)
-&gt; Core Phases
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repPragRule"><span class="hs-identifier hs-var hs-var">repPragRule</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135620"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135620"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135621"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135621"><span class="hs-identifier hs-var">ty_bndrs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135622"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135622"><span class="hs-identifier hs-var">tm_bndrs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135623"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135623"><span class="hs-identifier hs-var">lhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135624"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135624"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135625"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135625"><span class="hs-identifier hs-var">phases</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2772"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#pragRuleDName"><span class="hs-identifier hs-var">pragRuleDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135620"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135621"><span class="hs-identifier hs-var">ty_bndrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135622"><span class="hs-identifier hs-var">tm_bndrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135623"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135624"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135625"><span class="hs-identifier hs-var">phases</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2773"></span><span>
</span><span id="line-2774"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragAnn"><span class="hs-identifier hs-type">repPragAnn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.AnnTarget</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2775"></span><span id="repPragAnn"><span class="annot"><span class="annottext">repPragAnn :: Core AnnTarget -&gt; Core (M Exp) -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repPragAnn"><span class="hs-identifier hs-var hs-var">repPragAnn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135627"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135627"><span class="hs-identifier hs-var">targ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135628"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135628"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#pragAnnDName"><span class="hs-identifier hs-var">pragAnnDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135627"><span class="hs-identifier hs-var">targ</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135628"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2776"></span><span>
</span><span id="line-2777"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragSCCFun"><span class="hs-identifier hs-type">repPragSCCFun</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2778"></span><span id="repPragSCCFun"><span class="annot"><span class="annottext">repPragSCCFun :: Core Name -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repPragSCCFun"><span class="hs-identifier hs-var hs-var">repPragSCCFun</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135630"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135630"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#pragSCCFunDName"><span class="hs-identifier hs-var">pragSCCFunDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135630"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2779"></span><span>
</span><span id="line-2780"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPragSCCFunNamed"><span class="hs-identifier hs-type">repPragSCCFunNamed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2781"></span><span id="repPragSCCFunNamed"><span class="annot"><span class="annottext">repPragSCCFunNamed :: Core Name -&gt; Core String -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repPragSCCFunNamed"><span class="hs-identifier hs-var hs-var">repPragSCCFunNamed</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135632"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135632"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135633"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135633"><span class="hs-identifier hs-var">str</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#pragSCCFunNamedDName"><span class="hs-identifier hs-var">pragSCCFunNamedDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135632"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135633"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2782"></span><span>
</span><span id="line-2783"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTySynInst"><span class="hs-identifier hs-type">repTySynInst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.TySynEqn</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2784"></span><span id="repTySynInst"><span class="annot"><span class="annottext">repTySynInst :: Core (M TySynEqn) -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repTySynInst"><span class="hs-identifier hs-var hs-var">repTySynInst</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135635"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135635"><span class="hs-identifier hs-var">eqn</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2785"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#tySynInstDName"><span class="hs-identifier hs-var">tySynInstDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135635"><span class="hs-identifier hs-var">eqn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2786"></span><span>
</span><span id="line-2787"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repDataFamilyD"><span class="hs-identifier hs-type">repDataFamilyD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2788"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2789"></span><span id="repDataFamilyD"><span class="annot"><span class="annottext">repDataFamilyD :: Core Name
-&gt; Core [M (TyVarBndr BndrVis)]
-&gt; Core (Maybe (M Type))
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repDataFamilyD"><span class="hs-identifier hs-var hs-var">repDataFamilyD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135637"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135637"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135638"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135638"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135639"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135639"><span class="hs-identifier hs-var">kind</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2790"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#dataFamilyDName"><span class="hs-identifier hs-var">dataFamilyDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135637"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135638"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135639"><span class="hs-identifier hs-var">kind</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2791"></span><span>
</span><span id="line-2792"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repOpenFamilyD"><span class="hs-identifier hs-type">repOpenFamilyD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span>
</span><span id="line-2793"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2794"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FamilyResultSig</span></span><span class="hs-special">)</span><span>
</span><span id="line-2795"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.InjectivityAnn</span></span><span class="hs-special">)</span><span>
</span><span id="line-2796"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2797"></span><span id="repOpenFamilyD"><span class="annot"><span class="annottext">repOpenFamilyD :: Core Name
-&gt; Core [M (TyVarBndr BndrVis)]
-&gt; Core (M FamilyResultSig)
-&gt; Core (Maybe InjectivityAnn)
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repOpenFamilyD"><span class="hs-identifier hs-var hs-var">repOpenFamilyD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135641"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135641"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135642"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135642"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135643"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135643"><span class="hs-identifier hs-var">result</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135644"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135644"><span class="hs-identifier hs-var">inj</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2798"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#openTypeFamilyDName"><span class="hs-identifier hs-var">openTypeFamilyDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135641"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135642"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135643"><span class="hs-identifier hs-var">result</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135644"><span class="hs-identifier hs-var">inj</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2799"></span><span>
</span><span id="line-2800"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repClosedFamilyD"><span class="hs-identifier hs-type">repClosedFamilyD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span>
</span><span id="line-2801"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BndrVis</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2802"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FamilyResultSig</span></span><span class="hs-special">)</span><span>
</span><span id="line-2803"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.InjectivityAnn</span></span><span class="hs-special">)</span><span>
</span><span id="line-2804"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.TySynEqn</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2805"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2806"></span><span id="repClosedFamilyD"><span class="annot"><span class="annottext">repClosedFamilyD :: Core Name
-&gt; Core [M (TyVarBndr BndrVis)]
-&gt; Core (M FamilyResultSig)
-&gt; Core (Maybe InjectivityAnn)
-&gt; Core [M TySynEqn]
-&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repClosedFamilyD"><span class="hs-identifier hs-var hs-var">repClosedFamilyD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135646"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135646"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135647"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135647"><span class="hs-identifier hs-var">tvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135648"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135648"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135649"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135649"><span class="hs-identifier hs-var">inj</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135650"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135650"><span class="hs-identifier hs-var">eqns</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2807"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#closedTypeFamilyDName"><span class="hs-identifier hs-var">closedTypeFamilyDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135646"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135647"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135648"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135649"><span class="hs-identifier hs-var">inj</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135650"><span class="hs-identifier hs-var">eqns</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2808"></span><span>
</span><span id="line-2809"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTySynEqn"><span class="hs-identifier hs-type">repTySynEqn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-2810"></span><span>               </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.TySynEqn</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2811"></span><span id="repTySynEqn"><span class="annot"><span class="annottext">repTySynEqn :: Core (Maybe [M (TyVarBndr ())])
-&gt; Core (M Type)
-&gt; Core (M Type)
-&gt; ReaderT MetaWrappers DsM (Core (M TySynEqn))
</span><a href="GHC.HsToCore.Quote.html#repTySynEqn"><span class="hs-identifier hs-var hs-var">repTySynEqn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135652"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135652"><span class="hs-identifier hs-var">mb_bndrs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135653"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135653"><span class="hs-identifier hs-var">lhs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135654"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135654"><span class="hs-identifier hs-var">rhs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2812"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; ReaderT MetaWrappers DsM (Core (M TySynEqn))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#tySynEqnName"><span class="hs-identifier hs-var">tySynEqnName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135652"><span class="hs-identifier hs-var">mb_bndrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135653"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135654"><span class="hs-identifier hs-var">rhs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2813"></span><span>
</span><span id="line-2814"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRoleAnnotD"><span class="hs-identifier hs-type">repRoleAnnotD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Role</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2815"></span><span id="repRoleAnnotD"><span class="annot"><span class="annottext">repRoleAnnotD :: Core Name -&gt; Core [Role] -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repRoleAnnotD"><span class="hs-identifier hs-var hs-var">repRoleAnnotD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135656"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135656"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135657"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135657"><span class="hs-identifier hs-var">roles</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#roleAnnotDName"><span class="hs-identifier hs-var">roleAnnotDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135656"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135657"><span class="hs-identifier hs-var">roles</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2816"></span><span>
</span><span id="line-2817"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repFunDep"><span class="hs-identifier hs-type">repFunDep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FunDep</span></span><span class="hs-special">)</span><span>
</span><span id="line-2818"></span><span id="repFunDep"><span class="annot"><span class="annottext">repFunDep :: Core [Name] -&gt; Core [Name] -&gt; MetaM (Core FunDep)
</span><a href="GHC.HsToCore.Quote.html#repFunDep"><span class="hs-identifier hs-var hs-var">repFunDep</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135659"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135659"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135660"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135660"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core FunDep)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#funDepName"><span class="hs-identifier hs-var">funDepName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135659"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135660"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2819"></span><span>
</span><span id="line-2820"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repProto"><span class="hs-identifier hs-type">repProto</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2821"></span><span id="repProto"><span class="annot"><span class="annottext">repProto :: Name -&gt; Core Name -&gt; Core (M Type) -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repProto"><span class="hs-identifier hs-var hs-var">repProto</span></a></span></span><span> </span><span id="local-6989586621683135662"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135662"><span class="hs-identifier hs-var">mk_sig</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135663"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135663"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135664"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135664"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135662"><span class="hs-identifier hs-var">mk_sig</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135663"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135664"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2822"></span><span>
</span><span id="line-2823"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repImplicitParamBind"><span class="hs-identifier hs-type">repImplicitParamBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Dec</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2824"></span><span id="repImplicitParamBind"><span class="annot"><span class="annottext">repImplicitParamBind :: Core String -&gt; Core (M Exp) -&gt; MetaM (Core (M Dec))
</span><a href="GHC.HsToCore.Quote.html#repImplicitParamBind"><span class="hs-identifier hs-var hs-var">repImplicitParamBind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135665"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135665"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135666"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135666"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Dec))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#implicitParamBindDName"><span class="hs-identifier hs-var">implicitParamBindDName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135665"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135666"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2825"></span><span>
</span><span id="line-2826"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repCtxt"><span class="hs-identifier hs-type">repCtxt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Pred</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2827"></span><span id="repCtxt"><span class="annot"><span class="annottext">repCtxt :: Core [M Type] -&gt; MetaM (Core (M Cxt))
</span><a href="GHC.HsToCore.Quote.html#repCtxt"><span class="hs-identifier hs-var hs-var">repCtxt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135668"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135668"><span class="hs-identifier hs-var">tys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Cxt))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#cxtName"><span class="hs-identifier hs-var">cxtName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135668"><span class="hs-identifier hs-var">tys</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2828"></span><span>
</span><span id="line-2829"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repH98DataCon"><span class="hs-identifier hs-type">repH98DataCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-2830"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsConDeclH98Details"><span class="hs-identifier hs-type">HsConDeclH98Details</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-2831"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Con</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2832"></span><span id="repH98DataCon"><span class="annot"><span class="annottext">repH98DataCon :: GenLocated SrcSpanAnnN Name
-&gt; HsConDeclH98Details GhcRn -&gt; MetaM (Core (M Con))
</span><a href="GHC.HsToCore.Quote.html#repH98DataCon"><span class="hs-identifier hs-var hs-var">repH98DataCon</span></a></span></span><span> </span><span id="local-6989586621683135670"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683135670"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span id="local-6989586621683135671"><span class="annot"><span class="annottext">HsConDeclH98Details GhcRn
</span><a href="#local-6989586621683135671"><span class="hs-identifier hs-var">details</span></a></span></span><span>
</span><span id="line-2833"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683135672"><span class="annot"><a href="#local-6989586621683135672"><span class="hs-identifier hs-var">con'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621683135670"><span class="hs-identifier hs-var">con</span></a></span><span> </span><span class="hs-comment">-- See Note [Binders and occurrences]</span><span>
</span><span id="line-2834"></span><span>         </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621683135671"><span class="hs-identifier hs-type">details</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2835"></span><span>           </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-type">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[Void]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135673"><span class="annot"><span class="annottext">[HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
</span><a href="#local-6989586621683135673"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2836"></span><span>             </span><span id="local-6989586621683135674"><span class="annot"><a href="#local-6989586621683135674"><span class="hs-identifier hs-var">arg_tys</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
-&gt; MetaM (Core [M BangType])
</span><a href="GHC.HsToCore.Quote.html#repPrefixConArgs"><span class="hs-identifier hs-var">repPrefixConArgs</span></a></span><span> </span><span class="annot"><span class="annottext">[HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
</span><a href="#local-6989586621683135673"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-2837"></span><span>             </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#normalCName"><span class="hs-identifier hs-type">normalCName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135672"><span class="hs-identifier hs-type">con'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135674"><span class="hs-identifier hs-type">arg_tys</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2838"></span><span>           </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-type">InfixCon</span></a></span><span> </span><span id="local-6989586621683135677"><span class="annot"><span class="annottext">HsScaled GhcRn (XRec GhcRn (HsType GhcRn))
</span><a href="#local-6989586621683135677"><span class="hs-identifier hs-var">st1</span></a></span></span><span> </span><span id="local-6989586621683135678"><span class="annot"><span class="annottext">HsScaled GhcRn (XRec GhcRn (HsType GhcRn))
</span><a href="#local-6989586621683135678"><span class="hs-identifier hs-var">st2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2839"></span><span>             </span><span class="annot"><span class="annottext">[HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
-&gt; ReaderT MetaWrappers DsM ()
</span><a href="GHC.HsToCore.Quote.html#verifyLinearFields"><span class="hs-identifier hs-var">verifyLinearFields</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsScaled GhcRn (XRec GhcRn (HsType GhcRn))
</span><a href="#local-6989586621683135677"><span class="hs-identifier hs-var">st1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsScaled GhcRn (XRec GhcRn (HsType GhcRn))
</span><a href="#local-6989586621683135678"><span class="hs-identifier hs-var">st2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2840"></span><span>             </span><span id="local-6989586621683135680"><span class="annot"><a href="#local-6989586621683135680"><span class="hs-identifier hs-var">arg1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M BangType))
</span><a href="GHC.HsToCore.Quote.html#repBangTy"><span class="hs-identifier hs-var">repBangTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsScaled GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))
-&gt; GenLocated SrcSpanAnnA (HsType GhcRn)
forall pass a. HsScaled pass a -&gt; a
</span><a href="Language.Haskell.Syntax.Type.html#hsScaledThing"><span class="hs-identifier hs-var">hsScaledThing</span></a></span><span> </span><span class="annot"><span class="annottext">HsScaled GhcRn (XRec GhcRn (HsType GhcRn))
HsScaled GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))
</span><a href="#local-6989586621683135677"><span class="hs-identifier hs-var">st1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2841"></span><span>             </span><span id="local-6989586621683135682"><span class="annot"><a href="#local-6989586621683135682"><span class="hs-identifier hs-var">arg2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repBangTy"><span class="hs-identifier hs-type">repBangTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#hsScaledThing"><span class="hs-identifier hs-type">hsScaledThing</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135678"><span class="hs-identifier hs-type">st2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2842"></span><span>             </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#infixCName"><span class="hs-identifier hs-type">infixCName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135680"><span class="hs-identifier hs-type">arg1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135672"><span class="hs-identifier hs-type">con'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135682"><span class="hs-identifier hs-type">arg2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2843"></span><span>           </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-type">RecCon</span></a></span><span> </span><span id="local-6989586621683135684"><span class="annot"><span class="annottext">XRec GhcRn [LConDeclField GhcRn]
</span><a href="#local-6989586621683135684"><span class="hs-identifier hs-var">ips</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2844"></span><span>             </span><span id="local-6989586621683135685"><span class="annot"><a href="#local-6989586621683135685"><span class="hs-identifier hs-var">arg_vtys</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedL [LConDeclField GhcRn] -&gt; MetaM (Core [M VarBangType])
</span><a href="GHC.HsToCore.Quote.html#repRecConArgs"><span class="hs-identifier hs-var">repRecConArgs</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn [LConDeclField GhcRn]
LocatedL [LConDeclField GhcRn]
</span><a href="#local-6989586621683135684"><span class="hs-identifier hs-var">ips</span></a></span><span>
</span><span id="line-2845"></span><span>             </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#recCName"><span class="hs-identifier hs-type">recCName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135672"><span class="hs-identifier hs-type">con'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135685"><span class="hs-identifier hs-type">arg_vtys</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2846"></span><span>
</span><span id="line-2847"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repGadtDataCons"><span class="hs-identifier hs-type">repGadtDataCons</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedN"><span class="hs-identifier hs-type">LocatedN</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2848"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsConDeclGADTDetails"><span class="hs-identifier hs-type">HsConDeclGADTDetails</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-2849"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-2850"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Con</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2851"></span><span id="repGadtDataCons"><span class="annot"><span class="annottext">repGadtDataCons :: NonEmpty (GenLocated SrcSpanAnnN Name)
-&gt; HsConDeclGADTDetails GhcRn
-&gt; XRec GhcRn (HsType GhcRn)
-&gt; MetaM (Core (M Con))
</span><a href="GHC.HsToCore.Quote.html#repGadtDataCons"><span class="hs-identifier hs-var hs-var">repGadtDataCons</span></a></span></span><span> </span><span id="local-6989586621683135688"><span class="annot"><span class="annottext">NonEmpty (GenLocated SrcSpanAnnN Name)
</span><a href="#local-6989586621683135688"><span class="hs-identifier hs-var">cons</span></a></span></span><span> </span><span id="local-6989586621683135689"><span class="annot"><span class="annottext">HsConDeclGADTDetails GhcRn
</span><a href="#local-6989586621683135689"><span class="hs-identifier hs-var">details</span></a></span></span><span> </span><span id="local-6989586621683135690"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683135690"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span>
</span><span id="line-2852"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683135691"><span class="annot"><a href="#local-6989586621683135691"><span class="hs-identifier hs-var">cons'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name))
-&gt; NonEmpty (GenLocated SrcSpanAnnN Name)
-&gt; ReaderT MetaWrappers DsM (NonEmpty (Core Name))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; NonEmpty a -&gt; m (NonEmpty b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; MetaM (Core Name)
forall l. GenLocated l Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupLOcc"><span class="hs-identifier hs-var">lookupLOcc</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (GenLocated SrcSpanAnnN Name)
</span><a href="#local-6989586621683135688"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="hs-comment">-- See Note [Binders and occurrences]</span><span>
</span><span id="line-2853"></span><span>         </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621683135689"><span class="hs-identifier hs-type">details</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2854"></span><span>           </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#PrefixConGADT"><span class="hs-identifier hs-type">PrefixConGADT</span></a></span><span> </span><span class="annot"><span class="annottext">XPrefixConGADT GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135693"><span class="annot"><span class="annottext">[HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
</span><a href="#local-6989586621683135693"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2855"></span><span>             </span><span id="local-6989586621683135694"><span class="annot"><a href="#local-6989586621683135694"><span class="hs-identifier hs-var">arg_tys</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
-&gt; MetaM (Core [M BangType])
</span><a href="GHC.HsToCore.Quote.html#repPrefixConArgs"><span class="hs-identifier hs-var">repPrefixConArgs</span></a></span><span> </span><span class="annot"><span class="annottext">[HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
</span><a href="#local-6989586621683135693"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-2856"></span><span>             </span><span id="local-6989586621683135695"><span class="annot"><a href="#local-6989586621683135695"><span class="hs-identifier hs-var">res_ty'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135690"><span class="hs-identifier hs-type">res_ty</span></a></span><span>
</span><span id="line-2857"></span><span>             </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#gadtCName"><span class="hs-identifier hs-type">gadtCName</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList%27"><span class="hs-identifier hs-type">nonEmptyCoreList'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135691"><span class="hs-identifier hs-type">cons'</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135694"><span class="hs-identifier hs-type">arg_tys</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135695"><span class="hs-identifier hs-type">res_ty'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2858"></span><span>           </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#RecConGADT"><span class="hs-identifier hs-type">RecConGADT</span></a></span><span> </span><span class="annot"><span class="annottext">XRecConGADT GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135699"><span class="annot"><span class="annottext">XRec GhcRn [LConDeclField GhcRn]
</span><a href="#local-6989586621683135699"><span class="hs-identifier hs-var">ips</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2859"></span><span>             </span><span id="local-6989586621683135700"><span class="annot"><a href="#local-6989586621683135700"><span class="hs-identifier hs-var">arg_vtys</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocatedL [LConDeclField GhcRn] -&gt; MetaM (Core [M VarBangType])
</span><a href="GHC.HsToCore.Quote.html#repRecConArgs"><span class="hs-identifier hs-var">repRecConArgs</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn [LConDeclField GhcRn]
LocatedL [LConDeclField GhcRn]
</span><a href="#local-6989586621683135699"><span class="hs-identifier hs-var">ips</span></a></span><span>
</span><span id="line-2860"></span><span>             </span><span id="local-6989586621683135701"><span class="annot"><a href="#local-6989586621683135701"><span class="hs-identifier hs-var">res_ty'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLTy"><span class="hs-identifier hs-type">repLTy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135690"><span class="hs-identifier hs-type">res_ty</span></a></span><span>
</span><span id="line-2861"></span><span>             </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#recGadtCName"><span class="hs-identifier hs-type">recGadtCName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList%27"><span class="hs-identifier hs-type">nonEmptyCoreList'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135691"><span class="hs-identifier hs-type">cons'</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135700"><span class="hs-identifier hs-type">arg_vtys</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-2862"></span><span>                                </span><span class="annot"><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-type">unC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135701"><span class="hs-identifier hs-type">res_ty'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2863"></span><span>
</span><span id="line-2864"></span><span class="hs-comment">-- TH currently only supports linear constructors.</span><span>
</span><span id="line-2865"></span><span class="hs-comment">-- We also accept the (-&gt;) arrow when -XLinearTypes is off, because this</span><span>
</span><span id="line-2866"></span><span class="hs-comment">-- denotes a linear field.</span><span>
</span><span id="line-2867"></span><span class="hs-comment">-- This check is not performed in repRecConArgs, since the GADT record</span><span>
</span><span id="line-2868"></span><span class="hs-comment">-- syntax currently does not have a way to mark fields as nonlinear.</span><span>
</span><span id="line-2869"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#verifyLinearFields"><span class="hs-identifier hs-type">verifyLinearFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsScaled"><span class="hs-identifier hs-type">HsScaled</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2870"></span><span id="verifyLinearFields"><span class="annot"><span class="annottext">verifyLinearFields :: [HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
-&gt; ReaderT MetaWrappers DsM ()
</span><a href="GHC.HsToCore.Quote.html#verifyLinearFields"><span class="hs-identifier hs-var hs-var">verifyLinearFields</span></a></span></span><span> </span><span id="local-6989586621683135703"><span class="annot"><span class="annottext">[HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
</span><a href="#local-6989586621683135703"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2871"></span><span>  </span><span id="local-6989586621683135704"><span class="annot"><a href="#local-6989586621683135704"><span class="hs-identifier hs-var">linear</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DsM Bool -&gt; ReaderT MetaWrappers DsM Bool
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(DsM Bool -&gt; ReaderT MetaWrappers DsM Bool)
-&gt; DsM Bool -&gt; ReaderT MetaWrappers DsM Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Extension -&gt; DsM Bool
forall gbl lcl. Extension -&gt; TcRnIf gbl lcl Bool
</span><a href="GHC.Tc.Utils.Monad.html#xoptM"><span class="hs-identifier hs-var">xoptM</span></a></span><span> </span><span class="annot"><span class="annottext">Extension
</span><span class="hs-identifier hs-var">LangExt.LinearTypes</span></span><span>
</span><span id="line-2872"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683135706"><span class="annot"><a href="#local-6989586621683135706"><span class="hs-identifier hs-var hs-var">allGood</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HsScaled GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn)) -&gt; Bool)
-&gt; [HsScaled GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621683135708"><span class="annot"><span class="annottext">HsScaled GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))
</span><a href="#local-6989586621683135708"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsScaled GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))
-&gt; HsArrow GhcRn
forall pass a. HsScaled pass a -&gt; HsArrow pass
</span><a href="Language.Haskell.Syntax.Type.html#hsMult"><span class="hs-identifier hs-var">hsMult</span></a></span><span> </span><span class="annot"><span class="annottext">HsScaled GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))
</span><a href="#local-6989586621683135708"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2873"></span><span>                              </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsUnrestrictedArrow"><span class="hs-identifier hs-type">HsUnrestrictedArrow</span></a></span><span> </span><span class="annot"><span class="annottext">XUnrestrictedArrow (XRec GhcRn (HsType GhcRn)) GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621683135704"><span class="hs-identifier hs-var">linear</span></a></span><span>
</span><span id="line-2874"></span><span>                              </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsLinearArrow"><span class="hs-identifier hs-type">HsLinearArrow</span></a></span><span> </span><span class="annot"><span class="annottext">XLinearArrow (XRec GhcRn (HsType GhcRn)) GhcRn
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2875"></span><span>                              </span><span class="annot"><span class="annottext">HsArrow GhcRn
</span><span class="hs-identifier">_</span></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
[HsScaled GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))]
</span><a href="#local-6989586621683135703"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-2876"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">unless</span></span><span> </span><span class="annot"><a href="#local-6989586621683135706"><span class="hs-identifier hs-type">allGood</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-type">notHandled</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Errors.Types.html#ThNonLinearDataCon"><span class="hs-identifier hs-type">ThNonLinearDataCon</span></a></span><span>
</span><span id="line-2877"></span><span>
</span><span id="line-2878"></span><span class="hs-comment">-- Desugar the arguments in a data constructor declared with prefix syntax.</span><span>
</span><span id="line-2879"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPrefixConArgs"><span class="hs-identifier hs-type">repPrefixConArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsScaled"><span class="hs-identifier hs-type">HsScaled</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsType"><span class="hs-identifier hs-type">LHsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2880"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.BangType</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2881"></span><span id="repPrefixConArgs"><span class="annot"><span class="annottext">repPrefixConArgs :: [HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
-&gt; MetaM (Core [M BangType])
</span><a href="GHC.HsToCore.Quote.html#repPrefixConArgs"><span class="hs-identifier hs-var hs-var">repPrefixConArgs</span></a></span></span><span> </span><span id="local-6989586621683135713"><span class="annot"><span class="annottext">[HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
</span><a href="#local-6989586621683135713"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2882"></span><span>  </span><span class="annot"><span class="annottext">[HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
-&gt; ReaderT MetaWrappers DsM ()
</span><a href="GHC.HsToCore.Quote.html#verifyLinearFields"><span class="hs-identifier hs-var">verifyLinearFields</span></a></span><span> </span><span class="annot"><span class="annottext">[HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
</span><a href="#local-6989586621683135713"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-2883"></span><span>  </span><span class="annot"><span class="annottext">Name
-&gt; (GenLocated SrcSpanAnnA (HsType GhcRn)
    -&gt; MetaM (Core (M BangType)))
-&gt; [GenLocated SrcSpanAnnA (HsType GhcRn)]
-&gt; MetaM (Core [M BangType])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-var">repListM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#bangTypeTyConName"><span class="hs-identifier hs-var">bangTypeTyConName</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn) -&gt; MetaM (Core (M BangType))
GenLocated SrcSpanAnnA (HsType GhcRn) -&gt; MetaM (Core (M BangType))
</span><a href="GHC.HsToCore.Quote.html#repBangTy"><span class="hs-identifier hs-var">repBangTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HsScaled GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))
 -&gt; GenLocated SrcSpanAnnA (HsType GhcRn))
-&gt; [HsScaled GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))]
-&gt; [GenLocated SrcSpanAnnA (HsType GhcRn)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">HsScaled GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))
-&gt; GenLocated SrcSpanAnnA (HsType GhcRn)
forall pass a. HsScaled pass a -&gt; a
</span><a href="Language.Haskell.Syntax.Type.html#hsScaledThing"><span class="hs-identifier hs-var">hsScaledThing</span></a></span><span> </span><span class="annot"><span class="annottext">[HsScaled GhcRn (XRec GhcRn (HsType GhcRn))]
[HsScaled GhcRn (GenLocated SrcSpanAnnA (HsType GhcRn))]
</span><a href="#local-6989586621683135713"><span class="hs-identifier hs-var">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2884"></span><span>
</span><span id="line-2885"></span><span class="hs-comment">-- Desugar the arguments in a data constructor declared with record syntax.</span><span>
</span><span id="line-2886"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRecConArgs"><span class="hs-identifier hs-type">repRecConArgs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#LocatedL"><span class="hs-identifier hs-type">LocatedL</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LConDeclField"><span class="hs-identifier hs-type">LConDeclField</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2887"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.VarBangType</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2888"></span><span id="repRecConArgs"><span class="annot"><span class="annottext">repRecConArgs :: LocatedL [LConDeclField GhcRn] -&gt; MetaM (Core [M VarBangType])
</span><a href="GHC.HsToCore.Quote.html#repRecConArgs"><span class="hs-identifier hs-var hs-var">repRecConArgs</span></a></span></span><span> </span><span id="local-6989586621683135715"><span class="annot"><span class="annottext">LocatedL [LConDeclField GhcRn]
</span><a href="#local-6989586621683135715"><span class="hs-identifier hs-var">ips</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2889"></span><span>  </span><span id="local-6989586621683135716"><span class="annot"><a href="#local-6989586621683135716"><span class="hs-identifier hs-var">args</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (ConDeclField GhcRn)
 -&gt; ReaderT MetaWrappers DsM [Core (M VarBangType)])
-&gt; [GenLocated SrcSpanAnnA (ConDeclField GhcRn)]
-&gt; ReaderT MetaWrappers DsM [Core (M VarBangType)]
forall (m :: * -&gt; *) (f :: * -&gt; *) a b.
(Monad m, Traversable f) =&gt;
(a -&gt; m [b]) -&gt; f a -&gt; m [b]
</span><a href="GHC.Utils.Monad.html#concatMapM"><span class="hs-identifier hs-var">concatMapM</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (ConDeclField GhcRn)
-&gt; ReaderT MetaWrappers DsM [Core (M VarBangType)]
forall {l}.
GenLocated l (ConDeclField GhcRn)
-&gt; ReaderT MetaWrappers DsM [Core (M VarBangType)]
</span><a href="#local-6989586621683135717"><span class="hs-identifier hs-var">rep_ip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnL [GenLocated SrcSpanAnnA (ConDeclField GhcRn)]
-&gt; [GenLocated SrcSpanAnnA (ConDeclField GhcRn)]
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LocatedL [LConDeclField GhcRn]
GenLocated
  SrcSpanAnnL [GenLocated SrcSpanAnnA (ConDeclField GhcRn)]
</span><a href="#local-6989586621683135715"><span class="hs-identifier hs-var">ips</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2890"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-type">coreListM</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#varBangTypeTyConName"><span class="hs-identifier hs-type">varBangTypeTyConName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135716"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-2891"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-2892"></span><span>      </span><span id="local-6989586621683135717"><span class="annot"><span class="annottext">rep_ip :: GenLocated l (ConDeclField GhcRn)
-&gt; ReaderT MetaWrappers DsM [Core (M VarBangType)]
</span><a href="#local-6989586621683135717"><span class="hs-identifier hs-var hs-var">rep_ip</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">l
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135722"><span class="annot"><span class="annottext">ConDeclField GhcRn
</span><a href="#local-6989586621683135722"><span class="hs-identifier hs-var">ip</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (FieldOcc GhcRn)
 -&gt; ReaderT MetaWrappers DsM (Core (M VarBangType)))
-&gt; [GenLocated SrcSpanAnnA (FieldOcc GhcRn)]
-&gt; ReaderT MetaWrappers DsM [Core (M VarBangType)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
-&gt; LFieldOcc GhcRn
-&gt; ReaderT MetaWrappers DsM (Core (M VarBangType))
</span><a href="#local-6989586621683135723"><span class="hs-identifier hs-var">rep_one_ip</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConDeclField GhcRn -&gt; XRec GhcRn (HsType GhcRn)
forall pass. ConDeclField pass -&gt; LBangType pass
</span><a href="Language.Haskell.Syntax.Type.html#cd_fld_type"><span class="hs-identifier hs-var">cd_fld_type</span></a></span><span> </span><span class="annot"><span class="annottext">ConDeclField GhcRn
</span><a href="#local-6989586621683135722"><span class="hs-identifier hs-var">ip</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ConDeclField GhcRn -&gt; [LFieldOcc GhcRn]
forall pass. ConDeclField pass -&gt; [LFieldOcc pass]
</span><a href="Language.Haskell.Syntax.Type.html#cd_fld_names"><span class="hs-identifier hs-var">cd_fld_names</span></a></span><span> </span><span class="annot"><span class="annottext">ConDeclField GhcRn
</span><a href="#local-6989586621683135722"><span class="hs-identifier hs-var">ip</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2893"></span><span>
</span><span id="line-2894"></span><span>      </span><span class="annot"><a href="#local-6989586621683135723"><span class="hs-identifier hs-type">rep_one_ip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LBangType"><span class="hs-identifier hs-type">LBangType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LFieldOcc"><span class="hs-identifier hs-type">LFieldOcc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.VarBangType</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2895"></span><span>      </span><span id="local-6989586621683135723"><span class="annot"><span class="annottext">rep_one_ip :: XRec GhcRn (HsType GhcRn)
-&gt; LFieldOcc GhcRn
-&gt; ReaderT MetaWrappers DsM (Core (M VarBangType))
</span><a href="#local-6989586621683135723"><span class="hs-identifier hs-var hs-var">rep_one_ip</span></a></span></span><span> </span><span id="local-6989586621683135726"><span class="annot"><span class="annottext">XRec GhcRn (HsType GhcRn)
</span><a href="#local-6989586621683135726"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621683135727"><span class="annot"><span class="annottext">LFieldOcc GhcRn
</span><a href="#local-6989586621683135727"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135728"><span class="annot"><a href="#local-6989586621683135728"><span class="hs-identifier hs-var">v</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#lookupOcc"><span class="hs-identifier hs-var">lookupOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN Name -&gt; Name)
-&gt; (FieldOcc GhcRn -&gt; GenLocated SrcSpanAnnN Name)
-&gt; FieldOcc GhcRn
-&gt; Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldOcc GhcRn -&gt; LIdP GhcRn
FieldOcc GhcRn -&gt; GenLocated SrcSpanAnnN Name
forall pass. FieldOcc pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Type.html#foLabel"><span class="hs-identifier hs-var">foLabel</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldOcc GhcRn -&gt; Name) -&gt; FieldOcc GhcRn -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (FieldOcc GhcRn) -&gt; FieldOcc GhcRn
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LFieldOcc GhcRn
GenLocated SrcSpanAnnA (FieldOcc GhcRn)
</span><a href="#local-6989586621683135727"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2896"></span><span>                          </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135729"><span class="annot"><a href="#local-6989586621683135729"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repBangTy"><span class="hs-identifier hs-type">repBangTy</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621683135726"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-2897"></span><span>                          </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#varBangTypeName"><span class="hs-identifier hs-type">varBangTypeName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135728"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683135729"><span class="hs-identifier hs-type">ty</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2898"></span><span>
</span><span id="line-2899"></span><span class="hs-comment">------------ Types -------------------</span><span>
</span><span id="line-2900"></span><span>
</span><span id="line-2901"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTForall"><span class="hs-identifier hs-type">repTForall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Specificity</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Cxt</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-2902"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2903"></span><span id="repTForall"><span class="annot"><span class="annottext">repTForall :: Core [M (TyVarBndr Specificity)]
-&gt; Core (M Cxt) -&gt; Core (M Type) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTForall"><span class="hs-identifier hs-var hs-var">repTForall</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135731"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135731"><span class="hs-identifier hs-var">tvars</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135732"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135732"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135733"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135733"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-2904"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#forallTName"><span class="hs-identifier hs-var">forallTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135731"><span class="hs-identifier hs-var">tvars</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135732"><span class="hs-identifier hs-var">ctxt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135733"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2905"></span><span>
</span><span id="line-2906"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTForallVis"><span class="hs-identifier hs-type">repTForallVis</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-2907"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2908"></span><span id="repTForallVis"><span class="annot"><span class="annottext">repTForallVis :: Core [M (TyVarBndr ())] -&gt; Core (M Type) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTForallVis"><span class="hs-identifier hs-var hs-var">repTForallVis</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135735"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135735"><span class="hs-identifier hs-var">tvars</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135736"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135736"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#forallVisTName"><span class="hs-identifier hs-var">forallVisTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135735"><span class="hs-identifier hs-var">tvars</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135736"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2909"></span><span>
</span><span id="line-2910"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTvar"><span class="hs-identifier hs-type">repTvar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2911"></span><span id="repTvar"><span class="annot"><span class="annottext">repTvar :: Core Name -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTvar"><span class="hs-identifier hs-var hs-var">repTvar</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135738"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135738"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#varTName"><span class="hs-identifier hs-var">varTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135738"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2912"></span><span>
</span><span id="line-2913"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapp"><span class="hs-identifier hs-type">repTapp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2914"></span><span id="repTapp"><span class="annot"><span class="annottext">repTapp :: Core (M Type) -&gt; Core (M Type) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTapp"><span class="hs-identifier hs-var hs-var">repTapp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135740"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135740"><span class="hs-identifier hs-var">t1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135741"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135741"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#appTName"><span class="hs-identifier hs-var">appTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135740"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135741"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2915"></span><span>
</span><span id="line-2916"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTappKind"><span class="hs-identifier hs-type">repTappKind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2917"></span><span id="repTappKind"><span class="annot"><span class="annottext">repTappKind :: Core (M Type) -&gt; Core (M Type) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTappKind"><span class="hs-identifier hs-var hs-var">repTappKind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135743"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135743"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135744"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135744"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#appKindTName"><span class="hs-identifier hs-var">appKindTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135743"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135744"><span class="hs-identifier hs-var">ki</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2918"></span><span>
</span><span id="line-2919"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapps"><span class="hs-identifier hs-type">repTapps</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2920"></span><span id="repTapps"><span class="annot"><span class="annottext">repTapps :: Core (M Type) -&gt; [Core (M Type)] -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTapps"><span class="hs-identifier hs-var hs-var">repTapps</span></a></span></span><span> </span><span id="local-6989586621683135746"><span class="annot"><span class="annottext">Core (M Type)
</span><a href="#local-6989586621683135746"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Core (M Type) -&gt; MetaM (Core (M Type))
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Core (M Type)
</span><a href="#local-6989586621683135746"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-2921"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapps"><span class="hs-identifier hs-var">repTapps</span></a></span><span> </span><span id="local-6989586621683135747"><span class="annot"><span class="annottext">Core (M Type)
</span><a href="#local-6989586621683135747"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621683135748"><span class="annot"><span class="annottext">Core (M Type)
</span><a href="#local-6989586621683135748"><span class="hs-identifier hs-var">t</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621683135749"><span class="annot"><span class="annottext">[Core (M Type)]
</span><a href="#local-6989586621683135749"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135750"><span class="annot"><a href="#local-6989586621683135750"><span class="hs-identifier hs-var">f1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Core (M Type) -&gt; Core (M Type) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTapp"><span class="hs-identifier hs-var">repTapp</span></a></span><span> </span><span class="annot"><span class="annottext">Core (M Type)
</span><a href="#local-6989586621683135747"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Core (M Type)
</span><a href="#local-6989586621683135748"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapps"><span class="hs-identifier hs-type">repTapps</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135750"><span class="hs-identifier hs-type">f1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135749"><span class="hs-identifier hs-type">ts</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-2922"></span><span>
</span><span id="line-2923"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTSig"><span class="hs-identifier hs-type">repTSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2924"></span><span id="repTSig"><span class="annot"><span class="annottext">repTSig :: Core (M Type) -&gt; Core (M Type) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTSig"><span class="hs-identifier hs-var hs-var">repTSig</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135751"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135751"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135752"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135752"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#sigTName"><span class="hs-identifier hs-var">sigTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135751"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135752"><span class="hs-identifier hs-var">ki</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2925"></span><span>
</span><span id="line-2926"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTequality"><span class="hs-identifier hs-type">repTequality</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2927"></span><span id="repTequality"><span class="annot"><span class="annottext">repTequality :: MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTequality"><span class="hs-identifier hs-var hs-var">repTequality</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#equalityTName"><span class="hs-identifier hs-var">equalityTName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2928"></span><span>
</span><span id="line-2929"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTPromotedList"><span class="hs-identifier hs-type">repTPromotedList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2930"></span><span id="repTPromotedList"><span class="annot"><span class="annottext">repTPromotedList :: [Core (M Type)] -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTPromotedList"><span class="hs-identifier hs-var hs-var">repTPromotedList</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repPromotedNilTyCon"><span class="hs-identifier hs-var">repPromotedNilTyCon</span></a></span><span>
</span><span id="line-2931"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTPromotedList"><span class="hs-identifier hs-var">repTPromotedList</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621683135756"><span class="annot"><span class="annottext">Core (M Type)
</span><a href="#local-6989586621683135756"><span class="hs-identifier hs-var">t</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621683135757"><span class="annot"><span class="annottext">[Core (M Type)]
</span><a href="#local-6989586621683135757"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135758"><span class="annot"><a href="#local-6989586621683135758"><span class="hs-identifier hs-var">tcon</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repPromotedConsTyCon"><span class="hs-identifier hs-var">repPromotedConsTyCon</span></a></span><span>
</span><span id="line-2932"></span><span>                              </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135760"><span class="annot"><a href="#local-6989586621683135760"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapp"><span class="hs-identifier hs-type">repTapp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135758"><span class="hs-identifier hs-type">tcon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135756"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-2933"></span><span>                              </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135761"><span class="annot"><a href="#local-6989586621683135761"><span class="hs-identifier hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTPromotedList"><span class="hs-identifier hs-type">repTPromotedList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135757"><span class="hs-identifier hs-type">ts</span></a></span><span>
</span><span id="line-2934"></span><span>                              </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTapp"><span class="hs-identifier hs-type">repTapp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135760"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135761"><span class="hs-identifier hs-type">t'</span></a></span><span>
</span><span id="line-2935"></span><span>                              </span><span class="hs-special">}</span><span>
</span><span id="line-2936"></span><span>
</span><span id="line-2937"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTLit"><span class="hs-identifier hs-type">repTLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.TyLit</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2938"></span><span id="repTLit"><span class="annot"><span class="annottext">repTLit :: Core (M TyLit) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTLit"><span class="hs-identifier hs-var hs-var">repTLit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135762"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135762"><span class="hs-identifier hs-var">lit</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#litTName"><span class="hs-identifier hs-var">litTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135762"><span class="hs-identifier hs-var">lit</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2939"></span><span>
</span><span id="line-2940"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTWildCard"><span class="hs-identifier hs-type">repTWildCard</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2941"></span><span id="repTWildCard"><span class="annot"><span class="annottext">repTWildCard :: MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTWildCard"><span class="hs-identifier hs-var hs-var">repTWildCard</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#wildCardTName"><span class="hs-identifier hs-var">wildCardTName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2942"></span><span>
</span><span id="line-2943"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTImplicitParam"><span class="hs-identifier hs-type">repTImplicitParam</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2944"></span><span id="repTImplicitParam"><span class="annot"><span class="annottext">repTImplicitParam :: Core String -&gt; Core (M Type) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTImplicitParam"><span class="hs-identifier hs-var hs-var">repTImplicitParam</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135765"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135765"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135766"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135766"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#implicitParamTName"><span class="hs-identifier hs-var">implicitParamTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135765"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135766"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2945"></span><span>
</span><span id="line-2946"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTStar"><span class="hs-identifier hs-type">repTStar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2947"></span><span id="repTStar"><span class="annot"><span class="annottext">repTStar :: MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTStar"><span class="hs-identifier hs-var hs-var">repTStar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#starKName"><span class="hs-identifier hs-var">starKName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2948"></span><span>
</span><span id="line-2949"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTConstraint"><span class="hs-identifier hs-type">repTConstraint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2950"></span><span id="repTConstraint"><span class="annot"><span class="annottext">repTConstraint :: MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTConstraint"><span class="hs-identifier hs-var hs-var">repTConstraint</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#constraintKName"><span class="hs-identifier hs-var">constraintKName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2951"></span><span>
</span><span id="line-2952"></span><span class="hs-comment">--------- Type constructors --------------</span><span>
</span><span id="line-2953"></span><span>
</span><span id="line-2954"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNamedTyCon"><span class="hs-identifier hs-type">repNamedTyCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2955"></span><span id="repNamedTyCon"><span class="annot"><span class="annottext">repNamedTyCon :: Core Name -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repNamedTyCon"><span class="hs-identifier hs-var hs-var">repNamedTyCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135770"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135770"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#conTName"><span class="hs-identifier hs-var">conTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135770"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2956"></span><span>
</span><span id="line-2957"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTInfix"><span class="hs-identifier hs-type">repTInfix</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-2958"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2959"></span><span id="repTInfix"><span class="annot"><span class="annottext">repTInfix :: Core (M Type)
-&gt; Core Name -&gt; Core (M Type) -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTInfix"><span class="hs-identifier hs-var hs-var">repTInfix</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135772"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135772"><span class="hs-identifier hs-var">t1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135773"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135773"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135774"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135774"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#infixTName"><span class="hs-identifier hs-var">infixTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135772"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135773"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135774"><span class="hs-identifier hs-var">t2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2960"></span><span>
</span><span id="line-2961"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTupleTyCon"><span class="hs-identifier hs-type">repTupleTyCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2962"></span><span class="hs-comment">-- Note: not Core Int; it's easier to be direct here</span><span>
</span><span id="line-2963"></span><span id="repTupleTyCon"><span class="annot"><span class="annottext">repTupleTyCon :: Int -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repTupleTyCon"><span class="hs-identifier hs-var hs-var">repTupleTyCon</span></a></span></span><span> </span><span id="local-6989586621683135776"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683135776"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683135777"><span class="annot"><a href="#local-6989586621683135777"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MetaM Platform
</span><a href="GHC.HsToCore.Quote.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2964"></span><span>                     </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#tupleTName"><span class="hs-identifier hs-type">tupleTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.Make.html#mkIntExprInt"><span class="hs-identifier hs-type">mkIntExprInt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135777"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135776"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2965"></span><span>
</span><span id="line-2966"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repUnboxedTupleTyCon"><span class="hs-identifier hs-type">repUnboxedTupleTyCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2967"></span><span class="hs-comment">-- Note: not Core Int; it's easier to be direct here</span><span>
</span><span id="line-2968"></span><span id="repUnboxedTupleTyCon"><span class="annot"><span class="annottext">repUnboxedTupleTyCon :: Int -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repUnboxedTupleTyCon"><span class="hs-identifier hs-var hs-var">repUnboxedTupleTyCon</span></a></span></span><span> </span><span id="local-6989586621683135779"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683135779"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683135780"><span class="annot"><a href="#local-6989586621683135780"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MetaM Platform
</span><a href="GHC.HsToCore.Quote.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2969"></span><span>                            </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#unboxedTupleTName"><span class="hs-identifier hs-type">unboxedTupleTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.Make.html#mkIntExprInt"><span class="hs-identifier hs-type">mkIntExprInt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135780"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135779"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2970"></span><span>
</span><span id="line-2971"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repUnboxedSumTyCon"><span class="hs-identifier hs-type">repUnboxedSumTyCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.SumArity</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2972"></span><span class="hs-comment">-- Note: not Core TH.SumArity; it's easier to be direct here</span><span>
</span><span id="line-2973"></span><span id="repUnboxedSumTyCon"><span class="annot"><span class="annottext">repUnboxedSumTyCon :: Int -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repUnboxedSumTyCon"><span class="hs-identifier hs-var hs-var">repUnboxedSumTyCon</span></a></span></span><span> </span><span id="local-6989586621683135782"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683135782"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683135783"><span class="annot"><a href="#local-6989586621683135783"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MetaM Platform
</span><a href="GHC.HsToCore.Quote.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2974"></span><span>                              </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#unboxedSumTName"><span class="hs-identifier hs-type">unboxedSumTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.Make.html#mkIntExprInt"><span class="hs-identifier hs-type">mkIntExprInt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135783"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135782"><span class="hs-identifier hs-type">arity</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2975"></span><span>
</span><span id="line-2976"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repArrowTyCon"><span class="hs-identifier hs-type">repArrowTyCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2977"></span><span id="repArrowTyCon"><span class="annot"><span class="annottext">repArrowTyCon :: MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repArrowTyCon"><span class="hs-identifier hs-var hs-var">repArrowTyCon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#arrowTName"><span class="hs-identifier hs-var">arrowTName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2978"></span><span>
</span><span id="line-2979"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMulArrowTyCon"><span class="hs-identifier hs-type">repMulArrowTyCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2980"></span><span id="repMulArrowTyCon"><span class="annot"><span class="annottext">repMulArrowTyCon :: MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repMulArrowTyCon"><span class="hs-identifier hs-var hs-var">repMulArrowTyCon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#mulArrowTName"><span class="hs-identifier hs-var">mulArrowTName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2981"></span><span>
</span><span id="line-2982"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repListTyCon"><span class="hs-identifier hs-type">repListTyCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2983"></span><span id="repListTyCon"><span class="annot"><span class="annottext">repListTyCon :: MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repListTyCon"><span class="hs-identifier hs-var hs-var">repListTyCon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#listTName"><span class="hs-identifier hs-var">listTName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2984"></span><span>
</span><span id="line-2985"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPromotedDataCon"><span class="hs-identifier hs-type">repPromotedDataCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2986"></span><span id="repPromotedDataCon"><span class="annot"><span class="annottext">repPromotedDataCon :: Core Name -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repPromotedDataCon"><span class="hs-identifier hs-var hs-var">repPromotedDataCon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135788"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135788"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#promotedTName"><span class="hs-identifier hs-var">promotedTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135788"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2987"></span><span>
</span><span id="line-2988"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPromotedTupleTyCon"><span class="hs-identifier hs-type">repPromotedTupleTyCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2989"></span><span id="repPromotedTupleTyCon"><span class="annot"><span class="annottext">repPromotedTupleTyCon :: Int -&gt; MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repPromotedTupleTyCon"><span class="hs-identifier hs-var hs-var">repPromotedTupleTyCon</span></a></span></span><span> </span><span id="local-6989586621683135790"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683135790"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683135791"><span class="annot"><a href="#local-6989586621683135791"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MetaM Platform
</span><a href="GHC.HsToCore.Quote.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2990"></span><span>                             </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#promotedTupleTName"><span class="hs-identifier hs-type">promotedTupleTName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.Make.html#mkIntExprInt"><span class="hs-identifier hs-type">mkIntExprInt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135791"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135790"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2991"></span><span>
</span><span id="line-2992"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPromotedNilTyCon"><span class="hs-identifier hs-type">repPromotedNilTyCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2993"></span><span id="repPromotedNilTyCon"><span class="annot"><span class="annottext">repPromotedNilTyCon :: MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repPromotedNilTyCon"><span class="hs-identifier hs-var hs-var">repPromotedNilTyCon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#promotedNilTName"><span class="hs-identifier hs-var">promotedNilTName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2994"></span><span>
</span><span id="line-2995"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repPromotedConsTyCon"><span class="hs-identifier hs-type">repPromotedConsTyCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Type</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2996"></span><span id="repPromotedConsTyCon"><span class="annot"><span class="annottext">repPromotedConsTyCon :: MetaM (Core (M Type))
</span><a href="GHC.HsToCore.Quote.html#repPromotedConsTyCon"><span class="hs-identifier hs-var hs-var">repPromotedConsTyCon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Type))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#promotedConsTName"><span class="hs-identifier hs-var">promotedConsTName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-2997"></span><span>
</span><span id="line-2998"></span><span class="hs-comment">----------------------------------------------------------</span><span>
</span><span id="line-2999"></span><span class="hs-comment">--       Type family result signature</span><span>
</span><span id="line-3000"></span><span>
</span><span id="line-3001"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNoSig"><span class="hs-identifier hs-type">repNoSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FamilyResultSig</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3002"></span><span id="repNoSig"><span class="annot"><span class="annottext">repNoSig :: MetaM (Core (M FamilyResultSig))
</span><a href="GHC.HsToCore.Quote.html#repNoSig"><span class="hs-identifier hs-var hs-var">repNoSig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M FamilyResultSig))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#noSigName"><span class="hs-identifier hs-var">noSigName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-3003"></span><span>
</span><span id="line-3004"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repKindSig"><span class="hs-identifier hs-type">repKindSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Kind</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FamilyResultSig</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3005"></span><span id="repKindSig"><span class="annot"><span class="annottext">repKindSig :: Core (M Type) -&gt; MetaM (Core (M FamilyResultSig))
</span><a href="GHC.HsToCore.Quote.html#repKindSig"><span class="hs-identifier hs-var hs-var">repKindSig</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135796"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135796"><span class="hs-identifier hs-var">ki</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M FamilyResultSig))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#kindSigName"><span class="hs-identifier hs-var">kindSigName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135796"><span class="hs-identifier hs-var">ki</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3006"></span><span>
</span><span id="line-3007"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repTyVarSig"><span class="hs-identifier hs-type">repTyVarSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">TH.TyVarBndr</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.FamilyResultSig</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3008"></span><span id="repTyVarSig"><span class="annot"><span class="annottext">repTyVarSig :: Core (M (TyVarBndr ())) -&gt; MetaM (Core (M FamilyResultSig))
</span><a href="GHC.HsToCore.Quote.html#repTyVarSig"><span class="hs-identifier hs-var hs-var">repTyVarSig</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135798"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135798"><span class="hs-identifier hs-var">bndr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M FamilyResultSig))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#tyVarSigName"><span class="hs-identifier hs-var">tyVarSigName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135798"><span class="hs-identifier hs-var">bndr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3009"></span><span>
</span><span id="line-3010"></span><span class="hs-comment">----------------------------------------------------------</span><span>
</span><span id="line-3011"></span><span class="hs-comment">--              Literals</span><span>
</span><span id="line-3012"></span><span>
</span><span id="line-3013"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLiteral"><span class="hs-identifier hs-type">repLiteral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Lit</span></span><span class="hs-special">)</span><span>
</span><span id="line-3014"></span><span id="repLiteral"><span class="annot"><span class="annottext">repLiteral :: HsLit GhcRn -&gt; MetaM (Core Lit)
</span><a href="GHC.HsToCore.Quote.html#repLiteral"><span class="hs-identifier hs-var hs-var">repLiteral</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsStringPrim"><span class="hs-identifier hs-type">HsStringPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsStringPrim GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135801"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621683135801"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-3015"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683135802"><span class="annot"><a href="#local-6989586621683135802"><span class="hs-identifier hs-var">word8_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#lookupType"><span class="hs-identifier hs-var">lookupType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.html#word8TyConName"><span class="hs-identifier hs-var">word8TyConName</span></a></span><span>
</span><span id="line-3016"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683135804"><span class="annot"><a href="#local-6989586621683135804"><span class="hs-identifier hs-var hs-var">w8s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; [Word8]
</span><a href="../../bytestring-0.12.2.0-7dd0/src/Data.ByteString.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621683135801"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-3017"></span><span>           </span><span id="local-6989586621683135805"><span class="annot"><a href="#local-6989586621683135805"><span class="hs-identifier hs-var hs-var">w8s_expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; CoreExpr) -&gt; [Word8] -&gt; [CoreExpr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621683135806"><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621683135806"><span class="hs-identifier hs-var">w8</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [CoreExpr] -&gt; CoreExpr
</span><a href="GHC.Core.Make.html#mkCoreConApps"><span class="hs-identifier hs-var">mkCoreConApps</span></a></span><span> </span><span class="annot"><span class="annottext">DataCon
</span><a href="GHC.Builtin.Types.html#word8DataCon"><span class="hs-identifier hs-var">word8DataCon</span></a></span><span>
</span><span id="line-3018"></span><span>                                  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Integer -&gt; CoreExpr
forall b. Integer -&gt; Expr b
</span><a href="GHC.Core.html#mkWord8Lit"><span class="hs-identifier hs-var">mkWord8Lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">Word8
</span><a href="#local-6989586621683135806"><span class="hs-identifier hs-var">w8</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Word8]
</span><a href="#local-6989586621683135804"><span class="hs-identifier hs-var">w8s</span></a></span><span>
</span><span id="line-3019"></span><span>       </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-type">rep2_nw</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#stringPrimLName"><span class="hs-identifier hs-type">stringPrimLName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.Make.html#mkListExpr"><span class="hs-identifier hs-type">mkListExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135802"><span class="hs-identifier hs-type">word8_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135805"><span class="hs-identifier hs-type">w8s_expr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3020"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLiteral"><span class="hs-identifier hs-var">repLiteral</span></a></span><span> </span><span id="local-6989586621683135811"><span class="annot"><span class="annottext">HsLit GhcRn
</span><a href="#local-6989586621683135811"><span class="hs-identifier hs-var">lit</span></a></span></span><span>
</span><span id="line-3021"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683135812"><span class="annot"><a href="#local-6989586621683135812"><span class="hs-identifier hs-var">lit'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsLit GhcRn
</span><a href="#local-6989586621683135811"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-3022"></span><span>                   </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsIntPrim"><span class="hs-identifier hs-type">HsIntPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsIntPrim GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135814"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683135814"><span class="hs-identifier hs-var">i</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_integer"><span class="hs-identifier hs-var">mk_integer</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683135814"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-3023"></span><span>                   </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsWordPrim"><span class="hs-identifier hs-type">HsWordPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsWordPrim GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135817"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683135817"><span class="hs-identifier hs-var">w</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_integer"><span class="hs-identifier hs-var">mk_integer</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683135817"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-3024"></span><span>                   </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsInt"><span class="hs-identifier hs-type">HsInt</span></a></span><span> </span><span class="annot"><span class="annottext">XHsInt GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135819"><span class="annot"><span class="annottext">IntegralLit
</span><a href="#local-6989586621683135819"><span class="hs-identifier hs-var">i</span></a></span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_integer"><span class="hs-identifier hs-var">mk_integer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntegralLit -&gt; Integer
</span><a href="GHC.Types.SourceText.html#il_value"><span class="hs-identifier hs-var">il_value</span></a></span><span> </span><span class="annot"><span class="annottext">IntegralLit
</span><a href="#local-6989586621683135819"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3025"></span><span>                   </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsFloatPrim"><span class="hs-identifier hs-type">HsFloatPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsFloatPrim GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135822"><span class="annot"><span class="annottext">FractionalLit
</span><a href="#local-6989586621683135822"><span class="hs-identifier hs-var">r</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FractionalLit -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_rational"><span class="hs-identifier hs-var">mk_rational</span></a></span><span> </span><span class="annot"><span class="annottext">FractionalLit
</span><a href="#local-6989586621683135822"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-3026"></span><span>                   </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsDoublePrim"><span class="hs-identifier hs-type">HsDoublePrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsDoublePrim GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135825"><span class="annot"><span class="annottext">FractionalLit
</span><a href="#local-6989586621683135825"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FractionalLit -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_rational"><span class="hs-identifier hs-var">mk_rational</span></a></span><span> </span><span class="annot"><span class="annottext">FractionalLit
</span><a href="#local-6989586621683135825"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-3027"></span><span>                   </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsCharPrim"><span class="hs-identifier hs-type">HsCharPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsCharPrim GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135827"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621683135827"><span class="hs-identifier hs-var">c</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_char"><span class="hs-identifier hs-var">mk_char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621683135827"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-3028"></span><span>                   </span><span class="annot"><span class="annottext">HsLit GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsLit GhcRn -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsLit GhcRn
</span><a href="#local-6989586621683135811"><span class="hs-identifier hs-var">lit</span></a></span><span>
</span><span id="line-3029"></span><span>       </span><span id="local-6989586621683135829"><span class="annot"><a href="#local-6989586621683135829"><span class="hs-identifier hs-var">lit_expr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-type">lift</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Match.Literal.html#dsLit"><span class="hs-identifier hs-type">dsLit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135812"><span class="hs-identifier hs-type">lit'</span></a></span><span>
</span><span id="line-3030"></span><span>       </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621683135831"><span class="hs-identifier hs-type">mb_lit_name</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-3031"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683135832"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135832"><span class="hs-identifier hs-var">lit_name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core Lit)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135832"><span class="hs-identifier hs-var">lit_name</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135829"><span class="hs-identifier hs-var">lit_expr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3032"></span><span>          </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; MetaM (Core Lit)
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLit GhcRn -&gt; ThRejectionReason
</span><a href="GHC.HsToCore.Errors.Types.html#ThExoticLiteral"><span class="hs-identifier hs-var">ThExoticLiteral</span></a></span><span> </span><span class="annot"><span class="annottext">HsLit GhcRn
</span><a href="#local-6989586621683135811"><span class="hs-identifier hs-var">lit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3033"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3034"></span><span>    </span><span id="local-6989586621683135831"><span class="annot"><span class="annottext">mb_lit_name :: Maybe Name
</span><a href="#local-6989586621683135831"><span class="hs-identifier hs-var hs-var">mb_lit_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsLit GhcRn
</span><a href="#local-6989586621683135811"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-3035"></span><span>                 </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsInteger"><span class="hs-identifier hs-type">HsInteger</span></a></span><span> </span><span class="annot"><span class="annottext">XHsInteger GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#integerLName"><span class="hs-identifier hs-var">integerLName</span></a></span><span>
</span><span id="line-3036"></span><span>                 </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsInt"><span class="hs-identifier hs-type">HsInt</span></a></span><span> </span><span class="annot"><span class="annottext">XHsInt GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">IntegralLit
</span><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#integerLName"><span class="hs-identifier hs-var">integerLName</span></a></span><span>
</span><span id="line-3037"></span><span>                 </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsIntPrim"><span class="hs-identifier hs-type">HsIntPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsIntPrim GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-identifier">_</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#intPrimLName"><span class="hs-identifier hs-var">intPrimLName</span></a></span><span>
</span><span id="line-3038"></span><span>                 </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsWordPrim"><span class="hs-identifier hs-type">HsWordPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsWordPrim GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#wordPrimLName"><span class="hs-identifier hs-var">wordPrimLName</span></a></span><span>
</span><span id="line-3039"></span><span>                 </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsFloatPrim"><span class="hs-identifier hs-type">HsFloatPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsFloatPrim GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">FractionalLit
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#floatPrimLName"><span class="hs-identifier hs-var">floatPrimLName</span></a></span><span>
</span><span id="line-3040"></span><span>                 </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsDoublePrim"><span class="hs-identifier hs-type">HsDoublePrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsDoublePrim GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">FractionalLit
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#doublePrimLName"><span class="hs-identifier hs-var">doublePrimLName</span></a></span><span>
</span><span id="line-3041"></span><span>                 </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsChar"><span class="hs-identifier hs-type">HsChar</span></a></span><span> </span><span class="annot"><span class="annottext">XHsChar GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#charLName"><span class="hs-identifier hs-var">charLName</span></a></span><span>
</span><span id="line-3042"></span><span>                 </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsCharPrim"><span class="hs-identifier hs-type">HsCharPrim</span></a></span><span> </span><span class="annot"><span class="annottext">XHsCharPrim GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#charPrimLName"><span class="hs-identifier hs-var">charPrimLName</span></a></span><span>
</span><span id="line-3043"></span><span>                 </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsString"><span class="hs-identifier hs-type">HsString</span></a></span><span> </span><span class="annot"><span class="annottext">XHsString GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#stringLName"><span class="hs-identifier hs-var">stringLName</span></a></span><span>
</span><span id="line-3044"></span><span>                 </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsMultilineString"><span class="hs-identifier hs-type">HsMultilineString</span></a></span><span> </span><span class="annot"><span class="annottext">XHsMultilineString GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#stringLName"><span class="hs-identifier hs-var">stringLName</span></a></span><span>
</span><span id="line-3045"></span><span>                 </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsRat"><span class="hs-identifier hs-type">HsRat</span></a></span><span> </span><span class="annot"><span class="annottext">XHsRat GhcRn
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">FractionalLit
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#rationalLName"><span class="hs-identifier hs-var">rationalLName</span></a></span><span>
</span><span id="line-3046"></span><span>                 </span><span class="annot"><span class="annottext">HsLit GhcRn
</span><span class="hs-identifier">_</span></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Name
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-3047"></span><span>
</span><span id="line-3048"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#mk_integer"><span class="hs-identifier hs-type">mk_integer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3049"></span><span id="mk_integer"><span class="annot"><span class="annottext">mk_integer :: Integer -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_integer"><span class="hs-identifier hs-var hs-var">mk_integer</span></a></span></span><span>  </span><span id="local-6989586621683135848"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683135848"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsLit GhcRn -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsLit GhcRn -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn))
-&gt; HsLit GhcRn -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XHsInteger GhcRn -&gt; Integer -&gt; Type -&gt; HsLit GhcRn
forall x. XHsInteger x -&gt; Integer -&gt; Type -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsInteger"><span class="hs-identifier hs-var">HsInteger</span></a></span><span> </span><span class="annot"><span class="annottext">XHsInteger GhcRn
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621683135848"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="GHC.Builtin.Types.html#integerTy"><span class="hs-identifier hs-var">integerTy</span></a></span><span>
</span><span id="line-3050"></span><span>
</span><span id="line-3051"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#mk_rational"><span class="hs-identifier hs-type">mk_rational</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SourceText.html#FractionalLit"><span class="hs-identifier hs-type">FractionalLit</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3052"></span><span id="mk_rational"><span class="annot"><span class="annottext">mk_rational :: FractionalLit -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_rational"><span class="hs-identifier hs-var hs-var">mk_rational</span></a></span></span><span> </span><span id="local-6989586621683135851"><span class="annot"><span class="annottext">FractionalLit
</span><a href="#local-6989586621683135851"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683135852"><span class="annot"><a href="#local-6989586621683135852"><span class="hs-identifier hs-var">rat_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#lookupType"><span class="hs-identifier hs-var">lookupType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.html#rationalTyConName"><span class="hs-identifier hs-var">rationalTyConName</span></a></span><span>
</span><span id="line-3053"></span><span>                   </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsRat"><span class="hs-identifier hs-type">HsRat</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135851"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135852"><span class="hs-identifier hs-type">rat_ty</span></a></span><span>
</span><span id="line-3054"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#mk_string"><span class="hs-identifier hs-type">mk_string</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3055"></span><span id="mk_string"><span class="annot"><span class="annottext">mk_string :: FastString -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_string"><span class="hs-identifier hs-var hs-var">mk_string</span></a></span></span><span> </span><span id="local-6989586621683135855"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683135855"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsLit GhcRn -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsLit GhcRn -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn))
-&gt; HsLit GhcRn -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XHsString GhcRn -&gt; FastString -&gt; HsLit GhcRn
forall x. XHsString x -&gt; FastString -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsString"><span class="hs-identifier hs-var">HsString</span></a></span><span> </span><span class="annot"><span class="annottext">XHsString GhcRn
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683135855"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-3056"></span><span>
</span><span id="line-3057"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#mk_char"><span class="hs-identifier hs-type">mk_char</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3058"></span><span id="mk_char"><span class="annot"><span class="annottext">mk_char :: Char -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_char"><span class="hs-identifier hs-var hs-var">mk_char</span></a></span></span><span> </span><span id="local-6989586621683135856"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621683135856"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsLit GhcRn -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(HsLit GhcRn -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn))
-&gt; HsLit GhcRn -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XHsChar GhcRn -&gt; Char -&gt; HsLit GhcRn
forall x. XHsChar x -&gt; Char -&gt; HsLit x
</span><a href="Language.Haskell.Syntax.Lit.html#HsChar"><span class="hs-identifier hs-var">HsChar</span></a></span><span> </span><span class="annot"><span class="annottext">XHsChar GhcRn
SourceText
</span><a href="GHC.Types.SourceText.html#NoSourceText"><span class="hs-identifier hs-var">NoSourceText</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621683135856"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-3059"></span><span>
</span><span id="line-3060"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repOverloadedLiteral"><span class="hs-identifier hs-type">repOverloadedLiteral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsOverLit"><span class="hs-identifier hs-type">HsOverLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Lit</span></span><span class="hs-special">)</span><span>
</span><span id="line-3061"></span><span id="repOverloadedLiteral"><span class="annot"><span class="annottext">repOverloadedLiteral :: HsOverLit GhcRn -&gt; MetaM (Core Lit)
</span><a href="GHC.HsToCore.Quote.html#repOverloadedLiteral"><span class="hs-identifier hs-var hs-var">repOverloadedLiteral</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#OverLit"><span class="hs-identifier hs-type">OverLit</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ol_val :: forall p. HsOverLit p -&gt; OverLitVal
</span><a href="Language.Haskell.Syntax.Lit.html#ol_val"><span class="hs-identifier hs-var">ol_val</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621683135858"><span class="annot"><span class="annottext">OverLitVal
</span><a href="#local-6989586621683135858"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-3062"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135859"><span class="annot"><a href="#local-6989586621683135859"><span class="hs-identifier hs-var">lit</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OverLitVal -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_lit"><span class="hs-identifier hs-var">mk_lit</span></a></span><span> </span><span class="annot"><span class="annottext">OverLitVal
</span><a href="#local-6989586621683135858"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repLiteral"><span class="hs-identifier hs-type">repLiteral</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135859"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-3063"></span><span>        </span><span class="hs-comment">-- The type Rational will be in the environment, because</span><span>
</span><span id="line-3064"></span><span>        </span><span class="hs-comment">-- the smart constructor 'TH.Syntax.rationalL' uses it in its type,</span><span>
</span><span id="line-3065"></span><span>        </span><span class="hs-comment">-- and rationalL is sucked in when any TH stuff is used</span><span>
</span><span id="line-3066"></span><span>
</span><span id="line-3067"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#mk_lit"><span class="hs-identifier hs-type">mk_lit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#OverLitVal"><span class="hs-identifier hs-type">OverLitVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3068"></span><span id="mk_lit"><span class="annot"><span class="annottext">mk_lit :: OverLitVal -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_lit"><span class="hs-identifier hs-var hs-var">mk_lit</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsIntegral"><span class="hs-identifier hs-type">HsIntegral</span></a></span><span> </span><span id="local-6989586621683135861"><span class="annot"><span class="annottext">IntegralLit
</span><a href="#local-6989586621683135861"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_integer"><span class="hs-identifier hs-var">mk_integer</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntegralLit -&gt; Integer
</span><a href="GHC.Types.SourceText.html#il_value"><span class="hs-identifier hs-var">il_value</span></a></span><span> </span><span class="annot"><span class="annottext">IntegralLit
</span><a href="#local-6989586621683135861"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3069"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#mk_lit"><span class="hs-identifier hs-var">mk_lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsFractional"><span class="hs-identifier hs-type">HsFractional</span></a></span><span> </span><span id="local-6989586621683135862"><span class="annot"><span class="annottext">FractionalLit
</span><a href="#local-6989586621683135862"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FractionalLit -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_rational"><span class="hs-identifier hs-var">mk_rational</span></a></span><span> </span><span class="annot"><span class="annottext">FractionalLit
</span><a href="#local-6989586621683135862"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-3070"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#mk_lit"><span class="hs-identifier hs-var">mk_lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Lit.html#HsIsString"><span class="hs-identifier hs-type">HsIsString</span></a></span><span> </span><span class="annot"><span class="annottext">SourceText
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621683135864"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683135864"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReaderT MetaWrappers DsM (HsLit GhcRn)
</span><a href="GHC.HsToCore.Quote.html#mk_string"><span class="hs-identifier hs-var">mk_string</span></a></span><span>   </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683135864"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-3071"></span><span>
</span><span id="line-3072"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repRdrName"><span class="hs-identifier hs-type">repRdrName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Reader.html#RdrName"><span class="hs-identifier hs-type">RdrName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-3073"></span><span id="repRdrName"><span class="annot"><span class="annottext">repRdrName :: RdrName -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#repRdrName"><span class="hs-identifier hs-var hs-var">repRdrName</span></a></span></span><span> </span><span id="local-6989586621683135865"><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683135865"><span class="hs-identifier hs-var">rdr_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3074"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">RdrName
</span><a href="#local-6989586621683135865"><span class="hs-identifier hs-var">rdr_name</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-3075"></span><span>    </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Unqual"><span class="hs-identifier hs-type">Unqual</span></a></span><span> </span><span id="local-6989586621683135867"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683135867"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-3076"></span><span>      </span><span class="annot"><span class="annottext">Core String -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#repNameS"><span class="hs-identifier hs-var">repNameS</span></a></span><span> </span><span class="annot"><span class="annottext">(Core String -&gt; MetaM (Core Name))
-&gt; ReaderT MetaWrappers DsM (Core String) -&gt; MetaM (Core Name)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; ReaderT MetaWrappers DsM (Core String)
forall (m :: * -&gt; *). MonadThings m =&gt; OccName -&gt; m (Core String)
</span><a href="GHC.HsToCore.Quote.html#occNameLit"><span class="hs-identifier hs-var">occNameLit</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683135867"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-3077"></span><span>    </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Qual"><span class="hs-identifier hs-type">Qual</span></a></span><span> </span><span id="local-6989586621683135870"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621683135870"><span class="hs-identifier hs-var">mn</span></a></span></span><span> </span><span id="local-6989586621683135871"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683135871"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3078"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621683135872"><span class="annot"><span class="annottext">name_mod :: FastString
</span><a href="#local-6989586621683135872"><span class="hs-identifier hs-var hs-var hs-var">name_mod</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; FastString
</span><a href="Language.Haskell.Syntax.Module.Name.html#moduleNameFS"><span class="hs-identifier hs-var">moduleNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621683135870"><span class="hs-identifier hs-var">mn</span></a></span><span>
</span><span id="line-3079"></span><span>      </span><span id="local-6989586621683135873"><span class="annot"><a href="#local-6989586621683135873"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReaderT MetaWrappers DsM (Core String)
forall (m :: * -&gt; *).
MonadThings m =&gt;
FastString -&gt; m (Core String)
</span><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-var">coreStringLit</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683135872"><span class="hs-identifier hs-var">name_mod</span></a></span><span>
</span><span id="line-3080"></span><span>      </span><span id="local-6989586621683135874"><span class="annot"><a href="#local-6989586621683135874"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#occNameLit"><span class="hs-identifier hs-type">occNameLit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135871"><span class="hs-identifier hs-type">occ</span></a></span><span>
</span><span id="line-3081"></span><span>      </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNameQ"><span class="hs-identifier hs-type">repNameQ</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135873"><span class="hs-identifier hs-type">mod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135874"><span class="hs-identifier hs-type">occ</span></a></span><span>
</span><span id="line-3082"></span><span>    </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Orig"><span class="hs-identifier hs-type">Orig</span></a></span><span> </span><span id="local-6989586621683135877"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621683135877"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621683135878"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683135878"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DsM (Core Name) -&gt; MetaM (Core Name)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(DsM (Core Name) -&gt; MetaM (Core Name))
-&gt; DsM (Core Name) -&gt; MetaM (Core Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Module -&gt; OccName -&gt; DsM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#globalVarExternal"><span class="hs-identifier hs-var">globalVarExternal</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621683135877"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621683135878"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-3083"></span><span>    </span><span class="annot"><a href="GHC.Types.Name.Reader.html#Exact"><span class="hs-identifier hs-type">Exact</span></a></span><span> </span><span id="local-6989586621683135880"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135880"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DsM (Core Name) -&gt; MetaM (Core Name)
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(DsM (Core Name) -&gt; MetaM (Core Name))
-&gt; DsM (Core Name) -&gt; MetaM (Core Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; DsM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#globalVar"><span class="hs-identifier hs-var">globalVar</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135880"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-3084"></span><span>
</span><span id="line-3085"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNameS"><span class="hs-identifier hs-type">repNameS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-3086"></span><span id="repNameS"><span class="annot"><span class="annottext">repNameS :: Core String -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#repNameS"><span class="hs-identifier hs-var hs-var">repNameS</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135881"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135881"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core Name)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#mkNameSName"><span class="hs-identifier hs-var">mkNameSName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135881"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3087"></span><span>
</span><span id="line-3088"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repNameQ"><span class="hs-identifier hs-type">repNameQ</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-3089"></span><span id="repNameQ"><span class="annot"><span class="annottext">repNameQ :: Core String -&gt; Core String -&gt; MetaM (Core Name)
</span><a href="GHC.HsToCore.Quote.html#repNameQ"><span class="hs-identifier hs-var hs-var">repNameQ</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135883"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135883"><span class="hs-identifier hs-var">mn</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135884"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135884"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core Name)
forall a. NotM a =&gt; Name -&gt; [CoreExpr] -&gt; MetaM (Core a)
</span><a href="GHC.HsToCore.Quote.html#rep2_nw"><span class="hs-identifier hs-var">rep2_nw</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#mkNameQName"><span class="hs-identifier hs-var">mkNameQName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135883"><span class="hs-identifier hs-var">mn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135884"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3090"></span><span>
</span><span id="line-3091"></span><span class="hs-comment">--------------- Miscellaneous -------------------</span><span>
</span><span id="line-3092"></span><span>
</span><span id="line-3093"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repGensym"><span class="hs-identifier hs-type">repGensym</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3094"></span><span id="repGensym"><span class="annot"><span class="annottext">repGensym :: Core String -&gt; MetaM (Core (M Name))
</span><a href="GHC.HsToCore.Quote.html#repGensym"><span class="hs-identifier hs-var hs-var">repGensym</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135886"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135886"><span class="hs-identifier hs-var">lit_str</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Name))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#newNameName"><span class="hs-identifier hs-var">newNameName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135886"><span class="hs-identifier hs-var">lit_str</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3095"></span><span>
</span><span id="line-3096"></span><span id="local-6989586621683131934"><span id="local-6989586621683131935"><span class="annot"><a href="GHC.HsToCore.Quote.html#repBindM"><span class="hs-identifier hs-type">repBindM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>        </span><span class="hs-comment">-- a and b</span><span>
</span><span id="line-3097"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131934"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683131934"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131935"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131935"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-3098"></span><span id="repBindM"><span class="annot"><span class="annottext">repBindM :: forall {k} a (b :: k).
Type -&gt; Type -&gt; Core (M a) -&gt; Core (a -&gt; M b) -&gt; MetaM (Core (M b))
</span><a href="GHC.HsToCore.Quote.html#repBindM"><span class="hs-identifier hs-var hs-var">repBindM</span></a></span></span><span> </span><span id="local-6989586621683135888"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135888"><span class="hs-identifier hs-var">ty_a</span></a></span></span><span> </span><span id="local-6989586621683135889"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135889"><span class="hs-identifier hs-var">ty_b</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135890"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135890"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135891"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135891"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-3099"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M b))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2M"><span class="hs-identifier hs-var">rep2M</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.html#bindMName"><span class="hs-identifier hs-var">bindMName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Type -&gt; CoreExpr
forall b. Type -&gt; Expr b
</span><a href="GHC.Core.html#Type"><span class="hs-identifier hs-var">Type</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135888"><span class="hs-identifier hs-var">ty_a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; CoreExpr
forall b. Type -&gt; Expr b
</span><a href="GHC.Core.html#Type"><span class="hs-identifier hs-var">Type</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135889"><span class="hs-identifier hs-var">ty_b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135890"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135891"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3100"></span><span>
</span><span id="line-3101"></span><span id="local-6989586621683131306"><span class="annot"><a href="GHC.HsToCore.Quote.html#repSequenceM"><span class="hs-identifier hs-type">repSequenceM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131306"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683131306"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-3102"></span><span id="repSequenceM"><span class="annot"><span class="annottext">repSequenceM :: forall a. Type -&gt; Core [M a] -&gt; MetaM (Core (M [a]))
</span><a href="GHC.HsToCore.Quote.html#repSequenceM"><span class="hs-identifier hs-var hs-var">repSequenceM</span></a></span></span><span> </span><span id="local-6989586621683135893"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135893"><span class="hs-identifier hs-var">ty_a</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135894"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135894"><span class="hs-identifier hs-var">list</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-3103"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M [a]))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2M"><span class="hs-identifier hs-var">rep2M</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#sequenceQName"><span class="hs-identifier hs-var">sequenceQName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Type -&gt; CoreExpr
forall b. Type -&gt; Expr b
</span><a href="GHC.Core.html#Type"><span class="hs-identifier hs-var">Type</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135893"><span class="hs-identifier hs-var">ty_a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135894"><span class="hs-identifier hs-var">list</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3104"></span><span>
</span><span id="line-3105"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repUnboundVar"><span class="hs-identifier hs-type">repUnboundVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3106"></span><span id="repUnboundVar"><span class="annot"><span class="annottext">repUnboundVar :: Core Name -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repUnboundVar"><span class="hs-identifier hs-var hs-var">repUnboundVar</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135896"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135896"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [CoreExpr] -&gt; MetaM (Core (M Exp))
forall {k} (a :: k). Name -&gt; [CoreExpr] -&gt; MetaM (Core (M a))
</span><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-var">rep2</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.TH.html#unboundVarEName"><span class="hs-identifier hs-var">unboundVarEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135896"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3107"></span><span>
</span><span id="line-3108"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repOverLabel"><span class="hs-identifier hs-type">repOverLabel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3109"></span><span id="repOverLabel"><span class="annot"><span class="annottext">repOverLabel :: FastString -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repOverLabel"><span class="hs-identifier hs-var hs-var">repOverLabel</span></a></span></span><span> </span><span id="local-6989586621683135898"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683135898"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3110"></span><span>                    </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135899"><span class="annot"><a href="#local-6989586621683135899"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReaderT MetaWrappers DsM (Core String)
forall (m :: * -&gt; *).
MonadThings m =&gt;
FastString -&gt; m (Core String)
</span><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-var">coreStringLit</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683135898"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-3111"></span><span>                    </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#labelEName"><span class="hs-identifier hs-type">labelEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135899"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3112"></span><span>
</span><span id="line-3113"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repGetField"><span class="hs-identifier hs-type">repGetField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3114"></span><span id="repGetField"><span class="annot"><span class="annottext">repGetField :: Core (M Exp) -&gt; FastString -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repGetField"><span class="hs-identifier hs-var hs-var">repGetField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135901"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135901"><span class="hs-identifier hs-var">exp</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621683135902"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683135902"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3115"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135903"><span class="annot"><a href="#local-6989586621683135903"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ReaderT MetaWrappers DsM (Core String)
forall (m :: * -&gt; *).
MonadThings m =&gt;
FastString -&gt; m (Core String)
</span><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-var">coreStringLit</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683135902"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-3116"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#getFieldEName"><span class="hs-identifier hs-type">getFieldEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135901"><span class="hs-identifier hs-type">exp</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621683135903"><span class="hs-identifier hs-type">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3117"></span><span>
</span><span id="line-3118"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repProjection"><span class="hs-identifier hs-type">repProjection</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#M"><span class="hs-identifier hs-type">M</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Exp</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3119"></span><span id="repProjection"><span class="annot"><span class="annottext">repProjection :: NonEmpty FastString -&gt; MetaM (Core (M Exp))
</span><a href="GHC.HsToCore.Quote.html#repProjection"><span class="hs-identifier hs-var hs-var">repProjection</span></a></span></span><span> </span><span id="local-6989586621683135905"><span class="annot"><span class="annottext">NonEmpty FastString
</span><a href="#local-6989586621683135905"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3120"></span><span>  </span><span id="local-6989586621683135906"><span class="annot"><a href="#local-6989586621683135906"><span class="hs-identifier hs-var">ne_tycon</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DsM TyCon -&gt; ReaderT MetaWrappers DsM TyCon
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(DsM TyCon -&gt; ReaderT MetaWrappers DsM TyCon)
-&gt; DsM TyCon -&gt; ReaderT MetaWrappers DsM TyCon
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; DsM TyCon
</span><a href="GHC.HsToCore.Monad.html#dsLookupTyCon"><span class="hs-identifier hs-var">dsLookupTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="GHC.Builtin.Names.html#nonEmptyTyConName"><span class="hs-identifier hs-var">nonEmptyTyConName</span></a></span><span>
</span><span id="line-3121"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135908"><span class="annot"><a href="#local-6989586621683135908"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListNonEmpty"><span class="hs-identifier hs-type">coreListNonEmpty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135906"><span class="hs-identifier hs-type">ne_tycon</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Types.html#stringTy"><span class="hs-identifier hs-type">stringTy</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span>
</span><span id="line-3122"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-type">coreStringLit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135905"><span class="hs-identifier hs-type">fs</span></a></span><span>
</span><span id="line-3123"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#rep2"><span class="hs-identifier hs-type">rep2</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.TH.html#projectionEName"><span class="hs-identifier hs-type">projectionEName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135908"><span class="hs-identifier hs-type">xs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-3124"></span><span>
</span><span id="line-3125"></span><span class="hs-comment">------------ Lists -------------------</span><span>
</span><span id="line-3126"></span><span class="hs-comment">-- turn a list of patterns into a single pattern matching a list</span><span>
</span><span id="line-3127"></span><span>
</span><span id="line-3128"></span><span id="local-6989586621683135912"><span id="local-6989586621683135913"><span class="annot"><a href="GHC.HsToCore.Quote.html#repList"><span class="hs-identifier hs-type">repList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683135912"><span class="hs-identifier hs-type">a</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135913"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3129"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135912"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135913"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-3130"></span><span id="repList"><span class="annot"><span class="annottext">repList :: forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repList"><span class="hs-identifier hs-var hs-var">repList</span></a></span></span><span> </span><span id="local-6989586621683135917"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135917"><span class="hs-identifier hs-var">tc_name</span></a></span></span><span> </span><span id="local-6989586621683135918"><span class="annot"><span class="annottext">a -&gt; MetaM (Core b)
</span><a href="#local-6989586621683135918"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621683135919"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621683135919"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-3131"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135920"><span class="annot"><a href="#local-6989586621683135920"><span class="hs-identifier hs-var">args1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(a -&gt; MetaM (Core b)) -&gt; [a] -&gt; ReaderT MetaWrappers DsM [Core b]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; MetaM (Core b)
</span><a href="#local-6989586621683135918"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621683135919"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-3132"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreList"><span class="hs-identifier hs-type">coreList</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135917"><span class="hs-identifier hs-type">tc_name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135920"><span class="hs-identifier hs-type">args1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-3133"></span><span>
</span><span id="line-3134"></span><span class="hs-comment">-- Create a list of m a values</span><span>
</span><span id="line-3135"></span><span id="local-6989586621683131304"><span id="local-6989586621683131305"><span class="annot"><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-type">repListM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683131304"><span class="hs-identifier hs-type">a</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131305"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3136"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683131304"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683131305"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-3137"></span><span id="repListM"><span class="annot"><span class="annottext">repListM :: forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-var hs-var">repListM</span></a></span></span><span> </span><span id="local-6989586621683135926"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135926"><span class="hs-identifier hs-var">tc_name</span></a></span></span><span> </span><span id="local-6989586621683135927"><span class="annot"><span class="annottext">a -&gt; MetaM (Core b)
</span><a href="#local-6989586621683135927"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621683135928"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621683135928"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-3138"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135929"><span class="annot"><a href="#local-6989586621683135929"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#wrapName"><span class="hs-identifier hs-var">wrapName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135926"><span class="hs-identifier hs-var">tc_name</span></a></span><span>
</span><span id="line-3139"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135930"><span class="annot"><a href="#local-6989586621683135930"><span class="hs-identifier hs-var">args1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="#local-6989586621683135927"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135928"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-3140"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreList%27"><span class="hs-identifier hs-type">coreList'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135929"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135930"><span class="hs-identifier hs-type">args1</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-3141"></span><span>
</span><span id="line-3142"></span><span id="local-6989586621683131874"><span id="local-6989586621683131875"><span class="annot"><a href="GHC.HsToCore.Quote.html#repNonEmptyM"><span class="hs-identifier hs-type">repNonEmptyM</span></a></span><span>
</span><span id="line-3143"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-3144"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683131874"><span class="hs-identifier hs-type">a</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131875"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3145"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="#local-6989586621683131874"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="#local-6989586621683131875"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-3146"></span><span id="repNonEmptyM"><span class="annot"><span class="annottext">repNonEmptyM :: forall a b.
Name
-&gt; (a -&gt; MetaM (Core b)) -&gt; NonEmpty a -&gt; MetaM (Core (NonEmpty b))
</span><a href="GHC.HsToCore.Quote.html#repNonEmptyM"><span class="hs-identifier hs-var hs-var">repNonEmptyM</span></a></span></span><span> </span><span id="local-6989586621683135939"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135939"><span class="hs-identifier hs-var">tc_name</span></a></span></span><span> </span><span id="local-6989586621683135940"><span class="annot"><span class="annottext">a -&gt; MetaM (Core b)
</span><a href="#local-6989586621683135940"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621683135941"><span class="annot"><span class="annottext">NonEmpty a
</span><a href="#local-6989586621683135941"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-3147"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135942"><span class="annot"><a href="#local-6989586621683135942"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#wrapName"><span class="hs-identifier hs-var">wrapName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135939"><span class="hs-identifier hs-var">tc_name</span></a></span><span>
</span><span id="line-3148"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135943"><span class="annot"><a href="#local-6989586621683135943"><span class="hs-identifier hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span> </span><span class="annot"><a href="#local-6989586621683135940"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135941"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-3149"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621683135945"><span class="annot"><a href="#local-6989586621683135945"><span class="hs-identifier hs-var">ne_tycon</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-type">lift</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Monad.html#dsLookupTyCon"><span class="hs-identifier hs-type">dsLookupTyCon</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.Names.html#nonEmptyTyConName"><span class="hs-identifier hs-type">nonEmptyTyConName</span></a></span><span> </span><span class="hs-comment">-- the DataCon is not known-key</span><span>
</span><span id="line-3150"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListNonEmpty"><span class="hs-identifier hs-type">coreListNonEmpty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135945"><span class="hs-identifier hs-type">ne_tycon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135942"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135943"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-3151"></span><span>
</span><span id="line-3152"></span><span id="local-6989586621683135946"><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-type">coreListM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135946"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683135946"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span><span>
</span><span id="line-3153"></span><span id="coreListM"><span class="annot"><span class="annottext">coreListM :: forall a. Name -&gt; [Core a] -&gt; MetaM (Core [a])
</span><a href="GHC.HsToCore.Quote.html#coreListM"><span class="hs-identifier hs-var hs-var">coreListM</span></a></span></span><span> </span><span id="local-6989586621683135948"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135948"><span class="hs-identifier hs-var">tc</span></a></span></span><span> </span><span id="local-6989586621683135949"><span class="annot"><span class="annottext">[Core a]
</span><a href="#local-6989586621683135949"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; (Core a -&gt; MetaM (Core a)) -&gt; [Core a] -&gt; MetaM (Core [a])
forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; [a] -&gt; MetaM (Core [b])
</span><a href="GHC.HsToCore.Quote.html#repListM"><span class="hs-identifier hs-var">repListM</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135948"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">Core a -&gt; MetaM (Core a)
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">[Core a]
</span><a href="#local-6989586621683135949"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-3154"></span><span>
</span><span id="line-3155"></span><span id="local-6989586621683131373"><span class="annot"><a href="GHC.HsToCore.Quote.html#coreList"><span class="hs-identifier hs-type">coreList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>    </span><span class="hs-comment">-- Of the TyCon of the element type</span><span>
</span><span id="line-3156"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131373"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683131373"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span><span>
</span><span id="line-3157"></span><span id="coreList"><span class="annot"><span class="annottext">coreList :: forall a. Name -&gt; [Core a] -&gt; MetaM (Core [a])
</span><a href="GHC.HsToCore.Quote.html#coreList"><span class="hs-identifier hs-var hs-var">coreList</span></a></span></span><span> </span><span id="local-6989586621683135952"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135952"><span class="hs-identifier hs-var">tc_name</span></a></span></span><span> </span><span id="local-6989586621683135953"><span class="annot"><span class="annottext">[Core a]
</span><a href="#local-6989586621683135953"><span class="hs-identifier hs-var">es</span></a></span></span><span>
</span><span id="line-3158"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135954"><span class="annot"><a href="#local-6989586621683135954"><span class="hs-identifier hs-var">elt_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#lookupType"><span class="hs-identifier hs-var">lookupType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135952"><span class="hs-identifier hs-var">tc_name</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreList%27"><span class="hs-identifier hs-type">coreList'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135954"><span class="hs-identifier hs-type">elt_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135953"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-3159"></span><span>
</span><span id="line-3160"></span><span id="local-6989586621683131730"><span class="annot"><a href="GHC.HsToCore.Quote.html#coreList%27"><span class="hs-identifier hs-type">coreList'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>       </span><span class="hs-comment">-- The element type</span><span>
</span><span id="line-3161"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131730"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683131730"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-3162"></span><span id="coreList%27"><span class="annot"><span class="annottext">coreList' :: forall a. Type -&gt; [Core a] -&gt; Core [a]
</span><a href="GHC.HsToCore.Quote.html#coreList%27"><span class="hs-identifier hs-var hs-var">coreList'</span></a></span></span><span> </span><span id="local-6989586621683135955"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135955"><span class="hs-identifier hs-var">elt_ty</span></a></span></span><span> </span><span id="local-6989586621683135956"><span class="annot"><span class="annottext">[Core a]
</span><a href="#local-6989586621683135956"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoreExpr -&gt; Core [a]
forall {k} (a :: k). CoreExpr -&gt; Core a
</span><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-var">MkC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; [CoreExpr] -&gt; CoreExpr
</span><a href="GHC.Core.Make.html#mkListExpr"><span class="hs-identifier hs-var">mkListExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135955"><span class="hs-identifier hs-var">elt_ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Core a -&gt; CoreExpr) -&gt; [Core a] -&gt; [CoreExpr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Core a -&gt; CoreExpr
forall {k} (a :: k). Core a -&gt; CoreExpr
</span><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-var">unC</span></a></span><span> </span><span class="annot"><span class="annottext">[Core a]
</span><a href="#local-6989586621683135956"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3163"></span><span>
</span><span id="line-3164"></span><span id="local-6989586621683132018"><span class="annot"><a href="GHC.HsToCore.Quote.html#coreListNonEmpty"><span class="hs-identifier hs-type">coreListNonEmpty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span> </span><span class="hs-comment">-- TyCon for NonEmpty</span><span>
</span><span id="line-3165"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>  </span><span class="hs-comment">-- Element type</span><span>
</span><span id="line-3166"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683132018"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3167"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="#local-6989586621683132018"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-3168"></span><span id="coreListNonEmpty"><span class="annot"><span class="annottext">coreListNonEmpty :: forall a. TyCon -&gt; Type -&gt; NonEmpty (Core a) -&gt; Core (NonEmpty a)
</span><a href="GHC.HsToCore.Quote.html#coreListNonEmpty"><span class="hs-identifier hs-var hs-var">coreListNonEmpty</span></a></span></span><span> </span><span id="local-6989586621683135957"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683135957"><span class="hs-identifier hs-var">ne_tc</span></a></span></span><span> </span><span id="local-6989586621683135958"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135958"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135959"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135959"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:|</span></span><span> </span><span id="local-6989586621683135961"><span class="annot"><span class="annottext">[Core a]
</span><a href="#local-6989586621683135961"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-3169"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoreExpr -&gt; Core (NonEmpty a)
forall {k} (a :: k). CoreExpr -&gt; Core a
</span><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-var">MkC</span></a></span><span> </span><span class="annot"><span class="annottext">(CoreExpr -&gt; Core (NonEmpty a)) -&gt; CoreExpr -&gt; Core (NonEmpty a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DataCon -&gt; [CoreExpr] -&gt; CoreExpr
</span><a href="GHC.Core.Make.html#mkCoreConApps"><span class="hs-identifier hs-var">mkCoreConApps</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; DataCon
</span><a href="GHC.Core.TyCon.html#tyConSingleDataCon"><span class="hs-identifier hs-var">tyConSingleDataCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621683135957"><span class="hs-identifier hs-var">ne_tc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3170"></span><span>          </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Type -&gt; CoreExpr
forall b. Type -&gt; Expr b
</span><a href="GHC.Core.html#Type"><span class="hs-identifier hs-var">Type</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135958"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135959"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type -&gt; [CoreExpr] -&gt; CoreExpr
</span><a href="GHC.Core.Make.html#mkListExpr"><span class="hs-identifier hs-var">mkListExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135958"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Core a -&gt; CoreExpr) -&gt; [Core a] -&gt; [CoreExpr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Core a -&gt; CoreExpr
forall {k} (a :: k). Core a -&gt; CoreExpr
</span><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-var">unC</span></a></span><span> </span><span class="annot"><span class="annottext">[Core a]
</span><a href="#local-6989586621683135961"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3171"></span><span>
</span><span id="line-3172"></span><span id="local-6989586621683131717"><span class="annot"><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList"><span class="hs-identifier hs-type">nonEmptyCoreList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131717"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683131717"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-3173"></span><span>  </span><span class="hs-comment">-- The list must be non-empty so we can get the element type</span><span>
</span><span id="line-3174"></span><span>  </span><span class="hs-comment">-- Otherwise use coreList</span><span>
</span><span id="line-3175"></span><span id="nonEmptyCoreList"><span class="annot"><span class="annottext">nonEmptyCoreList :: forall a. [Core a] -&gt; Core [a]
</span><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList"><span class="hs-identifier hs-var hs-var">nonEmptyCoreList</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Core [a]
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;coreList: empty argument&quot;</span></span><span>
</span><span id="line-3176"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList"><span class="hs-identifier hs-var">nonEmptyCoreList</span></a></span><span> </span><span id="local-6989586621683135966"><span class="annot"><span class="annottext">xs :: [Core a]
</span><a href="#local-6989586621683135966"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135967"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135967"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Core a]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoreExpr -&gt; Core [a]
forall {k} (a :: k). CoreExpr -&gt; Core a
</span><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-var">MkC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; [CoreExpr] -&gt; CoreExpr
</span><a href="GHC.Core.Make.html#mkListExpr"><span class="hs-identifier hs-var">mkListExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; CoreExpr -&gt; Type
CoreExpr -&gt; Type
</span><a href="GHC.Core.Utils.html#exprType"><span class="hs-identifier hs-var">exprType</span></a></span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135967"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Core a -&gt; CoreExpr) -&gt; [Core a] -&gt; [CoreExpr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Core a -&gt; CoreExpr
forall {k} (a :: k). Core a -&gt; CoreExpr
</span><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-var">unC</span></a></span><span> </span><span class="annot"><span class="annottext">[Core a]
</span><a href="#local-6989586621683135966"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3177"></span><span>
</span><span id="line-3178"></span><span id="local-6989586621683131983"><span class="annot"><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList%27"><span class="hs-identifier hs-type">nonEmptyCoreList'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131983"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683131983"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-3179"></span><span id="nonEmptyCoreList%27"><span class="annot"><span class="annottext">nonEmptyCoreList' :: forall a. NonEmpty (Core a) -&gt; Core [a]
</span><a href="GHC.HsToCore.Quote.html#nonEmptyCoreList%27"><span class="hs-identifier hs-var hs-var">nonEmptyCoreList'</span></a></span></span><span> </span><span id="local-6989586621683135970"><span class="annot"><span class="annottext">xs :: NonEmpty (Core a)
</span><a href="#local-6989586621683135970"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span id="local-6989586621683135971"><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135971"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-operator hs-type">:|</span></span><span class="annot"><span class="annottext">[Core a]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoreExpr -&gt; Core [a]
forall {k} (a :: k). CoreExpr -&gt; Core a
</span><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-var">MkC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; [CoreExpr] -&gt; CoreExpr
</span><a href="GHC.Core.Make.html#mkListExpr"><span class="hs-identifier hs-var">mkListExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HasDebugCallStack =&gt; CoreExpr -&gt; Type
CoreExpr -&gt; Type
</span><a href="GHC.Core.Utils.html#exprType"><span class="hs-identifier hs-var">exprType</span></a></span><span> </span><span class="annot"><span class="annottext">CoreExpr
</span><a href="#local-6989586621683135971"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NonEmpty CoreExpr -&gt; [CoreExpr]
forall a. NonEmpty a -&gt; [a]
</span><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html#toList"><span class="hs-identifier hs-var">toList</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmpty CoreExpr -&gt; [CoreExpr])
-&gt; NonEmpty CoreExpr -&gt; [CoreExpr]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Core a -&gt; CoreExpr) -&gt; NonEmpty (Core a) -&gt; NonEmpty CoreExpr
forall a b. (a -&gt; b) -&gt; NonEmpty a -&gt; NonEmpty b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Core a -&gt; CoreExpr
forall {k} (a :: k). Core a -&gt; CoreExpr
</span><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-var">unC</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty (Core a)
</span><a href="#local-6989586621683135970"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3180"></span><span>
</span><span id="line-3181"></span><span id="local-6989586621683131481"><span class="annot"><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-type">coreStringLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#MonadThings"><span class="hs-identifier hs-type">MonadThings</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131481"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621683131481"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span></span><span>
</span><span id="line-3182"></span><span id="coreStringLit"><span class="annot"><span class="annottext">coreStringLit :: forall (m :: * -&gt; *).
MonadThings m =&gt;
FastString -&gt; m (Core String)
</span><a href="GHC.HsToCore.Quote.html#coreStringLit"><span class="hs-identifier hs-var hs-var">coreStringLit</span></a></span></span><span> </span><span id="local-6989586621683135978"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683135978"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135979"><span class="annot"><a href="#local-6989586621683135979"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; m CoreExpr
forall (m :: * -&gt; *). MonadThings m =&gt; FastString -&gt; m CoreExpr
</span><a href="GHC.Core.Make.html#mkStringExprFS"><span class="hs-identifier hs-var">mkStringExprFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621683135978"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135979"><span class="hs-identifier hs-type">z</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-3183"></span><span>
</span><span id="line-3184"></span><span class="hs-comment">------------------- Maybe ------------------</span><span>
</span><span id="line-3185"></span><span>
</span><span id="line-3186"></span><span id="local-6989586621683131578"><span id="local-6989586621683131579"><span class="annot"><a href="GHC.HsToCore.Quote.html#repMaybe"><span class="hs-identifier hs-type">repMaybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683131578"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131579"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3187"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621683131578"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621683131579"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-3188"></span><span id="repMaybe"><span class="annot"><span class="annottext">repMaybe :: forall a b.
Name -&gt; (a -&gt; MetaM (Core b)) -&gt; Maybe a -&gt; MetaM (Core (Maybe b))
</span><a href="GHC.HsToCore.Quote.html#repMaybe"><span class="hs-identifier hs-var hs-var">repMaybe</span></a></span></span><span> </span><span id="local-6989586621683135981"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135981"><span class="hs-identifier hs-var">tc_name</span></a></span></span><span> </span><span id="local-6989586621683135982"><span class="annot"><span class="annottext">a -&gt; MetaM (Core b)
</span><a href="#local-6989586621683135982"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621683135983"><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621683135983"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3189"></span><span>  </span><span id="local-6989586621683135984"><span class="annot"><a href="#local-6989586621683135984"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#lookupType"><span class="hs-identifier hs-var">lookupType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135981"><span class="hs-identifier hs-var">tc_name</span></a></span><span>
</span><span id="line-3190"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMaybeT"><span class="hs-identifier hs-type">repMaybeT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135984"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135982"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135983"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-3191"></span><span>
</span><span id="line-3192"></span><span id="local-6989586621683131678"><span id="local-6989586621683131679"><span class="annot"><a href="GHC.HsToCore.Quote.html#repMaybeT"><span class="hs-identifier hs-type">repMaybeT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621683131678"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131679"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3193"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621683131678"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621683131679"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-3194"></span><span id="repMaybeT"><span class="annot"><span class="annottext">repMaybeT :: forall a b.
Type -&gt; (a -&gt; MetaM (Core b)) -&gt; Maybe a -&gt; MetaM (Core (Maybe b))
</span><a href="GHC.HsToCore.Quote.html#repMaybeT"><span class="hs-identifier hs-var hs-var">repMaybeT</span></a></span></span><span> </span><span id="local-6989586621683135987"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135987"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; MetaM (Core b)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Core (Maybe b) -&gt; ReaderT MetaWrappers DsM (Core (Maybe b))
forall a. a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Core (Maybe b) -&gt; ReaderT MetaWrappers DsM (Core (Maybe b)))
-&gt; Core (Maybe b) -&gt; ReaderT MetaWrappers DsM (Core (Maybe b))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Core (Maybe b)
forall a. Type -&gt; Core (Maybe a)
</span><a href="GHC.HsToCore.Quote.html#coreNothing%27"><span class="hs-identifier hs-var">coreNothing'</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135987"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-3195"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#repMaybeT"><span class="hs-identifier hs-var">repMaybeT</span></a></span><span> </span><span id="local-6989586621683135988"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135988"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621683135989"><span class="annot"><span class="annottext">a -&gt; MetaM (Core b)
</span><a href="#local-6989586621683135989"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621683135990"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683135990"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Core b -&gt; Core (Maybe b)
forall a. Type -&gt; Core a -&gt; Core (Maybe a)
</span><a href="GHC.HsToCore.Quote.html#coreJust%27"><span class="hs-identifier hs-var">coreJust'</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683135988"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">(Core b -&gt; Core (Maybe b))
-&gt; MetaM (Core b) -&gt; ReaderT MetaWrappers DsM (Core (Maybe b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; MetaM (Core b)
</span><a href="#local-6989586621683135989"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621683135990"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-3196"></span><span>
</span><span id="line-3197"></span><span class="annot"><span class="hs-comment">-- | Construct Core expression for Nothing of a given type name</span></span><span>
</span><span id="line-3198"></span><span id="local-6989586621683135991"><span class="annot"><a href="GHC.HsToCore.Quote.html#coreNothing"><span class="hs-identifier hs-type">coreNothing</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ Name of the TyCon of the element type</span></span><span>
</span><span id="line-3199"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621683135991"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-3200"></span><span id="coreNothing"><span class="annot"><span class="annottext">coreNothing :: forall a. Name -&gt; MetaM (Core (Maybe a))
</span><a href="GHC.HsToCore.Quote.html#coreNothing"><span class="hs-identifier hs-var hs-var">coreNothing</span></a></span></span><span> </span><span id="local-6989586621683135994"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135994"><span class="hs-identifier hs-var">tc_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3201"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135995"><span class="annot"><a href="#local-6989586621683135995"><span class="hs-identifier hs-var">elt_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#lookupType"><span class="hs-identifier hs-var">lookupType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135994"><span class="hs-identifier hs-var">tc_name</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreNothing%27"><span class="hs-identifier hs-type">coreNothing'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135995"><span class="hs-identifier hs-type">elt_ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-3202"></span><span>
</span><span id="line-3203"></span><span id="local-6989586621683131413"><span class="annot"><a href="GHC.HsToCore.Quote.html#coreNothingM"><span class="hs-identifier hs-type">coreNothingM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621683131413"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-3204"></span><span id="coreNothingM"><span class="annot"><span class="annottext">coreNothingM :: forall a. Name -&gt; MetaM (Core (Maybe a))
</span><a href="GHC.HsToCore.Quote.html#coreNothingM"><span class="hs-identifier hs-var hs-var">coreNothingM</span></a></span></span><span> </span><span id="local-6989586621683135998"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135998"><span class="hs-identifier hs-var">tc_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3205"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683135999"><span class="annot"><a href="#local-6989586621683135999"><span class="hs-identifier hs-var">elt_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#wrapName"><span class="hs-identifier hs-var">wrapName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683135998"><span class="hs-identifier hs-var">tc_name</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreNothing%27"><span class="hs-identifier hs-type">coreNothing'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683135999"><span class="hs-identifier hs-type">elt_ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-3206"></span><span>
</span><span id="line-3207"></span><span class="annot"><span class="hs-comment">-- | Construct Core expression for Nothing of a given type</span></span><span>
</span><span id="line-3208"></span><span id="local-6989586621683131506"><span class="annot"><a href="GHC.HsToCore.Quote.html#coreNothing%27"><span class="hs-identifier hs-type">coreNothing'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ The element type</span></span><span>
</span><span id="line-3209"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621683131506"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-3210"></span><span id="coreNothing%27"><span class="annot"><span class="annottext">coreNothing' :: forall a. Type -&gt; Core (Maybe a)
</span><a href="GHC.HsToCore.Quote.html#coreNothing%27"><span class="hs-identifier hs-var hs-var">coreNothing'</span></a></span></span><span> </span><span id="local-6989586621683136000"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683136000"><span class="hs-identifier hs-var">elt_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoreExpr -&gt; Core (Maybe a)
forall {k} (a :: k). CoreExpr -&gt; Core a
</span><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-var">MkC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; CoreExpr
</span><a href="GHC.Core.Make.html#mkNothingExpr"><span class="hs-identifier hs-var">mkNothingExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683136000"><span class="hs-identifier hs-var">elt_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3211"></span><span>
</span><span id="line-3212"></span><span class="annot"><span class="hs-comment">-- | Store given Core expression in a Just of a given type name</span></span><span>
</span><span id="line-3213"></span><span id="local-6989586621683136002"><span class="annot"><a href="GHC.HsToCore.Quote.html#coreJust"><span class="hs-identifier hs-type">coreJust</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ Name of the TyCon of the element type</span></span><span>
</span><span id="line-3214"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683136002"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621683136002"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-3215"></span><span id="coreJust"><span class="annot"><span class="annottext">coreJust :: forall a. Name -&gt; Core a -&gt; MetaM (Core (Maybe a))
</span><a href="GHC.HsToCore.Quote.html#coreJust"><span class="hs-identifier hs-var hs-var">coreJust</span></a></span></span><span> </span><span id="local-6989586621683136005"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683136005"><span class="hs-identifier hs-var">tc_name</span></a></span></span><span> </span><span id="local-6989586621683136006"><span class="annot"><span class="annottext">Core a
</span><a href="#local-6989586621683136006"><span class="hs-identifier hs-var">es</span></a></span></span><span>
</span><span id="line-3216"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683136007"><span class="annot"><a href="#local-6989586621683136007"><span class="hs-identifier hs-var">elt_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#lookupType"><span class="hs-identifier hs-var">lookupType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683136005"><span class="hs-identifier hs-var">tc_name</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreJust%27"><span class="hs-identifier hs-type">coreJust'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683136007"><span class="hs-identifier hs-type">elt_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683136006"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-3217"></span><span>
</span><span id="line-3218"></span><span id="local-6989586621683131414"><span class="annot"><a href="GHC.HsToCore.Quote.html#coreJustM"><span class="hs-identifier hs-type">coreJustM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131414"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621683131414"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-3219"></span><span id="coreJustM"><span class="annot"><span class="annottext">coreJustM :: forall a. Name -&gt; Core a -&gt; MetaM (Core (Maybe a))
</span><a href="GHC.HsToCore.Quote.html#coreJustM"><span class="hs-identifier hs-var hs-var">coreJustM</span></a></span></span><span> </span><span id="local-6989586621683136010"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683136010"><span class="hs-identifier hs-var">tc_name</span></a></span></span><span> </span><span id="local-6989586621683136011"><span class="annot"><span class="annottext">Core a
</span><a href="#local-6989586621683136011"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621683136012"><span class="annot"><a href="#local-6989586621683136012"><span class="hs-identifier hs-var">elt_ty</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; MetaM Type
</span><a href="GHC.HsToCore.Quote.html#wrapName"><span class="hs-identifier hs-var">wrapName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621683136010"><span class="hs-identifier hs-var">tc_name</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreJust%27"><span class="hs-identifier hs-type">coreJust'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683136012"><span class="hs-identifier hs-type">elt_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683136011"><span class="hs-identifier hs-type">es</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-3220"></span><span>
</span><span id="line-3221"></span><span class="annot"><span class="hs-comment">-- | Store given Core expression in a Just of a given type</span></span><span>
</span><span id="line-3222"></span><span id="local-6989586621683131507"><span class="annot"><a href="GHC.HsToCore.Quote.html#coreJust%27"><span class="hs-identifier hs-type">coreJust'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ The element type</span></span><span>
</span><span id="line-3223"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131507"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621683131507"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-3224"></span><span id="coreJust%27"><span class="annot"><span class="annottext">coreJust' :: forall a. Type -&gt; Core a -&gt; Core (Maybe a)
</span><a href="GHC.HsToCore.Quote.html#coreJust%27"><span class="hs-identifier hs-var hs-var">coreJust'</span></a></span></span><span> </span><span id="local-6989586621683136013"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683136013"><span class="hs-identifier hs-var">elt_ty</span></a></span></span><span> </span><span id="local-6989586621683136014"><span class="annot"><span class="annottext">Core a
</span><a href="#local-6989586621683136014"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoreExpr -&gt; Core (Maybe a)
forall {k} (a :: k). CoreExpr -&gt; Core a
</span><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-var">MkC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; CoreExpr -&gt; CoreExpr
</span><a href="GHC.Core.Make.html#mkJustExpr"><span class="hs-identifier hs-var">mkJustExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683136013"><span class="hs-identifier hs-var">elt_ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Core a -&gt; CoreExpr
forall {k} (a :: k). Core a -&gt; CoreExpr
</span><a href="GHC.HsToCore.Quote.html#unC"><span class="hs-identifier hs-var">unC</span></a></span><span> </span><span class="annot"><span class="annottext">Core a
</span><a href="#local-6989586621683136014"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3225"></span><span>
</span><span id="line-3226"></span><span class="hs-comment">------------------- Maybe Lists ------------------</span><span>
</span><span id="line-3227"></span><span>
</span><span id="line-3228"></span><span id="local-6989586621683131591"><span class="annot"><a href="GHC.HsToCore.Quote.html#coreJustList"><span class="hs-identifier hs-type">coreJustList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683131591"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683131591"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span><span>
</span><span id="line-3229"></span><span id="coreJustList"><span class="annot"><span class="annottext">coreJustList :: forall a. Type -&gt; Core [a] -&gt; Core (Maybe [a])
</span><a href="GHC.HsToCore.Quote.html#coreJustList"><span class="hs-identifier hs-var hs-var">coreJustList</span></a></span></span><span> </span><span id="local-6989586621683136016"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683136016"><span class="hs-identifier hs-var">elt_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Core [a] -&gt; Core (Maybe [a])
forall a. Type -&gt; Core a -&gt; Core (Maybe a)
</span><a href="GHC.HsToCore.Quote.html#coreJust%27"><span class="hs-identifier hs-var">coreJust'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="GHC.Builtin.Types.html#mkListTy"><span class="hs-identifier hs-var">mkListTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683136016"><span class="hs-identifier hs-var">elt_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3230"></span><span>
</span><span id="line-3231"></span><span id="local-6989586621683131590"><span class="annot"><a href="GHC.HsToCore.Quote.html#coreNothingList"><span class="hs-identifier hs-type">coreNothingList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621683131590"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span><span>
</span><span id="line-3232"></span><span id="coreNothingList"><span class="annot"><span class="annottext">coreNothingList :: forall a. Type -&gt; Core (Maybe [a])
</span><a href="GHC.HsToCore.Quote.html#coreNothingList"><span class="hs-identifier hs-var hs-var">coreNothingList</span></a></span></span><span> </span><span id="local-6989586621683136017"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683136017"><span class="hs-identifier hs-var">elt_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Core (Maybe [a])
forall a. Type -&gt; Core (Maybe a)
</span><a href="GHC.HsToCore.Quote.html#coreNothing%27"><span class="hs-identifier hs-var">coreNothing'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="GHC.Builtin.Types.html#mkListTy"><span class="hs-identifier hs-var">mkListTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621683136017"><span class="hs-identifier hs-var">elt_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3233"></span><span>
</span><span id="line-3234"></span><span class="hs-comment">------------ Literals &amp; Variables -------------------</span><span>
</span><span id="line-3235"></span><span>
</span><span id="line-3236"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreIntLit"><span class="hs-identifier hs-type">coreIntLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-3237"></span><span id="coreIntLit"><span class="annot"><span class="annottext">coreIntLit :: Int -&gt; MetaM (Core Int)
</span><a href="GHC.HsToCore.Quote.html#coreIntLit"><span class="hs-identifier hs-var hs-var">coreIntLit</span></a></span></span><span> </span><span id="local-6989586621683136018"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621683136018"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621683136019"><span class="annot"><a href="#local-6989586621683136019"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MetaM Platform
</span><a href="GHC.HsToCore.Quote.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-3238"></span><span>                  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-type">MkC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.Make.html#mkIntExprInt"><span class="hs-identifier hs-type">mkIntExprInt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683136019"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683136018"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3239"></span><span>
</span><span id="line-3240"></span><span class="annot"><a href="GHC.HsToCore.Quote.html#coreVar"><span class="hs-identifier hs-type">coreVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#Core"><span class="hs-identifier hs-type">Core</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">TH.Name</span></span><span>   </span><span class="hs-comment">-- The Id has type Name</span><span>
</span><span id="line-3241"></span><span id="coreVar"><span class="annot"><span class="annottext">coreVar :: Id -&gt; Core Name
</span><a href="GHC.HsToCore.Quote.html#coreVar"><span class="hs-identifier hs-var hs-var">coreVar</span></a></span></span><span> </span><span id="local-6989586621683136020"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683136020"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CoreExpr -&gt; Core Name
forall {k} (a :: k). CoreExpr -&gt; Core a
</span><a href="GHC.HsToCore.Quote.html#MkC"><span class="hs-identifier hs-var">MkC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; CoreExpr
forall b. Id -&gt; Expr b
</span><a href="GHC.Core.html#Var"><span class="hs-identifier hs-var">Var</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621683136020"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3242"></span><span>
</span><span id="line-3243"></span><span class="hs-comment">----------------- Failure -----------------------</span><span>
</span><span id="line-3244"></span><span id="local-6989586621683131308"><span class="annot"><a href="GHC.HsToCore.Quote.html#notHandledL"><span class="hs-identifier hs-type">notHandledL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Errors.Types.html#ThRejectionReason"><span class="hs-identifier hs-type">ThRejectionReason</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131308"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-3245"></span><span id="notHandledL"><span class="annot"><span class="annottext">notHandledL :: forall a. SrcSpan -&gt; ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandledL"><span class="hs-identifier hs-var hs-var">notHandledL</span></a></span></span><span> </span><span id="local-6989586621683136021"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683136021"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621683136022"><span class="annot"><span class="annottext">ThRejectionReason
</span><a href="#local-6989586621683136022"><span class="hs-identifier hs-var">reason</span></a></span></span><span>
</span><span id="line-3246"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; Bool
</span><a href="GHC.Types.SrcLoc.html#isGoodSrcSpan"><span class="hs-identifier hs-var">isGoodSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683136021"><span class="hs-identifier hs-var">loc</span></a></span><span>
</span><span id="line-3247"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IOEnv (Env DsGblEnv DsLclEnv) a
 -&gt; IOEnv (Env DsGblEnv DsLclEnv) a)
-&gt; ReaderT MetaWrappers DsM a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a (n :: * -&gt; *) b r.
(m a -&gt; n b) -&gt; ReaderT r m a -&gt; ReaderT r n b
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Reader.html#mapReaderT"><span class="hs-identifier hs-var">mapReaderT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan
-&gt; IOEnv (Env DsGblEnv DsLclEnv) a
-&gt; IOEnv (Env DsGblEnv DsLclEnv) a
forall a. SrcSpan -&gt; DsM a -&gt; DsM a
</span><a href="GHC.HsToCore.Monad.html#putSrcSpanDs"><span class="hs-identifier hs-var">putSrcSpanDs</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621683136021"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ReaderT MetaWrappers DsM a -&gt; ReaderT MetaWrappers DsM a)
-&gt; ReaderT MetaWrappers DsM a -&gt; ReaderT MetaWrappers DsM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; ReaderT MetaWrappers DsM a
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="annot"><span class="annottext">ThRejectionReason
</span><a href="#local-6989586621683136022"><span class="hs-identifier hs-var">reason</span></a></span><span>
</span><span id="line-3248"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-3249"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ThRejectionReason -&gt; ReaderT MetaWrappers DsM a
forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var">notHandled</span></a></span><span> </span><span class="annot"><span class="annottext">ThRejectionReason
</span><a href="#local-6989586621683136022"><span class="hs-identifier hs-var">reason</span></a></span><span>
</span><span id="line-3250"></span><span>
</span><span id="line-3251"></span><span id="local-6989586621683131403"><span class="annot"><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-type">notHandled</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Errors.Types.html#ThRejectionReason"><span class="hs-identifier hs-type">ThRejectionReason</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Quote.html#MetaM"><span class="hs-identifier hs-type">MetaM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621683131403"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-3252"></span><span id="notHandled"><span class="annot"><span class="annottext">notHandled :: forall a. ThRejectionReason -&gt; MetaM a
</span><a href="GHC.HsToCore.Quote.html#notHandled"><span class="hs-identifier hs-var hs-var">notHandled</span></a></span></span><span> </span><span id="local-6989586621683136026"><span class="annot"><span class="annottext">ThRejectionReason
</span><a href="#local-6989586621683136026"><span class="hs-identifier hs-var">reason</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DsM a -&gt; ReaderT MetaWrappers DsM a
forall (m :: * -&gt; *) a. Monad m =&gt; m a -&gt; ReaderT MetaWrappers m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><a href="../../transformers-0.6.1.2-38b1/src/Control.Monad.Trans.Class.html#lift"><span class="hs-identifier hs-var">lift</span></a></span><span> </span><span class="annot"><span class="annottext">(DsM a -&gt; ReaderT MetaWrappers DsM a)
-&gt; DsM a -&gt; ReaderT MetaWrappers DsM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DsMessage -&gt; DsM a
forall a. DsMessage -&gt; DsM a
</span><a href="GHC.HsToCore.Monad.html#failWithDs"><span class="hs-identifier hs-var">failWithDs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ThRejectionReason -&gt; DsMessage
</span><a href="GHC.HsToCore.Errors.Types.html#DsNotYetHandledByTH"><span class="hs-identifier hs-var">DsNotYetHandledByTH</span></a></span><span> </span><span class="annot"><span class="annottext">ThRejectionReason
</span><a href="#local-6989586621683136026"><span class="hs-identifier hs-var">reason</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3253"></span></pre></body></html>