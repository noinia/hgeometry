<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE LambdaCase, RecordWildCards, MagicHash, UnboxedTuples, PatternSynonyms, ExplicitNamespaces #-}</span><span>
</span><span id="line-2"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html"><span class="hs-identifier">GHC.Cmm.UniqueRenamer</span></a></span><span>
</span><span id="line-3"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#detRenameCmmGroup"><span class="hs-identifier">detRenameCmmGroup</span></a></span><span>
</span><span id="line-4"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#detRenameIPEMap"><span class="hs-identifier">detRenameIPEMap</span></a></span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.DSM.html#MonadGetUnique"><span class="hs-identifier">MonadGetUnique</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span>  </span><span class="hs-comment">-- Careful! Not for general use!</span><span>
</span><span id="line-8"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetUniqFM"><span class="hs-identifier">DetUniqFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#emptyDetUFM"><span class="hs-identifier">emptyDetUFM</span></a></span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.Types.Unique.DSM.html"><span class="hs-identifier">GHC.Types.Unique.DSM</span></a></span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Monad.State.Strict.html"><span class="hs-identifier">GHC.Utils.Monad.State.Strict</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Tuple.html"><span class="hs-identifier">Data.Tuple</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">swap</span></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/GHC.Word.html"><span class="hs-identifier">GHC.Word</span></a></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.html"><span class="hs-identifier">GHC.Cmm</span></a></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html"><span class="hs-identifier">GHC.Cmm.CLabel</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html"><span class="hs-identifier">GHC.Cmm.Dataflow.Block</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.Dataflow.Graph.html"><span class="hs-identifier">GHC.Cmm.Dataflow.Graph</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.Dataflow.Label.html"><span class="hs-identifier">GHC.Cmm.Dataflow.Label</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.Switch.html"><span class="hs-identifier">GHC.Cmm.Switch</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html"><span class="hs-identifier">GHC.Types.Unique</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html"><span class="hs-identifier">GHC.Types.Unique.FM</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.DFM.html"><span class="hs-identifier">GHC.Types.Unique.DFM</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Outputable</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Id.html"><span class="hs-identifier">GHC.Types.Id</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.DSM.html"><span class="hs-identifier">GHC.Types.Unique.DSM</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier">varName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.html"><span class="hs-identifier">GHC.Types.Var</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.IPE.html"><span class="hs-identifier">GHC.Types.IPE</span></a></span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="hs-comment">{-
Note [Renaming uniques deterministically]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
As mentioned by Note [Object determinism], a key step in producing
deterministic objects is to rename all existing uniques deterministically.

An important observation is that GHC already produces code in a deterministic
order, both declarations (say, A_closure always comes before B_closure) and the
instructions and data within.

We can leverage this /deterministic order/ to
rename all uniques deterministically, by traversing, specifically, Cmm code
fresh off of StgToCmm and assigning a new unique from a deterministic supply
(an incrementing counter) to every non-external unique in the order they are found.

Since the order is deterministic across runs, so will the renamed uniques.

This Cmm renaming pass is guarded by -fobject-determinism because it means the
compiler must do more work. However, performance profiling has shown the impact
to be small enough that we should consider enabling -fobject-determinism by
default instead eventually.
-}</span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-comment">-- | A mapping from non-deterministic uniques to deterministic uniques, to</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- rename local symbols with the end goal of producing deterministic object files.</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- See Note [Renaming uniques deterministically]</span><span>
</span><span id="line-60"></span><span class="hs-keyword">data</span><span> </span><span id="DetUniqFM"><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetUniqFM"><span class="hs-identifier hs-var">DetUniqFM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DetUniqFM"><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetUniqFM"><span class="hs-identifier hs-var">DetUniqFM</span></a></span></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="mapping"><span class="annot"><span class="annottext">DetUniqFM -&gt; UniqFM Unique Unique
</span><a href="GHC.Cmm.UniqueRenamer.html#mapping"><span class="hs-identifier hs-var hs-var">mapping</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="supply"><span class="annot"><span class="annottext">DetUniqFM -&gt; Word64
</span><a href="GHC.Cmm.UniqueRenamer.html#supply"><span class="hs-identifier hs-var hs-var">supply</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetUniqFM"><span class="hs-identifier hs-type">DetUniqFM</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-66"></span><span>  </span><span id="local-6989586621682838007"><span class="annot"><span class="annottext">ppr :: DetUniqFM -&gt; SDoc
</span><a href="#local-6989586621682838007"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetUniqFM"><span class="hs-identifier hs-type">DetUniqFM</span></a></span><span class="hs-special">{</span><span id="local-6989586621682838009"><span class="annot"><span class="annottext">UniqFM Unique Unique
mapping :: DetUniqFM -&gt; UniqFM Unique Unique
mapping :: UniqFM Unique Unique
</span><a href="GHC.Cmm.UniqueRenamer.html#mapping"><span class="hs-identifier hs-var hs-var">mapping</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682838010"><span class="annot"><span class="annottext">Word64
supply :: DetUniqFM -&gt; Word64
supply :: Word64
</span><a href="GHC.Cmm.UniqueRenamer.html#supply"><span class="hs-identifier hs-var hs-var">supply</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-67"></span><span>    </span><span class="annot"><span class="annottext">UniqFM Unique Unique -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM Unique Unique
</span><a href="#local-6989586621682838009"><span class="hs-identifier hs-var">mapping</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsDoc doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%24%24"><span class="hs-operator hs-var">$$</span></a></span><span>
</span><span id="line-68"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;supply:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">Outputable.&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621682838010"><span class="hs-identifier hs-var">supply</span></a></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-keyword">type</span><span> </span><span id="DetRnM"><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-var">DetRnM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Utils.Monad.State.Strict.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetUniqFM"><span class="hs-identifier hs-type">DetUniqFM</span></a></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#emptyDetUFM"><span class="hs-identifier hs-type">emptyDetUFM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetUniqFM"><span class="hs-identifier hs-type">DetUniqFM</span></a></span><span>
</span><span id="line-73"></span><span id="emptyDetUFM"><span class="annot"><span class="annottext">emptyDetUFM :: DetUniqFM
</span><a href="GHC.Cmm.UniqueRenamer.html#emptyDetUFM"><span class="hs-identifier hs-var hs-var">emptyDetUFM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetUniqFM"><span class="hs-identifier hs-type">DetUniqFM</span></a></span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mapping :: UniqFM Unique Unique
</span><a href="GHC.Cmm.UniqueRenamer.html#mapping"><span class="hs-identifier hs-var">mapping</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM Unique Unique
forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-comment">-- NB: A lower initial value can get us label `Lsl` which is not parsed</span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-comment">-- correctly in older versions of LLVM assembler (llvm-project#80571)</span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-comment">-- So we use an `x` s.t. w64ToBase62 x &gt; &quot;R&quot; &gt; &quot;L&quot; &gt; &quot;r&quot; &gt; &quot;l&quot;</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">supply :: Word64
</span><a href="GHC.Cmm.UniqueRenamer.html#supply"><span class="hs-identifier hs-var">supply</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">54</span></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#renameDetUniq"><span class="hs-identifier hs-type">renameDetUniq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span>
</span><span id="line-82"></span><span id="renameDetUniq"><span class="annot"><span class="annottext">renameDetUniq :: Unique -&gt; DetRnM Unique
</span><a href="GHC.Cmm.UniqueRenamer.html#renameDetUniq"><span class="hs-identifier hs-var hs-var">renameDetUniq</span></a></span></span><span> </span><span id="local-6989586621682838016"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682838016"><span class="hs-identifier hs-var">uq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-83"></span><span>  </span><span id="local-6989586621682838017"><span class="annot"><a href="#local-6989586621682838017"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DetUniqFM -&gt; UniqFM Unique Unique)
-&gt; State DetUniqFM (UniqFM Unique Unique)
forall s a. (s -&gt; a) -&gt; State s a
</span><a href="GHC.Utils.Monad.State.Strict.html#gets"><span class="hs-identifier hs-var">gets</span></a></span><span> </span><span class="annot"><span class="annottext">DetUniqFM -&gt; UniqFM Unique Unique
</span><a href="GHC.Cmm.UniqueRenamer.html#mapping"><span class="hs-identifier hs-var">mapping</span></a></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#lookupUFM"><span class="hs-identifier hs-type">lookupUFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682838017"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682838016"><span class="hs-identifier hs-type">uq</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-85"></span><span>    </span><span class="annot"><span class="annottext">Maybe Unique
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-86"></span><span>      </span><span id="local-6989586621682838020"><span class="annot"><a href="#local-6989586621682838020"><span class="hs-identifier hs-var">new_w</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(DetUniqFM -&gt; Word64) -&gt; State DetUniqFM Word64
forall s a. (s -&gt; a) -&gt; State s a
</span><a href="GHC.Utils.Monad.State.Strict.html#gets"><span class="hs-identifier hs-var">gets</span></a></span><span> </span><span class="annot"><span class="annottext">DetUniqFM -&gt; Word64
</span><a href="GHC.Cmm.UniqueRenamer.html#supply"><span class="hs-identifier hs-var">supply</span></a></span><span> </span><span class="hs-comment">-- New deterministic unique in this `DetRnM`</span><span>
</span><span id="line-87"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span class="hs-comment">--(_tag, _) = unpkUnique uq</span><span>
</span><span id="line-88"></span><span>          </span><span id="local-6989586621682838021"><span class="annot"><a href="#local-6989586621682838021"><span class="hs-identifier hs-var hs-var">det_uniq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Word64 -&gt; Unique
</span><a href="GHC.Types.Unique.html#mkUnique"><span class="hs-identifier hs-var">mkUnique</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'Q'</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621682838020"><span class="hs-identifier hs-var">new_w</span></a></span><span>
</span><span id="line-89"></span><span>      </span><span class="annot"><a href="GHC.Utils.Monad.State.Strict.html#modify"><span class="hs-identifier hs-type">modify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetUniqFM"><span class="hs-identifier hs-type">DetUniqFM</span></a></span><span class="hs-special">{</span><span id="local-6989586621682838024"><span class="annot"><span class="annottext">UniqFM Unique Unique
mapping :: DetUniqFM -&gt; UniqFM Unique Unique
mapping :: UniqFM Unique Unique
</span><a href="GHC.Cmm.UniqueRenamer.html#mapping"><span class="hs-identifier hs-var hs-var">mapping</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682838025"><span class="annot"><span class="annottext">Word64
supply :: DetUniqFM -&gt; Word64
supply :: Word64
</span><a href="GHC.Cmm.UniqueRenamer.html#supply"><span class="hs-identifier hs-var hs-var">supply</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-90"></span><span>        </span><span class="hs-comment">-- Update supply and mapping</span><span>
</span><span id="line-91"></span><span>        </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetUniqFM"><span class="hs-identifier hs-type">DetUniqFM</span></a></span><span>
</span><span id="line-92"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mapping :: UniqFM Unique Unique
</span><a href="GHC.Cmm.UniqueRenamer.html#mapping"><span class="hs-identifier hs-var">mapping</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM Unique Unique -&gt; Unique -&gt; Unique -&gt; UniqFM Unique Unique
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-var">addToUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM Unique Unique
</span><a href="#local-6989586621682838024"><span class="hs-identifier hs-var">mapping</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682838016"><span class="hs-identifier hs-var">uq</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682838021"><span class="hs-identifier hs-var">det_uniq</span></a></span><span>
</span><span id="line-93"></span><span>          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">supply :: Word64
</span><a href="GHC.Cmm.UniqueRenamer.html#supply"><span class="hs-identifier hs-var">supply</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64
</span><a href="#local-6989586621682838025"><span class="hs-identifier hs-var">supply</span></a></span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Word64 -&gt; Word64
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Word64
</span><span class="hs-number">1</span></span><span>
</span><span id="line-94"></span><span>          </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-95"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621682838021"><span class="hs-identifier hs-type">det_uniq</span></a></span><span>
</span><span id="line-96"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682838028"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682838028"><span class="hs-identifier hs-var">det_uniq</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-97"></span><span>      </span><span class="annot"><span class="annottext">Unique -&gt; DetRnM Unique
forall a. a -&gt; State DetUniqFM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682838028"><span class="hs-identifier hs-var">det_uniq</span></a></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-comment">-- The most important function here, which does the actual renaming.</span><span>
</span><span id="line-100"></span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#detRenameCLabel"><span class="hs-identifier hs-type">detRenameCLabel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span>
</span><span id="line-101"></span><span id="detRenameCLabel"><span class="annot"><span class="annottext">detRenameCLabel :: CLabel -&gt; DetRnM CLabel
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameCLabel"><span class="hs-identifier hs-var hs-var">detRenameCLabel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; DetRnM Unique) -&gt; CLabel -&gt; DetRnM CLabel
forall (m :: * -&gt; *).
Applicative m =&gt;
(Unique -&gt; m Unique) -&gt; CLabel -&gt; m CLabel
</span><a href="GHC.Cmm.CLabel.html#mapInternalNonDetUniques"><span class="hs-identifier hs-var">mapInternalNonDetUniques</span></a></span><span> </span><span class="annot"><span class="annottext">Unique -&gt; DetRnM Unique
</span><a href="GHC.Cmm.UniqueRenamer.html#renameDetUniq"><span class="hs-identifier hs-var">renameDetUniq</span></a></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="annot"><span class="hs-comment">-- | We want to rename uniques in Ids, but ONLY internal ones.</span></span><span>
</span><span id="line-104"></span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#detRenameId"><span class="hs-identifier hs-type">detRenameId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>
</span><span id="line-105"></span><span id="detRenameId"><span class="annot"><span class="annottext">detRenameId :: Id -&gt; DetRnM Id
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameId"><span class="hs-identifier hs-var hs-var">detRenameId</span></a></span></span><span> </span><span id="local-6989586621682838032"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682838032"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Bool
</span><a href="GHC.Types.Name.html#isExternalName"><span class="hs-identifier hs-var">isExternalName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Name
</span><a href="GHC.Types.Var.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682838032"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; DetRnM Id
forall a. a -&gt; State DetUniqFM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682838032"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; Unique -&gt; Id
</span><a href="GHC.Types.Id.html#setIdUnique"><span class="hs-identifier hs-var">setIdUnique</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682838032"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; Id) -&gt; DetRnM Unique -&gt; DetRnM Id
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Unique -&gt; DetRnM Unique
</span><a href="GHC.Cmm.UniqueRenamer.html#renameDetUniq"><span class="hs-identifier hs-var">renameDetUniq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682838032"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="annot"><span class="hs-comment">-- | Similar to `detRenameId`, but for `Name`.</span></span><span>
</span><span id="line-110"></span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#detRenameName"><span class="hs-identifier hs-type">detRenameName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-111"></span><span id="detRenameName"><span class="annot"><span class="annottext">detRenameName :: Name -&gt; DetRnM Name
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameName"><span class="hs-identifier hs-var hs-var">detRenameName</span></a></span></span><span> </span><span id="local-6989586621682838039"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682838039"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Bool
</span><a href="GHC.Types.Name.html#isExternalName"><span class="hs-identifier hs-var">isExternalName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682838039"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; DetRnM Name
forall a. a -&gt; State DetUniqFM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682838039"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Unique -&gt; Name
</span><a href="GHC.Types.Name.html#setNameUnique"><span class="hs-identifier hs-var">setNameUnique</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682838039"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; Name) -&gt; DetRnM Unique -&gt; DetRnM Name
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Unique -&gt; DetRnM Unique
</span><a href="GHC.Cmm.UniqueRenamer.html#renameDetUniq"><span class="hs-identifier hs-var">renameDetUniq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682838039"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#detRenameCmmGroup"><span class="hs-identifier hs-type">detRenameCmmGroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetUniqFM"><span class="hs-identifier hs-type">DetUniqFM</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.html#DCmmGroup"><span class="hs-identifier hs-type">DCmmGroup</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetUniqFM"><span class="hs-identifier hs-type">DetUniqFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.html#CmmGroup"><span class="hs-identifier hs-type">CmmGroup</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span id="detRenameCmmGroup"><span class="annot"><span class="annottext">detRenameCmmGroup :: DetUniqFM -&gt; DCmmGroup -&gt; (DetUniqFM, CmmGroup)
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameCmmGroup"><span class="hs-identifier hs-var hs-var">detRenameCmmGroup</span></a></span></span><span> </span><span id="local-6989586621682838041"><span class="annot"><span class="annottext">DetUniqFM
</span><a href="#local-6989586621682838041"><span class="hs-identifier hs-var">dufm</span></a></span></span><span> </span><span id="local-6989586621682838042"><span class="annot"><span class="annottext">DCmmGroup
</span><a href="#local-6989586621682838042"><span class="hs-identifier hs-var">group</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CmmGroup, DetUniqFM) -&gt; (DetUniqFM, CmmGroup)
forall a b. (a, b) -&gt; (b, a)
</span><span class="hs-identifier hs-var">swap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State DetUniqFM CmmGroup -&gt; DetUniqFM -&gt; (CmmGroup, DetUniqFM)
forall s a. State s a -&gt; s -&gt; (a, s)
</span><a href="GHC.Utils.Monad.State.Strict.html#runState"><span class="hs-identifier hs-var">runState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DCmmDecl
 -&gt; State DetUniqFM (GenCmmDecl CmmStatics CmmTopInfo CmmGraph))
-&gt; DCmmGroup -&gt; State DetUniqFM CmmGroup
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">DCmmDecl
-&gt; State DetUniqFM (GenCmmDecl CmmStatics CmmTopInfo CmmGraph)
</span><a href="#local-6989586621682838045"><span class="hs-identifier hs-var">detRenameCmmDecl</span></a></span><span> </span><span class="annot"><span class="annottext">DCmmGroup
</span><a href="#local-6989586621682838042"><span class="hs-identifier hs-var">group</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DetUniqFM
</span><a href="#local-6989586621682838041"><span class="hs-identifier hs-var">dufm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-118"></span><span>    </span><span class="annot"><a href="#local-6989586621682838045"><span class="hs-identifier hs-type">detRenameCmmDecl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.html#DCmmDecl"><span class="hs-identifier hs-type">DCmmDecl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.html#CmmDecl"><span class="hs-identifier hs-type">CmmDecl</span></a></span><span>
</span><span id="line-119"></span><span>    </span><span id="local-6989586621682838045"><span class="annot"><span class="annottext">detRenameCmmDecl :: DCmmDecl
-&gt; State DetUniqFM (GenCmmDecl CmmStatics CmmTopInfo CmmGraph)
</span><a href="#local-6989586621682838045"><span class="hs-identifier hs-var hs-var">detRenameCmmDecl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.html#CmmProc"><span class="hs-identifier hs-type">CmmProc</span></a></span><span> </span><span id="local-6989586621682838048"><span class="annot"><span class="annottext">DCmmTopInfo
</span><a href="#local-6989586621682838048"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621682838049"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838049"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682838050"><span class="annot"><span class="annottext">[GlobalRegUse]
</span><a href="#local-6989586621682838050"><span class="hs-identifier hs-var">regs</span></a></span></span><span> </span><span id="local-6989586621682838051"><span class="annot"><span class="annottext">DCmmGraph
</span><a href="#local-6989586621682838051"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-121"></span><span>        </span><span id="local-6989586621682838052"><span class="annot"><a href="#local-6989586621682838052"><span class="hs-identifier hs-var">h'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DCmmTopInfo -&gt; DetRnM CmmTopInfo
</span><a href="#local-6989586621682838053"><span class="hs-identifier hs-var">detRenameCmmTop</span></a></span><span> </span><span class="annot"><span class="annottext">DCmmTopInfo
</span><a href="#local-6989586621682838048"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-122"></span><span>        </span><span id="local-6989586621682838054"><span class="annot"><a href="#local-6989586621682838054"><span class="hs-identifier hs-var">lbl'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#detRenameCLabel"><span class="hs-identifier hs-type">detRenameCLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682838049"><span class="hs-identifier hs-type">lbl</span></a></span><span>
</span><span id="line-123"></span><span>        </span><span id="local-6989586621682838055"><span class="annot"><a href="#local-6989586621682838055"><span class="hs-identifier hs-var">regs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="#local-6989586621682838056"><span class="hs-identifier hs-type">detRenameGlobalRegUse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682838050"><span class="hs-identifier hs-type">regs</span></a></span><span>
</span><span id="line-124"></span><span>        </span><span id="local-6989586621682838057"><span class="annot"><a href="#local-6989586621682838057"><span class="hs-identifier hs-var">g'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682838058"><span class="hs-identifier hs-type">detRenameCmmGraph</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682838051"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-125"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.html#CmmProc"><span class="hs-identifier hs-type">CmmProc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682838052"><span class="hs-identifier hs-type">h'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682838054"><span class="hs-identifier hs-type">lbl'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682838055"><span class="hs-identifier hs-type">regs'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682838057"><span class="hs-identifier hs-type">g'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>    </span><span class="annot"><a href="#local-6989586621682838045"><span class="hs-identifier hs-var">detRenameCmmDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.html#CmmData"><span class="hs-identifier hs-type">CmmData</span></a></span><span> </span><span id="local-6989586621682838060"><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621682838060"><span class="hs-identifier hs-var">sec</span></a></span></span><span> </span><span id="local-6989586621682838061"><span class="annot"><span class="annottext">CmmStatics
</span><a href="#local-6989586621682838061"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Section -&gt; CmmStatics -&gt; GenCmmDecl CmmStatics CmmTopInfo CmmGraph
forall d h g. Section -&gt; d -&gt; GenCmmDecl d h g
</span><a href="GHC.Cmm.html#CmmData"><span class="hs-identifier hs-var">CmmData</span></a></span><span> </span><span class="annot"><span class="annottext">(Section
 -&gt; CmmStatics -&gt; GenCmmDecl CmmStatics CmmTopInfo CmmGraph)
-&gt; State DetUniqFM Section
-&gt; State
     DetUniqFM (CmmStatics -&gt; GenCmmDecl CmmStatics CmmTopInfo CmmGraph)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Section -&gt; State DetUniqFM Section
</span><a href="#local-6989586621682838062"><span class="hs-identifier hs-var">detRenameSection</span></a></span><span> </span><span class="annot"><span class="annottext">Section
</span><a href="#local-6989586621682838060"><span class="hs-identifier hs-var">sec</span></a></span><span> </span><span class="annot"><span class="annottext">State
  DetUniqFM (CmmStatics -&gt; GenCmmDecl CmmStatics CmmTopInfo CmmGraph)
-&gt; State DetUniqFM CmmStatics
-&gt; State DetUniqFM (GenCmmDecl CmmStatics CmmTopInfo CmmGraph)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmStatics -&gt; State DetUniqFM CmmStatics
</span><a href="#local-6989586621682838063"><span class="hs-identifier hs-var">detRenameCmmStatics</span></a></span><span> </span><span class="annot"><span class="annottext">CmmStatics
</span><a href="#local-6989586621682838061"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span>    </span><span class="annot"><a href="#local-6989586621682838053"><span class="hs-identifier hs-type">detRenameCmmTop</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.html#DCmmTopInfo"><span class="hs-identifier hs-type">DCmmTopInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.html#CmmTopInfo"><span class="hs-identifier hs-type">CmmTopInfo</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span id="local-6989586621682838053"><span class="annot"><span class="annottext">detRenameCmmTop :: DCmmTopInfo -&gt; DetRnM CmmTopInfo
</span><a href="#local-6989586621682838053"><span class="hs-identifier hs-var hs-var">detRenameCmmTop</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.html#TopInfo"><span class="hs-identifier hs-type">TopInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.html#DWrap"><span class="hs-identifier hs-type">DWrap</span></a></span><span> </span><span id="local-6989586621682838066"><span class="annot"><span class="annottext">[(Label, CmmInfoTable)]
</span><a href="#local-6989586621682838066"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682838067"><span class="annot"><span class="annottext">CmmStackInfo
</span><a href="#local-6989586621682838067"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LabelMap CmmInfoTable -&gt; CmmStackInfo -&gt; CmmTopInfo
forall (f :: * -&gt; *).
f CmmInfoTable -&gt; CmmStackInfo -&gt; GenCmmTopInfo f
</span><a href="GHC.Cmm.html#TopInfo"><span class="hs-identifier hs-var">TopInfo</span></a></span><span> </span><span class="annot"><span class="annottext">(LabelMap CmmInfoTable -&gt; CmmStackInfo -&gt; CmmTopInfo)
-&gt; ([(Label, CmmInfoTable)] -&gt; LabelMap CmmInfoTable)
-&gt; [(Label, CmmInfoTable)]
-&gt; CmmStackInfo
-&gt; CmmTopInfo
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[(Label, CmmInfoTable)] -&gt; LabelMap CmmInfoTable
forall v. [(Label, v)] -&gt; LabelMap v
</span><a href="GHC.Cmm.Dataflow.Label.html#mapFromList"><span class="hs-identifier hs-var">mapFromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(Label, CmmInfoTable)] -&gt; CmmStackInfo -&gt; CmmTopInfo)
-&gt; State DetUniqFM [(Label, CmmInfoTable)]
-&gt; State DetUniqFM (CmmStackInfo -&gt; CmmTopInfo)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((Label, CmmInfoTable) -&gt; State DetUniqFM (Label, CmmInfoTable))
-&gt; [(Label, CmmInfoTable)]
-&gt; State DetUniqFM [(Label, CmmInfoTable)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Label -&gt; State DetUniqFM Label)
-&gt; (CmmInfoTable -&gt; State DetUniqFM CmmInfoTable)
-&gt; (Label, CmmInfoTable)
-&gt; State DetUniqFM (Label, CmmInfoTable)
forall {f :: * -&gt; *} {t} {a} {t} {a}.
Applicative f =&gt;
(t -&gt; f a) -&gt; (t -&gt; f a) -&gt; (t, t) -&gt; f (a, a)
</span><a href="#local-6989586621682838070"><span class="hs-identifier hs-var">detRenamePair</span></a></span><span> </span><span class="annot"><span class="annottext">Label -&gt; State DetUniqFM Label
</span><a href="#local-6989586621682838071"><span class="hs-identifier hs-var">detRenameLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CmmInfoTable -&gt; State DetUniqFM CmmInfoTable
</span><a href="#local-6989586621682838072"><span class="hs-identifier hs-var">detRenameCmmInfoTable</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Label, CmmInfoTable)]
</span><a href="#local-6989586621682838066"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (CmmStackInfo -&gt; CmmTopInfo)
-&gt; State DetUniqFM CmmStackInfo -&gt; DetRnM CmmTopInfo
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmStackInfo -&gt; State DetUniqFM CmmStackInfo
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">CmmStackInfo
</span><a href="#local-6989586621682838067"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span>    </span><span class="annot"><a href="#local-6989586621682838058"><span class="hs-identifier hs-type">detRenameCmmGraph</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.html#DCmmGraph"><span class="hs-identifier hs-type">DCmmGraph</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.html#CmmGraph"><span class="hs-identifier hs-type">CmmGraph</span></a></span><span>
</span><span id="line-134"></span><span>    </span><span id="local-6989586621682838058"><span class="annot"><span class="annottext">detRenameCmmGraph :: DCmmGraph -&gt; DetRnM CmmGraph
</span><a href="#local-6989586621682838058"><span class="hs-identifier hs-var hs-var">detRenameCmmGraph</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.html#CmmGraph"><span class="hs-identifier hs-type">CmmGraph</span></a></span><span> </span><span id="local-6989586621682838074"><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838074"><span class="hs-identifier hs-var">entry</span></a></span></span><span> </span><span id="local-6989586621682838075"><span class="annot"><span class="annottext">Graph' DWrap Block CmmNode C C
</span><a href="#local-6989586621682838075"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Label -&gt; Graph' LabelMap Block CmmNode C C -&gt; CmmGraph
forall (s :: * -&gt; *) (n :: Extensibility -&gt; Extensibility -&gt; *).
Label -&gt; Graph' s Block n C C -&gt; GenGenCmmGraph s n
</span><a href="GHC.Cmm.html#CmmGraph"><span class="hs-identifier hs-var">CmmGraph</span></a></span><span> </span><span class="annot"><span class="annottext">(Label -&gt; Graph' LabelMap Block CmmNode C C -&gt; CmmGraph)
-&gt; State DetUniqFM Label
-&gt; State DetUniqFM (Graph' LabelMap Block CmmNode C C -&gt; CmmGraph)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Label -&gt; State DetUniqFM Label
</span><a href="#local-6989586621682838071"><span class="hs-identifier hs-var">detRenameLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838074"><span class="hs-identifier hs-var">entry</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Graph' LabelMap Block CmmNode C C -&gt; CmmGraph)
-&gt; State DetUniqFM (Graph' LabelMap Block CmmNode C C)
-&gt; DetRnM CmmGraph
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Graph' DWrap Block CmmNode C C
-&gt; State DetUniqFM (Graph' LabelMap Block CmmNode C C)
forall {e :: Extensibility} {x :: Extensibility}.
Graph' DWrap Block CmmNode e x
-&gt; State DetUniqFM (Graph' LabelMap Block CmmNode e x)
</span><a href="#local-6989586621682838076"><span class="hs-identifier hs-var">detRenameGraph</span></a></span><span> </span><span class="annot"><span class="annottext">Graph' DWrap Block CmmNode C C
</span><a href="#local-6989586621682838075"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span>    </span><span id="local-6989586621682838076"><span class="annot"><span class="annottext">detRenameGraph :: Graph' DWrap Block CmmNode e x
-&gt; State DetUniqFM (Graph' LabelMap Block CmmNode e x)
</span><a href="#local-6989586621682838076"><span class="hs-identifier hs-var hs-var">detRenameGraph</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-138"></span><span>      </span><span class="annot"><span class="annottext">Graph' DWrap Block CmmNode e x
</span><a href="GHC.Cmm.Dataflow.Graph.html#GNil"><span class="hs-identifier hs-var">GNil</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Graph' LabelMap Block CmmNode 'Open 'Open
-&gt; State DetUniqFM (Graph' LabelMap Block CmmNode 'Open 'Open)
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Graph' LabelMap Block CmmNode 'Open 'Open
forall (s :: * -&gt; *)
       (block :: (Extensibility -&gt; Extensibility -&gt; *)
                 -&gt; Extensibility -&gt; Extensibility -&gt; *)
       (n :: Extensibility -&gt; Extensibility -&gt; *).
Graph' s block n 'Open 'Open
</span><a href="GHC.Cmm.Dataflow.Graph.html#GNil"><span class="hs-identifier hs-var">GNil</span></a></span><span>
</span><span id="line-139"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Dataflow.Graph.html#GUnit"><span class="hs-identifier hs-type">GUnit</span></a></span><span> </span><span id="local-6989586621682838088"><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838088"><span class="hs-identifier hs-var">block</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
-&gt; Graph' LabelMap Block CmmNode 'Open 'Open
forall (block :: (Extensibility -&gt; Extensibility -&gt; *)
                 -&gt; Extensibility -&gt; Extensibility -&gt; *)
       (n :: Extensibility -&gt; Extensibility -&gt; *) (s :: * -&gt; *).
block n 'Open 'Open -&gt; Graph' s block n 'Open 'Open
</span><a href="GHC.Cmm.Dataflow.Graph.html#GUnit"><span class="hs-identifier hs-var">GUnit</span></a></span><span> </span><span class="annot"><span class="annottext">(Block CmmNode 'Open 'Open
 -&gt; Graph' LabelMap Block CmmNode 'Open 'Open)
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
-&gt; State DetUniqFM (Graph' LabelMap Block CmmNode 'Open 'Open)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
forall (n :: Extensibility) (m :: Extensibility).
Block CmmNode n m -&gt; DetRnM (Block CmmNode n m)
</span><a href="#local-6989586621682838089"><span class="hs-identifier hs-var">detRenameBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838088"><span class="hs-identifier hs-var">block</span></a></span><span>
</span><span id="line-140"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Dataflow.Graph.html#GMany"><span class="hs-identifier hs-type">GMany</span></a></span><span> </span><span id="local-6989586621682838091"><span class="annot"><span class="annottext">MaybeO e (Block CmmNode 'Open C)
</span><a href="#local-6989586621682838091"><span class="hs-identifier hs-var">m1</span></a></span></span><span> </span><span id="local-6989586621682838092"><span class="annot"><span class="annottext">Body' DWrap Block CmmNode
</span><a href="#local-6989586621682838092"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621682838093"><span class="annot"><span class="annottext">MaybeO x (Block CmmNode C 'Open)
</span><a href="#local-6989586621682838093"><span class="hs-identifier hs-var">m2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MaybeO e (Block CmmNode 'Open C)
-&gt; Body' LabelMap Block CmmNode
-&gt; MaybeO x (Block CmmNode C 'Open)
-&gt; Graph' LabelMap Block CmmNode e x
forall (e :: Extensibility)
       (block :: (Extensibility -&gt; Extensibility -&gt; *)
                 -&gt; Extensibility -&gt; Extensibility -&gt; *)
       (n :: Extensibility -&gt; Extensibility -&gt; *) (s :: * -&gt; *)
       (x :: Extensibility).
MaybeO e (block n 'Open C)
-&gt; Body' s block n
-&gt; MaybeO x (block n C 'Open)
-&gt; Graph' s block n e x
</span><a href="GHC.Cmm.Dataflow.Graph.html#GMany"><span class="hs-identifier hs-var">GMany</span></a></span><span> </span><span class="annot"><span class="annottext">(MaybeO e (Block CmmNode 'Open C)
 -&gt; Body' LabelMap Block CmmNode
 -&gt; MaybeO x (Block CmmNode C 'Open)
 -&gt; Graph' LabelMap Block CmmNode e x)
-&gt; State DetUniqFM (MaybeO e (Block CmmNode 'Open C))
-&gt; State
     DetUniqFM
     (Body' LabelMap Block CmmNode
      -&gt; MaybeO x (Block CmmNode C 'Open)
      -&gt; Graph' LabelMap Block CmmNode e x)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">MaybeO e (Block CmmNode 'Open C)
-&gt; State DetUniqFM (MaybeO e (Block CmmNode 'Open C))
forall (n :: Extensibility) (a :: Extensibility)
       (b :: Extensibility).
MaybeO n (Block CmmNode a b)
-&gt; DetRnM (MaybeO n (Block CmmNode a b))
</span><a href="#local-6989586621682838094"><span class="hs-identifier hs-var">detRenameMaybeBlock</span></a></span><span> </span><span class="annot"><span class="annottext">MaybeO e (Block CmmNode 'Open C)
</span><a href="#local-6989586621682838091"><span class="hs-identifier hs-var">m1</span></a></span><span> </span><span class="annot"><span class="annottext">State
  DetUniqFM
  (Body' LabelMap Block CmmNode
   -&gt; MaybeO x (Block CmmNode C 'Open)
   -&gt; Graph' LabelMap Block CmmNode e x)
-&gt; State DetUniqFM (Body' LabelMap Block CmmNode)
-&gt; State
     DetUniqFM
     (MaybeO x (Block CmmNode C 'Open)
      -&gt; Graph' LabelMap Block CmmNode e x)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Body' DWrap Block CmmNode
-&gt; State DetUniqFM (Body' LabelMap Block CmmNode)
forall {n :: Extensibility} {m :: Extensibility}.
DWrap (Block CmmNode n m)
-&gt; State DetUniqFM (LabelMap (Block CmmNode n m))
</span><a href="#local-6989586621682838095"><span class="hs-identifier hs-var">detRenameBody</span></a></span><span> </span><span class="annot"><span class="annottext">Body' DWrap Block CmmNode
</span><a href="#local-6989586621682838092"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">State
  DetUniqFM
  (MaybeO x (Block CmmNode C 'Open)
   -&gt; Graph' LabelMap Block CmmNode e x)
-&gt; State DetUniqFM (MaybeO x (Block CmmNode C 'Open))
-&gt; State DetUniqFM (Graph' LabelMap Block CmmNode e x)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">MaybeO x (Block CmmNode C 'Open)
-&gt; State DetUniqFM (MaybeO x (Block CmmNode C 'Open))
forall (n :: Extensibility) (a :: Extensibility)
       (b :: Extensibility).
MaybeO n (Block CmmNode a b)
-&gt; DetRnM (MaybeO n (Block CmmNode a b))
</span><a href="#local-6989586621682838094"><span class="hs-identifier hs-var">detRenameMaybeBlock</span></a></span><span> </span><span class="annot"><span class="annottext">MaybeO x (Block CmmNode C 'Open)
</span><a href="#local-6989586621682838093"><span class="hs-identifier hs-var">m2</span></a></span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span>    </span><span id="local-6989586621682838095"><span class="annot"><span class="annottext">detRenameBody :: DWrap (Block CmmNode n m)
-&gt; State DetUniqFM (LabelMap (Block CmmNode n m))
</span><a href="#local-6989586621682838095"><span class="hs-identifier hs-var hs-var">detRenameBody</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.html#DWrap"><span class="hs-identifier hs-type">DWrap</span></a></span><span> </span><span id="local-6989586621682838100"><span class="annot"><span class="annottext">[(Label, Block CmmNode n m)]
</span><a href="#local-6989586621682838100"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Label, Block CmmNode n m)] -&gt; LabelMap (Block CmmNode n m)
forall v. [(Label, v)] -&gt; LabelMap v
</span><a href="GHC.Cmm.Dataflow.Label.html#mapFromList"><span class="hs-identifier hs-var">mapFromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(Label, Block CmmNode n m)] -&gt; LabelMap (Block CmmNode n m))
-&gt; State DetUniqFM [(Label, Block CmmNode n m)]
-&gt; State DetUniqFM (LabelMap (Block CmmNode n m))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((Label, Block CmmNode n m)
 -&gt; State DetUniqFM (Label, Block CmmNode n m))
-&gt; [(Label, Block CmmNode n m)]
-&gt; State DetUniqFM [(Label, Block CmmNode n m)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Label -&gt; State DetUniqFM Label)
-&gt; (Block CmmNode n m -&gt; State DetUniqFM (Block CmmNode n m))
-&gt; (Label, Block CmmNode n m)
-&gt; State DetUniqFM (Label, Block CmmNode n m)
forall {f :: * -&gt; *} {t} {a} {t} {a}.
Applicative f =&gt;
(t -&gt; f a) -&gt; (t -&gt; f a) -&gt; (t, t) -&gt; f (a, a)
</span><a href="#local-6989586621682838070"><span class="hs-identifier hs-var">detRenamePair</span></a></span><span> </span><span class="annot"><span class="annottext">Label -&gt; State DetUniqFM Label
</span><a href="#local-6989586621682838071"><span class="hs-identifier hs-var">detRenameLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Block CmmNode n m -&gt; State DetUniqFM (Block CmmNode n m)
forall (n :: Extensibility) (m :: Extensibility).
Block CmmNode n m -&gt; DetRnM (Block CmmNode n m)
</span><a href="#local-6989586621682838089"><span class="hs-identifier hs-var">detRenameBlock</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Label, Block CmmNode n m)]
</span><a href="#local-6989586621682838100"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span>    </span><span class="annot"><a href="#local-6989586621682838063"><span class="hs-identifier hs-type">detRenameCmmStatics</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.html#CmmStatics"><span class="hs-identifier hs-type">CmmStatics</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.html#CmmStatics"><span class="hs-identifier hs-type">CmmStatics</span></a></span><span>
</span><span id="line-146"></span><span>    </span><span id="local-6989586621682838063"><span class="annot"><span class="annottext">detRenameCmmStatics :: CmmStatics -&gt; State DetUniqFM CmmStatics
</span><a href="#local-6989586621682838063"><span class="hs-identifier hs-var hs-var">detRenameCmmStatics</span></a></span></span><span>
</span><span id="line-147"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.html#CmmStatics"><span class="hs-identifier hs-type">CmmStatics</span></a></span><span> </span><span id="local-6989586621682838113"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838113"><span class="hs-identifier hs-var">clbl</span></a></span></span><span> </span><span id="local-6989586621682838114"><span class="annot"><span class="annottext">CmmInfoTable
</span><a href="#local-6989586621682838114"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621682838115"><span class="annot"><span class="annottext">CostCentreStack
</span><a href="#local-6989586621682838115"><span class="hs-identifier hs-var">ccs</span></a></span></span><span> </span><span id="local-6989586621682838116"><span class="annot"><span class="annottext">[CmmLit]
</span><a href="#local-6989586621682838116"><span class="hs-identifier hs-var">lits1</span></a></span></span><span> </span><span id="local-6989586621682838117"><span class="annot"><span class="annottext">[CmmLit]
</span><a href="#local-6989586621682838117"><span class="hs-identifier hs-var">lits2</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; CmmInfoTable
-&gt; CostCentreStack
-&gt; [CmmLit]
-&gt; [CmmLit]
-&gt; CmmStatics
</span><a href="GHC.Cmm.html#CmmStatics"><span class="hs-identifier hs-var">CmmStatics</span></a></span><span> </span><span class="annot"><span class="annottext">(CLabel
 -&gt; CmmInfoTable
 -&gt; CostCentreStack
 -&gt; [CmmLit]
 -&gt; [CmmLit]
 -&gt; CmmStatics)
-&gt; DetRnM CLabel
-&gt; State
     DetUniqFM
     (CmmInfoTable
      -&gt; CostCentreStack -&gt; [CmmLit] -&gt; [CmmLit] -&gt; CmmStatics)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; DetRnM CLabel
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameCLabel"><span class="hs-identifier hs-var">detRenameCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838113"><span class="hs-identifier hs-var">clbl</span></a></span><span> </span><span class="annot"><span class="annottext">State
  DetUniqFM
  (CmmInfoTable
   -&gt; CostCentreStack -&gt; [CmmLit] -&gt; [CmmLit] -&gt; CmmStatics)
-&gt; State DetUniqFM CmmInfoTable
-&gt; State
     DetUniqFM (CostCentreStack -&gt; [CmmLit] -&gt; [CmmLit] -&gt; CmmStatics)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmInfoTable -&gt; State DetUniqFM CmmInfoTable
</span><a href="#local-6989586621682838072"><span class="hs-identifier hs-var">detRenameCmmInfoTable</span></a></span><span> </span><span class="annot"><span class="annottext">CmmInfoTable
</span><a href="#local-6989586621682838114"><span class="hs-identifier hs-var">info</span></a></span><span> </span><span class="annot"><span class="annottext">State
  DetUniqFM (CostCentreStack -&gt; [CmmLit] -&gt; [CmmLit] -&gt; CmmStatics)
-&gt; State DetUniqFM CostCentreStack
-&gt; State DetUniqFM ([CmmLit] -&gt; [CmmLit] -&gt; CmmStatics)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">CostCentreStack -&gt; State DetUniqFM CostCentreStack
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">CostCentreStack
</span><a href="#local-6989586621682838115"><span class="hs-identifier hs-var">ccs</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM ([CmmLit] -&gt; [CmmLit] -&gt; CmmStatics)
-&gt; State DetUniqFM [CmmLit]
-&gt; State DetUniqFM ([CmmLit] -&gt; CmmStatics)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(CmmLit -&gt; State DetUniqFM CmmLit)
-&gt; [CmmLit] -&gt; State DetUniqFM [CmmLit]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; State DetUniqFM CmmLit
</span><a href="#local-6989586621682838118"><span class="hs-identifier hs-var">detRenameCmmLit</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmLit]
</span><a href="#local-6989586621682838116"><span class="hs-identifier hs-var">lits1</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM ([CmmLit] -&gt; CmmStatics)
-&gt; State DetUniqFM [CmmLit] -&gt; State DetUniqFM CmmStatics
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(CmmLit -&gt; State DetUniqFM CmmLit)
-&gt; [CmmLit] -&gt; State DetUniqFM [CmmLit]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; State DetUniqFM CmmLit
</span><a href="#local-6989586621682838118"><span class="hs-identifier hs-var">detRenameCmmLit</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmLit]
</span><a href="#local-6989586621682838117"><span class="hs-identifier hs-var">lits2</span></a></span><span>
</span><span id="line-149"></span><span>    </span><span class="annot"><a href="#local-6989586621682838063"><span class="hs-identifier hs-var">detRenameCmmStatics</span></a></span><span>
</span><span id="line-150"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.html#CmmStaticsRaw"><span class="hs-identifier hs-type">CmmStaticsRaw</span></a></span><span> </span><span id="local-6989586621682838120"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838120"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682838121"><span class="annot"><span class="annottext">[CmmStatic]
</span><a href="#local-6989586621682838121"><span class="hs-identifier hs-var">sts</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; [CmmStatic] -&gt; CmmStatics
forall (rawOnly :: Bool).
CLabel -&gt; [CmmStatic] -&gt; GenCmmStatics rawOnly
</span><a href="GHC.Cmm.html#CmmStaticsRaw"><span class="hs-identifier hs-var">CmmStaticsRaw</span></a></span><span> </span><span class="annot"><span class="annottext">(CLabel -&gt; [CmmStatic] -&gt; CmmStatics)
-&gt; DetRnM CLabel -&gt; State DetUniqFM ([CmmStatic] -&gt; CmmStatics)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; DetRnM CLabel
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameCLabel"><span class="hs-identifier hs-var">detRenameCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838120"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM ([CmmStatic] -&gt; CmmStatics)
-&gt; State DetUniqFM [CmmStatic] -&gt; State DetUniqFM CmmStatics
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(CmmStatic -&gt; State DetUniqFM CmmStatic)
-&gt; [CmmStatic] -&gt; State DetUniqFM [CmmStatic]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">CmmStatic -&gt; State DetUniqFM CmmStatic
</span><a href="#local-6989586621682838122"><span class="hs-identifier hs-var">detRenameCmmStatic</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmStatic]
</span><a href="#local-6989586621682838121"><span class="hs-identifier hs-var">sts</span></a></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span>    </span><span class="annot"><a href="#local-6989586621682838072"><span class="hs-identifier hs-type">detRenameCmmInfoTable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.html#CmmInfoTable"><span class="hs-identifier hs-type">CmmInfoTable</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.html#CmmInfoTable"><span class="hs-identifier hs-type">CmmInfoTable</span></a></span><span>
</span><span id="line-154"></span><span>    </span><span id="local-6989586621682838072"><span class="annot"><span class="annottext">detRenameCmmInfoTable :: CmmInfoTable -&gt; State DetUniqFM CmmInfoTable
</span><a href="#local-6989586621682838072"><span class="hs-identifier hs-var hs-var">detRenameCmmInfoTable</span></a></span></span><span>
</span><span id="line-155"></span><span>      </span><span class="annot"><a href="GHC.Cmm.html#CmmInfoTable"><span class="hs-identifier hs-type">CmmInfoTable</span></a></span><span class="hs-special">{</span><span id="local-6989586621682838124"><span class="annot"><span class="annottext">CLabel
cit_lbl :: CLabel
cit_lbl :: CmmInfoTable -&gt; CLabel
</span><a href="#local-6989586621682838124"><span class="hs-identifier hs-var hs-var">cit_lbl</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682838126"><span class="annot"><span class="annottext">SMRep
cit_rep :: SMRep
cit_rep :: CmmInfoTable -&gt; SMRep
</span><a href="#local-6989586621682838126"><span class="hs-identifier hs-var hs-var">cit_rep</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682838128"><span class="annot"><span class="annottext">ProfilingInfo
cit_prof :: ProfilingInfo
cit_prof :: CmmInfoTable -&gt; ProfilingInfo
</span><a href="#local-6989586621682838128"><span class="hs-identifier hs-var hs-var">cit_prof</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682838130"><span class="annot"><span class="annottext">Maybe CLabel
cit_srt :: Maybe CLabel
cit_srt :: CmmInfoTable -&gt; Maybe CLabel
</span><a href="#local-6989586621682838130"><span class="hs-identifier hs-var hs-var">cit_srt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682838132"><span class="annot"><span class="annottext">Maybe (Id, CostCentreStack)
cit_clo :: Maybe (Id, CostCentreStack)
cit_clo :: CmmInfoTable -&gt; Maybe (Id, CostCentreStack)
</span><a href="#local-6989586621682838132"><span class="hs-identifier hs-var hs-var">cit_clo</span></a></span></span><span class="hs-special">}</span><span>
</span><span id="line-156"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel
-&gt; SMRep
-&gt; ProfilingInfo
-&gt; Maybe CLabel
-&gt; Maybe (Id, CostCentreStack)
-&gt; CmmInfoTable
</span><a href="GHC.Cmm.html#CmmInfoTable"><span class="hs-identifier hs-var">CmmInfoTable</span></a></span><span> </span><span class="annot"><span class="annottext">(CLabel
 -&gt; SMRep
 -&gt; ProfilingInfo
 -&gt; Maybe CLabel
 -&gt; Maybe (Id, CostCentreStack)
 -&gt; CmmInfoTable)
-&gt; DetRnM CLabel
-&gt; State
     DetUniqFM
     (SMRep
      -&gt; ProfilingInfo
      -&gt; Maybe CLabel
      -&gt; Maybe (Id, CostCentreStack)
      -&gt; CmmInfoTable)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; DetRnM CLabel
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameCLabel"><span class="hs-identifier hs-var">detRenameCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838124"><span class="hs-identifier hs-var">cit_lbl</span></a></span><span> </span><span class="annot"><span class="annottext">State
  DetUniqFM
  (SMRep
   -&gt; ProfilingInfo
   -&gt; Maybe CLabel
   -&gt; Maybe (Id, CostCentreStack)
   -&gt; CmmInfoTable)
-&gt; State DetUniqFM SMRep
-&gt; State
     DetUniqFM
     (ProfilingInfo
      -&gt; Maybe CLabel -&gt; Maybe (Id, CostCentreStack) -&gt; CmmInfoTable)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SMRep -&gt; State DetUniqFM SMRep
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">SMRep
</span><a href="#local-6989586621682838126"><span class="hs-identifier hs-var">cit_rep</span></a></span><span> </span><span class="annot"><span class="annottext">State
  DetUniqFM
  (ProfilingInfo
   -&gt; Maybe CLabel -&gt; Maybe (Id, CostCentreStack) -&gt; CmmInfoTable)
-&gt; State DetUniqFM ProfilingInfo
-&gt; State
     DetUniqFM
     (Maybe CLabel -&gt; Maybe (Id, CostCentreStack) -&gt; CmmInfoTable)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">ProfilingInfo -&gt; State DetUniqFM ProfilingInfo
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">ProfilingInfo
</span><a href="#local-6989586621682838128"><span class="hs-identifier hs-var">cit_prof</span></a></span><span> </span><span class="annot"><span class="annottext">State
  DetUniqFM
  (Maybe CLabel -&gt; Maybe (Id, CostCentreStack) -&gt; CmmInfoTable)
-&gt; State DetUniqFM (Maybe CLabel)
-&gt; State DetUniqFM (Maybe (Id, CostCentreStack) -&gt; CmmInfoTable)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(CLabel -&gt; DetRnM CLabel)
-&gt; Maybe CLabel -&gt; State DetUniqFM (Maybe CLabel)
forall {f :: * -&gt; *} {t} {a}.
Applicative f =&gt;
(t -&gt; f a) -&gt; Maybe t -&gt; f (Maybe a)
</span><a href="#local-6989586621682838134"><span class="hs-identifier hs-var">detRenameMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; DetRnM CLabel
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameCLabel"><span class="hs-identifier hs-var">detRenameCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe CLabel
</span><a href="#local-6989586621682838130"><span class="hs-identifier hs-var">cit_srt</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Maybe (Id, CostCentreStack) -&gt; CmmInfoTable)
-&gt; State DetUniqFM (Maybe (Id, CostCentreStack))
-&gt; State DetUniqFM CmmInfoTable
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span>
</span><span id="line-157"></span><span>           </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe (Id, CostCentreStack)
</span><a href="#local-6989586621682838132"><span class="hs-identifier hs-var">cit_clo</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-158"></span><span>              </span><span class="annot"><span class="annottext">Maybe (Id, CostCentreStack)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Id, CostCentreStack)
-&gt; State DetUniqFM (Maybe (Id, CostCentreStack))
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Id, CostCentreStack)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-159"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682838135"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682838135"><span class="hs-identifier hs-var">an_id</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682838136"><span class="annot"><span class="annottext">CostCentreStack
</span><a href="#local-6989586621682838136"><span class="hs-identifier hs-var">ccs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Id, CostCentreStack) -&gt; Maybe (Id, CostCentreStack)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">((Id, CostCentreStack) -&gt; Maybe (Id, CostCentreStack))
-&gt; (Id -&gt; (Id, CostCentreStack))
-&gt; Id
-&gt; Maybe (Id, CostCentreStack)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="annot"><span class="annottext">CostCentreStack
</span><a href="#local-6989586621682838136"><span class="hs-identifier hs-var">ccs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Id -&gt; Maybe (Id, CostCentreStack))
-&gt; DetRnM Id -&gt; State DetUniqFM (Maybe (Id, CostCentreStack))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Id -&gt; DetRnM Id
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameId"><span class="hs-identifier hs-var">detRenameId</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682838135"><span class="hs-identifier hs-var">an_id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span>    </span><span class="annot"><a href="#local-6989586621682838122"><span class="hs-identifier hs-type">detRenameCmmStatic</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.html#CmmStatic"><span class="hs-identifier hs-type">CmmStatic</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.html#CmmStatic"><span class="hs-identifier hs-type">CmmStatic</span></a></span><span>
</span><span id="line-162"></span><span>    </span><span id="local-6989586621682838122"><span class="annot"><span class="annottext">detRenameCmmStatic :: CmmStatic -&gt; State DetUniqFM CmmStatic
</span><a href="#local-6989586621682838122"><span class="hs-identifier hs-var hs-var">detRenameCmmStatic</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-163"></span><span>      </span><span class="annot"><a href="GHC.Cmm.html#CmmStaticLit"><span class="hs-identifier hs-type">CmmStaticLit</span></a></span><span> </span><span id="local-6989586621682838138"><span class="annot"><span class="annottext">CmmLit
</span><a href="#local-6989586621682838138"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; CmmStatic
</span><a href="GHC.Cmm.html#CmmStaticLit"><span class="hs-identifier hs-var">CmmStaticLit</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmLit -&gt; CmmStatic)
-&gt; State DetUniqFM CmmLit -&gt; State DetUniqFM CmmStatic
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; State DetUniqFM CmmLit
</span><a href="#local-6989586621682838118"><span class="hs-identifier hs-var">detRenameCmmLit</span></a></span><span> </span><span class="annot"><span class="annottext">CmmLit
</span><a href="#local-6989586621682838138"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-164"></span><span>      </span><span class="annot"><a href="GHC.Cmm.html#CmmUninitialised"><span class="hs-identifier hs-type">CmmUninitialised</span></a></span><span> </span><span id="local-6989586621682838140"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838140"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmStatic -&gt; State DetUniqFM CmmStatic
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(CmmStatic -&gt; State DetUniqFM CmmStatic)
-&gt; CmmStatic -&gt; State DetUniqFM CmmStatic
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; CmmStatic
</span><a href="GHC.Cmm.html#CmmUninitialised"><span class="hs-identifier hs-var">CmmUninitialised</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838140"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-165"></span><span>      </span><span class="annot"><a href="GHC.Cmm.html#CmmString"><span class="hs-identifier hs-type">CmmString</span></a></span><span> </span><span id="local-6989586621682838142"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682838142"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmStatic -&gt; State DetUniqFM CmmStatic
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(CmmStatic -&gt; State DetUniqFM CmmStatic)
-&gt; CmmStatic -&gt; State DetUniqFM CmmStatic
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ByteString -&gt; CmmStatic
</span><a href="GHC.Cmm.html#CmmString"><span class="hs-identifier hs-var">CmmString</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621682838142"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-166"></span><span>      </span><span class="annot"><a href="GHC.Cmm.html#CmmFileEmbed"><span class="hs-identifier hs-type">CmmFileEmbed</span></a></span><span> </span><span id="local-6989586621682838144"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682838144"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682838145"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838145"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmStatic -&gt; State DetUniqFM CmmStatic
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(CmmStatic -&gt; State DetUniqFM CmmStatic)
-&gt; CmmStatic -&gt; State DetUniqFM CmmStatic
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; CmmStatic
</span><a href="GHC.Cmm.html#CmmFileEmbed"><span class="hs-identifier hs-var">CmmFileEmbed</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682838144"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838145"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span>    </span><span class="annot"><a href="#local-6989586621682838118"><span class="hs-identifier hs-type">detRenameCmmLit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span>
</span><span id="line-169"></span><span>    </span><span id="local-6989586621682838118"><span class="annot"><span class="annottext">detRenameCmmLit :: CmmLit -&gt; State DetUniqFM CmmLit
</span><a href="#local-6989586621682838118"><span class="hs-identifier hs-var hs-var">detRenameCmmLit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-170"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682838147"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682838147"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621682838148"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682838148"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; State DetUniqFM CmmLit
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(CmmLit -&gt; State DetUniqFM CmmLit)
-&gt; CmmLit -&gt; State DetUniqFM CmmLit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-var">CmmInt</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682838147"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682838148"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-171"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmFloat"><span class="hs-identifier hs-type">CmmFloat</span></a></span><span> </span><span id="local-6989586621682838150"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682838150"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621682838151"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682838151"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; State DetUniqFM CmmLit
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(CmmLit -&gt; State DetUniqFM CmmLit)
-&gt; CmmLit -&gt; State DetUniqFM CmmLit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmFloat"><span class="hs-identifier hs-var">CmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621682838150"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682838151"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-172"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmVec"><span class="hs-identifier hs-type">CmmVec</span></a></span><span> </span><span id="local-6989586621682838153"><span class="annot"><span class="annottext">[CmmLit]
</span><a href="#local-6989586621682838153"><span class="hs-identifier hs-var">lits</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmLit] -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmVec"><span class="hs-identifier hs-var">CmmVec</span></a></span><span> </span><span class="annot"><span class="annottext">([CmmLit] -&gt; CmmLit)
-&gt; State DetUniqFM [CmmLit] -&gt; State DetUniqFM CmmLit
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(CmmLit -&gt; State DetUniqFM CmmLit)
-&gt; [CmmLit] -&gt; State DetUniqFM [CmmLit]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; State DetUniqFM CmmLit
</span><a href="#local-6989586621682838118"><span class="hs-identifier hs-var">detRenameCmmLit</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmLit]
</span><a href="#local-6989586621682838153"><span class="hs-identifier hs-var">lits</span></a></span><span>
</span><span id="line-173"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-type">CmmLabel</span></a></span><span> </span><span id="local-6989586621682838155"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838155"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-var">CmmLabel</span></a></span><span> </span><span class="annot"><span class="annottext">(CLabel -&gt; CmmLit) -&gt; DetRnM CLabel -&gt; State DetUniqFM CmmLit
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; DetRnM CLabel
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameCLabel"><span class="hs-identifier hs-var">detRenameCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838155"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-174"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabelOff"><span class="hs-identifier hs-type">CmmLabelOff</span></a></span><span> </span><span id="local-6989586621682838157"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838157"><span class="hs-identifier hs-var">lbl</span></a></span></span><span> </span><span id="local-6989586621682838158"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838158"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; Int -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmLabelOff"><span class="hs-identifier hs-var">CmmLabelOff</span></a></span><span> </span><span class="annot"><span class="annottext">(CLabel -&gt; Int -&gt; CmmLit)
-&gt; DetRnM CLabel -&gt; State DetUniqFM (Int -&gt; CmmLit)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; DetRnM CLabel
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameCLabel"><span class="hs-identifier hs-var">detRenameCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838157"><span class="hs-identifier hs-var">lbl</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Int -&gt; CmmLit)
-&gt; State DetUniqFM Int -&gt; State DetUniqFM CmmLit
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; State DetUniqFM Int
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838158"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-175"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabelDiffOff"><span class="hs-identifier hs-type">CmmLabelDiffOff</span></a></span><span> </span><span id="local-6989586621682838160"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838160"><span class="hs-identifier hs-var">lbl1</span></a></span></span><span> </span><span id="local-6989586621682838161"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838161"><span class="hs-identifier hs-var">lbl2</span></a></span></span><span> </span><span id="local-6989586621682838162"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838162"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621682838163"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682838163"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-176"></span><span>        </span><span class="annot"><span class="annottext">CLabel -&gt; CLabel -&gt; Int -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmLabelDiffOff"><span class="hs-identifier hs-var">CmmLabelDiffOff</span></a></span><span> </span><span class="annot"><span class="annottext">(CLabel -&gt; CLabel -&gt; Int -&gt; Width -&gt; CmmLit)
-&gt; DetRnM CLabel
-&gt; State DetUniqFM (CLabel -&gt; Int -&gt; Width -&gt; CmmLit)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; DetRnM CLabel
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameCLabel"><span class="hs-identifier hs-var">detRenameCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838160"><span class="hs-identifier hs-var">lbl1</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (CLabel -&gt; Int -&gt; Width -&gt; CmmLit)
-&gt; DetRnM CLabel -&gt; State DetUniqFM (Int -&gt; Width -&gt; CmmLit)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; DetRnM CLabel
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameCLabel"><span class="hs-identifier hs-var">detRenameCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838161"><span class="hs-identifier hs-var">lbl2</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Int -&gt; Width -&gt; CmmLit)
-&gt; State DetUniqFM Int -&gt; State DetUniqFM (Width -&gt; CmmLit)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; State DetUniqFM Int
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838162"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Width -&gt; CmmLit)
-&gt; State DetUniqFM Width -&gt; State DetUniqFM CmmLit
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Width -&gt; State DetUniqFM Width
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682838163"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-177"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmBlock"><span class="hs-identifier hs-type">CmmBlock</span></a></span><span> </span><span id="local-6989586621682838165"><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838165"><span class="hs-identifier hs-var">bid</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Label -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmBlock"><span class="hs-identifier hs-var">CmmBlock</span></a></span><span> </span><span class="annot"><span class="annottext">(Label -&gt; CmmLit)
-&gt; State DetUniqFM Label -&gt; State DetUniqFM CmmLit
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Label -&gt; State DetUniqFM Label
</span><a href="#local-6989586621682838071"><span class="hs-identifier hs-var">detRenameLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838165"><span class="hs-identifier hs-var">bid</span></a></span><span>
</span><span id="line-178"></span><span>      </span><span class="annot"><span class="annottext">CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmHighStackMark"><span class="hs-identifier hs-var">CmmHighStackMark</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; State DetUniqFM CmmLit
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmHighStackMark"><span class="hs-identifier hs-var">CmmHighStackMark</span></a></span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span>    </span><span id="local-6989586621682837802"><span id="local-6989586621682837803"><span id="local-6989586621682837804"><span class="annot"><a href="#local-6989586621682838094"><span class="hs-identifier hs-type">detRenameMaybeBlock</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#MaybeO"><span class="hs-identifier hs-type">MaybeO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682837802"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmNode"><span class="hs-identifier hs-type">CmmNode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682837803"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682837804"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#MaybeO"><span class="hs-identifier hs-type">MaybeO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682837802"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmNode"><span class="hs-identifier hs-type">CmmNode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682837803"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682837804"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-181"></span><span>    </span><span id="local-6989586621682838094"><span class="annot"><span class="annottext">detRenameMaybeBlock :: forall (n :: Extensibility) (a :: Extensibility)
       (b :: Extensibility).
MaybeO n (Block CmmNode a b)
-&gt; DetRnM (MaybeO n (Block CmmNode a b))
</span><a href="#local-6989586621682838094"><span class="hs-identifier hs-var hs-var">detRenameMaybeBlock</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#JustO"><span class="hs-identifier hs-type">JustO</span></a></span><span> </span><span id="local-6989586621682838170"><span class="annot"><span class="annottext">Block CmmNode a b
</span><a href="#local-6989586621682838170"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Block CmmNode a b -&gt; MaybeO n (Block CmmNode a b)
Block CmmNode a b -&gt; MaybeO 'Open (Block CmmNode a b)
forall t. t -&gt; MaybeO 'Open t
</span><a href="GHC.Cmm.Dataflow.Block.html#JustO"><span class="hs-identifier hs-var">JustO</span></a></span><span> </span><span class="annot"><span class="annottext">(Block CmmNode a b -&gt; MaybeO n (Block CmmNode a b))
-&gt; State DetUniqFM (Block CmmNode a b)
-&gt; State DetUniqFM (MaybeO n (Block CmmNode a b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Block CmmNode a b -&gt; State DetUniqFM (Block CmmNode a b)
forall (n :: Extensibility) (m :: Extensibility).
Block CmmNode n m -&gt; DetRnM (Block CmmNode n m)
</span><a href="#local-6989586621682838089"><span class="hs-identifier hs-var">detRenameBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Block CmmNode a b
</span><a href="#local-6989586621682838170"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-182"></span><span>    </span><span class="annot"><a href="#local-6989586621682838094"><span class="hs-identifier hs-var">detRenameMaybeBlock</span></a></span><span> </span><span class="annot"><span class="annottext">MaybeO n (Block CmmNode a b)
</span><a href="GHC.Cmm.Dataflow.Block.html#NothingO"><span class="hs-identifier hs-var">NothingO</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MaybeO n (Block CmmNode a b)
-&gt; State DetUniqFM (MaybeO n (Block CmmNode a b))
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">MaybeO n (Block CmmNode a b)
MaybeO C (Block CmmNode a b)
forall t. MaybeO C t
</span><a href="GHC.Cmm.Dataflow.Block.html#NothingO"><span class="hs-identifier hs-var">NothingO</span></a></span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span>    </span><span id="local-6989586621682837796"><span id="local-6989586621682837797"><span class="annot"><a href="#local-6989586621682838089"><span class="hs-identifier hs-type">detRenameBlock</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmNode"><span class="hs-identifier hs-type">CmmNode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682837796"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682837797"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#Block"><span class="hs-identifier hs-type">Block</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmNode"><span class="hs-identifier hs-type">CmmNode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682837796"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682837797"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-185"></span><span>    </span><span id="local-6989586621682838089"><span class="annot"><span class="annottext">detRenameBlock :: forall (n :: Extensibility) (m :: Extensibility).
Block CmmNode n m -&gt; DetRnM (Block CmmNode n m)
</span><a href="#local-6989586621682838089"><span class="hs-identifier hs-var hs-var">detRenameBlock</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-186"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#BlockCO"><span class="hs-identifier hs-type">BlockCO</span></a></span><span> </span><span id="local-6989586621682838179"><span class="annot"><span class="annottext">CmmNode C 'Open
</span><a href="#local-6989586621682838179"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682838180"><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838180"><span class="hs-identifier hs-var">bn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmNode C 'Open -&gt; Block CmmNode 'Open 'Open -&gt; Block CmmNode n m
CmmNode C 'Open
-&gt; Block CmmNode 'Open 'Open -&gt; Block CmmNode C 'Open
forall (n :: Extensibility -&gt; Extensibility -&gt; *).
n C 'Open -&gt; Block n 'Open 'Open -&gt; Block n C 'Open
</span><a href="GHC.Cmm.Dataflow.Block.html#BlockCO"><span class="hs-identifier hs-var">BlockCO</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmNode C 'Open -&gt; Block CmmNode 'Open 'Open -&gt; Block CmmNode n m)
-&gt; State DetUniqFM (CmmNode C 'Open)
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open -&gt; Block CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmNode C 'Open -&gt; State DetUniqFM (CmmNode C 'Open)
forall (n :: Extensibility) (m :: Extensibility).
CmmNode n m -&gt; DetRnM (CmmNode n m)
</span><a href="#local-6989586621682838181"><span class="hs-identifier hs-var">detRenameCmmNode</span></a></span><span> </span><span class="annot"><span class="annottext">CmmNode C 'Open
</span><a href="#local-6989586621682838179"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Block CmmNode 'Open 'Open -&gt; Block CmmNode n m)
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
-&gt; DetRnM (Block CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
forall (n :: Extensibility) (m :: Extensibility).
Block CmmNode n m -&gt; DetRnM (Block CmmNode n m)
</span><a href="#local-6989586621682838089"><span class="hs-identifier hs-var">detRenameBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838180"><span class="hs-identifier hs-var">bn</span></a></span><span>
</span><span id="line-187"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#BlockCC"><span class="hs-identifier hs-type">BlockCC</span></a></span><span> </span><span id="local-6989586621682838188"><span class="annot"><span class="annottext">CmmNode C 'Open
</span><a href="#local-6989586621682838188"><span class="hs-identifier hs-var">n1</span></a></span></span><span> </span><span id="local-6989586621682838189"><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838189"><span class="hs-identifier hs-var">bn</span></a></span></span><span> </span><span id="local-6989586621682838190"><span class="annot"><span class="annottext">CmmNode 'Open C
</span><a href="#local-6989586621682838190"><span class="hs-identifier hs-var">n2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmNode C 'Open
-&gt; Block CmmNode 'Open 'Open
-&gt; CmmNode 'Open C
-&gt; Block CmmNode n m
CmmNode C 'Open
-&gt; Block CmmNode 'Open 'Open
-&gt; CmmNode 'Open C
-&gt; Block CmmNode C C
forall (n :: Extensibility -&gt; Extensibility -&gt; *).
n C 'Open -&gt; Block n 'Open 'Open -&gt; n 'Open C -&gt; Block n C C
</span><a href="GHC.Cmm.Dataflow.Block.html#BlockCC"><span class="hs-identifier hs-var">BlockCC</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmNode C 'Open
 -&gt; Block CmmNode 'Open 'Open
 -&gt; CmmNode 'Open C
 -&gt; Block CmmNode n m)
-&gt; State DetUniqFM (CmmNode C 'Open)
-&gt; State
     DetUniqFM
     (Block CmmNode 'Open 'Open -&gt; CmmNode 'Open C -&gt; Block CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmNode C 'Open -&gt; State DetUniqFM (CmmNode C 'Open)
forall (n :: Extensibility) (m :: Extensibility).
CmmNode n m -&gt; DetRnM (CmmNode n m)
</span><a href="#local-6989586621682838181"><span class="hs-identifier hs-var">detRenameCmmNode</span></a></span><span> </span><span class="annot"><span class="annottext">CmmNode C 'Open
</span><a href="#local-6989586621682838188"><span class="hs-identifier hs-var">n1</span></a></span><span> </span><span class="annot"><span class="annottext">State
  DetUniqFM
  (Block CmmNode 'Open 'Open -&gt; CmmNode 'Open C -&gt; Block CmmNode n m)
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
-&gt; State DetUniqFM (CmmNode 'Open C -&gt; Block CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
forall (n :: Extensibility) (m :: Extensibility).
Block CmmNode n m -&gt; DetRnM (Block CmmNode n m)
</span><a href="#local-6989586621682838089"><span class="hs-identifier hs-var">detRenameBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838189"><span class="hs-identifier hs-var">bn</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (CmmNode 'Open C -&gt; Block CmmNode n m)
-&gt; State DetUniqFM (CmmNode 'Open C) -&gt; DetRnM (Block CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmNode 'Open C -&gt; State DetUniqFM (CmmNode 'Open C)
forall (n :: Extensibility) (m :: Extensibility).
CmmNode n m -&gt; DetRnM (CmmNode n m)
</span><a href="#local-6989586621682838181"><span class="hs-identifier hs-var">detRenameCmmNode</span></a></span><span> </span><span class="annot"><span class="annottext">CmmNode 'Open C
</span><a href="#local-6989586621682838190"><span class="hs-identifier hs-var">n2</span></a></span><span>
</span><span id="line-188"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#BlockOC"><span class="hs-identifier hs-type">BlockOC</span></a></span><span> </span><span id="local-6989586621682838196"><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838196"><span class="hs-identifier hs-var">bn</span></a></span></span><span> </span><span id="local-6989586621682838197"><span class="annot"><span class="annottext">CmmNode 'Open C
</span><a href="#local-6989586621682838197"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open -&gt; CmmNode 'Open C -&gt; Block CmmNode n m
Block CmmNode 'Open 'Open
-&gt; CmmNode 'Open C -&gt; Block CmmNode 'Open C
forall (n :: Extensibility -&gt; Extensibility -&gt; *).
Block n 'Open 'Open -&gt; n 'Open C -&gt; Block n 'Open C
</span><a href="GHC.Cmm.Dataflow.Block.html#BlockOC"><span class="hs-identifier hs-var">BlockOC</span></a></span><span> </span><span class="annot"><span class="annottext">(Block CmmNode 'Open 'Open -&gt; CmmNode 'Open C -&gt; Block CmmNode n m)
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
-&gt; State DetUniqFM (CmmNode 'Open C -&gt; Block CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
forall (n :: Extensibility) (m :: Extensibility).
Block CmmNode n m -&gt; DetRnM (Block CmmNode n m)
</span><a href="#local-6989586621682838089"><span class="hs-identifier hs-var">detRenameBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838196"><span class="hs-identifier hs-var">bn</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (CmmNode 'Open C -&gt; Block CmmNode n m)
-&gt; State DetUniqFM (CmmNode 'Open C) -&gt; DetRnM (Block CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmNode 'Open C -&gt; State DetUniqFM (CmmNode 'Open C)
forall (n :: Extensibility) (m :: Extensibility).
CmmNode n m -&gt; DetRnM (CmmNode n m)
</span><a href="#local-6989586621682838181"><span class="hs-identifier hs-var">detRenameCmmNode</span></a></span><span> </span><span class="annot"><span class="annottext">CmmNode 'Open C
</span><a href="#local-6989586621682838197"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-189"></span><span>      </span><span class="annot"><span class="annottext">Block CmmNode n m
</span><a href="GHC.Cmm.Dataflow.Block.html#BNil"><span class="hs-identifier hs-var">BNil</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Block CmmNode n m -&gt; DetRnM (Block CmmNode n m)
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Block CmmNode n m
Block CmmNode 'Open 'Open
forall (n :: Extensibility -&gt; Extensibility -&gt; *).
Block n 'Open 'Open
</span><a href="GHC.Cmm.Dataflow.Block.html#BNil"><span class="hs-identifier hs-var">BNil</span></a></span><span>
</span><span id="line-190"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#BMiddle"><span class="hs-identifier hs-type">BMiddle</span></a></span><span> </span><span id="local-6989586621682838206"><span class="annot"><span class="annottext">CmmNode 'Open 'Open
</span><a href="#local-6989586621682838206"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmNode 'Open 'Open -&gt; Block CmmNode n m
CmmNode 'Open 'Open -&gt; Block CmmNode 'Open 'Open
forall (n :: Extensibility -&gt; Extensibility -&gt; *).
n 'Open 'Open -&gt; Block n 'Open 'Open
</span><a href="GHC.Cmm.Dataflow.Block.html#BMiddle"><span class="hs-identifier hs-var">BMiddle</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmNode 'Open 'Open -&gt; Block CmmNode n m)
-&gt; State DetUniqFM (CmmNode 'Open 'Open)
-&gt; DetRnM (Block CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmNode 'Open 'Open -&gt; State DetUniqFM (CmmNode 'Open 'Open)
forall (n :: Extensibility) (m :: Extensibility).
CmmNode n m -&gt; DetRnM (CmmNode n m)
</span><a href="#local-6989586621682838181"><span class="hs-identifier hs-var">detRenameCmmNode</span></a></span><span> </span><span class="annot"><span class="annottext">CmmNode 'Open 'Open
</span><a href="#local-6989586621682838206"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-191"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#BCat"><span class="hs-identifier hs-type">BCat</span></a></span><span>    </span><span id="local-6989586621682838212"><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838212"><span class="hs-identifier hs-var">b1</span></a></span></span><span> </span><span id="local-6989586621682838213"><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838213"><span class="hs-identifier hs-var">b2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
-&gt; Block CmmNode 'Open 'Open -&gt; Block CmmNode n m
Block CmmNode 'Open 'Open
-&gt; Block CmmNode 'Open 'Open -&gt; Block CmmNode 'Open 'Open
forall (n :: Extensibility -&gt; Extensibility -&gt; *).
Block n 'Open 'Open -&gt; Block n 'Open 'Open -&gt; Block n 'Open 'Open
</span><a href="GHC.Cmm.Dataflow.Block.html#BCat"><span class="hs-identifier hs-var">BCat</span></a></span><span> </span><span class="annot"><span class="annottext">(Block CmmNode 'Open 'Open
 -&gt; Block CmmNode 'Open 'Open -&gt; Block CmmNode n m)
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open -&gt; Block CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
forall (n :: Extensibility) (m :: Extensibility).
Block CmmNode n m -&gt; DetRnM (Block CmmNode n m)
</span><a href="#local-6989586621682838089"><span class="hs-identifier hs-var">detRenameBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838212"><span class="hs-identifier hs-var">b1</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Block CmmNode 'Open 'Open -&gt; Block CmmNode n m)
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
-&gt; DetRnM (Block CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
forall (n :: Extensibility) (m :: Extensibility).
Block CmmNode n m -&gt; DetRnM (Block CmmNode n m)
</span><a href="#local-6989586621682838089"><span class="hs-identifier hs-var">detRenameBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838213"><span class="hs-identifier hs-var">b2</span></a></span><span>
</span><span id="line-192"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#BSnoc"><span class="hs-identifier hs-type">BSnoc</span></a></span><span>   </span><span id="local-6989586621682838219"><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838219"><span class="hs-identifier hs-var">bn</span></a></span></span><span> </span><span id="local-6989586621682838220"><span class="annot"><span class="annottext">CmmNode 'Open 'Open
</span><a href="#local-6989586621682838220"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
-&gt; CmmNode 'Open 'Open -&gt; Block CmmNode n m
Block CmmNode 'Open 'Open
-&gt; CmmNode 'Open 'Open -&gt; Block CmmNode 'Open 'Open
forall (n :: Extensibility -&gt; Extensibility -&gt; *).
Block n 'Open 'Open -&gt; n 'Open 'Open -&gt; Block n 'Open 'Open
</span><a href="GHC.Cmm.Dataflow.Block.html#BSnoc"><span class="hs-identifier hs-var">BSnoc</span></a></span><span> </span><span class="annot"><span class="annottext">(Block CmmNode 'Open 'Open
 -&gt; CmmNode 'Open 'Open -&gt; Block CmmNode n m)
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
-&gt; State DetUniqFM (CmmNode 'Open 'Open -&gt; Block CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
forall (n :: Extensibility) (m :: Extensibility).
Block CmmNode n m -&gt; DetRnM (Block CmmNode n m)
</span><a href="#local-6989586621682838089"><span class="hs-identifier hs-var">detRenameBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838219"><span class="hs-identifier hs-var">bn</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (CmmNode 'Open 'Open -&gt; Block CmmNode n m)
-&gt; State DetUniqFM (CmmNode 'Open 'Open)
-&gt; DetRnM (Block CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmNode 'Open 'Open -&gt; State DetUniqFM (CmmNode 'Open 'Open)
forall (n :: Extensibility) (m :: Extensibility).
CmmNode n m -&gt; DetRnM (CmmNode n m)
</span><a href="#local-6989586621682838181"><span class="hs-identifier hs-var">detRenameCmmNode</span></a></span><span> </span><span class="annot"><span class="annottext">CmmNode 'Open 'Open
</span><a href="#local-6989586621682838220"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-193"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Dataflow.Block.html#BCons"><span class="hs-identifier hs-type">BCons</span></a></span><span>   </span><span id="local-6989586621682838226"><span class="annot"><span class="annottext">CmmNode 'Open 'Open
</span><a href="#local-6989586621682838226"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682838227"><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838227"><span class="hs-identifier hs-var">bn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmNode 'Open 'Open
-&gt; Block CmmNode 'Open 'Open -&gt; Block CmmNode n m
CmmNode 'Open 'Open
-&gt; Block CmmNode 'Open 'Open -&gt; Block CmmNode 'Open 'Open
forall (n :: Extensibility -&gt; Extensibility -&gt; *).
n 'Open 'Open -&gt; Block n 'Open 'Open -&gt; Block n 'Open 'Open
</span><a href="GHC.Cmm.Dataflow.Block.html#BCons"><span class="hs-identifier hs-var">BCons</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmNode 'Open 'Open
 -&gt; Block CmmNode 'Open 'Open -&gt; Block CmmNode n m)
-&gt; State DetUniqFM (CmmNode 'Open 'Open)
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open -&gt; Block CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmNode 'Open 'Open -&gt; State DetUniqFM (CmmNode 'Open 'Open)
forall (n :: Extensibility) (m :: Extensibility).
CmmNode n m -&gt; DetRnM (CmmNode n m)
</span><a href="#local-6989586621682838181"><span class="hs-identifier hs-var">detRenameCmmNode</span></a></span><span> </span><span class="annot"><span class="annottext">CmmNode 'Open 'Open
</span><a href="#local-6989586621682838226"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Block CmmNode 'Open 'Open -&gt; Block CmmNode n m)
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
-&gt; DetRnM (Block CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
-&gt; State DetUniqFM (Block CmmNode 'Open 'Open)
forall (n :: Extensibility) (m :: Extensibility).
Block CmmNode n m -&gt; DetRnM (Block CmmNode n m)
</span><a href="#local-6989586621682838089"><span class="hs-identifier hs-var">detRenameBlock</span></a></span><span> </span><span class="annot"><span class="annottext">Block CmmNode 'Open 'Open
</span><a href="#local-6989586621682838227"><span class="hs-identifier hs-var">bn</span></a></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span>    </span><span id="local-6989586621682837831"><span id="local-6989586621682837832"><span class="annot"><a href="#local-6989586621682838181"><span class="hs-identifier hs-type">detRenameCmmNode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmNode"><span class="hs-identifier hs-type">CmmNode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682837831"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682837832"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmNode"><span class="hs-identifier hs-type">CmmNode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682837831"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682837832"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-196"></span><span>    </span><span id="local-6989586621682838181"><span class="annot"><span class="annottext">detRenameCmmNode :: forall (n :: Extensibility) (m :: Extensibility).
CmmNode n m -&gt; DetRnM (CmmNode n m)
</span><a href="#local-6989586621682838181"><span class="hs-identifier hs-var hs-var">detRenameCmmNode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-197"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmEntry"><span class="hs-identifier hs-type">CmmEntry</span></a></span><span> </span><span id="local-6989586621682838233"><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838233"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621682838234"><span class="annot"><span class="annottext">CmmTickScope
</span><a href="#local-6989586621682838234"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Label -&gt; CmmTickScope -&gt; CmmNode n m
Label -&gt; CmmTickScope -&gt; CmmNode C 'Open
</span><a href="GHC.Cmm.Node.html#CmmEntry"><span class="hs-identifier hs-var">CmmEntry</span></a></span><span> </span><span class="annot"><span class="annottext">(Label -&gt; CmmTickScope -&gt; CmmNode n m)
-&gt; State DetUniqFM Label
-&gt; State DetUniqFM (CmmTickScope -&gt; CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Label -&gt; State DetUniqFM Label
</span><a href="#local-6989586621682838071"><span class="hs-identifier hs-var">detRenameLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838233"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (CmmTickScope -&gt; CmmNode n m)
-&gt; State DetUniqFM CmmTickScope -&gt; DetRnM (CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmTickScope -&gt; State DetUniqFM CmmTickScope
</span><a href="#local-6989586621682838235"><span class="hs-identifier hs-var">detRenameCmmTick</span></a></span><span> </span><span class="annot"><span class="annottext">CmmTickScope
</span><a href="#local-6989586621682838234"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-198"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmComment"><span class="hs-identifier hs-type">CmmComment</span></a></span><span> </span><span id="local-6989586621682838240"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682838240"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmNode 'Open 'Open -&gt; State DetUniqFM (CmmNode 'Open 'Open)
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(CmmNode 'Open 'Open -&gt; State DetUniqFM (CmmNode 'Open 'Open))
-&gt; CmmNode 'Open 'Open -&gt; State DetUniqFM (CmmNode 'Open 'Open)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; CmmNode 'Open 'Open
</span><a href="GHC.Cmm.Node.html#CmmComment"><span class="hs-identifier hs-var">CmmComment</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682838240"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-199"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmTick"><span class="hs-identifier hs-type">CmmTick</span></a></span><span> </span><span id="local-6989586621682838245"><span class="annot"><span class="annottext">CmmTickish
</span><a href="#local-6989586621682838245"><span class="hs-identifier hs-var">tickish</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmNode 'Open 'Open -&gt; State DetUniqFM (CmmNode 'Open 'Open)
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(CmmNode 'Open 'Open -&gt; State DetUniqFM (CmmNode 'Open 'Open))
-&gt; CmmNode 'Open 'Open -&gt; State DetUniqFM (CmmNode 'Open 'Open)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CmmTickish -&gt; CmmNode 'Open 'Open
</span><a href="GHC.Cmm.Node.html#CmmTick"><span class="hs-identifier hs-var">CmmTick</span></a></span><span> </span><span class="annot"><span class="annottext">CmmTickish
</span><a href="#local-6989586621682838245"><span class="hs-identifier hs-var">tickish</span></a></span><span>
</span><span id="line-200"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmUnwind"><span class="hs-identifier hs-type">CmmUnwind</span></a></span><span> </span><span id="local-6989586621682838254"><span class="annot"><span class="annottext">[(GlobalReg, Maybe CmmExpr)]
</span><a href="#local-6989586621682838254"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[(GlobalReg, Maybe CmmExpr)] -&gt; CmmNode n m
[(GlobalReg, Maybe CmmExpr)] -&gt; CmmNode 'Open 'Open
</span><a href="GHC.Cmm.Node.html#CmmUnwind"><span class="hs-identifier hs-var">CmmUnwind</span></a></span><span> </span><span class="annot"><span class="annottext">([(GlobalReg, Maybe CmmExpr)] -&gt; CmmNode n m)
-&gt; State DetUniqFM [(GlobalReg, Maybe CmmExpr)]
-&gt; DetRnM (CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((GlobalReg, Maybe CmmExpr)
 -&gt; State DetUniqFM (GlobalReg, Maybe CmmExpr))
-&gt; [(GlobalReg, Maybe CmmExpr)]
-&gt; State DetUniqFM [(GlobalReg, Maybe CmmExpr)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GlobalReg -&gt; State DetUniqFM GlobalReg)
-&gt; (Maybe CmmExpr -&gt; State DetUniqFM (Maybe CmmExpr))
-&gt; (GlobalReg, Maybe CmmExpr)
-&gt; State DetUniqFM (GlobalReg, Maybe CmmExpr)
forall {f :: * -&gt; *} {t} {a} {t} {a}.
Applicative f =&gt;
(t -&gt; f a) -&gt; (t -&gt; f a) -&gt; (t, t) -&gt; f (a, a)
</span><a href="#local-6989586621682838070"><span class="hs-identifier hs-var">detRenamePair</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalReg -&gt; State DetUniqFM GlobalReg
</span><a href="#local-6989586621682838255"><span class="hs-identifier hs-var">detRenameGlobalReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CmmExpr -&gt; State DetUniqFM CmmExpr)
-&gt; Maybe CmmExpr -&gt; State DetUniqFM (Maybe CmmExpr)
forall {f :: * -&gt; *} {t} {a}.
Applicative f =&gt;
(t -&gt; f a) -&gt; Maybe t -&gt; f (Maybe a)
</span><a href="#local-6989586621682838134"><span class="hs-identifier hs-var">detRenameMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; State DetUniqFM CmmExpr
</span><a href="#local-6989586621682838256"><span class="hs-identifier hs-var">detRenameCmmExpr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(GlobalReg, Maybe CmmExpr)]
</span><a href="#local-6989586621682838254"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-201"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmAssign"><span class="hs-identifier hs-type">CmmAssign</span></a></span><span> </span><span id="local-6989586621682838262"><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682838262"><span class="hs-identifier hs-var">reg</span></a></span></span><span> </span><span id="local-6989586621682838263"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838263"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; CmmNode n m
CmmReg -&gt; CmmExpr -&gt; CmmNode 'Open 'Open
</span><a href="GHC.Cmm.Node.html#CmmAssign"><span class="hs-identifier hs-var">CmmAssign</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmReg -&gt; CmmExpr -&gt; CmmNode n m)
-&gt; State DetUniqFM CmmReg
-&gt; State DetUniqFM (CmmExpr -&gt; CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; State DetUniqFM CmmReg
</span><a href="#local-6989586621682838264"><span class="hs-identifier hs-var">detRenameCmmReg</span></a></span><span> </span><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682838262"><span class="hs-identifier hs-var">reg</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (CmmExpr -&gt; CmmNode n m)
-&gt; State DetUniqFM CmmExpr -&gt; DetRnM (CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; State DetUniqFM CmmExpr
</span><a href="#local-6989586621682838256"><span class="hs-identifier hs-var">detRenameCmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838263"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-202"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmStore"><span class="hs-identifier hs-type">CmmStore</span></a></span><span> </span><span id="local-6989586621682838272"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838272"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682838273"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838273"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span id="local-6989586621682838274"><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682838274"><span class="hs-identifier hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; AlignmentSpec -&gt; CmmNode n m
CmmExpr -&gt; CmmExpr -&gt; AlignmentSpec -&gt; CmmNode 'Open 'Open
</span><a href="GHC.Cmm.Node.html#CmmStore"><span class="hs-identifier hs-var">CmmStore</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; CmmExpr -&gt; AlignmentSpec -&gt; CmmNode n m)
-&gt; State DetUniqFM CmmExpr
-&gt; State DetUniqFM (CmmExpr -&gt; AlignmentSpec -&gt; CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; State DetUniqFM CmmExpr
</span><a href="#local-6989586621682838256"><span class="hs-identifier hs-var">detRenameCmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838272"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (CmmExpr -&gt; AlignmentSpec -&gt; CmmNode n m)
-&gt; State DetUniqFM CmmExpr
-&gt; State DetUniqFM (AlignmentSpec -&gt; CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; State DetUniqFM CmmExpr
</span><a href="#local-6989586621682838256"><span class="hs-identifier hs-var">detRenameCmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838273"><span class="hs-identifier hs-var">e2</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (AlignmentSpec -&gt; CmmNode n m)
-&gt; State DetUniqFM AlignmentSpec -&gt; DetRnM (CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">AlignmentSpec -&gt; State DetUniqFM AlignmentSpec
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682838274"><span class="hs-identifier hs-var">align</span></a></span><span>
</span><span id="line-203"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmUnsafeForeignCall"><span class="hs-identifier hs-type">CmmUnsafeForeignCall</span></a></span><span> </span><span id="local-6989586621682838285"><span class="annot"><span class="annottext">ForeignTarget
</span><a href="#local-6989586621682838285"><span class="hs-identifier hs-var">ftgt</span></a></span></span><span> </span><span id="local-6989586621682838286"><span class="annot"><span class="annottext">[CmmFormal]
</span><a href="#local-6989586621682838286"><span class="hs-identifier hs-var">cmmformal</span></a></span></span><span> </span><span id="local-6989586621682838287"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682838287"><span class="hs-identifier hs-var">cmmactual</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-204"></span><span>        </span><span class="annot"><span class="annottext">ForeignTarget -&gt; [CmmFormal] -&gt; [CmmExpr] -&gt; CmmNode n m
ForeignTarget -&gt; [CmmFormal] -&gt; [CmmExpr] -&gt; CmmNode 'Open 'Open
</span><a href="GHC.Cmm.Node.html#CmmUnsafeForeignCall"><span class="hs-identifier hs-var">CmmUnsafeForeignCall</span></a></span><span> </span><span class="annot"><span class="annottext">(ForeignTarget -&gt; [CmmFormal] -&gt; [CmmExpr] -&gt; CmmNode n m)
-&gt; State DetUniqFM ForeignTarget
-&gt; State DetUniqFM ([CmmFormal] -&gt; [CmmExpr] -&gt; CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ForeignTarget -&gt; State DetUniqFM ForeignTarget
</span><a href="#local-6989586621682838288"><span class="hs-identifier hs-var">detRenameForeignTarget</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignTarget
</span><a href="#local-6989586621682838285"><span class="hs-identifier hs-var">ftgt</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM ([CmmFormal] -&gt; [CmmExpr] -&gt; CmmNode n m)
-&gt; State DetUniqFM [CmmFormal]
-&gt; State DetUniqFM ([CmmExpr] -&gt; CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(CmmFormal -&gt; State DetUniqFM CmmFormal)
-&gt; [CmmFormal] -&gt; State DetUniqFM [CmmFormal]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">CmmFormal -&gt; State DetUniqFM CmmFormal
</span><a href="#local-6989586621682838289"><span class="hs-identifier hs-var">detRenameLocalReg</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmFormal]
</span><a href="#local-6989586621682838286"><span class="hs-identifier hs-var">cmmformal</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM ([CmmExpr] -&gt; CmmNode n m)
-&gt; State DetUniqFM [CmmExpr] -&gt; DetRnM (CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; State DetUniqFM CmmExpr)
-&gt; [CmmExpr] -&gt; State DetUniqFM [CmmExpr]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; State DetUniqFM CmmExpr
</span><a href="#local-6989586621682838256"><span class="hs-identifier hs-var">detRenameCmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682838287"><span class="hs-identifier hs-var">cmmactual</span></a></span><span>
</span><span id="line-205"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmBranch"><span class="hs-identifier hs-type">CmmBranch</span></a></span><span> </span><span id="local-6989586621682838294"><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838294"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Label -&gt; CmmNode n m
Label -&gt; CmmNode 'Open C
</span><a href="GHC.Cmm.Node.html#CmmBranch"><span class="hs-identifier hs-var">CmmBranch</span></a></span><span> </span><span class="annot"><span class="annottext">(Label -&gt; CmmNode n m)
-&gt; State DetUniqFM Label -&gt; DetRnM (CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Label -&gt; State DetUniqFM Label
</span><a href="#local-6989586621682838071"><span class="hs-identifier hs-var">detRenameLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838294"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-206"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmCondBranch"><span class="hs-identifier hs-type">CmmCondBranch</span></a></span><span> </span><span id="local-6989586621682838303"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838303"><span class="hs-identifier hs-var">pred</span></a></span></span><span> </span><span id="local-6989586621682838304"><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838304"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621682838305"><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838305"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682838306"><span class="annot"><span class="annottext">Maybe Bool
</span><a href="#local-6989586621682838306"><span class="hs-identifier hs-var">likely</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-207"></span><span>        </span><span class="annot"><span class="annottext">CmmExpr -&gt; Label -&gt; Label -&gt; Maybe Bool -&gt; CmmNode n m
CmmExpr -&gt; Label -&gt; Label -&gt; Maybe Bool -&gt; CmmNode 'Open C
</span><a href="GHC.Cmm.Node.html#CmmCondBranch"><span class="hs-identifier hs-var">CmmCondBranch</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; Label -&gt; Label -&gt; Maybe Bool -&gt; CmmNode n m)
-&gt; State DetUniqFM CmmExpr
-&gt; State DetUniqFM (Label -&gt; Label -&gt; Maybe Bool -&gt; CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; State DetUniqFM CmmExpr
</span><a href="#local-6989586621682838256"><span class="hs-identifier hs-var">detRenameCmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838303"><span class="hs-identifier hs-var">pred</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Label -&gt; Label -&gt; Maybe Bool -&gt; CmmNode n m)
-&gt; State DetUniqFM Label
-&gt; State DetUniqFM (Label -&gt; Maybe Bool -&gt; CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Label -&gt; State DetUniqFM Label
</span><a href="#local-6989586621682838071"><span class="hs-identifier hs-var">detRenameLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838304"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Label -&gt; Maybe Bool -&gt; CmmNode n m)
-&gt; State DetUniqFM Label
-&gt; State DetUniqFM (Maybe Bool -&gt; CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Label -&gt; State DetUniqFM Label
</span><a href="#local-6989586621682838071"><span class="hs-identifier hs-var">detRenameLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838305"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Maybe Bool -&gt; CmmNode n m)
-&gt; State DetUniqFM (Maybe Bool) -&gt; DetRnM (CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Bool -&gt; State DetUniqFM (Maybe Bool)
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Maybe Bool
</span><a href="#local-6989586621682838306"><span class="hs-identifier hs-var">likely</span></a></span><span>
</span><span id="line-208"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmSwitch"><span class="hs-identifier hs-type">CmmSwitch</span></a></span><span> </span><span id="local-6989586621682838313"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838313"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682838314"><span class="annot"><span class="annottext">SwitchTargets
</span><a href="#local-6989586621682838314"><span class="hs-identifier hs-var">sts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; SwitchTargets -&gt; CmmNode n m
CmmExpr -&gt; SwitchTargets -&gt; CmmNode 'Open C
</span><a href="GHC.Cmm.Node.html#CmmSwitch"><span class="hs-identifier hs-var">CmmSwitch</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; SwitchTargets -&gt; CmmNode n m)
-&gt; State DetUniqFM CmmExpr
-&gt; State DetUniqFM (SwitchTargets -&gt; CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; State DetUniqFM CmmExpr
</span><a href="#local-6989586621682838256"><span class="hs-identifier hs-var">detRenameCmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838313"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (SwitchTargets -&gt; CmmNode n m)
-&gt; State DetUniqFM SwitchTargets -&gt; DetRnM (CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Label -&gt; State DetUniqFM Label)
-&gt; SwitchTargets -&gt; State DetUniqFM SwitchTargets
forall (m :: * -&gt; *).
Applicative m =&gt;
(Label -&gt; m Label) -&gt; SwitchTargets -&gt; m SwitchTargets
</span><a href="GHC.Cmm.Switch.html#mapSwitchTargetsA"><span class="hs-identifier hs-var">mapSwitchTargetsA</span></a></span><span> </span><span class="annot"><span class="annottext">Label -&gt; State DetUniqFM Label
</span><a href="#local-6989586621682838071"><span class="hs-identifier hs-var">detRenameLabel</span></a></span><span> </span><span class="annot"><span class="annottext">SwitchTargets
</span><a href="#local-6989586621682838314"><span class="hs-identifier hs-var">sts</span></a></span><span>
</span><span id="line-209"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmCall"><span class="hs-identifier hs-type">CmmCall</span></a></span><span> </span><span id="local-6989586621682838331"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838331"><span class="hs-identifier hs-var">tgt</span></a></span></span><span> </span><span id="local-6989586621682838332"><span class="annot"><span class="annottext">Maybe Label
</span><a href="#local-6989586621682838332"><span class="hs-identifier hs-var">cont</span></a></span></span><span> </span><span id="local-6989586621682838333"><span class="annot"><span class="annottext">[GlobalRegUse]
</span><a href="#local-6989586621682838333"><span class="hs-identifier hs-var">regs</span></a></span></span><span> </span><span id="local-6989586621682838334"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838334"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682838335"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838335"><span class="hs-identifier hs-var">retargs</span></a></span></span><span> </span><span id="local-6989586621682838336"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838336"><span class="hs-identifier hs-var">retoff</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-210"></span><span>        </span><span class="annot"><span class="annottext">CmmExpr
-&gt; Maybe Label
-&gt; [GlobalRegUse]
-&gt; Int
-&gt; Int
-&gt; Int
-&gt; CmmNode n m
CmmExpr
-&gt; Maybe Label
-&gt; [GlobalRegUse]
-&gt; Int
-&gt; Int
-&gt; Int
-&gt; CmmNode 'Open C
</span><a href="GHC.Cmm.Node.html#CmmCall"><span class="hs-identifier hs-var">CmmCall</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmExpr
 -&gt; Maybe Label
 -&gt; [GlobalRegUse]
 -&gt; Int
 -&gt; Int
 -&gt; Int
 -&gt; CmmNode n m)
-&gt; State DetUniqFM CmmExpr
-&gt; State
     DetUniqFM
     (Maybe Label -&gt; [GlobalRegUse] -&gt; Int -&gt; Int -&gt; Int -&gt; CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; State DetUniqFM CmmExpr
</span><a href="#local-6989586621682838256"><span class="hs-identifier hs-var">detRenameCmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838331"><span class="hs-identifier hs-var">tgt</span></a></span><span> </span><span class="annot"><span class="annottext">State
  DetUniqFM
  (Maybe Label -&gt; [GlobalRegUse] -&gt; Int -&gt; Int -&gt; Int -&gt; CmmNode n m)
-&gt; State DetUniqFM (Maybe Label)
-&gt; State
     DetUniqFM ([GlobalRegUse] -&gt; Int -&gt; Int -&gt; Int -&gt; CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Label -&gt; State DetUniqFM Label)
-&gt; Maybe Label -&gt; State DetUniqFM (Maybe Label)
forall {f :: * -&gt; *} {t} {a}.
Applicative f =&gt;
(t -&gt; f a) -&gt; Maybe t -&gt; f (Maybe a)
</span><a href="#local-6989586621682838134"><span class="hs-identifier hs-var">detRenameMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Label -&gt; State DetUniqFM Label
</span><a href="#local-6989586621682838071"><span class="hs-identifier hs-var">detRenameLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Label
</span><a href="#local-6989586621682838332"><span class="hs-identifier hs-var">cont</span></a></span><span> </span><span class="annot"><span class="annottext">State
  DetUniqFM ([GlobalRegUse] -&gt; Int -&gt; Int -&gt; Int -&gt; CmmNode n m)
-&gt; State DetUniqFM [GlobalRegUse]
-&gt; State DetUniqFM (Int -&gt; Int -&gt; Int -&gt; CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(GlobalRegUse -&gt; State DetUniqFM GlobalRegUse)
-&gt; [GlobalRegUse] -&gt; State DetUniqFM [GlobalRegUse]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">GlobalRegUse -&gt; State DetUniqFM GlobalRegUse
</span><a href="#local-6989586621682838056"><span class="hs-identifier hs-var">detRenameGlobalRegUse</span></a></span><span> </span><span class="annot"><span class="annottext">[GlobalRegUse]
</span><a href="#local-6989586621682838333"><span class="hs-identifier hs-var">regs</span></a></span><span>
</span><span id="line-211"></span><span>                </span><span class="annot"><span class="annottext">State DetUniqFM (Int -&gt; Int -&gt; Int -&gt; CmmNode n m)
-&gt; State DetUniqFM Int
-&gt; State DetUniqFM (Int -&gt; Int -&gt; CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; State DetUniqFM Int
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838334"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Int -&gt; Int -&gt; CmmNode n m)
-&gt; State DetUniqFM Int -&gt; State DetUniqFM (Int -&gt; CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; State DetUniqFM Int
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838335"><span class="hs-identifier hs-var">retargs</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Int -&gt; CmmNode n m)
-&gt; State DetUniqFM Int -&gt; DetRnM (CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; State DetUniqFM Int
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838336"><span class="hs-identifier hs-var">retoff</span></a></span><span>
</span><span id="line-212"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmForeignCall"><span class="hs-identifier hs-type">CmmForeignCall</span></a></span><span> </span><span id="local-6989586621682838354"><span class="annot"><span class="annottext">ForeignTarget
</span><a href="#local-6989586621682838354"><span class="hs-identifier hs-var">tgt</span></a></span></span><span> </span><span id="local-6989586621682838355"><span class="annot"><span class="annottext">[CmmFormal]
</span><a href="#local-6989586621682838355"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682838356"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682838356"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682838357"><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838357"><span class="hs-identifier hs-var">succ</span></a></span></span><span> </span><span id="local-6989586621682838358"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838358"><span class="hs-identifier hs-var">retargs</span></a></span></span><span> </span><span id="local-6989586621682838359"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838359"><span class="hs-identifier hs-var">retoff</span></a></span></span><span> </span><span id="local-6989586621682838360"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682838360"><span class="hs-identifier hs-var">intrbl</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-213"></span><span>        </span><span class="annot"><span class="annottext">ForeignTarget
-&gt; [CmmFormal]
-&gt; [CmmExpr]
-&gt; Label
-&gt; Int
-&gt; Int
-&gt; Bool
-&gt; CmmNode n m
ForeignTarget
-&gt; [CmmFormal]
-&gt; [CmmExpr]
-&gt; Label
-&gt; Int
-&gt; Int
-&gt; Bool
-&gt; CmmNode 'Open C
</span><a href="GHC.Cmm.Node.html#CmmForeignCall"><span class="hs-identifier hs-var">CmmForeignCall</span></a></span><span> </span><span class="annot"><span class="annottext">(ForeignTarget
 -&gt; [CmmFormal]
 -&gt; [CmmExpr]
 -&gt; Label
 -&gt; Int
 -&gt; Int
 -&gt; Bool
 -&gt; CmmNode n m)
-&gt; State DetUniqFM ForeignTarget
-&gt; State
     DetUniqFM
     ([CmmFormal]
      -&gt; [CmmExpr] -&gt; Label -&gt; Int -&gt; Int -&gt; Bool -&gt; CmmNode n m)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ForeignTarget -&gt; State DetUniqFM ForeignTarget
</span><a href="#local-6989586621682838288"><span class="hs-identifier hs-var">detRenameForeignTarget</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignTarget
</span><a href="#local-6989586621682838354"><span class="hs-identifier hs-var">tgt</span></a></span><span> </span><span class="annot"><span class="annottext">State
  DetUniqFM
  ([CmmFormal]
   -&gt; [CmmExpr] -&gt; Label -&gt; Int -&gt; Int -&gt; Bool -&gt; CmmNode n m)
-&gt; State DetUniqFM [CmmFormal]
-&gt; State
     DetUniqFM ([CmmExpr] -&gt; Label -&gt; Int -&gt; Int -&gt; Bool -&gt; CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(CmmFormal -&gt; State DetUniqFM CmmFormal)
-&gt; [CmmFormal] -&gt; State DetUniqFM [CmmFormal]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">CmmFormal -&gt; State DetUniqFM CmmFormal
</span><a href="#local-6989586621682838289"><span class="hs-identifier hs-var">detRenameLocalReg</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmFormal]
</span><a href="#local-6989586621682838355"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">State
  DetUniqFM ([CmmExpr] -&gt; Label -&gt; Int -&gt; Int -&gt; Bool -&gt; CmmNode n m)
-&gt; State DetUniqFM [CmmExpr]
-&gt; State DetUniqFM (Label -&gt; Int -&gt; Int -&gt; Bool -&gt; CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; State DetUniqFM CmmExpr)
-&gt; [CmmExpr] -&gt; State DetUniqFM [CmmExpr]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; State DetUniqFM CmmExpr
</span><a href="#local-6989586621682838256"><span class="hs-identifier hs-var">detRenameCmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682838356"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-214"></span><span>                       </span><span class="annot"><span class="annottext">State DetUniqFM (Label -&gt; Int -&gt; Int -&gt; Bool -&gt; CmmNode n m)
-&gt; State DetUniqFM Label
-&gt; State DetUniqFM (Int -&gt; Int -&gt; Bool -&gt; CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Label -&gt; State DetUniqFM Label
</span><a href="#local-6989586621682838071"><span class="hs-identifier hs-var">detRenameLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838357"><span class="hs-identifier hs-var">succ</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Int -&gt; Int -&gt; Bool -&gt; CmmNode n m)
-&gt; State DetUniqFM Int
-&gt; State DetUniqFM (Int -&gt; Bool -&gt; CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; State DetUniqFM Int
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838358"><span class="hs-identifier hs-var">retargs</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Int -&gt; Bool -&gt; CmmNode n m)
-&gt; State DetUniqFM Int -&gt; State DetUniqFM (Bool -&gt; CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; State DetUniqFM Int
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838359"><span class="hs-identifier hs-var">retoff</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Bool -&gt; CmmNode n m)
-&gt; State DetUniqFM Bool -&gt; DetRnM (CmmNode n m)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; State DetUniqFM Bool
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682838360"><span class="hs-identifier hs-var">intrbl</span></a></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span>    </span><span class="annot"><a href="#local-6989586621682838256"><span class="hs-identifier hs-type">detRenameCmmExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-217"></span><span>    </span><span id="local-6989586621682838256"><span class="annot"><span class="annottext">detRenameCmmExpr :: CmmExpr -&gt; State DetUniqFM CmmExpr
</span><a href="#local-6989586621682838256"><span class="hs-identifier hs-var hs-var">detRenameCmmExpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-218"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span id="local-6989586621682838362"><span class="annot"><span class="annottext">CmmLit
</span><a href="#local-6989586621682838362"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmLit -&gt; CmmExpr)
-&gt; State DetUniqFM CmmLit -&gt; State DetUniqFM CmmExpr
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; State DetUniqFM CmmLit
</span><a href="#local-6989586621682838118"><span class="hs-identifier hs-var">detRenameCmmLit</span></a></span><span> </span><span class="annot"><span class="annottext">CmmLit
</span><a href="#local-6989586621682838362"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-219"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLoad"><span class="hs-identifier hs-type">CmmLoad</span></a></span><span> </span><span id="local-6989586621682838364"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838364"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682838365"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682838365"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621682838366"><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682838366"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmType -&gt; AlignmentSpec -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLoad"><span class="hs-identifier hs-var">CmmLoad</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; CmmType -&gt; AlignmentSpec -&gt; CmmExpr)
-&gt; State DetUniqFM CmmExpr
-&gt; State DetUniqFM (CmmType -&gt; AlignmentSpec -&gt; CmmExpr)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; State DetUniqFM CmmExpr
</span><a href="#local-6989586621682838256"><span class="hs-identifier hs-var">detRenameCmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838364"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (CmmType -&gt; AlignmentSpec -&gt; CmmExpr)
-&gt; State DetUniqFM CmmType
-&gt; State DetUniqFM (AlignmentSpec -&gt; CmmExpr)
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; State DetUniqFM CmmType
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682838365"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (AlignmentSpec -&gt; CmmExpr)
-&gt; State DetUniqFM AlignmentSpec -&gt; State DetUniqFM CmmExpr
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">AlignmentSpec -&gt; State DetUniqFM AlignmentSpec
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682838366"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-220"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span id="local-6989586621682838368"><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682838368"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-var">CmmReg</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmReg -&gt; CmmExpr)
-&gt; State DetUniqFM CmmReg -&gt; State DetUniqFM CmmExpr
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; State DetUniqFM CmmReg
</span><a href="#local-6989586621682838264"><span class="hs-identifier hs-var">detRenameCmmReg</span></a></span><span> </span><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682838368"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-221"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span id="local-6989586621682838370"><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682838370"><span class="hs-identifier hs-var">mop</span></a></span></span><span> </span><span id="local-6989586621682838371"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682838371"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682838370"><span class="hs-identifier hs-var">mop</span></a></span><span> </span><span class="annot"><span class="annottext">([CmmExpr] -&gt; CmmExpr)
-&gt; State DetUniqFM [CmmExpr] -&gt; State DetUniqFM CmmExpr
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; State DetUniqFM CmmExpr)
-&gt; [CmmExpr] -&gt; State DetUniqFM [CmmExpr]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; State DetUniqFM CmmExpr
</span><a href="#local-6989586621682838256"><span class="hs-identifier hs-var">detRenameCmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682838371"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-222"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmStackSlot"><span class="hs-identifier hs-type">CmmStackSlot</span></a></span><span> </span><span id="local-6989586621682838373"><span class="annot"><span class="annottext">Area
</span><a href="#local-6989586621682838373"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621682838374"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838374"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Area -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmStackSlot"><span class="hs-identifier hs-var">CmmStackSlot</span></a></span><span> </span><span class="annot"><span class="annottext">(Area -&gt; Int -&gt; CmmExpr)
-&gt; State DetUniqFM Area -&gt; State DetUniqFM (Int -&gt; CmmExpr)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Area -&gt; State DetUniqFM Area
</span><a href="#local-6989586621682838375"><span class="hs-identifier hs-var">detRenameArea</span></a></span><span> </span><span class="annot"><span class="annottext">Area
</span><a href="#local-6989586621682838373"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Int -&gt; CmmExpr)
-&gt; State DetUniqFM Int -&gt; State DetUniqFM CmmExpr
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; State DetUniqFM Int
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838374"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-223"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmRegOff"><span class="hs-identifier hs-type">CmmRegOff</span></a></span><span> </span><span id="local-6989586621682838377"><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682838377"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621682838378"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838378"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmRegOff"><span class="hs-identifier hs-var">CmmRegOff</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmReg -&gt; Int -&gt; CmmExpr)
-&gt; State DetUniqFM CmmReg -&gt; State DetUniqFM (Int -&gt; CmmExpr)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; State DetUniqFM CmmReg
</span><a href="#local-6989586621682838264"><span class="hs-identifier hs-var">detRenameCmmReg</span></a></span><span> </span><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682838377"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (Int -&gt; CmmExpr)
-&gt; State DetUniqFM Int -&gt; State DetUniqFM CmmExpr
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; State DetUniqFM Int
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682838378"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span>    </span><span class="annot"><a href="#local-6989586621682838288"><span class="hs-identifier hs-type">detRenameForeignTarget</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#ForeignTarget"><span class="hs-identifier hs-type">ForeignTarget</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#ForeignTarget"><span class="hs-identifier hs-type">ForeignTarget</span></a></span><span>
</span><span id="line-226"></span><span>    </span><span id="local-6989586621682838288"><span class="annot"><span class="annottext">detRenameForeignTarget :: ForeignTarget -&gt; State DetUniqFM ForeignTarget
</span><a href="#local-6989586621682838288"><span class="hs-identifier hs-var hs-var">detRenameForeignTarget</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-227"></span><span>        </span><span class="annot"><a href="GHC.Cmm.Node.html#ForeignTarget"><span class="hs-identifier hs-type">ForeignTarget</span></a></span><span> </span><span id="local-6989586621682838380"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838380"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682838381"><span class="annot"><span class="annottext">ForeignConvention
</span><a href="#local-6989586621682838381"><span class="hs-identifier hs-var">fc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; ForeignConvention -&gt; ForeignTarget
</span><a href="GHC.Cmm.Node.html#ForeignTarget"><span class="hs-identifier hs-var">ForeignTarget</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; ForeignConvention -&gt; ForeignTarget)
-&gt; State DetUniqFM CmmExpr
-&gt; State DetUniqFM (ForeignConvention -&gt; ForeignTarget)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; State DetUniqFM CmmExpr
</span><a href="#local-6989586621682838256"><span class="hs-identifier hs-var">detRenameCmmExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682838380"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (ForeignConvention -&gt; ForeignTarget)
-&gt; State DetUniqFM ForeignConvention
-&gt; State DetUniqFM ForeignTarget
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">ForeignConvention -&gt; State DetUniqFM ForeignConvention
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">ForeignConvention
</span><a href="#local-6989586621682838381"><span class="hs-identifier hs-var">fc</span></a></span><span>
</span><span id="line-228"></span><span>        </span><span class="annot"><a href="GHC.Cmm.Node.html#PrimTarget"><span class="hs-identifier hs-type">PrimTarget</span></a></span><span> </span><span id="local-6989586621682838383"><span class="annot"><span class="annottext">CallishMachOp
</span><a href="#local-6989586621682838383"><span class="hs-identifier hs-var">cmop</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ForeignTarget -&gt; State DetUniqFM ForeignTarget
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(ForeignTarget -&gt; State DetUniqFM ForeignTarget)
-&gt; ForeignTarget -&gt; State DetUniqFM ForeignTarget
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; ForeignTarget
</span><a href="GHC.Cmm.Node.html#PrimTarget"><span class="hs-identifier hs-var">PrimTarget</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="#local-6989586621682838383"><span class="hs-identifier hs-var">cmop</span></a></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span>    </span><span class="annot"><a href="#local-6989586621682838375"><span class="hs-identifier hs-type">detRenameArea</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#Area"><span class="hs-identifier hs-type">Area</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#Area"><span class="hs-identifier hs-type">Area</span></a></span><span>
</span><span id="line-231"></span><span>    </span><span id="local-6989586621682838375"><span class="annot"><span class="annottext">detRenameArea :: Area -&gt; State DetUniqFM Area
</span><a href="#local-6989586621682838375"><span class="hs-identifier hs-var hs-var">detRenameArea</span></a></span></span><span> </span><span class="annot"><span class="annottext">Area
</span><a href="GHC.Cmm.Expr.html#Old"><span class="hs-identifier hs-var">Old</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Area -&gt; State DetUniqFM Area
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Area
</span><a href="GHC.Cmm.Expr.html#Old"><span class="hs-identifier hs-var">Old</span></a></span><span>
</span><span id="line-232"></span><span>    </span><span class="annot"><a href="#local-6989586621682838375"><span class="hs-identifier hs-var">detRenameArea</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#Young"><span class="hs-identifier hs-type">Young</span></a></span><span> </span><span id="local-6989586621682838386"><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838386"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Label -&gt; Area
</span><a href="GHC.Cmm.Expr.html#Young"><span class="hs-identifier hs-var">Young</span></a></span><span> </span><span class="annot"><span class="annottext">(Label -&gt; Area) -&gt; State DetUniqFM Label -&gt; State DetUniqFM Area
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Label -&gt; State DetUniqFM Label
</span><a href="#local-6989586621682838071"><span class="hs-identifier hs-var">detRenameLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838386"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><a href="#local-6989586621682838071"><span class="hs-identifier hs-type">detRenameLabel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Dataflow.Label.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Dataflow.Label.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span>
</span><span id="line-235"></span><span>    </span><span id="local-6989586621682838071"><span class="annot"><span class="annottext">detRenameLabel :: Label -&gt; State DetUniqFM Label
</span><a href="#local-6989586621682838071"><span class="hs-identifier hs-var hs-var">detRenameLabel</span></a></span></span><span> </span><span id="local-6989586621682838387"><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838387"><span class="hs-identifier hs-var">lbl</span></a></span></span><span>
</span><span id="line-236"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Word64 -&gt; Label
</span><a href="GHC.Cmm.Dataflow.Label.html#mkHooplLabel"><span class="hs-identifier hs-var">mkHooplLabel</span></a></span><span> </span><span class="annot"><span class="annottext">(Word64 -&gt; Label) -&gt; (Unique -&gt; Word64) -&gt; Unique -&gt; Label
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Unique -&gt; Word64
</span><a href="GHC.Types.Unique.html#getKey"><span class="hs-identifier hs-var">getKey</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; Label) -&gt; DetRnM Unique -&gt; State DetUniqFM Label
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Unique -&gt; DetRnM Unique
</span><a href="GHC.Cmm.UniqueRenamer.html#renameDetUniq"><span class="hs-identifier hs-var">renameDetUniq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Label -&gt; Unique
forall a. Uniquable a =&gt; a -&gt; Unique
</span><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">Label
</span><a href="#local-6989586621682838387"><span class="hs-identifier hs-var">lbl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span>    </span><span class="annot"><a href="#local-6989586621682838062"><span class="hs-identifier hs-type">detRenameSection</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span>
</span><span id="line-239"></span><span>    </span><span id="local-6989586621682838062"><span class="annot"><span class="annottext">detRenameSection :: Section -&gt; State DetUniqFM Section
</span><a href="#local-6989586621682838062"><span class="hs-identifier hs-var hs-var">detRenameSection</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.html#Section"><span class="hs-identifier hs-type">Section</span></a></span><span> </span><span id="local-6989586621682838391"><span class="annot"><span class="annottext">SectionType
</span><a href="#local-6989586621682838391"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682838392"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838392"><span class="hs-identifier hs-var">lbl</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SectionType -&gt; CLabel -&gt; Section
</span><a href="GHC.Cmm.html#Section"><span class="hs-identifier hs-var">Section</span></a></span><span> </span><span class="annot"><span class="annottext">SectionType
</span><a href="#local-6989586621682838391"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">(CLabel -&gt; Section) -&gt; DetRnM CLabel -&gt; State DetUniqFM Section
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; DetRnM CLabel
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameCLabel"><span class="hs-identifier hs-var">detRenameCLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682838392"><span class="hs-identifier hs-var">lbl</span></a></span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span>    </span><span class="annot"><a href="#local-6989586621682838264"><span class="hs-identifier hs-type">detRenameCmmReg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span>
</span><span id="line-243"></span><span>    </span><span id="local-6989586621682838264"><span class="annot"><span class="annottext">detRenameCmmReg :: CmmReg -&gt; State DetUniqFM CmmReg
</span><a href="#local-6989586621682838264"><span class="hs-identifier hs-var hs-var">detRenameCmmReg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-244"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span id="local-6989586621682838394"><span class="annot"><span class="annottext">CmmFormal
</span><a href="#local-6989586621682838394"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmFormal -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmFormal -&gt; CmmReg)
-&gt; State DetUniqFM CmmFormal -&gt; State DetUniqFM CmmReg
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmFormal -&gt; State DetUniqFM CmmFormal
</span><a href="#local-6989586621682838289"><span class="hs-identifier hs-var">detRenameLocalReg</span></a></span><span> </span><span class="annot"><span class="annottext">CmmFormal
</span><a href="#local-6989586621682838394"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-245"></span><span>      </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmGlobal"><span class="hs-identifier hs-type">CmmGlobal</span></a></span><span> </span><span id="local-6989586621682838396"><span class="annot"><span class="annottext">GlobalRegUse
</span><a href="#local-6989586621682838396"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; State DetUniqFM CmmReg
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(CmmReg -&gt; State DetUniqFM CmmReg)
-&gt; CmmReg -&gt; State DetUniqFM CmmReg
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GlobalRegUse -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmGlobal"><span class="hs-identifier hs-var">CmmGlobal</span></a></span><span> </span><span class="annot"><span class="annottext">GlobalRegUse
</span><a href="#local-6989586621682838396"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span>    </span><span class="annot"><a href="#local-6989586621682838289"><span class="hs-identifier hs-type">detRenameLocalReg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span>
</span><span id="line-248"></span><span>    </span><span id="local-6989586621682838289"><span class="annot"><span class="annottext">detRenameLocalReg :: CmmFormal -&gt; State DetUniqFM CmmFormal
</span><a href="#local-6989586621682838289"><span class="hs-identifier hs-var hs-var">detRenameLocalReg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span id="local-6989586621682838399"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682838399"><span class="hs-identifier hs-var">uq</span></a></span></span><span> </span><span id="local-6989586621682838400"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682838400"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unique -&gt; CmmType -&gt; CmmFormal
</span><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-var">LocalReg</span></a></span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; CmmType -&gt; CmmFormal)
-&gt; DetRnM Unique -&gt; State DetUniqFM (CmmType -&gt; CmmFormal)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Unique -&gt; DetRnM Unique
</span><a href="GHC.Cmm.UniqueRenamer.html#renameDetUniq"><span class="hs-identifier hs-var">renameDetUniq</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682838399"><span class="hs-identifier hs-var">uq</span></a></span><span> </span><span class="annot"><span class="annottext">State DetUniqFM (CmmType -&gt; CmmFormal)
-&gt; State DetUniqFM CmmType -&gt; State DetUniqFM CmmFormal
forall a b.
State DetUniqFM (a -&gt; b) -&gt; State DetUniqFM a -&gt; State DetUniqFM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; State DetUniqFM CmmType
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682838400"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span>    </span><span class="hs-comment">-- Global registers don't need to be renamed.</span><span>
</span><span id="line-252"></span><span>    </span><span class="annot"><a href="#local-6989586621682838255"><span class="hs-identifier hs-type">detRenameGlobalReg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#GlobalReg"><span class="hs-identifier hs-type">GlobalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#GlobalReg"><span class="hs-identifier hs-type">GlobalReg</span></a></span><span>
</span><span id="line-253"></span><span>    </span><span id="local-6989586621682838255"><span class="annot"><span class="annottext">detRenameGlobalReg :: GlobalReg -&gt; State DetUniqFM GlobalReg
</span><a href="#local-6989586621682838255"><span class="hs-identifier hs-var hs-var">detRenameGlobalReg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalReg -&gt; State DetUniqFM GlobalReg
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><a href="#local-6989586621682838056"><span class="hs-identifier hs-type">detRenameGlobalRegUse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#GlobalRegUse"><span class="hs-identifier hs-type">GlobalRegUse</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#GlobalRegUse"><span class="hs-identifier hs-type">GlobalRegUse</span></a></span><span>
</span><span id="line-255"></span><span>    </span><span id="local-6989586621682838056"><span class="annot"><span class="annottext">detRenameGlobalRegUse :: GlobalRegUse -&gt; State DetUniqFM GlobalRegUse
</span><a href="#local-6989586621682838056"><span class="hs-identifier hs-var hs-var">detRenameGlobalRegUse</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GlobalRegUse -&gt; State DetUniqFM GlobalRegUse
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span>    </span><span class="hs-comment">-- todo: We may have to change this to get deterministic objects with ticks.</span><span>
</span><span id="line-258"></span><span>    </span><span class="annot"><a href="#local-6989586621682838235"><span class="hs-identifier hs-type">detRenameCmmTick</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmTickScope"><span class="hs-identifier hs-type">CmmTickScope</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmTickScope"><span class="hs-identifier hs-type">CmmTickScope</span></a></span><span>
</span><span id="line-259"></span><span>    </span><span id="local-6989586621682838235"><span class="annot"><span class="annottext">detRenameCmmTick :: CmmTickScope -&gt; State DetUniqFM CmmTickScope
</span><a href="#local-6989586621682838235"><span class="hs-identifier hs-var hs-var">detRenameCmmTick</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmTickScope -&gt; State DetUniqFM CmmTickScope
forall a. a -&gt; State DetUniqFM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span>    </span><span id="local-6989586621682838134"><span class="annot"><span class="annottext">detRenameMaybe :: (t -&gt; f a) -&gt; Maybe t -&gt; f (Maybe a)
</span><a href="#local-6989586621682838134"><span class="hs-identifier hs-var hs-var">detRenameMaybe</span></a></span></span><span> </span><span class="annot"><span class="annottext">t -&gt; f a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe t
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; f (Maybe a)
forall a. a -&gt; f a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-262"></span><span>    </span><span class="annot"><a href="#local-6989586621682838134"><span class="hs-identifier hs-var">detRenameMaybe</span></a></span><span> </span><span id="local-6989586621682838407"><span class="annot"><span class="annottext">t -&gt; f a
</span><a href="#local-6989586621682838407"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682838408"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682838408"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; f a -&gt; f (Maybe a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; f a
</span><a href="#local-6989586621682838407"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682838408"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span>    </span><span id="local-6989586621682838070"><span class="annot"><span class="annottext">detRenamePair :: (t -&gt; f a) -&gt; (t -&gt; f a) -&gt; (t, t) -&gt; f (a, a)
</span><a href="#local-6989586621682838070"><span class="hs-identifier hs-var hs-var">detRenamePair</span></a></span></span><span> </span><span id="local-6989586621682838414"><span class="annot"><span class="annottext">t -&gt; f a
</span><a href="#local-6989586621682838414"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682838415"><span class="annot"><span class="annottext">t -&gt; f a
</span><a href="#local-6989586621682838415"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682838416"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682838416"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682838417"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682838417"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; (a, a)) -&gt; f a -&gt; f (a -&gt; (a, a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; f a
</span><a href="#local-6989586621682838414"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682838416"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f (a -&gt; (a, a)) -&gt; f a -&gt; f (a, a)
forall a b. f (a -&gt; b) -&gt; f a -&gt; f b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; f a
</span><a href="#local-6989586621682838415"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621682838417"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#detRenameIPEMap"><span class="hs-identifier hs-type">detRenameIPEMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetUniqFM"><span class="hs-identifier hs-type">DetUniqFM</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.IPE.html#InfoTableProvMap"><span class="hs-identifier hs-type">InfoTableProvMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetUniqFM"><span class="hs-identifier hs-type">DetUniqFM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.IPE.html#InfoTableProvMap"><span class="hs-identifier hs-type">InfoTableProvMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span id="detRenameIPEMap"><span class="annot"><span class="annottext">detRenameIPEMap :: DetUniqFM -&gt; InfoTableProvMap -&gt; (DetUniqFM, InfoTableProvMap)
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameIPEMap"><span class="hs-identifier hs-var hs-var">detRenameIPEMap</span></a></span></span><span> </span><span id="local-6989586621682838418"><span class="annot"><span class="annottext">DetUniqFM
</span><a href="#local-6989586621682838418"><span class="hs-identifier hs-var">dufm</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.IPE.html#InfoTableProvMap"><span class="hs-identifier hs-type">InfoTableProvMap</span></a></span><span class="hs-special">{</span><span> </span><span id="local-6989586621682838420"><span class="annot"><span class="annottext">DCMap
provDC :: DCMap
provDC :: InfoTableProvMap -&gt; DCMap
</span><a href="#local-6989586621682838420"><span class="hs-identifier hs-var hs-var">provDC</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682838422"><span class="annot"><span class="annottext">ClosureMap
provClosure :: ClosureMap
provClosure :: InfoTableProvMap -&gt; ClosureMap
</span><a href="#local-6989586621682838422"><span class="hs-identifier hs-var hs-var">provClosure</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682838424"><span class="annot"><span class="annottext">InfoTableToSourceLocationMap
provInfoTables :: InfoTableToSourceLocationMap
provInfoTables :: InfoTableProvMap -&gt; InfoTableToSourceLocationMap
</span><a href="#local-6989586621682838424"><span class="hs-identifier hs-var hs-var">provInfoTables</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-268"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DetUniqFM
</span><a href="#local-6989586621682838426"><span class="hs-identifier hs-var">dufm2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.IPE.html#InfoTableProvMap"><span class="hs-identifier hs-type">InfoTableProvMap</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">DCMap
provDC :: DCMap
provDC :: DCMap
</span><a href="#local-6989586621682838420"><span class="hs-identifier hs-var hs-var">provDC</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">provClosure :: ClosureMap
</span><a href="GHC.Types.IPE.html#provClosure"><span class="hs-identifier hs-var">provClosure</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClosureMap
</span><a href="#local-6989586621682838427"><span class="hs-identifier hs-var">cm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">InfoTableToSourceLocationMap
provInfoTables :: InfoTableToSourceLocationMap
provInfoTables :: InfoTableToSourceLocationMap
</span><a href="#local-6989586621682838424"><span class="hs-identifier hs-var hs-var">provInfoTables</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-270"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621682838427"><span class="annot"><span class="annottext">ClosureMap
</span><a href="#local-6989586621682838427"><span class="hs-identifier hs-var">cm</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682838426"><span class="annot"><span class="annottext">DetUniqFM
</span><a href="#local-6989586621682838426"><span class="hs-identifier hs-var">dufm2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State DetUniqFM ClosureMap -&gt; DetUniqFM -&gt; (ClosureMap, DetUniqFM)
forall s a. State s a -&gt; s -&gt; (a, s)
</span><a href="GHC.Utils.Monad.State.Strict.html#runState"><span class="hs-identifier hs-var">runState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ClosureMap -&gt; State DetUniqFM ClosureMap
</span><a href="#local-6989586621682838428"><span class="hs-identifier hs-var">detRenameClosureMap</span></a></span><span> </span><span class="annot"><span class="annottext">ClosureMap
</span><a href="#local-6989586621682838422"><span class="hs-identifier hs-var">provClosure</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DetUniqFM
</span><a href="#local-6989586621682838418"><span class="hs-identifier hs-var">dufm</span></a></span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span>    </span><span class="annot"><a href="#local-6989586621682838428"><span class="hs-identifier hs-type">detRenameClosureMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.IPE.html#ClosureMap"><span class="hs-identifier hs-type">ClosureMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.UniqueRenamer.html#DetRnM"><span class="hs-identifier hs-type">DetRnM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.IPE.html#ClosureMap"><span class="hs-identifier hs-type">ClosureMap</span></a></span><span>
</span><span id="line-273"></span><span>    </span><span id="local-6989586621682838428"><span class="annot"><span class="annottext">detRenameClosureMap :: ClosureMap -&gt; State DetUniqFM ClosureMap
</span><a href="#local-6989586621682838428"><span class="hs-identifier hs-var hs-var">detRenameClosureMap</span></a></span></span><span> </span><span id="local-6989586621682838429"><span class="annot"><span class="annottext">ClosureMap
</span><a href="#local-6989586621682838429"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-274"></span><span>      </span><span class="hs-comment">-- `eltsUDFM` preserves the deterministic order, but it doesn't matter</span><span>
</span><span id="line-275"></span><span>      </span><span class="hs-comment">-- since we will rename all uniques deterministically, thus the</span><span>
</span><span id="line-276"></span><span>      </span><span class="hs-comment">-- reconstructed map will necessarily be deterministic too.</span><span>
</span><span id="line-277"></span><span>      </span><span class="annot"><span class="annottext">[(Name, (Name, (Type, Maybe IpeSourceLocation)))] -&gt; ClosureMap
forall key elt. Uniquable key =&gt; [(key, elt)] -&gt; UniqDFM key elt
</span><a href="GHC.Types.Unique.DFM.html#listToUDFM"><span class="hs-identifier hs-var">listToUDFM</span></a></span><span> </span><span class="annot"><span class="annottext">([(Name, (Name, (Type, Maybe IpeSourceLocation)))] -&gt; ClosureMap)
-&gt; State
     DetUniqFM [(Name, (Name, (Type, Maybe IpeSourceLocation)))]
-&gt; State DetUniqFM ClosureMap
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((Name, (Type, Maybe IpeSourceLocation))
 -&gt; State DetUniqFM (Name, (Name, (Type, Maybe IpeSourceLocation))))
-&gt; [(Name, (Type, Maybe IpeSourceLocation))]
-&gt; State
     DetUniqFM [(Name, (Name, (Type, Maybe IpeSourceLocation)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621682838431"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682838431"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682838432"><span class="annot"><span class="annottext">(Type, Maybe IpeSourceLocation)
</span><a href="#local-6989586621682838432"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-278"></span><span>        </span><span id="local-6989586621682838433"><span class="annot"><a href="#local-6989586621682838433"><span class="hs-identifier hs-var">n'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; DetRnM Name
</span><a href="GHC.Cmm.UniqueRenamer.html#detRenameName"><span class="hs-identifier hs-var">detRenameName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682838431"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-279"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682838433"><span class="hs-identifier hs-type">n'</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682838433"><span class="hs-identifier hs-type">n'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682838432"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>        </span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ClosureMap -&gt; [(Name, (Type, Maybe IpeSourceLocation))]
forall {k} (key :: k) elt. UniqDFM key elt -&gt; [elt]
</span><a href="GHC.Types.Unique.DFM.html#eltsUDFM"><span class="hs-identifier hs-var">eltsUDFM</span></a></span><span> </span><span class="annot"><span class="annottext">ClosureMap
</span><a href="#local-6989586621682838429"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span></pre></body></html>