<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{-
(c) The University of Glasgow 2006
(c) The GRASP/AQUA Project, Glasgow University, 1992-1998
-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE MagicHash #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- #name_types#</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- GHC uses several kinds of name internally:</span><span>
</span><span id="line-13"></span><span class="hs-comment">--</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- * 'GHC.Types.Name.Occurrence.OccName' represents names as strings with just a little more information:</span><span>
</span><span id="line-15"></span><span class="hs-comment">--   the \&quot;namespace\&quot; that the name came from, e.g. the namespace of value, type constructors or</span><span>
</span><span id="line-16"></span><span class="hs-comment">--   data constructors</span><span>
</span><span id="line-17"></span><span class="hs-comment">--</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- * 'GHC.Types.Name.Reader.RdrName': see &quot;GHC.Types.Name.Reader#name_types&quot;</span><span>
</span><span id="line-19"></span><span class="hs-comment">--</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- * 'GHC.Types.Name.Name': see &quot;GHC.Types.Name#name_types&quot;</span><span>
</span><span id="line-21"></span><span class="hs-comment">--</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- * 'GHC.Types.Id.Id': see &quot;GHC.Types.Id#name_types&quot;</span><span>
</span><span id="line-23"></span><span class="hs-comment">--</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- * 'GHC.Types.Var.Var': see &quot;GHC.Types.Var#name_types&quot;</span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html"><span class="hs-identifier">GHC.Types.Name.Occurrence</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-27"></span><span>        </span><span class="annot"><span class="hs-comment">-- * The 'NameSpace' type</span></span><span>
</span><span id="line-28"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier">NameSpace</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Abstract</span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Construction</span></span><span>
</span><span id="line-31"></span><span>        </span><span class="annot"><span class="hs-comment">-- $real_vs_source_data_constructors</span></span><span>
</span><span id="line-32"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#tcName"><span class="hs-identifier">tcName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#clsName"><span class="hs-identifier">clsName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier">tcClsName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#dataName"><span class="hs-identifier">dataName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier">varName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#fieldName"><span class="hs-identifier">fieldName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#tvName"><span class="hs-identifier">tvName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#srcDataName"><span class="hs-identifier">srcDataName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Pretty Printing</span></span><span>
</span><span id="line-36"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNameSpace"><span class="hs-identifier">pprNameSpace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNonVarNameSpace"><span class="hs-identifier">pprNonVarNameSpace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNameSpaceBrief"><span class="hs-identifier">pprNameSpaceBrief</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span>        </span><span class="annot"><span class="hs-comment">-- * The 'OccName' type</span></span><span>
</span><span id="line-39"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier">OccName</span></a></span><span class="hs-special">,</span><span>        </span><span class="hs-comment">-- Abstract, instance of Outputable</span><span>
</span><span id="line-40"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprOccName"><span class="hs-identifier">pprOccName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#occNameMangledFS"><span class="hs-identifier">occNameMangledFS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Construction</span></span><span>
</span><span id="line-43"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkOccName"><span class="hs-identifier">mkOccName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkOccNameFS"><span class="hs-identifier">mkOccNameFS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkVarOcc"><span class="hs-identifier">mkVarOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkVarOccFS"><span class="hs-identifier">mkVarOccFS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkRecFieldOcc"><span class="hs-identifier">mkRecFieldOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkRecFieldOccFS"><span class="hs-identifier">mkRecFieldOccFS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDataOcc"><span class="hs-identifier">mkDataOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDataOccFS"><span class="hs-identifier">mkDataOccFS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkTyVarOcc"><span class="hs-identifier">mkTyVarOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkTyVarOccFS"><span class="hs-identifier">mkTyVarOccFS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkTcOcc"><span class="hs-identifier">mkTcOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkTcOccFS"><span class="hs-identifier">mkTcOccFS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkClsOcc"><span class="hs-identifier">mkClsOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkClsOccFS"><span class="hs-identifier">mkClsOccFS</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDFunOcc"><span class="hs-identifier">mkDFunOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier">setOccNameSpace</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#demoteOccName"><span class="hs-identifier">demoteOccName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#demoteOccTvName"><span class="hs-identifier">demoteOccTvName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#promoteOccName"><span class="hs-identifier">promoteOccName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#varToRecFieldOcc"><span class="hs-identifier">varToRecFieldOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#recFieldToVarOcc"><span class="hs-identifier">recFieldToVarOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#HasOccName"><span class="hs-identifier">HasOccName</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Derived 'OccName's</span></span><span>
</span><span id="line-60"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isDerivedOccName"><span class="hs-identifier">isDerivedOccName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDataConWrapperOcc"><span class="hs-identifier">mkDataConWrapperOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkWorkerOcc"><span class="hs-identifier">mkWorkerOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkMatcherOcc"><span class="hs-identifier">mkMatcherOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkBuilderOcc"><span class="hs-identifier">mkBuilderOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDefaultMethodOcc"><span class="hs-identifier">mkDefaultMethodOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isDefaultMethodOcc"><span class="hs-identifier">isDefaultMethodOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTypeableBindOcc"><span class="hs-identifier">isTypeableBindOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkNewTyCoOcc"><span class="hs-identifier">mkNewTyCoOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkClassOpAuxOcc"><span class="hs-identifier">mkClassOpAuxOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkCon2TagOcc"><span class="hs-identifier">mkCon2TagOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkTag2ConOcc"><span class="hs-identifier">mkTag2ConOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkMaxTagOcc"><span class="hs-identifier">mkMaxTagOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkClassDataConOcc"><span class="hs-identifier">mkClassDataConOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDictOcc"><span class="hs-identifier">mkDictOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkIPOcc"><span class="hs-identifier">mkIPOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkSpecOcc"><span class="hs-identifier">mkSpecOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkForeignExportOcc"><span class="hs-identifier">mkForeignExportOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkRepEqOcc"><span class="hs-identifier">mkRepEqOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkGenR"><span class="hs-identifier">mkGenR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkGen1R"><span class="hs-identifier">mkGen1R</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDataTOcc"><span class="hs-identifier">mkDataTOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDataCOcc"><span class="hs-identifier">mkDataCOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDataConWorkerOcc"><span class="hs-identifier">mkDataConWorkerOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkSuperDictSelOcc"><span class="hs-identifier">mkSuperDictSelOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkSuperDictAuxOcc"><span class="hs-identifier">mkSuperDictAuxOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkLocalOcc"><span class="hs-identifier">mkLocalOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkMethodOcc"><span class="hs-identifier">mkMethodOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkInstTyTcOcc"><span class="hs-identifier">mkInstTyTcOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-72"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkInstTyCoOcc"><span class="hs-identifier">mkInstTyCoOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkEqPredCoOcc"><span class="hs-identifier">mkEqPredCoOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-73"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkTyConRepOcc"><span class="hs-identifier">mkTyConRepOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span>        </span><span class="annot"><span class="hs-comment">-- ** Deconstruction</span></span><span>
</span><span id="line-76"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier">occNameFS</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#occNameString"><span class="hs-identifier">occNameString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#occNameSpace"><span class="hs-identifier">occNameSpace</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isVarOcc"><span class="hs-identifier">isVarOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTvOcc"><span class="hs-identifier">isTvOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTcOcc"><span class="hs-identifier">isTcOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isDataOcc"><span class="hs-identifier">isDataOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isDataSymOcc"><span class="hs-identifier">isDataSymOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isSymOcc"><span class="hs-identifier">isSymOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isValOcc"><span class="hs-identifier">isValOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isFieldOcc"><span class="hs-identifier">isFieldOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#fieldOcc_maybe"><span class="hs-identifier">fieldOcc_maybe</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#parenSymOcc"><span class="hs-identifier">parenSymOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#startsWithUnderscore"><span class="hs-identifier">startsWithUnderscore</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isUnderscore"><span class="hs-identifier">isUnderscore</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTcClsNameSpace"><span class="hs-identifier">isTcClsNameSpace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTvNameSpace"><span class="hs-identifier">isTvNameSpace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isDataConNameSpace"><span class="hs-identifier">isDataConNameSpace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier">isVarNameSpace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isValNameSpace"><span class="hs-identifier">isValNameSpace</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isFieldNameSpace"><span class="hs-identifier">isFieldNameSpace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTermVarOrFieldNameSpace"><span class="hs-identifier">isTermVarOrFieldNameSpace</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span>        </span><span class="annot"><span class="hs-comment">-- * The 'OccEnv' type</span></span><span>
</span><span id="line-86"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier">OccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#emptyOccEnv"><span class="hs-identifier">emptyOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#unitOccEnv"><span class="hs-identifier">unitOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#extendOccEnv"><span class="hs-identifier">extendOccEnv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-87"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mapOccEnv"><span class="hs-identifier">mapOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#strictMapOccEnv"><span class="hs-identifier">strictMapOccEnv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mapMaybeOccEnv"><span class="hs-identifier">mapMaybeOccEnv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv"><span class="hs-identifier">lookupOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv_AllNameSpaces"><span class="hs-identifier">lookupOccEnv_AllNameSpaces</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-90"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv_WithFields"><span class="hs-identifier">lookupOccEnv_WithFields</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#lookupFieldsOccEnv"><span class="hs-identifier">lookupFieldsOccEnv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-91"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkOccEnv"><span class="hs-identifier">mkOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkOccEnv_C"><span class="hs-identifier">mkOccEnv_C</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#extendOccEnvList"><span class="hs-identifier">extendOccEnvList</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#elemOccEnv"><span class="hs-identifier">elemOccEnv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-92"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#nonDetOccEnvElts"><span class="hs-identifier">nonDetOccEnvElts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#nonDetFoldOccEnv"><span class="hs-identifier">nonDetFoldOccEnv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-93"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#plusOccEnv"><span class="hs-identifier">plusOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#plusOccEnv_C"><span class="hs-identifier">plusOccEnv_C</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-94"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#extendOccEnv_Acc"><span class="hs-identifier">extendOccEnv_Acc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#filterOccEnv"><span class="hs-identifier">filterOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#delListFromOccEnv"><span class="hs-identifier">delListFromOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#delFromOccEnv"><span class="hs-identifier">delFromOccEnv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#alterOccEnv"><span class="hs-identifier">alterOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#minusOccEnv"><span class="hs-identifier">minusOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#minusOccEnv_C"><span class="hs-identifier">minusOccEnv_C</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#minusOccEnv_C_Ns"><span class="hs-identifier">minusOccEnv_C_Ns</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-96"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprOccEnv"><span class="hs-identifier">pprOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#forceOccEnv"><span class="hs-identifier">forceOccEnv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-97"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#intersectOccEnv_C"><span class="hs-identifier">intersectOccEnv_C</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span>        </span><span class="annot"><span class="hs-comment">-- * The 'OccSet' type</span></span><span>
</span><span id="line-100"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier">OccSet</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#emptyOccSet"><span class="hs-identifier">emptyOccSet</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#unitOccSet"><span class="hs-identifier">unitOccSet</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkOccSet"><span class="hs-identifier">mkOccSet</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#extendOccSet"><span class="hs-identifier">extendOccSet</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-101"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#extendOccSetList"><span class="hs-identifier">extendOccSetList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-102"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#unionOccSets"><span class="hs-identifier">unionOccSets</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#unionManyOccSets"><span class="hs-identifier">unionManyOccSets</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#elemOccSet"><span class="hs-identifier">elemOccSet</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-103"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isEmptyOccSet"><span class="hs-identifier">isEmptyOccSet</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span>        </span><span class="annot"><span class="hs-comment">-- * Dealing with main</span></span><span>
</span><span id="line-106"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mainOcc"><span class="hs-identifier">mainOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#ppMainFn"><span class="hs-identifier">ppMainFn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span>        </span><span class="annot"><span class="hs-comment">-- * Tidying up</span></span><span>
</span><span id="line-109"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TidyOccEnv"><span class="hs-identifier">TidyOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#emptyTidyOccEnv"><span class="hs-identifier">emptyTidyOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#initTidyOccEnv"><span class="hs-identifier">initTidyOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#trimTidyOccEnv"><span class="hs-identifier">trimTidyOccEnv</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-110"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#tidyOccName"><span class="hs-identifier">tidyOccName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#avoidClashesOccEnv"><span class="hs-identifier">avoidClashesOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#delTidyOccEnvList"><span class="hs-identifier">delTidyOccEnvList</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span>        </span><span class="hs-comment">-- FsEnv</span><span>
</span><span id="line-113"></span><span>        </span><span class="annot"><a href="GHC.Data.FastString.Env.html#FastStringEnv"><span class="hs-identifier">FastStringEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.FastString.Env.html#emptyFsEnv"><span class="hs-identifier">emptyFsEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.FastString.Env.html#lookupFsEnv"><span class="hs-identifier">lookupFsEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.FastString.Env.html#extendFsEnv"><span class="hs-identifier">extendFsEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Data.FastString.Env.html#mkFsEnv"><span class="hs-identifier">mkFsEnv</span></a></span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.Uniques.html"><span class="hs-identifier">GHC.Builtin.Uniques</span></a></span><span>
</span><span id="line-119"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-120"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html"><span class="hs-identifier">GHC.Types.Unique</span></a></span><span>
</span><span id="line-121"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html"><span class="hs-identifier">GHC.Types.Unique.FM</span></a></span><span>
</span><span id="line-122"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Set.html"><span class="hs-identifier">GHC.Types.Unique.Set</span></a></span><span>
</span><span id="line-123"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-124"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.Env.html"><span class="hs-identifier">GHC.Data.FastString.Env</span></a></span><span>
</span><span id="line-125"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-126"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Lexeme.html"><span class="hs-identifier">GHC.Utils.Lexeme</span></a></span><span>
</span><span id="line-127"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Binary.html"><span class="hs-identifier">GHC.Utils.Binary</span></a></span><span>
</span><span id="line-128"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.Plain.html"><span class="hs-identifier">GHC.Utils.Panic.Plain</span></a></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../deepseq-1.5.1.0-6837/src/Control.DeepSeq.html"><span class="hs-identifier">Control.DeepSeq</span></a></span><span>
</span><span id="line-131"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Char.html"><span class="hs-identifier">Data.Char</span></a></span><span>
</span><span id="line-132"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Data.html"><span class="hs-identifier">Data.Data</span></a></span><span>
</span><span id="line-133"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Semigroup.html"><span class="hs-identifier">Data.Semigroup</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-134"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/GHC.Exts.html"><span class="hs-identifier">GHC.Exts</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier">Int</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">I#</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">dataToTag#</span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Name space}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="hs-keyword">data</span><span> </span><span id="NameSpace"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-var">NameSpace</span></a></span></span><span>
</span><span id="line-145"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Variable name space (including &quot;real&quot; data constructors).</span></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="VarName"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span></span><span>
</span><span id="line-147"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Record field namespace for the given record.</span></span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FldName"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-var">FldName</span></a></span></span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="fldParent"><span class="annot"><span class="annottext">NameSpace -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#fldParent"><span class="hs-identifier hs-var hs-var">fldParent</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>
</span><span id="line-150"></span><span>      </span><span class="hs-comment">-- ^ The textual name of the parent of the field.</span><span>
</span><span id="line-151"></span><span>      </span><span class="hs-comment">--</span><span>
</span><span id="line-152"></span><span>      </span><span class="hs-comment">--   - For a field of a datatype, this is the name of the first constructor</span><span>
</span><span id="line-153"></span><span>      </span><span class="hs-comment">--     of the datatype (regardless of whether this constructor has this field).</span><span>
</span><span id="line-154"></span><span>      </span><span class="hs-comment">--   - For a field of a pattern synonym, this is the name of the pattern synonym.</span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-156"></span><span>  </span><span class="annot"><span class="hs-comment">-- | &quot;Source&quot; data constructor namespace.</span></span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DataName"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span></span><span>
</span><span id="line-158"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Type variable namespace.</span></span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TvName"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span></span><span>
</span><span id="line-160"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Type constructor and class namespace.</span></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TcClsName"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span></span><span>
</span><span id="line-162"></span><span>    </span><span class="hs-comment">-- Haskell has type constructors and classes in the same namespace, for now.</span><span>
</span><span id="line-163"></span><span>   </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621682524244"><span id="local-6989586621682524250"><span class="annot"><span class="annottext">NameSpace -&gt; NameSpace -&gt; Bool
(NameSpace -&gt; NameSpace -&gt; Bool)
-&gt; (NameSpace -&gt; NameSpace -&gt; Bool) -&gt; Eq NameSpace
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: NameSpace -&gt; NameSpace -&gt; Bool
== :: NameSpace -&gt; NameSpace -&gt; Bool
$c/= :: NameSpace -&gt; NameSpace -&gt; Bool
/= :: NameSpace -&gt; NameSpace -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682524258"><span id="local-6989586621682524262"><span id="local-6989586621682524265"><span id="local-6989586621682524268"><span id="local-6989586621682524271"><span id="local-6989586621682524274"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-166"></span><span>  </span><span id="local-6989586621682524281"><span class="annot"><span class="annottext">compare :: NameSpace -&gt; NameSpace -&gt; Ordering
</span><a href="#local-6989586621682524281"><span class="hs-identifier hs-var hs-var hs-var">compare</span></a></span></span><span> </span><span id="local-6989586621682524283"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524283"><span class="hs-identifier hs-var">ns1</span></a></span></span><span> </span><span id="local-6989586621682524284"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524284"><span class="hs-identifier hs-var">ns2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-167"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int# -&gt; Int
</span><span class="hs-identifier hs-var">I#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; Int#
forall a. DataToTag a =&gt; a -&gt; Int#
</span><span class="hs-identifier hs-var">dataToTag#</span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524283"><span class="hs-identifier hs-var">ns1</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int# -&gt; Int
</span><span class="hs-identifier hs-var">I#</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; Int#
forall a. DataToTag a =&gt; a -&gt; Int#
</span><span class="hs-identifier hs-var">dataToTag#</span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524284"><span class="hs-identifier hs-var">ns2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-168"></span><span>      </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span>
</span><span id="line-169"></span><span>      </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span>
</span><span id="line-170"></span><span>      </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span>
</span><span id="line-171"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fldParent :: NameSpace -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#fldParent"><span class="hs-identifier hs-var">fldParent</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682524285"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524285"><span class="hs-identifier hs-var">p1</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524283"><span class="hs-identifier hs-var">ns1</span></a></span><span>
</span><span id="line-172"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fldParent :: NameSpace -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#fldParent"><span class="hs-identifier hs-var">fldParent</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682524286"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524286"><span class="hs-identifier hs-var">p2</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524284"><span class="hs-identifier hs-var">ns2</span></a></span><span>
</span><span id="line-173"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; FastString -&gt; Ordering
</span><a href="GHC.Data.FastString.html#lexicalCompareFS"><span class="hs-identifier hs-var">lexicalCompareFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524285"><span class="hs-identifier hs-var">p1</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524286"><span class="hs-identifier hs-var">p2</span></a></span><span>
</span><span id="line-174"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-175"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span>
</span><span id="line-176"></span><span>
</span><span id="line-177"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Uniquable"><span class="hs-identifier hs-type">Uniquable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-178"></span><span>  </span><span id="local-6989586621682524290"><span class="annot"><span class="annottext">getUnique :: NameSpace -&gt; Unique
</span><a href="#local-6989586621682524290"><span class="hs-identifier hs-var hs-var hs-var">getUnique</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span id="local-6989586621682524292"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524292"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Unique
</span><a href="GHC.Builtin.Uniques.html#mkFldNSUnique"><span class="hs-identifier hs-var">mkFldNSUnique</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524292"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-179"></span><span>  </span><span class="annot"><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Uniques.html#varNSUnique"><span class="hs-identifier hs-var">varNSUnique</span></a></span><span>
</span><span id="line-180"></span><span>  </span><span class="annot"><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Uniques.html#dataNSUnique"><span class="hs-identifier hs-var">dataNSUnique</span></a></span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Uniques.html#tvNSUnique"><span class="hs-identifier hs-var">tvNSUnique</span></a></span><span>
</span><span id="line-182"></span><span>  </span><span class="annot"><a href="GHC.Types.Unique.html#getUnique"><span class="hs-identifier hs-var">getUnique</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="GHC.Builtin.Uniques.html#tcNSUnique"><span class="hs-identifier hs-var">tcNSUnique</span></a></span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../deepseq-1.5.1.0-6837/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-185"></span><span>  </span><span id="local-6989586621682524303"><span class="annot"><span class="annottext">rnf :: NameSpace -&gt; ()
</span><a href="#local-6989586621682524303"><span class="hs-identifier hs-var hs-var hs-var">rnf</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>  </span><span class="annot"><a href="../../deepseq-1.5.1.0-6837/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span id="local-6989586621682524305"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524305"><span class="hs-identifier hs-var">par</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ()
forall a. NFData a =&gt; a -&gt; ()
</span><a href="../../deepseq-1.5.1.0-6837/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524305"><span class="hs-identifier hs-var">par</span></a></span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><a href="../../deepseq-1.5.1.0-6837/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span>  </span><span class="annot"><a href="../../deepseq-1.5.1.0-6837/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>  </span><span class="annot"><a href="../../deepseq-1.5.1.0-6837/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-comment">{-
Note [Data Constructors]
~~~~~~~~~~~~~~~~~~~~~~~~
see also: Note [Data Constructor Naming] in GHC.Core.DataCon

$real_vs_source_data_constructors
There are two forms of data constructor:

     [Source data constructors] The data constructors mentioned in Haskell source code

     [Real data constructors] The data constructors of the representation type, which may not be the same as the source type

For example:

&gt; data T = T !(Int, Int)

The source datacon has type @(Int, Int) -&gt; T@
The real   datacon has type @Int -&gt; Int -&gt; T@

GHC chooses a representation based on the strictness etc.

Note [Record field namespacing]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Record fields have a separate namespace from variables, to support
DuplicateRecordFields, e.g. in

  data X = MkX { fld :: Int }
  data Y = MkY { fld :: Bool }

  f x = x { fld = 3 }
  g y = y { fld = False }

we want the two occurrences of &quot;fld&quot; to refer to the field names associated with
the corresponding data type.

The namespace for a record field is as follows:

  - for a data type, it is the textual name of the first constructor of the
    datatype, whether this constructor has this field or not;
  - for a pattern synonym, it is the textual name of the pattern synonym itself.

Record fields are initially parsed as variables, but the renamer resolves their
namespace in GHC.Rename.Names.newRecordFieldLabel, which is called when renaming
record data declarations and record pattern synonym declarations.

To illustrate the namespacing, consider the record field &quot;fld&quot; in the following datatype

  data instance A Int Bool Char
    = MkA1 | MkA2 { fld :: Int } | MkA3 { bar :: Bool, fld :: Int }

Its namespace is `FldName &quot;MkA1&quot;`. This is a convention used throughout GHC
to circumvent the fact that we don't have a way to refer to the type constructor
&quot;A Int Bool Char&quot; in the renamer, as data family instances only get given
'Name's in the typechecker.
-}</span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#tcName"><span class="hs-identifier hs-type">tcName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#clsName"><span class="hs-identifier hs-type">clsName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier hs-type">tcClsName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span>
</span><span id="line-248"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#dataName"><span class="hs-identifier hs-type">dataName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#srcDataName"><span class="hs-identifier hs-type">srcDataName</span></a></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span>
</span><span id="line-249"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#tvName"><span class="hs-identifier hs-type">tvName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-type">varName</span></a></span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="hs-comment">-- Though type constructors and classes are in the same name space now,</span><span>
</span><span id="line-252"></span><span class="hs-comment">-- the NameSpace type is abstract, so we can easily separate them later</span><span>
</span><span id="line-253"></span><span id="tcName"><span class="annot"><span class="annottext">tcName :: NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcName"><span class="hs-identifier hs-var hs-var">tcName</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span>           </span><span class="hs-comment">-- Type constructors</span><span>
</span><span id="line-254"></span><span id="clsName"><span class="annot"><span class="annottext">clsName :: NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#clsName"><span class="hs-identifier hs-var hs-var">clsName</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span>           </span><span class="hs-comment">-- Classes</span><span>
</span><span id="line-255"></span><span id="tcClsName"><span class="annot"><span class="annottext">tcClsName :: NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier hs-var hs-var">tcClsName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span>           </span><span class="hs-comment">-- Not sure which!</span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span id="dataName"><span class="annot"><span class="annottext">dataName :: NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#dataName"><span class="hs-identifier hs-var hs-var">dataName</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span>
</span><span id="line-258"></span><span id="srcDataName"><span class="annot"><span class="annottext">srcDataName :: NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#srcDataName"><span class="hs-identifier hs-var hs-var">srcDataName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span>  </span><span class="hs-comment">-- Haskell-source data constructors should be</span><span>
</span><span id="line-259"></span><span>                        </span><span class="hs-comment">-- in the Data name space</span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span id="tvName"><span class="annot"><span class="annottext">tvName :: NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tvName"><span class="hs-identifier hs-var hs-var">tvName</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span>
</span><span id="line-262"></span><span id="varName"><span class="annot"><span class="annottext">varName :: NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var hs-var">varName</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#fieldName"><span class="hs-identifier hs-type">fieldName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span>
</span><span id="line-265"></span><span id="fieldName"><span class="annot"><span class="annottext">fieldName :: FastString -&gt; NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#fieldName"><span class="hs-identifier hs-var hs-var">fieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-var">FldName</span></a></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isDataConNameSpace"><span class="hs-identifier hs-type">isDataConNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-268"></span><span id="isDataConNameSpace"><span class="annot"><span class="annottext">isDataConNameSpace :: NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataConNameSpace"><span class="hs-identifier hs-var hs-var">isDataConNameSpace</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-269"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isDataConNameSpace"><span class="hs-identifier hs-var">isDataConNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTcClsNameSpace"><span class="hs-identifier hs-type">isTcClsNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-272"></span><span id="isTcClsNameSpace"><span class="annot"><span class="annottext">isTcClsNameSpace :: NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcClsNameSpace"><span class="hs-identifier hs-var hs-var">isTcClsNameSpace</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-273"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTcClsNameSpace"><span class="hs-identifier hs-var">isTcClsNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTvNameSpace"><span class="hs-identifier hs-type">isTvNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-276"></span><span id="isTvNameSpace"><span class="annot"><span class="annottext">isTvNameSpace :: NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTvNameSpace"><span class="hs-identifier hs-var hs-var">isTvNameSpace</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-277"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTvNameSpace"><span class="hs-identifier hs-var">isTvNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier hs-type">isVarNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>     </span><span class="hs-comment">-- Variables or type variables, but not constructors</span><span>
</span><span id="line-280"></span><span id="isVarNameSpace"><span class="annot"><span class="annottext">isVarNameSpace :: NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier hs-var hs-var">isVarNameSpace</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-281"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier hs-var">isVarNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-282"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier hs-var">isVarNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-283"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isVarNameSpace"><span class="hs-identifier hs-var">isVarNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span class="annot"><span class="hs-comment">-- | Is this a term variable or field name namespace?</span></span><span>
</span><span id="line-286"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTermVarOrFieldNameSpace"><span class="hs-identifier hs-type">isTermVarOrFieldNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-287"></span><span id="isTermVarOrFieldNameSpace"><span class="annot"><span class="annottext">isTermVarOrFieldNameSpace :: NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTermVarOrFieldNameSpace"><span class="hs-identifier hs-var hs-var">isTermVarOrFieldNameSpace</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-288"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTermVarOrFieldNameSpace"><span class="hs-identifier hs-var">isTermVarOrFieldNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-289"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTermVarOrFieldNameSpace"><span class="hs-identifier hs-var">isTermVarOrFieldNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-290"></span><span>
</span><span id="line-291"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isValNameSpace"><span class="hs-identifier hs-type">isValNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-292"></span><span id="isValNameSpace"><span class="annot"><span class="annottext">isValNameSpace :: NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isValNameSpace"><span class="hs-identifier hs-var hs-var">isValNameSpace</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-293"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isValNameSpace"><span class="hs-identifier hs-var">isValNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-294"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isValNameSpace"><span class="hs-identifier hs-var">isValNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-295"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isValNameSpace"><span class="hs-identifier hs-var">isValNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isFieldNameSpace"><span class="hs-identifier hs-type">isFieldNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-298"></span><span id="isFieldNameSpace"><span class="annot"><span class="annottext">isFieldNameSpace :: NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isFieldNameSpace"><span class="hs-identifier hs-var hs-var">isFieldNameSpace</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-299"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isFieldNameSpace"><span class="hs-identifier hs-var">isFieldNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-300"></span><span>
</span><span id="line-301"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNameSpace"><span class="hs-identifier hs-type">pprNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-302"></span><span id="pprNameSpace"><span class="annot"><span class="annottext">pprNameSpace :: NameSpace -&gt; SDoc
</span><a href="GHC.Types.Name.Occurrence.html#pprNameSpace"><span class="hs-identifier hs-var hs-var">pprNameSpace</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SDoc
forall doc. IsLine doc =&gt; [Char] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;data constructor&quot;</span></span><span>
</span><span id="line-303"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNameSpace"><span class="hs-identifier hs-var">pprNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SDoc
forall doc. IsLine doc =&gt; [Char] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;variable&quot;</span></span><span>
</span><span id="line-304"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNameSpace"><span class="hs-identifier hs-var">pprNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SDoc
forall doc. IsLine doc =&gt; [Char] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;type variable&quot;</span></span><span>
</span><span id="line-305"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNameSpace"><span class="hs-identifier hs-var">pprNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SDoc
forall doc. IsLine doc =&gt; [Char] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;type constructor or class&quot;</span></span><span>
</span><span id="line-306"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNameSpace"><span class="hs-identifier hs-var">pprNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span id="local-6989586621682524307"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524307"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SDoc
forall doc. IsLine doc =&gt; [Char] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;record field of&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; SDoc
forall doc. IsLine doc =&gt; FastString -&gt; doc
</span><a href="GHC.Utils.Outputable.html#ftext"><span class="hs-identifier hs-var">ftext</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524307"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNonVarNameSpace"><span class="hs-identifier hs-type">pprNonVarNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-309"></span><span id="pprNonVarNameSpace"><span class="annot"><span class="annottext">pprNonVarNameSpace :: NameSpace -&gt; SDoc
</span><a href="GHC.Types.Name.Occurrence.html#pprNonVarNameSpace"><span class="hs-identifier hs-var hs-var">pprNonVarNameSpace</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsOutput doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#empty"><span class="hs-identifier hs-var">empty</span></a></span><span>
</span><span id="line-310"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNonVarNameSpace"><span class="hs-identifier hs-var">pprNonVarNameSpace</span></a></span><span> </span><span id="local-6989586621682524311"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524311"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; SDoc
</span><a href="GHC.Types.Name.Occurrence.html#pprNameSpace"><span class="hs-identifier hs-var">pprNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524311"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNameSpaceBrief"><span class="hs-identifier hs-type">pprNameSpaceBrief</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-313"></span><span id="pprNameSpaceBrief"><span class="annot"><span class="annottext">pprNameSpaceBrief :: NameSpace -&gt; SDoc
</span><a href="GHC.Types.Name.Occurrence.html#pprNameSpaceBrief"><span class="hs-identifier hs-var hs-var">pprNameSpaceBrief</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; SDoc
forall doc. IsLine doc =&gt; Char -&gt; doc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'d'</span></span><span>
</span><span id="line-314"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNameSpaceBrief"><span class="hs-identifier hs-var">pprNameSpaceBrief</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; SDoc
forall doc. IsLine doc =&gt; Char -&gt; doc
</span><a href="GHC.Utils.Outputable.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'v'</span></span><span>
</span><span id="line-315"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNameSpaceBrief"><span class="hs-identifier hs-var">pprNameSpaceBrief</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SDoc
forall doc. IsLine doc =&gt; [Char] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;tv&quot;</span></span><span>
</span><span id="line-316"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNameSpaceBrief"><span class="hs-identifier hs-var">pprNameSpaceBrief</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SDoc
forall doc. IsLine doc =&gt; [Char] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;tc&quot;</span></span><span>
</span><span id="line-317"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprNameSpaceBrief"><span class="hs-identifier hs-var">pprNameSpaceBrief</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SDoc
forall doc. IsLine doc =&gt; [Char] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;fld&quot;</span></span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span class="hs-comment">-- demoteNameSpace lowers the NameSpace if possible.  We can not know</span><span>
</span><span id="line-320"></span><span class="hs-comment">-- in advance, since a TvName can appear in an HsTyVar.</span><span>
</span><span id="line-321"></span><span class="hs-comment">-- See Note [Demotion] in GHC.Rename.Env.</span><span>
</span><span id="line-322"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#demoteNameSpace"><span class="hs-identifier hs-type">demoteNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span>
</span><span id="line-323"></span><span id="demoteNameSpace"><span class="annot"><span class="annottext">demoteNameSpace :: NameSpace -&gt; Maybe NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#demoteNameSpace"><span class="hs-identifier hs-var hs-var">demoteNameSpace</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe NameSpace
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-324"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#demoteNameSpace"><span class="hs-identifier hs-var">demoteNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe NameSpace
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-325"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#demoteNameSpace"><span class="hs-identifier hs-var">demoteNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe NameSpace
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-326"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#demoteNameSpace"><span class="hs-identifier hs-var">demoteNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Maybe NameSpace
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span>
</span><span id="line-327"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#demoteNameSpace"><span class="hs-identifier hs-var">demoteNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe NameSpace
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="hs-comment">-- demoteTvNameSpace lowers the NameSpace of a type variable.</span><span>
</span><span id="line-330"></span><span class="hs-comment">-- See Note [Demotion] in GHC.Rename.Env.</span><span>
</span><span id="line-331"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#demoteTvNameSpace"><span class="hs-identifier hs-type">demoteTvNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span>
</span><span id="line-332"></span><span id="demoteTvNameSpace"><span class="annot"><span class="annottext">demoteTvNameSpace :: NameSpace -&gt; Maybe NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#demoteTvNameSpace"><span class="hs-identifier hs-var hs-var">demoteTvNameSpace</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Maybe NameSpace
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span>
</span><span id="line-333"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#demoteTvNameSpace"><span class="hs-identifier hs-var">demoteTvNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe NameSpace
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-334"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#demoteTvNameSpace"><span class="hs-identifier hs-var">demoteTvNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe NameSpace
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-335"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#demoteTvNameSpace"><span class="hs-identifier hs-var">demoteTvNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe NameSpace
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-336"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#demoteTvNameSpace"><span class="hs-identifier hs-var">demoteTvNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe NameSpace
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span class="hs-comment">-- promoteNameSpace promotes the NameSpace as follows.</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- See Note [Promotion] in GHC.Rename.Env.</span><span>
</span><span id="line-340"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#promoteNameSpace"><span class="hs-identifier hs-type">promoteNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span>
</span><span id="line-341"></span><span id="promoteNameSpace"><span class="annot"><span class="annottext">promoteNameSpace :: NameSpace -&gt; Maybe NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#promoteNameSpace"><span class="hs-identifier hs-var hs-var">promoteNameSpace</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Maybe NameSpace
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span>
</span><span id="line-342"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#promoteNameSpace"><span class="hs-identifier hs-var">promoteNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Maybe NameSpace
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span>
</span><span id="line-343"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#promoteNameSpace"><span class="hs-identifier hs-var">promoteNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe NameSpace
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-344"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#promoteNameSpace"><span class="hs-identifier hs-var">promoteNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe NameSpace
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-345"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#promoteNameSpace"><span class="hs-identifier hs-var">promoteNameSpace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe NameSpace
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection[Name-pieces-datatypes]{The @OccName@ datatypes}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span class="hs-comment">-- | Occurrence Name</span><span>
</span><span id="line-356"></span><span class="hs-comment">--</span><span>
</span><span id="line-357"></span><span class="hs-comment">-- In this context that means:</span><span>
</span><span id="line-358"></span><span class="hs-comment">-- &quot;classified (i.e. as a type name, value name, etc) but not qualified</span><span>
</span><span id="line-359"></span><span class="hs-comment">-- and not yet resolved&quot;</span><span>
</span><span id="line-360"></span><span class="hs-keyword">data</span><span> </span><span id="OccName"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-var">OccName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="OccName"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-var">OccName</span></a></span></span><span>
</span><span id="line-361"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="occNameSpace"><span class="annot"><span class="annottext">OccName -&gt; NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#occNameSpace"><span class="hs-identifier hs-var hs-var">occNameSpace</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span>
</span><span id="line-362"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="occNameFS"><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var hs-var">occNameFS</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>
</span><span id="line-363"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682524318"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-366"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524322"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524322"><span class="hs-identifier hs-var">sp1</span></a></span></span><span> </span><span id="local-6989586621682524323"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524323"><span class="hs-identifier hs-var">s1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682524324"><span class="annot"><span class="annottext">== :: OccName -&gt; OccName -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var">==</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524325"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524325"><span class="hs-identifier hs-var">sp2</span></a></span></span><span> </span><span id="local-6989586621682524326"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524326"><span class="hs-identifier hs-var">s2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524323"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; FastString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524326"><span class="hs-identifier hs-var">s2</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524322"><span class="hs-identifier hs-var">sp1</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; NameSpace -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524325"><span class="hs-identifier hs-var">sp2</span></a></span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682524332"><span id="local-6989586621682524336"><span id="local-6989586621682524339"><span id="local-6989586621682524342"><span id="local-6989586621682524345"><span id="local-6989586621682524348"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-369"></span><span>        </span><span class="hs-comment">-- Compares lexicographically, *not* by Unique of the string</span><span>
</span><span id="line-370"></span><span>    </span><span id="local-6989586621682524353"><span class="annot"><span class="annottext">compare :: OccName -&gt; OccName -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var">compare</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524354"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524354"><span class="hs-identifier hs-var">sp1</span></a></span></span><span> </span><span id="local-6989586621682524355"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524355"><span class="hs-identifier hs-var">s1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524356"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524356"><span class="hs-identifier hs-var">sp2</span></a></span></span><span> </span><span id="local-6989586621682524357"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524357"><span class="hs-identifier hs-var">s2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-371"></span><span>      </span><span class="annot"><span class="annottext">FastString -&gt; FastString -&gt; Ordering
</span><a href="GHC.Data.FastString.html#lexicalCompareFS"><span class="hs-identifier hs-var">lexicalCompareFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524355"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524357"><span class="hs-identifier hs-var">s2</span></a></span><span> </span><span class="annot"><span class="annottext">Ordering -&gt; Ordering -&gt; Ordering
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">S.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; NameSpace -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524354"><span class="hs-identifier hs-var">sp1</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524356"><span class="hs-identifier hs-var">sp2</span></a></span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682524361"><span id="local-6989586621682524368"><span id="local-6989586621682524373"><span id="local-6989586621682524378"><span id="local-6989586621682524381"><span id="local-6989586621682524384"><span id="local-6989586621682524387"><span id="local-6989586621682524390"><span id="local-6989586621682524393"><span id="local-6989586621682524398"><span id="local-6989586621682524403"><span class="annot"><span class="hs-identifier hs-type">Data</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-374"></span><span>  </span><span class="hs-comment">-- don't traverse?</span><span>
</span><span id="line-375"></span><span>  </span><span id="local-6989586621682524408"><span class="annot"><span class="annottext">toConstr :: OccName -&gt; Constr
</span><a href="#local-6989586621682524408"><span class="hs-identifier hs-var hs-var hs-var">toConstr</span></a></span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Constr
</span><a href="GHC.Utils.Misc.html#abstractConstr"><span class="hs-identifier hs-var">abstractConstr</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;OccName&quot;</span></span><span>
</span><span id="line-376"></span><span>  </span><span id="local-6989586621682524413"><span class="annot"><span class="annottext">gunfold :: forall (c :: * -&gt; *).
(forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r)
-&gt; (forall r. r -&gt; c r) -&gt; Constr -&gt; c OccName
</span><a href="#local-6989586621682524413"><span class="hs-identifier hs-var hs-var hs-var">gunfold</span></a></span></span><span> </span><span class="annot"><span class="annottext">forall b r. Data b =&gt; c (b -&gt; r) -&gt; c r
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">forall r. r -&gt; c r
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Constr -&gt; c OccName
forall a. HasCallStack =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;gunfold&quot;</span></span><span>
</span><span id="line-377"></span><span>  </span><span id="local-6989586621682524416"><span class="annot"><span class="annottext">dataTypeOf :: OccName -&gt; DataType
</span><a href="#local-6989586621682524416"><span class="hs-identifier hs-var hs-var hs-var">dataTypeOf</span></a></span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; DataType
</span><span class="hs-identifier hs-var">mkNoRepType</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;OccName&quot;</span></span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#HasOccName"><span class="hs-identifier hs-type">HasOccName</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-380"></span><span>  </span><span id="local-6989586621682524422"><span class="annot"><span class="annottext">occName :: OccName -&gt; OccName
</span><a href="#local-6989586621682524422"><span class="hs-identifier hs-var hs-var hs-var">occName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; OccName
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-381"></span><span>
</span><span id="line-382"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../../deepseq-1.5.1.0-6837/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-383"></span><span>  </span><span id="local-6989586621682524427"><span class="annot"><span class="annottext">rnf :: OccName -&gt; ()
</span><a href="../../deepseq-1.5.1.0-6837/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var hs-var hs-var">rnf</span></a></span></span><span> </span><span id="local-6989586621682524428"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524428"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524428"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; () -&gt; ()
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Printing}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-394"></span><span>    </span><span id="local-6989586621682524432"><span class="annot"><span class="annottext">ppr :: OccName -&gt; SDoc
</span><a href="#local-6989586621682524432"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; SDoc
forall doc. IsLine doc =&gt; OccName -&gt; doc
</span><a href="GHC.Types.Name.Occurrence.html#pprOccName"><span class="hs-identifier hs-var">pprOccName</span></a></span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682524440"><span class="annot"><a href="GHC.Utils.Outputable.html#OutputableBndr"><span class="hs-identifier hs-type">OutputableBndr</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-397"></span><span>    </span><span id="local-6989586621682524445"><span class="annot"><span class="annottext">pprBndr :: BindingSite -&gt; OccName -&gt; SDoc
</span><a href="#local-6989586621682524445"><span class="hs-identifier hs-var hs-var hs-var">pprBndr</span></a></span></span><span> </span><span class="annot"><span class="annottext">BindingSite
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span>
</span><span id="line-398"></span><span>    </span><span id="local-6989586621682524448"><span class="annot"><span class="annottext">pprInfixOcc :: OccName -&gt; SDoc
</span><a href="#local-6989586621682524448"><span class="hs-identifier hs-var hs-var hs-var">pprInfixOcc</span></a></span></span><span> </span><span id="local-6989586621682524450"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524450"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprInfixVar"><span class="hs-identifier hs-var">pprInfixVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isSymOcc"><span class="hs-identifier hs-var">isSymOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524450"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524450"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-399"></span><span>    </span><span id="local-6989586621682524453"><span class="annot"><span class="annottext">pprPrefixOcc :: OccName -&gt; SDoc
</span><a href="#local-6989586621682524453"><span class="hs-identifier hs-var hs-var hs-var">pprPrefixOcc</span></a></span></span><span> </span><span id="local-6989586621682524455"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524455"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#pprPrefixVar"><span class="hs-identifier hs-var">pprPrefixVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isSymOcc"><span class="hs-identifier hs-var">isSymOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524455"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524455"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span>
</span><span id="line-401"></span><span id="local-6989586621682523760"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprOccName"><span class="hs-identifier hs-type">pprOccName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#IsLine"><span class="hs-identifier hs-type">IsLine</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523760"><span class="hs-identifier hs-type">doc</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682523760"><span class="hs-identifier hs-type">doc</span></a></span></span><span>
</span><span id="line-402"></span><span id="pprOccName"><span class="annot"><span class="annottext">pprOccName :: forall doc. IsLine doc =&gt; OccName -&gt; doc
</span><a href="GHC.Types.Name.Occurrence.html#pprOccName"><span class="hs-identifier hs-var hs-var">pprOccName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524466"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524466"><span class="hs-identifier hs-var">sp</span></a></span></span><span> </span><span id="local-6989586621682524467"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524467"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-403"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">doc -&gt; (PprStyle -&gt; SDoc) -&gt; doc
forall doc. IsOutput doc =&gt; doc -&gt; (PprStyle -&gt; SDoc) -&gt; doc
</span><a href="GHC.Utils.Outputable.html#docWithStyle"><span class="hs-identifier hs-var">docWithStyle</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastZString -&gt; doc
forall doc. IsLine doc =&gt; FastZString -&gt; doc
</span><a href="GHC.Utils.Outputable.html#ztext"><span class="hs-identifier hs-var">ztext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; FastZString
</span><a href="GHC.Data.FastString.html#zEncodeFS"><span class="hs-identifier hs-var">zEncodeFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524467"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span>    </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">PprStyle
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; SDoc
forall doc. IsLine doc =&gt; FastString -&gt; doc
</span><a href="GHC.Utils.Outputable.html#ftext"><span class="hs-identifier hs-var">ftext</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524467"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsOutput doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#whenPprDebug"><span class="hs-identifier hs-var">whenPprDebug</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#braces"><span class="hs-identifier hs-var">braces</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; SDoc
</span><a href="GHC.Types.Name.Occurrence.html#pprNameSpaceBrief"><span class="hs-identifier hs-var">pprNameSpaceBrief</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524466"><span class="hs-identifier hs-var">sp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-405"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprOccName"><span class="hs-pragma hs-type">pprOccName</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-pragma hs-type">OccName</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-pragma hs-type">SDoc</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-406"></span><span class="hs-pragma">{-# SPECIALIZE</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprOccName"><span class="hs-pragma hs-type">pprOccName</span></a></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-pragma hs-type">OccName</span></a></span><span> </span><span class="hs-pragma">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#HLine"><span class="hs-pragma hs-type">HLine</span></a></span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-comment">-- see Note [SPECIALIZE to HDoc] in GHC.Utils.Outputable</span><span>
</span><span id="line-407"></span><span>
</span><span id="line-408"></span><span class="hs-comment">-- | Mangle field names to avoid duplicate symbols.</span><span>
</span><span id="line-409"></span><span class="hs-comment">--</span><span>
</span><span id="line-410"></span><span class="hs-comment">-- See Note [Mangling OccNames].</span><span>
</span><span id="line-411"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#occNameMangledFS"><span class="hs-identifier hs-type">occNameMangledFS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>
</span><span id="line-412"></span><span id="occNameMangledFS"><span class="annot"><span class="annottext">occNameMangledFS :: OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameMangledFS"><span class="hs-identifier hs-var hs-var">occNameMangledFS</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524474"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524474"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524475"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524475"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-413"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524474"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-414"></span><span>    </span><span class="hs-comment">-- Fields need to include the constructor, to ensure that we don't define</span><span>
</span><span id="line-415"></span><span>    </span><span class="hs-comment">-- duplicate symbols when using DuplicateRecordFields.</span><span>
</span><span id="line-416"></span><span>    </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span id="local-6989586621682524476"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524476"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[FastString] -&gt; FastString
</span><a href="GHC.Data.FastString.html#concatFS"><span class="hs-identifier hs-var">concatFS</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char] -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;$fld:&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524476"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;:&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524475"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-417"></span><span>    </span><span class="hs-comment">-- Otherwise, we can ignore the namespace, as there is no risk of name</span><span>
</span><span id="line-418"></span><span>    </span><span class="hs-comment">-- clashes.</span><span>
</span><span id="line-419"></span><span>    </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524475"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span class="hs-comment">{- Note [Mangling OccNames]
~~~~~~~~~~~~~~~~~~~~~~~~~~~
When generating a symbol for a Name, we usually discard the NameSpace entirely
(see GHC.Types.Name.pprName). This is because clashes are usually not possible,
e.g. a variable and a data constructor can't clash because data constructors
start with a capital letter or a colon, while variables never do.

However, record field names, in the presence of DuplicateRecordFields, need this
disambiguation. So, for a record field like

  data A = MkA { foo :: Int }

we generate the symbol $fld:MkA:foo. We use the constructor 'MkA' to disambiguate,
and not the TyCon A as one might naively expect: this is explained in
Note [Record field namespacing].
-}</span><span>
</span><span id="line-437"></span><span>
</span><span id="line-438"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Construction}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-445"></span><span>
</span><span id="line-446"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkOccName"><span class="hs-identifier hs-type">mkOccName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-447"></span><span id="mkOccName"><span class="annot"><span class="annottext">mkOccName :: NameSpace -&gt; [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccName"><span class="hs-identifier hs-var hs-var">mkOccName</span></a></span></span><span> </span><span id="local-6989586621682524479"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524479"><span class="hs-identifier hs-var">occ_sp</span></a></span></span><span> </span><span id="local-6989586621682524480"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524480"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-var">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524479"><span class="hs-identifier hs-var">occ_sp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524480"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkOccNameFS"><span class="hs-identifier hs-type">mkOccNameFS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-450"></span><span id="mkOccNameFS"><span class="annot"><span class="annottext">mkOccNameFS :: NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccNameFS"><span class="hs-identifier hs-var hs-var">mkOccNameFS</span></a></span></span><span> </span><span id="local-6989586621682524482"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524482"><span class="hs-identifier hs-var">occ_sp</span></a></span></span><span> </span><span id="local-6989586621682524483"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524483"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-var">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524482"><span class="hs-identifier hs-var">occ_sp</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524483"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-451"></span><span>
</span><span id="line-452"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkVarOcc"><span class="hs-identifier hs-type">mkVarOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-453"></span><span id="mkVarOcc"><span class="annot"><span class="annottext">mkVarOcc :: [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkVarOcc"><span class="hs-identifier hs-var hs-var">mkVarOcc</span></a></span></span><span> </span><span id="local-6989586621682524484"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524484"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccName"><span class="hs-identifier hs-var">mkOccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524484"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkVarOccFS"><span class="hs-identifier hs-type">mkVarOccFS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-456"></span><span id="mkVarOccFS"><span class="annot"><span class="annottext">mkVarOccFS :: FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkVarOccFS"><span class="hs-identifier hs-var hs-var">mkVarOccFS</span></a></span></span><span> </span><span id="local-6989586621682524485"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524485"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccNameFS"><span class="hs-identifier hs-var">mkOccNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524485"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkRecFieldOcc"><span class="hs-identifier hs-type">mkRecFieldOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-459"></span><span id="mkRecFieldOcc"><span class="annot"><span class="annottext">mkRecFieldOcc :: FastString -&gt; [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkRecFieldOcc"><span class="hs-identifier hs-var hs-var">mkRecFieldOcc</span></a></span></span><span> </span><span id="local-6989586621682524486"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524486"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccName"><span class="hs-identifier hs-var">mkOccName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#fieldName"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524486"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-460"></span><span>
</span><span id="line-461"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkRecFieldOccFS"><span class="hs-identifier hs-type">mkRecFieldOccFS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-462"></span><span id="mkRecFieldOccFS"><span class="annot"><span class="annottext">mkRecFieldOccFS :: FastString -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkRecFieldOccFS"><span class="hs-identifier hs-var hs-var">mkRecFieldOccFS</span></a></span></span><span> </span><span id="local-6989586621682524487"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524487"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccNameFS"><span class="hs-identifier hs-var">mkOccNameFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#fieldName"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524487"><span class="hs-identifier hs-var">dc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-463"></span><span>
</span><span id="line-464"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#varToRecFieldOcc"><span class="hs-identifier hs-type">varToRecFieldOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#HasDebugCallStack"><span class="hs-identifier hs-type">HasDebugCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-465"></span><span id="varToRecFieldOcc"><span class="annot"><span class="annottext">varToRecFieldOcc :: HasDebugCallStack =&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#varToRecFieldOcc"><span class="hs-identifier hs-var hs-var">varToRecFieldOcc</span></a></span></span><span> </span><span id="local-6989586621682524491"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524491"><span class="hs-identifier hs-var">dc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524492"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524492"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524493"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524493"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-466"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; OccName -&gt; OccName
forall a. HasCallStack =&gt; Bool -&gt; a -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#assert"><span class="hs-identifier hs-var">assert</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682524495"><span class="hs-identifier hs-var">makes_sense</span></a></span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; OccName) -&gt; OccName -&gt; OccName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkRecFieldOccFS"><span class="hs-identifier hs-var">mkRecFieldOccFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524491"><span class="hs-identifier hs-var">dc</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524493"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-467"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-468"></span><span>      </span><span id="local-6989586621682524495"><span class="annot"><span class="annottext">makes_sense :: Bool
</span><a href="#local-6989586621682524495"><span class="hs-identifier hs-var hs-var">makes_sense</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524492"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-469"></span><span>        </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-470"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-471"></span><span>          </span><span class="hs-comment">-- NB: it's OK to change the parent data constructor,</span><span>
</span><span id="line-472"></span><span>          </span><span class="hs-comment">-- see e.g. test T23220 in which we construct with TH</span><span>
</span><span id="line-473"></span><span>          </span><span class="hs-comment">-- a datatype using the fields of a different datatype.</span><span>
</span><span id="line-474"></span><span>        </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#recFieldToVarOcc"><span class="hs-identifier hs-type">recFieldToVarOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html#HasDebugCallStack"><span class="hs-identifier hs-type">HasDebugCallStack</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-477"></span><span id="recFieldToVarOcc"><span class="annot"><span class="annottext">recFieldToVarOcc :: HasDebugCallStack =&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#recFieldToVarOcc"><span class="hs-identifier hs-var hs-var">recFieldToVarOcc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524497"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524497"><span class="hs-identifier hs-var">_ns</span></a></span></span><span> </span><span id="local-6989586621682524498"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524498"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkVarOccFS"><span class="hs-identifier hs-var">mkVarOccFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524498"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-478"></span><span>
</span><span id="line-479"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDataOcc"><span class="hs-identifier hs-type">mkDataOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-480"></span><span id="mkDataOcc"><span class="annot"><span class="annottext">mkDataOcc :: [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkDataOcc"><span class="hs-identifier hs-var hs-var">mkDataOcc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccName"><span class="hs-identifier hs-var">mkOccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#dataName"><span class="hs-identifier hs-var">dataName</span></a></span><span>
</span><span id="line-481"></span><span>
</span><span id="line-482"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDataOccFS"><span class="hs-identifier hs-type">mkDataOccFS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-483"></span><span id="mkDataOccFS"><span class="annot"><span class="annottext">mkDataOccFS :: FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkDataOccFS"><span class="hs-identifier hs-var hs-var">mkDataOccFS</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccNameFS"><span class="hs-identifier hs-var">mkOccNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#dataName"><span class="hs-identifier hs-var">dataName</span></a></span><span>
</span><span id="line-484"></span><span>
</span><span id="line-485"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkTyVarOcc"><span class="hs-identifier hs-type">mkTyVarOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-486"></span><span id="mkTyVarOcc"><span class="annot"><span class="annottext">mkTyVarOcc :: [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkTyVarOcc"><span class="hs-identifier hs-var hs-var">mkTyVarOcc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccName"><span class="hs-identifier hs-var">mkOccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tvName"><span class="hs-identifier hs-var">tvName</span></a></span><span>
</span><span id="line-487"></span><span>
</span><span id="line-488"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkTyVarOccFS"><span class="hs-identifier hs-type">mkTyVarOccFS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-489"></span><span id="mkTyVarOccFS"><span class="annot"><span class="annottext">mkTyVarOccFS :: FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkTyVarOccFS"><span class="hs-identifier hs-var hs-var">mkTyVarOccFS</span></a></span></span><span> </span><span id="local-6989586621682524499"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524499"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccNameFS"><span class="hs-identifier hs-var">mkOccNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tvName"><span class="hs-identifier hs-var">tvName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524499"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkTcOcc"><span class="hs-identifier hs-type">mkTcOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-492"></span><span id="mkTcOcc"><span class="annot"><span class="annottext">mkTcOcc :: [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkTcOcc"><span class="hs-identifier hs-var hs-var">mkTcOcc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccName"><span class="hs-identifier hs-var">mkOccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcName"><span class="hs-identifier hs-var">tcName</span></a></span><span>
</span><span id="line-493"></span><span>
</span><span id="line-494"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkTcOccFS"><span class="hs-identifier hs-type">mkTcOccFS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-495"></span><span id="mkTcOccFS"><span class="annot"><span class="annottext">mkTcOccFS :: FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkTcOccFS"><span class="hs-identifier hs-var hs-var">mkTcOccFS</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccNameFS"><span class="hs-identifier hs-var">mkOccNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcName"><span class="hs-identifier hs-var">tcName</span></a></span><span>
</span><span id="line-496"></span><span>
</span><span id="line-497"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkClsOcc"><span class="hs-identifier hs-type">mkClsOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-498"></span><span id="mkClsOcc"><span class="annot"><span class="annottext">mkClsOcc :: [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkClsOcc"><span class="hs-identifier hs-var hs-var">mkClsOcc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccName"><span class="hs-identifier hs-var">mkOccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#clsName"><span class="hs-identifier hs-var">clsName</span></a></span><span>
</span><span id="line-499"></span><span>
</span><span id="line-500"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkClsOccFS"><span class="hs-identifier hs-type">mkClsOccFS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-501"></span><span id="mkClsOccFS"><span class="annot"><span class="annottext">mkClsOccFS :: FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkClsOccFS"><span class="hs-identifier hs-var hs-var">mkClsOccFS</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccNameFS"><span class="hs-identifier hs-var">mkOccNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#clsName"><span class="hs-identifier hs-var">clsName</span></a></span><span>
</span><span id="line-502"></span><span>
</span><span id="line-503"></span><span class="hs-comment">-- demoteOccName lowers the Namespace of OccName.</span><span>
</span><span id="line-504"></span><span class="hs-comment">-- See Note [Demotion] in GHC.Rename.Env.</span><span>
</span><span id="line-505"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#demoteOccName"><span class="hs-identifier hs-type">demoteOccName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-506"></span><span id="demoteOccName"><span class="annot"><span class="annottext">demoteOccName :: OccName -&gt; Maybe OccName
</span><a href="GHC.Types.Name.Occurrence.html#demoteOccName"><span class="hs-identifier hs-var hs-var">demoteOccName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524500"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524500"><span class="hs-identifier hs-var">space</span></a></span></span><span> </span><span id="local-6989586621682524501"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524501"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-507"></span><span>  </span><span id="local-6989586621682524502"><span class="annot"><a href="#local-6989586621682524502"><span class="hs-identifier hs-var">space'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Maybe NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#demoteNameSpace"><span class="hs-identifier hs-var">demoteNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524500"><span class="hs-identifier hs-var">space</span></a></span><span>
</span><span id="line-508"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524502"><span class="hs-identifier hs-type">space'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524501"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-509"></span><span>
</span><span id="line-510"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#demoteOccTvName"><span class="hs-identifier hs-type">demoteOccTvName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-511"></span><span id="demoteOccTvName"><span class="annot"><span class="annottext">demoteOccTvName :: OccName -&gt; Maybe OccName
</span><a href="GHC.Types.Name.Occurrence.html#demoteOccTvName"><span class="hs-identifier hs-var hs-var">demoteOccTvName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524503"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524503"><span class="hs-identifier hs-var">space</span></a></span></span><span> </span><span id="local-6989586621682524504"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524504"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-512"></span><span>  </span><span id="local-6989586621682524505"><span class="annot"><a href="#local-6989586621682524505"><span class="hs-identifier hs-var">space'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Maybe NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#demoteTvNameSpace"><span class="hs-identifier hs-var">demoteTvNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524503"><span class="hs-identifier hs-var">space</span></a></span><span>
</span><span id="line-513"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524505"><span class="hs-identifier hs-type">space'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524504"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span class="hs-comment">-- promoteOccName promotes the NameSpace of OccName.</span><span>
</span><span id="line-516"></span><span class="hs-comment">-- See Note [Promotion] in GHC.Rename.Env.</span><span>
</span><span id="line-517"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#promoteOccName"><span class="hs-identifier hs-type">promoteOccName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-518"></span><span id="promoteOccName"><span class="annot"><span class="annottext">promoteOccName :: OccName -&gt; Maybe OccName
</span><a href="GHC.Types.Name.Occurrence.html#promoteOccName"><span class="hs-identifier hs-var hs-var">promoteOccName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524506"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524506"><span class="hs-identifier hs-var">space</span></a></span></span><span> </span><span id="local-6989586621682524507"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524507"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-519"></span><span>  </span><span id="local-6989586621682524508"><span class="annot"><a href="#local-6989586621682524508"><span class="hs-identifier hs-var">promoted_space</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Maybe NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#promoteNameSpace"><span class="hs-identifier hs-var">promoteNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524506"><span class="hs-identifier hs-var">space</span></a></span><span>
</span><span id="line-520"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682524509"><span class="annot"><a href="#local-6989586621682524509"><span class="hs-identifier hs-var hs-var">tyop</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTvNameSpace"><span class="hs-identifier hs-var">isTvNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524508"><span class="hs-identifier hs-var">promoted_space</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#isLexVarSym"><span class="hs-identifier hs-var">isLexVarSym</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524507"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-521"></span><span>      </span><span id="local-6989586621682524511"><span class="annot"><a href="#local-6989586621682524511"><span class="hs-identifier hs-var hs-var">space'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682524509"><span class="hs-identifier hs-var">tyop</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcClsName"><span class="hs-identifier hs-var">tcClsName</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524508"><span class="hs-identifier hs-var">promoted_space</span></a></span><span>   </span><span class="hs-comment">-- special case for type operators (#24570)</span><span>
</span><span id="line-522"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524511"><span class="hs-identifier hs-type">space'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524507"><span class="hs-identifier hs-type">name</span></a></span><span>
</span><span id="line-523"></span><span>
</span><span id="line-524"></span><span class="annot"><span class="hs-comment">{- | Other names in the compiler add additional information to an OccName.
This class provides a consistent way to access the underlying OccName. -}</span></span><span>
</span><span id="line-526"></span><span class="hs-keyword">class</span><span> </span><span id="HasOccName"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#HasOccName"><span class="hs-identifier hs-var">HasOccName</span></a></span></span><span> </span><span id="local-6989586621682523756"><span class="annot"><a href="#local-6989586621682523756"><span class="hs-identifier hs-type">name</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-527"></span><span>  </span><span id="occName"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#occName"><span class="hs-identifier hs-type">occName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621682523756"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-528"></span><span>
</span><span id="line-529"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Environments
*                                                                      *
************************************************************************

OccEnvs are used for the GlobalRdrEnv and for the envts in ModIface.

Note [OccEnv]
~~~~~~~~~~~~~
An OccEnv is a map keyed on OccName. Recall that an OccEnv consists of two
components:

  - a namespace,
  - a textual name (in the form of a FastString).

In general, for a given textual name, there is only one appropriate namespace.
However, sometimes we do get an occurrence that belongs to several namespaces:

  - Symbolic identifiers such as (:+) can belong to both the data constructor and
    type constructor/class namespaces.
  - With duplicate record fields, a field name can belong to several different
    namespaces, one for each parent datatype (or pattern synonym).

So we represent an OccEnv as a nested data structure

  FastStringEnv (UniqFM NameSpace a)

in which we can first look up the textual name, and then choose which of the
namespaces are relevant. This supports the two main uses of OccEnvs:

  1. One wants to look up a specific OccName in the environment, at a specific
     namespace. One looks up the textual name, and then the namespace.
  2. One wants to look up something, but isn't sure in advance of the namespace.
     So one looks up the textual name, and then can decide what to do based on
     the returned map of namespaces.

This data structure isn't performance critical in most situations, but some
improvements to its performance that might be worth it are as follows:

  A. Use a tailor-made data structure for a map keyed on NameSpaces.

     Recall that we have:

        data IntMap a = Bin !Int !Int !(IntMap a) !(IntMap a)
                      | Tip !Key a
                      | Nil

     This is already pretty efficient for singletons, but we don't need the
     empty case (as we would simply omit the parent key in the OccEnv instead
     of storing an empty inner map).

  B. Always ensure the inner map (keyed on namespaces) is evaluated, i.e.
     is never a thunk. For this, we would need to use strict operations on
     the outer FastStringEnv (but we'd keep using lazy operations on the inner
     UniqFM).
-}</span><span>
</span><span id="line-587"></span><span>
</span><span id="line-588"></span><span class="annot"><span class="hs-comment">-- | A map keyed on 'OccName'. See Note [OccEnv].</span></span><span>
</span><span id="line-589"></span><span class="hs-keyword">newtype</span><span> </span><span id="OccEnv"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-var">OccEnv</span></a></span></span><span> </span><span id="local-6989586621682523791"><span class="annot"><a href="#local-6989586621682523791"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MkOccEnv"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.FastString.Env.html#FastStringEnv"><span class="hs-identifier hs-type">FastStringEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523791"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-590"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621682524514"><span id="local-6989586621682524519"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; OccEnv a -&gt; OccEnv b)
-&gt; (forall a b. a -&gt; OccEnv b -&gt; OccEnv a) -&gt; Functor OccEnv
forall a b. a -&gt; OccEnv b -&gt; OccEnv a
forall a b. (a -&gt; b) -&gt; OccEnv a -&gt; OccEnv b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; OccEnv a -&gt; OccEnv b
fmap :: forall a b. (a -&gt; b) -&gt; OccEnv a -&gt; OccEnv b
$c&lt;$ :: forall a b. a -&gt; OccEnv b -&gt; OccEnv a
&lt;$ :: forall a b. a -&gt; OccEnv b -&gt; OccEnv a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span>
</span><span id="line-591"></span><span>
</span><span id="line-592"></span><span class="annot"><span class="hs-comment">-- | The empty 'OccEnv'.</span></span><span>
</span><span id="line-593"></span><span id="local-6989586621682523788"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#emptyOccEnv"><span class="hs-identifier hs-type">emptyOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523788"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-594"></span><span id="emptyOccEnv"><span class="annot"><span class="annottext">emptyOccEnv :: forall a. OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#emptyOccEnv"><span class="hs-identifier hs-var hs-var">emptyOccEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a. FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
forall a. FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#emptyFsEnv"><span class="hs-identifier hs-var">emptyFsEnv</span></a></span><span>
</span><span id="line-595"></span><span>
</span><span id="line-596"></span><span class="annot"><span class="hs-comment">-- | A singleton 'OccEnv'.</span></span><span>
</span><span id="line-597"></span><span id="local-6989586621682523793"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#unitOccEnv"><span class="hs-identifier hs-type">unitOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682523793"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523793"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-598"></span><span id="unitOccEnv"><span class="annot"><span class="annottext">unitOccEnv :: forall a. OccName -&gt; a -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#unitOccEnv"><span class="hs-identifier hs-var hs-var">unitOccEnv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524526"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524526"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524527"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524527"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682524528"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524528"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a. FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a)
-&gt; FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FastString
-&gt; UniqFM NameSpace a -&gt; FastStringEnv (UniqFM NameSpace a)
forall a. FastString -&gt; a -&gt; FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#unitFsEnv"><span class="hs-identifier hs-var">unitFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524527"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; a -&gt; UniqFM NameSpace a
forall key elt. Uniquable key =&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#unitUFM"><span class="hs-identifier hs-var">unitUFM</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524526"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524528"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-599"></span><span>
</span><span id="line-600"></span><span class="annot"><span class="hs-comment">-- | Add a single element to an 'OccEnv'.</span></span><span>
</span><span id="line-601"></span><span id="local-6989586621682523798"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#extendOccEnv"><span class="hs-identifier hs-type">extendOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523798"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682523798"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523798"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-602"></span><span id="extendOccEnv"><span class="annot"><span class="annottext">extendOccEnv :: forall a. OccEnv a -&gt; OccName -&gt; a -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#extendOccEnv"><span class="hs-identifier hs-var hs-var">extendOccEnv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524532"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524532"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524533"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524533"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524534"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524534"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682524535"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524535"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-603"></span><span>  </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a. FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a)
-&gt; FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(UniqFM NameSpace a -&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace a)
-&gt; FastStringEnv (UniqFM NameSpace a)
-&gt; FastString
-&gt; UniqFM NameSpace a
-&gt; FastStringEnv (UniqFM NameSpace a)
forall a.
(a -&gt; a -&gt; a)
-&gt; FastStringEnv a -&gt; FastString -&gt; a -&gt; FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#extendFsEnv_C"><span class="hs-identifier hs-var">extendFsEnv_C</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace a
forall {k} (key :: k) elt.
UniqFM key elt -&gt; UniqFM key elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#plusUFM"><span class="hs-identifier hs-var">plusUFM</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524532"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524534"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; a -&gt; UniqFM NameSpace a
forall key elt. Uniquable key =&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#unitUFM"><span class="hs-identifier hs-var">unitUFM</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524533"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524535"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-604"></span><span>
</span><span id="line-605"></span><span class="hs-comment">-- | Extend an 'OccEnv' by a list.</span><span>
</span><span id="line-606"></span><span class="hs-comment">--</span><span>
</span><span id="line-607"></span><span class="hs-comment">-- 'OccName's later on in the list override earlier 'OccName's.</span><span>
</span><span id="line-608"></span><span id="local-6989586621682523804"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#extendOccEnvList"><span class="hs-identifier hs-type">extendOccEnvList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523804"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682523804"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523804"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-609"></span><span id="extendOccEnvList"><span class="annot"><span class="annottext">extendOccEnvList :: forall a. OccEnv a -&gt; [(OccName, a)] -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#extendOccEnvList"><span class="hs-identifier hs-var hs-var">extendOccEnvList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(OccEnv a -&gt; (OccName, a) -&gt; OccEnv a)
-&gt; OccEnv a -&gt; [(OccName, a)] -&gt; OccEnv a
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">((OccEnv a -&gt; (OccName, a) -&gt; OccEnv a)
 -&gt; OccEnv a -&gt; [(OccName, a)] -&gt; OccEnv a)
-&gt; (OccEnv a -&gt; (OccName, a) -&gt; OccEnv a)
-&gt; OccEnv a
-&gt; [(OccName, a)]
-&gt; OccEnv a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682524540"><span class="annot"><span class="annottext">OccEnv a
</span><a href="#local-6989586621682524540"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682524541"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524541"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682524542"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524542"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OccEnv a -&gt; OccName -&gt; a -&gt; OccEnv a
forall a. OccEnv a -&gt; OccName -&gt; a -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#extendOccEnv"><span class="hs-identifier hs-var">extendOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv a
</span><a href="#local-6989586621682524540"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524541"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524542"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-610"></span><span>
</span><span id="line-611"></span><span class="annot"><span class="hs-comment">-- | Look an element up in an 'OccEnv'.</span></span><span>
</span><span id="line-612"></span><span id="local-6989586621682523809"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv"><span class="hs-identifier hs-type">lookupOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523809"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682523809"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-613"></span><span id="lookupOccEnv"><span class="annot"><span class="annottext">lookupOccEnv :: forall a. OccEnv a -&gt; OccName -&gt; Maybe a
</span><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv"><span class="hs-identifier hs-var hs-var">lookupOccEnv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524545"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524545"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524546"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524546"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524547"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524547"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-614"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682524548"><span class="annot"><a href="#local-6989586621682524548"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
-&gt; FastString -&gt; Maybe (UniqFM NameSpace a)
forall a. FastStringEnv a -&gt; FastString -&gt; Maybe a
</span><a href="GHC.Data.FastString.Env.html#lookupFsEnv"><span class="hs-identifier hs-var">lookupFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524545"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524547"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-615"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#lookupUFM"><span class="hs-identifier hs-type">lookupUFM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524548"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524546"><span class="hs-identifier hs-type">ns</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-616"></span><span>
</span><span id="line-617"></span><span class="annot"><span class="hs-comment">-- | Lookup an element in an 'OccEnv', ignoring 'NameSpace's entirely.</span></span><span>
</span><span id="line-618"></span><span id="local-6989586621682523814"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv_AllNameSpaces"><span class="hs-identifier hs-type">lookupOccEnv_AllNameSpaces</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523814"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682523814"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-619"></span><span id="lookupOccEnv_AllNameSpaces"><span class="annot"><span class="annottext">lookupOccEnv_AllNameSpaces :: forall a. OccEnv a -&gt; OccName -&gt; [a]
</span><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv_AllNameSpaces"><span class="hs-identifier hs-var hs-var">lookupOccEnv_AllNameSpaces</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524550"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524550"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682524551"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524551"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-620"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
-&gt; FastString -&gt; Maybe (UniqFM NameSpace a)
forall a. FastStringEnv a -&gt; FastString -&gt; Maybe a
</span><a href="GHC.Data.FastString.Env.html#lookupFsEnv"><span class="hs-identifier hs-var">lookupFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524550"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524551"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-621"></span><span>      </span><span class="annot"><span class="annottext">Maybe (UniqFM NameSpace a)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-622"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682524552"><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524552"><span class="hs-identifier hs-var">r</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; [a]
forall {k} (key :: k) elt. UniqFM key elt -&gt; [elt]
</span><a href="GHC.Types.Unique.FM.html#nonDetEltsUFM"><span class="hs-identifier hs-var">nonDetEltsUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524552"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-623"></span><span>
</span><span id="line-624"></span><span class="hs-comment">-- | Lookup an element in an 'OccEnv', looking in the record field</span><span>
</span><span id="line-625"></span><span class="hs-comment">-- namespace for a variable.</span><span>
</span><span id="line-626"></span><span id="local-6989586621682524554"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv_WithFields"><span class="hs-identifier hs-type">lookupOccEnv_WithFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524554"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682524554"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-627"></span><span id="lookupOccEnv_WithFields"><span class="annot"><span class="annottext">lookupOccEnv_WithFields :: forall a. OccEnv a -&gt; OccName -&gt; [a]
</span><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv_WithFields"><span class="hs-identifier hs-var hs-var">lookupOccEnv_WithFields</span></a></span></span><span> </span><span id="local-6989586621682524555"><span class="annot"><span class="annottext">OccEnv a
</span><a href="#local-6989586621682524555"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682524556"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524556"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-628"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OccEnv a -&gt; OccName -&gt; Maybe a
forall a. OccEnv a -&gt; OccName -&gt; Maybe a
</span><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv"><span class="hs-identifier hs-var">lookupOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv a
</span><a href="#local-6989586621682524555"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524556"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-629"></span><span>      </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621682524557"><span class="hs-identifier hs-var">fieldGREs</span></a></span><span>
</span><span id="line-630"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682524558"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524558"><span class="hs-identifier hs-var">gre</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524558"><span class="hs-identifier hs-var">gre</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; [a]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621682524557"><span class="hs-identifier hs-var">fieldGREs</span></a></span><span>
</span><span id="line-631"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-632"></span><span>    </span><span id="local-6989586621682524557"><span class="annot"><span class="annottext">fieldGREs :: [a]
</span><a href="#local-6989586621682524557"><span class="hs-identifier hs-var hs-var">fieldGREs</span></a></span></span><span>
</span><span id="line-633"></span><span>      </span><span class="hs-comment">-- If the 'OccName' is a variable, also look up</span><span>
</span><span id="line-634"></span><span>      </span><span class="hs-comment">-- in the record field namespaces.</span><span>
</span><span id="line-635"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isVarOcc"><span class="hs-identifier hs-var">isVarOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524556"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-636"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccEnv a -&gt; FastString -&gt; [a]
forall a. OccEnv a -&gt; FastString -&gt; [a]
</span><a href="GHC.Types.Name.Occurrence.html#lookupFieldsOccEnv"><span class="hs-identifier hs-var">lookupFieldsOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv a
</span><a href="#local-6989586621682524555"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524556"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-637"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-638"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-639"></span><span>
</span><span id="line-640"></span><span class="hs-comment">-- | Look up all the record fields that match with the given 'FastString'</span><span>
</span><span id="line-641"></span><span class="hs-comment">-- in an 'OccEnv'.</span><span>
</span><span id="line-642"></span><span id="local-6989586621682523820"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#lookupFieldsOccEnv"><span class="hs-identifier hs-type">lookupFieldsOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523820"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682523820"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-643"></span><span id="lookupFieldsOccEnv"><span class="annot"><span class="annottext">lookupFieldsOccEnv :: forall a. OccEnv a -&gt; FastString -&gt; [a]
</span><a href="GHC.Types.Name.Occurrence.html#lookupFieldsOccEnv"><span class="hs-identifier hs-var hs-var">lookupFieldsOccEnv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524560"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524560"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682524561"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524561"><span class="hs-identifier hs-var">fld</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-644"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
-&gt; FastString -&gt; Maybe (UniqFM NameSpace a)
forall a. FastStringEnv a -&gt; FastString -&gt; Maybe a
</span><a href="GHC.Data.FastString.Env.html#lookupFsEnv"><span class="hs-identifier hs-var">lookupFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524560"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524561"><span class="hs-identifier hs-var">fld</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-645"></span><span>    </span><span class="annot"><span class="annottext">Maybe (UniqFM NameSpace a)
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-646"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682524562"><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524562"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; [a]
forall {k} (key :: k) elt. UniqFM key elt -&gt; [elt]
</span><a href="GHC.Types.Unique.FM.html#nonDetEltsUFM"><span class="hs-identifier hs-var">nonDetEltsUFM</span></a></span><span> </span><span class="annot"><span class="annottext">(UniqFM NameSpace a -&gt; [a]) -&gt; UniqFM NameSpace a -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; UniqFM NameSpace a
forall {k} {key :: k} {elt}. UniqFM key elt -&gt; UniqFM key elt
</span><a href="#local-6989586621682524563"><span class="hs-identifier hs-var">filter_flds</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524562"><span class="hs-identifier hs-var">flds</span></a></span><span>
</span><span id="line-647"></span><span>  </span><span class="hs-comment">-- NB: non-determinism is OK: in practice we will either end up resolving</span><span>
</span><span id="line-648"></span><span>  </span><span class="hs-comment">-- to a single field or throwing an error.</span><span>
</span><span id="line-649"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-650"></span><span>    </span><span id="local-6989586621682524563"><span class="annot"><span class="annottext">filter_flds :: UniqFM key elt -&gt; UniqFM key elt
</span><a href="#local-6989586621682524563"><span class="hs-identifier hs-var hs-var">filter_flds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Unique -&gt; elt -&gt; Bool) -&gt; UniqFM key elt -&gt; UniqFM key elt
forall {k} elt (key :: k).
(Unique -&gt; elt -&gt; Bool) -&gt; UniqFM key elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#filterUFM_Directly"><span class="hs-identifier hs-var">filterUFM_Directly</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682524565"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682524565"><span class="hs-identifier hs-var">uniq</span></a></span></span><span> </span><span class="annot"><span class="annottext">elt
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Unique -&gt; Bool
</span><a href="GHC.Builtin.Uniques.html#isFldNSUnique"><span class="hs-identifier hs-var">isFldNSUnique</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682524565"><span class="hs-identifier hs-var">uniq</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-651"></span><span>
</span><span id="line-652"></span><span class="hs-comment">-- | Create an 'OccEnv' from a list.</span><span>
</span><span id="line-653"></span><span class="hs-comment">--</span><span>
</span><span id="line-654"></span><span class="hs-comment">-- 'OccName's later on in the list override earlier 'OccName's.</span><span>
</span><span id="line-655"></span><span id="local-6989586621682523828"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkOccEnv"><span class="hs-identifier hs-type">mkOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682523828"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523828"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-656"></span><span id="mkOccEnv"><span class="annot"><span class="annottext">mkOccEnv :: forall a. [(OccName, a)] -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#mkOccEnv"><span class="hs-identifier hs-var hs-var">mkOccEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccEnv a -&gt; [(OccName, a)] -&gt; OccEnv a
forall a. OccEnv a -&gt; [(OccName, a)] -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#extendOccEnvList"><span class="hs-identifier hs-var">extendOccEnvList</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv a
forall a. OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#emptyOccEnv"><span class="hs-identifier hs-var">emptyOccEnv</span></a></span><span>
</span><span id="line-657"></span><span>
</span><span id="line-658"></span><span class="hs-comment">-- | Create an 'OccEnv' from a list, combining different values</span><span>
</span><span id="line-659"></span><span class="hs-comment">-- with the same 'OccName' using the combining function.</span><span>
</span><span id="line-660"></span><span id="local-6989586621682523830"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkOccEnv_C"><span class="hs-identifier hs-type">mkOccEnv_C</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682523830"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682523830"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682523830"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-comment">-- ^ old -&gt; new -&gt; result</span></span><span>
</span><span id="line-661"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682523830"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-662"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523830"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-663"></span><span id="mkOccEnv_C"><span class="annot"><span class="annottext">mkOccEnv_C :: forall a. (a -&gt; a -&gt; a) -&gt; [(OccName, a)] -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#mkOccEnv_C"><span class="hs-identifier hs-var hs-var">mkOccEnv_C</span></a></span></span><span> </span><span id="local-6989586621682524569"><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621682524569"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682524570"><span class="annot"><span class="annottext">[(OccName, a)]
</span><a href="#local-6989586621682524570"><span class="hs-identifier hs-var">elts</span></a></span></span><span>
</span><span id="line-664"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a. FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a)
-&gt; FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqFM NameSpace a)
 -&gt; (OccName, a) -&gt; FastStringEnv (UniqFM NameSpace a))
-&gt; FastStringEnv (UniqFM NameSpace a)
-&gt; [(OccName, a)]
-&gt; FastStringEnv (UniqFM NameSpace a)
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
-&gt; (OccName, a) -&gt; FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524571"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
forall a. FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#emptyFsEnv"><span class="hs-identifier hs-var">emptyFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">[(OccName, a)]
</span><a href="#local-6989586621682524570"><span class="hs-identifier hs-var">elts</span></a></span><span>
</span><span id="line-665"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-666"></span><span>      </span><span id="local-6989586621682524571"><span class="annot"><span class="annottext">g :: FastStringEnv (UniqFM NameSpace a)
-&gt; (OccName, a) -&gt; FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524571"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span id="local-6989586621682524572"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524572"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524573"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524573"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524574"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524574"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682524575"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524575"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-667"></span><span>        </span><span class="annot"><span class="annottext">(UniqFM NameSpace a -&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace a)
-&gt; FastStringEnv (UniqFM NameSpace a)
-&gt; FastString
-&gt; UniqFM NameSpace a
-&gt; FastStringEnv (UniqFM NameSpace a)
forall a.
(a -&gt; a -&gt; a)
-&gt; FastStringEnv a -&gt; FastString -&gt; a -&gt; FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#extendFsEnv_C"><span class="hs-identifier hs-var">extendFsEnv_C</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a)
-&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace a
forall {k} elt (key :: k).
(elt -&gt; elt -&gt; elt)
-&gt; UniqFM key elt -&gt; UniqFM key elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#plusUFM_C"><span class="hs-identifier hs-var">plusUFM_C</span></a></span><span> </span><span class="annot"><span class="annottext">((a -&gt; a -&gt; a)
 -&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace a)
-&gt; (a -&gt; a -&gt; a)
-&gt; UniqFM NameSpace a
-&gt; UniqFM NameSpace a
-&gt; UniqFM NameSpace a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; a -&gt; a -&gt; a
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621682524569"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524572"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524574"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; a -&gt; UniqFM NameSpace a
forall key elt. Uniquable key =&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#unitUFM"><span class="hs-identifier hs-var">unitUFM</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524573"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524575"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-668"></span><span>
</span><span id="line-669"></span><span class="annot"><span class="hs-comment">-- | Compute whether there is a value keyed by the given 'OccName'.</span></span><span>
</span><span id="line-670"></span><span id="local-6989586621682523839"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#elemOccEnv"><span class="hs-identifier hs-type">elemOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523839"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-671"></span><span id="elemOccEnv"><span class="annot"><span class="annottext">elemOccEnv :: forall a. OccName -&gt; OccEnv a -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#elemOccEnv"><span class="hs-identifier hs-var hs-var">elemOccEnv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524579"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524579"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524580"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524580"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524581"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524581"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-672"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
-&gt; FastString -&gt; Maybe (UniqFM NameSpace a)
forall a. FastStringEnv a -&gt; FastString -&gt; Maybe a
</span><a href="GHC.Data.FastString.Env.html#lookupFsEnv"><span class="hs-identifier hs-var">lookupFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524581"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524580"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-673"></span><span>      </span><span class="annot"><span class="annottext">Maybe (UniqFM NameSpace a)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-674"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682524582"><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524582"><span class="hs-identifier hs-var">m</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524579"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; UniqFM NameSpace a -&gt; Bool
forall key elt. Uniquable key =&gt; key -&gt; UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#elemUFM"><span class="hs-operator hs-var">`elemUFM`</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524582"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-675"></span><span>
</span><span id="line-676"></span><span class="hs-comment">-- | Fold over an 'OccEnv'. Non-deterministic, unless the folding function</span><span>
</span><span id="line-677"></span><span class="hs-comment">-- is commutative (i.e. @a1 `f` ( a2 `f` b ) == a2 `f` ( a1 `f` b )@ for all @a1@, @a2@, @b@).</span><span>
</span><span id="line-678"></span><span id="local-6989586621682523843"><span id="local-6989586621682523844"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#nonDetFoldOccEnv"><span class="hs-identifier hs-type">nonDetFoldOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682523843"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682523844"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682523844"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682523844"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523843"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682523844"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-679"></span><span id="nonDetFoldOccEnv"><span class="annot"><span class="annottext">nonDetFoldOccEnv :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; OccEnv a -&gt; b
</span><a href="GHC.Types.Name.Occurrence.html#nonDetFoldOccEnv"><span class="hs-identifier hs-var hs-var">nonDetFoldOccEnv</span></a></span></span><span> </span><span id="local-6989586621682524584"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621682524584"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682524585"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621682524585"><span class="hs-identifier hs-var">b0</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524586"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524586"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-680"></span><span>  </span><span class="annot"><span class="annottext">(UniqFM NameSpace a -&gt; b -&gt; b)
-&gt; b -&gt; FastStringEnv (UniqFM NameSpace a) -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; FastStringEnv a -&gt; b
</span><a href="GHC.Data.FastString.Env.html#nonDetFoldFsEnv"><span class="hs-identifier hs-var">nonDetFoldFsEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(b -&gt; UniqFM NameSpace a -&gt; b) -&gt; UniqFM NameSpace a -&gt; b -&gt; b
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">((b -&gt; UniqFM NameSpace a -&gt; b) -&gt; UniqFM NameSpace a -&gt; b -&gt; b)
-&gt; (b -&gt; UniqFM NameSpace a -&gt; b) -&gt; UniqFM NameSpace a -&gt; b -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; b) -&gt; b -&gt; UniqFM NameSpace a -&gt; b
forall {k} elt a (key :: k).
(elt -&gt; a -&gt; a) -&gt; a -&gt; UniqFM key elt -&gt; a
</span><a href="GHC.Types.Unique.FM.html#nonDetFoldUFM"><span class="hs-identifier hs-var">nonDetFoldUFM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621682524584"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621682524585"><span class="hs-identifier hs-var">b0</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524586"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-681"></span><span>
</span><span id="line-682"></span><span class="hs-comment">-- | Obtain the elements of an 'OccEnv'.</span><span>
</span><span id="line-683"></span><span class="hs-comment">--</span><span>
</span><span id="line-684"></span><span class="hs-comment">-- The resulting order is non-deterministic.</span><span>
</span><span id="line-685"></span><span id="local-6989586621682523853"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#nonDetOccEnvElts"><span class="hs-identifier hs-type">nonDetOccEnvElts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523853"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682523853"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-686"></span><span id="nonDetOccEnvElts"><span class="annot"><span class="annottext">nonDetOccEnvElts :: forall a. OccEnv a -&gt; [a]
</span><a href="GHC.Types.Name.Occurrence.html#nonDetOccEnvElts"><span class="hs-identifier hs-var hs-var">nonDetOccEnvElts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; [a] -&gt; [a]) -&gt; [a] -&gt; OccEnv a -&gt; [a]
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; OccEnv a -&gt; b
</span><a href="GHC.Types.Name.Occurrence.html#nonDetFoldOccEnv"><span class="hs-identifier hs-var">nonDetFoldOccEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-687"></span><span>
</span><span id="line-688"></span><span class="annot"><span class="hs-comment">-- | Union of two 'OccEnv's, right-biased.</span></span><span>
</span><span id="line-689"></span><span id="local-6989586621682523855"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#plusOccEnv"><span class="hs-identifier hs-type">plusOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523855"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523855"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523855"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-690"></span><span id="plusOccEnv"><span class="annot"><span class="annottext">plusOccEnv :: forall a. OccEnv a -&gt; OccEnv a -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#plusOccEnv"><span class="hs-identifier hs-var hs-var">plusOccEnv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524589"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524589"><span class="hs-identifier hs-var">env1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524590"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524590"><span class="hs-identifier hs-var">env2</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-691"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a. FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a)
-&gt; FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(UniqFM NameSpace a -&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace a)
-&gt; FastStringEnv (UniqFM NameSpace a)
-&gt; FastStringEnv (UniqFM NameSpace a)
-&gt; FastStringEnv (UniqFM NameSpace a)
forall a.
(a -&gt; a -&gt; a)
-&gt; FastStringEnv a -&gt; FastStringEnv a -&gt; FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#plusFsEnv_C"><span class="hs-identifier hs-var">plusFsEnv_C</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace a
forall {k} (key :: k) elt.
UniqFM key elt -&gt; UniqFM key elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#plusUFM"><span class="hs-identifier hs-var">plusUFM</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524589"><span class="hs-identifier hs-var">env1</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524590"><span class="hs-identifier hs-var">env2</span></a></span><span>
</span><span id="line-692"></span><span>
</span><span id="line-693"></span><span class="annot"><span class="hs-comment">-- | Union of two 'OccEnv's with a combining function.</span></span><span>
</span><span id="line-694"></span><span id="local-6989586621682523858"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#plusOccEnv_C"><span class="hs-identifier hs-type">plusOccEnv_C</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682523858"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-glyph">-&gt;</span><span class="annot"><a href="#local-6989586621682523858"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-glyph">-&gt;</span><span class="annot"><a href="#local-6989586621682523858"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523858"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523858"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523858"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-695"></span><span id="plusOccEnv_C"><span class="annot"><span class="annottext">plusOccEnv_C :: forall a. (a -&gt; a -&gt; a) -&gt; OccEnv a -&gt; OccEnv a -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#plusOccEnv_C"><span class="hs-identifier hs-var hs-var">plusOccEnv_C</span></a></span></span><span> </span><span id="local-6989586621682524592"><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621682524592"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524593"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524593"><span class="hs-identifier hs-var">env1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524594"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524594"><span class="hs-identifier hs-var">env2</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-696"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a. FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a)
-&gt; FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(UniqFM NameSpace a -&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace a)
-&gt; FastStringEnv (UniqFM NameSpace a)
-&gt; FastStringEnv (UniqFM NameSpace a)
-&gt; FastStringEnv (UniqFM NameSpace a)
forall a.
(a -&gt; a -&gt; a)
-&gt; FastStringEnv a -&gt; FastStringEnv a -&gt; FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#plusFsEnv_C"><span class="hs-identifier hs-var">plusFsEnv_C</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a)
-&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace a
forall {k} elt (key :: k).
(elt -&gt; elt -&gt; elt)
-&gt; UniqFM key elt -&gt; UniqFM key elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#plusUFM_C"><span class="hs-identifier hs-var">plusUFM_C</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621682524592"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524593"><span class="hs-identifier hs-var">env1</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524594"><span class="hs-identifier hs-var">env2</span></a></span><span>
</span><span id="line-697"></span><span>
</span><span id="line-698"></span><span class="annot"><span class="hs-comment">-- | Map over an 'OccEnv' ('Functor' instance).</span></span><span>
</span><span id="line-699"></span><span id="local-6989586621682524595"><span id="local-6989586621682524596"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mapOccEnv"><span class="hs-identifier hs-type">mapOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682524595"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-glyph">-&gt;</span><span class="annot"><a href="#local-6989586621682524596"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524595"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524596"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-700"></span><span id="mapOccEnv"><span class="annot"><span class="annottext">mapOccEnv :: forall a b. (a -&gt; b) -&gt; OccEnv a -&gt; OccEnv b
</span><a href="GHC.Types.Name.Occurrence.html#mapOccEnv"><span class="hs-identifier hs-var hs-var">mapOccEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; OccEnv a -&gt; OccEnv b
forall a b. (a -&gt; b) -&gt; OccEnv a -&gt; OccEnv b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span>
</span><span id="line-701"></span><span>
</span><span id="line-702"></span><span class="annot"><span class="hs-comment">-- | 'mapMaybe' for b 'OccEnv'.</span></span><span>
</span><span id="line-703"></span><span id="local-6989586621682523862"><span id="local-6989586621682523863"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mapMaybeOccEnv"><span class="hs-identifier hs-type">mapMaybeOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682523862"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682523863"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523862"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523863"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-704"></span><span id="mapMaybeOccEnv"><span class="annot"><span class="annottext">mapMaybeOccEnv :: forall a b. (a -&gt; Maybe b) -&gt; OccEnv a -&gt; OccEnv b
</span><a href="GHC.Types.Name.Occurrence.html#mapMaybeOccEnv"><span class="hs-identifier hs-var hs-var">mapMaybeOccEnv</span></a></span></span><span> </span><span id="local-6989586621682524598"><span class="annot"><span class="annottext">a -&gt; Maybe b
</span><a href="#local-6989586621682524598"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524599"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524599"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-705"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace b) -&gt; OccEnv b
forall a. FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqFM NameSpace b) -&gt; OccEnv b)
-&gt; FastStringEnv (UniqFM NameSpace b) -&gt; OccEnv b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(UniqFM NameSpace a -&gt; Maybe (UniqFM NameSpace b))
-&gt; FastStringEnv (UniqFM NameSpace a)
-&gt; FastStringEnv (UniqFM NameSpace b)
forall {k} elt1 elt2 (key :: k).
(elt1 -&gt; Maybe elt2) -&gt; UniqFM key elt1 -&gt; UniqFM key elt2
</span><a href="GHC.Types.Unique.FM.html#mapMaybeUFM"><span class="hs-identifier hs-var">mapMaybeUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; Maybe (UniqFM NameSpace b)
</span><a href="#local-6989586621682524601"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524599"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-706"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-707"></span><span>      </span><span id="local-6989586621682524601"><span class="annot"><span class="annottext">g :: UniqFM NameSpace a -&gt; Maybe (UniqFM NameSpace b)
</span><a href="#local-6989586621682524601"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span id="local-6989586621682524602"><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524602"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-708"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe b) -&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace b
forall {k} elt1 elt2 (key :: k).
(elt1 -&gt; Maybe elt2) -&gt; UniqFM key elt1 -&gt; UniqFM key elt2
</span><a href="GHC.Types.Unique.FM.html#mapMaybeUFM"><span class="hs-identifier hs-var">mapMaybeUFM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe b
</span><a href="#local-6989586621682524598"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524602"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-709"></span><span>          </span><span id="local-6989586621682524603"><span class="annot"><span class="annottext">UniqFM NameSpace b
</span><a href="#local-6989586621682524603"><span class="hs-identifier hs-var">m'</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace b -&gt; Bool
forall {k} (key :: k) elt. UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#isNullUFM"><span class="hs-identifier hs-var">isNullUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace b
</span><a href="#local-6989586621682524603"><span class="hs-identifier hs-var">m'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (UniqFM NameSpace b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-710"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace b -&gt; Maybe (UniqFM NameSpace b)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace b
</span><a href="#local-6989586621682524603"><span class="hs-identifier hs-var">m'</span></a></span><span>
</span><span id="line-711"></span><span>
</span><span id="line-712"></span><span class="hs-comment">-- | Add a single element to an 'OccEnv', using a different function whether</span><span>
</span><span id="line-713"></span><span class="hs-comment">-- the 'OccName' already exists or not.</span><span>
</span><span id="line-714"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#extendOccEnv_Acc"><span class="hs-identifier hs-type">extendOccEnv_Acc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682523873"><span class="annot"><a href="#local-6989586621682523873"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621682523874"><span class="annot"><a href="#local-6989586621682523874"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-715"></span><span>                 </span><span class="hs-operator">.</span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682523873"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-glyph">-&gt;</span><span class="annot"><a href="#local-6989586621682523874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-glyph">-&gt;</span><span class="annot"><a href="#local-6989586621682523874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>    </span><span class="annot"><span class="hs-comment">-- ^ add to existing</span></span><span>
</span><span id="line-716"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682523873"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-glyph">-&gt;</span><span class="annot"><a href="#local-6989586621682523874"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>       </span><span class="annot"><span class="hs-comment">-- ^ new element</span></span><span>
</span><span id="line-717"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523874"><span class="hs-identifier hs-type">b</span></a></span><span>     </span><span class="annot"><span class="hs-comment">-- ^ old</span></span><span>
</span><span id="line-718"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682523873"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ new</span></span><span>
</span><span id="line-719"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523874"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-720"></span><span id="extendOccEnv_Acc"><span class="annot"><span class="annottext">extendOccEnv_Acc :: forall a b.
(a -&gt; b -&gt; b) -&gt; (a -&gt; b) -&gt; OccEnv b -&gt; OccName -&gt; a -&gt; OccEnv b
</span><a href="GHC.Types.Name.Occurrence.html#extendOccEnv_Acc"><span class="hs-identifier hs-var hs-var">extendOccEnv_Acc</span></a></span></span><span> </span><span id="local-6989586621682524607"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621682524607"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682524608"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621682524608"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524609"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace b)
</span><a href="#local-6989586621682524609"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524610"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524610"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524611"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524611"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-721"></span><span>  </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace b) -&gt; OccEnv b
forall a. FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqFM NameSpace b) -&gt; OccEnv b)
-&gt; (a -&gt; FastStringEnv (UniqFM NameSpace b)) -&gt; a -&gt; OccEnv b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; UniqFM NameSpace b -&gt; UniqFM NameSpace b)
-&gt; (a -&gt; UniqFM NameSpace b)
-&gt; FastStringEnv (UniqFM NameSpace b)
-&gt; FastString
-&gt; a
-&gt; FastStringEnv (UniqFM NameSpace b)
forall a b.
(a -&gt; b -&gt; b)
-&gt; (a -&gt; b)
-&gt; FastStringEnv b
-&gt; FastString
-&gt; a
-&gt; FastStringEnv b
</span><a href="GHC.Data.FastString.Env.html#extendFsEnv_Acc"><span class="hs-identifier hs-var">extendFsEnv_Acc</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; UniqFM NameSpace b -&gt; UniqFM NameSpace b
</span><a href="#local-6989586621682524614"><span class="hs-identifier hs-var">f'</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; UniqFM NameSpace b
</span><a href="#local-6989586621682524615"><span class="hs-identifier hs-var">g'</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace b)
</span><a href="#local-6989586621682524609"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524611"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-722"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-723"></span><span>     </span><span class="annot"><a href="#local-6989586621682524614"><span class="hs-identifier hs-type">f'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621682523873"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523874"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523874"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-724"></span><span>     </span><span id="local-6989586621682524614"><span class="annot"><span class="annottext">f' :: a -&gt; UniqFM NameSpace b -&gt; UniqFM NameSpace b
</span><a href="#local-6989586621682524614"><span class="hs-identifier hs-var hs-var">f'</span></a></span></span><span> </span><span id="local-6989586621682524616"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524616"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621682524617"><span class="annot"><span class="annottext">UniqFM NameSpace b
</span><a href="#local-6989586621682524617"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe b -&gt; Maybe b)
-&gt; UniqFM NameSpace b -&gt; NameSpace -&gt; UniqFM NameSpace b
forall key elt.
Uniquable key =&gt;
(Maybe elt -&gt; Maybe elt) -&gt; UniqFM key elt -&gt; key -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#alterUFM"><span class="hs-identifier hs-var">alterUFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Maybe b
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Maybe b) -&gt; (Maybe b -&gt; b) -&gt; Maybe b -&gt; Maybe b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-glyph">case</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">Maybe b
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621682524608"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524616"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682524619"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621682524619"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621682524607"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524616"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621682524619"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace b
</span><a href="#local-6989586621682524617"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524610"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-725"></span><span>     </span><span id="local-6989586621682524615"><span class="annot"><span class="annottext">g' :: a -&gt; UniqFM NameSpace b
</span><a href="#local-6989586621682524615"><span class="hs-identifier hs-var hs-var">g'</span></a></span></span><span> </span><span id="local-6989586621682524620"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524620"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; b -&gt; UniqFM NameSpace b
forall key elt. Uniquable key =&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#unitUFM"><span class="hs-identifier hs-var">unitUFM</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524610"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621682524608"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524620"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-726"></span><span>
</span><span id="line-727"></span><span class="annot"><span class="hs-comment">-- | Delete one element from an 'OccEnv'.</span></span><span>
</span><span id="line-728"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#delFromOccEnv"><span class="hs-identifier hs-type">delFromOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682523884"><span class="annot"><a href="#local-6989586621682523884"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523884"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523884"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-729"></span><span id="delFromOccEnv"><span class="annot"><span class="annottext">delFromOccEnv :: forall a. OccEnv a -&gt; OccName -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#delFromOccEnv"><span class="hs-identifier hs-var hs-var">delFromOccEnv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524622"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524622"><span class="hs-identifier hs-var">env1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524623"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524623"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524624"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524624"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-730"></span><span>  </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a. FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a)
-&gt; FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (UniqFM NameSpace a) -&gt; Maybe (UniqFM NameSpace a))
-&gt; FastStringEnv (UniqFM NameSpace a)
-&gt; FastString
-&gt; FastStringEnv (UniqFM NameSpace a)
forall a.
(Maybe a -&gt; Maybe a)
-&gt; FastStringEnv a -&gt; FastString -&gt; FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#alterFsEnv"><span class="hs-identifier hs-var">alterFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (UniqFM NameSpace a) -&gt; Maybe (UniqFM NameSpace a)
</span><a href="#local-6989586621682524626"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524622"><span class="hs-identifier hs-var">env1</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524624"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-731"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-732"></span><span>      </span><span class="annot"><a href="#local-6989586621682524626"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523884"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523884"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-733"></span><span>      </span><span id="local-6989586621682524626"><span class="annot"><span class="annottext">f :: Maybe (UniqFM NameSpace a) -&gt; Maybe (UniqFM NameSpace a)
</span><a href="#local-6989586621682524626"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (UniqFM NameSpace a)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (UniqFM NameSpace a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-734"></span><span>      </span><span class="annot"><a href="#local-6989586621682524626"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682524627"><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524627"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-735"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; NameSpace -&gt; UniqFM NameSpace a
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#delFromUFM"><span class="hs-identifier hs-var">delFromUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524627"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524623"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-736"></span><span>          </span><span id="local-6989586621682524629"><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524629"><span class="hs-identifier hs-var">m'</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; Bool
forall {k} (key :: k) elt. UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#isNullUFM"><span class="hs-identifier hs-var">isNullUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524629"><span class="hs-identifier hs-var">m'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (UniqFM NameSpace a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-737"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; Maybe (UniqFM NameSpace a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524629"><span class="hs-identifier hs-var">m'</span></a></span><span>
</span><span id="line-738"></span><span>
</span><span id="line-739"></span><span class="annot"><span class="hs-comment">-- | Delete multiple elements from an 'OccEnv'.</span></span><span>
</span><span id="line-740"></span><span id="local-6989586621682523889"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#delListFromOccEnv"><span class="hs-identifier hs-type">delListFromOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523889"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523889"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-741"></span><span id="delListFromOccEnv"><span class="annot"><span class="annottext">delListFromOccEnv :: forall a. OccEnv a -&gt; [OccName] -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#delListFromOccEnv"><span class="hs-identifier hs-var hs-var">delListFromOccEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(OccEnv a -&gt; OccName -&gt; OccEnv a)
-&gt; OccEnv a -&gt; [OccName] -&gt; OccEnv a
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">OccEnv a -&gt; OccName -&gt; OccEnv a
forall a. OccEnv a -&gt; OccName -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#delFromOccEnv"><span class="hs-identifier hs-var">delFromOccEnv</span></a></span><span>
</span><span id="line-742"></span><span>
</span><span id="line-743"></span><span class="annot"><span class="hs-comment">-- | Filter out all elements in an 'OccEnv' using a predicate.</span></span><span>
</span><span id="line-744"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#filterOccEnv"><span class="hs-identifier hs-type">filterOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682523891"><span class="annot"><a href="#local-6989586621682523891"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682523891"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523891"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523891"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-745"></span><span id="filterOccEnv"><span class="annot"><span class="annottext">filterOccEnv :: forall a. (a -&gt; Bool) -&gt; OccEnv a -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#filterOccEnv"><span class="hs-identifier hs-var hs-var">filterOccEnv</span></a></span></span><span> </span><span id="local-6989586621682524631"><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621682524631"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524632"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524632"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-746"></span><span>  </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a. FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a)
-&gt; FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(UniqFM NameSpace a -&gt; Maybe (UniqFM NameSpace a))
-&gt; FastStringEnv (UniqFM NameSpace a)
-&gt; FastStringEnv (UniqFM NameSpace a)
forall elt1 elt2.
(elt1 -&gt; Maybe elt2) -&gt; FastStringEnv elt1 -&gt; FastStringEnv elt2
</span><a href="GHC.Data.FastString.Env.html#mapMaybeFsEnv"><span class="hs-identifier hs-var">mapMaybeFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; Maybe (UniqFM NameSpace a)
</span><a href="#local-6989586621682524634"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524632"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-747"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-748"></span><span>      </span><span class="annot"><a href="#local-6989586621682524634"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523891"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523891"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-749"></span><span>      </span><span id="local-6989586621682524634"><span class="annot"><span class="annottext">g :: UniqFM NameSpace a -&gt; Maybe (UniqFM NameSpace a)
</span><a href="#local-6989586621682524634"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span id="local-6989586621682524635"><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524635"><span class="hs-identifier hs-var">ms</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-750"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Bool) -&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace a
forall {k} elt (key :: k).
(elt -&gt; Bool) -&gt; UniqFM key elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#filterUFM"><span class="hs-identifier hs-var">filterUFM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
</span><a href="#local-6989586621682524631"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524635"><span class="hs-identifier hs-var">ms</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-751"></span><span>          </span><span id="local-6989586621682524637"><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524637"><span class="hs-identifier hs-var">m'</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; Bool
forall {k} (key :: k) elt. UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#isNullUFM"><span class="hs-identifier hs-var">isNullUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524637"><span class="hs-identifier hs-var">m'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (UniqFM NameSpace a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-752"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; Maybe (UniqFM NameSpace a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524637"><span class="hs-identifier hs-var">m'</span></a></span><span>
</span><span id="line-753"></span><span>
</span><span id="line-754"></span><span class="annot"><span class="hs-comment">-- | Alter an 'OccEnv', adding or removing an element at the given key.</span></span><span>
</span><span id="line-755"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#alterOccEnv"><span class="hs-identifier hs-type">alterOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682523898"><span class="annot"><a href="#local-6989586621682523898"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682523898"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682523898"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523898"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523898"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-756"></span><span id="alterOccEnv"><span class="annot"><span class="annottext">alterOccEnv :: forall a. (Maybe a -&gt; Maybe a) -&gt; OccEnv a -&gt; OccName -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#alterOccEnv"><span class="hs-identifier hs-var hs-var">alterOccEnv</span></a></span></span><span> </span><span id="local-6989586621682524642"><span class="annot"><span class="annottext">Maybe a -&gt; Maybe a
</span><a href="#local-6989586621682524642"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524643"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524643"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524644"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524644"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524645"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524645"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-757"></span><span>  </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a. FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a)
-&gt; FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (UniqFM NameSpace a) -&gt; Maybe (UniqFM NameSpace a))
-&gt; FastStringEnv (UniqFM NameSpace a)
-&gt; FastString
-&gt; FastStringEnv (UniqFM NameSpace a)
forall a.
(Maybe a -&gt; Maybe a)
-&gt; FastStringEnv a -&gt; FastString -&gt; FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#alterFsEnv"><span class="hs-identifier hs-var">alterFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (UniqFM NameSpace a) -&gt; Maybe (UniqFM NameSpace a)
</span><a href="#local-6989586621682524646"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524643"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524645"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-758"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-759"></span><span>      </span><span class="annot"><a href="#local-6989586621682524646"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523898"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523898"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-760"></span><span>      </span><span id="local-6989586621682524646"><span class="annot"><span class="annottext">g :: Maybe (UniqFM NameSpace a) -&gt; Maybe (UniqFM NameSpace a)
</span><a href="#local-6989586621682524646"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe (UniqFM NameSpace a)
</span><span class="hs-identifier hs-var">Nothing</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; UniqFM NameSpace a) -&gt; Maybe a -&gt; Maybe (UniqFM NameSpace a)
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; a -&gt; UniqFM NameSpace a
forall key elt. Uniquable key =&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#unitUFM"><span class="hs-identifier hs-var">unitUFM</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524644"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a -&gt; Maybe a
</span><a href="#local-6989586621682524642"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-761"></span><span>      </span><span class="annot"><a href="#local-6989586621682524646"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682524647"><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524647"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-762"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(Maybe a -&gt; Maybe a)
-&gt; UniqFM NameSpace a -&gt; NameSpace -&gt; UniqFM NameSpace a
forall key elt.
Uniquable key =&gt;
(Maybe elt -&gt; Maybe elt) -&gt; UniqFM key elt -&gt; key -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#alterUFM"><span class="hs-identifier hs-var">alterUFM</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; Maybe a
</span><a href="#local-6989586621682524642"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524647"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524644"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-763"></span><span>          </span><span id="local-6989586621682524648"><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524648"><span class="hs-identifier hs-var">m'</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; Bool
forall {k} (key :: k) elt. UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#isNullUFM"><span class="hs-identifier hs-var">isNullUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524648"><span class="hs-identifier hs-var">m'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (UniqFM NameSpace a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-764"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; Maybe (UniqFM NameSpace a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524648"><span class="hs-identifier hs-var">m'</span></a></span><span>
</span><span id="line-765"></span><span>
</span><span id="line-766"></span><span id="local-6989586621682523900"><span id="local-6989586621682523901"><span id="local-6989586621682523902"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#intersectOccEnv_C"><span class="hs-identifier hs-type">intersectOccEnv_C</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682523900"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682523901"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682523902"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523900"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523901"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523902"><span class="hs-identifier hs-type">c</span></a></span></span></span></span><span>
</span><span id="line-767"></span><span id="intersectOccEnv_C"><span class="annot"><span class="annottext">intersectOccEnv_C :: forall a b c. (a -&gt; b -&gt; c) -&gt; OccEnv a -&gt; OccEnv b -&gt; OccEnv c
</span><a href="GHC.Types.Name.Occurrence.html#intersectOccEnv_C"><span class="hs-identifier hs-var hs-var">intersectOccEnv_C</span></a></span></span><span> </span><span id="local-6989586621682524649"><span class="annot"><span class="annottext">a -&gt; b -&gt; c
</span><a href="#local-6989586621682524649"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524650"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524650"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524651"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace b)
</span><a href="#local-6989586621682524651"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-768"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace c) -&gt; OccEnv c
forall a. FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqFM NameSpace c) -&gt; OccEnv c)
-&gt; FastStringEnv (UniqFM NameSpace c) -&gt; OccEnv c
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(UniqFM NameSpace a -&gt; UniqFM NameSpace b -&gt; UniqFM NameSpace c)
-&gt; FastStringEnv (UniqFM NameSpace a)
-&gt; FastStringEnv (UniqFM NameSpace b)
-&gt; FastStringEnv (UniqFM NameSpace c)
forall {k} elt1 elt2 elt3 (key :: k).
(elt1 -&gt; elt2 -&gt; elt3)
-&gt; UniqFM key elt1 -&gt; UniqFM key elt2 -&gt; UniqFM key elt3
</span><a href="GHC.Types.Unique.FM.html#intersectUFM_C"><span class="hs-identifier hs-var">intersectUFM_C</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c)
-&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace b -&gt; UniqFM NameSpace c
forall {k} elt1 elt2 elt3 (key :: k).
(elt1 -&gt; elt2 -&gt; elt3)
-&gt; UniqFM key elt1 -&gt; UniqFM key elt2 -&gt; UniqFM key elt3
</span><a href="GHC.Types.Unique.FM.html#intersectUFM_C"><span class="hs-identifier hs-var">intersectUFM_C</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; c
</span><a href="#local-6989586621682524649"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524650"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace b)
</span><a href="#local-6989586621682524651"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-769"></span><span>
</span><span id="line-770"></span><span class="annot"><span class="hs-comment">-- | Remove elements of the first 'OccEnv' that appear in the second 'OccEnv'.</span></span><span>
</span><span id="line-771"></span><span id="local-6989586621682523911"><span id="local-6989586621682523912"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#minusOccEnv"><span class="hs-identifier hs-type">minusOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523911"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523912"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523911"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-772"></span><span id="minusOccEnv"><span class="annot"><span class="annottext">minusOccEnv :: forall a b. OccEnv a -&gt; OccEnv b -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#minusOccEnv"><span class="hs-identifier hs-var hs-var">minusOccEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqFM NameSpace a -&gt; UniqFM NameSpace b -&gt; UniqFM NameSpace a)
-&gt; OccEnv a -&gt; OccEnv b -&gt; OccEnv a
forall a b.
(UniqFM NameSpace a -&gt; UniqFM NameSpace b -&gt; UniqFM NameSpace a)
-&gt; OccEnv a -&gt; OccEnv b -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#minusOccEnv_C_Ns"><span class="hs-identifier hs-var">minusOccEnv_C_Ns</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; UniqFM NameSpace b -&gt; UniqFM NameSpace a
forall {k} (key :: k) elt1 elt2.
UniqFM key elt1 -&gt; UniqFM key elt2 -&gt; UniqFM key elt1
</span><a href="GHC.Types.Unique.FM.html#minusUFM"><span class="hs-identifier hs-var">minusUFM</span></a></span><span>
</span><span id="line-773"></span><span>
</span><span id="line-774"></span><span class="hs-comment">-- | Alters (replaces or removes) those elements of the first 'OccEnv' that are</span><span>
</span><span id="line-775"></span><span class="hs-comment">-- mentioned in the second 'OccEnv'.</span><span>
</span><span id="line-776"></span><span class="hs-comment">--</span><span>
</span><span id="line-777"></span><span class="hs-comment">-- Same idea as 'Data.Map.differenceWith'.</span><span>
</span><span id="line-778"></span><span id="local-6989586621682523921"><span id="local-6989586621682523922"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#minusOccEnv_C"><span class="hs-identifier hs-type">minusOccEnv_C</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682523921"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682523922"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621682523921"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-779"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523921"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523922"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523921"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-780"></span><span id="minusOccEnv_C"><span class="annot"><span class="annottext">minusOccEnv_C :: forall a b. (a -&gt; b -&gt; Maybe a) -&gt; OccEnv a -&gt; OccEnv b -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#minusOccEnv_C"><span class="hs-identifier hs-var hs-var">minusOccEnv_C</span></a></span></span><span> </span><span id="local-6989586621682524654"><span class="annot"><span class="annottext">a -&gt; b -&gt; Maybe a
</span><a href="#local-6989586621682524654"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqFM NameSpace a -&gt; UniqFM NameSpace b -&gt; UniqFM NameSpace a)
-&gt; OccEnv a -&gt; OccEnv b -&gt; OccEnv a
forall a b.
(UniqFM NameSpace a -&gt; UniqFM NameSpace b -&gt; UniqFM NameSpace a)
-&gt; OccEnv a -&gt; OccEnv b -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#minusOccEnv_C_Ns"><span class="hs-identifier hs-var">minusOccEnv_C_Ns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b -&gt; Maybe a)
-&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace b -&gt; UniqFM NameSpace a
forall {k} elt1 elt2 (key :: k).
(elt1 -&gt; elt2 -&gt; Maybe elt1)
-&gt; UniqFM key elt1 -&gt; UniqFM key elt2 -&gt; UniqFM key elt1
</span><a href="GHC.Types.Unique.FM.html#minusUFM_C"><span class="hs-identifier hs-var">minusUFM_C</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; Maybe a
</span><a href="#local-6989586621682524654"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-781"></span><span>
</span><span id="line-782"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#minusOccEnv_C_Ns"><span class="hs-identifier hs-type">minusOccEnv_C_Ns</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682523915"><span class="annot"><a href="#local-6989586621682523915"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621682523916"><span class="annot"><a href="#local-6989586621682523916"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-783"></span><span>                 </span><span class="hs-operator">.</span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523915"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523916"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523915"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-784"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523915"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523916"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523915"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-785"></span><span id="minusOccEnv_C_Ns"><span class="annot"><span class="annottext">minusOccEnv_C_Ns :: forall a b.
(UniqFM NameSpace a -&gt; UniqFM NameSpace b -&gt; UniqFM NameSpace a)
-&gt; OccEnv a -&gt; OccEnv b -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#minusOccEnv_C_Ns"><span class="hs-identifier hs-var hs-var">minusOccEnv_C_Ns</span></a></span></span><span> </span><span id="local-6989586621682524656"><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; UniqFM NameSpace b -&gt; UniqFM NameSpace a
</span><a href="#local-6989586621682524656"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524657"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524657"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524658"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace b)
</span><a href="#local-6989586621682524658"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-786"></span><span>  </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a. FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a)
-&gt; FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(UniqFM NameSpace a
 -&gt; UniqFM NameSpace b -&gt; Maybe (UniqFM NameSpace a))
-&gt; FastStringEnv (UniqFM NameSpace a)
-&gt; FastStringEnv (UniqFM NameSpace b)
-&gt; FastStringEnv (UniqFM NameSpace a)
forall {k} elt1 elt2 (key :: k).
(elt1 -&gt; elt2 -&gt; Maybe elt1)
-&gt; UniqFM key elt1 -&gt; UniqFM key elt2 -&gt; UniqFM key elt1
</span><a href="GHC.Types.Unique.FM.html#minusUFM_C"><span class="hs-identifier hs-var">minusUFM_C</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
-&gt; UniqFM NameSpace b -&gt; Maybe (UniqFM NameSpace a)
</span><a href="#local-6989586621682524659"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524657"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace b)
</span><a href="#local-6989586621682524658"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-787"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-788"></span><span>      </span><span class="annot"><a href="#local-6989586621682524659"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523915"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523916"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523915"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-789"></span><span>      </span><span id="local-6989586621682524659"><span class="annot"><span class="annottext">g :: UniqFM NameSpace a
-&gt; UniqFM NameSpace b -&gt; Maybe (UniqFM NameSpace a)
</span><a href="#local-6989586621682524659"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span id="local-6989586621682524660"><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524660"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span id="local-6989586621682524661"><span class="annot"><span class="annottext">UniqFM NameSpace b
</span><a href="#local-6989586621682524661"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-790"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682524662"><span class="annot"><span class="annottext">m :: UniqFM NameSpace a
</span><a href="#local-6989586621682524662"><span class="hs-identifier hs-var hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; UniqFM NameSpace b -&gt; UniqFM NameSpace a
</span><a href="#local-6989586621682524656"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524660"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace b
</span><a href="#local-6989586621682524661"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-791"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; Bool
forall {k} (key :: k) elt. UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#isNullUFM"><span class="hs-identifier hs-var">isNullUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524662"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-792"></span><span>           </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe (UniqFM NameSpace a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-793"></span><span>           </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; Maybe (UniqFM NameSpace a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524662"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-794"></span><span>
</span><span id="line-795"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682523932"><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523932"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523932"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-796"></span><span>    </span><span id="local-6989586621682524667"><span class="annot"><span class="annottext">ppr :: OccEnv a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span id="local-6989586621682524668"><span class="annot"><span class="annottext">OccEnv a
</span><a href="#local-6989586621682524668"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; SDoc) -&gt; OccEnv a -&gt; SDoc
forall a. (a -&gt; SDoc) -&gt; OccEnv a -&gt; SDoc
</span><a href="GHC.Types.Name.Occurrence.html#pprOccEnv"><span class="hs-identifier hs-var">pprOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv a
</span><a href="#local-6989586621682524668"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-797"></span><span>
</span><span id="line-798"></span><span id="local-6989586621682523933"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#pprOccEnv"><span class="hs-identifier hs-type">pprOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682523933"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523933"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span></span><span>
</span><span id="line-799"></span><span id="pprOccEnv"><span class="annot"><span class="annottext">pprOccEnv :: forall a. (a -&gt; SDoc) -&gt; OccEnv a -&gt; SDoc
</span><a href="GHC.Types.Name.Occurrence.html#pprOccEnv"><span class="hs-identifier hs-var hs-var">pprOccEnv</span></a></span></span><span> </span><span id="local-6989586621682524678"><span class="annot"><span class="annottext">a -&gt; SDoc
</span><a href="#local-6989586621682524678"><span class="hs-identifier hs-var">ppr_elt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524679"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524679"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-800"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; SDoc) -&gt; SDoc -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsLine doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#fsep"><span class="hs-identifier hs-var">fsep</span></a></span><span> </span><span class="annot"><span class="annottext">([SDoc] -&gt; SDoc) -&gt; [SDoc] -&gt; SDoc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; [SDoc] -&gt; [SDoc]
forall doc. IsLine doc =&gt; doc -&gt; [doc] -&gt; [doc]
</span><a href="GHC.Utils.Outputable.html#punctuate"><span class="hs-identifier hs-var">punctuate</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a></span><span> </span><span class="annot"><span class="annottext">([SDoc] -&gt; [SDoc]) -&gt; [SDoc] -&gt; [SDoc]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-801"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Unique -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682524684"><span class="hs-identifier hs-var">uq</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SDoc
forall doc. IsLine doc =&gt; [Char] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;:-&gt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; SDoc
</span><a href="#local-6989586621682524678"><span class="hs-identifier hs-var">ppr_elt</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524685"><span class="hs-identifier hs-var">elt</span></a></span><span>
</span><span id="line-802"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682524684"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682524684"><span class="hs-identifier hs-var">uq</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682524686"><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524686"><span class="hs-identifier hs-var">elts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
-&gt; [(Unique, UniqFM NameSpace a)]
forall {k} (key :: k) elt. UniqFM key elt -&gt; [(Unique, elt)]
</span><a href="GHC.Types.Unique.FM.html#nonDetUFMToList"><span class="hs-identifier hs-var">nonDetUFMToList</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524679"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-803"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621682524685"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682524685"><span class="hs-identifier hs-var">elt</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a -&gt; [a]
forall {k} (key :: k) elt. UniqFM key elt -&gt; [elt]
</span><a href="GHC.Types.Unique.FM.html#nonDetEltsUFM"><span class="hs-identifier hs-var">nonDetEltsUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM NameSpace a
</span><a href="#local-6989586621682524686"><span class="hs-identifier hs-var">elts</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-804"></span><span>
</span><span id="line-805"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682523941"><span class="annot"><a href="../../deepseq-1.5.1.0-6837/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523941"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../../deepseq-1.5.1.0-6837/src/Control.DeepSeq.html#NFData"><span class="hs-identifier hs-type">NFData</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523941"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-806"></span><span>  </span><span id="local-6989586621682524692"><span class="annot"><span class="annottext">rnf :: OccEnv a -&gt; ()
</span><a href="../../deepseq-1.5.1.0-6837/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var hs-var hs-var">rnf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; ()) -&gt; OccEnv a -&gt; ()
forall a. (a -&gt; ()) -&gt; OccEnv a -&gt; ()
</span><a href="GHC.Types.Name.Occurrence.html#forceOccEnv"><span class="hs-identifier hs-var">forceOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; ()
forall a. NFData a =&gt; a -&gt; ()
</span><a href="../../deepseq-1.5.1.0-6837/src/Control.DeepSeq.html#rnf"><span class="hs-identifier hs-var">rnf</span></a></span><span>
</span><span id="line-807"></span><span>
</span><span id="line-808"></span><span class="annot"><span class="hs-comment">-- | Map over an 'OccEnv' strictly.</span></span><span>
</span><span id="line-809"></span><span id="local-6989586621682524693"><span id="local-6989586621682524694"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#strictMapOccEnv"><span class="hs-identifier hs-type">strictMapOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682524693"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682524694"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524693"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524694"><span class="hs-identifier hs-type">b</span></a></span></span></span><span>
</span><span id="line-810"></span><span id="strictMapOccEnv"><span class="annot"><span class="annottext">strictMapOccEnv :: forall a b. (a -&gt; b) -&gt; OccEnv a -&gt; OccEnv b
</span><a href="GHC.Types.Name.Occurrence.html#strictMapOccEnv"><span class="hs-identifier hs-var hs-var">strictMapOccEnv</span></a></span></span><span> </span><span id="local-6989586621682524695"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621682524695"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524696"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524696"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-811"></span><span>  </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace b) -&gt; OccEnv b
forall a. FastStringEnv (UniqFM NameSpace a) -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-var">MkOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqFM NameSpace b) -&gt; OccEnv b)
-&gt; FastStringEnv (UniqFM NameSpace b) -&gt; OccEnv b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(UniqFM NameSpace a -&gt; UniqFM NameSpace b)
-&gt; FastStringEnv (UniqFM NameSpace a)
-&gt; FastStringEnv (UniqFM NameSpace b)
forall a b. (a -&gt; b) -&gt; FastStringEnv a -&gt; FastStringEnv b
</span><a href="GHC.Data.FastString.Env.html#strictMapFsEnv"><span class="hs-identifier hs-var">strictMapFsEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; UniqFM NameSpace a -&gt; UniqFM NameSpace b
forall {k1} a b (k2 :: k1). (a -&gt; b) -&gt; UniqFM k2 a -&gt; UniqFM k2 b
</span><a href="GHC.Types.Unique.FM.html#strictMapUFM"><span class="hs-identifier hs-var">strictMapUFM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621682524695"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524696"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-812"></span><span>
</span><span id="line-813"></span><span class="annot"><span class="hs-comment">-- | Force an 'OccEnv' with the provided function.</span></span><span>
</span><span id="line-814"></span><span id="local-6989586621682523942"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#forceOccEnv"><span class="hs-identifier hs-type">forceOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682523942"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682523942"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-815"></span><span id="forceOccEnv"><span class="annot"><span class="annottext">forceOccEnv :: forall a. (a -&gt; ()) -&gt; OccEnv a -&gt; ()
</span><a href="GHC.Types.Name.Occurrence.html#forceOccEnv"><span class="hs-identifier hs-var hs-var">forceOccEnv</span></a></span></span><span> </span><span id="local-6989586621682524699"><span class="annot"><span class="annottext">a -&gt; ()
</span><a href="#local-6989586621682524699"><span class="hs-identifier hs-var">nf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#MkOccEnv"><span class="hs-identifier hs-type">MkOccEnv</span></a></span><span> </span><span id="local-6989586621682524700"><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524700"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqFM NameSpace a -&gt; ())
-&gt; FastStringEnv (UniqFM NameSpace a) -&gt; ()
forall {k} elt (key :: k). (elt -&gt; ()) -&gt; UniqFM key elt -&gt; ()
</span><a href="GHC.Types.Unique.FM.html#seqEltsUFM"><span class="hs-identifier hs-var">seqEltsUFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; ()) -&gt; UniqFM NameSpace a -&gt; ()
forall {k} elt (key :: k). (elt -&gt; ()) -&gt; UniqFM key elt -&gt; ()
</span><a href="GHC.Types.Unique.FM.html#seqEltsUFM"><span class="hs-identifier hs-var">seqEltsUFM</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; ()
</span><a href="#local-6989586621682524699"><span class="hs-identifier hs-var">nf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqFM NameSpace a)
</span><a href="#local-6989586621682524700"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-816"></span><span>
</span><span id="line-817"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-818"></span><span>
</span><span id="line-819"></span><span class="hs-keyword">newtype</span><span> </span><span id="OccSet"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-var">OccSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="OccSet"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-var">OccSet</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.FastString.Env.html#FastStringEnv"><span class="hs-identifier hs-type">FastStringEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.Set.html#UniqSet"><span class="hs-identifier hs-type">UniqSet</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-820"></span><span>
</span><span id="line-821"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#emptyOccSet"><span class="hs-identifier hs-type">emptyOccSet</span></a></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span>
</span><span id="line-822"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#unitOccSet"><span class="hs-identifier hs-type">unitOccSet</span></a></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span>
</span><span id="line-823"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkOccSet"><span class="hs-identifier hs-type">mkOccSet</span></a></span><span>          </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span>
</span><span id="line-824"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#extendOccSet"><span class="hs-identifier hs-type">extendOccSet</span></a></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span>
</span><span id="line-825"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#extendOccSetList"><span class="hs-identifier hs-type">extendOccSetList</span></a></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span>
</span><span id="line-826"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#unionOccSets"><span class="hs-identifier hs-type">unionOccSets</span></a></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span>
</span><span id="line-827"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#unionManyOccSets"><span class="hs-identifier hs-type">unionManyOccSets</span></a></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span>
</span><span id="line-828"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#elemOccSet"><span class="hs-identifier hs-type">elemOccSet</span></a></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-829"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isEmptyOccSet"><span class="hs-identifier hs-type">isEmptyOccSet</span></a></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-830"></span><span>
</span><span id="line-831"></span><span id="emptyOccSet"><span class="annot"><span class="annottext">emptyOccSet :: OccSet
</span><a href="GHC.Types.Name.Occurrence.html#emptyOccSet"><span class="hs-identifier hs-var hs-var">emptyOccSet</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace) -&gt; OccSet
</span><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-var">OccSet</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace)
forall a. FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#emptyFsEnv"><span class="hs-identifier hs-var">emptyFsEnv</span></a></span><span>
</span><span id="line-832"></span><span id="unitOccSet"><span class="annot"><span class="annottext">unitOccSet :: OccName -&gt; OccSet
</span><a href="GHC.Types.Name.Occurrence.html#unitOccSet"><span class="hs-identifier hs-var hs-var">unitOccSet</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524702"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524702"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524703"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524703"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace) -&gt; OccSet
</span><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-var">OccSet</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqSet NameSpace) -&gt; OccSet)
-&gt; FastStringEnv (UniqSet NameSpace) -&gt; OccSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FastString
-&gt; UniqSet NameSpace -&gt; FastStringEnv (UniqSet NameSpace)
forall a. FastString -&gt; a -&gt; FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#unitFsEnv"><span class="hs-identifier hs-var">unitFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524703"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; UniqSet NameSpace
forall a. Uniquable a =&gt; a -&gt; UniqSet a
</span><a href="GHC.Types.Unique.Set.html#unitUniqSet"><span class="hs-identifier hs-var">unitUniqSet</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524702"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-833"></span><span id="mkOccSet"><span class="annot"><span class="annottext">mkOccSet :: [OccName] -&gt; OccSet
</span><a href="GHC.Types.Name.Occurrence.html#mkOccSet"><span class="hs-identifier hs-var hs-var">mkOccSet</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccSet -&gt; [OccName] -&gt; OccSet
</span><a href="GHC.Types.Name.Occurrence.html#extendOccSetList"><span class="hs-identifier hs-var">extendOccSetList</span></a></span><span> </span><span class="annot"><span class="annottext">OccSet
</span><a href="GHC.Types.Name.Occurrence.html#emptyOccSet"><span class="hs-identifier hs-var">emptyOccSet</span></a></span><span>
</span><span id="line-834"></span><span id="extendOccSet"><span class="annot"><span class="annottext">extendOccSet :: OccSet -&gt; OccName -&gt; OccSet
</span><a href="GHC.Types.Name.Occurrence.html#extendOccSet"><span class="hs-identifier hs-var hs-var">extendOccSet</span></a></span></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span> </span><span id="local-6989586621682524705"><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace)
</span><a href="#local-6989586621682524705"><span class="hs-identifier hs-var">occs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524706"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524706"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524707"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524707"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace) -&gt; OccSet
</span><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-var">OccSet</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqSet NameSpace) -&gt; OccSet)
-&gt; FastStringEnv (UniqSet NameSpace) -&gt; OccSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace)
-&gt; FastString
-&gt; UniqSet NameSpace
-&gt; FastStringEnv (UniqSet NameSpace)
forall a. FastStringEnv a -&gt; FastString -&gt; a -&gt; FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#extendFsEnv"><span class="hs-identifier hs-var">extendFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace)
</span><a href="#local-6989586621682524705"><span class="hs-identifier hs-var">occs</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524707"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; UniqSet NameSpace
forall a. Uniquable a =&gt; a -&gt; UniqSet a
</span><a href="GHC.Types.Unique.Set.html#unitUniqSet"><span class="hs-identifier hs-var">unitUniqSet</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524706"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-835"></span><span id="extendOccSetList"><span class="annot"><span class="annottext">extendOccSetList :: OccSet -&gt; [OccName] -&gt; OccSet
</span><a href="GHC.Types.Name.Occurrence.html#extendOccSetList"><span class="hs-identifier hs-var hs-var">extendOccSetList</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(OccSet -&gt; OccName -&gt; OccSet) -&gt; OccSet -&gt; [OccName] -&gt; OccSet
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">OccSet -&gt; OccName -&gt; OccSet
</span><a href="GHC.Types.Name.Occurrence.html#extendOccSet"><span class="hs-identifier hs-var">extendOccSet</span></a></span><span>
</span><span id="line-836"></span><span id="unionOccSets"><span class="annot"><span class="annottext">unionOccSets :: OccSet -&gt; OccSet -&gt; OccSet
</span><a href="GHC.Types.Name.Occurrence.html#unionOccSets"><span class="hs-identifier hs-var hs-var">unionOccSets</span></a></span></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span> </span><span id="local-6989586621682524708"><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace)
</span><a href="#local-6989586621682524708"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span> </span><span id="local-6989586621682524709"><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace)
</span><a href="#local-6989586621682524709"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace) -&gt; OccSet
</span><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-var">OccSet</span></a></span><span> </span><span class="annot"><span class="annottext">(FastStringEnv (UniqSet NameSpace) -&gt; OccSet)
-&gt; FastStringEnv (UniqSet NameSpace) -&gt; OccSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(UniqSet NameSpace -&gt; UniqSet NameSpace -&gt; UniqSet NameSpace)
-&gt; FastStringEnv (UniqSet NameSpace)
-&gt; FastStringEnv (UniqSet NameSpace)
-&gt; FastStringEnv (UniqSet NameSpace)
forall a.
(a -&gt; a -&gt; a)
-&gt; FastStringEnv a -&gt; FastStringEnv a -&gt; FastStringEnv a
</span><a href="GHC.Data.FastString.Env.html#plusFsEnv_C"><span class="hs-identifier hs-var">plusFsEnv_C</span></a></span><span> </span><span class="annot"><span class="annottext">UniqSet NameSpace -&gt; UniqSet NameSpace -&gt; UniqSet NameSpace
forall a. UniqSet a -&gt; UniqSet a -&gt; UniqSet a
</span><a href="GHC.Types.Unique.Set.html#unionUniqSets"><span class="hs-identifier hs-var">unionUniqSets</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace)
</span><a href="#local-6989586621682524708"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace)
</span><a href="#local-6989586621682524709"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-837"></span><span id="unionManyOccSets"><span class="annot"><span class="annottext">unionManyOccSets :: [OccSet] -&gt; OccSet
</span><a href="GHC.Types.Name.Occurrence.html#unionManyOccSets"><span class="hs-identifier hs-var hs-var">unionManyOccSets</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(OccSet -&gt; OccSet -&gt; OccSet) -&gt; OccSet -&gt; [OccSet] -&gt; OccSet
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">OccSet -&gt; OccSet -&gt; OccSet
</span><a href="GHC.Types.Name.Occurrence.html#unionOccSets"><span class="hs-identifier hs-var">unionOccSets</span></a></span><span> </span><span class="annot"><span class="annottext">OccSet
</span><a href="GHC.Types.Name.Occurrence.html#emptyOccSet"><span class="hs-identifier hs-var">emptyOccSet</span></a></span><span>
</span><span id="line-838"></span><span id="elemOccSet"><span class="annot"><span class="annottext">elemOccSet :: OccName -&gt; OccSet -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#elemOccSet"><span class="hs-identifier hs-var hs-var">elemOccSet</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524711"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524711"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524712"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524712"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span> </span><span id="local-6989586621682524713"><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace)
</span><a href="#local-6989586621682524713"><span class="hs-identifier hs-var">occs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; (UniqSet NameSpace -&gt; Bool) -&gt; Maybe (UniqSet NameSpace) -&gt; Bool
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; UniqSet NameSpace -&gt; Bool
forall a. Uniquable a =&gt; a -&gt; UniqSet a -&gt; Bool
</span><a href="GHC.Types.Unique.Set.html#elementOfUniqSet"><span class="hs-identifier hs-var">elementOfUniqSet</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524711"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe (UniqSet NameSpace) -&gt; Bool)
-&gt; Maybe (UniqSet NameSpace) -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace)
-&gt; FastString -&gt; Maybe (UniqSet NameSpace)
forall a. FastStringEnv a -&gt; FastString -&gt; Maybe a
</span><a href="GHC.Data.FastString.Env.html#lookupFsEnv"><span class="hs-identifier hs-var">lookupFsEnv</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace)
</span><a href="#local-6989586621682524713"><span class="hs-identifier hs-var">occs</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524712"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-839"></span><span id="isEmptyOccSet"><span class="annot"><span class="annottext">isEmptyOccSet :: OccSet -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isEmptyOccSet"><span class="hs-identifier hs-var hs-var">isEmptyOccSet</span></a></span></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span> </span><span id="local-6989586621682524716"><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace)
</span><a href="#local-6989586621682524716"><span class="hs-identifier hs-var">occs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace) -&gt; Bool
forall {k} (key :: k) elt. UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#isNullUFM"><span class="hs-identifier hs-var">isNullUFM</span></a></span><span> </span><span class="annot"><span class="annottext">FastStringEnv (UniqSet NameSpace)
</span><a href="#local-6989586621682524716"><span class="hs-identifier hs-var">occs</span></a></span><span>
</span><span id="line-840"></span><span>
</span><span id="line-841"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Predicates and taking them apart}
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-848"></span><span>
</span><span id="line-849"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#occNameString"><span class="hs-identifier hs-type">occNameString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-850"></span><span id="occNameString"><span class="annot"><span class="annottext">occNameString :: OccName -&gt; [Char]
</span><a href="GHC.Types.Name.Occurrence.html#occNameString"><span class="hs-identifier hs-var hs-var">occNameString</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682524717"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524717"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; [Char]
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524717"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-851"></span><span>
</span><span id="line-852"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-type">setOccNameSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-853"></span><span id="setOccNameSpace"><span class="annot"><span class="annottext">setOccNameSpace :: NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var hs-var">setOccNameSpace</span></a></span></span><span> </span><span id="local-6989586621682524719"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524719"><span class="hs-identifier hs-var">sp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682524720"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524720"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-var">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524719"><span class="hs-identifier hs-var">sp</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524720"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-854"></span><span>
</span><span id="line-855"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isVarOcc"><span class="hs-identifier hs-type">isVarOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTvOcc"><span class="hs-identifier hs-type">isTvOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTcOcc"><span class="hs-identifier hs-type">isTcOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isDataOcc"><span class="hs-identifier hs-type">isDataOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isFieldOcc"><span class="hs-identifier hs-type">isFieldOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-856"></span><span>
</span><span id="line-857"></span><span id="isVarOcc"><span class="annot"><span class="annottext">isVarOcc :: OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isVarOcc"><span class="hs-identifier hs-var hs-var">isVarOcc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-858"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isVarOcc"><span class="hs-identifier hs-var">isVarOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-859"></span><span>
</span><span id="line-860"></span><span id="isTvOcc"><span class="annot"><span class="annottext">isTvOcc :: OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTvOcc"><span class="hs-identifier hs-var hs-var">isTvOcc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-861"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTvOcc"><span class="hs-identifier hs-var">isTvOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-862"></span><span>
</span><span id="line-863"></span><span id="isTcOcc"><span class="annot"><span class="annottext">isTcOcc :: OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTcOcc"><span class="hs-identifier hs-var hs-var">isTcOcc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-864"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTcOcc"><span class="hs-identifier hs-var">isTcOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-865"></span><span>
</span><span id="line-866"></span><span id="isFieldOcc"><span class="annot"><span class="annottext">isFieldOcc :: OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isFieldOcc"><span class="hs-identifier hs-var hs-var">isFieldOcc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-867"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isFieldOcc"><span class="hs-identifier hs-var">isFieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-868"></span><span>
</span><span id="line-869"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#fieldOcc_maybe"><span class="hs-identifier hs-type">fieldOcc_maybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>
</span><span id="line-870"></span><span id="fieldOcc_maybe"><span class="annot"><span class="annottext">fieldOcc_maybe :: OccName -&gt; Maybe FastString
</span><a href="GHC.Types.Name.Occurrence.html#fieldOcc_maybe"><span class="hs-identifier hs-var hs-var">fieldOcc_maybe</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span id="local-6989586621682524721"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524721"><span class="hs-identifier hs-var">con</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Maybe FastString
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524721"><span class="hs-identifier hs-var">con</span></a></span><span>
</span><span id="line-871"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#fieldOcc_maybe"><span class="hs-identifier hs-var">fieldOcc_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span>                         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe FastString
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-872"></span><span>
</span><span id="line-873"></span><span class="hs-comment">-- | /Value/ 'OccNames's are those that are either in</span><span>
</span><span id="line-874"></span><span class="hs-comment">-- the variable, field name or data constructor namespaces</span><span>
</span><span id="line-875"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isValOcc"><span class="hs-identifier hs-type">isValOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-876"></span><span id="isValOcc"><span class="annot"><span class="annottext">isValOcc :: OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isValOcc"><span class="hs-identifier hs-var hs-var">isValOcc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span>      </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-877"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isValOcc"><span class="hs-identifier hs-var">isValOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span>     </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-878"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isValOcc"><span class="hs-identifier hs-var">isValOcc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-879"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isValOcc"><span class="hs-identifier hs-var">isValOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-880"></span><span>
</span><span id="line-881"></span><span id="isDataOcc"><span class="annot"><span class="annottext">isDataOcc :: OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataOcc"><span class="hs-identifier hs-var hs-var">isDataOcc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-882"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isDataOcc"><span class="hs-identifier hs-var">isDataOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-883"></span><span>
</span><span id="line-884"></span><span class="hs-comment">-- | Test if the 'OccName' is a data constructor that starts with</span><span>
</span><span id="line-885"></span><span class="hs-comment">-- a symbol (e.g. @:@, or @[]@)</span><span>
</span><span id="line-886"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isDataSymOcc"><span class="hs-identifier hs-type">isDataSymOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-887"></span><span id="isDataSymOcc"><span class="annot"><span class="annottext">isDataSymOcc :: OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataSymOcc"><span class="hs-identifier hs-var hs-var">isDataSymOcc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span> </span><span id="local-6989586621682524722"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524722"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#isLexConSym"><span class="hs-identifier hs-var">isLexConSym</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524722"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-888"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isDataSymOcc"><span class="hs-identifier hs-var">isDataSymOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><span class="hs-identifier">_</span></span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-889"></span><span class="hs-comment">-- Pretty inefficient!</span><span>
</span><span id="line-890"></span><span>
</span><span id="line-891"></span><span class="hs-comment">-- | Test if the 'OccName' is that for any operator (whether</span><span>
</span><span id="line-892"></span><span class="hs-comment">-- it is a data constructor or variable or whatever)</span><span>
</span><span id="line-893"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isSymOcc"><span class="hs-identifier hs-type">isSymOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-894"></span><span id="isSymOcc"><span class="annot"><span class="annottext">isSymOcc :: OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isSymOcc"><span class="hs-identifier hs-var hs-var">isSymOcc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524724"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524724"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524725"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524725"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524724"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-895"></span><span>  </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#isLexConSym"><span class="hs-identifier hs-var">isLexConSym</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524725"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-896"></span><span>  </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#isLexSym"><span class="hs-identifier hs-var">isLexSym</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524725"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-897"></span><span>  </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#isLexSym"><span class="hs-identifier hs-var">isLexSym</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524725"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-898"></span><span>  </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#isLexSym"><span class="hs-identifier hs-var">isLexSym</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524725"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-899"></span><span>  </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Bool
</span><a href="GHC.Utils.Lexeme.html#isLexSym"><span class="hs-identifier hs-var">isLexSym</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524725"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-900"></span><span class="hs-comment">-- Pretty inefficient!</span><span>
</span><span id="line-901"></span><span>
</span><span id="line-902"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#parenSymOcc"><span class="hs-identifier hs-type">parenSymOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-903"></span><span class="annot"><span class="hs-comment">-- ^ Wrap parens around an operator</span></span><span>
</span><span id="line-904"></span><span id="parenSymOcc"><span class="annot"><span class="annottext">parenSymOcc :: OccName -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Types.Name.Occurrence.html#parenSymOcc"><span class="hs-identifier hs-var hs-var">parenSymOcc</span></a></span></span><span> </span><span id="local-6989586621682524727"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524727"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span id="local-6989586621682524728"><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621682524728"><span class="hs-identifier hs-var">doc</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isSymOcc"><span class="hs-identifier hs-var">isSymOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524727"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#parens"><span class="hs-identifier hs-var">parens</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621682524728"><span class="hs-identifier hs-var">doc</span></a></span><span>
</span><span id="line-905"></span><span>                    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="#local-6989586621682524728"><span class="hs-identifier hs-var">doc</span></a></span><span>
</span><span id="line-906"></span><span>
</span><span id="line-907"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#startsWithUnderscore"><span class="hs-identifier hs-type">startsWithUnderscore</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-908"></span><span class="hs-comment">-- ^ Haskell 98 encourages compilers to suppress warnings about unused</span><span>
</span><span id="line-909"></span><span class="hs-comment">-- names in a pattern if they start with @_@: this implements that test</span><span>
</span><span id="line-910"></span><span id="startsWithUnderscore"><span class="annot"><span class="annottext">startsWithUnderscore :: OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#startsWithUnderscore"><span class="hs-identifier hs-var hs-var">startsWithUnderscore</span></a></span></span><span> </span><span id="local-6989586621682524730"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524730"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; [Char]
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524730"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-911"></span><span>  </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'_'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-912"></span><span>  </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-913"></span><span>
</span><span id="line-914"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isUnderscore"><span class="hs-identifier hs-type">isUnderscore</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-915"></span><span id="isUnderscore"><span class="annot"><span class="annottext">isUnderscore :: OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isUnderscore"><span class="hs-identifier hs-var hs-var">isUnderscore</span></a></span></span><span> </span><span id="local-6989586621682524731"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524731"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524731"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; FastString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;_&quot;</span></span><span>
</span><span id="line-916"></span><span>
</span><span id="line-917"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Making system names}
*                                                                      *
************************************************************************

Here's our convention for splitting up the interface file name space:

   d...         dictionary identifiers
                (local variables, so no name-clash worries)

All of these other OccNames contain a mixture of alphabetic
and symbolic characters, and hence cannot possibly clash with
a user-written type or function name

   $f...        Dict-fun identifiers (from inst decls)
   $dmop        Default method for 'op'
   $pnC         n'th superclass selector for class C
   $wf          Worker for function 'f'
   $sf..        Specialised version of f
   D:C          Data constructor for dictionary for class C
   NTCo:T       Coercion connecting newtype T with its representation type
   TFCo:R       Coercion connecting a data family to its representation type R

In encoded form these appear as Zdfxxx etc

        :...            keywords (export:, letrec: etc.)
--- I THINK THIS IS WRONG!

This knowledge is encoded in the following functions.

@mk_deriv@ generates an @OccName@ from the prefix and a string.
NB: The string must already be encoded!
-}</span><span>
</span><span id="line-952"></span><span>
</span><span id="line-953"></span><span class="hs-comment">-- | Build an 'OccName' derived from another 'OccName'.</span><span>
</span><span id="line-954"></span><span class="hs-comment">--</span><span>
</span><span id="line-955"></span><span class="hs-comment">-- Note that the pieces of the name are passed in as a @[FastString]@ so that</span><span>
</span><span id="line-956"></span><span class="hs-comment">-- the whole name can be constructed with a single 'concatFS', minimizing</span><span>
</span><span id="line-957"></span><span class="hs-comment">-- unnecessary intermediate allocations.</span><span>
</span><span id="line-958"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mk_deriv"><span class="hs-identifier hs-type">mk_deriv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span>
</span><span id="line-959"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>      </span><span class="hs-comment">-- ^ A prefix which distinguishes one sort of</span><span>
</span><span id="line-960"></span><span>                            </span><span class="hs-comment">-- derived name from another</span><span>
</span><span id="line-961"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span class="hs-special">]</span><span>    </span><span class="hs-comment">-- ^ The name we are deriving from in pieces which</span><span>
</span><span id="line-962"></span><span>                            </span><span class="hs-comment">-- will be concatenated.</span><span>
</span><span id="line-963"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-964"></span><span id="mk_deriv"><span class="annot"><span class="annottext">mk_deriv :: NameSpace -&gt; FastString -&gt; [FastString] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_deriv"><span class="hs-identifier hs-var hs-var">mk_deriv</span></a></span></span><span> </span><span id="local-6989586621682524733"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524733"><span class="hs-identifier hs-var">occ_sp</span></a></span></span><span> </span><span id="local-6989586621682524734"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524734"><span class="hs-identifier hs-var">sys_prefix</span></a></span></span><span> </span><span id="local-6989586621682524735"><span class="annot"><span class="annottext">[FastString]
</span><a href="#local-6989586621682524735"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-965"></span><span>    </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccNameFS"><span class="hs-identifier hs-var">mkOccNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524733"><span class="hs-identifier hs-var">occ_sp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FastString] -&gt; FastString
</span><a href="GHC.Data.FastString.html#concatFS"><span class="hs-identifier hs-var">concatFS</span></a></span><span> </span><span class="annot"><span class="annottext">([FastString] -&gt; FastString) -&gt; [FastString] -&gt; FastString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524734"><span class="hs-identifier hs-var">sys_prefix</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; [FastString] -&gt; [FastString]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[FastString]
</span><a href="#local-6989586621682524735"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-966"></span><span>
</span><span id="line-967"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isDerivedOccName"><span class="hs-identifier hs-type">isDerivedOccName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-968"></span><span class="hs-comment">-- ^ Test for definitions internally generated by GHC.  This predicate</span><span>
</span><span id="line-969"></span><span class="hs-comment">-- is used to suppress printing of internal definitions in some debug prints</span><span>
</span><span id="line-970"></span><span id="isDerivedOccName"><span class="annot"><span class="annottext">isDerivedOccName :: OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDerivedOccName"><span class="hs-identifier hs-var hs-var">isDerivedOccName</span></a></span></span><span> </span><span id="local-6989586621682524736"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524736"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-971"></span><span>   </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; [Char]
</span><a href="GHC.Types.Name.Occurrence.html#occNameString"><span class="hs-identifier hs-var">occNameString</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524736"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-972"></span><span>     </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'$'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621682524737"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682524737"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isAlphaNum</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682524737"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-comment">-- E.g.  $wfoo</span><span>
</span><span id="line-973"></span><span>     </span><span id="local-6989586621682524739"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682524739"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">':'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isAlphaNum</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621682524739"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-comment">-- E.g.  N:blah   newtype coercions</span><span>
</span><span id="line-974"></span><span>     </span><span id="local-6989586621682524740"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524740"><span class="hs-identifier hs-var">_other</span></a></span></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-975"></span><span>
</span><span id="line-976"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isDefaultMethodOcc"><span class="hs-identifier hs-type">isDefaultMethodOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-977"></span><span id="isDefaultMethodOcc"><span class="annot"><span class="annottext">isDefaultMethodOcc :: OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDefaultMethodOcc"><span class="hs-identifier hs-var hs-var">isDefaultMethodOcc</span></a></span></span><span> </span><span id="local-6989586621682524741"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524741"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-978"></span><span>   </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; [Char]
</span><a href="GHC.Types.Name.Occurrence.html#occNameString"><span class="hs-identifier hs-var">occNameString</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524741"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-979"></span><span>     </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'$'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'d'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'m'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-980"></span><span>     </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-981"></span><span>
</span><span id="line-982"></span><span class="hs-comment">-- | Is an 'OccName' one of a Typeable @TyCon@ or @Module@ binding?</span><span>
</span><span id="line-983"></span><span class="hs-comment">-- This is needed as these bindings are renamed differently.</span><span>
</span><span id="line-984"></span><span class="hs-comment">-- See Note [Grand plan for Typeable] in &quot;GHC.Tc.Instance.Typeable&quot;.</span><span>
</span><span id="line-985"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#isTypeableBindOcc"><span class="hs-identifier hs-type">isTypeableBindOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-986"></span><span id="isTypeableBindOcc"><span class="annot"><span class="annottext">isTypeableBindOcc :: OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isTypeableBindOcc"><span class="hs-identifier hs-var hs-var">isTypeableBindOcc</span></a></span></span><span> </span><span id="local-6989586621682524742"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524742"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-987"></span><span>   </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; [Char]
</span><a href="GHC.Types.Name.Occurrence.html#occNameString"><span class="hs-identifier hs-var">occNameString</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524742"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-988"></span><span>     </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'$'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'t'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'c'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-comment">-- mkTyConRepOcc</span><span>
</span><span id="line-989"></span><span>     </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'$'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'t'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'r'</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-comment">-- Module binding</span><span>
</span><span id="line-990"></span><span>     </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-991"></span><span>
</span><span id="line-992"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDataConWrapperOcc"><span class="hs-identifier hs-type">mkDataConWrapperOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkWorkerOcc"><span class="hs-identifier hs-type">mkWorkerOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-993"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkMatcherOcc"><span class="hs-identifier hs-type">mkMatcherOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkBuilderOcc"><span class="hs-identifier hs-type">mkBuilderOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-994"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDefaultMethodOcc"><span class="hs-identifier hs-type">mkDefaultMethodOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-995"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkClassDataConOcc"><span class="hs-identifier hs-type">mkClassDataConOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDictOcc"><span class="hs-identifier hs-type">mkDictOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-996"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkIPOcc"><span class="hs-identifier hs-type">mkIPOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkSpecOcc"><span class="hs-identifier hs-type">mkSpecOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkForeignExportOcc"><span class="hs-identifier hs-type">mkForeignExportOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkRepEqOcc"><span class="hs-identifier hs-type">mkRepEqOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-997"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkGenR"><span class="hs-identifier hs-type">mkGenR</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkGen1R"><span class="hs-identifier hs-type">mkGen1R</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-998"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDataConWorkerOcc"><span class="hs-identifier hs-type">mkDataConWorkerOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkNewTyCoOcc"><span class="hs-identifier hs-type">mkNewTyCoOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-999"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkInstTyCoOcc"><span class="hs-identifier hs-type">mkInstTyCoOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkEqPredCoOcc"><span class="hs-identifier hs-type">mkEqPredCoOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkClassOpAuxOcc"><span class="hs-identifier hs-type">mkClassOpAuxOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1000"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkCon2TagOcc"><span class="hs-identifier hs-type">mkCon2TagOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkTag2ConOcc"><span class="hs-identifier hs-type">mkTag2ConOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkMaxTagOcc"><span class="hs-identifier hs-type">mkMaxTagOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDataTOcc"><span class="hs-identifier hs-type">mkDataTOcc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDataCOcc"><span class="hs-identifier hs-type">mkDataCOcc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-1001"></span><span>        </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkTyConRepOcc"><span class="hs-identifier hs-type">mkTyConRepOcc</span></a></span><span>
</span><span id="line-1002"></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-1003"></span><span>
</span><span id="line-1004"></span><span class="hs-comment">-- These derived variables have a prefix that no Haskell value could have</span><span>
</span><span id="line-1005"></span><span id="mkDataConWrapperOcc"><span class="annot"><span class="annottext">mkDataConWrapperOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkDataConWrapperOcc"><span class="hs-identifier hs-var hs-var">mkDataConWrapperOcc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$W&quot;</span></span><span>
</span><span id="line-1006"></span><span id="mkWorkerOcc"><span class="annot"><span class="annottext">mkWorkerOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkWorkerOcc"><span class="hs-identifier hs-var hs-var">mkWorkerOcc</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$w&quot;</span></span><span>
</span><span id="line-1007"></span><span id="mkMatcherOcc"><span class="annot"><span class="annottext">mkMatcherOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkMatcherOcc"><span class="hs-identifier hs-var hs-var">mkMatcherOcc</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$m&quot;</span></span><span>
</span><span id="line-1008"></span><span id="mkBuilderOcc"><span class="annot"><span class="annottext">mkBuilderOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkBuilderOcc"><span class="hs-identifier hs-var hs-var">mkBuilderOcc</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$b&quot;</span></span><span>
</span><span id="line-1009"></span><span id="mkDefaultMethodOcc"><span class="annot"><span class="annottext">mkDefaultMethodOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkDefaultMethodOcc"><span class="hs-identifier hs-var hs-var">mkDefaultMethodOcc</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$dm&quot;</span></span><span>
</span><span id="line-1010"></span><span id="mkClassOpAuxOcc"><span class="annot"><span class="annottext">mkClassOpAuxOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkClassOpAuxOcc"><span class="hs-identifier hs-var hs-var">mkClassOpAuxOcc</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$c&quot;</span></span><span>
</span><span id="line-1011"></span><span id="mkDictOcc"><span class="annot"><span class="annottext">mkDictOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkDictOcc"><span class="hs-identifier hs-var hs-var">mkDictOcc</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$d&quot;</span></span><span>
</span><span id="line-1012"></span><span id="mkIPOcc"><span class="annot"><span class="annottext">mkIPOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkIPOcc"><span class="hs-identifier hs-var hs-var">mkIPOcc</span></a></span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$i&quot;</span></span><span>
</span><span id="line-1013"></span><span id="mkSpecOcc"><span class="annot"><span class="annottext">mkSpecOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkSpecOcc"><span class="hs-identifier hs-var hs-var">mkSpecOcc</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$s&quot;</span></span><span>
</span><span id="line-1014"></span><span id="mkForeignExportOcc"><span class="annot"><span class="annottext">mkForeignExportOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkForeignExportOcc"><span class="hs-identifier hs-var hs-var">mkForeignExportOcc</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$f&quot;</span></span><span>
</span><span id="line-1015"></span><span id="mkRepEqOcc"><span class="annot"><span class="annottext">mkRepEqOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkRepEqOcc"><span class="hs-identifier hs-var hs-var">mkRepEqOcc</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tvName"><span class="hs-identifier hs-var">tvName</span></a></span><span>   </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$r&quot;</span></span><span>   </span><span class="hs-comment">-- In RULES involving Coercible</span><span>
</span><span id="line-1016"></span><span id="mkClassDataConOcc"><span class="annot"><span class="annottext">mkClassDataConOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkClassDataConOcc"><span class="hs-identifier hs-var hs-var">mkClassDataConOcc</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#dataName"><span class="hs-identifier hs-var">dataName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;C:&quot;</span></span><span>   </span><span class="hs-comment">-- Data con for a class</span><span>
</span><span id="line-1017"></span><span id="mkNewTyCoOcc"><span class="annot"><span class="annottext">mkNewTyCoOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkNewTyCoOcc"><span class="hs-identifier hs-var hs-var">mkNewTyCoOcc</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcName"><span class="hs-identifier hs-var">tcName</span></a></span><span>   </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;N:&quot;</span></span><span>   </span><span class="hs-comment">-- Coercion for newtypes</span><span>
</span><span id="line-1018"></span><span id="mkInstTyCoOcc"><span class="annot"><span class="annottext">mkInstTyCoOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkInstTyCoOcc"><span class="hs-identifier hs-var hs-var">mkInstTyCoOcc</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcName"><span class="hs-identifier hs-var">tcName</span></a></span><span>   </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;D:&quot;</span></span><span>   </span><span class="hs-comment">-- Coercion for type functions</span><span>
</span><span id="line-1019"></span><span id="mkEqPredCoOcc"><span class="annot"><span class="annottext">mkEqPredCoOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkEqPredCoOcc"><span class="hs-identifier hs-var hs-var">mkEqPredCoOcc</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcName"><span class="hs-identifier hs-var">tcName</span></a></span><span>   </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$co&quot;</span></span><span>
</span><span id="line-1020"></span><span>
</span><span id="line-1021"></span><span class="hs-comment">-- Used in derived instances for the names of auxiliary bindings.</span><span>
</span><span id="line-1022"></span><span class="hs-comment">-- See Note [Auxiliary binders] in GHC.Tc.Deriv.Generate.</span><span>
</span><span id="line-1023"></span><span id="mkCon2TagOcc"><span class="annot"><span class="annottext">mkCon2TagOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkCon2TagOcc"><span class="hs-identifier hs-var hs-var">mkCon2TagOcc</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$con2tag_&quot;</span></span><span>
</span><span id="line-1024"></span><span id="mkTag2ConOcc"><span class="annot"><span class="annottext">mkTag2ConOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkTag2ConOcc"><span class="hs-identifier hs-var hs-var">mkTag2ConOcc</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$tag2con_&quot;</span></span><span>
</span><span id="line-1025"></span><span id="mkMaxTagOcc"><span class="annot"><span class="annottext">mkMaxTagOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkMaxTagOcc"><span class="hs-identifier hs-var hs-var">mkMaxTagOcc</span></a></span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$maxtag_&quot;</span></span><span>
</span><span id="line-1026"></span><span id="mkDataTOcc"><span class="annot"><span class="annottext">mkDataTOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkDataTOcc"><span class="hs-identifier hs-var hs-var">mkDataTOcc</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$t&quot;</span></span><span>
</span><span id="line-1027"></span><span id="mkDataCOcc"><span class="annot"><span class="annottext">mkDataCOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkDataCOcc"><span class="hs-identifier hs-var hs-var">mkDataCOcc</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span>  </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$c&quot;</span></span><span>
</span><span id="line-1028"></span><span>
</span><span id="line-1029"></span><span class="hs-comment">-- TyConRepName stuff; see Note [Grand plan for Typeable] in GHC.Tc.Instance.Typeable</span><span>
</span><span id="line-1030"></span><span id="mkTyConRepOcc"><span class="annot"><span class="annottext">mkTyConRepOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkTyConRepOcc"><span class="hs-identifier hs-var hs-var">mkTyConRepOcc</span></a></span></span><span> </span><span id="local-6989586621682524744"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524744"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524745"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524744"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-1031"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1032"></span><span>    </span><span id="local-6989586621682524745"><span class="annot"><span class="annottext">prefix :: FastString
</span><a href="#local-6989586621682524745"><span class="hs-identifier hs-var hs-var">prefix</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDataOcc"><span class="hs-identifier hs-var">isDataOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524744"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$tc'&quot;</span></span><span>
</span><span id="line-1033"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$tc&quot;</span></span><span>
</span><span id="line-1034"></span><span>
</span><span id="line-1035"></span><span class="hs-comment">-- Generic deriving mechanism</span><span>
</span><span id="line-1036"></span><span id="mkGenR"><span class="annot"><span class="annottext">mkGenR :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkGenR"><span class="hs-identifier hs-var hs-var">mkGenR</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcName"><span class="hs-identifier hs-var">tcName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;Rep_&quot;</span></span><span>
</span><span id="line-1037"></span><span id="mkGen1R"><span class="annot"><span class="annottext">mkGen1R :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkGen1R"><span class="hs-identifier hs-var hs-var">mkGen1R</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcName"><span class="hs-identifier hs-var">tcName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;Rep1_&quot;</span></span><span>
</span><span id="line-1038"></span><span>
</span><span id="line-1039"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-type">mk_simple_deriv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-1040"></span><span id="mk_simple_deriv"><span class="annot"><span class="annottext">mk_simple_deriv :: NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var hs-var">mk_simple_deriv</span></a></span></span><span> </span><span id="local-6989586621682524746"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524746"><span class="hs-identifier hs-var">sp</span></a></span></span><span> </span><span id="local-6989586621682524747"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524747"><span class="hs-identifier hs-var">px</span></a></span></span><span> </span><span id="local-6989586621682524748"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524748"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; [FastString] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_deriv"><span class="hs-identifier hs-var">mk_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524746"><span class="hs-identifier hs-var">sp</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524747"><span class="hs-identifier hs-var">px</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524748"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1041"></span><span>
</span><span id="line-1042"></span><span class="hs-comment">-- Data constructor workers are made by setting the name space</span><span>
</span><span id="line-1043"></span><span class="hs-comment">-- of the data constructor OccName (which should be a DataName)</span><span>
</span><span id="line-1044"></span><span class="hs-comment">-- to VarName</span><span>
</span><span id="line-1045"></span><span id="mkDataConWorkerOcc"><span class="annot"><span class="annottext">mkDataConWorkerOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkDataConWorkerOcc"><span class="hs-identifier hs-var hs-var">mkDataConWorkerOcc</span></a></span></span><span> </span><span id="local-6989586621682524749"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524749"><span class="hs-identifier hs-var">datacon_occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#setOccNameSpace"><span class="hs-identifier hs-var">setOccNameSpace</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524749"><span class="hs-identifier hs-var">datacon_occ</span></a></span><span>
</span><span id="line-1046"></span><span>
</span><span id="line-1047"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkSuperDictAuxOcc"><span class="hs-identifier hs-type">mkSuperDictAuxOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-1048"></span><span id="mkSuperDictAuxOcc"><span class="annot"><span class="annottext">mkSuperDictAuxOcc :: Int -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkSuperDictAuxOcc"><span class="hs-identifier hs-var hs-var">mkSuperDictAuxOcc</span></a></span></span><span> </span><span id="local-6989586621682524750"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524750"><span class="hs-identifier hs-var">index</span></a></span></span><span> </span><span id="local-6989586621682524751"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524751"><span class="hs-identifier hs-var">cls_tc_occ</span></a></span></span><span>
</span><span id="line-1049"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; [FastString] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_deriv"><span class="hs-identifier hs-var">mk_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$cp&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char] -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; FastString) -&gt; [Char] -&gt; FastString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524750"><span class="hs-identifier hs-var">index</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524751"><span class="hs-identifier hs-var">cls_tc_occ</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1050"></span><span>
</span><span id="line-1051"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkSuperDictSelOcc"><span class="hs-identifier hs-type">mkSuperDictSelOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ Index of superclass, e.g. 3</span></span><span>
</span><span id="line-1052"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Class, e.g. @Ord@</span></span><span>
</span><span id="line-1053"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ Derived 'Occname', e.g. @$p3Ord@</span></span><span>
</span><span id="line-1054"></span><span id="mkSuperDictSelOcc"><span class="annot"><span class="annottext">mkSuperDictSelOcc :: Int -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkSuperDictSelOcc"><span class="hs-identifier hs-var hs-var">mkSuperDictSelOcc</span></a></span></span><span> </span><span id="local-6989586621682524753"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524753"><span class="hs-identifier hs-var">index</span></a></span></span><span> </span><span id="local-6989586621682524754"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524754"><span class="hs-identifier hs-var">cls_tc_occ</span></a></span></span><span>
</span><span id="line-1055"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; [FastString] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_deriv"><span class="hs-identifier hs-var">mk_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$p&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char] -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; FastString) -&gt; [Char] -&gt; FastString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524753"><span class="hs-identifier hs-var">index</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524754"><span class="hs-identifier hs-var">cls_tc_occ</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1056"></span><span>
</span><span id="line-1057"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkLocalOcc"><span class="hs-identifier hs-type">mkLocalOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.html#Unique"><span class="hs-identifier hs-type">Unique</span></a></span><span>            </span><span class="annot"><span class="hs-comment">-- ^ Unique to combine with the 'OccName'</span></span><span>
</span><span id="line-1058"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>           </span><span class="annot"><span class="hs-comment">-- ^ Local name, e.g. @sat@</span></span><span>
</span><span id="line-1059"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>           </span><span class="annot"><span class="hs-comment">-- ^ Nice unique version, e.g. @$L23sat@</span></span><span>
</span><span id="line-1060"></span><span id="mkLocalOcc"><span class="annot"><span class="annottext">mkLocalOcc :: Unique -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkLocalOcc"><span class="hs-identifier hs-var hs-var">mkLocalOcc</span></a></span></span><span> </span><span id="local-6989586621682524755"><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682524755"><span class="hs-identifier hs-var">uniq</span></a></span></span><span> </span><span id="local-6989586621682524756"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524756"><span class="hs-identifier hs-var">occ</span></a></span></span><span>
</span><span id="line-1061"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; [FastString] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_deriv"><span class="hs-identifier hs-var">mk_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$L&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char] -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; FastString) -&gt; [Char] -&gt; FastString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Unique -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Unique
</span><a href="#local-6989586621682524755"><span class="hs-identifier hs-var">uniq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524756"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1062"></span><span>        </span><span class="hs-comment">-- The Unique might print with characters</span><span>
</span><span id="line-1063"></span><span>        </span><span class="hs-comment">-- that need encoding (e.g. 'z'!)</span><span>
</span><span id="line-1064"></span><span>
</span><span id="line-1065"></span><span class="hs-comment">-- | Derive a name for the representation type constructor of a</span><span>
</span><span id="line-1066"></span><span class="hs-comment">-- @data@\/@newtype@ instance.</span><span>
</span><span id="line-1067"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkInstTyTcOcc"><span class="hs-identifier hs-type">mkInstTyTcOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>                 </span><span class="annot"><span class="hs-comment">-- ^ Family name, e.g. @Map@</span></span><span>
</span><span id="line-1068"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span>                 </span><span class="annot"><span class="hs-comment">-- ^ avoid these Occs</span></span><span>
</span><span id="line-1069"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>                </span><span class="annot"><span class="hs-comment">-- ^ @R:Map@</span></span><span>
</span><span id="line-1070"></span><span id="mkInstTyTcOcc"><span class="annot"><span class="annottext">mkInstTyTcOcc :: [Char] -&gt; OccSet -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkInstTyTcOcc"><span class="hs-identifier hs-var hs-var">mkInstTyTcOcc</span></a></span></span><span> </span><span id="local-6989586621682524757"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524757"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; [Char] -&gt; OccSet -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#chooseUniqueOcc"><span class="hs-identifier hs-var">chooseUniqueOcc</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#tcName"><span class="hs-identifier hs-var">tcName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'R'</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; [Char] -&gt; [Char]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">':'</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; [Char] -&gt; [Char]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524757"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1071"></span><span>
</span><span id="line-1072"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkDFunOcc"><span class="hs-identifier hs-type">mkDFunOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>             </span><span class="hs-comment">-- ^ Typically the class and type glommed together e.g. @OrdMaybe@.</span><span>
</span><span id="line-1073"></span><span>                                </span><span class="hs-comment">-- Only used in debug mode, for extra clarity</span><span>
</span><span id="line-1074"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>               </span><span class="annot"><span class="hs-comment">-- ^ Is this a hs-boot instance DFun?</span></span><span>
</span><span id="line-1075"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span>             </span><span class="annot"><span class="hs-comment">-- ^ avoid these Occs</span></span><span>
</span><span id="line-1076"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>            </span><span class="annot"><span class="hs-comment">-- ^ E.g. @$f3OrdMaybe@</span></span><span>
</span><span id="line-1077"></span><span>
</span><span id="line-1078"></span><span class="hs-comment">-- In hs-boot files we make dict funs like $fx7ClsTy, which get bound to the real</span><span>
</span><span id="line-1079"></span><span class="hs-comment">-- thing when we compile the mother module. Reason: we don't know exactly</span><span>
</span><span id="line-1080"></span><span class="hs-comment">-- what the  mother module will call it.</span><span>
</span><span id="line-1081"></span><span>
</span><span id="line-1082"></span><span id="mkDFunOcc"><span class="annot"><span class="annottext">mkDFunOcc :: [Char] -&gt; Bool -&gt; OccSet -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkDFunOcc"><span class="hs-identifier hs-var hs-var">mkDFunOcc</span></a></span></span><span> </span><span id="local-6989586621682524759"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524759"><span class="hs-identifier hs-var">info_str</span></a></span></span><span> </span><span id="local-6989586621682524760"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682524760"><span class="hs-identifier hs-var">is_boot</span></a></span></span><span> </span><span id="local-6989586621682524761"><span class="annot"><span class="annottext">OccSet
</span><a href="#local-6989586621682524761"><span class="hs-identifier hs-var">set</span></a></span></span><span>
</span><span id="line-1083"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; [Char] -&gt; OccSet -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#chooseUniqueOcc"><span class="hs-identifier hs-var">chooseUniqueOcc</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524762"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524759"><span class="hs-identifier hs-var">info_str</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">OccSet
</span><a href="#local-6989586621682524761"><span class="hs-identifier hs-var">set</span></a></span><span>
</span><span id="line-1084"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1085"></span><span>    </span><span id="local-6989586621682524762"><span class="annot"><span class="annottext">prefix :: [Char]
</span><a href="#local-6989586621682524762"><span class="hs-identifier hs-var hs-var">prefix</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682524760"><span class="hs-identifier hs-var">is_boot</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;$fx&quot;</span></span><span>
</span><span id="line-1086"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;$f&quot;</span></span><span>
</span><span id="line-1087"></span><span>
</span><span id="line-1088"></span><span class="hs-comment">{-
Sometimes we need to pick an OccName that has not already been used,
given a set of in-use OccNames.
-}</span><span>
</span><span id="line-1092"></span><span>
</span><span id="line-1093"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#chooseUniqueOcc"><span class="hs-identifier hs-type">chooseUniqueOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccSet"><span class="hs-identifier hs-type">OccSet</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-1094"></span><span id="chooseUniqueOcc"><span class="annot"><span class="annottext">chooseUniqueOcc :: NameSpace -&gt; [Char] -&gt; OccSet -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#chooseUniqueOcc"><span class="hs-identifier hs-var hs-var">chooseUniqueOcc</span></a></span></span><span> </span><span id="local-6989586621682524763"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524763"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621682524764"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524764"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621682524765"><span class="annot"><span class="annottext">OccSet
</span><a href="#local-6989586621682524765"><span class="hs-identifier hs-var">set</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Int -&gt; OccName
</span><a href="#local-6989586621682524766"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccName"><span class="hs-identifier hs-var">mkOccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524763"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524764"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-1095"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1096"></span><span>  </span><span id="local-6989586621682524766"><span class="annot"><span class="annottext">loop :: OccName -&gt; Int -&gt; OccName
</span><a href="#local-6989586621682524766"><span class="hs-identifier hs-var hs-var">loop</span></a></span></span><span> </span><span id="local-6989586621682524767"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524767"><span class="hs-identifier hs-var">occ</span></a></span></span><span> </span><span id="local-6989586621682524768"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524768"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-1097"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524767"><span class="hs-identifier hs-var">occ</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; OccSet -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#elemOccSet"><span class="hs-operator hs-var">`elemOccSet`</span></a></span><span> </span><span class="annot"><span class="annottext">OccSet
</span><a href="#local-6989586621682524765"><span class="hs-identifier hs-var">set</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Int -&gt; OccName
</span><a href="#local-6989586621682524766"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NameSpace -&gt; [Char] -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkOccName"><span class="hs-identifier hs-var">mkOccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524763"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524764"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524768"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524768"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-1098"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524767"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-1099"></span><span>
</span><span id="line-1100"></span><span class="hs-comment">{-
We used to add a '$m' to indicate a method, but that gives rise to bad
error messages from the type checker when we print the function name or pattern
of an instance-decl binding.  Why? Because the binding is zapped
to use the method name in place of the selector name.
(See GHC.Tc.TyCl.Class.tcMethodBind)

The way it is now, -ddump-xx output may look confusing, but
you can always say -dppr-debug to get the uniques.

However, we *do* have to zap the first character to be lower case,
because overloaded constructors (blarg) generate methods too.
And convert to VarName space

e.g. a call to constructor MkFoo where
        data (Ord a) =&gt; Foo a = MkFoo a

If this is necessary, we do it by prefixing '$m'.  These
guys never show up in error messages.  What a hack.
-}</span><span>
</span><span id="line-1120"></span><span>
</span><span id="line-1121"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkMethodOcc"><span class="hs-identifier hs-type">mkMethodOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-1122"></span><span id="mkMethodOcc"><span class="annot"><span class="annottext">mkMethodOcc :: OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkMethodOcc"><span class="hs-identifier hs-var hs-var">mkMethodOcc</span></a></span></span><span> </span><span id="local-6989586621682524770"><span class="annot"><span class="annottext">occ :: OccName
</span><a href="#local-6989586621682524770"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524770"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-1123"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mkMethodOcc"><span class="hs-identifier hs-var">mkMethodOcc</span></a></span><span> </span><span id="local-6989586621682524771"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524771"><span class="hs-identifier hs-var">occ</span></a></span></span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mk_simple_deriv"><span class="hs-identifier hs-var">mk_simple_deriv</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#varName"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><span class="hs-string">&quot;$m&quot;</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524771"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-1124"></span><span>
</span><span id="line-1125"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
\subsection{Tidying them up}
*                                                                      *
************************************************************************

Before we print chunks of code we like to rename it so that
we don't have to print lots of silly uniques in it.  But we mustn't
accidentally introduce name clashes!  So the idea is that we leave the
OccName alone unless it accidentally clashes with one that is already
in scope; if so, we tack on '1' at the end and try again, then '2', and
so on till we find a unique one.

There's a wrinkle for operators.  Consider '&gt;&gt;='.  We can't use '&gt;&gt;=1'
because that isn't a single lexeme.  So we encode it to 'lle' and *then*
tack on the '1', if necessary.

Note [TidyOccEnv]
~~~~~~~~~~~~~~~~~
type TidyOccEnv = UniqFM FastString Int

* Domain = The OccName's FastString. These FastStrings are &quot;taken&quot;;
           make sure that we don't re-use

* Int, n = A plausible starting point for new guesses
           There is no guarantee that &quot;FSn&quot; is available;
           you must look that up in the TidyOccEnv.  But
           it's a good place to start looking.

* When looking for a renaming for &quot;foo2&quot; we strip off the &quot;2&quot; and start
  with &quot;foo&quot;.  Otherwise if we tidy twice we get silly names like foo23.

  However, if it started with digits at the end, we always make a name
  with digits at the end, rather than shortening &quot;foo2&quot; to just &quot;foo&quot;,
  even if &quot;foo&quot; is unused.  Reasons:
     - Plain &quot;foo&quot; might be used later
     - We use trailing digits to subtly indicate a unification variable
       in typechecker error message; see TypeRep.tidyTyVarBndr

We have to take care though! Consider a machine-generated module (#10370)
  module Foo where
     a1 = e1
     a2 = e2
     ...
     a2000 = e2000
Then &quot;a1&quot;, &quot;a2&quot; etc are all marked taken.  But now if we come across &quot;a7&quot; again,
we have to do a linear search to find a free one, &quot;a2001&quot;.  That might just be
acceptable once.  But if we now come across &quot;a8&quot; again, we don't want to repeat
that search.

So we use the TidyOccEnv mapping for &quot;a&quot; (not &quot;a7&quot; or &quot;a8&quot;) as our base for
starting the search; and we make sure to update the starting point for &quot;a&quot;
after we allocate a new one.


Note [Tidying multiple names at once]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Consider

    &gt; :t (id,id,id)

Every id contributes a type variable to the type signature, and all of them are
&quot;a&quot;. If we tidy them one by one, we get

    (id,id,id) :: (a2 -&gt; a2, a1 -&gt; a1, a -&gt; a)

which is a bit unfortunate, as it unfairly renames only two of them. What we
would like to see is

    (id,id,id) :: (a3 -&gt; a3, a2 -&gt; a2, a1 -&gt; a1)

To achieve this, the function avoidClashesOccEnv can be used to prepare the
TidyEnv, by &#8220;blocking&#8221; every name that occurs twice in the map. This way, none
of the &quot;a&quot;s will get the privilege of keeping this name, and all of them will
get a suitable number by tidyOccName.  Thus

   avoidNameClashesOccEnv [&quot;a&quot; :-&gt; 7] [&quot;b&quot;, &quot;a&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;]
     = [&quot;a&quot; :-&gt; 7, &quot;b&quot; :-&gt; 1]

Here
* &quot;a&quot; is already the TidyOccEnv, and so is unaffected
* &quot;b&quot; occurs twice, so is blocked by adding &quot;b&quot; :-&gt; 1
* &quot;c&quot; occurs only once, and so is not affected.

This prepared TidyEnv can then be used with tidyOccName. See tidyTyCoVarBndrs
for an example where this is used.

This is #12382.

-}</span><span>
</span><span id="line-1216"></span><span>
</span><span id="line-1217"></span><span class="hs-keyword">type</span><span> </span><span id="TidyOccEnv"><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TidyOccEnv"><span class="hs-identifier hs-var">TidyOccEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Unique.FM.html#UniqFM"><span class="hs-identifier hs-type">UniqFM</span></a></span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>    </span><span class="hs-comment">-- The in-scope OccNames</span><span>
</span><span id="line-1218"></span><span>  </span><span class="hs-comment">-- See Note [TidyOccEnv]</span><span>
</span><span id="line-1219"></span><span>
</span><span id="line-1220"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#emptyTidyOccEnv"><span class="hs-identifier hs-type">emptyTidyOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TidyOccEnv"><span class="hs-identifier hs-type">TidyOccEnv</span></a></span><span>
</span><span id="line-1221"></span><span id="emptyTidyOccEnv"><span class="annot"><span class="annottext">emptyTidyOccEnv :: TidyOccEnv
</span><a href="GHC.Types.Name.Occurrence.html#emptyTidyOccEnv"><span class="hs-identifier hs-var hs-var">emptyTidyOccEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TidyOccEnv
forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span>
</span><span id="line-1222"></span><span>
</span><span id="line-1223"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#initTidyOccEnv"><span class="hs-identifier hs-type">initTidyOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TidyOccEnv"><span class="hs-identifier hs-type">TidyOccEnv</span></a></span><span>       </span><span class="hs-comment">-- Initialise with names to avoid!</span><span>
</span><span id="line-1224"></span><span id="initTidyOccEnv"><span class="annot"><span class="annottext">initTidyOccEnv :: [OccName] -&gt; TidyOccEnv
</span><a href="GHC.Types.Name.Occurrence.html#initTidyOccEnv"><span class="hs-identifier hs-var hs-var">initTidyOccEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TidyOccEnv -&gt; OccName -&gt; TidyOccEnv)
-&gt; TidyOccEnv -&gt; [OccName] -&gt; TidyOccEnv
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">TidyOccEnv -&gt; OccName -&gt; TidyOccEnv
forall {elt}.
Num elt =&gt;
UniqFM FastString elt -&gt; OccName -&gt; UniqFM FastString elt
</span><a href="#local-6989586621682524773"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">TidyOccEnv
forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span>
</span><span id="line-1225"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1226"></span><span>    </span><span id="local-6989586621682524773"><span class="annot"><span class="annottext">add :: UniqFM FastString elt -&gt; OccName -&gt; UniqFM FastString elt
</span><a href="#local-6989586621682524773"><span class="hs-identifier hs-var hs-var">add</span></a></span></span><span> </span><span id="local-6989586621682524777"><span class="annot"><span class="annottext">UniqFM FastString elt
</span><a href="#local-6989586621682524777"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682524778"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524778"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM FastString elt -&gt; FastString -&gt; elt -&gt; UniqFM FastString elt
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-var">addToUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM FastString elt
</span><a href="#local-6989586621682524777"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524778"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><span class="hs-number">1</span></span><span>
</span><span id="line-1227"></span><span>
</span><span id="line-1228"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#delTidyOccEnvList"><span class="hs-identifier hs-type">delTidyOccEnvList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TidyOccEnv"><span class="hs-identifier hs-type">TidyOccEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TidyOccEnv"><span class="hs-identifier hs-type">TidyOccEnv</span></a></span><span>
</span><span id="line-1229"></span><span id="delTidyOccEnvList"><span class="annot"><span class="annottext">delTidyOccEnvList :: TidyOccEnv -&gt; [OccName] -&gt; TidyOccEnv
</span><a href="GHC.Types.Name.Occurrence.html#delTidyOccEnvList"><span class="hs-identifier hs-var hs-var">delTidyOccEnvList</span></a></span></span><span> </span><span id="local-6989586621682524780"><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524780"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682524781"><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621682524781"><span class="hs-identifier hs-var">occs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524780"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">TidyOccEnv -&gt; [FastString] -&gt; TidyOccEnv
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; [key] -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#delListFromUFM"><span class="hs-operator hs-var">`delListFromUFM`</span></a></span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; FastString) -&gt; [OccName] -&gt; [FastString]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; FastString
</span><a href="GHC.Types.Name.Occurrence.html#occNameFS"><span class="hs-identifier hs-var">occNameFS</span></a></span><span> </span><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621682524781"><span class="hs-identifier hs-var">occs</span></a></span><span>
</span><span id="line-1230"></span><span>
</span><span id="line-1231"></span><span class="hs-comment">-- see Note [Tidying multiple names at once]</span><span>
</span><span id="line-1232"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#avoidClashesOccEnv"><span class="hs-identifier hs-type">avoidClashesOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TidyOccEnv"><span class="hs-identifier hs-type">TidyOccEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TidyOccEnv"><span class="hs-identifier hs-type">TidyOccEnv</span></a></span><span>
</span><span id="line-1233"></span><span id="avoidClashesOccEnv"><span class="annot"><span class="annottext">avoidClashesOccEnv :: TidyOccEnv -&gt; [OccName] -&gt; TidyOccEnv
</span><a href="GHC.Types.Name.Occurrence.html#avoidClashesOccEnv"><span class="hs-identifier hs-var hs-var">avoidClashesOccEnv</span></a></span></span><span> </span><span id="local-6989586621682524783"><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524783"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682524784"><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621682524784"><span class="hs-identifier hs-var">occs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TidyOccEnv -&gt; UniqFM FastString () -&gt; [OccName] -&gt; TidyOccEnv
forall {elt}.
Num elt =&gt;
UniqFM FastString elt
-&gt; UniqFM FastString () -&gt; [OccName] -&gt; UniqFM FastString elt
</span><a href="#local-6989586621682524785"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524783"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM FastString ()
forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span> </span><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621682524784"><span class="hs-identifier hs-var">occs</span></a></span><span>
</span><span id="line-1234"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1235"></span><span>    </span><span id="local-6989586621682524785"><span class="annot"><span class="annottext">go :: UniqFM FastString elt
-&gt; UniqFM FastString () -&gt; [OccName] -&gt; UniqFM FastString elt
</span><a href="#local-6989586621682524785"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621682524792"><span class="annot"><span class="annottext">UniqFM FastString elt
</span><a href="#local-6989586621682524792"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="annot"><span class="annottext">UniqFM FastString ()
</span><span class="hs-identifier">_</span></span><span>        </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM FastString elt
</span><a href="#local-6989586621682524792"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-1236"></span><span>    </span><span class="annot"><a href="#local-6989586621682524785"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682524793"><span class="annot"><span class="annottext">UniqFM FastString elt
</span><a href="#local-6989586621682524793"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682524794"><span class="annot"><span class="annottext">UniqFM FastString ()
</span><a href="#local-6989586621682524794"><span class="hs-identifier hs-var">seenOnce</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682524795"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524795"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621682524796"><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621682524796"><span class="hs-identifier hs-var">occs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1237"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524795"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; UniqFM FastString elt -&gt; Bool
forall key elt. Uniquable key =&gt; key -&gt; UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#elemUFM"><span class="hs-operator hs-var">`elemUFM`</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM FastString elt
</span><a href="#local-6989586621682524793"><span class="hs-identifier hs-var">env</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM FastString elt
-&gt; UniqFM FastString () -&gt; [OccName] -&gt; UniqFM FastString elt
</span><a href="#local-6989586621682524785"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM FastString elt
</span><a href="#local-6989586621682524793"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM FastString ()
</span><a href="#local-6989586621682524794"><span class="hs-identifier hs-var">seenOnce</span></a></span><span>                  </span><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621682524796"><span class="hs-identifier hs-var">occs</span></a></span><span>
</span><span id="line-1238"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524795"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; UniqFM FastString () -&gt; Bool
forall key elt. Uniquable key =&gt; key -&gt; UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#elemUFM"><span class="hs-operator hs-var">`elemUFM`</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM FastString ()
</span><a href="#local-6989586621682524794"><span class="hs-identifier hs-var">seenOnce</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM FastString elt
-&gt; UniqFM FastString () -&gt; [OccName] -&gt; UniqFM FastString elt
</span><a href="#local-6989586621682524785"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UniqFM FastString elt -&gt; FastString -&gt; elt -&gt; UniqFM FastString elt
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-var">addToUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM FastString elt
</span><a href="#local-6989586621682524793"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524795"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">elt
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UniqFM FastString ()
</span><a href="#local-6989586621682524794"><span class="hs-identifier hs-var">seenOnce</span></a></span><span>  </span><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621682524796"><span class="hs-identifier hs-var">occs</span></a></span><span>
</span><span id="line-1239"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqFM FastString elt
-&gt; UniqFM FastString () -&gt; [OccName] -&gt; UniqFM FastString elt
</span><a href="#local-6989586621682524785"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM FastString elt
</span><a href="#local-6989586621682524793"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UniqFM FastString () -&gt; FastString -&gt; () -&gt; UniqFM FastString ()
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-var">addToUFM</span></a></span><span> </span><span class="annot"><span class="annottext">UniqFM FastString ()
</span><a href="#local-6989586621682524794"><span class="hs-identifier hs-var">seenOnce</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524795"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621682524796"><span class="hs-identifier hs-var">occs</span></a></span><span>
</span><span id="line-1240"></span><span>
</span><span id="line-1241"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#tidyOccName"><span class="hs-identifier hs-type">tidyOccName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TidyOccEnv"><span class="hs-identifier hs-type">TidyOccEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TidyOccEnv"><span class="hs-identifier hs-type">TidyOccEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1242"></span><span id="tidyOccName"><span class="annot"><span class="annottext">tidyOccName :: TidyOccEnv -&gt; OccName -&gt; (TidyOccEnv, OccName)
</span><a href="GHC.Types.Name.Occurrence.html#tidyOccName"><span class="hs-identifier hs-var hs-var">tidyOccName</span></a></span></span><span> </span><span id="local-6989586621682524797"><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524797"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682524798"><span class="annot"><span class="annottext">occ :: OccName
</span><a href="#local-6989586621682524798"><span class="hs-identifier hs-var">occ</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524799"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524799"><span class="hs-identifier hs-var">occ_sp</span></a></span></span><span> </span><span id="local-6989586621682524800"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524800"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1243"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524800"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; TidyOccEnv -&gt; Bool
forall key elt. Uniquable key =&gt; key -&gt; UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#elemUFM"><span class="hs-operator hs-var">`elemUFM`</span></a></span><span> </span><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524797"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1244"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- Desired OccName is free, so use it,</span><span>
</span><span id="line-1245"></span><span>    </span><span class="hs-comment">-- and record in 'env' that it's no longer available</span><span>
</span><span id="line-1246"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyOccEnv -&gt; FastString -&gt; Int -&gt; TidyOccEnv
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-var">addToUFM</span></a></span><span> </span><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524797"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524800"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524798"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1247"></span><span>
</span><span id="line-1248"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1249"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TidyOccEnv -&gt; FastString -&gt; Maybe Int
forall key elt. Uniquable key =&gt; UniqFM key elt -&gt; key -&gt; Maybe elt
</span><a href="GHC.Types.Unique.FM.html#lookupUFM"><span class="hs-identifier hs-var">lookupUFM</span></a></span><span> </span><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524797"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524802"><span class="hs-identifier hs-var">base1</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1250"></span><span>       </span><span class="annot"><span class="annottext">Maybe Int
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyOccEnv -&gt; FastString -&gt; Int -&gt; TidyOccEnv
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-var">addToUFM</span></a></span><span> </span><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524797"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524802"><span class="hs-identifier hs-var">base1</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-var">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524799"><span class="hs-identifier hs-var">occ_sp</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524802"><span class="hs-identifier hs-var">base1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1251"></span><span>       </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682524803"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524803"><span class="hs-identifier hs-var">n</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; (TidyOccEnv, OccName)
</span><a href="#local-6989586621682524804"><span class="hs-identifier hs-var">find</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524803"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1252"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1253"></span><span>    </span><span class="annot"><a href="#local-6989586621682524805"><span class="hs-identifier hs-type">base</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>  </span><span class="hs-comment">-- Drop trailing digits (see Note [TidyOccEnv])</span><span>
</span><span id="line-1254"></span><span>    </span><span id="local-6989586621682524805"><span class="annot"><span class="annottext">base :: [Char]
</span><a href="#local-6989586621682524805"><span class="hs-identifier hs-var hs-var">base</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; [Char] -&gt; [Char]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><a href="GHC.Utils.Misc.html#dropWhileEndLE"><span class="hs-identifier hs-var">dropWhileEndLE</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isDigit</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; [Char]
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524800"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1255"></span><span>    </span><span id="local-6989586621682524802"><span class="annot"><span class="annottext">base1 :: FastString
</span><a href="#local-6989586621682524802"><span class="hs-identifier hs-var hs-var">base1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524805"><span class="hs-identifier hs-var">base</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;1&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1256"></span><span>
</span><span id="line-1257"></span><span>    </span><span id="local-6989586621682524804"><span class="annot"><span class="annottext">find :: Int -&gt; Int -&gt; (TidyOccEnv, OccName)
</span><a href="#local-6989586621682524804"><span class="hs-identifier hs-var hs-var">find</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621682524810"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524810"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621682524811"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524811"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-1258"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; TidyOccEnv -&gt; Bool
forall key elt. Uniquable key =&gt; key -&gt; UniqFM key elt -&gt; Bool
</span><a href="GHC.Types.Unique.FM.html#elemUFM"><span class="hs-identifier hs-var">elemUFM</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524812"><span class="hs-identifier hs-var">new_fs</span></a></span><span> </span><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524797"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1259"></span><span>          </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; (TidyOccEnv, OccName)
</span><a href="#local-6989586621682524804"><span class="hs-identifier hs-var">find</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524810"><span class="hs-identifier hs-var">k</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524811"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524810"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1260"></span><span>                       </span><span class="hs-comment">-- By using n+k, the n argument to find goes</span><span>
</span><span id="line-1261"></span><span>                       </span><span class="hs-comment">--    1, add 1, add 2, add 3, etc which</span><span>
</span><span id="line-1262"></span><span>                       </span><span class="hs-comment">-- moves at quadratic speed through a dense patch</span><span>
</span><span id="line-1263"></span><span>
</span><span id="line-1264"></span><span>          </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524813"><span class="hs-identifier hs-var">new_env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-var">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524799"><span class="hs-identifier hs-var">occ_sp</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524812"><span class="hs-identifier hs-var">new_fs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1265"></span><span>       </span><span class="hs-keyword">where</span><span>
</span><span id="line-1266"></span><span>         </span><span id="local-6989586621682524812"><span class="annot"><span class="annottext">new_fs :: FastString
</span><a href="#local-6989586621682524812"><span class="hs-identifier hs-var hs-var">new_fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682524805"><span class="hs-identifier hs-var">base</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; [Char]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Char]
forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524811"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1267"></span><span>         </span><span id="local-6989586621682524813"><span class="annot"><span class="annottext">new_env :: TidyOccEnv
</span><a href="#local-6989586621682524813"><span class="hs-identifier hs-var hs-var">new_env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TidyOccEnv -&gt; FastString -&gt; Int -&gt; TidyOccEnv
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-var">addToUFM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TidyOccEnv -&gt; FastString -&gt; Int -&gt; TidyOccEnv
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-var">addToUFM</span></a></span><span> </span><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524797"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524812"><span class="hs-identifier hs-var">new_fs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524802"><span class="hs-identifier hs-var">base1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524811"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-1268"></span><span>                     </span><span class="hs-comment">-- Update:  base1,  so that next time we'll start where we left off</span><span>
</span><span id="line-1269"></span><span>                     </span><span class="hs-comment">--          new_fs, so that we know it is taken</span><span>
</span><span id="line-1270"></span><span>                     </span><span class="hs-comment">-- If they are the same (n==1), the former wins</span><span>
</span><span id="line-1271"></span><span>                     </span><span class="hs-comment">-- See Note [TidyOccEnv]</span><span>
</span><span id="line-1272"></span><span>
</span><span id="line-1273"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#trimTidyOccEnv"><span class="hs-identifier hs-type">trimTidyOccEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TidyOccEnv"><span class="hs-identifier hs-type">TidyOccEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TidyOccEnv"><span class="hs-identifier hs-type">TidyOccEnv</span></a></span><span>
</span><span id="line-1274"></span><span class="hs-comment">-- Restrict the env to just the [OccName]</span><span>
</span><span id="line-1275"></span><span id="trimTidyOccEnv"><span class="annot"><span class="annottext">trimTidyOccEnv :: TidyOccEnv -&gt; [OccName] -&gt; TidyOccEnv
</span><a href="GHC.Types.Name.Occurrence.html#trimTidyOccEnv"><span class="hs-identifier hs-var hs-var">trimTidyOccEnv</span></a></span></span><span> </span><span id="local-6989586621682524814"><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524814"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682524815"><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621682524815"><span class="hs-identifier hs-var">vs</span></a></span></span><span>
</span><span id="line-1276"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TidyOccEnv -&gt; OccName -&gt; TidyOccEnv)
-&gt; TidyOccEnv -&gt; [OccName] -&gt; TidyOccEnv
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">TidyOccEnv -&gt; OccName -&gt; TidyOccEnv
</span><a href="#local-6989586621682524816"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">TidyOccEnv
forall {k} (key :: k) elt. UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#emptyUFM"><span class="hs-identifier hs-var">emptyUFM</span></a></span><span> </span><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621682524815"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-1277"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1278"></span><span>    </span><span class="annot"><a href="#local-6989586621682524816"><span class="hs-identifier hs-type">add</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TidyOccEnv"><span class="hs-identifier hs-type">TidyOccEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#TidyOccEnv"><span class="hs-identifier hs-type">TidyOccEnv</span></a></span><span>
</span><span id="line-1279"></span><span>    </span><span id="local-6989586621682524816"><span class="annot"><span class="annottext">add :: TidyOccEnv -&gt; OccName -&gt; TidyOccEnv
</span><a href="#local-6989586621682524816"><span class="hs-identifier hs-var hs-var">add</span></a></span></span><span> </span><span id="local-6989586621682524817"><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524817"><span class="hs-identifier hs-var">so_far</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682524818"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524818"><span class="hs-identifier hs-var">fs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1280"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TidyOccEnv -&gt; FastString -&gt; Maybe Int
forall key elt. Uniquable key =&gt; UniqFM key elt -&gt; key -&gt; Maybe elt
</span><a href="GHC.Types.Unique.FM.html#lookupUFM"><span class="hs-identifier hs-var">lookupUFM</span></a></span><span> </span><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524814"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524818"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1281"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682524819"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524819"><span class="hs-identifier hs-var">n</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TidyOccEnv -&gt; FastString -&gt; Int -&gt; TidyOccEnv
forall key elt.
Uniquable key =&gt;
UniqFM key elt -&gt; key -&gt; elt -&gt; UniqFM key elt
</span><a href="GHC.Types.Unique.FM.html#addToUFM"><span class="hs-identifier hs-var">addToUFM</span></a></span><span> </span><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524817"><span class="hs-identifier hs-var">so_far</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524818"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682524819"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1282"></span><span>          </span><span class="annot"><span class="annottext">Maybe Int
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TidyOccEnv
</span><a href="#local-6989586621682524817"><span class="hs-identifier hs-var">so_far</span></a></span><span>
</span><span id="line-1283"></span><span>
</span><span id="line-1284"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                            Utilies for &quot;main&quot;
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-1291"></span><span>
</span><span id="line-1292"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#mainOcc"><span class="hs-identifier hs-type">mainOcc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span>
</span><span id="line-1293"></span><span id="mainOcc"><span class="annot"><span class="annottext">mainOcc :: OccName
</span><a href="GHC.Types.Name.Occurrence.html#mainOcc"><span class="hs-identifier hs-var hs-var">mainOcc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkVarOccFS"><span class="hs-identifier hs-var">mkVarOccFS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;main&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1294"></span><span>
</span><span id="line-1295"></span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#ppMainFn"><span class="hs-identifier hs-type">ppMainFn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-1296"></span><span id="ppMainFn"><span class="annot"><span class="annottext">ppMainFn :: OccName -&gt; SDoc
</span><a href="GHC.Types.Name.Occurrence.html#ppMainFn"><span class="hs-identifier hs-var hs-var">ppMainFn</span></a></span></span><span> </span><span id="local-6989586621682524820"><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524820"><span class="hs-identifier hs-var">main_occ</span></a></span></span><span>
</span><span id="line-1297"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524820"><span class="hs-identifier hs-var">main_occ</span></a></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; OccName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="GHC.Types.Name.Occurrence.html#mainOcc"><span class="hs-identifier hs-var">mainOcc</span></a></span><span>
</span><span id="line-1298"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SDoc
forall doc. IsLine doc =&gt; [Char] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;IO action&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524820"><span class="hs-identifier hs-var">main_occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1299"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1300"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; SDoc
forall doc. IsLine doc =&gt; [Char] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;main IO action&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682524820"><span class="hs-identifier hs-var">main_occ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1301"></span><span>
</span><span id="line-1302"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
                Binary instance
    Here rather than in GHC.Iface.Binary because OccName is abstract
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-1310"></span><span>
</span><span id="line-1311"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682524824"><span class="annot"><a href="GHC.Utils.Binary.html#Binary"><span class="hs-identifier hs-type">Binary</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#NameSpace"><span class="hs-identifier hs-type">NameSpace</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1312"></span><span>    </span><span id="local-6989586621682524839"><span class="annot"><span class="annottext">put_ :: WriteBinHandle -&gt; NameSpace -&gt; IO ()
</span><a href="#local-6989586621682524839"><span class="hs-identifier hs-var hs-var hs-var">put_</span></a></span></span><span> </span><span id="local-6989586621682524841"><span class="annot"><span class="annottext">WriteBinHandle
</span><a href="#local-6989586621682524841"><span class="hs-identifier hs-var">bh</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1313"></span><span>            </span><span class="annot"><span class="annottext">WriteBinHandle -&gt; Word8 -&gt; IO ()
</span><a href="GHC.Utils.Binary.html#putByte"><span class="hs-identifier hs-var">putByte</span></a></span><span> </span><span class="annot"><span class="annottext">WriteBinHandle
</span><a href="#local-6989586621682524841"><span class="hs-identifier hs-var">bh</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0</span></span><span>
</span><span id="line-1314"></span><span>    </span><span class="annot"><a href="GHC.Utils.Binary.html#put_"><span class="hs-identifier hs-var">put_</span></a></span><span> </span><span id="local-6989586621682524843"><span class="annot"><span class="annottext">WriteBinHandle
</span><a href="#local-6989586621682524843"><span class="hs-identifier hs-var">bh</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1315"></span><span>            </span><span class="annot"><span class="annottext">WriteBinHandle -&gt; Word8 -&gt; IO ()
</span><a href="GHC.Utils.Binary.html#putByte"><span class="hs-identifier hs-var">putByte</span></a></span><span> </span><span class="annot"><span class="annottext">WriteBinHandle
</span><a href="#local-6989586621682524843"><span class="hs-identifier hs-var">bh</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">1</span></span><span>
</span><span id="line-1316"></span><span>    </span><span class="annot"><a href="GHC.Utils.Binary.html#put_"><span class="hs-identifier hs-var">put_</span></a></span><span> </span><span id="local-6989586621682524844"><span class="annot"><span class="annottext">WriteBinHandle
</span><a href="#local-6989586621682524844"><span class="hs-identifier hs-var">bh</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1317"></span><span>            </span><span class="annot"><span class="annottext">WriteBinHandle -&gt; Word8 -&gt; IO ()
</span><a href="GHC.Utils.Binary.html#putByte"><span class="hs-identifier hs-var">putByte</span></a></span><span> </span><span class="annot"><span class="annottext">WriteBinHandle
</span><a href="#local-6989586621682524844"><span class="hs-identifier hs-var">bh</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">2</span></span><span>
</span><span id="line-1318"></span><span>    </span><span class="annot"><a href="GHC.Utils.Binary.html#put_"><span class="hs-identifier hs-var">put_</span></a></span><span> </span><span id="local-6989586621682524845"><span class="annot"><span class="annottext">WriteBinHandle
</span><a href="#local-6989586621682524845"><span class="hs-identifier hs-var">bh</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1319"></span><span>            </span><span class="annot"><span class="annottext">WriteBinHandle -&gt; Word8 -&gt; IO ()
</span><a href="GHC.Utils.Binary.html#putByte"><span class="hs-identifier hs-var">putByte</span></a></span><span> </span><span class="annot"><span class="annottext">WriteBinHandle
</span><a href="#local-6989586621682524845"><span class="hs-identifier hs-var">bh</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">3</span></span><span>
</span><span id="line-1320"></span><span>    </span><span class="annot"><a href="GHC.Utils.Binary.html#put_"><span class="hs-identifier hs-var">put_</span></a></span><span> </span><span id="local-6989586621682524846"><span class="annot"><span class="annottext">WriteBinHandle
</span><a href="#local-6989586621682524846"><span class="hs-identifier hs-var">bh</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span id="local-6989586621682524847"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524847"><span class="hs-identifier hs-var">parent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1321"></span><span>            </span><span class="annot"><span class="annottext">WriteBinHandle -&gt; Word8 -&gt; IO ()
</span><a href="GHC.Utils.Binary.html#putByte"><span class="hs-identifier hs-var">putByte</span></a></span><span> </span><span class="annot"><span class="annottext">WriteBinHandle
</span><a href="#local-6989586621682524846"><span class="hs-identifier hs-var">bh</span></a></span><span> </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">4</span></span><span>
</span><span id="line-1322"></span><span>            </span><span class="annot"><span class="annottext">WriteBinHandle -&gt; FastString -&gt; IO ()
forall a. Binary a =&gt; WriteBinHandle -&gt; a -&gt; IO ()
</span><a href="GHC.Utils.Binary.html#put_"><span class="hs-identifier hs-var">put_</span></a></span><span> </span><span class="annot"><span class="annottext">WriteBinHandle
</span><a href="#local-6989586621682524846"><span class="hs-identifier hs-var">bh</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524847"><span class="hs-identifier hs-var">parent</span></a></span><span>
</span><span id="line-1323"></span><span>    </span><span id="local-6989586621682524865"><span class="annot"><span class="annottext">get :: ReadBinHandle -&gt; IO NameSpace
</span><a href="#local-6989586621682524865"><span class="hs-identifier hs-var hs-var hs-var">get</span></a></span></span><span> </span><span id="local-6989586621682524867"><span class="annot"><span class="annottext">ReadBinHandle
</span><a href="#local-6989586621682524867"><span class="hs-identifier hs-var">bh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1324"></span><span>            </span><span id="local-6989586621682524868"><span class="annot"><a href="#local-6989586621682524868"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReadBinHandle -&gt; IO Word8
</span><a href="GHC.Utils.Binary.html#getByte"><span class="hs-identifier hs-var">getByte</span></a></span><span> </span><span class="annot"><span class="annottext">ReadBinHandle
</span><a href="#local-6989586621682524867"><span class="hs-identifier hs-var">bh</span></a></span><span>
</span><span id="line-1325"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682524868"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1326"></span><span>              </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; IO NameSpace
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#VarName"><span class="hs-identifier hs-var">VarName</span></a></span><span>
</span><span id="line-1327"></span><span>              </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; IO NameSpace
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#DataName"><span class="hs-identifier hs-var">DataName</span></a></span><span>
</span><span id="line-1328"></span><span>              </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; IO NameSpace
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TvName"><span class="hs-identifier hs-var">TvName</span></a></span><span>
</span><span id="line-1329"></span><span>              </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-number">3</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NameSpace -&gt; IO NameSpace
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="GHC.Types.Name.Occurrence.html#TcClsName"><span class="hs-identifier hs-var">TcClsName</span></a></span><span>
</span><span id="line-1330"></span><span>              </span><span class="annot"><span class="annottext">Word8
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1331"></span><span>                </span><span id="local-6989586621682524870"><span class="annot"><a href="#local-6989586621682524870"><span class="hs-identifier hs-var">parent</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReadBinHandle -&gt; IO FastString
forall a. Binary a =&gt; ReadBinHandle -&gt; IO a
</span><a href="GHC.Utils.Binary.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">ReadBinHandle
</span><a href="#local-6989586621682524867"><span class="hs-identifier hs-var">bh</span></a></span><span>
</span><span id="line-1332"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#FldName"><span class="hs-identifier hs-type">FldName</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#fldParent"><span class="hs-identifier hs-var">fldParent</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682524870"><span class="hs-identifier hs-type">parent</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1333"></span><span>
</span><span id="line-1334"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682524873"><span class="annot"><a href="GHC.Utils.Binary.html#Binary"><span class="hs-identifier hs-type">Binary</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1335"></span><span>    </span><span id="local-6989586621682524880"><span class="annot"><span class="annottext">put_ :: WriteBinHandle -&gt; OccName -&gt; IO ()
</span><a href="GHC.Utils.Binary.html#put_"><span class="hs-identifier hs-var hs-var hs-var">put_</span></a></span></span><span> </span><span id="local-6989586621682524881"><span class="annot"><span class="annottext">WriteBinHandle
</span><a href="#local-6989586621682524881"><span class="hs-identifier hs-var">bh</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span id="local-6989586621682524882"><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524882"><span class="hs-identifier hs-var">aa</span></a></span></span><span> </span><span id="local-6989586621682524883"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524883"><span class="hs-identifier hs-var">ab</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1336"></span><span>            </span><span class="annot"><span class="annottext">WriteBinHandle -&gt; NameSpace -&gt; IO ()
forall a. Binary a =&gt; WriteBinHandle -&gt; a -&gt; IO ()
</span><a href="GHC.Utils.Binary.html#put_"><span class="hs-identifier hs-var">put_</span></a></span><span> </span><span class="annot"><span class="annottext">WriteBinHandle
</span><a href="#local-6989586621682524881"><span class="hs-identifier hs-var">bh</span></a></span><span> </span><span class="annot"><span class="annottext">NameSpace
</span><a href="#local-6989586621682524882"><span class="hs-identifier hs-var">aa</span></a></span><span>
</span><span id="line-1337"></span><span>            </span><span class="annot"><span class="annottext">WriteBinHandle -&gt; FastString -&gt; IO ()
forall a. Binary a =&gt; WriteBinHandle -&gt; a -&gt; IO ()
</span><a href="GHC.Utils.Binary.html#put_"><span class="hs-identifier hs-var">put_</span></a></span><span> </span><span class="annot"><span class="annottext">WriteBinHandle
</span><a href="#local-6989586621682524881"><span class="hs-identifier hs-var">bh</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682524883"><span class="hs-identifier hs-var">ab</span></a></span><span>
</span><span id="line-1338"></span><span>    </span><span id="local-6989586621682524889"><span class="annot"><span class="annottext">get :: ReadBinHandle -&gt; IO OccName
</span><a href="GHC.Utils.Binary.html#get"><span class="hs-identifier hs-var hs-var hs-var">get</span></a></span></span><span> </span><span id="local-6989586621682524890"><span class="annot"><span class="annottext">ReadBinHandle
</span><a href="#local-6989586621682524890"><span class="hs-identifier hs-var">bh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1339"></span><span>          </span><span id="local-6989586621682524891"><span class="annot"><a href="#local-6989586621682524891"><span class="hs-identifier hs-var">aa</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ReadBinHandle -&gt; IO NameSpace
forall a. Binary a =&gt; ReadBinHandle -&gt; IO a
</span><a href="GHC.Utils.Binary.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">ReadBinHandle
</span><a href="#local-6989586621682524890"><span class="hs-identifier hs-var">bh</span></a></span><span>
</span><span id="line-1340"></span><span>          </span><span id="local-6989586621682524892"><span class="annot"><a href="#local-6989586621682524892"><span class="hs-identifier hs-var">ab</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Utils.Binary.html#get"><span class="hs-identifier hs-type">get</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524890"><span class="hs-identifier hs-type">bh</span></a></span><span>
</span><span id="line-1341"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524891"><span class="hs-identifier hs-type">aa</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682524892"><span class="hs-identifier hs-type">ab</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1342"></span></pre></body></html>