<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="annot"><span class="hs-comment">-- | Extract docs from the renamer output so they can be serialized.</span></span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns #-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.HsToCore.Docs.html"><span class="hs-identifier">GHC.HsToCore.Docs</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.Binds.html"><span class="hs-identifier">GHC.Hs.Binds</span></a></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html"><span class="hs-identifier">GHC.Hs.Doc</span></a></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.Decls.html"><span class="hs-identifier">GHC.Hs.Decls</span></a></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html"><span class="hs-identifier">Language.Haskell.Syntax.Extension</span></a></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html"><span class="hs-identifier">GHC.Hs.Extension</span></a></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.Type.html"><span class="hs-identifier">GHC.Hs.Type</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.Utils.html"><span class="hs-identifier">GHC.Hs.Utils</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html"><span class="hs-identifier">GHC.Types.Name.Set</span></a></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html"><span class="hs-identifier">GHC.Tc.Types</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html"><span class="hs-identifier">GHC.Parser.Annotation</span></a></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Control.Applicative.html"><span class="hs-identifier">Control.Applicative</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Control.Monad.IO.Class.html"><span class="hs-identifier">Control.Monad.IO.Class</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Bifunctor.html"><span class="hs-identifier">Data.Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Bifunctor.html#first"><span class="hs-identifier">first</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Foldable.html"><span class="hs-identifier">Data.Foldable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">toList</span></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.html"><span class="hs-identifier">Data.IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier">IntMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.html"><span class="hs-identifier">Data.IntMap</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IM</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.Map.Strict.html"><span class="hs-identifier">Data.Map.Strict</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#Map"><span class="hs-identifier">Map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Maybe.html"><span class="hs-identifier">Data.Maybe</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Semigroup.html"><span class="hs-identifier">Data.Semigroup</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/GHC.IORef.html"><span class="hs-identifier">GHC.IORef</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">readIORef</span></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html"><span class="hs-identifier">GHC.Unit.Types</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.html"><span class="hs-identifier">GHC.Hs</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html"><span class="hs-identifier">GHC.Types.Avail</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html"><span class="hs-identifier">Data.List.NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(:|)</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Imported.html"><span class="hs-identifier">GHC.Unit.Module.Imported</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.DynFlags.html"><span class="hs-identifier">GHC.Driver.DynFlags</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.TypeEnv.html"><span class="hs-identifier">GHC.Types.TypeEnv</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Id.html"><span class="hs-identifier">GHC.Types.Id</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html"><span class="hs-identifier">GHC.Types.Unique.Map</span></a></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-comment">-- | Extract docs from renamer output.</span><span>
</span><span id="line-46"></span><span class="hs-comment">-- This is monadic since we need to be able to read documentation added from</span><span>
</span><span id="line-47"></span><span class="hs-comment">-- Template Haskell's @putDoc@, which is stored in 'tcg_th_docs'.</span><span>
</span><span id="line-48"></span><span id="local-6989586621682989477"><span class="annot"><a href="GHC.HsToCore.Docs.html#extractDocs"><span class="hs-identifier hs-type">extractDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621682989477"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-49"></span><span>            </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Driver.DynFlags.html#DynFlags"><span class="hs-identifier hs-type">DynFlags</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#TcGblEnv"><span class="hs-identifier hs-type">TcGblEnv</span></a></span><span>
</span><span id="line-50"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682989477"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#Docs"><span class="hs-identifier hs-type">Docs</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-51"></span><span>            </span><span class="hs-comment">-- ^</span><span>
</span><span id="line-52"></span><span>            </span><span class="hs-comment">-- 1. Module header</span><span>
</span><span id="line-53"></span><span>            </span><span class="hs-comment">-- 2. Docs on top level declarations</span><span>
</span><span id="line-54"></span><span>            </span><span class="hs-comment">-- 3. Docs on arguments</span><span>
</span><span id="line-55"></span><span id="extractDocs"><span class="annot"><span class="annottext">extractDocs :: forall (m :: * -&gt; *).
MonadIO m =&gt;
DynFlags -&gt; TcGblEnv -&gt; m (Maybe Docs)
</span><a href="GHC.HsToCore.Docs.html#extractDocs"><span class="hs-identifier hs-var hs-var">extractDocs</span></a></span></span><span> </span><span id="local-6989586621682989989"><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682989989"><span class="hs-identifier hs-var">dflags</span></a></span></span><span>
</span><span id="line-56"></span><span>      </span><span class="annot"><a href="GHC.Tc.Types.html#TcGblEnv"><span class="hs-identifier hs-type">TcGblEnv</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcg_semantic_mod :: TcGblEnv -&gt; Module
</span><a href="GHC.Tc.Types.html#tcg_semantic_mod"><span class="hs-identifier hs-var">tcg_semantic_mod</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682989992"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682989992"><span class="hs-identifier hs-var">semantic_mdl</span></a></span></span><span>
</span><span id="line-57"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_mod :: TcGblEnv -&gt; Module
</span><a href="GHC.Tc.Types.html#tcg_mod"><span class="hs-identifier hs-var">tcg_mod</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682989994"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682989994"><span class="hs-identifier hs-var">mdl</span></a></span></span><span>
</span><span id="line-58"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_rn_decls :: TcGblEnv -&gt; Maybe (HsGroup (GhcPass 'Renamed))
</span><a href="GHC.Tc.Types.html#tcg_rn_decls"><span class="hs-identifier hs-var">tcg_rn_decls</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682989996"><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682989996"><span class="hs-identifier hs-var">rn_decls</span></a></span></span><span>
</span><span id="line-59"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_rn_exports :: TcGblEnv -&gt; Maybe [(LIE (GhcPass 'Renamed), Avails)]
</span><a href="GHC.Tc.Types.html#tcg_rn_exports"><span class="hs-identifier hs-var">tcg_rn_exports</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682989998"><span class="annot"><span class="annottext">Maybe [(LIE (GhcPass 'Renamed), Avails)]
</span><a href="#local-6989586621682989998"><span class="hs-identifier hs-var">mb_rn_exports</span></a></span></span><span>
</span><span id="line-60"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_exports :: TcGblEnv -&gt; Avails
</span><a href="GHC.Tc.Types.html#tcg_exports"><span class="hs-identifier hs-var">tcg_exports</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990000"><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990000"><span class="hs-identifier hs-var">all_exports</span></a></span></span><span>
</span><span id="line-61"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_imports :: TcGblEnv -&gt; ImportAvails
</span><a href="GHC.Tc.Types.html#tcg_imports"><span class="hs-identifier hs-var">tcg_imports</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990002"><span class="annot"><span class="annottext">ImportAvails
</span><a href="#local-6989586621682990002"><span class="hs-identifier hs-var">import_avails</span></a></span></span><span>
</span><span id="line-62"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_insts :: TcGblEnv -&gt; [ClsInst]
</span><a href="GHC.Tc.Types.html#tcg_insts"><span class="hs-identifier hs-var">tcg_insts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990004"><span class="annot"><span class="annottext">[ClsInst]
</span><a href="#local-6989586621682990004"><span class="hs-identifier hs-var">insts</span></a></span></span><span>
</span><span id="line-63"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_fam_insts :: TcGblEnv -&gt; [FamInst]
</span><a href="GHC.Tc.Types.html#tcg_fam_insts"><span class="hs-identifier hs-var">tcg_fam_insts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990006"><span class="annot"><span class="annottext">[FamInst]
</span><a href="#local-6989586621682990006"><span class="hs-identifier hs-var">fam_insts</span></a></span></span><span>
</span><span id="line-64"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_hdr_info :: TcGblEnv
-&gt; (Maybe (LHsDoc (GhcPass 'Renamed)),
    Maybe (XRec (GhcPass 'Renamed) ModuleName))
</span><a href="GHC.Tc.Types.html#tcg_hdr_info"><span class="hs-identifier hs-var">tcg_hdr_info</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990008"><span class="annot"><span class="annottext">(Maybe (LHsDoc (GhcPass 'Renamed)),
 Maybe (XRec (GhcPass 'Renamed) ModuleName))
</span><a href="#local-6989586621682990008"><span class="hs-identifier hs-var">mb_hdr_info</span></a></span></span><span>
</span><span id="line-65"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_th_docs :: TcGblEnv -&gt; TcRef THDocs
</span><a href="GHC.Tc.Types.html#tcg_th_docs"><span class="hs-identifier hs-var">tcg_th_docs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990009"><span class="annot"><span class="annottext">TcRef THDocs
</span><a href="#local-6989586621682990009"><span class="hs-identifier hs-var">th_docs_var</span></a></span></span><span>
</span><span id="line-66"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tcg_type_env :: TcGblEnv -&gt; TypeEnv
</span><a href="GHC.Tc.Types.html#tcg_type_env"><span class="hs-identifier hs-var">tcg_type_env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990011"><span class="annot"><span class="annottext">TypeEnv
</span><a href="#local-6989586621682990011"><span class="hs-identifier hs-var">ty_env</span></a></span></span><span>
</span><span id="line-67"></span><span>               </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-68"></span><span>    </span><span id="local-6989586621682990012"><span class="annot"><a href="#local-6989586621682990012"><span class="hs-identifier hs-var">th_docs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO THDocs -&gt; m THDocs
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO THDocs -&gt; m THDocs) -&gt; IO THDocs -&gt; m THDocs
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TcRef THDocs -&gt; IO THDocs
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">TcRef THDocs
</span><a href="#local-6989586621682990009"><span class="hs-identifier hs-var">th_docs_var</span></a></span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682990014"><span class="annot"><a href="#local-6989586621682990014"><span class="hs-identifier hs-var hs-var">doc_hdr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed) -&gt; HsDoc (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(LHsDoc (GhcPass 'Renamed) -&gt; HsDoc (GhcPass 'Renamed))
-&gt; Maybe (LHsDoc (GhcPass 'Renamed))
-&gt; Maybe (HsDoc (GhcPass 'Renamed))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (LHsDoc (GhcPass 'Renamed)),
 Maybe (GenLocated (EpAnn AnnListItem) ModuleName))
-&gt; Maybe (LHsDoc (GhcPass 'Renamed))
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (LHsDoc (GhcPass 'Renamed)),
 Maybe (XRec (GhcPass 'Renamed) ModuleName))
(Maybe (LHsDoc (GhcPass 'Renamed)),
 Maybe (GenLocated (EpAnn AnnListItem) ModuleName))
</span><a href="#local-6989586621682990008"><span class="hs-identifier hs-var">mb_hdr_info</span></a></span><span>
</span><span id="line-70"></span><span>        </span><span class="annot"><a href="GHC.Hs.Doc.html#ExtractedTHDocs"><span class="hs-identifier hs-type">ExtractedTHDocs</span></a></span><span> </span><span id="local-6989586621682990019"><span class="annot"><a href="#local-6989586621682990019"><span class="hs-identifier hs-var">th_hdr</span></a></span></span><span> </span><span id="local-6989586621682990020"><span class="annot"><a href="#local-6989586621682990020"><span class="hs-identifier hs-var">th_decl_docs</span></a></span></span><span> </span><span id="local-6989586621682990021"><span class="annot"><a href="#local-6989586621682990021"><span class="hs-identifier hs-var">th_arg_docs</span></a></span></span><span> </span><span id="local-6989586621682990022"><span class="annot"><a href="#local-6989586621682990022"><span class="hs-identifier hs-var">th_inst_docs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.HsToCore.Docs.html#extractTHDocs"><span class="hs-identifier hs-type">extractTHDocs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682990012"><span class="hs-identifier hs-type">th_docs</span></a></span><span>
</span><span id="line-71"></span><span>        </span><span id="local-6989586621682990024"><span class="annot"><a href="#local-6989586621682990024"><span class="hs-identifier hs-var hs-var">mod_docs</span></a></span></span><span>
</span><span id="line-72"></span><span>         </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><a href="GHC.Hs.Doc.html#Docs"><span class="hs-identifier hs-type">Docs</span></a></span><span>
</span><span id="line-73"></span><span>         </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">docs_mod_hdr :: Maybe (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.Hs.Doc.html#docs_mod_hdr"><span class="hs-identifier hs-var">docs_mod_hdr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990019"><span class="hs-identifier hs-var">th_hdr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (HsDoc (GhcPass 'Renamed))
-&gt; Maybe (HsDoc (GhcPass 'Renamed))
-&gt; Maybe (HsDoc (GhcPass 'Renamed))
forall a. Maybe a -&gt; Maybe a -&gt; Maybe a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990014"><span class="hs-identifier hs-var">doc_hdr</span></a></span><span>
</span><span id="line-74"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">docs_exports :: UniqMap Name (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.Hs.Doc.html#docs_exports"><span class="hs-identifier hs-var">docs_exports</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqMap Name (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990029"><span class="hs-identifier hs-var">exports_docs</span></a></span><span>
</span><span id="line-75"></span><span>         </span><span class="hs-comment">-- Left biased union (see #21220)</span><span>
</span><span id="line-76"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">docs_decls :: UniqMap Name [HsDoc (GhcPass 'Renamed)]
</span><a href="GHC.Hs.Doc.html#docs_decls"><span class="hs-identifier hs-var">docs_decls</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([HsDoc (GhcPass 'Renamed)]
 -&gt; [HsDoc (GhcPass 'Renamed)] -&gt; [HsDoc (GhcPass 'Renamed)])
-&gt; UniqMap Name [HsDoc (GhcPass 'Renamed)]
-&gt; UniqMap Name [HsDoc (GhcPass 'Renamed)]
-&gt; UniqMap Name [HsDoc (GhcPass 'Renamed)]
forall a k.
(a -&gt; a -&gt; a) -&gt; UniqMap k a -&gt; UniqMap k a -&gt; UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#plusUniqMap_C"><span class="hs-identifier hs-var">plusUniqMap_C</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682990032"><span class="annot"><span class="annottext">[HsDoc (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990032"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="annot"><span class="annottext">[HsDoc (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[HsDoc (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990032"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>                          </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsDoc (GhcPass 'Renamed)
-&gt; [HsDoc (GhcPass 'Renamed)] -&gt; [HsDoc (GhcPass 'Renamed)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(HsDoc (GhcPass 'Renamed) -&gt; [HsDoc (GhcPass 'Renamed)])
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
-&gt; UniqMap Name [HsDoc (GhcPass 'Renamed)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">UniqMap Name (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990020"><span class="hs-identifier hs-var">th_decl_docs</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name (HsDoc (GhcPass 'Renamed))
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
forall k a. UniqMap k a -&gt; UniqMap k a -&gt; UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#plusUniqMap"><span class="hs-operator hs-var">`plusUniqMap`</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990022"><span class="hs-identifier hs-var">th_inst_docs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span>                          </span><span class="hs-comment">-- These will not clash so safe to use plusUniqMap</span><span>
</span><span id="line-79"></span><span>                          </span><span class="annot"><span class="annottext">UniqMap Name [HsDoc (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990034"><span class="hs-identifier hs-var">doc_map</span></a></span><span>
</span><span id="line-80"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">docs_args :: UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
</span><a href="GHC.Hs.Doc.html#docs_args"><span class="hs-identifier hs-var">docs_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
</span><a href="#local-6989586621682990021"><span class="hs-identifier hs-var">th_arg_docs</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
-&gt; UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
-&gt; UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
forall b.
UniqMap Name (IntMap b)
-&gt; UniqMap Name (IntMap b) -&gt; UniqMap Name (IntMap b)
</span><a href="GHC.HsToCore.Docs.html#unionArgMaps"><span class="hs-operator hs-var">`unionArgMaps`</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
</span><a href="#local-6989586621682990037"><span class="hs-identifier hs-var">arg_map</span></a></span><span>
</span><span id="line-81"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">docs_structure :: DocStructure
</span><a href="GHC.Hs.Doc.html#docs_structure"><span class="hs-identifier hs-var">docs_structure</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DocStructure
</span><a href="#local-6989586621682990039"><span class="hs-identifier hs-var">doc_structure</span></a></span><span>
</span><span id="line-82"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">docs_named_chunks :: Map String (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.Hs.Doc.html#docs_named_chunks"><span class="hs-identifier hs-var">docs_named_chunks</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map String (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990041"><span class="hs-identifier hs-var">named_chunks</span></a></span><span>
</span><span id="line-83"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">docs_haddock_opts :: Maybe String
</span><a href="GHC.Hs.Doc.html#docs_haddock_opts"><span class="hs-identifier hs-var">docs_haddock_opts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Maybe String
</span><a href="GHC.Driver.DynFlags.html#haddockOptions"><span class="hs-identifier hs-var">haddockOptions</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682989989"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-84"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">docs_language :: Maybe Language
</span><a href="GHC.Hs.Doc.html#docs_language"><span class="hs-identifier hs-var">docs_language</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Language
</span><a href="#local-6989586621682990045"><span class="hs-identifier hs-var">language_</span></a></span><span>
</span><span id="line-85"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">docs_extensions :: EnumSet Extension
</span><a href="GHC.Hs.Doc.html#docs_extensions"><span class="hs-identifier hs-var">docs_extensions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EnumSet Extension
</span><a href="#local-6989586621682990047"><span class="hs-identifier hs-var">exts</span></a></span><span>
</span><span id="line-86"></span><span>         </span><span class="hs-special">}</span><span>
</span><span id="line-87"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621682990024"><span class="hs-identifier hs-type">mod_docs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-89"></span><span>    </span><span id="local-6989586621682990047"><span class="annot"><span class="annottext">exts :: EnumSet Extension
</span><a href="#local-6989586621682990047"><span class="hs-identifier hs-var hs-var">exts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; EnumSet Extension
</span><a href="GHC.Driver.DynFlags.html#extensionFlags"><span class="hs-identifier hs-var">extensionFlags</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682989989"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-90"></span><span>    </span><span id="local-6989586621682990045"><span class="annot"><span class="annottext">language_ :: Maybe Language
</span><a href="#local-6989586621682990045"><span class="hs-identifier hs-var hs-var">language_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DynFlags -&gt; Maybe Language
</span><a href="GHC.Driver.DynFlags.html#language"><span class="hs-identifier hs-var">language</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><a href="#local-6989586621682989989"><span class="hs-identifier hs-var">dflags</span></a></span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-comment">-- We need to lookup the Names for default methods, so we</span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-comment">-- can put them in the correct map</span><span>
</span><span id="line-94"></span><span>    </span><span class="hs-comment">-- See Note [default method Name] in GHC.Iface.Recomp</span><span>
</span><span id="line-95"></span><span>    </span><span id="local-6989586621682990050"><span class="annot"><span class="annottext">def_meths_env :: OccEnv Name
</span><a href="#local-6989586621682990050"><span class="hs-identifier hs-var hs-var">def_meths_env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(OccName, Name)] -&gt; OccEnv Name
forall a. [(OccName, a)] -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#mkOccEnv"><span class="hs-identifier hs-var">mkOccEnv</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682990052"><span class="hs-identifier hs-var">occ</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990053"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span>                             </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682990054"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682990054"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TypeEnv -&gt; [Id]
</span><a href="GHC.Types.TypeEnv.html#typeEnvIds"><span class="hs-identifier hs-var">typeEnvIds</span></a></span><span> </span><span class="annot"><span class="annottext">TypeEnv
</span><a href="#local-6989586621682990011"><span class="hs-identifier hs-var">ty_env</span></a></span><span>
</span><span id="line-97"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682990053"><span class="annot"><span class="annottext">nm :: Name
</span><a href="#local-6989586621682990053"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; Name
</span><a href="GHC.Types.Id.html#idName"><span class="hs-identifier hs-var">idName</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682990054"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-98"></span><span>                                   </span><span id="local-6989586621682990052"><span class="annot"><span class="annottext">occ :: OccName
</span><a href="#local-6989586621682990052"><span class="hs-identifier hs-var hs-var">occ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990053"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-99"></span><span>                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Bool
</span><a href="GHC.Types.Name.Occurrence.html#isDefaultMethodOcc"><span class="hs-identifier hs-var">isDefaultMethodOcc</span></a></span><span> </span><span class="annot"><span class="annottext">OccName
</span><a href="#local-6989586621682990052"><span class="hs-identifier hs-var">occ</span></a></span><span>
</span><span id="line-100"></span><span>                             </span><span class="hs-special">]</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span>    </span><span id="local-6989586621682990029"><span class="annot"><span class="annottext">exports_docs :: UniqMap Name (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990029"><span class="hs-identifier hs-var hs-var">exports_docs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqMap Name (HsDoc (GhcPass 'Renamed))
-&gt; ([(GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)),
      Avails)]
    -&gt; UniqMap Name (HsDoc (GhcPass 'Renamed)))
-&gt; Maybe
     [(GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)), Avails)]
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">UniqMap Name (HsDoc (GhcPass 'Renamed))
forall k a. UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#emptyUniqMap"><span class="hs-identifier hs-var">emptyUniqMap</span></a></span><span> </span><span class="annot"><span class="annottext">[(LIE (GhcPass 'Renamed), Avails)]
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
[(GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)), Avails)]
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#mkExportsDocs"><span class="hs-identifier hs-var">mkExportsDocs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [(LIE (GhcPass 'Renamed), Avails)]
Maybe
  [(GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)), Avails)]
</span><a href="#local-6989586621682989998"><span class="hs-identifier hs-var">mb_rn_exports</span></a></span><span>
</span><span id="line-103"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621682990034"><span class="annot"><span class="annottext">UniqMap Name [HsDoc (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990034"><span class="hs-identifier hs-var">doc_map</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990037"><span class="annot"><span class="annottext">UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
</span><a href="#local-6989586621682990037"><span class="hs-identifier hs-var">arg_map</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccEnv Name
-&gt; [Name]
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
-&gt; (UniqMap Name [HsDoc (GhcPass 'Renamed)],
    UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed))))
</span><a href="GHC.HsToCore.Docs.html#mkMaps"><span class="hs-identifier hs-var">mkMaps</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621682990050"><span class="hs-identifier hs-var">def_meths_env</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682990063"><span class="hs-identifier hs-var">local_insts</span></a></span><span> </span><span class="annot"><span class="annottext">[(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
</span><a href="#local-6989586621682990064"><span class="hs-identifier hs-var">decls_with_docs</span></a></span><span>
</span><span id="line-104"></span><span>    </span><span id="local-6989586621682990064"><span class="annot"><span class="annottext">decls_with_docs :: [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
</span><a href="#local-6989586621682990064"><span class="hs-identifier hs-var hs-var">decls_with_docs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
</span><a href="GHC.HsToCore.Docs.html#topDecls"><span class="hs-identifier hs-var">topDecls</span></a></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682989996"><span class="hs-identifier hs-var">rn_decls</span></a></span><span>
</span><span id="line-105"></span><span>    </span><span id="local-6989586621682990063"><span class="annot"><span class="annottext">local_insts :: [Name]
</span><a href="#local-6989586621682990063"><span class="hs-identifier hs-var hs-var">local_insts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Bool) -&gt; [Name] -&gt; [Name]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Module -&gt; Name -&gt; Bool
</span><a href="GHC.Types.Name.html#nameIsLocalOrFrom"><span class="hs-identifier hs-var">nameIsLocalOrFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682989992"><span class="hs-identifier hs-var">semantic_mdl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>                         </span><span class="annot"><span class="annottext">([Name] -&gt; [Name]) -&gt; [Name] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ClsInst -&gt; Name) -&gt; [ClsInst] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">ClsInst -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">[ClsInst]
</span><a href="#local-6989586621682990004"><span class="hs-identifier hs-var">insts</span></a></span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; [Name] -&gt; [Name]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(FamInst -&gt; Name) -&gt; [FamInst] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">FamInst -&gt; Name
forall a. NamedThing a =&gt; a -&gt; Name
</span><a href="GHC.Types.Name.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">[FamInst]
</span><a href="#local-6989586621682990006"><span class="hs-identifier hs-var">fam_insts</span></a></span><span>
</span><span id="line-107"></span><span>    </span><span id="local-6989586621682990039"><span class="annot"><span class="annottext">doc_structure :: DocStructure
</span><a href="#local-6989586621682990039"><span class="hs-identifier hs-var hs-var">doc_structure</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module
-&gt; ImportAvails
-&gt; Maybe [(LIE (GhcPass 'Renamed), Avails)]
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; Avails
-&gt; OccEnv Name
-&gt; DocStructure
</span><a href="GHC.HsToCore.Docs.html#mkDocStructure"><span class="hs-identifier hs-var">mkDocStructure</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682989994"><span class="hs-identifier hs-var">mdl</span></a></span><span> </span><span class="annot"><span class="annottext">ImportAvails
</span><a href="#local-6989586621682990002"><span class="hs-identifier hs-var">import_avails</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [(LIE (GhcPass 'Renamed), Avails)]
</span><a href="#local-6989586621682989998"><span class="hs-identifier hs-var">mb_rn_exports</span></a></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682989996"><span class="hs-identifier hs-var">rn_decls</span></a></span><span>
</span><span id="line-108"></span><span>                                   </span><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990000"><span class="hs-identifier hs-var">all_exports</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621682990050"><span class="hs-identifier hs-var">def_meths_env</span></a></span><span>
</span><span id="line-109"></span><span>    </span><span id="local-6989586621682990041"><span class="annot"><span class="annottext">named_chunks :: Map String (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990041"><span class="hs-identifier hs-var hs-var">named_chunks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; Map String (HsDoc (GhcPass 'Renamed))
forall (pass :: Pass).
Bool -&gt; HsGroup (GhcPass pass) -&gt; Map String (HsDoc (GhcPass pass))
</span><a href="GHC.HsToCore.Docs.html#getNamedChunks"><span class="hs-identifier hs-var">getNamedChunks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe
  [(GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)), Avails)]
-&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isJust</span></span><span> </span><span class="annot"><span class="annottext">Maybe [(LIE (GhcPass 'Renamed), Avails)]
Maybe
  [(GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)), Avails)]
</span><a href="#local-6989586621682989998"><span class="hs-identifier hs-var">mb_rn_exports</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682989996"><span class="hs-identifier hs-var">rn_decls</span></a></span><span>
</span><span id="line-110"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#extractDocs"><span class="hs-identifier hs-var">extractDocs</span></a></span><span> </span><span class="annot"><span class="annottext">DynFlags
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TcGblEnv
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Docs -&gt; m (Maybe Docs)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Maybe Docs
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#mkExportsDocs"><span class="hs-identifier hs-type">mkExportsDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#LIE"><span class="hs-identifier hs-type">LIE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#Avails"><span class="hs-identifier hs-type">Avails</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span id="mkExportsDocs"><span class="annot"><span class="annottext">mkExportsDocs :: [(LIE (GhcPass 'Renamed), Avails)]
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#mkExportsDocs"><span class="hs-identifier hs-var hs-var">mkExportsDocs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)), Avails)
 -&gt; UniqMap Name (HsDoc (GhcPass 'Renamed)))
-&gt; [(GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)),
     Avails)]
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; [a] -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="annot"><span class="annottext">(LIE (GhcPass 'Renamed), Avails)
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
(GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)), Avails)
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990073"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-115"></span><span>    </span><span class="annot"><a href="#local-6989586621682990073"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#LIE"><span class="hs-identifier hs-type">LIE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#Avails"><span class="hs-identifier hs-type">Avails</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>    </span><span id="local-6989586621682990073"><span class="annot"><span class="annottext">f :: (LIE (GhcPass 'Renamed), Avails)
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990073"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990075"><span class="annot"><span class="annottext">IE (GhcPass 'Renamed)
</span><a href="#local-6989586621682990075"><span class="hs-identifier hs-var">ie</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990076"><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990076"><span class="hs-identifier hs-var">avails</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990077"><span class="annot"><span class="annottext">HsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990077"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IE (GhcPass 'Renamed) -&gt; Maybe (LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990078"><span class="hs-identifier hs-var">ieExportDoc</span></a></span><span> </span><span class="annot"><span class="annottext">IE (GhcPass 'Renamed)
</span><a href="#local-6989586621682990075"><span class="hs-identifier hs-var">ie</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-118"></span><span>        </span><span class="annot"><span class="annottext">[(Name, HsDoc (GhcPass 'Renamed))]
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
forall k a. Uniquable k =&gt; [(k, a)] -&gt; UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#listToUniqMap"><span class="hs-identifier hs-var">listToUniqMap</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AvailInfo -&gt; Name
</span><a href="GHC.Types.Avail.html#availName"><span class="hs-identifier hs-var">availName</span></a></span><span> </span><span class="annot"><span class="annottext">AvailInfo
</span><a href="#local-6989586621682990081"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990077"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682990081"><span class="annot"><span class="annottext">AvailInfo
</span><a href="#local-6989586621682990081"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990076"><span class="hs-identifier hs-var">avails</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-119"></span><span>    </span><span class="annot"><a href="#local-6989586621682990073"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(LIE (GhcPass 'Renamed), Avails)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqMap Name (HsDoc (GhcPass 'Renamed))
forall k a. UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#emptyUniqMap"><span class="hs-identifier hs-var">emptyUniqMap</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span>    </span><span class="annot"><a href="#local-6989586621682990078"><span class="hs-identifier hs-type">ieExportDoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IE"><span class="hs-identifier hs-type">IE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#ExportDoc"><span class="hs-identifier hs-type">ExportDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span>    </span><span id="local-6989586621682990078"><span class="annot"><span class="annottext">ieExportDoc :: IE (GhcPass 'Renamed) -&gt; Maybe (LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990078"><span class="hs-identifier hs-var hs-var">ieExportDoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEVar"><span class="hs-identifier hs-type">IEVar</span></a></span><span> </span><span class="annot"><span class="annottext">XIEVar (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LIEWrappedName (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990084"><span class="annot"><span class="annottext">Maybe (LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990084"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990084"><span class="hs-identifier hs-var">doc</span></a></span><span>
</span><span id="line-123"></span><span>    </span><span class="annot"><a href="#local-6989586621682990078"><span class="hs-identifier hs-var">ieExportDoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEThingAbs"><span class="hs-identifier hs-type">IEThingAbs</span></a></span><span> </span><span class="annot"><span class="annottext">XIEThingAbs (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LIEWrappedName (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990086"><span class="annot"><span class="annottext">Maybe (LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990086"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990086"><span class="hs-identifier hs-var">doc</span></a></span><span>
</span><span id="line-124"></span><span>    </span><span class="annot"><a href="#local-6989586621682990078"><span class="hs-identifier hs-var">ieExportDoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEThingAll"><span class="hs-identifier hs-type">IEThingAll</span></a></span><span> </span><span class="annot"><span class="annottext">XIEThingAll (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LIEWrappedName (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990088"><span class="annot"><span class="annottext">Maybe (LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990088"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990088"><span class="hs-identifier hs-var">doc</span></a></span><span>
</span><span id="line-125"></span><span>    </span><span class="annot"><a href="#local-6989586621682990078"><span class="hs-identifier hs-var">ieExportDoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEThingWith"><span class="hs-identifier hs-type">IEThingWith</span></a></span><span> </span><span class="annot"><span class="annottext">XIEThingWith (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LIEWrappedName (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">IEWildcard
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LIEWrappedName (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990090"><span class="annot"><span class="annottext">Maybe (LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990090"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990090"><span class="hs-identifier hs-var">doc</span></a></span><span>
</span><span id="line-126"></span><span>    </span><span class="annot"><a href="#local-6989586621682990078"><span class="hs-identifier hs-var">ieExportDoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEModuleContents"><span class="hs-identifier hs-type">IEModuleContents</span></a></span><span> </span><span class="annot"><span class="annottext">XIEModuleContents (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) ModuleName
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsDoc (GhcPass 'Renamed))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-127"></span><span>    </span><span class="annot"><a href="#local-6989586621682990078"><span class="hs-identifier hs-var">ieExportDoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEGroup"><span class="hs-identifier hs-type">IEGroup</span></a></span><span> </span><span class="annot"><span class="annottext">XIEGroup (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsDoc (GhcPass 'Renamed))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-128"></span><span>    </span><span class="annot"><a href="#local-6989586621682990078"><span class="hs-identifier hs-var">ieExportDoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEDoc"><span class="hs-identifier hs-type">IEDoc</span></a></span><span> </span><span class="annot"><span class="annottext">XIEDoc (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsDoc (GhcPass 'Renamed))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-129"></span><span>    </span><span class="annot"><a href="#local-6989586621682990078"><span class="hs-identifier hs-var">ieExportDoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEDocNamed"><span class="hs-identifier hs-type">IEDocNamed</span></a></span><span> </span><span class="annot"><span class="annottext">XIEDocNamed (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (LHsDoc (GhcPass 'Renamed))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-comment">-- | If we have an explicit export list, we extract the documentation structure</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- from that.</span><span>
</span><span id="line-133"></span><span class="hs-comment">-- Otherwise we use the renamed exports and declarations.</span><span>
</span><span id="line-134"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#mkDocStructure"><span class="hs-identifier hs-type">mkDocStructure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span>                               </span><span class="annot"><span class="hs-comment">-- ^ The current module</span></span><span>
</span><span id="line-135"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Deps.html#ImportAvails"><span class="hs-identifier hs-type">ImportAvails</span></a></span><span>                         </span><span class="annot"><span class="hs-comment">-- ^ Imports</span></span><span>
</span><span id="line-136"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#LIE"><span class="hs-identifier hs-type">LIE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#Avails"><span class="hs-identifier hs-type">Avails</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Explicit export list</span></span><span>
</span><span id="line-137"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-138"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Avail.html#AvailInfo"><span class="hs-identifier hs-type">AvailInfo</span></a></span><span class="hs-special">]</span><span>                          </span><span class="annot"><span class="hs-comment">-- ^ All exports</span></span><span>
</span><span id="line-139"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>                          </span><span class="annot"><span class="hs-comment">-- ^ Default Methods</span></span><span>
</span><span id="line-140"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#DocStructure"><span class="hs-identifier hs-type">DocStructure</span></a></span><span>
</span><span id="line-141"></span><span id="mkDocStructure"><span class="annot"><span class="annottext">mkDocStructure :: Module
-&gt; ImportAvails
-&gt; Maybe [(LIE (GhcPass 'Renamed), Avails)]
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; Avails
-&gt; OccEnv Name
-&gt; DocStructure
</span><a href="GHC.HsToCore.Docs.html#mkDocStructure"><span class="hs-identifier hs-var hs-var">mkDocStructure</span></a></span></span><span> </span><span id="local-6989586621682990095"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682990095"><span class="hs-identifier hs-var">mdl</span></a></span></span><span> </span><span id="local-6989586621682990096"><span class="annot"><span class="annottext">ImportAvails
</span><a href="#local-6989586621682990096"><span class="hs-identifier hs-var">import_avails</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682990097"><span class="annot"><span class="annottext">[(LIE (GhcPass 'Renamed), Avails)]
</span><a href="#local-6989586621682990097"><span class="hs-identifier hs-var">export_list</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Avails
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-142"></span><span>    </span><span class="annot"><span class="annottext">Module
-&gt; ImportAvails
-&gt; [(LIE (GhcPass 'Renamed), Avails)]
-&gt; DocStructure
</span><a href="GHC.HsToCore.Docs.html#mkDocStructureFromExportList"><span class="hs-identifier hs-var">mkDocStructureFromExportList</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682990095"><span class="hs-identifier hs-var">mdl</span></a></span><span> </span><span class="annot"><span class="annottext">ImportAvails
</span><a href="#local-6989586621682990096"><span class="hs-identifier hs-var">import_avails</span></a></span><span> </span><span class="annot"><span class="annottext">[(LIE (GhcPass 'Renamed), Avails)]
</span><a href="#local-6989586621682990097"><span class="hs-identifier hs-var">export_list</span></a></span><span>
</span><span id="line-143"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#mkDocStructure"><span class="hs-identifier hs-var">mkDocStructure</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ImportAvails
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe [(LIE (GhcPass 'Renamed), Avails)]
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span id="local-6989586621682990099"><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682990099"><span class="hs-identifier hs-var">rn_decls</span></a></span></span><span> </span><span id="local-6989586621682990100"><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990100"><span class="hs-identifier hs-var">all_exports</span></a></span></span><span> </span><span id="local-6989586621682990101"><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621682990101"><span class="hs-identifier hs-var">def_meths_env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-144"></span><span>    </span><span class="annot"><span class="annottext">OccEnv Name -&gt; Avails -&gt; HsGroup (GhcPass 'Renamed) -&gt; DocStructure
</span><a href="GHC.HsToCore.Docs.html#mkDocStructureFromDecls"><span class="hs-identifier hs-var">mkDocStructureFromDecls</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621682990101"><span class="hs-identifier hs-var">def_meths_env</span></a></span><span> </span><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990100"><span class="hs-identifier hs-var">all_exports</span></a></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682990099"><span class="hs-identifier hs-var">rn_decls</span></a></span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="hs-comment">-- TODO:</span><span>
</span><span id="line-147"></span><span class="annot"><span class="hs-comment">-- * Maybe remove items that export nothing?</span></span><span>
</span><span id="line-148"></span><span class="annot"><span class="hs-comment">-- * Combine sequences of DsiExports?</span></span><span>
</span><span id="line-149"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#mkDocStructureFromExportList"><span class="hs-identifier hs-type">mkDocStructureFromExportList</span></a></span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span>                         </span><span class="annot"><span class="hs-comment">-- ^ The current module</span></span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Deps.html#ImportAvails"><span class="hs-identifier hs-type">ImportAvails</span></a></span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#LIE"><span class="hs-identifier hs-type">LIE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#Avails"><span class="hs-identifier hs-type">Avails</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Explicit export list</span></span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#DocStructure"><span class="hs-identifier hs-type">DocStructure</span></a></span><span>
</span><span id="line-154"></span><span id="mkDocStructureFromExportList"><span class="annot"><span class="annottext">mkDocStructureFromExportList :: Module
-&gt; ImportAvails
-&gt; [(LIE (GhcPass 'Renamed), Avails)]
-&gt; DocStructure
</span><a href="GHC.HsToCore.Docs.html#mkDocStructureFromExportList"><span class="hs-identifier hs-var hs-var">mkDocStructureFromExportList</span></a></span></span><span> </span><span id="local-6989586621682990103"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682990103"><span class="hs-identifier hs-var">mdl</span></a></span></span><span> </span><span id="local-6989586621682990104"><span class="annot"><span class="annottext">ImportAvails
</span><a href="#local-6989586621682990104"><span class="hs-identifier hs-var">import_avails</span></a></span></span><span> </span><span id="local-6989586621682990105"><span class="annot"><span class="annottext">[(LIE (GhcPass 'Renamed), Avails)]
</span><a href="#local-6989586621682990105"><span class="hs-identifier hs-var">export_list</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-155"></span><span>    </span><span class="annot"><span class="annottext">(IE (GhcPass 'Renamed), Avails) -&gt; DocStructureItem
</span><a href="#local-6989586621682990106"><span class="hs-identifier hs-var">toDocStructure</span></a></span><span> </span><span class="annot"><span class="annottext">((IE (GhcPass 'Renamed), Avails) -&gt; DocStructureItem)
-&gt; ((GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)),
     Avails)
    -&gt; (IE (GhcPass 'Renamed), Avails))
-&gt; (GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)), Avails)
-&gt; DocStructureItem
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed))
 -&gt; IE (GhcPass 'Renamed))
-&gt; (GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)), Avails)
-&gt; (IE (GhcPass 'Renamed), Avails)
forall a b c. (a -&gt; b) -&gt; (a, c) -&gt; (b, c)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../../base-4.21.0.0-ae91/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed))
-&gt; IE (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">((GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)), Avails)
 -&gt; DocStructureItem)
-&gt; [(GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)),
     Avails)]
-&gt; DocStructure
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[(LIE (GhcPass 'Renamed), Avails)]
[(GenLocated (EpAnn AnnListItem) (IE (GhcPass 'Renamed)), Avails)]
</span><a href="#local-6989586621682990105"><span class="hs-identifier hs-var">export_list</span></a></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-157"></span><span>    </span><span class="annot"><a href="#local-6989586621682990106"><span class="hs-identifier hs-type">toDocStructure</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IE"><span class="hs-identifier hs-type">IE</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#Avails"><span class="hs-identifier hs-type">Avails</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#DocStructureItem"><span class="hs-identifier hs-type">DocStructureItem</span></a></span><span>
</span><span id="line-158"></span><span>    </span><span id="local-6989586621682990106"><span class="annot"><span class="annottext">toDocStructure :: (IE (GhcPass 'Renamed), Avails) -&gt; DocStructureItem
</span><a href="#local-6989586621682990106"><span class="hs-identifier hs-var hs-var">toDocStructure</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-159"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEModuleContents"><span class="hs-identifier hs-type">IEModuleContents</span></a></span><span> </span><span class="annot"><span class="annottext">XIEModuleContents (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990108"><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) ModuleName
</span><a href="#local-6989586621682990108"><span class="hs-identifier hs-var">lmn</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990109"><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990109"><span class="hs-identifier hs-var">avails</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; Avails -&gt; DocStructureItem
</span><a href="#local-6989586621682990110"><span class="hs-identifier hs-var">moduleExport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) ModuleName -&gt; ModuleName
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) ModuleName
GenLocated (EpAnn AnnListItem) ModuleName
</span><a href="#local-6989586621682990108"><span class="hs-identifier hs-var">lmn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990109"><span class="hs-identifier hs-var">avails</span></a></span><span>
</span><span id="line-160"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEGroup"><span class="hs-identifier hs-type">IEGroup</span></a></span><span> </span><span class="annot"><span class="annottext">XIEGroup (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990111"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990111"><span class="hs-identifier hs-var">level</span></a></span></span><span> </span><span id="local-6989586621682990112"><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990112"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Avails
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; HsDoc (GhcPass 'Renamed) -&gt; DocStructureItem
</span><a href="GHC.Hs.Doc.html#DsiSectionHeading"><span class="hs-identifier hs-var">DsiSectionHeading</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990111"><span class="hs-identifier hs-var">level</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed) -&gt; HsDoc (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990112"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-161"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEDoc"><span class="hs-identifier hs-type">IEDoc</span></a></span><span> </span><span class="annot"><span class="annottext">XIEDoc (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990114"><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990114"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Avails
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDoc (GhcPass 'Renamed) -&gt; DocStructureItem
</span><a href="GHC.Hs.Doc.html#DsiDocChunk"><span class="hs-identifier hs-var">DsiDocChunk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed) -&gt; HsDoc (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990114"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEDocNamed"><span class="hs-identifier hs-type">IEDocNamed</span></a></span><span> </span><span class="annot"><span class="annottext">XIEDocNamed (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990116"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682990116"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Avails
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; DocStructureItem
</span><a href="GHC.Hs.Doc.html#DsiNamedChunkRef"><span class="hs-identifier hs-var">DsiNamedChunkRef</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682990116"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-163"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.ImpExp.html#IEThingWith"><span class="hs-identifier hs-type">IEThingWith</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990118"><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990118"><span class="hs-identifier hs-var">avails</span></a></span></span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-164"></span><span>        </span><span class="annot"><span class="annottext">DetOrdAvails -&gt; DocStructureItem
</span><a href="GHC.Hs.Doc.html#DsiExports"><span class="hs-identifier hs-var">DsiExports</span></a></span><span> </span><span class="annot"><span class="annottext">(DetOrdAvails -&gt; DocStructureItem)
-&gt; DetOrdAvails -&gt; DocStructureItem
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-165"></span><span>          </span><span class="hs-comment">{- For explicit export lists, use the explicit order. It is deterministic by construction -}</span><span>
</span><span id="line-166"></span><span>          </span><span class="annot"><span class="annottext">Avails -&gt; DetOrdAvails
</span><a href="GHC.Types.Avail.html#DefinitelyDeterministicAvails"><span class="hs-identifier hs-var">DefinitelyDeterministicAvails</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Avails -&gt; Avails
</span><a href="GHC.Types.Avail.html#nubAvails"><span class="hs-identifier hs-var">nubAvails</span></a></span><span> </span><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990118"><span class="hs-identifier hs-var">avails</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IE (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990122"><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990122"><span class="hs-identifier hs-var">avails</span></a></span></span><span class="hs-special">)</span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DetOrdAvails -&gt; DocStructureItem
</span><a href="GHC.Hs.Doc.html#DsiExports"><span class="hs-identifier hs-var">DsiExports</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Avails -&gt; DetOrdAvails
</span><a href="GHC.Types.Avail.html#sortAvails"><span class="hs-identifier hs-var">sortAvails</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Avails -&gt; Avails
</span><a href="GHC.Types.Avail.html#nubAvails"><span class="hs-identifier hs-var">nubAvails</span></a></span><span> </span><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990122"><span class="hs-identifier hs-var">avails</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span>    </span><span class="annot"><a href="#local-6989586621682990110"><span class="hs-identifier hs-type">moduleExport</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-comment">-- Alias</span><span>
</span><span id="line-170"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Avail.html#Avails"><span class="hs-identifier hs-type">Avails</span></a></span><span>
</span><span id="line-171"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#DocStructureItem"><span class="hs-identifier hs-type">DocStructureItem</span></a></span><span>
</span><span id="line-172"></span><span>    </span><span id="local-6989586621682990110"><span class="annot"><span class="annottext">moduleExport :: ModuleName -&gt; Avails -&gt; DocStructureItem
</span><a href="#local-6989586621682990110"><span class="hs-identifier hs-var hs-var">moduleExport</span></a></span></span><span> </span><span id="local-6989586621682990124"><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621682990124"><span class="hs-identifier hs-var">alias</span></a></span></span><span> </span><span id="local-6989586621682990125"><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990125"><span class="hs-identifier hs-var">avails</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-173"></span><span>        </span><span class="annot"><span class="annottext">NonEmpty ModuleName -&gt; DetOrdAvails -&gt; DocStructureItem
</span><a href="GHC.Hs.Doc.html#DsiModExport"><span class="hs-identifier hs-var">DsiModExport</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NonEmpty ModuleName -&gt; NonEmpty ModuleName
</span><a href="#local-6989586621682990127"><span class="hs-identifier hs-var">nubSortNE</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty ModuleName
</span><a href="#local-6989586621682990128"><span class="hs-identifier hs-var">orig_names</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Avails -&gt; DetOrdAvails
</span><a href="GHC.Types.Avail.html#sortAvails"><span class="hs-identifier hs-var">sortAvails</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Avails -&gt; Avails
</span><a href="GHC.Types.Avail.html#nubAvails"><span class="hs-identifier hs-var">nubAvails</span></a></span><span> </span><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990125"><span class="hs-identifier hs-var">avails</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-175"></span><span>        </span><span id="local-6989586621682990128"><span class="annot"><span class="annottext">orig_names :: NonEmpty ModuleName
</span><a href="#local-6989586621682990128"><span class="hs-identifier hs-var hs-var">orig_names</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmpty ModuleName
-&gt; ModuleName
-&gt; Map ModuleName (NonEmpty ModuleName)
-&gt; NonEmpty ModuleName
forall k a. Ord k =&gt; a -&gt; k -&gt; Map k a -&gt; a
</span><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#findWithDefault"><span class="hs-identifier hs-var">M.findWithDefault</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty ModuleName
</span><a href="#local-6989586621682990130"><span class="hs-identifier hs-var">aliasErr</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621682990124"><span class="hs-identifier hs-var">alias</span></a></span><span> </span><span class="annot"><span class="annottext">Map ModuleName (NonEmpty ModuleName)
</span><a href="#local-6989586621682990131"><span class="hs-identifier hs-var">aliasMap</span></a></span><span>
</span><span id="line-176"></span><span>        </span><span id="local-6989586621682990130"><span class="annot"><span class="annottext">aliasErr :: NonEmpty ModuleName
</span><a href="#local-6989586621682990130"><span class="hs-identifier hs-var hs-var">aliasErr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; NonEmpty ModuleName
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; NonEmpty ModuleName) -&gt; String -&gt; NonEmpty ModuleName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkDocStructureFromExportList: &quot;</span></span><span>
</span><span id="line-177"></span><span>                           </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModuleName -&gt; String
</span><a href="Language.Haskell.Syntax.Module.Name.html#moduleNameString"><span class="hs-identifier hs-var">moduleNameString</span></a></span><span> </span><span class="annot"><span class="annottext">(ModuleName -&gt; String)
-&gt; (Module -&gt; ModuleName) -&gt; Module -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span><a href="GHC.Unit.Types.html#moduleName"><span class="hs-identifier hs-var">moduleName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682990103"><span class="hs-identifier hs-var">mdl</span></a></span><span>
</span><span id="line-178"></span><span>                           </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: Can't find alias &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; String
</span><a href="Language.Haskell.Syntax.Module.Name.html#moduleNameString"><span class="hs-identifier hs-var">moduleNameString</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621682990124"><span class="hs-identifier hs-var">alias</span></a></span><span>
</span><span id="line-179"></span><span>        </span><span id="local-6989586621682990127"><span class="annot"><span class="annottext">nubSortNE :: NonEmpty ModuleName -&gt; NonEmpty ModuleName
</span><a href="#local-6989586621682990127"><span class="hs-identifier hs-var hs-var">nubSortNE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ModuleName] -&gt; NonEmpty ModuleName
forall a. HasCallStack =&gt; [a] -&gt; NonEmpty a
</span><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html#fromList"><span class="hs-identifier hs-var">NonEmpty.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([ModuleName] -&gt; NonEmpty ModuleName)
-&gt; (NonEmpty ModuleName -&gt; [ModuleName])
-&gt; NonEmpty ModuleName
-&gt; NonEmpty ModuleName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>
</span><span id="line-180"></span><span>                    </span><span class="annot"><span class="annottext">Set ModuleName -&gt; [ModuleName]
forall a. Set a -&gt; [a]
</span><a href="../../containers-0.7-5a8f/src/Data.Set.Internal.html#toList"><span class="hs-identifier hs-var">Set.toList</span></a></span><span> </span><span class="annot"><span class="annottext">(Set ModuleName -&gt; [ModuleName])
-&gt; (NonEmpty ModuleName -&gt; Set ModuleName)
-&gt; NonEmpty ModuleName
-&gt; [ModuleName]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>
</span><span id="line-181"></span><span>                    </span><span class="annot"><span class="annottext">[ModuleName] -&gt; Set ModuleName
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="../../containers-0.7-5a8f/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([ModuleName] -&gt; Set ModuleName)
-&gt; (NonEmpty ModuleName -&gt; [ModuleName])
-&gt; NonEmpty ModuleName
-&gt; Set ModuleName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>
</span><span id="line-182"></span><span>                    </span><span class="annot"><span class="annottext">NonEmpty ModuleName -&gt; [ModuleName]
forall a. NonEmpty a -&gt; [a]
</span><a href="../../base-4.21.0.0-ae91/src/Data.List.NonEmpty.html#toList"><span class="hs-identifier hs-var">NonEmpty.toList</span></a></span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-comment">-- Map from aliases to true module names.</span><span>
</span><span id="line-185"></span><span>    </span><span class="annot"><a href="#local-6989586621682990131"><span class="hs-identifier hs-type">aliasMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Module.Name.html#ModuleName"><span class="hs-identifier hs-type">ModuleName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span>    </span><span id="local-6989586621682990131"><span class="annot"><span class="annottext">aliasMap :: Map ModuleName (NonEmpty ModuleName)
</span><a href="#local-6989586621682990131"><span class="hs-identifier hs-var hs-var">aliasMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-187"></span><span>        </span><span class="annot"><span class="annottext">(NonEmpty ModuleName -&gt; NonEmpty ModuleName -&gt; NonEmpty ModuleName)
-&gt; [(ModuleName, NonEmpty ModuleName)]
-&gt; Map ModuleName (NonEmpty ModuleName)
forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; Map k a
</span><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#fromListWith"><span class="hs-identifier hs-var">M.fromListWith</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty ModuleName -&gt; NonEmpty ModuleName -&gt; NonEmpty ModuleName
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span> </span><span class="annot"><span class="annottext">([(ModuleName, NonEmpty ModuleName)]
 -&gt; Map ModuleName (NonEmpty ModuleName))
-&gt; [(ModuleName, NonEmpty ModuleName)]
-&gt; Map ModuleName (NonEmpty ModuleName)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-188"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621682990145"><span class="hs-identifier hs-var">this_mdl_name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ModuleName
</span><a href="#local-6989586621682990145"><span class="hs-identifier hs-var">this_mdl_name</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; [ModuleName] -&gt; NonEmpty ModuleName
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><span class="hs-operator hs-var">:|</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>          </span><span class="annot"><span class="annottext">(ModuleName, NonEmpty ModuleName)
-&gt; [(ModuleName, NonEmpty ModuleName)]
-&gt; [(ModuleName, NonEmpty ModuleName)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(((Module, [ImportedModsVal])
  -&gt; [(ModuleName, NonEmpty ModuleName)])
 -&gt; [(Module, [ImportedModsVal])]
 -&gt; [(ModuleName, NonEmpty ModuleName)])
-&gt; [(Module, [ImportedModsVal])]
-&gt; ((Module, [ImportedModsVal])
    -&gt; [(ModuleName, NonEmpty ModuleName)])
-&gt; [(ModuleName, NonEmpty ModuleName)]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">((Module, [ImportedModsVal])
 -&gt; [(ModuleName, NonEmpty ModuleName)])
-&gt; [(Module, [ImportedModsVal])]
-&gt; [(ModuleName, NonEmpty ModuleName)]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map Module [ImportedModsVal] -&gt; [(Module, [ImportedModsVal])]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#toList"><span class="hs-identifier hs-var">M.toList</span></a></span><span> </span><span class="annot"><span class="annottext">Map Module [ImportedModsVal]
</span><a href="#local-6989586621682990149"><span class="hs-identifier hs-var">imported</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(((Module, [ImportedModsVal])
  -&gt; [(ModuleName, NonEmpty ModuleName)])
 -&gt; [(ModuleName, NonEmpty ModuleName)])
-&gt; ((Module, [ImportedModsVal])
    -&gt; [(ModuleName, NonEmpty ModuleName)])
-&gt; [(ModuleName, NonEmpty ModuleName)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621682990150"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682990150"><span class="hs-identifier hs-var">mdl</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990151"><span class="annot"><span class="annottext">[ImportedModsVal]
</span><a href="#local-6989586621682990151"><span class="hs-identifier hs-var">imvs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-190"></span><span>              </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImportedModsVal -&gt; ModuleName
</span><a href="GHC.Unit.Module.Imported.html#imv_name"><span class="hs-identifier hs-var">imv_name</span></a></span><span> </span><span class="annot"><span class="annottext">ImportedModsVal
</span><a href="#local-6989586621682990153"><span class="hs-identifier hs-var">imv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span><a href="GHC.Unit.Types.html#moduleName"><span class="hs-identifier hs-var">moduleName</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682990150"><span class="hs-identifier hs-var">mdl</span></a></span><span> </span><span class="annot"><span class="annottext">ModuleName -&gt; [ModuleName] -&gt; NonEmpty ModuleName
forall a. a -&gt; [a] -&gt; NonEmpty a
</span><span class="hs-operator hs-var">:|</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682990153"><span class="annot"><span class="annottext">ImportedModsVal
</span><a href="#local-6989586621682990153"><span class="hs-identifier hs-var">imv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ImportedModsVal]
</span><a href="#local-6989586621682990151"><span class="hs-identifier hs-var">imvs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>        </span><span id="local-6989586621682990145"><span class="annot"><span class="annottext">this_mdl_name :: ModuleName
</span><a href="#local-6989586621682990145"><span class="hs-identifier hs-var hs-var">this_mdl_name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module -&gt; ModuleName
forall unit. GenModule unit -&gt; ModuleName
</span><a href="GHC.Unit.Types.html#moduleName"><span class="hs-identifier hs-var">moduleName</span></a></span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682990103"><span class="hs-identifier hs-var">mdl</span></a></span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span>    </span><span id="local-6989586621682990149"><span class="annot"><span class="annottext">imported :: Map Module [ImportedModsVal]
</span><a href="#local-6989586621682990149"><span class="hs-identifier hs-var hs-var">imported</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([ImportedBy] -&gt; [ImportedModsVal])
-&gt; Map Module [ImportedBy] -&gt; Map Module [ImportedModsVal]
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#map"><span class="hs-identifier hs-var">M.map</span></a></span><span> </span><span class="annot"><span class="annottext">[ImportedBy] -&gt; [ImportedModsVal]
</span><a href="GHC.Unit.Module.Imported.html#importedByUser"><span class="hs-identifier hs-var">importedByUser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ImportAvails -&gt; Map Module [ImportedBy]
</span><a href="GHC.Unit.Module.Deps.html#imp_mods"><span class="hs-identifier hs-var">imp_mods</span></a></span><span> </span><span class="annot"><span class="annottext">ImportAvails
</span><a href="#local-6989586621682990104"><span class="hs-identifier hs-var">import_avails</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="hs-comment">-- | Figure out the documentation structure by correlating</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- the module exports with the located declarations.</span><span>
</span><span id="line-198"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#mkDocStructureFromDecls"><span class="hs-identifier hs-type">mkDocStructureFromDecls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ The default method environment</span></span><span>
</span><span id="line-199"></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Avail.html#AvailInfo"><span class="hs-identifier hs-type">AvailInfo</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ All exports, unordered</span></span><span>
</span><span id="line-200"></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-201"></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#DocStructure"><span class="hs-identifier hs-type">DocStructure</span></a></span><span>
</span><span id="line-202"></span><span id="mkDocStructureFromDecls"><span class="annot"><span class="annottext">mkDocStructureFromDecls :: OccEnv Name -&gt; Avails -&gt; HsGroup (GhcPass 'Renamed) -&gt; DocStructure
</span><a href="GHC.HsToCore.Docs.html#mkDocStructureFromDecls"><span class="hs-identifier hs-var hs-var">mkDocStructureFromDecls</span></a></span></span><span> </span><span id="local-6989586621682990157"><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621682990157"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682990158"><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990158"><span class="hs-identifier hs-var">all_exports</span></a></span></span><span> </span><span id="local-6989586621682990159"><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682990159"><span class="hs-identifier hs-var">decls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><span class="annottext">(GenLocated SrcSpan DocStructureItem -&gt; DocStructureItem)
-&gt; [GenLocated SrcSpan DocStructureItem] -&gt; DocStructure
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpan DocStructureItem -&gt; DocStructureItem
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpan DocStructureItem]
-&gt; [GenLocated SrcSpan DocStructureItem]
forall a. [Located a] -&gt; [Located a]
</span><a href="GHC.Types.SrcLoc.html#sortLocated"><span class="hs-identifier hs-var">sortLocated</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpan DocStructureItem]
</span><a href="#local-6989586621682990161"><span class="hs-identifier hs-var">docs</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpan DocStructureItem]
-&gt; [GenLocated SrcSpan DocStructureItem]
-&gt; [GenLocated SrcSpan DocStructureItem]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated SrcSpan DocStructureItem]
</span><a href="#local-6989586621682990162"><span class="hs-identifier hs-var">avails</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-205"></span><span>    </span><span class="annot"><a href="#local-6989586621682990162"><span class="hs-identifier hs-type">avails</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#DocStructureItem"><span class="hs-identifier hs-type">DocStructureItem</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-206"></span><span>    </span><span id="local-6989586621682990162"><span class="annot"><span class="annottext">avails :: [GenLocated SrcSpan DocStructureItem]
</span><a href="#local-6989586621682990162"><span class="hs-identifier hs-var hs-var">avails</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((AvailInfo -&gt; GenLocated SrcSpan DocStructureItem)
 -&gt; Avails -&gt; [GenLocated SrcSpan DocStructureItem])
-&gt; Avails
-&gt; (AvailInfo -&gt; GenLocated SrcSpan DocStructureItem)
-&gt; [GenLocated SrcSpan DocStructureItem]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(AvailInfo -&gt; GenLocated SrcSpan DocStructureItem)
-&gt; Avails -&gt; [GenLocated SrcSpan DocStructureItem]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Avails
</span><a href="#local-6989586621682990158"><span class="hs-identifier hs-var">all_exports</span></a></span><span> </span><span class="annot"><span class="annottext">((AvailInfo -&gt; GenLocated SrcSpan DocStructureItem)
 -&gt; [GenLocated SrcSpan DocStructureItem])
-&gt; (AvailInfo -&gt; GenLocated SrcSpan DocStructureItem)
-&gt; [GenLocated SrcSpan DocStructureItem]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682990163"><span class="annot"><span class="annottext">AvailInfo
</span><a href="#local-6989586621682990163"><span class="hs-identifier hs-var">avail</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-207"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Map Name SrcSpan -&gt; Maybe SrcSpan
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AvailInfo -&gt; Name
</span><a href="GHC.Types.Avail.html#availName"><span class="hs-identifier hs-var">availName</span></a></span><span> </span><span class="annot"><span class="annottext">AvailInfo
</span><a href="#local-6989586621682990163"><span class="hs-identifier hs-var">avail</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map Name SrcSpan
</span><a href="#local-6989586621682990165"><span class="hs-identifier hs-var">name_locs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-208"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682990166"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682990166"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; DocStructureItem -&gt; GenLocated SrcSpan DocStructureItem
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682990166"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DetOrdAvails -&gt; DocStructureItem
</span><a href="GHC.Hs.Doc.html#DsiExports"><span class="hs-identifier hs-var">DsiExports</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Avails -&gt; DetOrdAvails
</span><a href="GHC.Types.Avail.html#sortAvails"><span class="hs-identifier hs-var">sortAvails</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AvailInfo
</span><a href="#local-6989586621682990163"><span class="hs-identifier hs-var">avail</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>        </span><span class="hs-comment">-- FIXME: This is just a workaround that we use when handling e.g.</span><span>
</span><span id="line-210"></span><span>        </span><span class="hs-comment">-- associated data families like in the html-test Instances.hs.</span><span>
</span><span id="line-211"></span><span>        </span><span class="annot"><span class="annottext">Maybe SrcSpan
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DocStructureItem -&gt; GenLocated SrcSpan DocStructureItem
forall e. e -&gt; Located e
</span><a href="GHC.Types.SrcLoc.html#noLoc"><span class="hs-identifier hs-var">noLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DetOrdAvails -&gt; DocStructureItem
</span><a href="GHC.Hs.Doc.html#DsiExports"><span class="hs-identifier hs-var">DsiExports</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Avails -&gt; DetOrdAvails
</span><a href="GHC.Types.Avail.html#sortAvails"><span class="hs-identifier hs-var">sortAvails</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span>        </span><span class="hs-comment">-- This causes the associated data family to be incorrectly documented</span><span>
</span><span id="line-214"></span><span>        </span><span class="hs-comment">-- separately from its class:</span><span>
</span><span id="line-215"></span><span>        </span><span class="hs-comment">-- Nothing -&gt; noLoc (DsiExports [avail])</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span>        </span><span class="hs-comment">-- This panics on the associated data family:</span><span>
</span><span id="line-218"></span><span>        </span><span class="hs-comment">-- Nothing -&gt; panicDoc &quot;mkDocStructureFromDecls: No loc found for&quot;</span><span>
</span><span id="line-219"></span><span>        </span><span class="hs-comment">--                     (ppr avail)</span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span>    </span><span id="local-6989586621682990161"><span class="annot"><span class="annottext">docs :: [GenLocated SrcSpan DocStructureItem]
</span><a href="#local-6989586621682990161"><span class="hs-identifier hs-var hs-var">docs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated (EpAnn AnnListItem) (DocDecl (GhcPass 'Renamed))
 -&gt; Maybe (GenLocated SrcSpan DocStructureItem))
-&gt; [GenLocated (EpAnn AnnListItem) (DocDecl (GhcPass 'Renamed))]
-&gt; [GenLocated SrcSpan DocStructureItem]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">LDocDecl (GhcPass 'Renamed)
-&gt; Maybe (GenLocated SrcSpan DocStructureItem)
GenLocated (EpAnn AnnListItem) (DocDecl (GhcPass 'Renamed))
-&gt; Maybe (GenLocated SrcSpan DocStructureItem)
</span><a href="#local-6989586621682990169"><span class="hs-identifier hs-var">structuralDoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed) -&gt; [LDocDecl (GhcPass 'Renamed)]
forall p. HsGroup p -&gt; [LDocDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_docs"><span class="hs-identifier hs-var">hs_docs</span></a></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682990159"><span class="hs-identifier hs-var">decls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span>    </span><span class="annot"><a href="#local-6989586621682990169"><span class="hs-identifier hs-type">structuralDoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDocDecl"><span class="hs-identifier hs-type">LDocDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-224"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#Located"><span class="hs-identifier hs-type">Located</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#DocStructureItem"><span class="hs-identifier hs-type">DocStructureItem</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>    </span><span id="local-6989586621682990169"><span class="annot"><span class="annottext">structuralDoc :: LDocDecl (GhcPass 'Renamed)
-&gt; Maybe (GenLocated SrcSpan DocStructureItem)
</span><a href="#local-6989586621682990169"><span class="hs-identifier hs-var hs-var">structuralDoc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-226"></span><span>      </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682990171"><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><a href="#local-6989586621682990171"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocCommentNamed"><span class="hs-identifier hs-type">DocCommentNamed</span></a></span><span> </span><span id="local-6989586621682990173"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682990173"><span class="hs-identifier hs-var">_name</span></a></span></span><span> </span><span id="local-6989586621682990174"><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990174"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-227"></span><span>        </span><span class="hs-comment">-- TODO: Is this correct?</span><span>
</span><span id="line-228"></span><span>        </span><span class="hs-comment">-- NB: There is no export list where we could reference the named chunk.</span><span>
</span><span id="line-229"></span><span>        </span><span class="annot"><span class="annottext">GenLocated SrcSpan DocStructureItem
-&gt; Maybe (GenLocated SrcSpan DocStructureItem)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; DocStructureItem -&gt; GenLocated SrcSpan DocStructureItem
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn AnnListItem -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><a href="#local-6989586621682990171"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsDoc (GhcPass 'Renamed) -&gt; DocStructureItem
</span><a href="GHC.Hs.Doc.html#DsiDocChunk"><span class="hs-identifier hs-var">DsiDocChunk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed) -&gt; HsDoc (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990174"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span>      </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682990176"><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><a href="#local-6989586621682990176"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocGroup"><span class="hs-identifier hs-type">DocGroup</span></a></span><span> </span><span id="local-6989586621682990178"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990178"><span class="hs-identifier hs-var">level</span></a></span></span><span> </span><span id="local-6989586621682990179"><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990179"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-232"></span><span>        </span><span class="annot"><span class="annottext">GenLocated SrcSpan DocStructureItem
-&gt; Maybe (GenLocated SrcSpan DocStructureItem)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; DocStructureItem -&gt; GenLocated SrcSpan DocStructureItem
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn AnnListItem -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><a href="#local-6989586621682990176"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; HsDoc (GhcPass 'Renamed) -&gt; DocStructureItem
</span><a href="GHC.Hs.Doc.html#DsiSectionHeading"><span class="hs-identifier hs-var">DsiSectionHeading</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990178"><span class="hs-identifier hs-var">level</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed) -&gt; HsDoc (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990179"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span>      </span><span class="annot"><span class="annottext">LDocDecl (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (GenLocated SrcSpan DocStructureItem)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span>    </span><span id="local-6989586621682990165"><span class="annot"><span class="annottext">name_locs :: Map Name SrcSpan
</span><a href="#local-6989586621682990165"><span class="hs-identifier hs-var hs-var">name_locs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Name, SrcSpan)] -&gt; Map Name SrcSpan
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))
 -&gt; [(Name, SrcSpan)])
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [(Name, SrcSpan)]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))
-&gt; [(Name, SrcSpan)]
</span><a href="#local-6989586621682990181"><span class="hs-identifier hs-var">ldeclNames</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed) -&gt; [LHsDecl (GhcPass 'Renamed)]
</span><a href="GHC.HsToCore.Docs.html#ungroup"><span class="hs-identifier hs-var">ungroup</span></a></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682990159"><span class="hs-identifier hs-var">decls</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>    </span><span id="local-6989586621682990181"><span class="annot"><span class="annottext">ldeclNames :: GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))
-&gt; [(Name, SrcSpan)]
</span><a href="#local-6989586621682990181"><span class="hs-identifier hs-var hs-var">ldeclNames</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682990183"><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><a href="#local-6989586621682990183"><span class="hs-identifier hs-var">loc</span></a></span></span><span> </span><span id="local-6989586621682990184"><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990184"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; [SrcSpan] -&gt; [(Name, SrcSpan)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccEnv Name -&gt; HsDecl (GhcPass 'Renamed) -&gt; [Name]
</span><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621682990157"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990184"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; [SrcSpan]
forall a. a -&gt; [a]
</span><span class="hs-identifier hs-var">repeat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn AnnListItem -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><a href="#local-6989586621682990183"><span class="hs-identifier hs-var">loc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="hs-comment">-- | Extract named documentation chunks from the renamed declarations.</span><span>
</span><span id="line-240"></span><span class="hs-comment">--</span><span>
</span><span id="line-241"></span><span class="hs-comment">-- If there is no explicit export list, we simply return an empty map</span><span>
</span><span id="line-242"></span><span class="hs-comment">-- since there would be no way to link to a named chunk.</span><span>
</span><span id="line-243"></span><span id="local-6989586621682989542"><span class="annot"><a href="GHC.HsToCore.Docs.html#getNamedChunks"><span class="hs-identifier hs-type">getNamedChunks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Do we have an explicit export list?</span></span><span>
</span><span id="line-244"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989542"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989542"><span class="hs-identifier hs-type">pass</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-246"></span><span id="getNamedChunks"><span class="annot"><span class="annottext">getNamedChunks :: forall (pass :: Pass).
Bool -&gt; HsGroup (GhcPass pass) -&gt; Map String (HsDoc (GhcPass pass))
</span><a href="GHC.HsToCore.Docs.html#getNamedChunks"><span class="hs-identifier hs-var hs-var">getNamedChunks</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span id="local-6989586621682990192"><span class="annot"><span class="annottext">HsGroup (GhcPass pass)
</span><a href="#local-6989586621682990192"><span class="hs-identifier hs-var">decls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-247"></span><span>  </span><span class="annot"><span class="annottext">[(String, HsDoc (GhcPass pass))]
-&gt; Map String (HsDoc (GhcPass pass))
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(String, HsDoc (GhcPass pass))]
 -&gt; Map String (HsDoc (GhcPass pass)))
-&gt; [(String, HsDoc (GhcPass pass))]
-&gt; Map String (HsDoc (GhcPass pass))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((DocDecl (GhcPass pass) -&gt; Maybe (String, HsDoc (GhcPass pass)))
 -&gt; [DocDecl (GhcPass pass)] -&gt; [(String, HsDoc (GhcPass pass))])
-&gt; [DocDecl (GhcPass pass)]
-&gt; (DocDecl (GhcPass pass) -&gt; Maybe (String, HsDoc (GhcPass pass)))
-&gt; [(String, HsDoc (GhcPass pass))]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(DocDecl (GhcPass pass) -&gt; Maybe (String, HsDoc (GhcPass pass)))
-&gt; [DocDecl (GhcPass pass)] -&gt; [(String, HsDoc (GhcPass pass))]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (DocDecl (GhcPass pass))
-&gt; DocDecl (GhcPass pass)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated (EpAnn AnnListItem) (DocDecl (GhcPass pass))
 -&gt; DocDecl (GhcPass pass))
-&gt; [GenLocated (EpAnn AnnListItem) (DocDecl (GhcPass pass))]
-&gt; [DocDecl (GhcPass pass)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass pass) -&gt; [LDocDecl (GhcPass pass)]
forall p. HsGroup p -&gt; [LDocDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_docs"><span class="hs-identifier hs-var">hs_docs</span></a></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass pass)
</span><a href="#local-6989586621682990192"><span class="hs-identifier hs-var">decls</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((DocDecl (GhcPass pass) -&gt; Maybe (String, HsDoc (GhcPass pass)))
 -&gt; [(String, HsDoc (GhcPass pass))])
-&gt; (DocDecl (GhcPass pass) -&gt; Maybe (String, HsDoc (GhcPass pass)))
-&gt; [(String, HsDoc (GhcPass pass))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocCommentNamed"><span class="hs-identifier hs-type">DocCommentNamed</span></a></span><span> </span><span id="local-6989586621682990193"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682990193"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621682990194"><span class="annot"><span class="annottext">LHsDoc (GhcPass pass)
</span><a href="#local-6989586621682990194"><span class="hs-identifier hs-var">doc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String, HsDoc (GhcPass pass))
-&gt; Maybe (String, HsDoc (GhcPass pass))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682990193"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsDoc (GhcPass pass) -&gt; HsDoc (GhcPass pass)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDoc (GhcPass pass)
</span><a href="#local-6989586621682990194"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span>    </span><span class="annot"><span class="annottext">DocDecl (GhcPass pass)
</span><span class="hs-identifier">_</span></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (String, HsDoc (GhcPass pass))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-250"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#getNamedChunks"><span class="hs-identifier hs-var">getNamedChunks</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass pass)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map String (HsDoc (GhcPass pass))
forall k a. Map k a
</span><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">M.empty</span></a></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="hs-comment">-- | Create decl and arg doc-maps by looping through the declarations.</span><span>
</span><span id="line-253"></span><span class="hs-comment">-- For each declaration, find its names, its subordinates, and its doc strings.</span><span>
</span><span id="line-254"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#mkMaps"><span class="hs-identifier hs-type">mkMaps</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-255"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-256"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-257"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-258"></span><span id="mkMaps"><span class="annot"><span class="annottext">mkMaps :: OccEnv Name
-&gt; [Name]
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
-&gt; (UniqMap Name [HsDoc (GhcPass 'Renamed)],
    UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed))))
</span><a href="GHC.HsToCore.Docs.html#mkMaps"><span class="hs-identifier hs-var hs-var">mkMaps</span></a></span></span><span> </span><span id="local-6989586621682990196"><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621682990196"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682990197"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682990197"><span class="hs-identifier hs-var">instances</span></a></span></span><span> </span><span id="local-6989586621682990198"><span class="annot"><span class="annottext">[(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
</span><a href="#local-6989586621682990198"><span class="hs-identifier hs-var">decls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">([HsDoc (GhcPass 'Renamed)]
 -&gt; [HsDoc (GhcPass 'Renamed)] -&gt; [HsDoc (GhcPass 'Renamed)])
-&gt; [[(Name, [HsDoc (GhcPass 'Renamed)])]]
-&gt; UniqMap Name [HsDoc (GhcPass 'Renamed)]
forall {k} {t :: * -&gt; *} {a}.
(Uniquable k, Foldable t) =&gt;
(a -&gt; a -&gt; a) -&gt; t [(k, a)] -&gt; UniqMap k a
</span><a href="#local-6989586621682990199"><span class="hs-identifier hs-var">listsToMapWith</span></a></span><span> </span><span class="annot"><span class="annottext">[HsDoc (GhcPass 'Renamed)]
-&gt; [HsDoc (GhcPass 'Renamed)] -&gt; [HsDoc (GhcPass 'Renamed)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">(++)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([(Name, [HsDoc (GhcPass 'Renamed)])]
 -&gt; [(Name, [HsDoc (GhcPass 'Renamed)])])
-&gt; [[(Name, [HsDoc (GhcPass 'Renamed)])]]
-&gt; [[(Name, [HsDoc (GhcPass 'Renamed)])]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Name, [HsDoc (GhcPass 'Renamed)]) -&gt; Name)
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)])]
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)])]
forall a. (a -&gt; Name) -&gt; [a] -&gt; [a]
</span><a href="GHC.HsToCore.Docs.html#nubByName"><span class="hs-identifier hs-var">nubByName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name, [HsDoc (GhcPass 'Renamed)]) -&gt; Name
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[[(Name, [HsDoc (GhcPass 'Renamed)])]]
</span><a href="#local-6989586621682990201"><span class="hs-identifier hs-var">decls'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(IntMap (HsDoc (GhcPass 'Renamed))
 -&gt; IntMap (HsDoc (GhcPass 'Renamed))
 -&gt; IntMap (HsDoc (GhcPass 'Renamed)))
-&gt; [[(Name, IntMap (HsDoc (GhcPass 'Renamed)))]]
-&gt; UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
forall {k} {t :: * -&gt; *} {a}.
(Uniquable k, Foldable t) =&gt;
(a -&gt; a -&gt; a) -&gt; t [(k, a)] -&gt; UniqMap k a
</span><a href="#local-6989586621682990199"><span class="hs-identifier hs-var">listsToMapWith</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap (HsDoc (GhcPass 'Renamed))
-&gt; IntMap (HsDoc (GhcPass 'Renamed))
-&gt; IntMap (HsDoc (GhcPass 'Renamed))
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(IntMap (HsDoc (GhcPass 'Renamed)) -&gt; Bool)
-&gt; [[(Name, IntMap (HsDoc (GhcPass 'Renamed)))]]
-&gt; [[(Name, IntMap (HsDoc (GhcPass 'Renamed)))]]
forall b a. (b -&gt; Bool) -&gt; [[(a, b)]] -&gt; [[(a, b)]]
</span><a href="#local-6989586621682990202"><span class="hs-identifier hs-var">filterMapping</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool)
-&gt; (IntMap (HsDoc (GhcPass 'Renamed)) -&gt; Bool)
-&gt; IntMap (HsDoc (GhcPass 'Renamed))
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IntMap (HsDoc (GhcPass 'Renamed)) -&gt; Bool
forall a. IntMap a -&gt; Bool
</span><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#null"><span class="hs-identifier hs-var">IM.null</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[[(Name, IntMap (HsDoc (GhcPass 'Renamed)))]]
</span><a href="#local-6989586621682990205"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621682990201"><span class="annot"><span class="annottext">[[(Name, [HsDoc (GhcPass 'Renamed)])]]
</span><a href="#local-6989586621682990201"><span class="hs-identifier hs-var">decls'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990205"><span class="annot"><span class="annottext">[[(Name, IntMap (HsDoc (GhcPass 'Renamed)))]]
</span><a href="#local-6989586621682990205"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[([(Name, [HsDoc (GhcPass 'Renamed)])],
  [(Name, IntMap (HsDoc (GhcPass 'Renamed)))])]
-&gt; ([[(Name, [HsDoc (GhcPass 'Renamed)])]],
    [[(Name, IntMap (HsDoc (GhcPass 'Renamed)))]])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><span class="hs-identifier hs-var">unzip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed)),
  [HsDoc (GhcPass 'Renamed)])
 -&gt; ([(Name, [HsDoc (GhcPass 'Renamed)])],
     [(Name, IntMap (HsDoc (GhcPass 'Renamed)))]))
-&gt; [(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed)),
     [HsDoc (GhcPass 'Renamed)])]
-&gt; [([(Name, [HsDoc (GhcPass 'Renamed)])],
     [(Name, IntMap (HsDoc (GhcPass 'Renamed)))])]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])
-&gt; ([(Name, [HsDoc (GhcPass 'Renamed)])],
    [(Name, IntMap (HsDoc (GhcPass 'Renamed)))])
(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed)),
 [HsDoc (GhcPass 'Renamed)])
-&gt; ([(Name, [HsDoc (GhcPass 'Renamed)])],
    [(Name, IntMap (HsDoc (GhcPass 'Renamed)))])
</span><a href="#local-6989586621682990207"><span class="hs-identifier hs-var">mappings</span></a></span><span> </span><span class="annot"><span class="annottext">[(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
[(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed)),
  [HsDoc (GhcPass 'Renamed)])]
</span><a href="#local-6989586621682990198"><span class="hs-identifier hs-var">decls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span>    </span><span id="local-6989586621682990199"><span class="annot"><span class="annottext">listsToMapWith :: (a -&gt; a -&gt; a) -&gt; t [(k, a)] -&gt; UniqMap k a
</span><a href="#local-6989586621682990199"><span class="hs-identifier hs-var hs-var">listsToMapWith</span></a></span></span><span> </span><span id="local-6989586621682990212"><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621682990212"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; UniqMap k a
forall k a. Uniquable k =&gt; (a -&gt; a -&gt; a) -&gt; [(k, a)] -&gt; UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#listToUniqMap_C"><span class="hs-identifier hs-var">listToUniqMap_C</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
</span><a href="#local-6989586621682990212"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([(k, a)] -&gt; UniqMap k a)
-&gt; (t [(k, a)] -&gt; [(k, a)]) -&gt; t [(k, a)] -&gt; UniqMap k a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">t [(k, a)] -&gt; [(k, a)]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span>    </span><span id="local-6989586621682989629"><span id="local-6989586621682989630"><span class="annot"><a href="#local-6989586621682990202"><span class="hs-identifier hs-type">filterMapping</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682989629"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682989630"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682989629"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682989630"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682989629"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">]</span></span></span><span>
</span><span id="line-268"></span><span>    </span><span id="local-6989586621682990202"><span class="annot"><span class="annottext">filterMapping :: forall b a. (b -&gt; Bool) -&gt; [[(a, b)]] -&gt; [[(a, b)]]
</span><a href="#local-6989586621682990202"><span class="hs-identifier hs-var hs-var">filterMapping</span></a></span></span><span> </span><span id="local-6989586621682990215"><span class="annot"><span class="annottext">b -&gt; Bool
</span><a href="#local-6989586621682990215"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([(a, b)] -&gt; [(a, b)]) -&gt; [[(a, b)]] -&gt; [[(a, b)]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((a, b) -&gt; Bool) -&gt; [(a, b)] -&gt; [(a, b)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Bool
</span><a href="#local-6989586621682990215"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Bool) -&gt; ((a, b) -&gt; b) -&gt; (a, b) -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a, b) -&gt; b
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span>    </span><span class="annot"><a href="#local-6989586621682990207"><span class="hs-identifier hs-type">mappings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-272"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-273"></span><span>                </span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>    </span><span id="local-6989586621682990207"><span class="annot"><span class="annottext">mappings :: (LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])
-&gt; ([(Name, [HsDoc (GhcPass 'Renamed)])],
    [(Name, IntMap (HsDoc (GhcPass 'Renamed)))])
</span><a href="#local-6989586621682990207"><span class="hs-identifier hs-var hs-var">mappings</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#EpaSpan"><span class="hs-identifier hs-type">EpaSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span id="local-6989586621682990220"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621682990220"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnnListItem
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682990221"><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990221"><span class="hs-identifier hs-var">decl</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990222"><span class="annot"><span class="annottext">[HsDoc (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990222"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-275"></span><span>           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Name, [HsDoc (GhcPass 'Renamed)])]
</span><a href="#local-6989586621682990223"><span class="hs-identifier hs-var">dm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[(Name, IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990224"><span class="hs-identifier hs-var">am</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-277"></span><span>        </span><span id="local-6989586621682990225"><span class="annot"><span class="annottext">args :: IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990225"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#declTypeDocs"><span class="hs-identifier hs-var">declTypeDocs</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990221"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span>        </span><span class="annot"><a href="#local-6989586621682990227"><span class="hs-identifier hs-type">subs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-280"></span><span>        </span><span id="local-6989586621682990227"><span class="annot"><span class="annottext">subs :: [(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990227"><span class="hs-identifier hs-var hs-var">subs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccEnv Name
-&gt; Map RealSrcSpan Name
-&gt; HsDecl (GhcPass 'Renamed)
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)],
     IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="GHC.HsToCore.Docs.html#subordinates"><span class="hs-identifier hs-var">subordinates</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621682990196"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Map RealSrcSpan Name
</span><a href="#local-6989586621682990229"><span class="hs-identifier hs-var">instanceMap</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990221"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621682990230"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682990230"><span class="hs-identifier hs-var">subNs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990231"><span class="annot"><span class="annottext">[[HsDoc (GhcPass 'Renamed)]]
</span><a href="#local-6989586621682990231"><span class="hs-identifier hs-var">subDocs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990232"><span class="annot"><span class="annottext">[IntMap (HsDoc (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990232"><span class="hs-identifier hs-var">subArgs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-283"></span><span>          </span><span class="annot"><span class="annottext">[(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
-&gt; ([Name], [[HsDoc (GhcPass 'Renamed)]],
    [IntMap (HsDoc (GhcPass 'Renamed))])
forall a b c. [(a, b, c)] -&gt; ([a], [b], [c])
</span><span class="hs-identifier hs-var">unzip3</span></span><span> </span><span class="annot"><span class="annottext">[(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990227"><span class="hs-identifier hs-var">subs</span></a></span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span>        </span><span id="local-6989586621682990234"><span class="annot"><span class="annottext">ns :: [Name]
</span><a href="#local-6989586621682990234"><span class="hs-identifier hs-var hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; HsDecl (GhcPass 'Renamed) -&gt; [Name]
</span><a href="#local-6989586621682990235"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621682990220"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990221"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-286"></span><span>        </span><span id="local-6989586621682990223"><span class="annot"><span class="annottext">dm :: [(Name, [HsDoc (GhcPass 'Renamed)])]
</span><a href="#local-6989586621682990223"><span class="hs-identifier hs-var hs-var">dm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990236"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[HsDoc (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990237"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682990236"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990236"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990237"><span class="annot"><span class="annottext">[HsDoc (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990237"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name]
-&gt; [[HsDoc (GhcPass 'Renamed)]]
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)])]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682990234"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[HsDoc (GhcPass 'Renamed)] -&gt; [[HsDoc (GhcPass 'Renamed)]]
forall a. a -&gt; [a]
</span><span class="hs-identifier hs-var">repeat</span></span><span> </span><span class="annot"><span class="annottext">[HsDoc (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990222"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Name, [HsDoc (GhcPass 'Renamed)])]
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)])]
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)])]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Name]
-&gt; [[HsDoc (GhcPass 'Renamed)]]
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)])]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682990230"><span class="hs-identifier hs-var">subNs</span></a></span><span> </span><span class="annot"><span class="annottext">[[HsDoc (GhcPass 'Renamed)]]
</span><a href="#local-6989586621682990231"><span class="hs-identifier hs-var">subDocs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(HsDoc (GhcPass 'Renamed) -&gt; Bool)
-&gt; [HsDoc (GhcPass 'Renamed)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsDocString -&gt; Bool
</span><a href="GHC.Hs.DocString.html#isEmptyDocString"><span class="hs-identifier hs-var">isEmptyDocString</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDocString -&gt; Bool)
-&gt; (HsDoc (GhcPass 'Renamed) -&gt; HsDocString)
-&gt; HsDoc (GhcPass 'Renamed)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HsDoc (GhcPass 'Renamed) -&gt; HsDocString
forall a pass. WithHsDocIdentifiers a pass -&gt; a
</span><a href="GHC.Hs.Doc.html#hsDocString"><span class="hs-identifier hs-var">hsDocString</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[HsDoc (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990237"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-287"></span><span>        </span><span id="local-6989586621682990224"><span class="annot"><span class="annottext">am :: [(Name, IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990224"><span class="hs-identifier hs-var hs-var">am</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990241"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990225"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682990241"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990241"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682990234"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[(Name, IntMap (HsDoc (GhcPass 'Renamed)))]
-&gt; [(Name, IntMap (HsDoc (GhcPass 'Renamed)))]
-&gt; [(Name, IntMap (HsDoc (GhcPass 'Renamed)))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Name]
-&gt; [IntMap (HsDoc (GhcPass 'Renamed))]
-&gt; [(Name, IntMap (HsDoc (GhcPass 'Renamed)))]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682990230"><span class="hs-identifier hs-var">subNs</span></a></span><span> </span><span class="annot"><span class="annottext">[IntMap (HsDoc (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990232"><span class="hs-identifier hs-var">subArgs</span></a></span><span>
</span><span id="line-288"></span><span>    </span><span class="annot"><a href="#local-6989586621682990207"><span class="hs-identifier hs-var">mappings</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#EpAnn"><span class="hs-identifier hs-type">EpAnn</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation' [LEpaComment]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">AnnListItem
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">EpAnnComments
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[HsDoc (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span>    </span><span class="annot"><a href="#local-6989586621682990229"><span class="hs-identifier hs-type">instanceMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-291"></span><span>    </span><span id="local-6989586621682990229"><span class="annot"><span class="annottext">instanceMap :: Map RealSrcSpan Name
</span><a href="#local-6989586621682990229"><span class="hs-identifier hs-var hs-var">instanceMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(RealSrcSpan, Name)] -&gt; Map RealSrcSpan Name
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#fromList"><span class="hs-identifier hs-var">M.fromList</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621682990242"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990243"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682990243"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990243"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621682990197"><span class="hs-identifier hs-var">instances</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span id="local-6989586621682990242"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621682990242"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name -&gt; SrcSpan
forall a. NamedThing a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Types.Name.html#getSrcSpan"><span class="hs-identifier hs-var">getSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990243"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span>    </span><span class="annot"><a href="#local-6989586621682990235"><span class="hs-identifier hs-type">names</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-294"></span><span>    </span><span id="local-6989586621682990235"><span class="annot"><span class="annottext">names :: RealSrcSpan -&gt; HsDecl (GhcPass 'Renamed) -&gt; [Name]
</span><a href="#local-6989586621682990235"><span class="hs-identifier hs-var hs-var">names</span></a></span></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-type">InstD</span></a></span><span> </span><span class="annot"><span class="annottext">XInstD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990246"><span class="annot"><span class="annottext">InstDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990246"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; [Name]
forall a. Maybe a -&gt; [a]
</span><span class="hs-identifier hs-var">maybeToList</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Name -&gt; [Name]) -&gt; Maybe Name -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; Map RealSrcSpan Name -&gt; Maybe Name
forall a. SrcSpan -&gt; Map RealSrcSpan a -&gt; Maybe a
</span><a href="GHC.Types.SrcLoc.html#lookupSrcSpan"><span class="hs-identifier hs-var">lookupSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InstDecl (GhcPass 'Renamed) -&gt; SrcSpan
forall (p :: Pass).
(Anno (IdGhcP p) ~ SrcSpanAnnN) =&gt;
InstDecl (GhcPass p) -&gt; SrcSpan
</span><a href="GHC.HsToCore.Docs.html#getInstLoc"><span class="hs-identifier hs-var">getInstLoc</span></a></span><span> </span><span class="annot"><span class="annottext">InstDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990246"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map RealSrcSpan Name
</span><a href="#local-6989586621682990229"><span class="hs-identifier hs-var">instanceMap</span></a></span><span>
</span><span id="line-295"></span><span>    </span><span class="annot"><a href="#local-6989586621682990235"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span id="local-6989586621682990250"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621682990250"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DerivD"><span class="hs-identifier hs-type">DerivD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; [Name]
forall a. Maybe a -&gt; [a]
</span><span class="hs-identifier hs-var">maybeToList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Map RealSrcSpan Name -&gt; Maybe Name
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">M.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621682990250"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Map RealSrcSpan Name
</span><a href="#local-6989586621682990229"><span class="hs-identifier hs-var">instanceMap</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- See Note [1].</span><span>
</span><span id="line-296"></span><span>    </span><span class="annot"><a href="#local-6989586621682990235"><span class="hs-identifier hs-var">names</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990252"><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990252"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccEnv Name -&gt; HsDecl (GhcPass 'Renamed) -&gt; [Name]
</span><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621682990196"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990252"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span class="hs-comment">{-
Note [1]
~~~~~~~~
We relate ClsInsts to InstDecls and DerivDecls using the SrcSpans buried
inside them. That should work for normal user-written instances (from
looking at GHC sources). We can assume that commented instances are
user-written. This lets us relate Names (from ClsInsts) to comments
(associated with InstDecls and DerivDecls).
-}</span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-type">getMainDeclBinder</span></a></span><span>
</span><span id="line-309"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Default method environment for this module. See Note [default method Name] in GHC.Iface.Recomp</span></span><span>
</span><span id="line-310"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-311"></span><span id="getMainDeclBinder"><span class="annot"><span class="annottext">getMainDeclBinder :: OccEnv Name -&gt; HsDecl (GhcPass 'Renamed) -&gt; [Name]
</span><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var hs-var">getMainDeclBinder</span></a></span></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyClD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990254"><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990254"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed) -&gt; IdP (GhcPass 'Renamed)
forall (p :: Pass).
(Anno (IdGhcP p) ~ SrcSpanAnnN) =&gt;
TyClDecl (GhcPass p) -&gt; IdP (GhcPass p)
</span><a href="GHC.Hs.Decls.html#tcdName"><span class="hs-identifier hs-var">tcdName</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990254"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-312"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990257"><span class="annot"><span class="annottext">HsBind (GhcPass 'Renamed)
</span><a href="#local-6989586621682990257"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-313"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CollectFlag (GhcPass 'Renamed)
-&gt; HsBind (GhcPass 'Renamed) -&gt; [IdP (GhcPass 'Renamed)]
forall p idR.
CollectPass p =&gt;
CollectFlag p -&gt; HsBindLR p idR -&gt; [IdP p]
</span><a href="GHC.Hs.Utils.html#collectHsBindBinders"><span class="hs-identifier hs-var">collectHsBindBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag (GhcPass 'Renamed)
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">HsBind (GhcPass 'Renamed)
</span><a href="#local-6989586621682990257"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">]</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621682990260"><span class="annot"><span class="annottext">IdP (GhcPass 'Renamed)
</span><a href="#local-6989586621682990260"><span class="hs-identifier hs-var">name</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[IdP (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">IdP (GhcPass 'Renamed)
Name
</span><a href="#local-6989586621682990260"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-316"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span id="local-6989586621682990261"><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621682990261"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">SigD</span></a></span><span> </span><span class="annot"><span class="annottext">XSigD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990263"><span class="annot"><span class="annottext">Sig (GhcPass 'Renamed)
</span><a href="#local-6989586621682990263"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OccEnv (IdP (GhcPass 'Renamed))
-&gt; Sig (GhcPass 'Renamed) -&gt; [IdP (GhcPass 'Renamed)]
forall a.
(UnXRec a, HasOccName (IdP a)) =&gt;
OccEnv (IdP a) -&gt; Sig a -&gt; [IdP a]
</span><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv (IdP (GhcPass 'Renamed))
OccEnv Name
</span><a href="#local-6989586621682990261"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Sig (GhcPass 'Renamed)
</span><a href="#local-6989586621682990263"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-317"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-type">ForD</span></a></span><span> </span><span class="annot"><span class="annottext">XForD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a></span><span> </span><span class="annot"><span class="annottext">XForeignImport (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990267"><span class="annot"><span class="annottext">LIdP (GhcPass 'Renamed)
</span><a href="#local-6989586621682990267"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ForeignImport (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP (GhcPass 'Renamed)
GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621682990267"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-318"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-type">ForD</span></a></span><span> </span><span class="annot"><span class="annottext">XForD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignExport"><span class="hs-identifier hs-type">ForeignExport</span></a></span><span> </span><span class="annot"><span class="annottext">XForeignExport (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LIdP (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ForeignExport (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-319"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span class="hs-comment">-- | The &quot;OccEnv Name&quot; is the default method environment for this module</span><span>
</span><span id="line-323"></span><span class="hs-comment">-- Ultimately, the a special &quot;defaultMethodOcc&quot; name is used for</span><span>
</span><span id="line-324"></span><span class="hs-comment">-- the signatures on bindings for default methods. Unfortunately, this</span><span>
</span><span id="line-325"></span><span class="hs-comment">-- name isn't generated until typechecking, so it is not in the renamed AST.</span><span>
</span><span id="line-326"></span><span class="hs-comment">-- We have to look it up from the 'OccEnv' parameter constructed from the typechecked</span><span>
</span><span id="line-327"></span><span class="hs-comment">-- AST.</span><span>
</span><span id="line-328"></span><span class="hs-comment">-- See also Note [default method Name] in GHC.Iface.Recomp</span><span>
</span><span id="line-329"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-type">sigNameNoLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682989674"><span class="annot"><a href="#local-6989586621682989674"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#UnXRec"><span class="hs-identifier hs-type">UnXRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989674"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#HasOccName"><span class="hs-identifier hs-type">HasOccName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989674"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989674"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#Sig"><span class="hs-identifier hs-type">Sig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989674"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#IdP"><span class="hs-identifier hs-type">IdP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989674"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-330"></span><span id="sigNameNoLoc"><span class="annot"><span class="annottext">sigNameNoLoc :: forall a.
(UnXRec a, HasOccName (IdP a)) =&gt;
OccEnv (IdP a) -&gt; Sig a -&gt; [IdP a]
</span><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var hs-var">sigNameNoLoc</span></a></span></span><span> </span><span class="annot"><span class="annottext">OccEnv (IdP a)
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span>    </span><span class="annot"><span class="annottext">XTypeSig a
</span><span class="hs-identifier">_</span></span><span>   </span><span id="local-6989586621682990280"><span class="annot"><span class="annottext">[LIdP a]
</span><a href="#local-6989586621682990280"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsSigWcType a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LIdP a -&gt; IdP a) -&gt; [LIdP a] -&gt; [IdP a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621682989674"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP a]
</span><a href="#local-6989586621682990280"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-331"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv (IdP a)
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="annot"><span class="annottext">XClassOpSig a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span id="local-6989586621682990283"><span class="annot"><span class="annottext">[LIdP a]
</span><a href="#local-6989586621682990283"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsSigType a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LIdP a -&gt; IdP a) -&gt; [LIdP a] -&gt; [IdP a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621682989674"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP a]
</span><a href="#local-6989586621682990283"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-332"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span id="local-6989586621682990284"><span class="annot"><span class="annottext">OccEnv (IdP a)
</span><a href="#local-6989586621682990284"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="annot"><span class="annottext">XClassOpSig a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span id="local-6989586621682990285"><span class="annot"><span class="annottext">[LIdP a]
</span><a href="#local-6989586621682990285"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsSigType a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IdP a -&gt; Maybe (IdP a)) -&gt; [IdP a] -&gt; [IdP a]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OccEnv (IdP a) -&gt; OccName -&gt; Maybe (IdP a)
forall a. OccEnv a -&gt; OccName -&gt; Maybe a
</span><a href="GHC.Types.Name.Occurrence.html#lookupOccEnv"><span class="hs-identifier hs-var">lookupOccEnv</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv (IdP a)
</span><a href="#local-6989586621682990284"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; Maybe (IdP a))
-&gt; (IdP a -&gt; OccName) -&gt; IdP a -&gt; Maybe (IdP a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">OccName -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#mkDefaultMethodOcc"><span class="hs-identifier hs-var">mkDefaultMethodOcc</span></a></span><span> </span><span class="annot"><span class="annottext">(OccName -&gt; OccName) -&gt; (IdP a -&gt; OccName) -&gt; IdP a -&gt; OccName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IdP a -&gt; OccName
forall name. HasOccName name =&gt; name -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#occName"><span class="hs-identifier hs-var">occName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([IdP a] -&gt; [IdP a]) -&gt; [IdP a] -&gt; [IdP a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(LIdP a -&gt; IdP a) -&gt; [LIdP a] -&gt; [IdP a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621682989674"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP a]
</span><a href="#local-6989586621682990285"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-333"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv (IdP a)
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span>  </span><span class="annot"><span class="annottext">XPatSynSig a
</span><span class="hs-identifier">_</span></span><span>   </span><span id="local-6989586621682990290"><span class="annot"><span class="annottext">[LIdP a]
</span><a href="#local-6989586621682990290"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">LHsSigType a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LIdP a -&gt; IdP a) -&gt; [LIdP a] -&gt; [IdP a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621682989674"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP a]
</span><a href="#local-6989586621682990290"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-334"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv (IdP a)
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#SpecSig"><span class="hs-identifier hs-type">SpecSig</span></a></span><span>    </span><span class="annot"><span class="annottext">XSpecSig a
</span><span class="hs-identifier">_</span></span><span>   </span><span id="local-6989586621682990292"><span class="annot"><span class="annottext">LIdP a
</span><a href="#local-6989586621682990292"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">[LHsSigType a]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">InlinePragma
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621682989674"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP a
</span><a href="#local-6989586621682990292"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-335"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv (IdP a)
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#InlineSig"><span class="hs-identifier hs-type">InlineSig</span></a></span><span>  </span><span class="annot"><span class="annottext">XInlineSig a
</span><span class="hs-identifier">_</span></span><span>   </span><span id="local-6989586621682990294"><span class="annot"><span class="annottext">LIdP a
</span><a href="#local-6989586621682990294"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">InlinePragma
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621682989674"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP a
</span><a href="#local-6989586621682990294"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-336"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv (IdP a)
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixSig"><span class="hs-identifier hs-type">FixSig</span></a></span><span> </span><span class="annot"><span class="annottext">XFixSig a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FixitySig"><span class="hs-identifier hs-type">FixitySig</span></a></span><span> </span><span class="annot"><span class="annottext">XFixitySig a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990297"><span class="annot"><span class="annottext">[LIdP a]
</span><a href="#local-6989586621682990297"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LIdP a -&gt; IdP a) -&gt; [LIdP a] -&gt; [IdP a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621682989674"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIdP a]
</span><a href="#local-6989586621682990297"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-337"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigNameNoLoc"><span class="hs-identifier hs-var">sigNameNoLoc</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv (IdP a)
</span><span class="hs-identifier">_</span></span><span>   </span><span class="annot"><span class="annottext">Sig a
</span><span class="hs-identifier">_</span></span><span>                             </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="hs-comment">-- Extract the source location where an instance is defined. This is used</span><span>
</span><span id="line-340"></span><span class="hs-comment">-- to correlate InstDecls with their Instance/CoAxiom Names, via the</span><span>
</span><span id="line-341"></span><span class="hs-comment">-- instanceMap.</span><span>
</span><span id="line-342"></span><span id="local-6989586621682989661"><span class="annot"><a href="GHC.HsToCore.Docs.html#getInstLoc"><span class="hs-identifier hs-type">getInstLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#Anno"><span class="hs-identifier hs-type">Anno</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#IdGhcP"><span class="hs-identifier hs-type">IdGhcP</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989661"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">~</span></span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#SrcSpanAnnN"><span class="hs-identifier hs-type">SrcSpanAnnN</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstDecl"><span class="hs-identifier hs-type">InstDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989661"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span></span><span>
</span><span id="line-343"></span><span id="getInstLoc"><span class="annot"><span class="annottext">getInstLoc :: forall (p :: Pass).
(Anno (IdGhcP p) ~ SrcSpanAnnN) =&gt;
InstDecl (GhcPass p) -&gt; SrcSpan
</span><a href="GHC.HsToCore.Docs.html#getInstLoc"><span class="hs-identifier hs-var hs-var">getInstLoc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-344"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClsInstD"><span class="hs-identifier hs-type">ClsInstD</span></a></span><span> </span><span class="annot"><span class="annottext">XClsInstD (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClsInstDecl"><span class="hs-identifier hs-type">ClsInstDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">cid_poly_ty :: forall pass. ClsInstDecl pass -&gt; LHsSigType pass
</span><a href="Language.Haskell.Syntax.Decls.html#cid_poly_ty"><span class="hs-identifier hs-var">cid_poly_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990306"><span class="annot"><span class="annottext">LHsSigType (GhcPass p)
</span><a href="#local-6989586621682990306"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (HsSigType (GhcPass p)) -&gt; SrcSpan
forall a e. HasLoc a =&gt; GenLocated a e -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#getLocA"><span class="hs-identifier hs-var">getLocA</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass p)
GenLocated (EpAnn AnnListItem) (HsSigType (GhcPass p))
</span><a href="#local-6989586621682990306"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-comment">-- The Names of data and type family instances have their SrcSpan's attached</span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-comment">-- to the *type constructor*. For example, the Name &quot;D:R:Foo:Int&quot; would have</span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-comment">-- its SrcSpan attached here:</span><span>
</span><span id="line-348"></span><span>  </span><span class="hs-comment">--   type family Foo a</span><span>
</span><span id="line-349"></span><span>  </span><span class="hs-comment">--   type instance Foo Int = Bool</span><span>
</span><span id="line-350"></span><span>  </span><span class="hs-comment">--                 ^^^</span><span>
</span><span id="line-351"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstD"><span class="hs-identifier hs-type">DataFamInstD</span></a></span><span> </span><span class="annot"><span class="annottext">XDataFamInstD (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a></span><span>
</span><span id="line-352"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dfid_eqn :: forall pass. DataFamInstDecl pass -&gt; FamEqn pass (HsDataDefn pass)
</span><a href="Language.Haskell.Syntax.Decls.html#dfid_eqn"><span class="hs-identifier hs-var">dfid_eqn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">feqn_tycon :: forall pass rhs. FamEqn pass rhs -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682990313"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621682990313"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">IdGhcP p
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621682990313"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-353"></span><span>  </span><span class="hs-comment">-- Since CoAxioms' Names refer to the whole line for type family instances</span><span>
</span><span id="line-354"></span><span>  </span><span class="hs-comment">-- in particular, we need to dig a bit deeper to pull out the entire</span><span>
</span><span id="line-355"></span><span>  </span><span class="hs-comment">-- equation. This does not happen for data family instances, for some reason.</span><span>
</span><span id="line-356"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamInstD"><span class="hs-identifier hs-type">TyFamInstD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyFamInstD (GhcPass p)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamInstDecl"><span class="hs-identifier hs-type">TyFamInstDecl</span></a></span><span>
</span><span id="line-357"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tfid_eqn :: forall pass. TyFamInstDecl pass -&gt; TyFamInstEqn pass
</span><a href="Language.Haskell.Syntax.Decls.html#tfid_eqn"><span class="hs-identifier hs-var">tfid_eqn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">feqn_tycon :: forall pass rhs. FamEqn pass rhs -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682990317"><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621682990317"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">IdGhcP p
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><a href="#local-6989586621682990317"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="hs-comment">-- | Get all subordinate declarations inside a declaration, and their docs.</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- A subordinate declaration is something like the associate type or data</span><span>
</span><span id="line-361"></span><span class="hs-comment">-- family of a type class.</span><span>
</span><span id="line-362"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#subordinates"><span class="hs-identifier hs-type">subordinates</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ The default method environment</span></span><span>
</span><span id="line-363"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-364"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-365"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-366"></span><span id="subordinates"><span class="annot"><span class="annottext">subordinates :: OccEnv Name
-&gt; Map RealSrcSpan Name
-&gt; HsDecl (GhcPass 'Renamed)
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)],
     IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="GHC.HsToCore.Docs.html#subordinates"><span class="hs-identifier hs-var hs-var">subordinates</span></a></span></span><span> </span><span id="local-6989586621682990318"><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621682990318"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682990319"><span class="annot"><span class="annottext">Map RealSrcSpan Name
</span><a href="#local-6989586621682990319"><span class="hs-identifier hs-var">instMap</span></a></span></span><span> </span><span id="local-6989586621682990320"><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990320"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990320"><span class="hs-identifier hs-var">decl</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-367"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-type">InstD</span></a></span><span> </span><span class="annot"><span class="annottext">XInstD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClsInstD"><span class="hs-identifier hs-type">ClsInstD</span></a></span><span> </span><span class="annot"><span class="annottext">XClsInstD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990321"><span class="annot"><span class="annottext">ClsInstDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990321"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span>
</span><span id="line-368"></span><span>    </span><span id="local-6989586621682990322"><span class="annot"><span class="annottext">data_fams :: [(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990322"><span class="hs-identifier hs-var hs-var">data_fams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-369"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#dfid_eqn"><span class="hs-identifier hs-var">dfid_eqn</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-370"></span><span>        </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682990323"><span class="annot"><a href="#local-6989586621682990323"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span>
</span><span id="line-371"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990325"><span class="annot"><a href="#local-6989586621682990325"><span class="hs-identifier hs-var">defn</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (DataFamInstDecl (GhcPass 'Renamed))
-&gt; DataFamInstDecl (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated
   (EpAnn AnnListItem) (DataFamInstDecl (GhcPass 'Renamed))
 -&gt; DataFamInstDecl (GhcPass 'Renamed))
-&gt; [GenLocated
      (EpAnn AnnListItem) (DataFamInstDecl (GhcPass 'Renamed))]
-&gt; [DataFamInstDecl (GhcPass 'Renamed)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ClsInstDecl (GhcPass 'Renamed)
-&gt; [LDataFamInstDecl (GhcPass 'Renamed)]
forall pass. ClsInstDecl pass -&gt; [LDataFamInstDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#cid_datafam_insts"><span class="hs-identifier hs-var">cid_datafam_insts</span></a></span><span> </span><span class="annot"><span class="annottext">ClsInstDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990321"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-372"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682990327"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#empty"><span class="hs-identifier hs-type">IM.empty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682990327"><span class="annot"><a href="#local-6989586621682990327"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#lookupSrcSpan"><span class="hs-identifier hs-type">lookupSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682990323"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682990319"><span class="hs-identifier hs-type">instMap</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><a href="#local-6989586621682990329"><span class="hs-identifier hs-type">dataSubs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682990325"><span class="hs-identifier hs-type">defn</span></a></span><span>
</span><span id="line-373"></span><span>    </span><span id="local-6989586621682990330"><span class="annot"><span class="annottext">ty_fams :: [(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990330"><span class="hs-identifier hs-var hs-var">ty_fams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-374"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyFamInstDecl"><span class="hs-identifier hs-type">TyFamInstDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tfid_eqn"><span class="hs-identifier hs-var">tfid_eqn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#FamEqn"><span class="hs-identifier hs-type">FamEqn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#feqn_tycon"><span class="hs-identifier hs-var">feqn_tycon</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682990331"><span class="annot"><a href="#local-6989586621682990331"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (TyFamInstDecl (GhcPass 'Renamed))
-&gt; TyFamInstDecl (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated (EpAnn AnnListItem) (TyFamInstDecl (GhcPass 'Renamed))
 -&gt; TyFamInstDecl (GhcPass 'Renamed))
-&gt; [GenLocated
      (EpAnn AnnListItem) (TyFamInstDecl (GhcPass 'Renamed))]
-&gt; [TyFamInstDecl (GhcPass 'Renamed)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ClsInstDecl (GhcPass 'Renamed)
-&gt; [LTyFamInstDecl (GhcPass 'Renamed)]
forall pass. ClsInstDecl pass -&gt; [LTyFamInstDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#cid_tyfam_insts"><span class="hs-identifier hs-var">cid_tyfam_insts</span></a></span><span> </span><span class="annot"><span class="annottext">ClsInstDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990321"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-375"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682990333"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#empty"><span class="hs-identifier hs-type">IM.empty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682990333"><span class="annot"><a href="#local-6989586621682990333"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#lookupSrcSpan"><span class="hs-identifier hs-type">lookupSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682990331"><span class="hs-identifier hs-type">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682990319"><span class="hs-identifier hs-type">instMap</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-376"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990322"><span class="hs-identifier hs-var">data_fams</span></a></span><span> </span><span class="annot"><span class="annottext">[(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)],
     IntMap (HsDoc (GhcPass 'Renamed)))]
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)],
     IntMap (HsDoc (GhcPass 'Renamed)))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990330"><span class="hs-identifier hs-var">ty_fams</span></a></span><span>
</span><span id="line-377"></span><span>
</span><span id="line-378"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-type">InstD</span></a></span><span> </span><span class="annot"><span class="annottext">XInstD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstD"><span class="hs-identifier hs-type">DataFamInstD</span></a></span><span> </span><span class="annot"><span class="annottext">XDataFamInstD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DataFamInstDecl"><span class="hs-identifier hs-type">DataFamInstDecl</span></a></span><span> </span><span id="local-6989586621682990334"><span class="annot"><span class="annottext">FamEqn (GhcPass 'Renamed) (HsDataDefn (GhcPass 'Renamed))
</span><a href="#local-6989586621682990334"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-379"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed)
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)],
     IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990329"><span class="hs-identifier hs-var">dataSubs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FamEqn (GhcPass 'Renamed) (HsDataDefn (GhcPass 'Renamed))
-&gt; HsDataDefn (GhcPass 'Renamed)
forall pass rhs. FamEqn pass rhs -&gt; rhs
</span><a href="Language.Haskell.Syntax.Decls.html#feqn_rhs"><span class="hs-identifier hs-var">feqn_rhs</span></a></span><span> </span><span class="annot"><span class="annottext">FamEqn (GhcPass 'Renamed) (HsDataDefn (GhcPass 'Renamed))
</span><a href="#local-6989586621682990334"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-380"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyClD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990335"><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990335"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed) -&gt; Bool
forall pass. TyClDecl pass -&gt; Bool
</span><a href="Language.Haskell.Syntax.Decls.html#isClassDecl"><span class="hs-identifier hs-var">isClassDecl</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990335"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)],
     IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990337"><span class="hs-identifier hs-var">classSubs</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990335"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-381"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed) -&gt; Bool
forall pass. TyClDecl pass -&gt; Bool
</span><a href="Language.Haskell.Syntax.Decls.html#isDataDecl"><span class="hs-identifier hs-var">isDataDecl</span></a></span><span>  </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990335"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed)
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)],
     IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990329"><span class="hs-identifier hs-var">dataSubs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed) -&gt; HsDataDefn (GhcPass 'Renamed)
forall pass. TyClDecl pass -&gt; HsDataDefn pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdDataDefn"><span class="hs-identifier hs-var">tcdDataDefn</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990335"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span>  </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-383"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-384"></span><span>    </span><span id="local-6989586621682990337"><span class="annot"><span class="annottext">classSubs :: TyClDecl (GhcPass 'Renamed)
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)],
     IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990337"><span class="hs-identifier hs-var hs-var">classSubs</span></a></span></span><span> </span><span id="local-6989586621682990340"><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990340"><span class="hs-identifier hs-var">dd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990341"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[HsDoc (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990342"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#declTypeDocs"><span class="hs-identifier hs-var">declTypeDocs</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990343"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990343"><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990343"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990342"><span class="annot"><span class="annottext">[HsDoc (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990342"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
</span><a href="GHC.HsToCore.Docs.html#classDecls"><span class="hs-identifier hs-var">classDecls</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990340"><span class="hs-identifier hs-var">dd</span></a></span><span>
</span><span id="line-386"></span><span>                   </span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990341"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990341"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">OccEnv Name -&gt; HsDecl (GhcPass 'Renamed) -&gt; [Name]
</span><a href="GHC.HsToCore.Docs.html#getMainDeclBinder"><span class="hs-identifier hs-var">getMainDeclBinder</span></a></span><span> </span><span class="annot"><span class="annottext">OccEnv Name
</span><a href="#local-6989586621682990318"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990343"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed) -&gt; Bool
forall a. HsDecl a -&gt; Bool
</span><a href="GHC.HsToCore.Docs.html#isValD"><span class="hs-identifier hs-var">isValD</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990343"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>                   </span><span class="hs-special">]</span><span>
</span><span id="line-388"></span><span>    </span><span class="annot"><a href="#local-6989586621682990329"><span class="hs-identifier hs-type">dataSubs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDataDefn"><span class="hs-identifier hs-type">HsDataDefn</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>
</span><span id="line-389"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-390"></span><span>    </span><span id="local-6989586621682990329"><span class="annot"><span class="annottext">dataSubs :: HsDataDefn (GhcPass 'Renamed)
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)],
     IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990329"><span class="hs-identifier hs-var hs-var">dataSubs</span></a></span></span><span> </span><span id="local-6989586621682990346"><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed)
</span><a href="#local-6989586621682990346"><span class="hs-identifier hs-var">dd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990347"><span class="hs-identifier hs-var">constrs</span></a></span><span> </span><span class="annot"><span class="annottext">[(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)],
     IntMap (HsDoc (GhcPass 'Renamed)))]
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)],
     IntMap (HsDoc (GhcPass 'Renamed)))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990348"><span class="hs-identifier hs-var">fields</span></a></span><span>  </span><span class="annot"><span class="annottext">[(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)],
     IntMap (HsDoc (GhcPass 'Renamed)))]
-&gt; [(Name, [HsDoc (GhcPass 'Renamed)],
     IntMap (HsDoc (GhcPass 'Renamed)))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990349"><span class="hs-identifier hs-var">derivs</span></a></span><span>
</span><span id="line-391"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-392"></span><span>        </span><span id="local-6989586621682990350"><span class="annot"><span class="annottext">cons :: DataDefnCons (ConDecl (GhcPass 'Renamed))
</span><a href="#local-6989586621682990350"><span class="hs-identifier hs-var hs-var">cons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (ConDecl (GhcPass 'Renamed))
-&gt; ConDecl (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated (EpAnn AnnListItem) (ConDecl (GhcPass 'Renamed))
 -&gt; ConDecl (GhcPass 'Renamed))
-&gt; DataDefnCons
     (GenLocated (EpAnn AnnListItem) (ConDecl (GhcPass 'Renamed)))
-&gt; DataDefnCons (ConDecl (GhcPass 'Renamed))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed)
-&gt; DataDefnCons (LConDecl (GhcPass 'Renamed))
forall pass. HsDataDefn pass -&gt; DataDefnCons (LConDecl pass)
</span><a href="Language.Haskell.Syntax.Decls.html#dd_cons"><span class="hs-identifier hs-var">dd_cons</span></a></span><span> </span><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed)
</span><a href="#local-6989586621682990346"><span class="hs-identifier hs-var">dd</span></a></span><span>
</span><span id="line-393"></span><span>        </span><span id="local-6989586621682990347"><span class="annot"><span class="annottext">constrs :: [(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990347"><span class="hs-identifier hs-var hs-var">constrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621682990352"><span class="hs-identifier hs-var">cname</span></a></span><span>
</span><span id="line-394"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (HsDoc (GhcPass 'Renamed)) -&gt; [HsDoc (GhcPass 'Renamed)]
forall a. Maybe a -&gt; [a]
</span><span class="hs-identifier hs-var">maybeToList</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (HsDoc (GhcPass 'Renamed)) -&gt; [HsDoc (GhcPass 'Renamed)])
-&gt; Maybe (HsDoc (GhcPass 'Renamed)) -&gt; [HsDoc (GhcPass 'Renamed)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(LHsDoc (GhcPass 'Renamed) -&gt; HsDoc (GhcPass 'Renamed))
-&gt; Maybe (LHsDoc (GhcPass 'Renamed))
-&gt; Maybe (HsDoc (GhcPass 'Renamed))
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed) -&gt; HsDoc (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (LHsDoc (GhcPass 'Renamed))
 -&gt; Maybe (HsDoc (GhcPass 'Renamed)))
-&gt; Maybe (LHsDoc (GhcPass 'Renamed))
-&gt; Maybe (HsDoc (GhcPass 'Renamed))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed) -&gt; Maybe (LHsDoc (GhcPass 'Renamed))
forall pass. ConDecl pass -&gt; Maybe (LHsDoc pass)
</span><a href="Language.Haskell.Syntax.Decls.html#con_doc"><span class="hs-identifier hs-var">con_doc</span></a></span><span> </span><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990354"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-395"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#conArgDocs"><span class="hs-identifier hs-var">conArgDocs</span></a></span><span> </span><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990354"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682990354"><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990354"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DataDefnCons (ConDecl (GhcPass 'Renamed))
-&gt; [ConDecl (GhcPass 'Renamed)]
forall a. DataDefnCons a -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">toList</span></span><span> </span><span class="annot"><span class="annottext">DataDefnCons (ConDecl (GhcPass 'Renamed))
</span><a href="#local-6989586621682990350"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990352"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name
</span><a href="#local-6989586621682990352"><span class="hs-identifier hs-var">cname</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed) -&gt; [GenLocated SrcSpanAnnN Name]
</span><a href="GHC.Hs.Decls.html#getConNames"><span class="hs-identifier hs-var">getConNames</span></a></span><span> </span><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990354"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-397"></span><span>        </span><span id="local-6989586621682990348"><span class="annot"><span class="annottext">fields :: [(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990348"><span class="hs-identifier hs-var hs-var">fields</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Name -&gt; Name
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnN Name -&gt; Name)
-&gt; GenLocated SrcSpanAnnN Name -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FieldOcc (GhcPass 'Renamed) -&gt; LIdP (GhcPass 'Renamed)
forall pass. FieldOcc pass -&gt; LIdP pass
</span><a href="Language.Haskell.Syntax.Type.html#foLabel"><span class="hs-identifier hs-var">foLabel</span></a></span><span> </span><span class="annot"><span class="annottext">FieldOcc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990358"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (HsDoc (GhcPass 'Renamed)) -&gt; [HsDoc (GhcPass 'Renamed)]
forall a. Maybe a -&gt; [a]
</span><span class="hs-identifier hs-var">maybeToList</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (HsDoc (GhcPass 'Renamed)) -&gt; [HsDoc (GhcPass 'Renamed)])
-&gt; Maybe (HsDoc (GhcPass 'Renamed)) -&gt; [HsDoc (GhcPass 'Renamed)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(LHsDoc (GhcPass 'Renamed) -&gt; HsDoc (GhcPass 'Renamed))
-&gt; Maybe (LHsDoc (GhcPass 'Renamed))
-&gt; Maybe (HsDoc (GhcPass 'Renamed))
forall a b. (a -&gt; b) -&gt; Maybe a -&gt; Maybe b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed) -&gt; HsDoc (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990359"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IntMap (HsDoc (GhcPass 'Renamed))
forall a. IntMap a
</span><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#empty"><span class="hs-identifier hs-var">IM.empty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-398"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682990360"><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnL
  [GenLocated (EpAnn AnnListItem) (ConDeclField (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990360"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DataDefnCons
  (Maybe
     (GenLocated
        SrcSpanAnnL
        [GenLocated
           (EpAnn AnnListItem) (ConDeclField (GhcPass 'Renamed))]))
-&gt; [Maybe
      (GenLocated
         SrcSpanAnnL
         [GenLocated
            (EpAnn AnnListItem) (ConDeclField (GhcPass 'Renamed))])]
forall a. DataDefnCons a -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">toList</span></span><span> </span><span class="annot"><span class="annottext">(DataDefnCons
   (Maybe
      (GenLocated
         SrcSpanAnnL
         [GenLocated
            (EpAnn AnnListItem) (ConDeclField (GhcPass 'Renamed))]))
 -&gt; [Maybe
       (GenLocated
          SrcSpanAnnL
          [GenLocated
             (EpAnn AnnListItem) (ConDeclField (GhcPass 'Renamed))])])
-&gt; DataDefnCons
     (Maybe
        (GenLocated
           SrcSpanAnnL
           [GenLocated
              (EpAnn AnnListItem) (ConDeclField (GhcPass 'Renamed))]))
-&gt; [Maybe
      (GenLocated
         SrcSpanAnnL
         [GenLocated
            (EpAnn AnnListItem) (ConDeclField (GhcPass 'Renamed))])]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ConDecl (GhcPass 'Renamed)
 -&gt; Maybe
      (GenLocated
         SrcSpanAnnL
         [GenLocated
            (EpAnn AnnListItem) (ConDeclField (GhcPass 'Renamed))]))
-&gt; DataDefnCons (ConDecl (GhcPass 'Renamed))
-&gt; DataDefnCons
     (Maybe
        (GenLocated
           SrcSpanAnnL
           [GenLocated
              (EpAnn AnnListItem) (ConDeclField (GhcPass 'Renamed))]))
forall a b. (a -&gt; b) -&gt; DataDefnCons a -&gt; DataDefnCons b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">ConDecl (GhcPass 'Renamed)
-&gt; Maybe (LocatedL [LConDeclField (GhcPass 'Renamed)])
ConDecl (GhcPass 'Renamed)
-&gt; Maybe
     (GenLocated
        SrcSpanAnnL
        [GenLocated (EpAnn AnnListItem) (ConDeclField (GhcPass 'Renamed))])
</span><a href="GHC.Hs.Decls.html#getRecConArgs_maybe"><span class="hs-identifier hs-var">getRecConArgs_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">DataDefnCons (ConDecl (GhcPass 'Renamed))
</span><a href="#local-6989586621682990350"><span class="hs-identifier hs-var">cons</span></a></span><span>
</span><span id="line-399"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#ConDeclField"><span class="hs-identifier hs-type">ConDeclField</span></a></span><span> </span><span class="annot"><span class="annottext">XConDeclField (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990363"><span class="annot"><span class="annottext">[LFieldOcc (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990363"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990359"><span class="annot"><span class="annottext">Maybe (LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990359"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnL
  [GenLocated (EpAnn AnnListItem) (ConDeclField (GhcPass 'Renamed))]
-&gt; [GenLocated
      (EpAnn AnnListItem) (ConDeclField (GhcPass 'Renamed))]
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">GenLocated
  SrcSpanAnnL
  [GenLocated (EpAnn AnnListItem) (ConDeclField (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990360"><span class="hs-identifier hs-var">flds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990358"><span class="annot"><span class="annottext">FieldOcc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990358"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[LFieldOcc (GhcPass 'Renamed)]
[GenLocated (EpAnn AnnListItem) (FieldOcc (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990363"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-401"></span><span>        </span><span id="local-6989586621682990349"><span class="annot"><span class="annottext">derivs :: [(Name, [HsDoc (GhcPass 'Renamed)],
  IntMap (HsDoc (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990349"><span class="hs-identifier hs-var hs-var">derivs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990364"><span class="hs-identifier hs-var">instName</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed) -&gt; HsDoc (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990365"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IntMap (HsDoc (GhcPass 'Renamed))
forall a. IntMap a
</span><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#empty"><span class="hs-identifier hs-var">IM.empty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682990366"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682990366"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990365"><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990365"><span class="hs-identifier hs-var">doc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated EpAnnCO (HsDerivingClause (GhcPass 'Renamed))
 -&gt; [(SrcSpan, LHsDoc (GhcPass 'Renamed))])
-&gt; [GenLocated EpAnnCO (HsDerivingClause (GhcPass 'Renamed))]
-&gt; [(SrcSpan, LHsDoc (GhcPass 'Renamed))]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LDerivClauseTys (GhcPass 'Renamed)
-&gt; [(SrcSpan, LHsDoc (GhcPass 'Renamed))]
GenLocated SrcSpanAnnC (DerivClauseTys (GhcPass 'Renamed))
-&gt; [(SrcSpan, LHsDoc (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990367"><span class="hs-identifier hs-var">extract_deriv_clause_tys</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnC (DerivClauseTys (GhcPass 'Renamed))
 -&gt; [(SrcSpan, LHsDoc (GhcPass 'Renamed))])
-&gt; (GenLocated EpAnnCO (HsDerivingClause (GhcPass 'Renamed))
    -&gt; GenLocated SrcSpanAnnC (DerivClauseTys (GhcPass 'Renamed)))
-&gt; GenLocated EpAnnCO (HsDerivingClause (GhcPass 'Renamed))
-&gt; [(SrcSpan, LHsDoc (GhcPass 'Renamed))]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>
</span><span id="line-403"></span><span>                                           </span><span class="annot"><span class="annottext">HsDerivingClause (GhcPass 'Renamed)
-&gt; LDerivClauseTys (GhcPass 'Renamed)
HsDerivingClause (GhcPass 'Renamed)
-&gt; GenLocated SrcSpanAnnC (DerivClauseTys (GhcPass 'Renamed))
forall pass. HsDerivingClause pass -&gt; LDerivClauseTys pass
</span><a href="Language.Haskell.Syntax.Decls.html#deriv_clause_tys"><span class="hs-identifier hs-var">deriv_clause_tys</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDerivingClause (GhcPass 'Renamed)
 -&gt; GenLocated SrcSpanAnnC (DerivClauseTys (GhcPass 'Renamed)))
-&gt; (GenLocated EpAnnCO (HsDerivingClause (GhcPass 'Renamed))
    -&gt; HsDerivingClause (GhcPass 'Renamed))
-&gt; GenLocated EpAnnCO (HsDerivingClause (GhcPass 'Renamed))
-&gt; GenLocated SrcSpanAnnC (DerivClauseTys (GhcPass 'Renamed))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">GenLocated EpAnnCO (HsDerivingClause (GhcPass 'Renamed))
-&gt; HsDerivingClause (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([GenLocated EpAnnCO (HsDerivingClause (GhcPass 'Renamed))]
 -&gt; [(SrcSpan, LHsDoc (GhcPass 'Renamed))])
-&gt; [GenLocated EpAnnCO (HsDerivingClause (GhcPass 'Renamed))]
-&gt; [(SrcSpan, LHsDoc (GhcPass 'Renamed))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-404"></span><span>                                </span><span class="hs-comment">-- unLoc $ dd_derivs dd</span><span>
</span><span id="line-405"></span><span>                                </span><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed) -&gt; HsDeriving (GhcPass 'Renamed)
forall pass. HsDataDefn pass -&gt; HsDeriving pass
</span><a href="Language.Haskell.Syntax.Decls.html#dd_derivs"><span class="hs-identifier hs-var">dd_derivs</span></a></span><span> </span><span class="annot"><span class="annottext">HsDataDefn (GhcPass 'Renamed)
</span><a href="#local-6989586621682990346"><span class="hs-identifier hs-var">dd</span></a></span><span>
</span><span id="line-406"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682990364"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990364"><span class="hs-identifier hs-var">instName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcSpan -&gt; Map RealSrcSpan Name -&gt; Maybe Name
forall a. SrcSpan -&gt; Map RealSrcSpan a -&gt; Maybe a
</span><a href="GHC.Types.SrcLoc.html#lookupSrcSpan"><span class="hs-identifier hs-var">lookupSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682990366"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Map RealSrcSpan Name
</span><a href="#local-6989586621682990319"><span class="hs-identifier hs-var">instMap</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-407"></span><span>
</span><span id="line-408"></span><span>        </span><span class="annot"><a href="#local-6989586621682990367"><span class="hs-identifier hs-type">extract_deriv_clause_tys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LDerivClauseTys"><span class="hs-identifier hs-type">LDerivClauseTys</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#LHsDoc"><span class="hs-identifier hs-type">LHsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-409"></span><span>        </span><span id="local-6989586621682990367"><span class="annot"><span class="annottext">extract_deriv_clause_tys :: LDerivClauseTys (GhcPass 'Renamed)
-&gt; [(SrcSpan, LHsDoc (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990367"><span class="hs-identifier hs-var hs-var">extract_deriv_clause_tys</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnC
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990370"><span class="annot"><span class="annottext">DerivClauseTys (GhcPass 'Renamed)
</span><a href="#local-6989586621682990370"><span class="hs-identifier hs-var">dct</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-410"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">DerivClauseTys (GhcPass 'Renamed)
</span><a href="#local-6989586621682990370"><span class="hs-identifier hs-var">dct</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-411"></span><span>            </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DctSingle"><span class="hs-identifier hs-type">DctSingle</span></a></span><span> </span><span class="annot"><span class="annottext">XDctSingle (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990372"><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><a href="#local-6989586621682990372"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (SrcSpan, LHsDoc (GhcPass 'Renamed))
-&gt; [(SrcSpan, LHsDoc (GhcPass 'Renamed))]
forall a. Maybe a -&gt; [a]
</span><span class="hs-identifier hs-var">maybeToList</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (SrcSpan, LHsDoc (GhcPass 'Renamed))
 -&gt; [(SrcSpan, LHsDoc (GhcPass 'Renamed))])
-&gt; Maybe (SrcSpan, LHsDoc (GhcPass 'Renamed))
-&gt; [(SrcSpan, LHsDoc (GhcPass 'Renamed))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
-&gt; Maybe (SrcSpan, LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990373"><span class="hs-identifier hs-var">extract_deriv_ty</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><a href="#local-6989586621682990372"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-412"></span><span>            </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DctMulti"><span class="hs-identifier hs-type">DctMulti</span></a></span><span> </span><span class="annot"><span class="annottext">XDctMulti (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990375"><span class="annot"><span class="annottext">[LHsSigType (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990375"><span class="hs-identifier hs-var">tys</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(GenLocated (EpAnn AnnListItem) (HsSigType (GhcPass 'Renamed))
 -&gt; Maybe (SrcSpan, LHsDoc (GhcPass 'Renamed)))
-&gt; [GenLocated (EpAnn AnnListItem) (HsSigType (GhcPass 'Renamed))]
-&gt; [(SrcSpan, LHsDoc (GhcPass 'Renamed))]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
-&gt; Maybe (SrcSpan, LHsDoc (GhcPass 'Renamed))
GenLocated (EpAnn AnnListItem) (HsSigType (GhcPass 'Renamed))
-&gt; Maybe (SrcSpan, LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990373"><span class="hs-identifier hs-var">extract_deriv_ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsSigType (GhcPass 'Renamed)]
[GenLocated (EpAnn AnnListItem) (HsSigType (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990375"><span class="hs-identifier hs-var">tys</span></a></span><span>
</span><span id="line-413"></span><span>
</span><span id="line-414"></span><span>        </span><span class="annot"><a href="#local-6989586621682990373"><span class="hs-identifier hs-type">extract_deriv_ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigType"><span class="hs-identifier hs-type">LHsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#LHsDoc"><span class="hs-identifier hs-type">LHsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>        </span><span id="local-6989586621682990373"><span class="annot"><span class="annottext">extract_deriv_ty :: LHsSigType (GhcPass 'Renamed)
-&gt; Maybe (SrcSpan, LHsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990373"><span class="hs-identifier hs-var hs-var">extract_deriv_ty</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682990376"><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><a href="#local-6989586621682990376"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsSig"><span class="hs-identifier hs-type">HsSig</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">sig_body :: forall pass. HsSigType pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#sig_body"><span class="hs-identifier hs-var">sig_body</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990379"><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed)
</span><a href="#local-6989586621682990379"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-416"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed)
</span><a href="#local-6989586621682990379"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-417"></span><span>            </span><span class="hs-comment">-- deriving (C a {- ^ Doc comment -})</span><span>
</span><span id="line-418"></span><span>            </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsDocTy"><span class="hs-identifier hs-type">HsDocTy</span></a></span><span> </span><span class="annot"><span class="annottext">XDocTy (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990381"><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990381"><span class="hs-identifier hs-var">doc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SrcSpan, LHsDoc (GhcPass 'Renamed))
-&gt; Maybe (SrcSpan, LHsDoc (GhcPass 'Renamed))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EpAnn AnnListItem -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">EpAnn AnnListItem
</span><a href="#local-6989586621682990376"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990381"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-419"></span><span>            </span><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (SrcSpan, LHsDoc (GhcPass 'Renamed))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-420"></span><span>
</span><span id="line-421"></span><span class="annot"><span class="hs-comment">-- | Extract constructor argument docs from inside constructor decls.</span></span><span>
</span><span id="line-422"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#conArgDocs"><span class="hs-identifier hs-type">conArgDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDecl"><span class="hs-identifier hs-type">ConDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-423"></span><span id="conArgDocs"><span class="annot"><span class="annottext">conArgDocs :: ConDecl (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#conArgDocs"><span class="hs-identifier hs-var hs-var">conArgDocs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclH98"><span class="hs-identifier hs-type">ConDeclH98</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">con_args :: forall pass. ConDecl pass -&gt; HsConDeclH98Details pass
</span><a href="Language.Haskell.Syntax.Decls.html#con_args"><span class="hs-identifier hs-var">con_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990384"><span class="annot"><span class="annottext">HsConDeclH98Details (GhcPass 'Renamed)
</span><a href="#local-6989586621682990384"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-424"></span><span>  </span><span class="annot"><span class="annottext">HsConDeclH98Details (GhcPass 'Renamed)
-&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#h98ConArgDocs"><span class="hs-identifier hs-var">h98ConArgDocs</span></a></span><span> </span><span class="annot"><span class="annottext">HsConDeclH98Details (GhcPass 'Renamed)
</span><a href="#local-6989586621682990384"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-425"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#conArgDocs"><span class="hs-identifier hs-var">conArgDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ConDeclGADT"><span class="hs-identifier hs-type">ConDeclGADT</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">con_g_args :: forall pass. ConDecl pass -&gt; HsConDeclGADTDetails pass
</span><a href="Language.Haskell.Syntax.Decls.html#con_g_args"><span class="hs-identifier hs-var">con_g_args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990388"><span class="annot"><span class="annottext">HsConDeclGADTDetails (GhcPass 'Renamed)
</span><a href="#local-6989586621682990388"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">con_res_ty :: forall pass. ConDecl pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Decls.html#con_res_ty"><span class="hs-identifier hs-var">con_res_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990390"><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
</span><a href="#local-6989586621682990390"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-426"></span><span>  </span><span class="annot"><span class="annottext">HsConDeclGADTDetails (GhcPass 'Renamed)
-&gt; HsType (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#gadtConArgDocs"><span class="hs-identifier hs-var">gadtConArgDocs</span></a></span><span> </span><span class="annot"><span class="annottext">HsConDeclGADTDetails (GhcPass 'Renamed)
</span><a href="#local-6989586621682990388"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
-&gt; HsType (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
</span><a href="#local-6989586621682990390"><span class="hs-identifier hs-var">res_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-427"></span><span>
</span><span id="line-428"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#h98ConArgDocs"><span class="hs-identifier hs-type">h98ConArgDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsConDeclH98Details"><span class="hs-identifier hs-type">HsConDeclH98Details</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-429"></span><span id="h98ConArgDocs"><span class="annot"><span class="annottext">h98ConArgDocs :: HsConDeclH98Details (GhcPass 'Renamed)
-&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#h98ConArgDocs"><span class="hs-identifier hs-var hs-var">h98ConArgDocs</span></a></span></span><span> </span><span id="local-6989586621682990392"><span class="annot"><span class="annottext">HsConDeclH98Details (GhcPass 'Renamed)
</span><a href="#local-6989586621682990392"><span class="hs-identifier hs-var">con_args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsConDeclH98Details (GhcPass 'Renamed)
</span><a href="#local-6989586621682990392"><span class="hs-identifier hs-var">con_args</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-430"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#PrefixCon"><span class="hs-identifier hs-type">PrefixCon</span></a></span><span> </span><span class="annot"><span class="annottext">[Void]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990394"><span class="annot"><span class="annottext">[HsScaled
   (GhcPass 'Renamed)
   (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990394"><span class="hs-identifier hs-var">args</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key
-&gt; [HsType (GhcPass 'Renamed)] -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#con_arg_docs"><span class="hs-identifier hs-var">con_arg_docs</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">([HsType (GhcPass 'Renamed)] -&gt; IntMap (HsDoc (GhcPass 'Renamed)))
-&gt; [HsType (GhcPass 'Renamed)] -&gt; IntMap (HsDoc (GhcPass 'Renamed))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(HsScaled
   (GhcPass 'Renamed)
   (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))
 -&gt; HsType (GhcPass 'Renamed))
-&gt; [HsScaled
      (GhcPass 'Renamed)
      (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))]
-&gt; [HsType (GhcPass 'Renamed)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
-&gt; HsType (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
 -&gt; HsType (GhcPass 'Renamed))
-&gt; (HsScaled
      (GhcPass 'Renamed)
      (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))
    -&gt; GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))
-&gt; HsScaled
     (GhcPass 'Renamed)
     (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))
-&gt; HsType (GhcPass 'Renamed)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HsScaled
  (GhcPass 'Renamed)
  (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))
-&gt; GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
forall pass a. HsScaled pass a -&gt; a
</span><a href="Language.Haskell.Syntax.Type.html#hsScaledThing"><span class="hs-identifier hs-var">hsScaledThing</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[HsScaled
   (GhcPass 'Renamed)
   (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))]
[HsScaled
   (GhcPass 'Renamed)
   (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990394"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-431"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#InfixCon"><span class="hs-identifier hs-type">InfixCon</span></a></span><span> </span><span id="local-6989586621682990398"><span class="annot"><span class="annottext">HsScaled
  (GhcPass 'Renamed)
  (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))
</span><a href="#local-6989586621682990398"><span class="hs-identifier hs-var">arg1</span></a></span></span><span> </span><span id="local-6989586621682990399"><span class="annot"><span class="annottext">HsScaled
  (GhcPass 'Renamed)
  (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))
</span><a href="#local-6989586621682990399"><span class="hs-identifier hs-var">arg2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key
-&gt; [HsType (GhcPass 'Renamed)] -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#con_arg_docs"><span class="hs-identifier hs-var">con_arg_docs</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
-&gt; HsType (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsScaled
  (GhcPass 'Renamed)
  (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))
-&gt; GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
forall pass a. HsScaled pass a -&gt; a
</span><a href="Language.Haskell.Syntax.Type.html#hsScaledThing"><span class="hs-identifier hs-var">hsScaledThing</span></a></span><span> </span><span class="annot"><span class="annottext">HsScaled
  (GhcPass 'Renamed)
  (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))
HsScaled
  (GhcPass 'Renamed)
  (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))
</span><a href="#local-6989586621682990398"><span class="hs-identifier hs-var">arg1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-432"></span><span>                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
-&gt; HsType (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsScaled
  (GhcPass 'Renamed)
  (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))
-&gt; GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
forall pass a. HsScaled pass a -&gt; a
</span><a href="Language.Haskell.Syntax.Type.html#hsScaledThing"><span class="hs-identifier hs-var">hsScaledThing</span></a></span><span> </span><span class="annot"><span class="annottext">HsScaled
  (GhcPass 'Renamed)
  (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))
HsScaled
  (GhcPass 'Renamed)
  (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))
</span><a href="#local-6989586621682990399"><span class="hs-identifier hs-var">arg2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-433"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#RecCon"><span class="hs-identifier hs-type">RecCon</span></a></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) [LConDeclField (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IntMap (HsDoc (GhcPass 'Renamed))
forall a. IntMap a
</span><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#empty"><span class="hs-identifier hs-var">IM.empty</span></a></span><span>
</span><span id="line-434"></span><span>
</span><span id="line-435"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#gadtConArgDocs"><span class="hs-identifier hs-type">gadtConArgDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsConDeclGADTDetails"><span class="hs-identifier hs-type">HsConDeclGADTDetails</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-436"></span><span id="gadtConArgDocs"><span class="annot"><span class="annottext">gadtConArgDocs :: HsConDeclGADTDetails (GhcPass 'Renamed)
-&gt; HsType (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#gadtConArgDocs"><span class="hs-identifier hs-var hs-var">gadtConArgDocs</span></a></span></span><span> </span><span id="local-6989586621682990401"><span class="annot"><span class="annottext">HsConDeclGADTDetails (GhcPass 'Renamed)
</span><a href="#local-6989586621682990401"><span class="hs-identifier hs-var">con_args</span></a></span></span><span> </span><span id="local-6989586621682990402"><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed)
</span><a href="#local-6989586621682990402"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsConDeclGADTDetails (GhcPass 'Renamed)
</span><a href="#local-6989586621682990401"><span class="hs-identifier hs-var">con_args</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-437"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#PrefixConGADT"><span class="hs-identifier hs-type">PrefixConGADT</span></a></span><span> </span><span class="annot"><span class="annottext">XPrefixConGADT (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990404"><span class="annot"><span class="annottext">[HsScaled
   (GhcPass 'Renamed)
   (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990404"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key
-&gt; [HsType (GhcPass 'Renamed)] -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#con_arg_docs"><span class="hs-identifier hs-var">con_arg_docs</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">([HsType (GhcPass 'Renamed)] -&gt; IntMap (HsDoc (GhcPass 'Renamed)))
-&gt; [HsType (GhcPass 'Renamed)] -&gt; IntMap (HsDoc (GhcPass 'Renamed))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(HsScaled
   (GhcPass 'Renamed)
   (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))
 -&gt; HsType (GhcPass 'Renamed))
-&gt; [HsScaled
      (GhcPass 'Renamed)
      (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))]
-&gt; [HsType (GhcPass 'Renamed)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
-&gt; HsType (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
 -&gt; HsType (GhcPass 'Renamed))
-&gt; (HsScaled
      (GhcPass 'Renamed)
      (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))
    -&gt; GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))
-&gt; HsScaled
     (GhcPass 'Renamed)
     (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))
-&gt; HsType (GhcPass 'Renamed)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HsScaled
  (GhcPass 'Renamed)
  (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))
-&gt; GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
forall pass a. HsScaled pass a -&gt; a
</span><a href="Language.Haskell.Syntax.Type.html#hsScaledThing"><span class="hs-identifier hs-var">hsScaledThing</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[HsScaled
   (GhcPass 'Renamed)
   (XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed)))]
[HsScaled
   (GhcPass 'Renamed)
   (GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed)))]
</span><a href="#local-6989586621682990404"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">[HsType (GhcPass 'Renamed)]
-&gt; [HsType (GhcPass 'Renamed)] -&gt; [HsType (GhcPass 'Renamed)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed)
</span><a href="#local-6989586621682990402"><span class="hs-identifier hs-var">res_ty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-438"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#RecConGADT"><span class="hs-identifier hs-type">RecConGADT</span></a></span><span> </span><span class="annot"><span class="annottext">XRecConGADT (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) [LConDeclField (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key
-&gt; [HsType (GhcPass 'Renamed)] -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#con_arg_docs"><span class="hs-identifier hs-var">con_arg_docs</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed)
</span><a href="#local-6989586621682990402"><span class="hs-identifier hs-var">res_ty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#con_arg_docs"><span class="hs-identifier hs-type">con_arg_docs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-441"></span><span id="con_arg_docs"><span class="annot"><span class="annottext">con_arg_docs :: Key
-&gt; [HsType (GhcPass 'Renamed)] -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#con_arg_docs"><span class="hs-identifier hs-var hs-var">con_arg_docs</span></a></span></span><span> </span><span id="local-6989586621682990406"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990406"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Key, HsDoc (GhcPass 'Renamed))]
-&gt; IntMap (HsDoc (GhcPass 'Renamed))
forall a. [(Key, a)] -&gt; IntMap a
</span><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#fromList"><span class="hs-identifier hs-var">IM.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([(Key, HsDoc (GhcPass 'Renamed))]
 -&gt; IntMap (HsDoc (GhcPass 'Renamed)))
-&gt; ([HsType (GhcPass 'Renamed)]
    -&gt; [(Key, HsDoc (GhcPass 'Renamed))])
-&gt; [HsType (GhcPass 'Renamed)]
-&gt; IntMap (HsDoc (GhcPass 'Renamed))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Maybe (Key, HsDoc (GhcPass 'Renamed))]
-&gt; [(Key, HsDoc (GhcPass 'Renamed))]
forall a. [Maybe a] -&gt; [a]
</span><span class="hs-identifier hs-var">catMaybes</span></span><span> </span><span class="annot"><span class="annottext">([Maybe (Key, HsDoc (GhcPass 'Renamed))]
 -&gt; [(Key, HsDoc (GhcPass 'Renamed))])
-&gt; ([HsType (GhcPass 'Renamed)]
    -&gt; [Maybe (Key, HsDoc (GhcPass 'Renamed))])
-&gt; [HsType (GhcPass 'Renamed)]
-&gt; [(Key, HsDoc (GhcPass 'Renamed))]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Key
 -&gt; HsType (GhcPass 'Renamed)
 -&gt; Maybe (Key, HsDoc (GhcPass 'Renamed)))
-&gt; [Key]
-&gt; [HsType (GhcPass 'Renamed)]
-&gt; [Maybe (Key, HsDoc (GhcPass 'Renamed))]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="annot"><span class="annottext">Key
-&gt; HsType (GhcPass 'Renamed)
-&gt; Maybe (Key, HsDoc (GhcPass 'Renamed))
forall {pass} {l} {a}.
(XRec pass (HsType pass) ~ GenLocated l (HsType pass)) =&gt;
a -&gt; HsType pass -&gt; Maybe (a, HsDoc pass)
</span><a href="#local-6989586621682990410"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990406"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span>
</span><span id="line-442"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-443"></span><span>    </span><span id="local-6989586621682990410"><span class="annot"><span class="annottext">f :: a -&gt; HsType pass -&gt; Maybe (a, HsDoc pass)
</span><a href="#local-6989586621682990410"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682990413"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682990413"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsDocTy"><span class="hs-identifier hs-type">HsDocTy</span></a></span><span> </span><span class="annot"><span class="annottext">XDocTy pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990414"><span class="annot"><span class="annottext">LHsDoc pass
</span><a href="#local-6989586621682990414"><span class="hs-identifier hs-var">lds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, HsDoc pass) -&gt; Maybe (a, HsDoc pass)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682990413"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsDoc pass -&gt; HsDoc pass
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDoc pass
</span><a href="#local-6989586621682990414"><span class="hs-identifier hs-var">lds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>    </span><span class="annot"><a href="#local-6989586621682990410"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span id="local-6989586621682990415"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682990415"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsBangTy"><span class="hs-identifier hs-type">HsBangTy</span></a></span><span> </span><span class="annot"><span class="annottext">XBangTy pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsBang
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">l
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsDocTy"><span class="hs-identifier hs-type">HsDocTy</span></a></span><span> </span><span class="annot"><span class="annottext">XDocTy pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990417"><span class="annot"><span class="annottext">LHsDoc pass
</span><a href="#local-6989586621682990417"><span class="hs-identifier hs-var">lds</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, HsDoc pass) -&gt; Maybe (a, HsDoc pass)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682990415"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">LHsDoc pass -&gt; HsDoc pass
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDoc pass
</span><a href="#local-6989586621682990417"><span class="hs-identifier hs-var">lds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>    </span><span class="annot"><a href="#local-6989586621682990410"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsType pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (a, HsDoc pass)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span id="local-6989586621682989727"><span class="annot"><a href="GHC.HsToCore.Docs.html#isValD"><span class="hs-identifier hs-type">isValD</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989727"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-448"></span><span id="isValD"><span class="annot"><span class="annottext">isValD :: forall a. HsDecl a -&gt; Bool
</span><a href="GHC.HsToCore.Docs.html#isValD"><span class="hs-identifier hs-var hs-var">isValD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsBind a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-449"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#isValD"><span class="hs-identifier hs-var">isValD</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span class="hs-comment">-- | All the sub declarations of a class (that we handle), ordered by</span><span>
</span><span id="line-452"></span><span class="hs-comment">-- source location, with documentation attached if it exists.</span><span>
</span><span id="line-453"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#classDecls"><span class="hs-identifier hs-type">classDecls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClDecl"><span class="hs-identifier hs-type">TyClDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-454"></span><span id="classDecls"><span class="annot"><span class="annottext">classDecls :: TyClDecl (GhcPass 'Renamed)
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
</span><a href="GHC.HsToCore.Docs.html#classDecls"><span class="hs-identifier hs-var hs-var">classDecls</span></a></span></span><span> </span><span id="local-6989586621682990418"><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990418"><span class="hs-identifier hs-var">class_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
forall p doc. UnXRec p =&gt; [(LHsDecl p, doc)] -&gt; [(LHsDecl p, doc)]
</span><a href="GHC.HsToCore.Docs.html#filterDecls"><span class="hs-identifier hs-var">filterDecls</span></a></span><span> </span><span class="annot"><span class="annottext">([(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
 -&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])])
-&gt; ([GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
    -&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])])
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[LHsDecl (GhcPass 'Renamed)]
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
forall p. UnXRec p =&gt; [LHsDecl p] -&gt; [(LHsDecl p, [HsDoc p])]
</span><a href="GHC.HsToCore.Docs.html#collectDocs"><span class="hs-identifier hs-var">collectDocs</span></a></span><span> </span><span class="annot"><span class="annottext">([GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
 -&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])])
-&gt; ([GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
    -&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))])
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall a e.
HasLoc (EpAnn a) =&gt;
[GenLocated (EpAnn a) e] -&gt; [GenLocated (EpAnn a) e]
</span><a href="GHC.Parser.Annotation.html#sortLocatedA"><span class="hs-identifier hs-var">sortLocatedA</span></a></span><span> </span><span class="annot"><span class="annottext">([GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
 -&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])])
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990422"><span class="hs-identifier hs-var">decls</span></a></span><span>
</span><span id="line-455"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-456"></span><span>    </span><span id="local-6989586621682990422"><span class="annot"><span class="annottext">decls :: [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990422"><span class="hs-identifier hs-var hs-var">decls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990423"><span class="hs-identifier hs-var">docs</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990424"><span class="hs-identifier hs-var">defs</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990425"><span class="hs-identifier hs-var">sigs</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990426"><span class="hs-identifier hs-var">ats</span></a></span><span>
</span><span id="line-457"></span><span>    </span><span id="local-6989586621682990423"><span class="annot"><span class="annottext">docs :: [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990423"><span class="hs-identifier hs-var hs-var">docs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TyClDecl (GhcPass 'Renamed)
 -&gt; [GenLocated (EpAnn AnnListItem) (DocDecl (GhcPass 'Renamed))])
-&gt; (DocDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed))
-&gt; TyClDecl (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed) -&gt; [LDocDecl (GhcPass 'Renamed)]
TyClDecl (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (DocDecl (GhcPass 'Renamed))]
forall pass. TyClDecl pass -&gt; [LDocDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdDocs"><span class="hs-identifier hs-var">tcdDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XDocD (GhcPass 'Renamed)
-&gt; DocDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed)
forall p. XDocD p -&gt; DocDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#DocD"><span class="hs-identifier hs-var">DocD</span></a></span><span> </span><span class="annot"><span class="annottext">XDocD (GhcPass 'Renamed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990418"><span class="hs-identifier hs-var">class_</span></a></span><span>
</span><span id="line-458"></span><span>    </span><span id="local-6989586621682990424"><span class="annot"><span class="annottext">defs :: [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990424"><span class="hs-identifier hs-var hs-var">defs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TyClDecl (GhcPass 'Renamed)
 -&gt; [GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))])
-&gt; (HsBind (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed))
-&gt; TyClDecl (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed) -&gt; LHsBinds (GhcPass 'Renamed)
TyClDecl (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]
forall pass. TyClDecl pass -&gt; LHsBinds pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdMeths"><span class="hs-identifier hs-var">tcdMeths</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XValD (GhcPass 'Renamed)
-&gt; HsBind (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed)
forall p. XValD p -&gt; HsBind p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-var">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD (GhcPass 'Renamed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990418"><span class="hs-identifier hs-var">class_</span></a></span><span>
</span><span id="line-459"></span><span>    </span><span id="local-6989586621682990425"><span class="annot"><span class="annottext">sigs :: [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990425"><span class="hs-identifier hs-var hs-var">sigs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TyClDecl (GhcPass 'Renamed)
 -&gt; [GenLocated (EpAnn AnnListItem) (Sig (GhcPass 'Renamed))])
-&gt; (Sig (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed))
-&gt; TyClDecl (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed) -&gt; [LSig (GhcPass 'Renamed)]
TyClDecl (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (Sig (GhcPass 'Renamed))]
forall pass. TyClDecl pass -&gt; [LSig pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdSigs"><span class="hs-identifier hs-var">tcdSigs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSigD (GhcPass 'Renamed)
-&gt; Sig (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed)
forall p. XSigD p -&gt; Sig p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-var">SigD</span></a></span><span> </span><span class="annot"><span class="annottext">XSigD (GhcPass 'Renamed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990418"><span class="hs-identifier hs-var">class_</span></a></span><span>
</span><span id="line-460"></span><span>    </span><span id="local-6989586621682990426"><span class="annot"><span class="annottext">ats :: [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990426"><span class="hs-identifier hs-var hs-var">ats</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TyClDecl (GhcPass 'Renamed)
 -&gt; [GenLocated
       (EpAnn AnnListItem) (FamilyDecl (GhcPass 'Renamed))])
-&gt; (FamilyDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed))
-&gt; TyClDecl (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed) -&gt; [LFamilyDecl (GhcPass 'Renamed)]
TyClDecl (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (FamilyDecl (GhcPass 'Renamed))]
forall pass. TyClDecl pass -&gt; [LFamilyDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tcdATs"><span class="hs-identifier hs-var">tcdATs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XTyClD (GhcPass 'Renamed)
-&gt; TyClDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed)
forall p. XTyClD p -&gt; TyClDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-var">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyClD (GhcPass 'Renamed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span> </span><span class="annot"><span class="annottext">(TyClDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed))
-&gt; (FamilyDecl (GhcPass 'Renamed) -&gt; TyClDecl (GhcPass 'Renamed))
-&gt; FamilyDecl (GhcPass 'Renamed)
-&gt; HsDecl (GhcPass 'Renamed)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XFamDecl (GhcPass 'Renamed)
-&gt; FamilyDecl (GhcPass 'Renamed) -&gt; TyClDecl (GhcPass 'Renamed)
forall pass. XFamDecl pass -&gt; FamilyDecl pass -&gt; TyClDecl pass
</span><a href="Language.Haskell.Syntax.Decls.html#FamDecl"><span class="hs-identifier hs-var">FamDecl</span></a></span><span> </span><span class="annot"><span class="annottext">XFamDecl (GhcPass 'Renamed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TyClDecl (GhcPass 'Renamed)
</span><a href="#local-6989586621682990418"><span class="hs-identifier hs-var">class_</span></a></span><span>
</span><span id="line-461"></span><span>
</span><span id="line-462"></span><span class="annot"><span class="hs-comment">-- | Extract function argument docs from inside top-level decls.</span></span><span>
</span><span id="line-463"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#declTypeDocs"><span class="hs-identifier hs-type">declTypeDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsDecl"><span class="hs-identifier hs-type">HsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-464"></span><span id="declTypeDocs"><span class="annot"><span class="annottext">declTypeDocs :: HsDecl (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#declTypeDocs"><span class="hs-identifier hs-var hs-var">declTypeDocs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-465"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">SigD</span></a></span><span>  </span><span class="annot"><span class="annottext">XSigD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="annot"><span class="annottext">XTypeSig (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LIdP (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990435"><span class="annot"><span class="annottext">LHsSigWcType (GhcPass 'Renamed)
</span><a href="#local-6989586621682990435"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsSigType (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#sigTypeDocs"><span class="hs-identifier hs-var">sigTypeDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (HsSigType (GhcPass 'Renamed))
-&gt; HsSigType (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsSigWcType (GhcPass 'Renamed) -&gt; LHsSigType (GhcPass 'Renamed)
forall pass. LHsSigWcType pass -&gt; LHsSigType pass
</span><a href="GHC.Hs.Type.html#dropWildCards"><span class="hs-identifier hs-var">dropWildCards</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigWcType (GhcPass 'Renamed)
</span><a href="#local-6989586621682990435"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-466"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">SigD</span></a></span><span>  </span><span class="annot"><span class="annottext">XSigD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="annot"><span class="annottext">XClassOpSig (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LIdP (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990438"><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><a href="#local-6989586621682990438"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsSigType (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#sigTypeDocs"><span class="hs-identifier hs-var">sigTypeDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (HsSigType (GhcPass 'Renamed))
-&gt; HsSigType (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
GenLocated (EpAnn AnnListItem) (HsSigType (GhcPass 'Renamed))
</span><a href="#local-6989586621682990438"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-467"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">SigD</span></a></span><span>  </span><span class="annot"><span class="annottext">XSigD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span> </span><span class="annot"><span class="annottext">XPatSynSig (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LIdP (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990439"><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><a href="#local-6989586621682990439"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsSigType (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#sigTypeDocs"><span class="hs-identifier hs-var">sigTypeDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (HsSigType (GhcPass 'Renamed))
-&gt; HsSigType (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
GenLocated (EpAnn AnnListItem) (HsSigType (GhcPass 'Renamed))
</span><a href="#local-6989586621682990439"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-468"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-type">ForD</span></a></span><span>  </span><span class="annot"><span class="annottext">XForD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a></span><span> </span><span class="annot"><span class="annottext">XForeignImport (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LIdP (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990440"><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
</span><a href="#local-6989586621682990440"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="annot"><span class="annottext">ForeignImport (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsSigType (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#sigTypeDocs"><span class="hs-identifier hs-var">sigTypeDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (HsSigType (GhcPass 'Renamed))
-&gt; HsSigType (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigType (GhcPass 'Renamed)
GenLocated (EpAnn AnnListItem) (HsSigType (GhcPass 'Renamed))
</span><a href="#local-6989586621682990440"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-469"></span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyClD (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SynDecl"><span class="hs-identifier hs-type">SynDecl</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tcdRhs :: forall pass. TyClDecl pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Decls.html#tcdRhs"><span class="hs-identifier hs-var">tcdRhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990443"><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
</span><a href="#local-6989586621682990443"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#typeDocs"><span class="hs-identifier hs-var">typeDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
-&gt; HsType (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
</span><a href="#local-6989586621682990443"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-470"></span><span>  </span><span class="annot"><span class="annottext">HsDecl (GhcPass 'Renamed)
</span><span class="hs-identifier">_</span></span><span>                                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IntMap (HsDoc (GhcPass 'Renamed))
forall a. IntMap a
</span><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#empty"><span class="hs-identifier hs-var">IM.empty</span></a></span><span>
</span><span id="line-471"></span><span>
</span><span id="line-472"></span><span id="local-6989586621682989628"><span class="annot"><a href="GHC.HsToCore.Docs.html#nubByName"><span class="hs-identifier hs-type">nubByName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682989628"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682989628"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682989628"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-473"></span><span id="nubByName"><span class="annot"><span class="annottext">nubByName :: forall a. (a -&gt; Name) -&gt; [a] -&gt; [a]
</span><a href="GHC.HsToCore.Docs.html#nubByName"><span class="hs-identifier hs-var hs-var">nubByName</span></a></span></span><span> </span><span id="local-6989586621682990445"><span class="annot"><span class="annottext">a -&gt; Name
</span><a href="#local-6989586621682990445"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682990446"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621682990446"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621682990447"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="GHC.Types.Name.Set.html#emptyNameSet"><span class="hs-identifier hs-var">emptyNameSet</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621682990446"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-474"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-475"></span><span>    </span><span id="local-6989586621682990447"><span class="annot"><span class="annottext">go :: NameSet -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621682990447"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-476"></span><span>    </span><span class="annot"><a href="#local-6989586621682990447"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621682990449"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621682990449"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682990450"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682990450"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621682990451"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621682990451"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990452"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; NameSet -&gt; Bool
</span><a href="GHC.Types.Name.Set.html#elemNameSet"><span class="hs-operator hs-var">`elemNameSet`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621682990449"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621682990447"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621682990449"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621682990451"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-478"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621682990454"><span class="annot"><span class="annottext">s' :: NameSet
</span><a href="#local-6989586621682990454"><span class="hs-identifier hs-var hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; Name -&gt; NameSet
</span><a href="GHC.Types.Name.Set.html#extendNameSet"><span class="hs-identifier hs-var">extendNameSet</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621682990449"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990452"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-479"></span><span>                            </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682990450"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; [a]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">NameSet -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621682990447"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621682990454"><span class="hs-identifier hs-var">s'</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621682990451"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-480"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-481"></span><span>        </span><span id="local-6989586621682990452"><span class="annot"><span class="annottext">y :: Name
</span><a href="#local-6989586621682990452"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Name
</span><a href="#local-6989586621682990445"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682990450"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span class="annot"><span class="hs-comment">-- | Extract function argument docs from inside types.</span></span><span>
</span><span id="line-484"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#typeDocs"><span class="hs-identifier hs-type">typeDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsType"><span class="hs-identifier hs-type">HsType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-485"></span><span id="typeDocs"><span class="annot"><span class="annottext">typeDocs :: HsType (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#typeDocs"><span class="hs-identifier hs-var hs-var">typeDocs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key
-&gt; HsType (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
forall {pass} {l}.
(XRec pass (HsType pass) ~ GenLocated l (HsType pass)) =&gt;
Key -&gt; HsType pass -&gt; IntMap (HsDoc pass)
</span><a href="#local-6989586621682990456"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-number">0</span></span><span>
</span><span id="line-486"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-487"></span><span>    </span><span id="local-6989586621682990456"><span class="annot"><span class="annottext">go :: Key -&gt; HsType pass -&gt; IntMap (HsDoc pass)
</span><a href="#local-6989586621682990456"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621682990464"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990464"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-488"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsForAllTy"><span class="hs-identifier hs-type">HsForAllTy</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hst_body :: forall pass. HsType pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#hst_body"><span class="hs-identifier hs-var">hst_body</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990467"><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><a href="#local-6989586621682990467"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">}</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; HsType pass -&gt; IntMap (HsDoc pass)
</span><a href="#local-6989586621682990456"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990464"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated l (HsType pass) -&gt; HsType pass
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
GenLocated l (HsType pass)
</span><a href="#local-6989586621682990467"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-489"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsQualTy"><span class="hs-identifier hs-type">HsQualTy</span></a></span><span>   </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hst_body :: forall pass. HsType pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#hst_body"><span class="hs-identifier hs-var">hst_body</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990469"><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><a href="#local-6989586621682990469"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">}</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; HsType pass -&gt; IntMap (HsDoc pass)
</span><a href="#local-6989586621682990456"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990464"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated l (HsType pass) -&gt; HsType pass
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
GenLocated l (HsType pass)
</span><a href="#local-6989586621682990469"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-490"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsFunTy"><span class="hs-identifier hs-type">HsFunTy</span></a></span><span> </span><span class="annot"><span class="annottext">XFunTy pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsArrow pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XRec pass (HsType pass) -&gt; HsType pass
GenLocated l (HsType pass) -&gt; HsType pass
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-glyph">-&gt;</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsDocTy"><span class="hs-identifier hs-type">HsDocTy</span></a></span><span> </span><span class="annot"><span class="annottext">XDocTy pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990471"><span class="annot"><span class="annottext">LHsDoc pass
</span><a href="#local-6989586621682990471"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682990472"><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><a href="#local-6989586621682990472"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; HsDoc pass -&gt; IntMap (HsDoc pass) -&gt; IntMap (HsDoc pass)
forall a. Key -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#insert"><span class="hs-identifier hs-var">IM.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990464"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsDoc pass -&gt; HsDoc pass
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDoc pass
</span><a href="#local-6989586621682990471"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IntMap (HsDoc pass) -&gt; IntMap (HsDoc pass))
-&gt; IntMap (HsDoc pass) -&gt; IntMap (HsDoc pass)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; HsType pass -&gt; IntMap (HsDoc pass)
</span><a href="#local-6989586621682990456"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990464"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Key
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Key
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated l (HsType pass) -&gt; HsType pass
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
GenLocated l (HsType pass)
</span><a href="#local-6989586621682990472"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-491"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsFunTy"><span class="hs-identifier hs-type">HsFunTy</span></a></span><span> </span><span class="annot"><span class="annottext">XFunTy pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">HsArrow pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990475"><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><a href="#local-6989586621682990475"><span class="hs-identifier hs-var">ty</span></a></span></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; HsType pass -&gt; IntMap (HsDoc pass)
</span><a href="#local-6989586621682990456"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990464"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Key
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Key
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated l (HsType pass) -&gt; HsType pass
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
GenLocated l (HsType pass)
</span><a href="#local-6989586621682990475"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-492"></span><span>      </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsDocTy"><span class="hs-identifier hs-type">HsDocTy</span></a></span><span> </span><span class="annot"><span class="annottext">XDocTy pass
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">XRec pass (HsType pass)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990476"><span class="annot"><span class="annottext">LHsDoc pass
</span><a href="#local-6989586621682990476"><span class="hs-identifier hs-var">doc</span></a></span></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key -&gt; HsDoc pass -&gt; IntMap (HsDoc pass)
forall a. Key -&gt; a -&gt; IntMap a
</span><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#singleton"><span class="hs-identifier hs-var">IM.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990464"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsDoc pass -&gt; HsDoc pass
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDoc pass
</span><a href="#local-6989586621682990476"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-493"></span><span>      </span><span class="annot"><span class="annottext">HsType pass
</span><span class="hs-identifier">_</span></span><span>                                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IntMap (HsDoc pass)
forall a. IntMap a
</span><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#empty"><span class="hs-identifier hs-var">IM.empty</span></a></span><span>
</span><span id="line-494"></span><span>
</span><span id="line-495"></span><span class="annot"><span class="hs-comment">-- | Extract function argument docs from inside types.</span></span><span>
</span><span id="line-496"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#sigTypeDocs"><span class="hs-identifier hs-type">sigTypeDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsSigType"><span class="hs-identifier hs-type">HsSigType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-497"></span><span id="sigTypeDocs"><span class="annot"><span class="annottext">sigTypeDocs :: HsSigType (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#sigTypeDocs"><span class="hs-identifier hs-var hs-var">sigTypeDocs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#HsSig"><span class="hs-identifier hs-type">HsSig</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">sig_body :: forall pass. HsSigType pass -&gt; LHsType pass
</span><a href="Language.Haskell.Syntax.Type.html#sig_body"><span class="hs-identifier hs-var">sig_body</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682990478"><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
</span><a href="#local-6989586621682990478"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsType (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.HsToCore.Docs.html#typeDocs"><span class="hs-identifier hs-var">typeDocs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
-&gt; HsType (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">XRec (GhcPass 'Renamed) (HsType (GhcPass 'Renamed))
GenLocated (EpAnn AnnListItem) (HsType (GhcPass 'Renamed))
</span><a href="#local-6989586621682990478"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span>
</span><span id="line-499"></span><span class="hs-comment">-- | The top-level declarations of a module that we care about,</span><span>
</span><span id="line-500"></span><span class="hs-comment">-- ordered by source location, with documentation attached if it exists.</span><span>
</span><span id="line-501"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#topDecls"><span class="hs-identifier hs-type">topDecls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-502"></span><span id="topDecls"><span class="annot"><span class="annottext">topDecls :: HsGroup (GhcPass 'Renamed)
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
</span><a href="GHC.HsToCore.Docs.html#topDecls"><span class="hs-identifier hs-var hs-var">topDecls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
[(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed)),
  [HsDoc (GhcPass 'Renamed)])]
-&gt; [(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed)),
     [HsDoc (GhcPass 'Renamed)])]
forall (p :: Pass) doc.
IsPass p =&gt;
[(LHsDecl (GhcPass p), doc)] -&gt; [(LHsDecl (GhcPass p), doc)]
</span><a href="GHC.HsToCore.Docs.html#filterClasses"><span class="hs-identifier hs-var">filterClasses</span></a></span><span> </span><span class="annot"><span class="annottext">([(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed)),
   [HsDoc (GhcPass 'Renamed)])]
 -&gt; [(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed)),
      [HsDoc (GhcPass 'Renamed)])])
-&gt; (HsGroup (GhcPass 'Renamed)
    -&gt; [(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed)),
         [HsDoc (GhcPass 'Renamed)])])
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed)),
     [HsDoc (GhcPass 'Renamed)])]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
[(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
-&gt; [(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed)),
     [HsDoc (GhcPass 'Renamed)])]
forall p doc. UnXRec p =&gt; [(LHsDecl p, doc)] -&gt; [(LHsDecl p, doc)]
</span><a href="GHC.HsToCore.Docs.html#filterDecls"><span class="hs-identifier hs-var">filterDecls</span></a></span><span> </span><span class="annot"><span class="annottext">([(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
 -&gt; [(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed)),
      [HsDoc (GhcPass 'Renamed)])])
-&gt; (HsGroup (GhcPass 'Renamed)
    -&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])])
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed)),
     [HsDoc (GhcPass 'Renamed)])]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[LHsDecl (GhcPass 'Renamed)]
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
forall p. UnXRec p =&gt; [LHsDecl p] -&gt; [(LHsDecl p, [HsDoc p])]
</span><a href="GHC.HsToCore.Docs.html#collectDocs"><span class="hs-identifier hs-var">collectDocs</span></a></span><span> </span><span class="annot"><span class="annottext">([GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
 -&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])])
-&gt; (HsGroup (GhcPass 'Renamed)
    -&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))])
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [(LHsDecl (GhcPass 'Renamed), [HsDoc (GhcPass 'Renamed)])]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall a e.
HasLoc (EpAnn a) =&gt;
[GenLocated (EpAnn a) e] -&gt; [GenLocated (EpAnn a) e]
</span><a href="GHC.Parser.Annotation.html#sortLocatedA"><span class="hs-identifier hs-var">sortLocatedA</span></a></span><span> </span><span class="annot"><span class="annottext">([GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
 -&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))])
-&gt; (HsGroup (GhcPass 'Renamed)
    -&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))])
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed) -&gt; [LHsDecl (GhcPass 'Renamed)]
HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
</span><a href="GHC.HsToCore.Docs.html#ungroup"><span class="hs-identifier hs-var">ungroup</span></a></span><span>
</span><span id="line-503"></span><span>
</span><span id="line-504"></span><span class="annot"><span class="hs-comment">-- | Take all declarations except pragmas, infix decls, rules from an 'HsGroup'.</span></span><span>
</span><span id="line-505"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#ungroup"><span class="hs-identifier hs-type">ungroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#HsGroup"><span class="hs-identifier hs-type">HsGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-506"></span><span id="ungroup"><span class="annot"><span class="annottext">ungroup :: HsGroup (GhcPass 'Renamed) -&gt; [LHsDecl (GhcPass 'Renamed)]
</span><a href="GHC.HsToCore.Docs.html#ungroup"><span class="hs-identifier hs-var hs-var">ungroup</span></a></span></span><span> </span><span id="local-6989586621682990481"><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682990481"><span class="hs-identifier hs-var">group_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-507"></span><span>  </span><span class="annot"><span class="annottext">(HsGroup (GhcPass 'Renamed)
 -&gt; [GenLocated (EpAnn AnnListItem) (TyClDecl (GhcPass 'Renamed))])
-&gt; (TyClDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed))
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TyClGroup (GhcPass 'Renamed)] -&gt; [LTyClDecl (GhcPass 'Renamed)]
[TyClGroup (GhcPass 'Renamed)]
-&gt; [GenLocated (EpAnn AnnListItem) (TyClDecl (GhcPass 'Renamed))]
forall pass. [TyClGroup pass] -&gt; [LTyClDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tyClGroupTyClDecls"><span class="hs-identifier hs-var">tyClGroupTyClDecls</span></a></span><span> </span><span class="annot"><span class="annottext">([TyClGroup (GhcPass 'Renamed)]
 -&gt; [GenLocated (EpAnn AnnListItem) (TyClDecl (GhcPass 'Renamed))])
-&gt; (HsGroup (GhcPass 'Renamed) -&gt; [TyClGroup (GhcPass 'Renamed)])
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (TyClDecl (GhcPass 'Renamed))]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed) -&gt; [TyClGroup (GhcPass 'Renamed)]
forall p. HsGroup p -&gt; [TyClGroup p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_tyclds"><span class="hs-identifier hs-var">hs_tyclds</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XTyClD (GhcPass 'Renamed)
-&gt; TyClDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed)
forall p. XTyClD p -&gt; TyClDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-var">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyClD (GhcPass 'Renamed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682990481"><span class="hs-identifier hs-var">group_</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-508"></span><span>  </span><span class="annot"><span class="annottext">(HsGroup (GhcPass 'Renamed)
 -&gt; [GenLocated (EpAnn AnnListItem) (DerivDecl (GhcPass 'Renamed))])
-&gt; (DerivDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed))
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed) -&gt; [LDerivDecl (GhcPass 'Renamed)]
HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (DerivDecl (GhcPass 'Renamed))]
forall p. HsGroup p -&gt; [LDerivDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_derivds"><span class="hs-identifier hs-var">hs_derivds</span></a></span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XDerivD (GhcPass 'Renamed)
-&gt; DerivDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed)
forall p. XDerivD p -&gt; DerivDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#DerivD"><span class="hs-identifier hs-var">DerivD</span></a></span><span> </span><span class="annot"><span class="annottext">XDerivD (GhcPass 'Renamed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682990481"><span class="hs-identifier hs-var">group_</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-509"></span><span>  </span><span class="annot"><span class="annottext">(HsGroup (GhcPass 'Renamed)
 -&gt; [GenLocated
       (EpAnn AnnListItem) (DefaultDecl (GhcPass 'Renamed))])
-&gt; (DefaultDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed))
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed) -&gt; [LDefaultDecl (GhcPass 'Renamed)]
HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated
      (EpAnn AnnListItem) (DefaultDecl (GhcPass 'Renamed))]
forall p. HsGroup p -&gt; [LDefaultDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_defds"><span class="hs-identifier hs-var">hs_defds</span></a></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XDefD (GhcPass 'Renamed)
-&gt; DefaultDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed)
forall p. XDefD p -&gt; DefaultDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#DefD"><span class="hs-identifier hs-var">DefD</span></a></span><span> </span><span class="annot"><span class="annottext">XDefD (GhcPass 'Renamed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682990481"><span class="hs-identifier hs-var">group_</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-510"></span><span>  </span><span class="annot"><span class="annottext">(HsGroup (GhcPass 'Renamed)
 -&gt; [GenLocated
       (EpAnn AnnListItem) (ForeignDecl (GhcPass 'Renamed))])
-&gt; (ForeignDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed))
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed) -&gt; [LForeignDecl (GhcPass 'Renamed)]
HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated
      (EpAnn AnnListItem) (ForeignDecl (GhcPass 'Renamed))]
forall p. HsGroup p -&gt; [LForeignDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_fords"><span class="hs-identifier hs-var">hs_fords</span></a></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XForD (GhcPass 'Renamed)
-&gt; ForeignDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed)
forall p. XForD p -&gt; ForeignDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-var">ForD</span></a></span><span> </span><span class="annot"><span class="annottext">XForD (GhcPass 'Renamed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682990481"><span class="hs-identifier hs-var">group_</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-511"></span><span>  </span><span class="annot"><span class="annottext">(HsGroup (GhcPass 'Renamed)
 -&gt; [GenLocated (EpAnn AnnListItem) (DocDecl (GhcPass 'Renamed))])
-&gt; (DocDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed))
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed) -&gt; [LDocDecl (GhcPass 'Renamed)]
HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (DocDecl (GhcPass 'Renamed))]
forall p. HsGroup p -&gt; [LDocDecl p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_docs"><span class="hs-identifier hs-var">hs_docs</span></a></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XDocD (GhcPass 'Renamed)
-&gt; DocDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed)
forall p. XDocD p -&gt; DocDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#DocD"><span class="hs-identifier hs-var">DocD</span></a></span><span> </span><span class="annot"><span class="annottext">XDocD (GhcPass 'Renamed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682990481"><span class="hs-identifier hs-var">group_</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-512"></span><span>  </span><span class="annot"><span class="annottext">(HsGroup (GhcPass 'Renamed)
 -&gt; [GenLocated (EpAnn AnnListItem) (InstDecl (GhcPass 'Renamed))])
-&gt; (InstDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed))
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TyClGroup (GhcPass 'Renamed)] -&gt; [LInstDecl (GhcPass 'Renamed)]
[TyClGroup (GhcPass 'Renamed)]
-&gt; [GenLocated (EpAnn AnnListItem) (InstDecl (GhcPass 'Renamed))]
forall pass. [TyClGroup pass] -&gt; [LInstDecl pass]
</span><a href="Language.Haskell.Syntax.Decls.html#tyClGroupInstDecls"><span class="hs-identifier hs-var">tyClGroupInstDecls</span></a></span><span> </span><span class="annot"><span class="annottext">([TyClGroup (GhcPass 'Renamed)]
 -&gt; [GenLocated (EpAnn AnnListItem) (InstDecl (GhcPass 'Renamed))])
-&gt; (HsGroup (GhcPass 'Renamed) -&gt; [TyClGroup (GhcPass 'Renamed)])
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (InstDecl (GhcPass 'Renamed))]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed) -&gt; [TyClGroup (GhcPass 'Renamed)]
forall p. HsGroup p -&gt; [TyClGroup p]
</span><a href="Language.Haskell.Syntax.Decls.html#hs_tyclds"><span class="hs-identifier hs-var">hs_tyclds</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XInstD (GhcPass 'Renamed)
-&gt; InstDecl (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed)
forall p. XInstD p -&gt; InstDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-var">InstD</span></a></span><span> </span><span class="annot"><span class="annottext">XInstD (GhcPass 'Renamed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682990481"><span class="hs-identifier hs-var">group_</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-513"></span><span>  </span><span class="annot"><span class="annottext">(HsGroup (GhcPass 'Renamed)
 -&gt; [GenLocated (EpAnn AnnListItem) (Sig (GhcPass 'Renamed))])
-&gt; (Sig (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed))
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsValBinds (GhcPass 'Renamed) -&gt; [LSig (GhcPass 'Renamed)]
HsValBinds (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (Sig (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990489"><span class="hs-identifier hs-var">typesigs</span></a></span><span> </span><span class="annot"><span class="annottext">(HsValBinds (GhcPass 'Renamed)
 -&gt; [GenLocated (EpAnn AnnListItem) (Sig (GhcPass 'Renamed))])
-&gt; (HsGroup (GhcPass 'Renamed) -&gt; HsValBinds (GhcPass 'Renamed))
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (Sig (GhcPass 'Renamed))]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed) -&gt; HsValBinds (GhcPass 'Renamed)
forall p. HsGroup p -&gt; HsValBinds p
</span><a href="Language.Haskell.Syntax.Decls.html#hs_valds"><span class="hs-identifier hs-var">hs_valds</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSigD (GhcPass 'Renamed)
-&gt; Sig (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed)
forall p. XSigD p -&gt; Sig p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-var">SigD</span></a></span><span> </span><span class="annot"><span class="annottext">XSigD (GhcPass 'Renamed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682990481"><span class="hs-identifier hs-var">group_</span></a></span><span> </span><span class="annot"><span class="annottext">[GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-514"></span><span>  </span><span class="annot"><span class="annottext">(HsGroup (GhcPass 'Renamed)
 -&gt; [GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))])
-&gt; (HsBind (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed))
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass 'Renamed))]
forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var">mkDecls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsValBinds (GhcPass 'Renamed) -&gt; LHsBinds (GhcPass 'Renamed)
HsValBinds (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990491"><span class="hs-identifier hs-var">valbinds</span></a></span><span> </span><span class="annot"><span class="annottext">(HsValBinds (GhcPass 'Renamed)
 -&gt; [GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))])
-&gt; (HsGroup (GhcPass 'Renamed) -&gt; HsValBinds (GhcPass 'Renamed))
-&gt; HsGroup (GhcPass 'Renamed)
-&gt; [GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed) -&gt; HsValBinds (GhcPass 'Renamed)
forall p. HsGroup p -&gt; HsValBinds p
</span><a href="Language.Haskell.Syntax.Decls.html#hs_valds"><span class="hs-identifier hs-var">hs_valds</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XValD (GhcPass 'Renamed)
-&gt; HsBind (GhcPass 'Renamed) -&gt; HsDecl (GhcPass 'Renamed)
forall p. XValD p -&gt; HsBind p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-var">ValD</span></a></span><span> </span><span class="annot"><span class="annottext">XValD (GhcPass 'Renamed)
NoExtField
</span><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-var">noExtField</span></a></span><span class="hs-special">)</span><span>   </span><span class="annot"><span class="annottext">HsGroup (GhcPass 'Renamed)
</span><a href="#local-6989586621682990481"><span class="hs-identifier hs-var">group_</span></a></span><span>
</span><span id="line-515"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-516"></span><span>    </span><span class="annot"><a href="#local-6989586621682990489"><span class="hs-identifier hs-type">typesigs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LSig"><span class="hs-identifier hs-type">LSig</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-517"></span><span>    </span><span id="local-6989586621682990489"><span class="annot"><span class="annottext">typesigs :: HsValBinds (GhcPass 'Renamed) -&gt; [LSig (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990489"><span class="hs-identifier hs-var hs-var">typesigs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#XValBindsLR"><span class="hs-identifier hs-type">XValBindsLR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Binds.html#NValBinds"><span class="hs-identifier hs-type">NValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">[(RecFlag, LHsBinds (GhcPass 'Renamed))]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990494"><span class="annot"><span class="annottext">[LSig (GhcPass 'Renamed)]
</span><a href="#local-6989586621682990494"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated (EpAnn AnnListItem) (Sig (GhcPass 'Renamed)) -&gt; Bool)
-&gt; [GenLocated (EpAnn AnnListItem) (Sig (GhcPass 'Renamed))]
-&gt; [GenLocated (EpAnn AnnListItem) (Sig (GhcPass 'Renamed))]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Sig (GhcPass 'Renamed) -&gt; Bool
forall name. Sig name -&gt; Bool
</span><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-var">isUserSig</span></a></span><span> </span><span class="annot"><span class="annottext">(Sig (GhcPass 'Renamed) -&gt; Bool)
-&gt; (GenLocated (EpAnn AnnListItem) (Sig (GhcPass 'Renamed))
    -&gt; Sig (GhcPass 'Renamed))
-&gt; GenLocated (EpAnn AnnListItem) (Sig (GhcPass 'Renamed))
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">GenLocated (EpAnn AnnListItem) (Sig (GhcPass 'Renamed))
-&gt; Sig (GhcPass 'Renamed)
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LSig (GhcPass 'Renamed)]
[GenLocated (EpAnn AnnListItem) (Sig (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990494"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-518"></span><span>    </span><span class="annot"><a href="#local-6989586621682990489"><span class="hs-identifier hs-var">typesigs</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ValBinds"><span class="hs-identifier hs-type">ValBinds</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [GenLocated (EpAnn AnnListItem) (Sig (GhcPass 'Renamed))]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;expected XValBindsLR&quot;</span></span><span>
</span><span id="line-519"></span><span>
</span><span id="line-520"></span><span>    </span><span class="annot"><a href="#local-6989586621682990491"><span class="hs-identifier hs-type">valbinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-521"></span><span>    </span><span id="local-6989586621682990491"><span class="annot"><span class="annottext">valbinds :: HsValBinds (GhcPass 'Renamed) -&gt; LHsBinds (GhcPass 'Renamed)
</span><a href="#local-6989586621682990491"><span class="hs-identifier hs-var hs-var">valbinds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#XValBindsLR"><span class="hs-identifier hs-type">XValBindsLR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Binds.html#NValBinds"><span class="hs-identifier hs-type">NValBinds</span></a></span><span> </span><span id="local-6989586621682990498"><span class="annot"><span class="annottext">[(RecFlag, LHsBinds (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990498"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span class="annot"><span class="annottext">[LSig (GhcPass 'Renamed)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-522"></span><span>      </span><span class="annot"><span class="annottext">[[GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]]
-&gt; LHsBinds (GhcPass 'Renamed)
[[GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]]
-&gt; [GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="annot"><span class="annottext">([[GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]]
 -&gt; LHsBinds (GhcPass 'Renamed))
-&gt; ([(RecFlag, LHsBinds (GhcPass 'Renamed))]
    -&gt; [[GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]])
-&gt; [(RecFlag, LHsBinds (GhcPass 'Renamed))]
-&gt; LHsBinds (GhcPass 'Renamed)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">([RecFlag],
 [[GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]])
-&gt; [[GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]]
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">(([RecFlag],
  [[GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]])
 -&gt; [[GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]])
-&gt; ([(RecFlag,
      [GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))])]
    -&gt; ([RecFlag],
        [[GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]]))
-&gt; [(RecFlag,
     [GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))])]
-&gt; [[GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[(RecFlag,
  [GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))])]
-&gt; ([RecFlag],
    [[GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><span class="hs-identifier hs-var">unzip</span></span><span> </span><span class="annot"><span class="annottext">([(RecFlag, LHsBinds (GhcPass 'Renamed))]
 -&gt; LHsBinds (GhcPass 'Renamed))
-&gt; [(RecFlag, LHsBinds (GhcPass 'Renamed))]
-&gt; LHsBinds (GhcPass 'Renamed)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(RecFlag, LHsBinds (GhcPass 'Renamed))]
</span><a href="#local-6989586621682990498"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-523"></span><span>    </span><span class="annot"><a href="#local-6989586621682990491"><span class="hs-identifier hs-var">valbinds</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ValBinds"><span class="hs-identifier hs-type">ValBinds</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; [GenLocated (EpAnn AnnListItem) (HsBind (GhcPass 'Renamed))]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;expected XValBindsLR&quot;</span></span><span>
</span><span id="line-524"></span><span>
</span><span id="line-525"></span><span class="hs-comment">-- | Collect docs and attach them to the right declarations.</span><span>
</span><span id="line-526"></span><span class="hs-comment">--</span><span>
</span><span id="line-527"></span><span class="hs-comment">-- A declaration may have multiple doc strings attached to it.</span><span>
</span><span id="line-528"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#collectDocs"><span class="hs-identifier hs-type">collectDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682989777"><span class="annot"><a href="#local-6989586621682989777"><span class="hs-identifier hs-type">p</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#UnXRec"><span class="hs-identifier hs-type">UnXRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989777"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989777"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989777"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989777"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-529"></span><span class="annot"><span class="hs-comment">-- ^ This is an example.</span></span><span>
</span><span id="line-530"></span><span id="collectDocs"><span class="annot"><span class="annottext">collectDocs :: forall p. UnXRec p =&gt; [LHsDecl p] -&gt; [(LHsDecl p, [HsDoc p])]
</span><a href="GHC.HsToCore.Docs.html#collectDocs"><span class="hs-identifier hs-var hs-var">collectDocs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[WithHsDocIdentifiers HsDocString p]
-&gt; Maybe (XRec p (HsDecl p))
-&gt; [XRec p (HsDecl p)]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
</span><a href="#local-6989586621682990503"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-531"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-532"></span><span>    </span><span id="local-6989586621682990503"><span class="annot"><span class="annottext">go :: [WithHsDocIdentifiers HsDocString p]
-&gt; Maybe (XRec p (HsDecl p))
-&gt; [XRec p (HsDecl p)]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
</span><a href="#local-6989586621682990503"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621682990504"><span class="annot"><span class="annottext">[WithHsDocIdentifiers HsDocString p]
</span><a href="#local-6989586621682990504"><span class="hs-identifier hs-var">docs</span></a></span></span><span> </span><span id="local-6989586621682990505"><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
</span><a href="#local-6989586621682990505"><span class="hs-identifier hs-var">mprev</span></a></span></span><span> </span><span id="local-6989586621682990506"><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621682990506"><span class="hs-identifier hs-var">decls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621682990506"><span class="hs-identifier hs-var">decls</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
</span><a href="#local-6989586621682990505"><span class="hs-identifier hs-var">mprev</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-533"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621682989777"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocD"><span class="hs-identifier hs-type">DocD</span></a></span><span> </span><span class="annot"><span class="annottext">XDocD p
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocCommentNext"><span class="hs-identifier hs-type">DocCommentNext</span></a></span><span> </span><span id="local-6989586621682990508"><span class="annot"><span class="annottext">LHsDoc p
</span><a href="#local-6989586621682990508"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621682990509"><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621682990509"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[WithHsDocIdentifiers HsDocString p]
-&gt; Maybe (XRec p (HsDecl p))
-&gt; [XRec p (HsDecl p)]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
</span><a href="#local-6989586621682990503"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsDoc p -&gt; WithHsDocIdentifiers HsDocString p
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDoc p
</span><a href="#local-6989586621682990508"><span class="hs-identifier hs-var">s</span></a></span><span class="annot"><span class="annottext">WithHsDocIdentifiers HsDocString p
-&gt; [WithHsDocIdentifiers HsDocString p]
-&gt; [WithHsDocIdentifiers HsDocString p]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[WithHsDocIdentifiers HsDocString p]
</span><a href="#local-6989586621682990504"><span class="hs-identifier hs-var">docs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621682990509"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-534"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621682989777"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocD"><span class="hs-identifier hs-type">DocD</span></a></span><span> </span><span class="annot"><span class="annottext">XDocD p
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocCommentNext"><span class="hs-identifier hs-type">DocCommentNext</span></a></span><span> </span><span id="local-6989586621682990510"><span class="annot"><span class="annottext">LHsDoc p
</span><a href="#local-6989586621682990510"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621682990511"><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621682990511"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682990512"><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621682990512"><span class="hs-identifier hs-var">prev</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XRec p (HsDecl p)
-&gt; [WithHsDocIdentifiers HsDocString p]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
forall {a} {a}. a -&gt; [a] -&gt; [(a, [a])] -&gt; [(a, [a])]
</span><a href="#local-6989586621682990513"><span class="hs-identifier hs-var">finished</span></a></span><span> </span><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621682990512"><span class="hs-identifier hs-var">prev</span></a></span><span> </span><span class="annot"><span class="annottext">[WithHsDocIdentifiers HsDocString p]
</span><a href="#local-6989586621682990504"><span class="hs-identifier hs-var">docs</span></a></span><span> </span><span class="annot"><span class="annottext">([(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
 -&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])])
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[WithHsDocIdentifiers HsDocString p]
-&gt; Maybe (XRec p (HsDecl p))
-&gt; [XRec p (HsDecl p)]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
</span><a href="#local-6989586621682990503"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LHsDoc p -&gt; WithHsDocIdentifiers HsDocString p
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDoc p
</span><a href="#local-6989586621682990510"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621682990511"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-535"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621682989777"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocD"><span class="hs-identifier hs-type">DocD</span></a></span><span> </span><span class="annot"><span class="annottext">XDocD p
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocCommentPrev"><span class="hs-identifier hs-type">DocCommentPrev</span></a></span><span> </span><span id="local-6989586621682990515"><span class="annot"><span class="annottext">LHsDoc p
</span><a href="#local-6989586621682990515"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621682990516"><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621682990516"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990517"><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
</span><a href="#local-6989586621682990517"><span class="hs-identifier hs-var">mprev</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[WithHsDocIdentifiers HsDocString p]
-&gt; Maybe (XRec p (HsDecl p))
-&gt; [XRec p (HsDecl p)]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
</span><a href="#local-6989586621682990503"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsDoc p -&gt; WithHsDocIdentifiers HsDocString p
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsDoc p
</span><a href="#local-6989586621682990515"><span class="hs-identifier hs-var">s</span></a></span><span class="annot"><span class="annottext">WithHsDocIdentifiers HsDocString p
-&gt; [WithHsDocIdentifiers HsDocString p]
-&gt; [WithHsDocIdentifiers HsDocString p]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[WithHsDocIdentifiers HsDocString p]
</span><a href="#local-6989586621682990504"><span class="hs-identifier hs-var">docs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
</span><a href="#local-6989586621682990517"><span class="hs-identifier hs-var">mprev</span></a></span><span> </span><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621682990516"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-536"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621682990518"><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621682990518"><span class="hs-identifier hs-var">d</span></a></span></span><span>                                  </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621682990519"><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621682990519"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[WithHsDocIdentifiers HsDocString p]
-&gt; Maybe (XRec p (HsDecl p))
-&gt; [XRec p (HsDecl p)]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
</span><a href="#local-6989586621682990503"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[WithHsDocIdentifiers HsDocString p]
</span><a href="#local-6989586621682990504"><span class="hs-identifier hs-var">docs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XRec p (HsDecl p) -&gt; Maybe (XRec p (HsDecl p))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621682990518"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621682990519"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-537"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621682990520"><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621682990520"><span class="hs-identifier hs-var">d</span></a></span></span><span>                                  </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621682990521"><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621682990521"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682990522"><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621682990522"><span class="hs-identifier hs-var">prev</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XRec p (HsDecl p)
-&gt; [WithHsDocIdentifiers HsDocString p]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
forall {a} {a}. a -&gt; [a] -&gt; [(a, [a])] -&gt; [(a, [a])]
</span><a href="#local-6989586621682990513"><span class="hs-identifier hs-var">finished</span></a></span><span> </span><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621682990522"><span class="hs-identifier hs-var">prev</span></a></span><span> </span><span class="annot"><span class="annottext">[WithHsDocIdentifiers HsDocString p]
</span><a href="#local-6989586621682990504"><span class="hs-identifier hs-var">docs</span></a></span><span> </span><span class="annot"><span class="annottext">([(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
 -&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])])
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[WithHsDocIdentifiers HsDocString p]
-&gt; Maybe (XRec p (HsDecl p))
-&gt; [XRec p (HsDecl p)]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
</span><a href="#local-6989586621682990503"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XRec p (HsDecl p) -&gt; Maybe (XRec p (HsDecl p))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621682990520"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[XRec p (HsDecl p)]
</span><a href="#local-6989586621682990521"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-538"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (XRec p (HsDecl p))
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-539"></span><span>      </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span>                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682990523"><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621682990523"><span class="hs-identifier hs-var">prev</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XRec p (HsDecl p)
-&gt; [WithHsDocIdentifiers HsDocString p]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
-&gt; [(XRec p (HsDecl p), [WithHsDocIdentifiers HsDocString p])]
forall {a} {a}. a -&gt; [a] -&gt; [(a, [a])] -&gt; [(a, [a])]
</span><a href="#local-6989586621682990513"><span class="hs-identifier hs-var">finished</span></a></span><span> </span><span class="annot"><span class="annottext">XRec p (HsDecl p)
</span><a href="#local-6989586621682990523"><span class="hs-identifier hs-var">prev</span></a></span><span> </span><span class="annot"><span class="annottext">[WithHsDocIdentifiers HsDocString p]
</span><a href="#local-6989586621682990504"><span class="hs-identifier hs-var">docs</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-540"></span><span>
</span><span id="line-541"></span><span>    </span><span id="local-6989586621682990513"><span class="annot"><span class="annottext">finished :: a -&gt; [a] -&gt; [(a, [a])] -&gt; [(a, [a])]
</span><a href="#local-6989586621682990513"><span class="hs-identifier hs-var hs-var">finished</span></a></span></span><span> </span><span id="local-6989586621682990524"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682990524"><span class="hs-identifier hs-var">decl</span></a></span></span><span> </span><span id="local-6989586621682990525"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621682990525"><span class="hs-identifier hs-var">docs</span></a></span></span><span> </span><span id="local-6989586621682990526"><span class="annot"><span class="annottext">[(a, [a])]
</span><a href="#local-6989586621682990526"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682990524"><span class="hs-identifier hs-var">decl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621682990525"><span class="hs-identifier hs-var">docs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a, [a]) -&gt; [(a, [a])] -&gt; [(a, [a])]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[(a, [a])]
</span><a href="#local-6989586621682990526"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-542"></span><span>
</span><span id="line-543"></span><span class="annot"><span class="hs-comment">-- | Filter out declarations that we don't handle in Haddock</span></span><span>
</span><span id="line-544"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#filterDecls"><span class="hs-identifier hs-type">filterDecls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682989775"><span class="annot"><a href="#local-6989586621682989775"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621682989776"><span class="annot"><a href="#local-6989586621682989776"><span class="hs-identifier hs-type">doc</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#UnXRec"><span class="hs-identifier hs-type">UnXRec</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989775"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989775"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682989776"><span class="hs-identifier hs-type">doc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989775"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682989776"><span class="hs-identifier hs-type">doc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-545"></span><span id="filterDecls"><span class="annot"><span class="annottext">filterDecls :: forall p doc. UnXRec p =&gt; [(LHsDecl p, doc)] -&gt; [(LHsDecl p, doc)]
</span><a href="GHC.HsToCore.Docs.html#filterDecls"><span class="hs-identifier hs-var hs-var">filterDecls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((XRec p (HsDecl p), doc) -&gt; Bool)
-&gt; [(XRec p (HsDecl p), doc)] -&gt; [(XRec p (HsDecl p), doc)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsDecl p -&gt; Bool
forall a. HsDecl a -&gt; Bool
</span><a href="#local-6989586621682990530"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="annot"><span class="annottext">(HsDecl p -&gt; Bool)
-&gt; ((XRec p (HsDecl p), doc) -&gt; HsDecl p)
-&gt; (XRec p (HsDecl p), doc)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall p a. UnXRec p =&gt; XRec p a -&gt; a
</span><a href="Language.Haskell.Syntax.Extension.html#unXRec"><span class="hs-identifier hs-var">unXRec</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621682989775"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><span class="annottext">(XRec p (HsDecl p) -&gt; HsDecl p)
-&gt; ((XRec p (HsDecl p), doc) -&gt; XRec p (HsDecl p))
-&gt; (XRec p (HsDecl p), doc)
-&gt; HsDecl p
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(XRec p (HsDecl p), doc) -&gt; XRec p (HsDecl p)
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span>
</span><span id="line-546"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-547"></span><span>    </span><span id="local-6989586621682990530"><span class="annot"><span class="annottext">isHandled :: HsDecl name -&gt; Bool
</span><a href="#local-6989586621682990530"><span class="hs-identifier hs-var hs-var">isHandled</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForD"><span class="hs-identifier hs-type">ForD</span></a></span><span> </span><span class="annot"><span class="annottext">XForD name
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ForeignImport"><span class="hs-identifier hs-type">ForeignImport</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-548"></span><span>    </span><span class="annot"><a href="#local-6989586621682990530"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-549"></span><span>    </span><span class="annot"><a href="#local-6989586621682990530"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#InstD"><span class="hs-identifier hs-type">InstD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-550"></span><span>    </span><span class="annot"><a href="#local-6989586621682990530"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DerivD"><span class="hs-identifier hs-type">DerivD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-551"></span><span>    </span><span class="annot"><a href="#local-6989586621682990530"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#SigD"><span class="hs-identifier hs-type">SigD</span></a></span><span> </span><span class="annot"><span class="annottext">XSigD name
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990531"><span class="annot"><span class="annottext">Sig name
</span><a href="#local-6989586621682990531"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sig name -&gt; Bool
forall name. Sig name -&gt; Bool
</span><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-var">isUserSig</span></a></span><span> </span><span class="annot"><span class="annottext">Sig name
</span><a href="#local-6989586621682990531"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-552"></span><span>    </span><span class="annot"><a href="#local-6989586621682990530"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ValD"><span class="hs-identifier hs-type">ValD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-553"></span><span>    </span><span class="hs-comment">-- we keep doc declarations to be able to get at named docs</span><span>
</span><span id="line-554"></span><span>    </span><span class="annot"><a href="#local-6989586621682990530"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#DocD"><span class="hs-identifier hs-type">DocD</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-555"></span><span>    </span><span class="annot"><a href="#local-6989586621682990530"><span class="hs-identifier hs-var">isHandled</span></a></span><span> </span><span class="annot"><span class="annottext">HsDecl name
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-556"></span><span>
</span><span id="line-557"></span><span>
</span><span id="line-558"></span><span class="annot"><span class="hs-comment">-- | Go through all class declarations and filter their sub-declarations</span></span><span>
</span><span id="line-559"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#filterClasses"><span class="hs-identifier hs-type">filterClasses</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682989809"><span class="annot"><a href="#local-6989586621682989809"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621682989810"><span class="annot"><a href="#local-6989586621682989810"><span class="hs-identifier hs-type">doc</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#IsPass"><span class="hs-identifier hs-type">IsPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989809"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989809"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682989810"><span class="hs-identifier hs-type">doc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#LHsDecl"><span class="hs-identifier hs-type">LHsDecl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989809"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682989810"><span class="hs-identifier hs-type">doc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-560"></span><span id="filterClasses"><span class="annot"><span class="annottext">filterClasses :: forall (p :: Pass) doc.
IsPass p =&gt;
[(LHsDecl (GhcPass p), doc)] -&gt; [(LHsDecl (GhcPass p), doc)]
</span><a href="GHC.HsToCore.Docs.html#filterClasses"><span class="hs-identifier hs-var hs-var">filterClasses</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass p)), doc)
 -&gt; (GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass p)), doc))
-&gt; [(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass p)), doc)]
-&gt; [(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass p)), doc)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass p))
 -&gt; GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass p)))
-&gt; (GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass p)), doc)
-&gt; (GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass p)), doc)
forall a b c. (a -&gt; b) -&gt; (a, c) -&gt; (b, c)
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><a href="../../base-4.21.0.0-ae91/src/Data.Bifunctor.html#first"><span class="hs-identifier hs-var">first</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HsDecl (GhcPass p) -&gt; HsDecl (GhcPass p))
-&gt; GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass p))
-&gt; GenLocated (EpAnn AnnListItem) (HsDecl (GhcPass p))
forall a b.
(a -&gt; b)
-&gt; GenLocated (EpAnn AnnListItem) a
-&gt; GenLocated (EpAnn AnnListItem) b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">HsDecl (GhcPass p) -&gt; HsDecl (GhcPass p)
forall {p} {l}.
(XRec p (Sig p) ~ GenLocated l (Sig p), UnXRec p) =&gt;
HsDecl p -&gt; HsDecl p
</span><a href="#local-6989586621682990539"><span class="hs-identifier hs-var">filterClass</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-561"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-562"></span><span>    </span><span id="local-6989586621682990539"><span class="annot"><span class="annottext">filterClass :: HsDecl p -&gt; HsDecl p
</span><a href="#local-6989586621682990539"><span class="hs-identifier hs-var hs-var">filterClass</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-type">TyClD</span></a></span><span> </span><span id="local-6989586621682990547"><span class="annot"><span class="annottext">XTyClD p
</span><a href="#local-6989586621682990547"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682990548"><span class="annot"><span class="annottext">c :: TyClDecl p
</span><a href="#local-6989586621682990548"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#ClassDecl"><span class="hs-identifier hs-type">ClassDecl</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-563"></span><span>      </span><span class="annot"><span class="annottext">XTyClD p -&gt; TyClDecl p -&gt; HsDecl p
forall p. XTyClD p -&gt; TyClDecl p -&gt; HsDecl p
</span><a href="Language.Haskell.Syntax.Decls.html#TyClD"><span class="hs-identifier hs-var">TyClD</span></a></span><span> </span><span class="annot"><span class="annottext">XTyClD p
</span><a href="#local-6989586621682990547"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(TyClDecl p -&gt; HsDecl p) -&gt; TyClDecl p -&gt; HsDecl p
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TyClDecl p
</span><a href="#local-6989586621682990548"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdSigs"><span class="hs-identifier hs-var">tcdSigs</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-564"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">liftA2</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">(||)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-type">isUserSig</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#isMinimalLSig"><span class="hs-identifier hs-type">isMinimalLSig</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Decls.html#tcdSigs"><span class="hs-identifier hs-var">tcdSigs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682990548"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-565"></span><span>    </span><span class="annot"><a href="#local-6989586621682990539"><span class="hs-identifier hs-var">filterClass</span></a></span><span> </span><span id="local-6989586621682990553"><span class="annot"><span class="annottext">HsDecl p
</span><a href="#local-6989586621682990553"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDecl p
</span><a href="#local-6989586621682990553"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-566"></span><span>
</span><span id="line-567"></span><span class="annot"><span class="hs-comment">-- | Was this signature given by the user?</span></span><span>
</span><span id="line-568"></span><span id="local-6989586621682989832"><span class="annot"><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-type">isUserSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#Sig"><span class="hs-identifier hs-type">Sig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989832"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-569"></span><span id="isUserSig"><span class="annot"><span class="annottext">isUserSig :: forall name. Sig name -&gt; Bool
</span><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-var hs-var">isUserSig</span></a></span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#TypeSig"><span class="hs-identifier hs-type">TypeSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-570"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-var">isUserSig</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#ClassOpSig"><span class="hs-identifier hs-type">ClassOpSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-571"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-var">isUserSig</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynSig"><span class="hs-identifier hs-type">PatSynSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-572"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#isUserSig"><span class="hs-identifier hs-var">isUserSig</span></a></span><span> </span><span class="annot"><span class="annottext">Sig name
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-573"></span><span>
</span><span id="line-574"></span><span class="hs-comment">-- | Take a field of declarations from a data structure and create HsDecls</span><span>
</span><span id="line-575"></span><span class="hs-comment">-- using the given constructor</span><span>
</span><span id="line-576"></span><span id="local-6989586621682989780"><span id="local-6989586621682989781"><span id="local-6989586621682989782"><span id="local-6989586621682989783"><span class="annot"><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-type">mkDecls</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682989780"><span class="hs-identifier hs-type">struct</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#GenLocated"><span class="hs-identifier hs-type">GenLocated</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989781"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989782"><span class="hs-identifier hs-type">decl</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-577"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682989782"><span class="hs-identifier hs-type">decl</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682989783"><span class="hs-identifier hs-type">hsDecl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-578"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621682989780"><span class="hs-identifier hs-type">struct</span></a></span><span>
</span><span id="line-579"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.SrcLoc.html#GenLocated"><span class="hs-identifier hs-type">GenLocated</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989781"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989783"><span class="hs-identifier hs-type">hsDecl</span></a></span><span class="hs-special">]</span></span></span></span></span><span>
</span><span id="line-580"></span><span id="mkDecls"><span class="annot"><span class="annottext">mkDecls :: forall struct l decl hsDecl.
(struct -&gt; [GenLocated l decl])
-&gt; (decl -&gt; hsDecl) -&gt; struct -&gt; [GenLocated l hsDecl]
</span><a href="GHC.HsToCore.Docs.html#mkDecls"><span class="hs-identifier hs-var hs-var">mkDecls</span></a></span></span><span> </span><span id="local-6989586621682990555"><span class="annot"><span class="annottext">struct -&gt; [GenLocated l decl]
</span><a href="#local-6989586621682990555"><span class="hs-identifier hs-var">field</span></a></span></span><span> </span><span id="local-6989586621682990556"><span class="annot"><span class="annottext">decl -&gt; hsDecl
</span><a href="#local-6989586621682990556"><span class="hs-identifier hs-var">con</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated l decl -&gt; GenLocated l hsDecl)
-&gt; [GenLocated l decl] -&gt; [GenLocated l hsDecl]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(decl -&gt; hsDecl) -&gt; GenLocated l decl -&gt; GenLocated l hsDecl
forall a b. (a -&gt; b) -&gt; GenLocated l a -&gt; GenLocated l b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">decl -&gt; hsDecl
</span><a href="#local-6989586621682990556"><span class="hs-identifier hs-var">con</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([GenLocated l decl] -&gt; [GenLocated l hsDecl])
-&gt; (struct -&gt; [GenLocated l decl])
-&gt; struct
-&gt; [GenLocated l hsDecl]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">struct -&gt; [GenLocated l decl]
</span><a href="#local-6989586621682990555"><span class="hs-identifier hs-var">field</span></a></span><span>
</span><span id="line-581"></span><span>
</span><span id="line-582"></span><span class="hs-comment">-- | Extracts out individual maps of documentation added via Template Haskell's</span><span>
</span><span id="line-583"></span><span class="hs-comment">-- @putDoc@.</span><span>
</span><span id="line-584"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#extractTHDocs"><span class="hs-identifier hs-type">extractTHDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.html#THDocs"><span class="hs-identifier hs-type">THDocs</span></a></span><span>
</span><span id="line-585"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#ExtractedTHDocs"><span class="hs-identifier hs-type">ExtractedTHDocs</span></a></span><span>
</span><span id="line-586"></span><span id="extractTHDocs"><span class="annot"><span class="annottext">extractTHDocs :: THDocs -&gt; ExtractedTHDocs
</span><a href="GHC.HsToCore.Docs.html#extractTHDocs"><span class="hs-identifier hs-var hs-var">extractTHDocs</span></a></span></span><span> </span><span id="local-6989586621682990557"><span class="annot"><span class="annottext">THDocs
</span><a href="#local-6989586621682990557"><span class="hs-identifier hs-var">docs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-587"></span><span>  </span><span class="hs-comment">-- Split up docs into separate maps for each 'DocLoc' type</span><span>
</span><span id="line-588"></span><span>  </span><span class="annot"><a href="GHC.Hs.Doc.html#ExtractedTHDocs"><span class="hs-identifier hs-type">ExtractedTHDocs</span></a></span><span>
</span><span id="line-589"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ethd_mod_header :: Maybe (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.Hs.Doc.html#ethd_mod_header"><span class="hs-identifier hs-var">ethd_mod_header</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990559"><span class="hs-identifier hs-var">docHeader</span></a></span><span>
</span><span id="line-590"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ethd_decl_docs :: UniqMap Name (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.Hs.Doc.html#ethd_decl_docs"><span class="hs-identifier hs-var">ethd_decl_docs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqMap Name (HsDoc (GhcPass 'Renamed))
 -&gt; (DocLoc, HsDoc (GhcPass 'Renamed))
 -&gt; UniqMap Name (HsDoc (GhcPass 'Renamed)))
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
forall a.
(UniqMap Name a
 -&gt; (DocLoc, HsDoc (GhcPass 'Renamed)) -&gt; UniqMap Name a)
-&gt; UniqMap Name a
</span><a href="#local-6989586621682990561"><span class="hs-identifier hs-var">searchDocs</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name (HsDoc (GhcPass 'Renamed))
-&gt; (DocLoc, HsDoc (GhcPass 'Renamed))
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
forall {a}. UniqMap Name a -&gt; (DocLoc, a) -&gt; UniqMap Name a
</span><a href="#local-6989586621682990562"><span class="hs-identifier hs-var">decl</span></a></span><span>
</span><span id="line-591"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ethd_arg_docs :: UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
</span><a href="GHC.Hs.Doc.html#ethd_arg_docs"><span class="hs-identifier hs-var">ethd_arg_docs</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
 -&gt; (DocLoc, HsDoc (GhcPass 'Renamed))
 -&gt; UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed))))
-&gt; UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
forall a.
(UniqMap Name a
 -&gt; (DocLoc, HsDoc (GhcPass 'Renamed)) -&gt; UniqMap Name a)
-&gt; UniqMap Name a
</span><a href="#local-6989586621682990561"><span class="hs-identifier hs-var">searchDocs</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
-&gt; (DocLoc, HsDoc (GhcPass 'Renamed))
-&gt; UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
</span><a href="#local-6989586621682990564"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-592"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ethd_inst_docs :: UniqMap Name (HsDoc (GhcPass 'Renamed))
</span><a href="GHC.Hs.Doc.html#ethd_inst_docs"><span class="hs-identifier hs-var">ethd_inst_docs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqMap Name (HsDoc (GhcPass 'Renamed))
 -&gt; (DocLoc, HsDoc (GhcPass 'Renamed))
 -&gt; UniqMap Name (HsDoc (GhcPass 'Renamed)))
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
forall a.
(UniqMap Name a
 -&gt; (DocLoc, HsDoc (GhcPass 'Renamed)) -&gt; UniqMap Name a)
-&gt; UniqMap Name a
</span><a href="#local-6989586621682990561"><span class="hs-identifier hs-var">searchDocs</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name (HsDoc (GhcPass 'Renamed))
-&gt; (DocLoc, HsDoc (GhcPass 'Renamed))
-&gt; UniqMap Name (HsDoc (GhcPass 'Renamed))
forall {a}. UniqMap Name a -&gt; (DocLoc, a) -&gt; UniqMap Name a
</span><a href="#local-6989586621682990566"><span class="hs-identifier hs-var">insts</span></a></span><span>
</span><span id="line-593"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-594"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-595"></span><span>    </span><span class="annot"><a href="#local-6989586621682990559"><span class="hs-identifier hs-type">docHeader</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-596"></span><span>    </span><span id="local-6989586621682990559"><span class="annot"><span class="annottext">docHeader :: Maybe (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990559"><span class="hs-identifier hs-var hs-var">docHeader</span></a></span></span><span>
</span><span id="line-597"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">DocLoc
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990567"><span class="annot"><span class="annottext">HsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990567"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[(DocLoc, HsDoc (GhcPass 'Renamed))]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((DocLoc, HsDoc (GhcPass 'Renamed)) -&gt; Bool)
-&gt; [(DocLoc, HsDoc (GhcPass 'Renamed))]
-&gt; [(DocLoc, HsDoc (GhcPass 'Renamed))]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">(DocLoc, HsDoc (GhcPass 'Renamed)) -&gt; Bool
forall {b}. (DocLoc, b) -&gt; Bool
</span><a href="#local-6989586621682990568"><span class="hs-identifier hs-var">isModDoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">THDocs -&gt; [(DocLoc, HsDoc (GhcPass 'Renamed))]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#toList"><span class="hs-identifier hs-var">M.toList</span></a></span><span> </span><span class="annot"><span class="annottext">THDocs
</span><a href="#local-6989586621682990557"><span class="hs-identifier hs-var">docs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsDoc (GhcPass 'Renamed) -&gt; Maybe (HsDoc (GhcPass 'Renamed))
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">HsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990567"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-598"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (HsDoc (GhcPass 'Renamed))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-599"></span><span>
</span><span id="line-600"></span><span>    </span><span id="local-6989586621682990568"><span class="annot"><span class="annottext">isModDoc :: (DocLoc, b) -&gt; Bool
</span><a href="#local-6989586621682990568"><span class="hs-identifier hs-var hs-var">isModDoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DocLoc
</span><a href="GHC.Tc.Types.html#ModuleDoc"><span class="hs-identifier hs-var">ModuleDoc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-601"></span><span>    </span><span class="annot"><a href="#local-6989586621682990568"><span class="hs-identifier hs-var">isModDoc</span></a></span><span> </span><span class="annot"><span class="annottext">(DocLoc, b)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-602"></span><span>
</span><span id="line-603"></span><span>    </span><span class="hs-comment">-- Folds over the docs, applying 'f' as the accumulating function.</span><span>
</span><span id="line-604"></span><span>    </span><span class="hs-comment">-- We use different accumulating functions to sift out the specific types of</span><span>
</span><span id="line-605"></span><span>    </span><span class="hs-comment">-- documentation</span><span>
</span><span id="line-606"></span><span>    </span><span id="local-6989586621682989856"><span class="annot"><a href="#local-6989586621682990561"><span class="hs-identifier hs-type">searchDocs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989856"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.html#DocLoc"><span class="hs-identifier hs-type">DocLoc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989856"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989856"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-607"></span><span>    </span><span id="local-6989586621682990561"><span class="annot"><span class="annottext">searchDocs :: forall a.
(UniqMap Name a
 -&gt; (DocLoc, HsDoc (GhcPass 'Renamed)) -&gt; UniqMap Name a)
-&gt; UniqMap Name a
</span><a href="#local-6989586621682990561"><span class="hs-identifier hs-var hs-var">searchDocs</span></a></span></span><span> </span><span id="local-6989586621682990571"><span class="annot"><span class="annottext">UniqMap Name a
-&gt; (DocLoc, HsDoc (GhcPass 'Renamed)) -&gt; UniqMap Name a
</span><a href="#local-6989586621682990571"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UniqMap Name a
 -&gt; (DocLoc, HsDoc (GhcPass 'Renamed)) -&gt; UniqMap Name a)
-&gt; UniqMap Name a
-&gt; [(DocLoc, HsDoc (GhcPass 'Renamed))]
-&gt; UniqMap Name a
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl'</span></span><span> </span><span class="annot"><span class="annottext">UniqMap Name a
-&gt; (DocLoc, HsDoc (GhcPass 'Renamed)) -&gt; UniqMap Name a
</span><a href="#local-6989586621682990571"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name a
forall k a. UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#emptyUniqMap"><span class="hs-identifier hs-var">emptyUniqMap</span></a></span><span> </span><span class="annot"><span class="annottext">([(DocLoc, HsDoc (GhcPass 'Renamed))] -&gt; UniqMap Name a)
-&gt; [(DocLoc, HsDoc (GhcPass 'Renamed))] -&gt; UniqMap Name a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">THDocs -&gt; [(DocLoc, HsDoc (GhcPass 'Renamed))]
forall k a. Map k a -&gt; [(k, a)]
</span><a href="../../containers-0.7-5a8f/src/Data.Map.Internal.html#toList"><span class="hs-identifier hs-var">M.toList</span></a></span><span> </span><span class="annot"><span class="annottext">THDocs
</span><a href="#local-6989586621682990557"><span class="hs-identifier hs-var">docs</span></a></span><span>
</span><span id="line-608"></span><span>
</span><span id="line-609"></span><span>    </span><span class="hs-comment">-- Pick out the declaration docs</span><span>
</span><span id="line-610"></span><span>    </span><span id="local-6989586621682990562"><span class="annot"><span class="annottext">decl :: UniqMap Name a -&gt; (DocLoc, a) -&gt; UniqMap Name a
</span><a href="#local-6989586621682990562"><span class="hs-identifier hs-var hs-var">decl</span></a></span></span><span> </span><span id="local-6989586621682990574"><span class="annot"><span class="annottext">UniqMap Name a
</span><a href="#local-6989586621682990574"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.html#DeclDoc"><span class="hs-identifier hs-type">DeclDoc</span></a></span><span> </span><span id="local-6989586621682990576"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990576"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990577"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682990577"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqMap Name a -&gt; Name -&gt; a -&gt; UniqMap Name a
forall k a. Uniquable k =&gt; UniqMap k a -&gt; k -&gt; a -&gt; UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#addToUniqMap"><span class="hs-identifier hs-var">addToUniqMap</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name a
</span><a href="#local-6989586621682990574"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990576"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682990577"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-611"></span><span>    </span><span class="annot"><a href="#local-6989586621682990562"><span class="hs-identifier hs-var">decl</span></a></span><span> </span><span id="local-6989586621682990579"><span class="annot"><span class="annottext">UniqMap Name a
</span><a href="#local-6989586621682990579"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="annot"><span class="annottext">(DocLoc, a)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqMap Name a
</span><a href="#local-6989586621682990579"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-612"></span><span>
</span><span id="line-613"></span><span>    </span><span class="hs-comment">-- Pick out the instance docs</span><span>
</span><span id="line-614"></span><span>    </span><span id="local-6989586621682990566"><span class="annot"><span class="annottext">insts :: UniqMap Name a -&gt; (DocLoc, a) -&gt; UniqMap Name a
</span><a href="#local-6989586621682990566"><span class="hs-identifier hs-var hs-var">insts</span></a></span></span><span> </span><span id="local-6989586621682990581"><span class="annot"><span class="annottext">UniqMap Name a
</span><a href="#local-6989586621682990581"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.html#InstDoc"><span class="hs-identifier hs-type">InstDoc</span></a></span><span> </span><span id="local-6989586621682990583"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990583"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990584"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682990584"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqMap Name a -&gt; Name -&gt; a -&gt; UniqMap Name a
forall k a. Uniquable k =&gt; UniqMap k a -&gt; k -&gt; a -&gt; UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#addToUniqMap"><span class="hs-identifier hs-var">addToUniqMap</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name a
</span><a href="#local-6989586621682990581"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990583"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682990584"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-615"></span><span>    </span><span class="annot"><a href="#local-6989586621682990566"><span class="hs-identifier hs-var">insts</span></a></span><span> </span><span id="local-6989586621682990585"><span class="annot"><span class="annottext">UniqMap Name a
</span><a href="#local-6989586621682990585"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="annot"><span class="annottext">(DocLoc, a)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqMap Name a
</span><a href="#local-6989586621682990585"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-616"></span><span>
</span><span id="line-617"></span><span>    </span><span class="hs-comment">-- Pick out the argument docs</span><span>
</span><span id="line-618"></span><span>    </span><span class="annot"><a href="#local-6989586621682990564"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-619"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.html#DocLoc"><span class="hs-identifier hs-type">DocLoc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-620"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Doc.html#HsDoc"><span class="hs-identifier hs-type">HsDoc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-621"></span><span>    </span><span id="local-6989586621682990564"><span class="annot"><span class="annottext">args :: UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
-&gt; (DocLoc, HsDoc (GhcPass 'Renamed))
-&gt; UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
</span><a href="#local-6989586621682990564"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682990586"><span class="annot"><span class="annottext">UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
</span><a href="#local-6989586621682990586"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.html#ArgDoc"><span class="hs-identifier hs-type">ArgDoc</span></a></span><span> </span><span id="local-6989586621682990588"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990588"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621682990589"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990589"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990590"><span class="annot"><span class="annottext">HsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990590"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-622"></span><span>      </span><span class="hs-comment">-- Insert the doc for the arg into the argument map for the function. This</span><span>
</span><span id="line-623"></span><span>      </span><span class="hs-comment">-- means we have to search to see if an map already exists for the</span><span>
</span><span id="line-624"></span><span>      </span><span class="hs-comment">-- function, and insert the new argument if it exists, or create a new map</span><span>
</span><span id="line-625"></span><span>       </span><span class="annot"><span class="annottext">(IntMap (HsDoc (GhcPass 'Renamed))
 -&gt; IntMap (HsDoc (GhcPass 'Renamed))
 -&gt; IntMap (HsDoc (GhcPass 'Renamed)))
-&gt; UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
-&gt; Name
-&gt; IntMap (HsDoc (GhcPass 'Renamed))
-&gt; UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
forall k a.
Uniquable k =&gt;
(a -&gt; a -&gt; a) -&gt; UniqMap k a -&gt; k -&gt; a -&gt; UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#addToUniqMap_C"><span class="hs-identifier hs-var">addToUniqMap_C</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">IntMap (HsDoc (GhcPass 'Renamed))
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682990592"><span class="annot"><span class="annottext">IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990592"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Key
-&gt; HsDoc (GhcPass 'Renamed)
-&gt; IntMap (HsDoc (GhcPass 'Renamed))
-&gt; IntMap (HsDoc (GhcPass 'Renamed))
forall a. Key -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#insert"><span class="hs-identifier hs-var">IM.insert</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990589"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">HsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990590"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap (HsDoc (GhcPass 'Renamed))
</span><a href="#local-6989586621682990592"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
</span><a href="#local-6989586621682990586"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990588"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
-&gt; HsDoc (GhcPass 'Renamed) -&gt; IntMap (HsDoc (GhcPass 'Renamed))
forall a. Key -&gt; a -&gt; IntMap a
</span><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#singleton"><span class="hs-identifier hs-var">IM.singleton</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621682990589"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">HsDoc (GhcPass 'Renamed)
</span><a href="#local-6989586621682990590"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-626"></span><span>    </span><span class="annot"><a href="#local-6989586621682990564"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span id="local-6989586621682990593"><span class="annot"><span class="annottext">UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
</span><a href="#local-6989586621682990593"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="annot"><span class="annottext">(DocLoc, HsDoc (GhcPass 'Renamed))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqMap Name (IntMap (HsDoc (GhcPass 'Renamed)))
</span><a href="#local-6989586621682990593"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-627"></span><span>
</span><span id="line-628"></span><span class="hs-comment">-- | Unions together two 'ArgDocMaps' (or ArgMaps in haddock-api), such that two</span><span>
</span><span id="line-629"></span><span class="hs-comment">-- maps with values for the same key merge the inner map as well.</span><span>
</span><span id="line-630"></span><span class="hs-comment">-- Left biased so @unionArgMaps a b@ prefers @a@ over @b@.</span><span>
</span><span id="line-631"></span><span>
</span><span id="line-632"></span><span class="annot"><a href="GHC.HsToCore.Docs.html#unionArgMaps"><span class="hs-identifier hs-type">unionArgMaps</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621682989524"><span class="annot"><a href="#local-6989586621682989524"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989524"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-633"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989524"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-634"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989524"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-635"></span><span id="unionArgMaps"><span class="annot"><span class="annottext">unionArgMaps :: forall b.
UniqMap Name (IntMap b)
-&gt; UniqMap Name (IntMap b) -&gt; UniqMap Name (IntMap b)
</span><a href="GHC.HsToCore.Docs.html#unionArgMaps"><span class="hs-identifier hs-var hs-var">unionArgMaps</span></a></span></span><span> </span><span id="local-6989586621682990597"><span class="annot"><span class="annottext">UniqMap Name (IntMap b)
</span><a href="#local-6989586621682990597"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621682990598"><span class="annot"><span class="annottext">UniqMap Name (IntMap b)
</span><a href="#local-6989586621682990598"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Name, IntMap b)
 -&gt; UniqMap Name (IntMap b) -&gt; UniqMap Name (IntMap b))
-&gt; UniqMap Name (IntMap b)
-&gt; UniqMap Name (IntMap b)
-&gt; UniqMap Name (IntMap b)
forall k a b. ((k, a) -&gt; b -&gt; b) -&gt; b -&gt; UniqMap k a -&gt; b
</span><a href="GHC.Types.Unique.Map.html#nonDetFoldUniqMap"><span class="hs-identifier hs-var">nonDetFoldUniqMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Name, IntMap b)
-&gt; UniqMap Name (IntMap b) -&gt; UniqMap Name (IntMap b)
</span><a href="#local-6989586621682990600"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name (IntMap b)
</span><a href="#local-6989586621682990598"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name (IntMap b)
</span><a href="#local-6989586621682990597"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-636"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-637"></span><span>    </span><span class="annot"><a href="#local-6989586621682990600"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989524"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-638"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989524"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Unique.Map.html#UniqMap"><span class="hs-identifier hs-type">UniqMap</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#IntMap"><span class="hs-identifier hs-type">IntMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682989524"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-639"></span><span>    </span><span id="local-6989586621682990600"><span class="annot"><span class="annottext">go :: (Name, IntMap b)
-&gt; UniqMap Name (IntMap b) -&gt; UniqMap Name (IntMap b)
</span><a href="#local-6989586621682990600"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682990601"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990601"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682990602"><span class="annot"><span class="annottext">IntMap b
</span><a href="#local-6989586621682990602"><span class="hs-identifier hs-var">newArgMap</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682990603"><span class="annot"><span class="annottext">UniqMap Name (IntMap b)
</span><a href="#local-6989586621682990603"><span class="hs-identifier hs-var">acc</span></a></span></span><span>
</span><span id="line-640"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682990604"><span class="annot"><span class="annottext">IntMap b
</span><a href="#local-6989586621682990604"><span class="hs-identifier hs-var">oldArgMap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">UniqMap Name (IntMap b) -&gt; Name -&gt; Maybe (IntMap b)
forall k a. Uniquable k =&gt; UniqMap k a -&gt; k -&gt; Maybe a
</span><a href="GHC.Types.Unique.Map.html#lookupUniqMap"><span class="hs-identifier hs-var">lookupUniqMap</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name (IntMap b)
</span><a href="#local-6989586621682990603"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990601"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-641"></span><span>          </span><span class="annot"><span class="annottext">UniqMap Name (IntMap b)
-&gt; Name -&gt; IntMap b -&gt; UniqMap Name (IntMap b)
forall k a. Uniquable k =&gt; UniqMap k a -&gt; k -&gt; a -&gt; UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#addToUniqMap"><span class="hs-identifier hs-var">addToUniqMap</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name (IntMap b)
</span><a href="#local-6989586621682990603"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990601"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntMap b
</span><a href="#local-6989586621682990602"><span class="hs-identifier hs-var">newArgMap</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap b -&gt; IntMap b -&gt; IntMap b
forall a. IntMap a -&gt; IntMap a -&gt; IntMap a
</span><a href="../../containers-0.7-5a8f/src/Data.IntMap.Internal.html#union"><span class="hs-operator hs-var">`IM.union`</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap b
</span><a href="#local-6989586621682990604"><span class="hs-identifier hs-var">oldArgMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-642"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UniqMap Name (IntMap b)
-&gt; Name -&gt; IntMap b -&gt; UniqMap Name (IntMap b)
forall k a. Uniquable k =&gt; UniqMap k a -&gt; k -&gt; a -&gt; UniqMap k a
</span><a href="GHC.Types.Unique.Map.html#addToUniqMap"><span class="hs-identifier hs-var">addToUniqMap</span></a></span><span> </span><span class="annot"><span class="annottext">UniqMap Name (IntMap b)
</span><a href="#local-6989586621682990603"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682990601"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap b
</span><a href="#local-6989586621682990602"><span class="hs-identifier hs-var">newArgMap</span></a></span><span>
</span><span id="line-643"></span></pre></body></html>