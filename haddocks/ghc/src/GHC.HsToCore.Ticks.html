<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DeriveFunctor            #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE NondecreasingIndentation #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies             #-}</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-incomplete-record-updates #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-comment">{-
(c) Galois, 2006
(c) University of Glasgow, 2007
-}</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html"><span class="hs-identifier">GHC.HsToCore.Ticks</span></a></span><span>
</span><span id="line-13"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TicksConfig"><span class="hs-identifier">TicksConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#Tick"><span class="hs-identifier">Tick</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickishType"><span class="hs-identifier">TickishType</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTicksToBinds"><span class="hs-identifier">addTicksToBinds</span></a></span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isGoodSrcSpan%27"><span class="hs-identifier">isGoodSrcSpan'</span></a></span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#stripTicksTopHsExpr"><span class="hs-identifier">stripTicksTopHsExpr</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Prelude.html"><span class="hs-identifier">Prelude</span></a></span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.html"><span class="hs-identifier">GHC.Hs</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.html"><span class="hs-identifier">GHC.Unit</span></a></span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Type.html"><span class="hs-identifier">GHC.Core.Type</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.Maybe.html"><span class="hs-identifier">GHC.Data.Maybe</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Data.SizedSeq.html"><span class="hs-identifier">GHC.Data.SizedSeq</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Driver.Flags.html"><span class="hs-identifier">GHC.Driver.Flags</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Driver.Flags.html#DumpFlag"><span class="hs-identifier">DumpFlag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Outputable</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Logger.html"><span class="hs-identifier">GHC.Utils.Logger</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Id.html"><span class="hs-identifier">GHC.Types.Id</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html"><span class="hs-identifier">GHC.Types.Var.Set</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html"><span class="hs-identifier">GHC.Types.Name.Set</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Set.html#FreeVars"><span class="hs-identifier">FreeVars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.CostCentre.html"><span class="hs-identifier">GHC.Types.CostCentre</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.CostCentre.State.html"><span class="hs-identifier">GHC.Types.CostCentre.State</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Tickish.html"><span class="hs-identifier">GHC.Types.Tickish</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.ProfAuto.html"><span class="hs-identifier">GHC.Types.ProfAuto</span></a></span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.List.html"><span class="hs-identifier">Data.List</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">isSuffixOf</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">intersperse</span></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html"><span class="hs-identifier">Trace.Hpc.Mix</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Bifunctor.html"><span class="hs-identifier">Data.Bifunctor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Bifunctor.html#second"><span class="hs-identifier">second</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.Set.Internal.html#Set"><span class="hs-identifier">Set</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-comment">{-
************************************************************************
*                                                                      *
*              The main function: addTicksToBinds
*                                                                      *
************************************************************************
-}</span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-comment">-- | Configuration for compilation pass to add tick for instrumentation</span><span>
</span><span id="line-67"></span><span class="hs-comment">-- to binding sites.</span><span>
</span><span id="line-68"></span><span class="hs-keyword">data</span><span> </span><span id="TicksConfig"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TicksConfig"><span class="hs-identifier hs-var">TicksConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TicksConfig"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TicksConfig"><span class="hs-identifier hs-var">TicksConfig</span></a></span></span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="ticks_passes"><span class="annot"><span class="annottext">TicksConfig -&gt; [TickishType]
</span><a href="GHC.HsToCore.Ticks.html#ticks_passes"><span class="hs-identifier hs-var hs-var">ticks_passes</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickishType"><span class="hs-identifier hs-type">TickishType</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ What purposes do we need ticks for</span></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ticks_profAuto"><span class="annot"><span class="annottext">TicksConfig -&gt; ProfAuto
</span><a href="GHC.HsToCore.Ticks.html#ticks_profAuto"><span class="hs-identifier hs-var hs-var">ticks_profAuto</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.ProfAuto.html#ProfAuto"><span class="hs-identifier hs-type">ProfAuto</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ What kind of {-# SCC #-} to add automatically</span></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="ticks_countEntries"><span class="annot"><span class="annottext">TicksConfig -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#ticks_countEntries"><span class="hs-identifier hs-var hs-var">ticks_countEntries</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-comment">-- ^ Whether to count the entries to functions</span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-comment">-- Requires extra synchronization which can vastly degrade</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-comment">-- performance.</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-keyword">data</span><span> </span><span id="Tick"><span class="annot"><a href="GHC.HsToCore.Ticks.html#Tick"><span class="hs-identifier hs-var">Tick</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Tick"><span class="annot"><a href="GHC.HsToCore.Ticks.html#Tick"><span class="hs-identifier hs-var">Tick</span></a></span></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="tick_loc"><span class="annot"><span class="annottext">Tick -&gt; SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#tick_loc"><span class="hs-identifier hs-var hs-var">tick_loc</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Tick source span</span></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="tick_path"><span class="annot"><span class="annottext">Tick -&gt; [String]
</span><a href="GHC.HsToCore.Ticks.html#tick_path"><span class="hs-identifier hs-var hs-var">tick_path</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Path to the declaration</span></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="tick_ids"><span class="annot"><span class="annottext">Tick -&gt; [OccName]
</span><a href="GHC.HsToCore.Ticks.html#tick_ids"><span class="hs-identifier hs-var hs-var">tick_ids</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccName"><span class="hs-identifier hs-type">OccName</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Identifiers being bound</span></span><span>
</span><span id="line-86"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="tick_label"><span class="annot"><span class="annottext">Tick -&gt; BoxLabel
</span><a href="GHC.HsToCore.Ticks.html#tick_label"><span class="hs-identifier hs-var hs-var">tick_label</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BoxLabel"><span class="hs-identifier hs-type">BoxLabel</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Label for the tick counter</span></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTicksToBinds"><span class="hs-identifier hs-type">addTicksToBinds</span></a></span><span>
</span><span id="line-91"></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Utils.Logger.html#Logger"><span class="hs-identifier hs-type">Logger</span></a></span><span>
</span><span id="line-92"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TicksConfig"><span class="hs-identifier hs-type">TicksConfig</span></a></span><span>
</span><span id="line-93"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span>
</span><span id="line-94"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Module.Location.html#ModLocation"><span class="hs-identifier hs-type">ModLocation</span></a></span><span>          </span><span class="annot"><span class="hs-comment">-- ^ location of the current module</span></span><span>
</span><span id="line-95"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a></span><span>              </span><span class="hs-comment">-- ^ Exported Ids.  When we call addTicksToBinds,</span><span>
</span><span id="line-96"></span><span>                                </span><span class="hs-comment">-- isExportedId doesn't work yet (the desugarer</span><span>
</span><span id="line-97"></span><span>                                </span><span class="hs-comment">-- hasn't set it), so we have to work from this set.</span><span>
</span><span id="line-98"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span class="hs-special">]</span><span>              </span><span class="annot"><span class="hs-comment">-- ^ Type constructors in this module</span></span><span>
</span><span id="line-99"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span>
</span><span id="line-100"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Data.SizedSeq.html#SizedSeq"><span class="hs-identifier hs-type">SizedSeq</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#Tick"><span class="hs-identifier hs-type">Tick</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span id="addTicksToBinds"><span class="annot"><span class="annottext">addTicksToBinds :: Logger
-&gt; TicksConfig
-&gt; Module
-&gt; ModLocation
-&gt; NameSet
-&gt; [TyCon]
-&gt; LHsBinds GhcTc
-&gt; IO (LHsBinds GhcTc, Maybe (String, SizedSeq Tick))
</span><a href="GHC.HsToCore.Ticks.html#addTicksToBinds"><span class="hs-identifier hs-var hs-var">addTicksToBinds</span></a></span></span><span> </span><span id="local-6989586621682739701"><span class="annot"><span class="annottext">Logger
</span><a href="#local-6989586621682739701"><span class="hs-identifier hs-var">logger</span></a></span></span><span> </span><span id="local-6989586621682739702"><span class="annot"><span class="annottext">TicksConfig
</span><a href="#local-6989586621682739702"><span class="hs-identifier hs-var">cfg</span></a></span></span><span>
</span><span id="line-103"></span><span>                </span><span id="local-6989586621682739703"><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682739703"><span class="hs-identifier hs-var">mod</span></a></span></span><span> </span><span id="local-6989586621682739704"><span class="annot"><span class="annottext">ModLocation
</span><a href="#local-6989586621682739704"><span class="hs-identifier hs-var">mod_loc</span></a></span></span><span> </span><span id="local-6989586621682739705"><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621682739705"><span class="hs-identifier hs-var">exports</span></a></span></span><span> </span><span id="local-6989586621682739706"><span class="annot"><span class="annottext">[TyCon]
</span><a href="#local-6989586621682739706"><span class="hs-identifier hs-var">tyCons</span></a></span></span><span> </span><span id="local-6989586621682739707"><span class="annot"><span class="annottext">LHsBinds GhcTc
</span><a href="#local-6989586621682739707"><span class="hs-identifier hs-var">binds</span></a></span></span><span>
</span><span id="line-104"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682739708"><span class="annot"><span class="annottext">passes :: [TickishType]
</span><a href="#local-6989586621682739708"><span class="hs-identifier hs-var hs-var">passes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TicksConfig -&gt; [TickishType]
</span><a href="GHC.HsToCore.Ticks.html#ticks_passes"><span class="hs-identifier hs-var">ticks_passes</span></a></span><span> </span><span class="annot"><span class="annottext">TicksConfig
</span><a href="#local-6989586621682739702"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-105"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TickishType] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[TickishType]
</span><a href="#local-6989586621682739708"><span class="hs-identifier hs-var">passes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682739711"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682739711"><span class="hs-identifier hs-var">orig_file</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ModLocation -&gt; Maybe String
</span><a href="GHC.Unit.Module.Location.html#ml_hs_file"><span class="hs-identifier hs-var">ml_hs_file</span></a></span><span> </span><span class="annot"><span class="annottext">ModLocation
</span><a href="#local-6989586621682739704"><span class="hs-identifier hs-var">mod_loc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span>     </span><span class="hs-keyword">let</span><span>  </span><span id="local-6989586621682739713"><span class="annot"><span class="annottext">orig_file2 :: String
</span><a href="#local-6989586621682739713"><span class="hs-identifier hs-var hs-var hs-var">orig_file2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsBinds GhcTc -&gt; String -&gt; String
</span><a href="GHC.HsToCore.Ticks.html#guessSourceFile"><span class="hs-identifier hs-var">guessSourceFile</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBinds GhcTc
</span><a href="#local-6989586621682739707"><span class="hs-identifier hs-var">binds</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682739711"><span class="hs-identifier hs-var">orig_file</span></a></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span>          </span><span id="local-6989586621682739715"><span class="annot"><span class="annottext">tickPass :: TickishType
-&gt; ([GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)],
    TickTransState)
-&gt; ([GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)],
    TickTransState)
</span><a href="#local-6989586621682739715"><span class="hs-identifier hs-var hs-var hs-var">tickPass</span></a></span></span><span> </span><span id="local-6989586621682739716"><span class="annot"><span class="annottext">TickishType
</span><a href="#local-6989586621682739716"><span class="hs-identifier hs-var">tickish</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682739717"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
</span><a href="#local-6989586621682739717"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682739718"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682739718"><span class="hs-identifier hs-var">st</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-111"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682739719"><span class="annot"><span class="annottext">env :: TickTransEnv
</span><a href="#local-6989586621682739719"><span class="hs-identifier hs-var hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TTE"><span class="hs-identifier hs-type">TTE</span></a></span><span>
</span><span id="line-112"></span><span>                      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fileName :: FastString
</span><a href="GHC.HsToCore.Ticks.html#fileName"><span class="hs-identifier hs-var">fileName</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682739713"><span class="hs-identifier hs-var">orig_file2</span></a></span><span>
</span><span id="line-113"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">declPath :: [String]
</span><a href="GHC.HsToCore.Ticks.html#declPath"><span class="hs-identifier hs-var">declPath</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-114"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tte_countEntries :: Bool
</span><a href="GHC.HsToCore.Ticks.html#tte_countEntries"><span class="hs-identifier hs-var">tte_countEntries</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TicksConfig -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#ticks_countEntries"><span class="hs-identifier hs-var">ticks_countEntries</span></a></span><span> </span><span class="annot"><span class="annottext">TicksConfig
</span><a href="#local-6989586621682739702"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-115"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">exports :: NameSet
</span><a href="GHC.HsToCore.Ticks.html#exports"><span class="hs-identifier hs-var">exports</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621682739705"><span class="hs-identifier hs-var">exports</span></a></span><span>
</span><span id="line-116"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inlines :: VarSet
</span><a href="GHC.HsToCore.Ticks.html#inlines"><span class="hs-identifier hs-var">inlines</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarSet
</span><a href="GHC.Types.Var.Set.html#emptyVarSet"><span class="hs-identifier hs-var">emptyVarSet</span></a></span><span>
</span><span id="line-117"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">inScope :: VarSet
</span><a href="GHC.HsToCore.Ticks.html#inScope"><span class="hs-identifier hs-var">inScope</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VarSet
</span><a href="GHC.Types.Var.Set.html#emptyVarSet"><span class="hs-identifier hs-var">emptyVarSet</span></a></span><span>
</span><span id="line-118"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">blackList :: Set RealSrcSpan
</span><a href="GHC.HsToCore.Ticks.html#blackList"><span class="hs-identifier hs-var">blackList</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[RealSrcSpan] -&gt; Set RealSrcSpan
forall a. Ord a =&gt; [a] -&gt; Set a
</span><a href="../../containers-0.7-5a8f/src/Data.Set.Internal.html#fromList"><span class="hs-identifier hs-var">Set.fromList</span></a></span><span> </span><span class="annot"><span class="annottext">([RealSrcSpan] -&gt; Set RealSrcSpan)
-&gt; [RealSrcSpan] -&gt; Set RealSrcSpan
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-119"></span><span>                                       </span><span class="annot"><span class="annottext">(TyCon -&gt; Maybe RealSrcSpan) -&gt; [TyCon] -&gt; [RealSrcSpan]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682739732"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682739732"><span class="hs-identifier hs-var">tyCon</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Name -&gt; SrcSpan
forall a. NamedThing a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Types.Name.html#getSrcSpan"><span class="hs-identifier hs-var">getSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; Name
</span><a href="GHC.Core.TyCon.html#tyConName"><span class="hs-identifier hs-var">tyConName</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682739732"><span class="hs-identifier hs-var">tyCon</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-120"></span><span>                                                             </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span id="local-6989586621682739736"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621682739736"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Maybe RealSrcSpan
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621682739736"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-121"></span><span>                                                             </span><span class="annot"><a href="GHC.Types.SrcLoc.html#UnhelpfulSpan"><span class="hs-identifier hs-type">UnhelpfulSpan</span></a></span><span> </span><span class="annot"><span class="annottext">UnhelpfulSpanReason
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe RealSrcSpan
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span>                                                </span><span class="annot"><span class="annottext">[TyCon]
</span><a href="#local-6989586621682739706"><span class="hs-identifier hs-var">tyCons</span></a></span><span>
</span><span id="line-123"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">density :: TickDensity
</span><a href="GHC.HsToCore.Ticks.html#density"><span class="hs-identifier hs-var">density</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TickishType -&gt; ProfAuto -&gt; TickDensity
</span><a href="GHC.HsToCore.Ticks.html#mkDensity"><span class="hs-identifier hs-var">mkDensity</span></a></span><span> </span><span class="annot"><span class="annottext">TickishType
</span><a href="#local-6989586621682739716"><span class="hs-identifier hs-var">tickish</span></a></span><span> </span><span class="annot"><span class="annottext">(ProfAuto -&gt; TickDensity) -&gt; ProfAuto -&gt; TickDensity
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TicksConfig -&gt; ProfAuto
</span><a href="GHC.HsToCore.Ticks.html#ticks_profAuto"><span class="hs-identifier hs-var">ticks_profAuto</span></a></span><span> </span><span class="annot"><span class="annottext">TicksConfig
</span><a href="#local-6989586621682739702"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-124"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">this_mod :: Module
</span><a href="GHC.HsToCore.Ticks.html#this_mod"><span class="hs-identifier hs-var">this_mod</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Module
</span><a href="#local-6989586621682739703"><span class="hs-identifier hs-var">mod</span></a></span><span>
</span><span id="line-125"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tickishType :: TickishType
</span><a href="GHC.HsToCore.Ticks.html#tickishType"><span class="hs-identifier hs-var">tickishType</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TickishType
</span><a href="#local-6989586621682739716"><span class="hs-identifier hs-var">tickish</span></a></span><span>
</span><span id="line-126"></span><span>                      </span><span class="hs-special">}</span><span>
</span><span id="line-127"></span><span>                </span><span class="hs-special">(</span><span id="local-6989586621682739742"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
</span><a href="#local-6989586621682739742"><span class="hs-identifier hs-var">binds'</span></a></span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">FreeVars
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621682739743"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682739743"><span class="hs-identifier hs-var">st'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TM [GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
-&gt; TickTransEnv
-&gt; TickTransState
-&gt; ([GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)], FreeVars,
    TickTransState)
forall a.
TM a
-&gt; TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState)
</span><a href="GHC.HsToCore.Ticks.html#unTM"><span class="hs-identifier hs-var">unTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsBinds GhcTc -&gt; TM (LHsBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsBinds"><span class="hs-identifier hs-var">addTickLHsBinds</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBinds GhcTc
[GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
</span><a href="#local-6989586621682739717"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682739719"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682739718"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-128"></span><span>            </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
</span><a href="#local-6989586621682739742"><span class="hs-identifier hs-var">binds'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682739743"><span class="hs-identifier hs-var">st'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621682739746"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
</span><a href="#local-6989586621682739746"><span class="hs-identifier hs-var hs-var">binds1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682739747"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682739747"><span class="hs-identifier hs-var hs-var">st</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TickishType
 -&gt; ([GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)],
     TickTransState)
 -&gt; ([GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)],
     TickTransState))
-&gt; ([GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)],
    TickTransState)
-&gt; [TickishType]
-&gt; ([GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)],
    TickTransState)
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">TickishType
-&gt; ([GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)],
    TickTransState)
-&gt; ([GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)],
    TickTransState)
</span><a href="#local-6989586621682739715"><span class="hs-identifier hs-var">tickPass</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsBinds GhcTc
[GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
</span><a href="#local-6989586621682739707"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="GHC.HsToCore.Ticks.html#initTTState"><span class="hs-identifier hs-var">initTTState</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TickishType]
</span><a href="#local-6989586621682739708"><span class="hs-identifier hs-var">passes</span></a></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span>          </span><span id="local-6989586621682739750"><span class="annot"><span class="annottext">extendedMixEntries :: SizedSeq Tick
</span><a href="#local-6989586621682739750"><span class="hs-identifier hs-var hs-var hs-var">extendedMixEntries</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TickTransState -&gt; SizedSeq Tick
</span><a href="GHC.HsToCore.Ticks.html#ticks"><span class="hs-identifier hs-var">ticks</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682739747"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span>     </span><span class="annot"><span class="annottext">Logger -&gt; DumpFlag -&gt; String -&gt; DumpFormat -&gt; SDoc -&gt; IO ()
</span><a href="GHC.Utils.Logger.html#putDumpFileMaybe"><span class="hs-identifier hs-var">putDumpFileMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Logger
</span><a href="#local-6989586621682739701"><span class="hs-identifier hs-var">logger</span></a></span><span> </span><span class="annot"><span class="annottext">DumpFlag
</span><a href="GHC.Driver.Flags.html#Opt_D_dump_ticked"><span class="hs-identifier hs-var">Opt_D_dump_ticked</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;HPC&quot;</span></span><span> </span><span class="annot"><span class="annottext">DumpFormat
</span><a href="GHC.Utils.Logger.html#FormatHaskell"><span class="hs-identifier hs-var">FormatHaskell</span></a></span><span>
</span><span id="line-135"></span><span>       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsBinds GhcTc -&gt; SDoc
forall (idL :: Pass) (idR :: Pass).
(OutputableBndrId idL, OutputableBndrId idR) =&gt;
LHsBindsLR (GhcPass idL) (GhcPass idR) -&gt; SDoc
</span><a href="GHC.Hs.Binds.html#pprLHsBinds"><span class="hs-identifier hs-var">pprLHsBinds</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBinds GhcTc
[GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
</span><a href="#local-6989586621682739746"><span class="hs-identifier hs-var">binds1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span>     </span><span class="annot"><span class="annottext">([GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)],
 Maybe (String, SizedSeq Tick))
-&gt; IO
     ([GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)],
      Maybe (String, SizedSeq Tick))
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
</span><a href="#local-6989586621682739746"><span class="hs-identifier hs-var">binds1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(String, SizedSeq Tick) -&gt; Maybe (String, SizedSeq Tick)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682739713"><span class="hs-identifier hs-var">orig_file2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SizedSeq Tick
</span><a href="#local-6989586621682739750"><span class="hs-identifier hs-var">extendedMixEntries</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)],
 Maybe (String, SizedSeq Tick))
-&gt; IO
     ([GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)],
      Maybe (String, SizedSeq Tick))
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsBinds GhcTc
[GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
</span><a href="#local-6989586621682739707"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (String, SizedSeq Tick)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#guessSourceFile"><span class="hs-identifier hs-type">guessSourceFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-142"></span><span id="guessSourceFile"><span class="annot"><span class="annottext">guessSourceFile :: LHsBinds GhcTc -&gt; String -&gt; String
</span><a href="GHC.HsToCore.Ticks.html#guessSourceFile"><span class="hs-identifier hs-var hs-var">guessSourceFile</span></a></span></span><span> </span><span id="local-6989586621682739756"><span class="annot"><span class="annottext">LHsBinds GhcTc
</span><a href="#local-6989586621682739756"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span id="local-6989586621682739757"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682739757"><span class="hs-identifier hs-var">orig_file</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-143"></span><span>     </span><span class="hs-comment">-- Try look for a file generated from a .hsc file to a</span><span>
</span><span id="line-144"></span><span>     </span><span class="hs-comment">-- .hs file, by peeking ahead.</span><span>
</span><span id="line-145"></span><span>     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682739758"><span class="annot"><span class="annottext">top_pos :: [FastString]
</span><a href="#local-6989586621682739758"><span class="hs-identifier hs-var hs-var">top_pos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Maybe FastString] -&gt; [FastString]
forall a. [Maybe a] -&gt; [a]
</span><span class="hs-identifier hs-var">catMaybes</span></span><span> </span><span class="annot"><span class="annottext">([Maybe FastString] -&gt; [FastString])
-&gt; [Maybe FastString] -&gt; [FastString]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)
 -&gt; [Maybe FastString] -&gt; [Maybe FastString])
-&gt; [Maybe FastString]
-&gt; [GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
-&gt; [Maybe FastString]
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682739761"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739761"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcTc GhcTc
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682739762"><span class="annot"><span class="annottext">[Maybe FastString]
</span><a href="#local-6989586621682739762"><span class="hs-identifier hs-var">rest</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-146"></span><span>                               </span><span class="annot"><span class="annottext">SrcSpan -&gt; Maybe FastString
</span><a href="GHC.Types.SrcLoc.html#srcSpanFileName_maybe"><span class="hs-identifier hs-var">srcSpanFileName_maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739761"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe FastString -&gt; [Maybe FastString] -&gt; [Maybe FastString]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Maybe FastString]
</span><a href="#local-6989586621682739762"><span class="hs-identifier hs-var">rest</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">LHsBinds GhcTc
[GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
</span><a href="#local-6989586621682739756"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-147"></span><span>     </span><span class="hs-keyword">in</span><span>
</span><span id="line-148"></span><span>     </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[FastString]
</span><a href="#local-6989586621682739758"><span class="hs-identifier hs-var">top_pos</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-149"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621682739765"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682739765"><span class="hs-identifier hs-var">file_name</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[FastString]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.hsc&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><span class="hs-operator hs-var">`isSuffixOf`</span></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682739765"><span class="hs-identifier hs-var">file_name</span></a></span><span>
</span><span id="line-150"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; String
</span><a href="GHC.Data.FastString.html#unpackFS"><span class="hs-identifier hs-var">unpackFS</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682739765"><span class="hs-identifier hs-var">file_name</span></a></span><span>
</span><span id="line-151"></span><span>        </span><span class="annot"><span class="annottext">[FastString]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682739757"><span class="hs-identifier hs-var">orig_file</span></a></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-155"></span><span class="hs-comment">-- TickDensity</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="annot"><span class="hs-comment">-- | Where to insert ticks</span></span><span>
</span><span id="line-158"></span><span class="hs-keyword">data</span><span> </span><span id="TickDensity"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickDensity"><span class="hs-identifier hs-var">TickDensity</span></a></span></span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="TickForCoverage"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickForCoverage"><span class="hs-identifier hs-var">TickForCoverage</span></a></span></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ for Hpc</span></span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TickForBreakPoints"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickForBreakPoints"><span class="hs-identifier hs-var">TickForBreakPoints</span></a></span></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ for GHCi</span></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TickAllFunctions"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickAllFunctions"><span class="hs-identifier hs-var">TickAllFunctions</span></a></span></span><span>      </span><span class="annot"><span class="hs-comment">-- ^ for -prof-auto-all</span></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TickTopFunctions"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickTopFunctions"><span class="hs-identifier hs-var">TickTopFunctions</span></a></span></span><span>      </span><span class="annot"><span class="hs-comment">-- ^ for -prof-auto-top</span></span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TickExportedFunctions"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickExportedFunctions"><span class="hs-identifier hs-var">TickExportedFunctions</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ for -prof-auto-exported</span></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TickCallSites"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickCallSites"><span class="hs-identifier hs-var">TickCallSites</span></a></span></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ for stack tracing</span></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621682739774"><span id="local-6989586621682739779"><span class="annot"><span class="annottext">TickDensity -&gt; TickDensity -&gt; Bool
(TickDensity -&gt; TickDensity -&gt; Bool)
-&gt; (TickDensity -&gt; TickDensity -&gt; Bool) -&gt; Eq TickDensity
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: TickDensity -&gt; TickDensity -&gt; Bool
== :: TickDensity -&gt; TickDensity -&gt; Bool
$c/= :: TickDensity -&gt; TickDensity -&gt; Bool
/= :: TickDensity -&gt; TickDensity -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#mkDensity"><span class="hs-identifier hs-type">mkDensity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickishType"><span class="hs-identifier hs-type">TickishType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.ProfAuto.html#ProfAuto"><span class="hs-identifier hs-type">ProfAuto</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickDensity"><span class="hs-identifier hs-type">TickDensity</span></a></span><span>
</span><span id="line-168"></span><span id="mkDensity"><span class="annot"><span class="annottext">mkDensity :: TickishType -&gt; ProfAuto -&gt; TickDensity
</span><a href="GHC.HsToCore.Ticks.html#mkDensity"><span class="hs-identifier hs-var hs-var">mkDensity</span></a></span></span><span> </span><span id="local-6989586621682739782"><span class="annot"><span class="annottext">TickishType
</span><a href="#local-6989586621682739782"><span class="hs-identifier hs-var">tickish</span></a></span></span><span> </span><span id="local-6989586621682739783"><span class="annot"><span class="annottext">ProfAuto
</span><a href="#local-6989586621682739783"><span class="hs-identifier hs-var">pa</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TickishType
</span><a href="#local-6989586621682739782"><span class="hs-identifier hs-var">tickish</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-169"></span><span>  </span><span class="annot"><span class="annottext">TickishType
</span><a href="GHC.HsToCore.Ticks.html#HpcTicks"><span class="hs-identifier hs-var">HpcTicks</span></a></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForCoverage"><span class="hs-identifier hs-var">TickForCoverage</span></a></span><span>
</span><span id="line-170"></span><span>  </span><span class="annot"><span class="annottext">TickishType
</span><a href="GHC.HsToCore.Ticks.html#SourceNotes"><span class="hs-identifier hs-var">SourceNotes</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForCoverage"><span class="hs-identifier hs-var">TickForCoverage</span></a></span><span>
</span><span id="line-171"></span><span>  </span><span class="annot"><span class="annottext">TickishType
</span><a href="GHC.HsToCore.Ticks.html#Breakpoints"><span class="hs-identifier hs-var">Breakpoints</span></a></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForBreakPoints"><span class="hs-identifier hs-var">TickForBreakPoints</span></a></span><span>
</span><span id="line-172"></span><span>  </span><span class="annot"><span class="annottext">TickishType
</span><a href="GHC.HsToCore.Ticks.html#ProfNotes"><span class="hs-identifier hs-var">ProfNotes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ProfAuto
</span><a href="#local-6989586621682739783"><span class="hs-identifier hs-var">pa</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-174"></span><span>      </span><span class="annot"><span class="annottext">ProfAuto
</span><a href="GHC.Types.ProfAuto.html#ProfAutoAll"><span class="hs-identifier hs-var">ProfAutoAll</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickAllFunctions"><span class="hs-identifier hs-var">TickAllFunctions</span></a></span><span>
</span><span id="line-175"></span><span>      </span><span class="annot"><span class="annottext">ProfAuto
</span><a href="GHC.Types.ProfAuto.html#ProfAutoTop"><span class="hs-identifier hs-var">ProfAutoTop</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickTopFunctions"><span class="hs-identifier hs-var">TickTopFunctions</span></a></span><span>
</span><span id="line-176"></span><span>      </span><span class="annot"><span class="annottext">ProfAuto
</span><a href="GHC.Types.ProfAuto.html#ProfAutoExports"><span class="hs-identifier hs-var">ProfAutoExports</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickExportedFunctions"><span class="hs-identifier hs-var">TickExportedFunctions</span></a></span><span>
</span><span id="line-177"></span><span>      </span><span class="annot"><span class="annottext">ProfAuto
</span><a href="GHC.Types.ProfAuto.html#ProfAutoCalls"><span class="hs-identifier hs-var">ProfAutoCalls</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickCallSites"><span class="hs-identifier hs-var">TickCallSites</span></a></span><span>
</span><span id="line-178"></span><span>      </span><span id="local-6989586621682739792"><span class="annot"><span class="annottext">ProfAuto
</span><a href="#local-6989586621682739792"><span class="hs-identifier hs-var">_other</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; TickDensity
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkDensity&quot;</span></span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="annot"><span class="hs-comment">-- | Decide whether to add a tick to a binding or not.</span></span><span>
</span><span id="line-181"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#shouldTickBind"><span class="hs-identifier hs-type">shouldTickBind</span></a></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickDensity"><span class="hs-identifier hs-type">TickDensity</span></a></span><span>
</span><span id="line-182"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ top level?</span></span><span>
</span><span id="line-183"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ exported?</span></span><span>
</span><span id="line-184"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ simple pat bind?</span></span><span>
</span><span id="line-185"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>         </span><span class="annot"><span class="hs-comment">-- ^ INLINE pragma?</span></span><span>
</span><span id="line-186"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span id="shouldTickBind"><span class="annot"><span class="annottext">shouldTickBind :: TickDensity -&gt; Bool -&gt; Bool -&gt; Bool -&gt; Bool -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#shouldTickBind"><span class="hs-identifier hs-var hs-var">shouldTickBind</span></a></span></span><span> </span><span id="local-6989586621682739795"><span class="annot"><span class="annottext">TickDensity
</span><a href="#local-6989586621682739795"><span class="hs-identifier hs-var">density</span></a></span></span><span> </span><span id="local-6989586621682739796"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739796"><span class="hs-identifier hs-var">top_lev</span></a></span></span><span> </span><span id="local-6989586621682739797"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739797"><span class="hs-identifier hs-var">exported</span></a></span></span><span> </span><span id="local-6989586621682739798"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739798"><span class="hs-identifier hs-var">_simple_pat</span></a></span></span><span> </span><span id="local-6989586621682739799"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739799"><span class="hs-identifier hs-var">inline</span></a></span></span><span>
</span><span id="line-189"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="#local-6989586621682739795"><span class="hs-identifier hs-var">density</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-190"></span><span>      </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForBreakPoints"><span class="hs-identifier hs-var">TickForBreakPoints</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-191"></span><span>        </span><span class="hs-comment">-- we never add breakpoints to simple pattern bindings</span><span>
</span><span id="line-192"></span><span>        </span><span class="hs-comment">-- (there's always a tick on the rhs anyway).</span><span>
</span><span id="line-193"></span><span>      </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickAllFunctions"><span class="hs-identifier hs-var">TickAllFunctions</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739799"><span class="hs-identifier hs-var">inline</span></a></span><span>
</span><span id="line-194"></span><span>      </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickTopFunctions"><span class="hs-identifier hs-var">TickTopFunctions</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739796"><span class="hs-identifier hs-var">top_lev</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739799"><span class="hs-identifier hs-var">inline</span></a></span><span>
</span><span id="line-195"></span><span>      </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickExportedFunctions"><span class="hs-identifier hs-var">TickExportedFunctions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739797"><span class="hs-identifier hs-var">exported</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739799"><span class="hs-identifier hs-var">inline</span></a></span><span>
</span><span id="line-196"></span><span>      </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForCoverage"><span class="hs-identifier hs-var">TickForCoverage</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-197"></span><span>      </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickCallSites"><span class="hs-identifier hs-var">TickCallSites</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#shouldTickPatBind"><span class="hs-identifier hs-type">shouldTickPatBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickDensity"><span class="hs-identifier hs-type">TickDensity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-200"></span><span id="shouldTickPatBind"><span class="annot"><span class="annottext">shouldTickPatBind :: TickDensity -&gt; Bool -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#shouldTickPatBind"><span class="hs-identifier hs-var hs-var">shouldTickPatBind</span></a></span></span><span> </span><span id="local-6989586621682739802"><span class="annot"><span class="annottext">TickDensity
</span><a href="#local-6989586621682739802"><span class="hs-identifier hs-var">density</span></a></span></span><span> </span><span id="local-6989586621682739803"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739803"><span class="hs-identifier hs-var">top_lev</span></a></span></span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="#local-6989586621682739802"><span class="hs-identifier hs-var">density</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-202"></span><span>      </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForBreakPoints"><span class="hs-identifier hs-var">TickForBreakPoints</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-203"></span><span>      </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickAllFunctions"><span class="hs-identifier hs-var">TickAllFunctions</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-204"></span><span>      </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickTopFunctions"><span class="hs-identifier hs-var">TickTopFunctions</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739803"><span class="hs-identifier hs-var">top_lev</span></a></span><span>
</span><span id="line-205"></span><span>      </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickExportedFunctions"><span class="hs-identifier hs-var">TickExportedFunctions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-206"></span><span>      </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForCoverage"><span class="hs-identifier hs-var">TickForCoverage</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-207"></span><span>      </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickCallSites"><span class="hs-identifier hs-var">TickCallSites</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-comment">-- Strip ticks HsExpr</span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="annot"><span class="hs-comment">-- | Strip CoreTicks from an HsExpr</span></span><span>
</span><span id="line-212"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#stripTicksTopHsExpr"><span class="hs-identifier hs-type">stripTicksTopHsExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Tickish.html#CoreTickish"><span class="hs-identifier hs-type">CoreTickish</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span id="stripTicksTopHsExpr"><span class="annot"><span class="annottext">stripTicksTopHsExpr :: HsExpr GhcTc -&gt; ([CoreTickish], HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#stripTicksTopHsExpr"><span class="hs-identifier hs-var hs-var">stripTicksTopHsExpr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsTick"><span class="hs-identifier hs-type">HsTick</span></a></span><span> </span><span id="local-6989586621682739806"><span class="annot"><span class="annottext">CoreTickish
</span><a href="#local-6989586621682739806"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621682739807"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682739807"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682739808"><span class="annot"><span class="annottext">[CoreTickish]
</span><a href="#local-6989586621682739808"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682739809"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739809"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; ([CoreTickish], HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#stripTicksTopHsExpr"><span class="hs-identifier hs-var">stripTicksTopHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
GenLocated SrcSpanAnnA (HsExpr GhcTc)
</span><a href="#local-6989586621682739807"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>                                            </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CoreTickish
</span><a href="#local-6989586621682739806"><span class="hs-identifier hs-var">t</span></a></span><span class="annot"><span class="annottext">CoreTickish -&gt; [CoreTickish] -&gt; [CoreTickish]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[CoreTickish]
</span><a href="#local-6989586621682739808"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739809"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#stripTicksTopHsExpr"><span class="hs-identifier hs-var">stripTicksTopHsExpr</span></a></span><span> </span><span id="local-6989586621682739811"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739811"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739811"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- Adding ticks to bindings</span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsBinds"><span class="hs-identifier hs-type">addTickLHsBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBinds"><span class="hs-identifier hs-type">LHsBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span id="addTickLHsBinds"><span class="annot"><span class="annottext">addTickLHsBinds :: LHsBinds GhcTc -&gt; TM (LHsBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsBinds"><span class="hs-identifier hs-var hs-var">addTickLHsBinds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)
 -&gt; TM (GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)))
-&gt; [GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
-&gt; TM [GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">LHsBind GhcTc -&gt; TM (LHsBind GhcTc)
GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsBind"><span class="hs-identifier hs-var">addTickLHsBind</span></a></span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsBind"><span class="hs-identifier hs-type">addTickLHsBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#LHsBind"><span class="hs-identifier hs-type">LHsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span id="addTickLHsBind"><span class="annot"><span class="annottext">addTickLHsBind :: LHsBind GhcTc -&gt; TM (LHsBind GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsBind"><span class="hs-identifier hs-var hs-var">addTickLHsBind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682739814"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739814"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#XHsBindsLR"><span class="hs-identifier hs-type">XHsBindsLR</span></a></span><span> </span><span id="local-6989586621682739816"><span class="annot"><span class="annottext">bind :: XXHsBindsLR GhcTc GhcTc
</span><a href="#local-6989586621682739816"><span class="hs-identifier hs-var">bind</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Binds.html#AbsBinds"><span class="hs-identifier hs-type">AbsBinds</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">abs_binds :: AbsBinds -&gt; LHsBinds GhcTc
</span><a href="GHC.Hs.Binds.html#abs_binds"><span class="hs-identifier hs-var">abs_binds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682739819"><span class="annot"><span class="annottext">LHsBinds GhcTc
</span><a href="#local-6989586621682739819"><span class="hs-identifier hs-var">binds</span></a></span></span><span>
</span><span id="line-225"></span><span>                                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">abs_exports :: AbsBinds -&gt; [ABExport]
</span><a href="GHC.Hs.Binds.html#abs_exports"><span class="hs-identifier hs-var">abs_exports</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682739821"><span class="annot"><span class="annottext">[ABExport]
</span><a href="#local-6989586621682739821"><span class="hs-identifier hs-var">abs_exports</span></a></span></span><span>
</span><span id="line-226"></span><span>                                                 </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-227"></span><span>  </span><span class="annot"><span class="annottext">(TickTransEnv -&gt; TickTransEnv)
-&gt; TM (LHsBind GhcTc) -&gt; TM (LHsBind GhcTc)
forall a. (TickTransEnv -&gt; TickTransEnv) -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#withEnv"><span class="hs-identifier hs-var">withEnv</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransEnv -&gt; TickTransEnv
</span><a href="#local-6989586621682739823"><span class="hs-identifier hs-var">add_exports</span></a></span><span> </span><span class="annot"><span class="annottext">(TM (LHsBind GhcTc) -&gt; TM (LHsBind GhcTc))
-&gt; TM (LHsBind GhcTc) -&gt; TM (LHsBind GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-228"></span><span>    </span><span class="annot"><span class="annottext">(TickTransEnv -&gt; TickTransEnv)
-&gt; TM (LHsBind GhcTc) -&gt; TM (LHsBind GhcTc)
forall a. (TickTransEnv -&gt; TickTransEnv) -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#withEnv"><span class="hs-identifier hs-var">withEnv</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransEnv -&gt; TickTransEnv
</span><a href="#local-6989586621682739824"><span class="hs-identifier hs-var">add_inlines</span></a></span><span> </span><span class="annot"><span class="annottext">(TM (LHsBind GhcTc) -&gt; TM (LHsBind GhcTc))
-&gt; TM (LHsBind GhcTc) -&gt; TM (LHsBind GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-229"></span><span>      </span><span id="local-6989586621682739825"><span class="annot"><a href="#local-6989586621682739825"><span class="hs-identifier hs-var">binds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsBinds GhcTc -&gt; TM (LHsBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsBinds"><span class="hs-identifier hs-var">addTickLHsBinds</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBinds GhcTc
</span><a href="#local-6989586621682739819"><span class="hs-identifier hs-var">binds</span></a></span><span>
</span><span id="line-230"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739814"><span class="hs-identifier hs-type">pos</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#XHsBindsLR"><span class="hs-identifier hs-type">XHsBindsLR</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682739816"><span class="hs-identifier hs-type">bind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Hs.Binds.html#abs_binds"><span class="hs-identifier hs-var">abs_binds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682739825"><span class="hs-identifier hs-type">binds'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-232"></span><span>   </span><span class="hs-comment">-- in AbsBinds, the Id on each binding is not the actual top-level</span><span>
</span><span id="line-233"></span><span>   </span><span class="hs-comment">-- Id that we are defining, they are related by the abs_exports</span><span>
</span><span id="line-234"></span><span>   </span><span class="hs-comment">-- field of AbsBinds.  So if we're doing TickExportedFunctions we need</span><span>
</span><span id="line-235"></span><span>   </span><span class="hs-comment">-- to add the local Ids to the set of exported Names so that we know to</span><span>
</span><span id="line-236"></span><span>   </span><span class="hs-comment">-- tick the right bindings.</span><span>
</span><span id="line-237"></span><span>   </span><span id="local-6989586621682739823"><span class="annot"><span class="annottext">add_exports :: TickTransEnv -&gt; TickTransEnv
</span><a href="#local-6989586621682739823"><span class="hs-identifier hs-var hs-var">add_exports</span></a></span></span><span> </span><span id="local-6989586621682739826"><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682739826"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-238"></span><span>     </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682739826"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#exports"><span class="hs-identifier hs-var">exports</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#exports"><span class="hs-identifier hs-var">exports</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739826"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#extendNameSetList"><span class="hs-operator hs-type">`extendNameSetList`</span></a></span><span>
</span><span id="line-239"></span><span>                      </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="GHC.Types.Id.html#idName"><span class="hs-identifier hs-type">idName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739829"><span class="hs-identifier hs-type">mid</span></a></span><span>
</span><span id="line-240"></span><span>                      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Hs.Binds.html#ABE"><span class="hs-identifier hs-type">ABE</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Hs.Binds.html#abe_poly"><span class="hs-identifier hs-var">abe_poly</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682739832"><span class="annot"><a href="#local-6989586621682739832"><span class="hs-identifier hs-var">pid</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Binds.html#abe_mono"><span class="hs-identifier hs-var">abe_mono</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682739829"><span class="annot"><a href="#local-6989586621682739829"><span class="hs-identifier hs-var">mid</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682739821"><span class="hs-identifier hs-type">abs_exports</span></a></span><span>
</span><span id="line-241"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Id.html#idName"><span class="hs-identifier hs-type">idName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739832"><span class="hs-identifier hs-type">pid</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#elemNameSet"><span class="hs-operator hs-type">`elemNameSet`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#exports"><span class="hs-identifier hs-var">exports</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739826"><span class="hs-identifier hs-type">env</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span>   </span><span class="hs-comment">-- See Note [inline sccs]</span><span>
</span><span id="line-244"></span><span>   </span><span id="local-6989586621682739824"><span class="annot"><span class="annottext">add_inlines :: TickTransEnv -&gt; TickTransEnv
</span><a href="#local-6989586621682739824"><span class="hs-identifier hs-var hs-var">add_inlines</span></a></span></span><span> </span><span id="local-6989586621682739835"><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682739835"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-245"></span><span>     </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682739835"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#inlines"><span class="hs-identifier hs-var">inlines</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#inlines"><span class="hs-identifier hs-var">inlines</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739835"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html#extendVarSetList"><span class="hs-operator hs-type">`extendVarSetList`</span></a></span><span>
</span><span id="line-246"></span><span>                      </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621682739837"><span class="hs-identifier hs-type">mid</span></a></span><span>
</span><span id="line-247"></span><span>                      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Hs.Binds.html#ABE"><span class="hs-identifier hs-type">ABE</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Hs.Binds.html#abe_poly"><span class="hs-identifier hs-var">abe_poly</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682739838"><span class="annot"><a href="#local-6989586621682739838"><span class="hs-identifier hs-var">pid</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Binds.html#abe_mono"><span class="hs-identifier hs-var">abe_mono</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682739837"><span class="annot"><a href="#local-6989586621682739837"><span class="hs-identifier hs-var">mid</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682739821"><span class="hs-identifier hs-type">abs_exports</span></a></span><span>
</span><span id="line-248"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#isInlinePragma"><span class="hs-identifier hs-type">isInlinePragma</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Id.html#idInlinePragma"><span class="hs-identifier hs-type">idInlinePragma</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739838"><span class="hs-identifier hs-type">pid</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsBind"><span class="hs-identifier hs-var">addTickLHsBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682739841"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739841"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682739842"><span class="annot"><span class="annottext">funBind :: HsBindLR GhcTc GhcTc
</span><a href="#local-6989586621682739842"><span class="hs-identifier hs-var">funBind</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#FunBind"><span class="hs-identifier hs-type">FunBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">fun_id :: forall idL idR. HsBindLR idL idR -&gt; LIdP idL
</span><a href="Language.Haskell.Syntax.Binds.html#fun_id"><span class="hs-identifier hs-var">fun_id</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682739845"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682739845"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-251"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682739846"><span class="annot"><span class="annottext">name :: String
</span><a href="#local-6989586621682739846"><span class="hs-identifier hs-var hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; String
forall a. NamedThing a =&gt; a -&gt; String
</span><a href="GHC.Types.Name.html#getOccString"><span class="hs-identifier hs-var">getOccString</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682739845"><span class="hs-identifier hs-var">id</span></a></span><span>
</span><span id="line-252"></span><span>  </span><span id="local-6989586621682739848"><span class="annot"><a href="#local-6989586621682739848"><span class="hs-identifier hs-var">decl_path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM [String]
</span><a href="GHC.HsToCore.Ticks.html#getPathEntry"><span class="hs-identifier hs-var">getPathEntry</span></a></span><span>
</span><span id="line-253"></span><span>  </span><span id="local-6989586621682739850"><span class="annot"><a href="#local-6989586621682739850"><span class="hs-identifier hs-var">density</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#getDensity"><span class="hs-identifier hs-type">getDensity</span></a></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span>  </span><span id="local-6989586621682739852"><span class="annot"><a href="#local-6989586621682739852"><span class="hs-identifier hs-var">inline_ids</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">liftM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#inlines"><span class="hs-identifier hs-var">inlines</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#getEnv"><span class="hs-identifier hs-type">getEnv</span></a></span><span>
</span><span id="line-256"></span><span>  </span><span class="hs-comment">-- See Note [inline sccs]</span><span>
</span><span id="line-257"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682739855"><span class="annot"><a href="#local-6989586621682739855"><span class="hs-identifier hs-var hs-var">inline</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InlinePragma -&gt; Bool
</span><a href="GHC.Types.Basic.html#isInlinePragma"><span class="hs-identifier hs-var">isInlinePragma</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; InlinePragma
</span><a href="GHC.Types.Id.html#idInlinePragma"><span class="hs-identifier hs-var">idInlinePragma</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682739845"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-258"></span><span>                 </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682739845"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">Id -&gt; VarSet -&gt; Bool
</span><a href="GHC.Types.Var.Set.html#elemVarSet"><span class="hs-operator hs-var">`elemVarSet`</span></a></span><span> </span><span class="annot"><span class="annottext">VarSet
</span><a href="#local-6989586621682739852"><span class="hs-identifier hs-var">inline_ids</span></a></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-comment">-- See Note [inline sccs]</span><span>
</span><span id="line-261"></span><span>  </span><span id="local-6989586621682739858"><span class="annot"><a href="#local-6989586621682739858"><span class="hs-identifier hs-var">tickish</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tickishType"><span class="hs-identifier hs-var">tickishType</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`liftM`</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#getEnv"><span class="hs-identifier hs-type">getEnv</span></a></span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682739858"><span class="hs-identifier hs-type">tickish</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">TickishType
</span><a href="GHC.HsToCore.Ticks.html#ProfNotes"><span class="hs-identifier hs-var">ProfNotes</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739855"><span class="hs-identifier hs-var">inline</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc))
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsBindLR GhcTc GhcTc
-&gt; GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739841"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcTc GhcTc
</span><a href="#local-6989586621682739842"><span class="hs-identifier hs-var">funBind</span></a></span><span class="hs-special">)</span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">TickishType
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621682739859"><span class="annot"><a href="#local-6989586621682739859"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682739860"><span class="annot"><a href="#local-6989586621682739860"><span class="hs-identifier hs-var">mg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-265"></span><span>        </span><span class="annot"><span class="annottext">TM (MatchGroup GhcTc (LHsExpr GhcTc))
-&gt; TM (FreeVars, MatchGroup GhcTc (LHsExpr GhcTc))
forall a. TM a -&gt; TM (FreeVars, a)
</span><a href="GHC.HsToCore.Ticks.html#getFreeVars"><span class="hs-identifier hs-var">getFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">(TM (MatchGroup GhcTc (LHsExpr GhcTc))
 -&gt; TM (FreeVars, MatchGroup GhcTc (LHsExpr GhcTc)))
-&gt; TM (MatchGroup GhcTc (LHsExpr GhcTc))
-&gt; TM (FreeVars, MatchGroup GhcTc (LHsExpr GhcTc))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-266"></span><span>        </span><span class="annot"><span class="annottext">String
-&gt; TM (MatchGroup GhcTc (LHsExpr GhcTc))
-&gt; TM (MatchGroup GhcTc (LHsExpr GhcTc))
forall a. String -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#addPathEntry"><span class="hs-identifier hs-var">addPathEntry</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682739846"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">(TM (MatchGroup GhcTc (LHsExpr GhcTc))
 -&gt; TM (MatchGroup GhcTc (LHsExpr GhcTc)))
-&gt; TM (MatchGroup GhcTc (LHsExpr GhcTc))
-&gt; TM (MatchGroup GhcTc (LHsExpr GhcTc))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-267"></span><span>        </span><span class="annot"><span class="annottext">Bool
-&gt; MatchGroup GhcTc (LHsExpr GhcTc)
-&gt; TM (MatchGroup GhcTc (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickMatchGroup"><span class="hs-identifier hs-var">addTickMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsBindLR GhcTc GhcTc -&gt; MatchGroup GhcTc (LHsExpr GhcTc)
forall idL idR. HsBindLR idL idR -&gt; MatchGroup idR (LHsExpr idR)
</span><a href="Language.Haskell.Syntax.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcTc GhcTc
</span><a href="#local-6989586621682739842"><span class="hs-identifier hs-var">funBind</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span>  </span><span id="local-6989586621682739865"><span class="annot"><a href="#local-6989586621682739865"><span class="hs-identifier hs-var">blackListed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isBlackListed"><span class="hs-identifier hs-type">isBlackListed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739841"><span class="hs-identifier hs-type">pos</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>  </span><span id="local-6989586621682739867"><span class="annot"><a href="#local-6989586621682739867"><span class="hs-identifier hs-var">exported_names</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">liftM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#exports"><span class="hs-identifier hs-var">exports</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#getEnv"><span class="hs-identifier hs-type">getEnv</span></a></span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span>  </span><span class="hs-comment">-- We don't want to generate code for blacklisted positions</span><span>
</span><span id="line-273"></span><span>  </span><span class="hs-comment">-- We don't want redundant ticks on simple pattern bindings</span><span>
</span><span id="line-274"></span><span>  </span><span class="hs-comment">-- We don't want to tick non-exported bindings in TickExportedFunctions</span><span>
</span><span id="line-275"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682739868"><span class="annot"><a href="#local-6989586621682739868"><span class="hs-identifier hs-var hs-var">simple</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcTc GhcTc -&gt; Bool
</span><a href="#local-6989586621682739869"><span class="hs-identifier hs-var">isSimplePatBind</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcTc GhcTc
</span><a href="#local-6989586621682739842"><span class="hs-identifier hs-var">funBind</span></a></span><span>
</span><span id="line-276"></span><span>      </span><span id="local-6989586621682739870"><span class="annot"><a href="#local-6989586621682739870"><span class="hs-identifier hs-var hs-var">toplev</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682739848"><span class="hs-identifier hs-var">decl_path</span></a></span><span>
</span><span id="line-277"></span><span>      </span><span id="local-6989586621682739871"><span class="annot"><a href="#local-6989586621682739871"><span class="hs-identifier hs-var hs-var">exported</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Id -&gt; Name
</span><a href="GHC.Types.Id.html#idName"><span class="hs-identifier hs-var">idName</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682739845"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; NameSet -&gt; Bool
</span><a href="GHC.Types.Name.Set.html#elemNameSet"><span class="hs-operator hs-var">`elemNameSet`</span></a></span><span> </span><span class="annot"><span class="annottext">NameSet
</span><a href="#local-6989586621682739867"><span class="hs-identifier hs-var">exported_names</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span>  </span><span id="local-6989586621682739872"><span class="annot"><a href="#local-6989586621682739872"><span class="hs-identifier hs-var">tick</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="hs-identifier hs-type">not</span></span><span> </span><span class="annot"><a href="#local-6989586621682739865"><span class="hs-identifier hs-type">blackListed</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&amp;&amp;</span></span><span>
</span><span id="line-280"></span><span>               </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#shouldTickBind"><span class="hs-identifier hs-type">shouldTickBind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739850"><span class="hs-identifier hs-type">density</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739870"><span class="hs-identifier hs-type">toplev</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739871"><span class="hs-identifier hs-type">exported</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739868"><span class="hs-identifier hs-type">simple</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739855"><span class="hs-identifier hs-type">inline</span></a></span><span>
</span><span id="line-281"></span><span>             </span><span class="hs-keyword">then</span><span>
</span><span id="line-282"></span><span>                </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#bindTick"><span class="hs-identifier hs-type">bindTick</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739850"><span class="hs-identifier hs-type">density</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739846"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739841"><span class="hs-identifier hs-type">pos</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682739859"><span class="hs-identifier hs-type">fvs</span></a></span><span>
</span><span id="line-283"></span><span>             </span><span class="hs-keyword">else</span><span>
</span><span id="line-284"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682739874"><span class="annot"><a href="#local-6989586621682739874"><span class="hs-identifier hs-var hs-var">mbCons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [a]) -&gt; (a -&gt; [a] -&gt; [a]) -&gt; Maybe a -&gt; [a] -&gt; [a]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">Prelude.id</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739841"><span class="hs-identifier hs-type">pos</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682739842"><span class="hs-identifier hs-type">funBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682739860"><span class="hs-identifier hs-type">mg</span></a></span><span>
</span><span id="line-288"></span><span>                           </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#fun_ext"><span class="hs-identifier hs-var">fun_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Bifunctor.html#second"><span class="hs-identifier hs-type">second</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">tick</span></span><span> </span><span class="annot"><span class="hs-operator">`mbCons`</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#fun_ext"><span class="hs-identifier hs-var">fun_ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739842"><span class="hs-identifier hs-type">funBind</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-290"></span><span>
</span><span id="line-291"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-292"></span><span>   </span><span class="hs-comment">-- a binding is a simple pattern binding if it is a funbind with</span><span>
</span><span id="line-293"></span><span>   </span><span class="hs-comment">-- zero patterns</span><span>
</span><span id="line-294"></span><span>   </span><span class="annot"><a href="#local-6989586621682739869"><span class="hs-identifier hs-type">isSimplePatBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsBind"><span class="hs-identifier hs-type">HsBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-295"></span><span>   </span><span id="local-6989586621682739869"><span class="annot"><span class="annottext">isSimplePatBind :: HsBindLR GhcTc GhcTc -&gt; Bool
</span><a href="#local-6989586621682739869"><span class="hs-identifier hs-var hs-var">isSimplePatBind</span></a></span></span><span> </span><span id="local-6989586621682739879"><span class="annot"><span class="annottext">HsBindLR GhcTc GhcTc
</span><a href="#local-6989586621682739879"><span class="hs-identifier hs-var">funBind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)) -&gt; Int
forall (id :: Pass) body. MatchGroup (GhcPass id) body -&gt; Int
</span><a href="GHC.Hs.Expr.html#matchGroupArity"><span class="hs-identifier hs-var">matchGroupArity</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsBindLR GhcTc GhcTc -&gt; MatchGroup GhcTc (LHsExpr GhcTc)
forall idL idR. HsBindLR idL idR -&gt; MatchGroup idR (LHsExpr idR)
</span><a href="Language.Haskell.Syntax.Binds.html#fun_matches"><span class="hs-identifier hs-var">fun_matches</span></a></span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcTc GhcTc
</span><a href="#local-6989586621682739879"><span class="hs-identifier hs-var">funBind</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="hs-comment">-- TODO: Revisit this</span><span>
</span><span id="line-298"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsBind"><span class="hs-identifier hs-var">addTickLHsBind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682739881"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739881"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682739882"><span class="annot"><span class="annottext">pat :: HsBindLR GhcTc GhcTc
</span><a href="#local-6989586621682739882"><span class="hs-identifier hs-var">pat</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatBind"><span class="hs-identifier hs-type">PatBind</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pat_lhs :: forall idL idR. HsBindLR idL idR -&gt; LPat idL
</span><a href="Language.Haskell.Syntax.Binds.html#pat_lhs"><span class="hs-identifier hs-var">pat_lhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682739885"><span class="annot"><span class="annottext">LPat GhcTc
</span><a href="#local-6989586621682739885"><span class="hs-identifier hs-var">lhs</span></a></span></span><span>
</span><span id="line-299"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pat_rhs :: forall idL idR. HsBindLR idL idR -&gt; GRHSs idR (LHsExpr idR)
</span><a href="Language.Haskell.Syntax.Binds.html#pat_rhs"><span class="hs-identifier hs-var">pat_rhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682739887"><span class="annot"><span class="annottext">GRHSs GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682739887"><span class="hs-identifier hs-var">rhs</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-300"></span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682739888"><span class="annot"><span class="annottext">simplePatId :: Maybe (IdP GhcTc)
</span><a href="#local-6989586621682739888"><span class="hs-identifier hs-var hs-var hs-var">simplePatId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LPat GhcTc -&gt; Maybe (IdP GhcTc)
forall (x :: Pass). LPat (GhcPass x) -&gt; Maybe (IdP (GhcPass x))
</span><a href="GHC.Hs.Pat.html#isSimplePat"><span class="hs-identifier hs-var">isSimplePat</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcTc
</span><a href="#local-6989586621682739885"><span class="hs-identifier hs-var">lhs</span></a></span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-comment">-- TODO: better name for rhs's for non-simple patterns?</span><span>
</span><span id="line-304"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682739890"><span class="annot"><span class="annottext">name :: String
</span><a href="#local-6989586621682739890"><span class="hs-identifier hs-var hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Id -&gt; String) -&gt; Maybe Id -&gt; String
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(...)&quot;</span></span><span> </span><span class="annot"><span class="annottext">Id -&gt; String
forall a. NamedThing a =&gt; a -&gt; String
</span><a href="GHC.Types.Name.html#getOccString"><span class="hs-identifier hs-var">getOccString</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (IdP GhcTc)
Maybe Id
</span><a href="#local-6989586621682739888"><span class="hs-identifier hs-var">simplePatId</span></a></span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621682739891"><span class="annot"><a href="#local-6989586621682739891"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682739892"><span class="annot"><a href="#local-6989586621682739892"><span class="hs-identifier hs-var">rhs'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM (GRHSs GhcTc (LHsExpr GhcTc))
-&gt; TM (FreeVars, GRHSs GhcTc (LHsExpr GhcTc))
forall a. TM a -&gt; TM (FreeVars, a)
</span><a href="GHC.HsToCore.Ticks.html#getFreeVars"><span class="hs-identifier hs-var">getFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">(TM (GRHSs GhcTc (LHsExpr GhcTc))
 -&gt; TM (FreeVars, GRHSs GhcTc (LHsExpr GhcTc)))
-&gt; TM (GRHSs GhcTc (LHsExpr GhcTc))
-&gt; TM (FreeVars, GRHSs GhcTc (LHsExpr GhcTc))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
-&gt; TM (GRHSs GhcTc (LHsExpr GhcTc))
-&gt; TM (GRHSs GhcTc (LHsExpr GhcTc))
forall a. String -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#addPathEntry"><span class="hs-identifier hs-var">addPathEntry</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682739890"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">(TM (GRHSs GhcTc (LHsExpr GhcTc))
 -&gt; TM (GRHSs GhcTc (LHsExpr GhcTc)))
-&gt; TM (GRHSs GhcTc (LHsExpr GhcTc))
-&gt; TM (GRHSs GhcTc (LHsExpr GhcTc))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; Bool
-&gt; Bool
-&gt; GRHSs GhcTc (LHsExpr GhcTc)
-&gt; TM (GRHSs GhcTc (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickGRHSs"><span class="hs-identifier hs-var">addTickGRHSs</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">GRHSs GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682739887"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-307"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682739894"><span class="annot"><a href="#local-6989586621682739894"><span class="hs-identifier hs-var hs-var">pat'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsBindLR GhcTc GhcTc
</span><a href="#local-6989586621682739882"><span class="hs-identifier hs-var">pat</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#pat_rhs"><span class="hs-identifier hs-var">pat_rhs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682739892"><span class="hs-identifier hs-type">rhs'</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span>  </span><span class="hs-comment">-- Should create ticks here?</span><span>
</span><span id="line-310"></span><span>  </span><span id="local-6989586621682739895"><span class="annot"><a href="#local-6989586621682739895"><span class="hs-identifier hs-var">density</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#getDensity"><span class="hs-identifier hs-type">getDensity</span></a></span><span>
</span><span id="line-311"></span><span>  </span><span id="local-6989586621682739896"><span class="annot"><a href="#local-6989586621682739896"><span class="hs-identifier hs-var">decl_path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#getPathEntry"><span class="hs-identifier hs-type">getPathEntry</span></a></span><span>
</span><span id="line-312"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682739897"><span class="annot"><a href="#local-6989586621682739897"><span class="hs-identifier hs-var hs-var">top_lev</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682739896"><span class="hs-identifier hs-var">decl_path</span></a></span><span>
</span><span id="line-313"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="hs-identifier hs-type">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#shouldTickPatBind"><span class="hs-identifier hs-type">shouldTickPatBind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739895"><span class="hs-identifier hs-type">density</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739897"><span class="hs-identifier hs-type">top_lev</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-314"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739881"><span class="hs-identifier hs-type">pos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739894"><span class="hs-identifier hs-type">pat'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682739898"><span class="annot"><a href="#local-6989586621682739898"><span class="hs-identifier hs-var hs-var">mbCons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([a] -&gt; [a]) -&gt; (a -&gt; [a] -&gt; [a]) -&gt; Maybe a -&gt; [a] -&gt; [a]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">:</span><span class="hs-special">)</span><span>
</span><span id="line-318"></span><span>
</span><span id="line-319"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682739899"><span class="annot"><a href="#local-6989586621682739899"><span class="hs-identifier hs-var">initial_rhs_ticks</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682739900"><span class="annot"><a href="#local-6989586621682739900"><span class="hs-identifier hs-var">initial_patvar_tickss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">snd</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#pat_ext"><span class="hs-identifier hs-var">pat_ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739894"><span class="hs-identifier hs-type">pat'</span></a></span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span>    </span><span class="hs-comment">-- Allocate the ticks</span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span>    </span><span id="local-6989586621682739903"><span class="annot"><a href="#local-6989586621682739903"><span class="hs-identifier hs-var">rhs_tick</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#bindTick"><span class="hs-identifier hs-type">bindTick</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739895"><span class="hs-identifier hs-type">density</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739890"><span class="hs-identifier hs-type">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-type">locA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739881"><span class="hs-identifier hs-type">pos</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682739891"><span class="hs-identifier hs-type">fvs</span></a></span><span>
</span><span id="line-324"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682739904"><span class="annot"><a href="#local-6989586621682739904"><span class="hs-identifier hs-var hs-var">rhs_ticks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe CoreTickish
</span><a href="#local-6989586621682739903"><span class="hs-identifier hs-var">rhs_tick</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe CoreTickish -&gt; [CoreTickish] -&gt; [CoreTickish]
forall {a}. Maybe a -&gt; [a] -&gt; [a]
</span><a href="#local-6989586621682739898"><span class="hs-operator hs-var">`mbCons`</span></a></span><span> </span><span class="annot"><span class="annottext">[CoreTickish]
</span><a href="#local-6989586621682739899"><span class="hs-identifier hs-var">initial_rhs_ticks</span></a></span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span>    </span><span id="local-6989586621682739905"><span class="annot"><a href="#local-6989586621682739905"><span class="hs-identifier hs-var">patvar_tickss</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682739888"><span class="hs-identifier hs-type">simplePatId</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-327"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[[CoreTickish]] -&gt; TM [[CoreTickish]]
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">[[CoreTickish]]
</span><a href="#local-6989586621682739900"><span class="hs-identifier hs-var">initial_patvar_tickss</span></a></span><span>
</span><span id="line-328"></span><span>      </span><span class="annot"><span class="annottext">Maybe (IdP GhcTc)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-329"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682739906"><span class="annot"><span class="annottext">patvars :: [String]
</span><a href="#local-6989586621682739906"><span class="hs-identifier hs-var hs-var hs-var">patvars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IdP GhcTc -&gt; String) -&gt; [IdP GhcTc] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">IdP GhcTc -&gt; String
forall a. NamedThing a =&gt; a -&gt; String
</span><a href="GHC.Types.Name.html#getOccString"><span class="hs-identifier hs-var">getOccString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CollectFlag GhcTc -&gt; LPat GhcTc -&gt; [IdP GhcTc]
forall p. CollectPass p =&gt; CollectFlag p -&gt; LPat p -&gt; [IdP p]
</span><a href="GHC.Hs.Utils.html#collectPatBinders"><span class="hs-identifier hs-var">collectPatBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcTc
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcTc
</span><a href="#local-6989586621682739885"><span class="hs-identifier hs-var">lhs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-330"></span><span>        </span><span id="local-6989586621682739909"><span class="annot"><a href="#local-6989586621682739909"><span class="hs-identifier hs-var">patvar_ticks</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(String -&gt; TM (Maybe CoreTickish))
-&gt; [String] -&gt; TM [Maybe CoreTickish]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682739910"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682739910"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TickDensity
-&gt; String -&gt; SrcSpan -&gt; FreeVars -&gt; TM (Maybe CoreTickish)
</span><a href="GHC.HsToCore.Ticks.html#bindTick"><span class="hs-identifier hs-var">bindTick</span></a></span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="#local-6989586621682739895"><span class="hs-identifier hs-var">density</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682739910"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739881"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682739891"><span class="hs-identifier hs-var">fvs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682739906"><span class="hs-identifier hs-var">patvars</span></a></span><span>
</span><span id="line-331"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span>
</span><span id="line-332"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">zipWith</span></span><span> </span><span class="annot"><a href="#local-6989586621682739898"><span class="hs-identifier hs-type">mbCons</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739909"><span class="hs-identifier hs-type">patvar_ticks</span></a></span><span>
</span><span id="line-333"></span><span>                          </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682739900"><span class="hs-identifier hs-type">initial_patvar_tickss</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">repeat</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739881"><span class="hs-identifier hs-type">pos</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682739894"><span class="hs-identifier hs-type">pat'</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#pat_ext"><span class="hs-identifier hs-var">pat_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Bifunctor.html#second"><span class="hs-identifier hs-type">second</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682739904"><span class="hs-identifier hs-type">rhs_ticks</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682739905"><span class="hs-identifier hs-type">patvar_tickss</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#pat_ext"><span class="hs-identifier hs-var">pat_ext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739894"><span class="hs-identifier hs-type">pat'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span class="hs-comment">-- Only internal stuff, not from source, uses VarBind, so we ignore it.</span><span>
</span><span id="line-338"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsBind"><span class="hs-identifier hs-var">addTickLHsBind</span></a></span><span> </span><span id="local-6989586621682739914"><span class="annot"><span class="annottext">var_bind :: LHsBind GhcTc
</span><a href="#local-6989586621682739914"><span class="hs-identifier hs-var">var_bind</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#VarBind"><span class="hs-identifier hs-type">VarBind</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc))
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">LHsBind GhcTc
GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)
</span><a href="#local-6989586621682739914"><span class="hs-identifier hs-var">var_bind</span></a></span><span>
</span><span id="line-339"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsBind"><span class="hs-identifier hs-var">addTickLHsBind</span></a></span><span> </span><span id="local-6989586621682739916"><span class="annot"><span class="annottext">patsyn_bind :: LHsBind GhcTc
</span><a href="#local-6989586621682739916"><span class="hs-identifier hs-var">patsyn_bind</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#PatSynBind"><span class="hs-identifier hs-type">PatSynBind</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc))
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">LHsBind GhcTc
GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)
</span><a href="#local-6989586621682739916"><span class="hs-identifier hs-var">patsyn_bind</span></a></span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#bindTick"><span class="hs-identifier hs-type">bindTick</span></a></span><span>
</span><span id="line-342"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickDensity"><span class="hs-identifier hs-type">TickDensity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Types.Tickish.html#CoreTickish"><span class="hs-identifier hs-type">CoreTickish</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-343"></span><span id="bindTick"><span class="annot"><span class="annottext">bindTick :: TickDensity
-&gt; String -&gt; SrcSpan -&gt; FreeVars -&gt; TM (Maybe CoreTickish)
</span><a href="GHC.HsToCore.Ticks.html#bindTick"><span class="hs-identifier hs-var hs-var">bindTick</span></a></span></span><span> </span><span id="local-6989586621682739918"><span class="annot"><span class="annottext">TickDensity
</span><a href="#local-6989586621682739918"><span class="hs-identifier hs-var">density</span></a></span></span><span> </span><span id="local-6989586621682739919"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682739919"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621682739920"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682739920"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682739921"><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682739921"><span class="hs-identifier hs-var">fvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-344"></span><span>  </span><span id="local-6989586621682739922"><span class="annot"><a href="#local-6989586621682739922"><span class="hs-identifier hs-var">decl_path</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM [String]
</span><a href="GHC.HsToCore.Ticks.html#getPathEntry"><span class="hs-identifier hs-var">getPathEntry</span></a></span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-keyword">let</span><span>
</span><span id="line-346"></span><span>      </span><span id="local-6989586621682739923"><span class="annot"><a href="#local-6989586621682739923"><span class="hs-identifier hs-var hs-var">toplev</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682739922"><span class="hs-identifier hs-var">decl_path</span></a></span><span>
</span><span id="line-347"></span><span>      </span><span id="local-6989586621682739924"><span class="annot"><a href="#local-6989586621682739924"><span class="hs-identifier hs-var hs-var">count_entries</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739923"><span class="hs-identifier hs-var">toplev</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="#local-6989586621682739918"><span class="hs-identifier hs-var">density</span></a></span><span> </span><span class="annot"><span class="annottext">TickDensity -&gt; TickDensity -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickAllFunctions"><span class="hs-identifier hs-var">TickAllFunctions</span></a></span><span>
</span><span id="line-348"></span><span>      </span><span id="local-6989586621682739925"><span class="annot"><a href="#local-6989586621682739925"><span class="hs-identifier hs-var hs-var">top_only</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="#local-6989586621682739918"><span class="hs-identifier hs-var">density</span></a></span><span> </span><span class="annot"><span class="annottext">TickDensity -&gt; TickDensity -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickAllFunctions"><span class="hs-identifier hs-var">TickAllFunctions</span></a></span><span>
</span><span id="line-349"></span><span>      </span><span id="local-6989586621682739927"><span class="annot"><a href="#local-6989586621682739927"><span class="hs-identifier hs-var hs-var">box_label</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739923"><span class="hs-identifier hs-var">toplev</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; BoxLabel
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#TopLevelBox"><span class="hs-identifier hs-var">TopLevelBox</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682739919"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-350"></span><span>                                </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; BoxLabel
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#LocalBox"><span class="hs-identifier hs-var">LocalBox</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682739922"><span class="hs-identifier hs-var">decl_path</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682739919"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-351"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-352"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#allocATickBox"><span class="hs-identifier hs-type">allocATickBox</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739927"><span class="hs-identifier hs-type">box_label</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739924"><span class="hs-identifier hs-type">count_entries</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739925"><span class="hs-identifier hs-type">top_only</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739920"><span class="hs-identifier hs-type">pos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739921"><span class="hs-identifier hs-type">fvs</span></a></span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span>
</span><span id="line-355"></span><span class="hs-comment">-- Note [inline sccs]</span><span>
</span><span id="line-356"></span><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~</span><span>
</span><span id="line-357"></span><span class="hs-comment">-- The reason not to add ticks to INLINE functions is that this is</span><span>
</span><span id="line-358"></span><span class="hs-comment">-- sometimes handy for avoiding adding a tick to a particular function</span><span>
</span><span id="line-359"></span><span class="hs-comment">-- (see #6131)</span><span>
</span><span id="line-360"></span><span class="hs-comment">--</span><span>
</span><span id="line-361"></span><span class="hs-comment">-- So for now we do not add any ticks to INLINE functions at all.</span><span>
</span><span id="line-362"></span><span class="hs-comment">--</span><span>
</span><span id="line-363"></span><span class="hs-comment">-- We used to use isAnyInlinePragma to figure out whether to avoid adding</span><span>
</span><span id="line-364"></span><span class="hs-comment">-- ticks for this purpose. However, #12962 indicates that this contradicts</span><span>
</span><span id="line-365"></span><span class="hs-comment">-- the documentation on profiling (which only mentions INLINE pragmas).</span><span>
</span><span id="line-366"></span><span class="hs-comment">-- So now we're more careful about what we avoid adding ticks to.</span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-369"></span><span class="hs-comment">-- Decorate an LHsExpr with ticks</span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="hs-comment">-- selectively add ticks to interesting expressions</span><span>
</span><span id="line-372"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-type">addTickLHsExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-373"></span><span id="addTickLHsExpr"><span class="annot"><span class="annottext">addTickLHsExpr :: LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var hs-var">addTickLHsExpr</span></a></span></span><span> </span><span id="local-6989586621682739932"><span class="annot"><span class="annottext">e :: LHsExpr GhcTc
</span><a href="#local-6989586621682739932"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682739933"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739933"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682739934"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739934"><span class="hs-identifier hs-var">e0</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-374"></span><span>  </span><span id="local-6989586621682739935"><span class="annot"><a href="#local-6989586621682739935"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM TickDensity
</span><a href="GHC.HsToCore.Ticks.html#getDensity"><span class="hs-identifier hs-var">getDensity</span></a></span><span>
</span><span id="line-375"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682739935"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-376"></span><span>    </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForBreakPoints"><span class="hs-identifier hs-var">TickForBreakPoints</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#isGoodBreakExpr"><span class="hs-identifier hs-var">isGoodBreakExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739934"><span class="hs-identifier hs-var">e0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TM (LHsExpr GhcTc)
TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682739937"><span class="hs-identifier hs-var">tick_it</span></a></span><span>
</span><span id="line-377"></span><span>    </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForCoverage"><span class="hs-identifier hs-var">TickForCoverage</span></a></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#ExpandedThingTc"><span class="hs-identifier hs-type">ExpandedThingTc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#OrigStmt"><span class="hs-identifier hs-type">OrigStmt</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739934"><span class="hs-identifier hs-var">e0</span></a></span><span> </span><span class="hs-comment">-- expansion ticks are handled separately</span><span>
</span><span id="line-378"></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TM (LHsExpr GhcTc)
TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682739940"><span class="hs-identifier hs-var">dont_tick_it</span></a></span><span>
</span><span id="line-379"></span><span>                       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TM (LHsExpr GhcTc)
TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682739937"><span class="hs-identifier hs-var">tick_it</span></a></span><span>
</span><span id="line-380"></span><span>    </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickCallSites"><span class="hs-identifier hs-var">TickCallSites</span></a></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#isCallSite"><span class="hs-identifier hs-var">isCallSite</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739934"><span class="hs-identifier hs-var">e0</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TM (LHsExpr GhcTc)
TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682739937"><span class="hs-identifier hs-var">tick_it</span></a></span><span>
</span><span id="line-381"></span><span>    </span><span id="local-6989586621682739942"><span class="annot"><span class="annottext">TickDensity
</span><a href="#local-6989586621682739942"><span class="hs-identifier hs-var">_other</span></a></span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TM (LHsExpr GhcTc)
TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682739940"><span class="hs-identifier hs-var">dont_tick_it</span></a></span><span>
</span><span id="line-382"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-383"></span><span>   </span><span id="local-6989586621682739937"><span class="annot"><span class="annottext">tick_it :: TM (LHsExpr GhcTc)
</span><a href="#local-6989586621682739937"><span class="hs-identifier hs-var hs-var">tick_it</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BoxLabel
-&gt; Bool
-&gt; Bool
-&gt; SrcSpan
-&gt; TM (HsExpr GhcTc)
-&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#allocTickBox"><span class="hs-identifier hs-var">allocTickBox</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; BoxLabel
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#ExpBox"><span class="hs-identifier hs-var">ExpBox</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739933"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>                  </span><span class="annot"><span class="annottext">(TM (HsExpr GhcTc) -&gt; TM (LHsExpr GhcTc))
-&gt; TM (HsExpr GhcTc) -&gt; TM (LHsExpr GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739934"><span class="hs-identifier hs-var">e0</span></a></span><span>
</span><span id="line-385"></span><span>   </span><span id="local-6989586621682739940"><span class="annot"><span class="annottext">dont_tick_it :: TM (LHsExpr GhcTc)
</span><a href="#local-6989586621682739940"><span class="hs-identifier hs-var hs-var">dont_tick_it</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var">addTickLHsExprNever</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682739932"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span class="hs-comment">-- Add a tick to an expression which is the RHS of an equation or a binding.</span><span>
</span><span id="line-388"></span><span class="hs-comment">-- We always consider these to be breakpoints, unless the expression is a 'let'</span><span>
</span><span id="line-389"></span><span class="hs-comment">-- (because the body will definitely have a tick somewhere).  ToDo: perhaps</span><span>
</span><span id="line-390"></span><span class="hs-comment">-- we should treat 'case' and 'if' the same way?</span><span>
</span><span id="line-391"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsExprRHS"><span class="hs-identifier hs-type">addTickLHsExprRHS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-392"></span><span id="addTickLHsExprRHS"><span class="annot"><span class="annottext">addTickLHsExprRHS :: LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprRHS"><span class="hs-identifier hs-var hs-var">addTickLHsExprRHS</span></a></span></span><span> </span><span id="local-6989586621682739948"><span class="annot"><span class="annottext">e :: LHsExpr GhcTc
</span><a href="#local-6989586621682739948"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682739949"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739949"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682739950"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739950"><span class="hs-identifier hs-var">e0</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-393"></span><span>  </span><span id="local-6989586621682739951"><span class="annot"><a href="#local-6989586621682739951"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM TickDensity
</span><a href="GHC.HsToCore.Ticks.html#getDensity"><span class="hs-identifier hs-var">getDensity</span></a></span><span>
</span><span id="line-394"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682739951"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-395"></span><span>     </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForBreakPoints"><span class="hs-identifier hs-var">TickForBreakPoints</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLet"><span class="hs-identifier hs-type">HsLet</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739950"><span class="hs-identifier hs-var">e0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TM (LHsExpr GhcTc)
TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682739953"><span class="hs-identifier hs-var">dont_tick_it</span></a></span><span>
</span><span id="line-396"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TM (LHsExpr GhcTc)
TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682739954"><span class="hs-identifier hs-var">tick_it</span></a></span><span>
</span><span id="line-397"></span><span>     </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForCoverage"><span class="hs-identifier hs-var">TickForCoverage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TM (LHsExpr GhcTc)
TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682739954"><span class="hs-identifier hs-var">tick_it</span></a></span><span>
</span><span id="line-398"></span><span>     </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickCallSites"><span class="hs-identifier hs-var">TickCallSites</span></a></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#isCallSite"><span class="hs-identifier hs-var">isCallSite</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739950"><span class="hs-identifier hs-var">e0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TM (LHsExpr GhcTc)
TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682739954"><span class="hs-identifier hs-var">tick_it</span></a></span><span>
</span><span id="line-399"></span><span>     </span><span id="local-6989586621682739955"><span class="annot"><span class="annottext">TickDensity
</span><a href="#local-6989586621682739955"><span class="hs-identifier hs-var">_other</span></a></span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TM (LHsExpr GhcTc)
TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682739953"><span class="hs-identifier hs-var">dont_tick_it</span></a></span><span>
</span><span id="line-400"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-401"></span><span>   </span><span id="local-6989586621682739954"><span class="annot"><span class="annottext">tick_it :: TM (LHsExpr GhcTc)
</span><a href="#local-6989586621682739954"><span class="hs-identifier hs-var hs-var">tick_it</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BoxLabel
-&gt; Bool
-&gt; Bool
-&gt; SrcSpan
-&gt; TM (HsExpr GhcTc)
-&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#allocTickBox"><span class="hs-identifier hs-var">allocTickBox</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; BoxLabel
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#ExpBox"><span class="hs-identifier hs-var">ExpBox</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739949"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>                  </span><span class="annot"><span class="annottext">(TM (HsExpr GhcTc) -&gt; TM (LHsExpr GhcTc))
-&gt; TM (HsExpr GhcTc) -&gt; TM (LHsExpr GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739950"><span class="hs-identifier hs-var">e0</span></a></span><span>
</span><span id="line-403"></span><span>   </span><span id="local-6989586621682739953"><span class="annot"><span class="annottext">dont_tick_it :: TM (LHsExpr GhcTc)
</span><a href="#local-6989586621682739953"><span class="hs-identifier hs-var hs-var">dont_tick_it</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var">addTickLHsExprNever</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682739948"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span class="hs-comment">-- The inner expression of an evaluation context:</span><span>
</span><span id="line-406"></span><span class="hs-comment">--    let binds in [], ( [] )</span><span>
</span><span id="line-407"></span><span class="hs-comment">-- we never tick these if we're doing HPC, but otherwise</span><span>
</span><span id="line-408"></span><span class="hs-comment">-- we treat it like an ordinary expression.</span><span>
</span><span id="line-409"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsExprEvalInner"><span class="hs-identifier hs-type">addTickLHsExprEvalInner</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span id="addTickLHsExprEvalInner"><span class="annot"><span class="annottext">addTickLHsExprEvalInner :: LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprEvalInner"><span class="hs-identifier hs-var hs-var">addTickLHsExprEvalInner</span></a></span></span><span> </span><span id="local-6989586621682739957"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682739957"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-411"></span><span>   </span><span id="local-6989586621682739958"><span class="annot"><a href="#local-6989586621682739958"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM TickDensity
</span><a href="GHC.HsToCore.Ticks.html#getDensity"><span class="hs-identifier hs-var">getDensity</span></a></span><span>
</span><span id="line-412"></span><span>   </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682739958"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-413"></span><span>     </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForCoverage"><span class="hs-identifier hs-var">TickForCoverage</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var">addTickLHsExprNever</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682739957"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-414"></span><span>     </span><span id="local-6989586621682739959"><span class="annot"><span class="annottext">TickDensity
</span><a href="#local-6989586621682739959"><span class="hs-identifier hs-var">_otherwise</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682739957"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span class="hs-comment">-- | A let body is treated differently from addTickLHsExprEvalInner</span><span>
</span><span id="line-417"></span><span class="hs-comment">-- above with TickForBreakPoints, because for breakpoints we always</span><span>
</span><span id="line-418"></span><span class="hs-comment">-- want to tick the body, even if it is not a redex.  See test</span><span>
</span><span id="line-419"></span><span class="hs-comment">-- break012.  This gives the user the opportunity to inspect the</span><span>
</span><span id="line-420"></span><span class="hs-comment">-- values of the let-bound variables.</span><span>
</span><span id="line-421"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsExprLetBody"><span class="hs-identifier hs-type">addTickLHsExprLetBody</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-422"></span><span id="addTickLHsExprLetBody"><span class="annot"><span class="annottext">addTickLHsExprLetBody :: LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprLetBody"><span class="hs-identifier hs-var hs-var">addTickLHsExprLetBody</span></a></span></span><span> </span><span id="local-6989586621682739961"><span class="annot"><span class="annottext">e :: LHsExpr GhcTc
</span><a href="#local-6989586621682739961"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682739962"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739962"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682739963"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739963"><span class="hs-identifier hs-var">e0</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-423"></span><span>  </span><span id="local-6989586621682739964"><span class="annot"><a href="#local-6989586621682739964"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM TickDensity
</span><a href="GHC.HsToCore.Ticks.html#getDensity"><span class="hs-identifier hs-var">getDensity</span></a></span><span>
</span><span id="line-424"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682739964"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-425"></span><span>     </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForBreakPoints"><span class="hs-identifier hs-var">TickForBreakPoints</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLet"><span class="hs-identifier hs-type">HsLet</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739963"><span class="hs-identifier hs-var">e0</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TM (LHsExpr GhcTc)
TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682739965"><span class="hs-identifier hs-var">dont_tick_it</span></a></span><span>
</span><span id="line-426"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TM (LHsExpr GhcTc)
TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682739966"><span class="hs-identifier hs-var">tick_it</span></a></span><span>
</span><span id="line-427"></span><span>     </span><span id="local-6989586621682739967"><span class="annot"><span class="annottext">TickDensity
</span><a href="#local-6989586621682739967"><span class="hs-identifier hs-var">_other</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprEvalInner"><span class="hs-identifier hs-var">addTickLHsExprEvalInner</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682739961"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-428"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-429"></span><span>   </span><span id="local-6989586621682739966"><span class="annot"><span class="annottext">tick_it :: TM (LHsExpr GhcTc)
</span><a href="#local-6989586621682739966"><span class="hs-identifier hs-var hs-var">tick_it</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BoxLabel
-&gt; Bool
-&gt; Bool
-&gt; SrcSpan
-&gt; TM (HsExpr GhcTc)
-&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#allocTickBox"><span class="hs-identifier hs-var">allocTickBox</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; BoxLabel
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#ExpBox"><span class="hs-identifier hs-var">ExpBox</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739962"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-430"></span><span>                  </span><span class="annot"><span class="annottext">(TM (HsExpr GhcTc) -&gt; TM (LHsExpr GhcTc))
-&gt; TM (HsExpr GhcTc) -&gt; TM (LHsExpr GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739963"><span class="hs-identifier hs-var">e0</span></a></span><span>
</span><span id="line-431"></span><span>   </span><span id="local-6989586621682739965"><span class="annot"><span class="annottext">dont_tick_it :: TM (LHsExpr GhcTc)
</span><a href="#local-6989586621682739965"><span class="hs-identifier hs-var hs-var">dont_tick_it</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var">addTickLHsExprNever</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682739961"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span class="hs-comment">-- version of addTick that does not actually add a tick,</span><span>
</span><span id="line-434"></span><span class="hs-comment">-- because the scope of this tick is completely subsumed by</span><span>
</span><span id="line-435"></span><span class="hs-comment">-- another.</span><span>
</span><span id="line-436"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-type">addTickLHsExprNever</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-437"></span><span id="addTickLHsExprNever"><span class="annot"><span class="annottext">addTickLHsExprNever :: LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var hs-var">addTickLHsExprNever</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682739968"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739968"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682739969"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739969"><span class="hs-identifier hs-var">e0</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-438"></span><span>    </span><span id="local-6989586621682739970"><span class="annot"><a href="#local-6989586621682739970"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739969"><span class="hs-identifier hs-var">e0</span></a></span><span>
</span><span id="line-439"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739968"><span class="hs-identifier hs-type">pos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739970"><span class="hs-identifier hs-type">e1</span></a></span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span class="hs-comment">-- General heuristic: expressions which are calls (do not denote</span><span>
</span><span id="line-442"></span><span class="hs-comment">-- values) are good break points.</span><span>
</span><span id="line-443"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isGoodBreakExpr"><span class="hs-identifier hs-type">isGoodBreakExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-444"></span><span id="isGoodBreakExpr"><span class="annot"><span class="annottext">isGoodBreakExpr :: HsExpr GhcTc -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#isGoodBreakExpr"><span class="hs-identifier hs-var hs-var">isGoodBreakExpr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#ExpandedThingTc"><span class="hs-identifier hs-type">ExpandedThingTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#OrigStmt"><span class="hs-identifier hs-type">OrigStmt</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-445"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isGoodBreakExpr"><span class="hs-identifier hs-var">isGoodBreakExpr</span></a></span><span> </span><span id="local-6989586621682739971"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739971"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#isCallSite"><span class="hs-identifier hs-var">isCallSite</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739971"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-446"></span><span>
</span><span id="line-447"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isCallSite"><span class="hs-identifier hs-type">isCallSite</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-448"></span><span id="isCallSite"><span class="annot"><span class="annottext">isCallSite :: HsExpr GhcTc -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#isCallSite"><span class="hs-identifier hs-var hs-var">isCallSite</span></a></span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsApp"><span class="hs-identifier hs-type">HsApp</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-449"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isCallSite"><span class="hs-identifier hs-var">isCallSite</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsAppType"><span class="hs-identifier hs-type">HsAppType</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-450"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isCallSite"><span class="hs-identifier hs-var">isCallSite</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCase"><span class="hs-identifier hs-type">HsCase</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-451"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isCallSite"><span class="hs-identifier hs-var">isCallSite</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#ExpandedThingTc"><span class="hs-identifier hs-type">ExpandedThingTc</span></a></span><span> </span><span class="annot"><span class="annottext">HsThingRn
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682739975"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739975"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-452"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#isCallSite"><span class="hs-identifier hs-var">isCallSite</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739975"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span class="hs-comment">-- NB: OpApp, SectionL, SectionR are all expanded out</span><span>
</span><span id="line-455"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isCallSite"><span class="hs-identifier hs-var">isCallSite</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsExprOptAlt"><span class="hs-identifier hs-type">addTickLHsExprOptAlt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-458"></span><span id="addTickLHsExprOptAlt"><span class="annot"><span class="annottext">addTickLHsExprOptAlt :: Bool -&gt; LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprOptAlt"><span class="hs-identifier hs-var hs-var">addTickLHsExprOptAlt</span></a></span></span><span> </span><span id="local-6989586621682739977"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739977"><span class="hs-identifier hs-var">oneOfMany</span></a></span></span><span> </span><span id="local-6989586621682739978"><span class="annot"><span class="annottext">e :: LHsExpr GhcTc
</span><a href="#local-6989586621682739978"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682739979"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739979"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682739980"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739980"><span class="hs-identifier hs-var">e0</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-459"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TickDensity
-&gt; TM (LHsExpr GhcTc) -&gt; TM (LHsExpr GhcTc) -&gt; TM (LHsExpr GhcTc)
forall a. TickDensity -&gt; TM a -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#ifDensity"><span class="hs-identifier hs-var">ifDensity</span></a></span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForCoverage"><span class="hs-identifier hs-var">TickForCoverage</span></a></span><span>
</span><span id="line-460"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BoxLabel
-&gt; Bool
-&gt; Bool
-&gt; SrcSpan
-&gt; TM (HsExpr GhcTc)
-&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#allocTickBox"><span class="hs-identifier hs-var">allocTickBox</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; BoxLabel
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#ExpBox"><span class="hs-identifier hs-var">ExpBox</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682739977"><span class="hs-identifier hs-var">oneOfMany</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739979"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-461"></span><span>                           </span><span class="annot"><span class="annottext">(TM (HsExpr GhcTc) -&gt; TM (LHsExpr GhcTc))
-&gt; TM (HsExpr GhcTc) -&gt; TM (LHsExpr GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739980"><span class="hs-identifier hs-var">e0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-462"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682739978"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-463"></span><span>
</span><span id="line-464"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addBinTickLHsExpr"><span class="hs-identifier hs-type">addBinTickLHsExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BoxLabel"><span class="hs-identifier hs-type">BoxLabel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-465"></span><span id="addBinTickLHsExpr"><span class="annot"><span class="annottext">addBinTickLHsExpr :: (Bool -&gt; BoxLabel) -&gt; LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addBinTickLHsExpr"><span class="hs-identifier hs-var hs-var">addBinTickLHsExpr</span></a></span></span><span> </span><span id="local-6989586621682739983"><span class="annot"><span class="annottext">Bool -&gt; BoxLabel
</span><a href="#local-6989586621682739983"><span class="hs-identifier hs-var">boxLabel</span></a></span></span><span> </span><span id="local-6989586621682739984"><span class="annot"><span class="annottext">e :: LHsExpr GhcTc
</span><a href="#local-6989586621682739984"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682739985"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739985"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682739986"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739986"><span class="hs-identifier hs-var">e0</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-466"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TickDensity
-&gt; TM (LHsExpr GhcTc) -&gt; TM (LHsExpr GhcTc) -&gt; TM (LHsExpr GhcTc)
forall a. TickDensity -&gt; TM a -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#ifDensity"><span class="hs-identifier hs-var">ifDensity</span></a></span><span> </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForCoverage"><span class="hs-identifier hs-var">TickForCoverage</span></a></span><span>
</span><span id="line-467"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Bool -&gt; BoxLabel)
-&gt; SrcSpan -&gt; TM (HsExpr GhcTc) -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#allocBinTickBox"><span class="hs-identifier hs-var">allocBinTickBox</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; BoxLabel
</span><a href="#local-6989586621682739983"><span class="hs-identifier hs-var">boxLabel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682739985"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TM (HsExpr GhcTc) -&gt; TM (LHsExpr GhcTc))
-&gt; TM (HsExpr GhcTc) -&gt; TM (LHsExpr GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739986"><span class="hs-identifier hs-var">e0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-468"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682739984"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-469"></span><span>
</span><span id="line-470"></span><span>
</span><span id="line-471"></span><span class="hs-comment">-- -----------------------------------------------------------------------------</span><span>
</span><span id="line-472"></span><span class="hs-comment">-- Decorate the body of an HsExpr with ticks.</span><span>
</span><span id="line-473"></span><span class="hs-comment">-- (Whether to put a tick around the whole expression was already decided,</span><span>
</span><span id="line-474"></span><span class="hs-comment">-- in the addTickLHsExpr family of functions.)</span><span>
</span><span id="line-475"></span><span>
</span><span id="line-476"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-type">addTickHsExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span id="addTickHsExpr"><span class="annot"><span class="annottext">addTickHsExpr :: HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var hs-var">addTickHsExpr</span></a></span></span><span> </span><span id="local-6989586621682739988"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682739988"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsVar"><span class="hs-identifier hs-type">HsVar</span></a></span><span> </span><span class="annot"><span class="annottext">XVar GhcTc
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnN
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682739990"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682739990"><span class="hs-identifier hs-var">id</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Id -&gt; TM ()
</span><a href="GHC.HsToCore.Ticks.html#freeVar"><span class="hs-identifier hs-var">freeVar</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682739990"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739988"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-478"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682739992"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682739992"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsUnboundVar"><span class="hs-identifier hs-type">HsUnboundVar</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739992"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-479"></span><span>
</span><span id="line-480"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682739994"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682739994"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsIPVar"><span class="hs-identifier hs-type">HsIPVar</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739994"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-481"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682739996"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682739996"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsOverLit"><span class="hs-identifier hs-type">HsOverLit</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739996"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-482"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682739998"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682739998"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsOverLabel"><span class="hs-identifier hs-type">HsOverLabel</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682739998"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-483"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740000"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682740000"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLit"><span class="hs-identifier hs-type">HsLit</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740000"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-484"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740002"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682740002"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsEmbTy"><span class="hs-identifier hs-type">HsEmbTy</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740002"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-485"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740004"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682740004"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsQual"><span class="hs-identifier hs-type">HsQual</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740004"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-486"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740006"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682740006"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsForAll"><span class="hs-identifier hs-type">HsForAll</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740006"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-487"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740008"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682740008"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsFunArr"><span class="hs-identifier hs-type">HsFunArr</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740008"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-488"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLam"><span class="hs-identifier hs-type">HsLam</span></a></span><span> </span><span id="local-6989586621682740011"><span class="annot"><span class="annottext">XLam GhcTc
</span><a href="#local-6989586621682740011"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740012"><span class="annot"><span class="annottext">HsLamVariant
</span><a href="#local-6989586621682740012"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621682740013"><span class="annot"><span class="annottext">MatchGroup GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740013"><span class="hs-identifier hs-var">mg</span></a></span></span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(MatchGroup GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
 -&gt; HsExpr GhcTc)
-&gt; TM (MatchGroup GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
-&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLam GhcTc
-&gt; HsLamVariant -&gt; MatchGroup GhcTc (LHsExpr GhcTc) -&gt; HsExpr GhcTc
forall p.
XLam p -&gt; HsLamVariant -&gt; MatchGroup p (LHsExpr p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsLam"><span class="hs-identifier hs-var">HsLam</span></a></span><span> </span><span class="annot"><span class="annottext">XLam GhcTc
</span><a href="#local-6989586621682740011"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">HsLamVariant
</span><a href="#local-6989586621682740012"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-489"></span><span>                                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
-&gt; MatchGroup GhcTc (LHsExpr GhcTc)
-&gt; TM (MatchGroup GhcTc (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickMatchGroup"><span class="hs-identifier hs-var">addTickMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740013"><span class="hs-identifier hs-var">mg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-490"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsApp"><span class="hs-identifier hs-type">HsApp</span></a></span><span> </span><span id="local-6989586621682740014"><span class="annot"><span class="annottext">XApp GhcTc
</span><a href="#local-6989586621682740014"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740015"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740015"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682740016"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740016"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XApp GhcTc -&gt; LHsExpr GhcTc -&gt; LHsExpr GhcTc -&gt; HsExpr GhcTc
forall p. XApp p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsApp"><span class="hs-identifier hs-var">HsApp</span></a></span><span> </span><span class="annot"><span class="annottext">XApp GhcTc
</span><a href="#local-6989586621682740014"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var">addTickLHsExprNever</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740015"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-491"></span><span>                                                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span>      </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740016"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-492"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsAppType"><span class="hs-identifier hs-type">HsAppType</span></a></span><span> </span><span id="local-6989586621682740018"><span class="annot"><span class="annottext">XAppTypeE GhcTc
</span><a href="#local-6989586621682740018"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740019"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740019"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682740020"><span class="annot"><span class="annottext">LHsWcType (NoGhcTc GhcTc)
</span><a href="#local-6989586621682740020"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-493"></span><span>        </span><span id="local-6989586621682740021"><span class="annot"><a href="#local-6989586621682740021"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var">addTickLHsExprNever</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740019"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-494"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsAppType"><span class="hs-identifier hs-type">HsAppType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740018"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740021"><span class="hs-identifier hs-type">e'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740020"><span class="hs-identifier hs-type">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-495"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#OpApp"><span class="hs-identifier hs-type">OpApp</span></a></span><span> </span><span id="local-6989586621682740023"><span class="annot"><span class="annottext">XOpApp GhcTc
</span><a href="#local-6989586621682740023"><span class="hs-identifier hs-var">fix</span></a></span></span><span> </span><span id="local-6989586621682740024"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740024"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682740025"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740025"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span id="local-6989586621682740026"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740026"><span class="hs-identifier hs-var">e3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-496"></span><span>        </span><span class="annot"><span class="annottext">(DataConCantHappen
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; HsExpr GhcTc)
-&gt; TM DataConCantHappen
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 a2 a3 a4 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; a4 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m a4 -&gt; m r
</span><span class="hs-identifier hs-var">liftM4</span></span><span> </span><span class="annot"><span class="annottext">XOpApp GhcTc
-&gt; LHsExpr GhcTc -&gt; LHsExpr GhcTc -&gt; LHsExpr GhcTc -&gt; HsExpr GhcTc
DataConCantHappen
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; HsExpr GhcTc
forall p.
XOpApp p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#OpApp"><span class="hs-identifier hs-var">OpApp</span></a></span><span>
</span><span id="line-497"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DataConCantHappen -&gt; TM DataConCantHappen
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">XOpApp GhcTc
DataConCantHappen
</span><a href="#local-6989586621682740023"><span class="hs-identifier hs-var">fix</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740024"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-499"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var">addTickLHsExprNever</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740025"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-500"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740026"><span class="hs-identifier hs-var">e3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-501"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#NegApp"><span class="hs-identifier hs-type">NegApp</span></a></span><span> </span><span id="local-6989586621682740029"><span class="annot"><span class="annottext">XNegApp GhcTc
</span><a href="#local-6989586621682740029"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740030"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740030"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682740031"><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740031"><span class="hs-identifier hs-var">neg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-502"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; SyntaxExprTc -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM SyntaxExprTc
-&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XNegApp GhcTc -&gt; LHsExpr GhcTc -&gt; SyntaxExpr GhcTc -&gt; HsExpr GhcTc
forall p. XNegApp p -&gt; LHsExpr p -&gt; SyntaxExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#NegApp"><span class="hs-identifier hs-var">NegApp</span></a></span><span> </span><span class="annot"><span class="annottext">XNegApp GhcTc
</span><a href="#local-6989586621682740029"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-503"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740030"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-504"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740031"><span class="hs-identifier hs-var">neg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-505"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsPar"><span class="hs-identifier hs-type">HsPar</span></a></span><span> </span><span id="local-6989586621682740035"><span class="annot"><span class="annottext">XPar GhcTc
</span><a href="#local-6989586621682740035"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740036"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740036"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-506"></span><span>        </span><span id="local-6989586621682740037"><span class="annot"><a href="#local-6989586621682740037"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprEvalInner"><span class="hs-identifier hs-var">addTickLHsExprEvalInner</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740036"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-507"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsPar"><span class="hs-identifier hs-type">HsPar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740035"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740037"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-508"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#SectionL"><span class="hs-identifier hs-type">SectionL</span></a></span><span> </span><span id="local-6989586621682740039"><span class="annot"><span class="annottext">XSectionL GhcTc
</span><a href="#local-6989586621682740039"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740040"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740040"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682740041"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740041"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-509"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSectionL GhcTc -&gt; LHsExpr GhcTc -&gt; LHsExpr GhcTc -&gt; HsExpr GhcTc
forall p. XSectionL p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#SectionL"><span class="hs-identifier hs-var">SectionL</span></a></span><span> </span><span class="annot"><span class="annottext">XSectionL GhcTc
</span><a href="#local-6989586621682740039"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-510"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740040"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-511"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var">addTickLHsExprNever</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740041"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-512"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#SectionR"><span class="hs-identifier hs-type">SectionR</span></a></span><span> </span><span id="local-6989586621682740043"><span class="annot"><span class="annottext">XSectionR GhcTc
</span><a href="#local-6989586621682740043"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740044"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740044"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682740045"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740045"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-513"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XSectionR GhcTc -&gt; LHsExpr GhcTc -&gt; LHsExpr GhcTc -&gt; HsExpr GhcTc
forall p. XSectionR p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#SectionR"><span class="hs-identifier hs-var">SectionR</span></a></span><span> </span><span class="annot"><span class="annottext">XSectionR GhcTc
</span><a href="#local-6989586621682740043"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-514"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var">addTickLHsExprNever</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740044"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-515"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740045"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-516"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExplicitTuple"><span class="hs-identifier hs-type">ExplicitTuple</span></a></span><span> </span><span id="local-6989586621682740047"><span class="annot"><span class="annottext">XExplicitTuple GhcTc
</span><a href="#local-6989586621682740047"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740048"><span class="annot"><span class="annottext">[HsTupArg GhcTc]
</span><a href="#local-6989586621682740048"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span id="local-6989586621682740049"><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621682740049"><span class="hs-identifier hs-var">boxity</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-517"></span><span>        </span><span class="annot"><span class="annottext">([HsTupArg GhcTc] -&gt; Boxity -&gt; HsExpr GhcTc)
-&gt; TM [HsTupArg GhcTc] -&gt; TM Boxity -&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XExplicitTuple GhcTc -&gt; [HsTupArg GhcTc] -&gt; Boxity -&gt; HsExpr GhcTc
forall p. XExplicitTuple p -&gt; [HsTupArg p] -&gt; Boxity -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#ExplicitTuple"><span class="hs-identifier hs-var">ExplicitTuple</span></a></span><span> </span><span class="annot"><span class="annottext">XExplicitTuple GhcTc
</span><a href="#local-6989586621682740047"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-518"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HsTupArg GhcTc -&gt; TM (HsTupArg GhcTc))
-&gt; [HsTupArg GhcTc] -&gt; TM [HsTupArg GhcTc]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">HsTupArg GhcTc -&gt; TM (HsTupArg GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickTupArg"><span class="hs-identifier hs-var">addTickTupArg</span></a></span><span> </span><span class="annot"><span class="annottext">[HsTupArg GhcTc]
</span><a href="#local-6989586621682740048"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-519"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Boxity -&gt; TM Boxity
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Boxity
</span><a href="#local-6989586621682740049"><span class="hs-identifier hs-var">boxity</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-520"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExplicitSum"><span class="hs-identifier hs-type">ExplicitSum</span></a></span><span> </span><span id="local-6989586621682740052"><span class="annot"><span class="annottext">XExplicitSum GhcTc
</span><a href="#local-6989586621682740052"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682740053"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682740053"><span class="hs-identifier hs-var">tag</span></a></span></span><span> </span><span id="local-6989586621682740054"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682740054"><span class="hs-identifier hs-var">arity</span></a></span></span><span> </span><span id="local-6989586621682740055"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740055"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-521"></span><span>        </span><span id="local-6989586621682740056"><span class="annot"><a href="#local-6989586621682740056"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740055"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-522"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExplicitSum"><span class="hs-identifier hs-type">ExplicitSum</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740052"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740053"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740054"><span class="hs-identifier hs-type">arity</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740056"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-523"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCase"><span class="hs-identifier hs-type">HsCase</span></a></span><span> </span><span id="local-6989586621682740057"><span class="annot"><span class="annottext">XCase GhcTc
</span><a href="#local-6989586621682740057"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740058"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740058"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682740059"><span class="annot"><span class="annottext">MatchGroup GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740059"><span class="hs-identifier hs-var">mgs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-524"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; MatchGroup GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
 -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (MatchGroup GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
-&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCase GhcTc
-&gt; LHsExpr GhcTc
-&gt; MatchGroup GhcTc (LHsExpr GhcTc)
-&gt; HsExpr GhcTc
forall p.
XCase p -&gt; LHsExpr p -&gt; MatchGroup p (LHsExpr p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsCase"><span class="hs-identifier hs-var">HsCase</span></a></span><span> </span><span class="annot"><span class="annottext">XCase GhcTc
</span><a href="#local-6989586621682740057"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-525"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740058"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- not an EvalInner; e might not necessarily</span><span>
</span><span id="line-526"></span><span>                                   </span><span class="hs-comment">-- be evaluated.</span><span>
</span><span id="line-527"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
-&gt; MatchGroup GhcTc (LHsExpr GhcTc)
-&gt; TM (MatchGroup GhcTc (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickMatchGroup"><span class="hs-identifier hs-var">addTickMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740059"><span class="hs-identifier hs-var">mgs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-528"></span><span>
</span><span id="line-529"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsIf"><span class="hs-identifier hs-type">HsIf</span></a></span><span> </span><span id="local-6989586621682740061"><span class="annot"><span class="annottext">XIf GhcTc
</span><a href="#local-6989586621682740061"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740062"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740062"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682740063"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740063"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span id="local-6989586621682740064"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740064"><span class="hs-identifier hs-var">e3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-530"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 a2 a3 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m r
</span><span class="hs-identifier hs-var">liftM3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XIf GhcTc
-&gt; LHsExpr GhcTc -&gt; LHsExpr GhcTc -&gt; LHsExpr GhcTc -&gt; HsExpr GhcTc
forall p. XIf p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsIf"><span class="hs-identifier hs-var">HsIf</span></a></span><span> </span><span class="annot"><span class="annottext">XIf GhcTc
</span><a href="#local-6989586621682740061"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-531"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Bool -&gt; BoxLabel) -&gt; LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addBinTickLHsExpr"><span class="hs-identifier hs-var">addBinTickLHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CondBox -&gt; Bool -&gt; BoxLabel
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BinBox"><span class="hs-identifier hs-var">BinBox</span></a></span><span> </span><span class="annot"><span class="annottext">CondBox
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#CondBinBox"><span class="hs-identifier hs-var">CondBinBox</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740062"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-532"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprOptAlt"><span class="hs-identifier hs-var">addTickLHsExprOptAlt</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740063"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-533"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprOptAlt"><span class="hs-identifier hs-var">addTickLHsExprOptAlt</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740064"><span class="hs-identifier hs-var">e3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-534"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsMultiIf"><span class="hs-identifier hs-type">HsMultiIf</span></a></span><span> </span><span id="local-6989586621682740069"><span class="annot"><span class="annottext">XMultiIf GhcTc
</span><a href="#local-6989586621682740069"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682740070"><span class="annot"><span class="annottext">[LGRHS GhcTc (LHsExpr GhcTc)]
</span><a href="#local-6989586621682740070"><span class="hs-identifier hs-var">alts</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-535"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682740071"><span class="annot"><span class="annottext">isOneOfMany :: Bool
</span><a href="#local-6989586621682740071"><span class="hs-identifier hs-var hs-var hs-var">isOneOfMany</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[LGRHS GhcTc (LHsExpr GhcTc)]
</span><a href="#local-6989586621682740070"><span class="hs-identifier hs-var">alts</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LGRHS GhcTc (LHsExpr GhcTc)
</span><span class="hs-identifier">_</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">[LGRHS GhcTc (LHsExpr GhcTc)]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-536"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682740072"><span class="annot"><a href="#local-6989586621682740072"><span class="hs-identifier hs-var">alts'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   EpAnnCO (GRHS GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
 -&gt; TM
      (GenLocated
         EpAnnCO (GRHS GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))))
-&gt; [GenLocated
      EpAnnCO (GRHS GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
-&gt; TM
     [GenLocated
        EpAnnCO (GRHS GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GRHS GhcTc (LHsExpr GhcTc) -&gt; TM (GRHS GhcTc (LHsExpr GhcTc)))
-&gt; GenLocated EpAnnCO (GRHS GhcTc (LHsExpr GhcTc))
-&gt; TM (GenLocated EpAnnCO (GRHS GhcTc (LHsExpr GhcTc)))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; GenLocated EpAnnCO a -&gt; f (GenLocated EpAnnCO b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">((GRHS GhcTc (LHsExpr GhcTc) -&gt; TM (GRHS GhcTc (LHsExpr GhcTc)))
 -&gt; GenLocated EpAnnCO (GRHS GhcTc (LHsExpr GhcTc))
 -&gt; TM (GenLocated EpAnnCO (GRHS GhcTc (LHsExpr GhcTc))))
-&gt; (GRHS GhcTc (LHsExpr GhcTc) -&gt; TM (GRHS GhcTc (LHsExpr GhcTc)))
-&gt; GenLocated EpAnnCO (GRHS GhcTc (LHsExpr GhcTc))
-&gt; TM (GenLocated EpAnnCO (GRHS GhcTc (LHsExpr GhcTc)))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; Bool
-&gt; Bool
-&gt; GRHS GhcTc (LHsExpr GhcTc)
-&gt; TM (GRHS GhcTc (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickGRHS"><span class="hs-identifier hs-var">addTickGRHS</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740071"><span class="hs-identifier hs-var">isOneOfMany</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LGRHS GhcTc (LHsExpr GhcTc)]
[GenLocated
   EpAnnCO (GRHS GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
</span><a href="#local-6989586621682740070"><span class="hs-identifier hs-var">alts</span></a></span><span>
</span><span id="line-537"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsMultiIf"><span class="hs-identifier hs-type">HsMultiIf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740069"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740072"><span class="hs-identifier hs-type">alts'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-538"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLet"><span class="hs-identifier hs-type">HsLet</span></a></span><span> </span><span id="local-6989586621682740075"><span class="annot"><span class="annottext">XLet GhcTc
</span><a href="#local-6989586621682740075"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740076"><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740076"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span id="local-6989586621682740077"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740077"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-539"></span><span>        </span><span class="annot"><span class="annottext">[Id] -&gt; TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc)
forall a. [Id] -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#bindLocals"><span class="hs-identifier hs-var">bindLocals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CollectFlag GhcTc -&gt; HsLocalBinds GhcTc -&gt; [IdP GhcTc]
forall (idL :: Pass) (idR :: Pass).
CollectPass (GhcPass idL) =&gt;
CollectFlag (GhcPass idL)
-&gt; HsLocalBindsLR (GhcPass idL) (GhcPass idR)
-&gt; [IdP (GhcPass idL)]
</span><a href="GHC.Hs.Utils.html#collectLocalBinders"><span class="hs-identifier hs-var">collectLocalBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcTc
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740076"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc))
-&gt; TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-540"></span><span>          </span><span id="local-6989586621682740080"><span class="annot"><a href="#local-6989586621682740080"><span class="hs-identifier hs-var">binds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc -&gt; TM (HsLocalBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsLocalBinds"><span class="hs-identifier hs-var">addTickHsLocalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740076"><span class="hs-identifier hs-var">binds</span></a></span><span> </span><span class="hs-comment">-- to think about: !patterns.</span><span>
</span><span id="line-541"></span><span>          </span><span id="local-6989586621682740082"><span class="annot"><a href="#local-6989586621682740082"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsExprLetBody"><span class="hs-identifier hs-type">addTickLHsExprLetBody</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740077"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-542"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsLet"><span class="hs-identifier hs-type">HsLet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740075"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740080"><span class="hs-identifier hs-type">binds'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740082"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-543"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExplicitList"><span class="hs-identifier hs-type">ExplicitList</span></a></span><span> </span><span id="local-6989586621682740084"><span class="annot"><span class="annottext">XExplicitList GhcTc
</span><a href="#local-6989586621682740084"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682740085"><span class="annot"><span class="annottext">[LHsExpr GhcTc]
</span><a href="#local-6989586621682740085"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-544"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Type -&gt; [GenLocated SrcSpanAnnA (HsExpr GhcTc)] -&gt; HsExpr GhcTc)
-&gt; TM Type
-&gt; TM [GenLocated SrcSpanAnnA (HsExpr GhcTc)]
-&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="annot"><span class="annottext">XExplicitList GhcTc -&gt; [LHsExpr GhcTc] -&gt; HsExpr GhcTc
Type -&gt; [GenLocated SrcSpanAnnA (HsExpr GhcTc)] -&gt; HsExpr GhcTc
forall p. XExplicitList p -&gt; [LHsExpr p] -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#ExplicitList"><span class="hs-identifier hs-var">ExplicitList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; TM Type
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">XExplicitList GhcTc
Type
</span><a href="#local-6989586621682740084"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
-&gt; [GenLocated SrcSpanAnnA (HsExpr GhcTc)]
-&gt; TM [GenLocated SrcSpanAnnA (HsExpr GhcTc)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsExpr GhcTc]
[GenLocated SrcSpanAnnA (HsExpr GhcTc)]
</span><a href="#local-6989586621682740085"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-545"></span><span>
</span><span id="line-546"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsStatic"><span class="hs-identifier hs-type">HsStatic</span></a></span><span> </span><span id="local-6989586621682740087"><span class="annot"><span class="annottext">XStatic GhcTc
</span><a href="#local-6989586621682740087"><span class="hs-identifier hs-var">fvs</span></a></span></span><span> </span><span id="local-6989586621682740088"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740088"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XStatic GhcTc -&gt; LHsExpr GhcTc -&gt; HsExpr GhcTc
forall p. XStatic p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsStatic"><span class="hs-identifier hs-var">HsStatic</span></a></span><span> </span><span class="annot"><span class="annottext">XStatic GhcTc
</span><a href="#local-6989586621682740087"><span class="hs-identifier hs-var">fvs</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc)) -&gt; TM (HsExpr GhcTc)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740088"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-547"></span><span>
</span><span id="line-548"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740090"><span class="annot"><span class="annottext">expr :: HsExpr GhcTc
</span><a href="#local-6989586621682740090"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecordCon"><span class="hs-identifier hs-type">RecordCon</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rcon_flds :: forall p. HsExpr p -&gt; HsRecordBinds p
</span><a href="Language.Haskell.Syntax.Expr.html#rcon_flds"><span class="hs-identifier hs-var">rcon_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740093"><span class="annot"><span class="annottext">HsRecordBinds GhcTc
</span><a href="#local-6989586621682740093"><span class="hs-identifier hs-var">rec_binds</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-549"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682740094"><span class="annot"><a href="#local-6989586621682740094"><span class="hs-identifier hs-var">rec_binds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsRecordBinds GhcTc -&gt; TM (HsRecordBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsRecordBinds"><span class="hs-identifier hs-var">addTickHsRecordBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsRecordBinds GhcTc
</span><a href="#local-6989586621682740093"><span class="hs-identifier hs-var">rec_binds</span></a></span><span>
</span><span id="line-550"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682740090"><span class="hs-identifier hs-type">expr</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#rcon_flds"><span class="hs-identifier hs-var">rcon_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740094"><span class="hs-identifier hs-type">rec_binds'</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-551"></span><span>
</span><span id="line-552"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740096"><span class="annot"><span class="annottext">expr :: HsExpr GhcTc
</span><a href="#local-6989586621682740096"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecordUpd"><span class="hs-identifier hs-type">RecordUpd</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rupd_expr :: forall p. HsExpr p -&gt; LHsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_expr"><span class="hs-identifier hs-var">rupd_expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740099"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740099"><span class="hs-identifier hs-var">e</span></a></span></span><span>
</span><span id="line-553"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rupd_flds :: forall p. HsExpr p -&gt; LHsRecUpdFields p
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_flds"><span class="hs-identifier hs-var">rupd_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740101"><span class="annot"><span class="annottext">upd :: LHsRecUpdFields GhcTc
</span><a href="#local-6989586621682740101"><span class="hs-identifier hs-var">upd</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RegularRecUpdFields"><span class="hs-identifier hs-type">RegularRecUpdFields</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">recUpdFields :: forall p. LHsRecUpdFields p -&gt; [LHsRecUpdField p p]
</span><a href="Language.Haskell.Syntax.Expr.html#recUpdFields"><span class="hs-identifier hs-var">recUpdFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740104"><span class="annot"><span class="annottext">[LHsRecUpdField GhcTc GhcTc]
</span><a href="#local-6989586621682740104"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-554"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682740105"><span class="annot"><a href="#local-6989586621682740105"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740099"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-555"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682740106"><span class="annot"><a href="#local-6989586621682740106"><span class="hs-identifier hs-var">flds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsRecField"><span class="hs-identifier hs-type">addTickHsRecField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740104"><span class="hs-identifier hs-type">flds</span></a></span><span>
</span><span id="line-556"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682740096"><span class="hs-identifier hs-type">expr</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#rupd_expr"><span class="hs-identifier hs-var">rupd_expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740105"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#rupd_flds"><span class="hs-identifier hs-var">rupd_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740101"><span class="hs-identifier hs-type">upd</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recUpdFields"><span class="hs-identifier hs-var">recUpdFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740106"><span class="hs-identifier hs-type">flds'</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-557"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740108"><span class="annot"><span class="annottext">expr :: HsExpr GhcTc
</span><a href="#local-6989586621682740108"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecordUpd"><span class="hs-identifier hs-type">RecordUpd</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rupd_expr :: forall p. HsExpr p -&gt; LHsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_expr"><span class="hs-identifier hs-var">rupd_expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740109"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740109"><span class="hs-identifier hs-var">e</span></a></span></span><span>
</span><span id="line-558"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rupd_flds :: forall p. HsExpr p -&gt; LHsRecUpdFields p
</span><a href="Language.Haskell.Syntax.Expr.html#rupd_flds"><span class="hs-identifier hs-var">rupd_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740110"><span class="annot"><span class="annottext">upd :: LHsRecUpdFields GhcTc
</span><a href="#local-6989586621682740110"><span class="hs-identifier hs-var">upd</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#OverloadedRecUpdFields"><span class="hs-identifier hs-type">OverloadedRecUpdFields</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">olRecUpdFields :: forall p. LHsRecUpdFields p -&gt; [LHsRecUpdProj p]
</span><a href="Language.Haskell.Syntax.Expr.html#olRecUpdFields"><span class="hs-identifier hs-var">olRecUpdFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740113"><span class="annot"><span class="annottext">[LHsRecUpdProj GhcTc]
</span><a href="#local-6989586621682740113"><span class="hs-identifier hs-var">flds</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-559"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682740114"><span class="annot"><a href="#local-6989586621682740114"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740109"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-560"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682740115"><span class="annot"><a href="#local-6989586621682740115"><span class="hs-identifier hs-var">flds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsRecField"><span class="hs-identifier hs-type">addTickHsRecField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740113"><span class="hs-identifier hs-type">flds</span></a></span><span>
</span><span id="line-561"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682740108"><span class="hs-identifier hs-type">expr</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#rupd_expr"><span class="hs-identifier hs-var">rupd_expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740114"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#rupd_flds"><span class="hs-identifier hs-var">rupd_flds</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740110"><span class="hs-identifier hs-type">upd</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#olRecUpdFields"><span class="hs-identifier hs-var">olRecUpdFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740115"><span class="hs-identifier hs-type">flds'</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-562"></span><span>
</span><span id="line-563"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExprWithTySig"><span class="hs-identifier hs-type">ExprWithTySig</span></a></span><span> </span><span id="local-6989586621682740117"><span class="annot"><span class="annottext">XExprWithTySig GhcTc
</span><a href="#local-6989586621682740117"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740118"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740118"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682740119"><span class="annot"><span class="annottext">LHsSigWcType (NoGhcTc GhcTc)
</span><a href="#local-6989586621682740119"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-564"></span><span>        </span><span class="annot"><span class="annottext">(NoExtField
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; HsWildCardBndrs
      (GhcPass 'Renamed)
      (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Renamed)))
 -&gt; HsExpr GhcTc)
-&gt; TM NoExtField
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM
     (HsWildCardBndrs
        (GhcPass 'Renamed)
        (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Renamed))))
-&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 a2 a3 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m r
</span><span class="hs-identifier hs-var">liftM3</span></span><span> </span><span class="annot"><span class="annottext">XExprWithTySig GhcTc
-&gt; LHsExpr GhcTc -&gt; LHsSigWcType (NoGhcTc GhcTc) -&gt; HsExpr GhcTc
NoExtField
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; HsWildCardBndrs
     (GhcPass 'Renamed)
     (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Renamed)))
-&gt; HsExpr GhcTc
forall p.
XExprWithTySig p
-&gt; LHsExpr p -&gt; LHsSigWcType (NoGhcTc p) -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#ExprWithTySig"><span class="hs-identifier hs-var">ExprWithTySig</span></a></span><span>
</span><span id="line-565"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NoExtField -&gt; TM NoExtField
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">XExprWithTySig GhcTc
NoExtField
</span><a href="#local-6989586621682740117"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-566"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var">addTickLHsExprNever</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740118"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- No need to tick the inner expression</span><span>
</span><span id="line-567"></span><span>                                        </span><span class="hs-comment">-- for expressions with signatures</span><span>
</span><span id="line-568"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsWildCardBndrs
  (GhcPass 'Renamed)
  (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Renamed)))
-&gt; TM
     (HsWildCardBndrs
        (GhcPass 'Renamed)
        (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Renamed))))
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">LHsSigWcType (NoGhcTc GhcTc)
HsWildCardBndrs
  (GhcPass 'Renamed)
  (GenLocated SrcSpanAnnA (HsSigType (GhcPass 'Renamed)))
</span><a href="#local-6989586621682740119"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-569"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ArithSeq"><span class="hs-identifier hs-type">ArithSeq</span></a></span><span> </span><span id="local-6989586621682740121"><span class="annot"><span class="annottext">XArithSeq GhcTc
</span><a href="#local-6989586621682740121"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682740122"><span class="annot"><span class="annottext">Maybe (SyntaxExpr GhcTc)
</span><a href="#local-6989586621682740122"><span class="hs-identifier hs-var">wit</span></a></span></span><span> </span><span id="local-6989586621682740123"><span class="annot"><span class="annottext">ArithSeqInfo GhcTc
</span><a href="#local-6989586621682740123"><span class="hs-identifier hs-var">arith_seq</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-570"></span><span>        </span><span class="annot"><span class="annottext">(HsExpr GhcTc
 -&gt; Maybe SyntaxExprTc -&gt; ArithSeqInfo GhcTc -&gt; HsExpr GhcTc)
-&gt; TM (HsExpr GhcTc)
-&gt; TM (Maybe SyntaxExprTc)
-&gt; TM (ArithSeqInfo GhcTc)
-&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 a2 a3 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m r
</span><span class="hs-identifier hs-var">liftM3</span></span><span> </span><span class="annot"><span class="annottext">XArithSeq GhcTc
-&gt; Maybe (SyntaxExpr GhcTc) -&gt; ArithSeqInfo GhcTc -&gt; HsExpr GhcTc
HsExpr GhcTc
-&gt; Maybe SyntaxExprTc -&gt; ArithSeqInfo GhcTc -&gt; HsExpr GhcTc
forall p.
XArithSeq p -&gt; Maybe (SyntaxExpr p) -&gt; ArithSeqInfo p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#ArithSeq"><span class="hs-identifier hs-var">ArithSeq</span></a></span><span>
</span><span id="line-571"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">XArithSeq GhcTc
HsExpr GhcTc
</span><a href="#local-6989586621682740121"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-572"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe SyntaxExprTc -&gt; TM (Maybe SyntaxExprTc)
</span><a href="#local-6989586621682740124"><span class="hs-identifier hs-var">addTickWit</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (SyntaxExpr GhcTc)
Maybe SyntaxExprTc
</span><a href="#local-6989586621682740122"><span class="hs-identifier hs-var">wit</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-573"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArithSeqInfo GhcTc -&gt; TM (ArithSeqInfo GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickArithSeqInfo"><span class="hs-identifier hs-var">addTickArithSeqInfo</span></a></span><span> </span><span class="annot"><span class="annottext">ArithSeqInfo GhcTc
</span><a href="#local-6989586621682740123"><span class="hs-identifier hs-var">arith_seq</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-574"></span><span>             </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621682740124"><span class="annot"><span class="annottext">addTickWit :: Maybe SyntaxExprTc -&gt; TM (Maybe SyntaxExprTc)
</span><a href="#local-6989586621682740124"><span class="hs-identifier hs-var hs-var">addTickWit</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe SyntaxExprTc
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SyntaxExprTc -&gt; TM (Maybe SyntaxExprTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe SyntaxExprTc
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-575"></span><span>                   </span><span class="annot"><a href="#local-6989586621682740124"><span class="hs-identifier hs-var">addTickWit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682740129"><span class="annot"><span class="annottext">SyntaxExprTc
</span><a href="#local-6989586621682740129"><span class="hs-identifier hs-var">fl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682740130"><span class="annot"><a href="#local-6989586621682740130"><span class="hs-identifier hs-var">fl'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcTc
SyntaxExprTc
</span><a href="#local-6989586621682740129"><span class="hs-identifier hs-var">fl</span></a></span><span>
</span><span id="line-576"></span><span>                                             </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621682740130"><span class="hs-identifier hs-type">fl'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-577"></span><span>
</span><span id="line-578"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsPragE"><span class="hs-identifier hs-type">HsPragE</span></a></span><span> </span><span id="local-6989586621682740132"><span class="annot"><span class="annottext">XPragE GhcTc
</span><a href="#local-6989586621682740132"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740133"><span class="annot"><span class="annottext">HsPragE GhcTc
</span><a href="#local-6989586621682740133"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621682740134"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740134"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-579"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc)) -&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XPragE GhcTc -&gt; HsPragE GhcTc -&gt; LHsExpr GhcTc -&gt; HsExpr GhcTc
forall p. XPragE p -&gt; HsPragE p -&gt; LHsExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsPragE"><span class="hs-identifier hs-var">HsPragE</span></a></span><span> </span><span class="annot"><span class="annottext">XPragE GhcTc
</span><a href="#local-6989586621682740132"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">HsPragE GhcTc
</span><a href="#local-6989586621682740133"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740134"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-580"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740135"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682740135"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsTypedBracket"><span class="hs-identifier hs-type">HsTypedBracket</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740135"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-581"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740137"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682740137"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsUntypedBracket"><span class="hs-identifier hs-type">HsUntypedBracket</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740137"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-582"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740139"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682740139"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsTypedSplice"><span class="hs-identifier hs-type">HsTypedSplice</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740139"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-583"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740141"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682740141"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsUntypedSplice"><span class="hs-identifier hs-type">HsUntypedSplice</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740141"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-584"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740143"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682740143"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsGetField"><span class="hs-identifier hs-type">HsGetField</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740143"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-585"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740145"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682740145"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsProjection"><span class="hs-identifier hs-type">HsProjection</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740145"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-586"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsProc"><span class="hs-identifier hs-type">HsProc</span></a></span><span> </span><span id="local-6989586621682740148"><span class="annot"><span class="annottext">XProc GhcTc
</span><a href="#local-6989586621682740148"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740149"><span class="annot"><span class="annottext">LPat GhcTc
</span><a href="#local-6989586621682740149"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span id="local-6989586621682740150"><span class="annot"><span class="annottext">LHsCmdTop GhcTc
</span><a href="#local-6989586621682740150"><span class="hs-identifier hs-var">cmdtop</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-587"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (Pat GhcTc)
 -&gt; GenLocated EpAnnCO (HsCmdTop GhcTc) -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (Pat GhcTc))
-&gt; TM (GenLocated EpAnnCO (HsCmdTop GhcTc))
-&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XProc GhcTc -&gt; LPat GhcTc -&gt; LHsCmdTop GhcTc -&gt; HsExpr GhcTc
forall p. XProc p -&gt; LPat p -&gt; LHsCmdTop p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#HsProc"><span class="hs-identifier hs-var">HsProc</span></a></span><span> </span><span class="annot"><span class="annottext">XProc GhcTc
</span><a href="#local-6989586621682740148"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-588"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LPat GhcTc -&gt; TM (LPat GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLPat"><span class="hs-identifier hs-var">addTickLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcTc
</span><a href="#local-6989586621682740149"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-589"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HsCmdTop GhcTc -&gt; TM (HsCmdTop GhcTc))
-&gt; GenLocated EpAnnCO (HsCmdTop GhcTc)
-&gt; TM (GenLocated EpAnnCO (HsCmdTop GhcTc))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; GenLocated EpAnnCO a -&gt; f (GenLocated EpAnnCO b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsCmdTop GhcTc -&gt; TM (HsCmdTop GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsCmdTop"><span class="hs-identifier hs-var">addTickHsCmdTop</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsCmdTop GhcTc
GenLocated EpAnnCO (HsCmdTop GhcTc)
</span><a href="#local-6989586621682740150"><span class="hs-identifier hs-var">cmdtop</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-590"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#WrapExpr"><span class="hs-identifier hs-type">WrapExpr</span></a></span><span> </span><span id="local-6989586621682740154"><span class="annot"><span class="annottext">HsWrapper
</span><a href="#local-6989586621682740154"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621682740155"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740155"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-591"></span><span>        </span><span class="annot"><span class="annottext">(HsExpr GhcTc -&gt; HsExpr GhcTc)
-&gt; TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XXExpr GhcTc -&gt; HsExpr GhcTc
XXExprGhcTc -&gt; HsExpr GhcTc
forall p. XXExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-var">XExpr</span></a></span><span> </span><span class="annot"><span class="annottext">(XXExprGhcTc -&gt; HsExpr GhcTc)
-&gt; (HsExpr GhcTc -&gt; XXExprGhcTc) -&gt; HsExpr GhcTc -&gt; HsExpr GhcTc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HsWrapper -&gt; HsExpr GhcTc -&gt; XXExprGhcTc
</span><a href="GHC.Hs.Expr.html#WrapExpr"><span class="hs-identifier hs-var">WrapExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsWrapper
</span><a href="#local-6989586621682740154"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc))
-&gt; TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-592"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740155"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>        </span><span class="hs-comment">-- Explicitly no tick on inside</span><span>
</span><span id="line-593"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#ExpandedThingTc"><span class="hs-identifier hs-type">ExpandedThingTc</span></a></span><span> </span><span id="local-6989586621682740157"><span class="annot"><span class="annottext">HsThingRn
</span><a href="#local-6989586621682740157"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621682740158"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740158"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsThingRn -&gt; HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsExpanded"><span class="hs-identifier hs-var">addTickHsExpanded</span></a></span><span> </span><span class="annot"><span class="annottext">HsThingRn
</span><a href="#local-6989586621682740157"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740158"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-594"></span><span>
</span><span id="line-595"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740160"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682740160"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#ConLikeTc"><span class="hs-identifier hs-type">ConLikeTc</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740160"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-596"></span><span>  </span><span class="hs-comment">-- We used to do a freeVar on a pat-syn builder, but actually</span><span>
</span><span id="line-597"></span><span>  </span><span class="hs-comment">-- such builders are never in the inScope env, which</span><span>
</span><span id="line-598"></span><span>  </span><span class="hs-comment">-- doesn't include top level bindings</span><span>
</span><span id="line-599"></span><span>
</span><span id="line-600"></span><span class="hs-comment">-- We might encounter existing ticks (multiple Coverage passes)</span><span>
</span><span id="line-601"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsTick"><span class="hs-identifier hs-type">HsTick</span></a></span><span> </span><span id="local-6989586621682740162"><span class="annot"><span class="annottext">CoreTickish
</span><a href="#local-6989586621682740162"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621682740163"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740163"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-602"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc)) -&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XXExpr GhcTc -&gt; HsExpr GhcTc
XXExprGhcTc -&gt; HsExpr GhcTc
forall p. XXExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-var">XExpr</span></a></span><span> </span><span class="annot"><span class="annottext">(XXExprGhcTc -&gt; HsExpr GhcTc)
-&gt; (GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; XXExprGhcTc)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; HsExpr GhcTc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CoreTickish -&gt; LHsExpr GhcTc -&gt; XXExprGhcTc
</span><a href="GHC.Hs.Expr.html#HsTick"><span class="hs-identifier hs-var">HsTick</span></a></span><span> </span><span class="annot"><span class="annottext">CoreTickish
</span><a href="#local-6989586621682740162"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var">addTickLHsExprNever</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740163"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-603"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsBinTick"><span class="hs-identifier hs-type">HsBinTick</span></a></span><span> </span><span id="local-6989586621682740165"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682740165"><span class="hs-identifier hs-var">t0</span></a></span></span><span> </span><span id="local-6989586621682740166"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682740166"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621682740167"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740167"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-604"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc)) -&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XXExpr GhcTc -&gt; HsExpr GhcTc
XXExprGhcTc -&gt; HsExpr GhcTc
forall p. XXExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-var">XExpr</span></a></span><span> </span><span class="annot"><span class="annottext">(XXExprGhcTc -&gt; HsExpr GhcTc)
-&gt; (GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; XXExprGhcTc)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; HsExpr GhcTc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; LHsExpr GhcTc -&gt; XXExprGhcTc
</span><a href="GHC.Hs.Expr.html#HsBinTick"><span class="hs-identifier hs-var">HsBinTick</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682740165"><span class="hs-identifier hs-var">t0</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682740166"><span class="hs-identifier hs-var">t1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var">addTickLHsExprNever</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740167"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-605"></span><span>
</span><span id="line-606"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span id="local-6989586621682740168"><span class="annot"><span class="annottext">e :: HsExpr GhcTc
</span><a href="#local-6989586621682740168"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsRecSelTc"><span class="hs-identifier hs-type">HsRecSelTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#FieldOcc"><span class="hs-identifier hs-type">FieldOcc</span></a></span><span> </span><span class="annot"><span class="annottext">XCFieldOcc GhcTc
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682740171"><span class="annot"><span class="annottext">LIdP GhcTc
</span><a href="#local-6989586621682740171"><span class="hs-identifier hs-var">id</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Id -&gt; TM ()
</span><a href="GHC.HsToCore.Ticks.html#freeVar"><span class="hs-identifier hs-var">freeVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnN Id -&gt; Id
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">LIdP GhcTc
GenLocated SrcSpanAnnN Id
</span><a href="#local-6989586621682740171"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740168"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-607"></span><span>
</span><span id="line-608"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsDo"><span class="hs-identifier hs-type">HsDo</span></a></span><span> </span><span id="local-6989586621682740173"><span class="annot"><span class="annottext">XDo GhcTc
</span><a href="#local-6989586621682740173"><span class="hs-identifier hs-var">srcloc</span></a></span></span><span> </span><span id="local-6989586621682740174"><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="#local-6989586621682740174"><span class="hs-identifier hs-var">cxt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682740175"><span class="annot"><span class="annottext">SrcSpanAnnLW
</span><a href="#local-6989586621682740175"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621682740176"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA
   (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
</span><a href="#local-6989586621682740176"><span class="hs-identifier hs-var">stmts</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-609"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682740177"><span class="annot"><a href="#local-6989586621682740177"><span class="hs-identifier hs-var">stmts'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
-&gt; [ExprLStmt GhcTc] -&gt; TM () -&gt; TM ([ExprLStmt GhcTc], ())
forall a.
Maybe (Bool -&gt; BoxLabel)
-&gt; [ExprLStmt GhcTc] -&gt; TM a -&gt; TM ([ExprLStmt GhcTc], a)
</span><a href="GHC.HsToCore.Ticks.html#addTickLStmts%27"><span class="hs-identifier hs-var">addTickLStmts'</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740179"><span class="hs-identifier hs-var">forQual</span></a></span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
[GenLocated
   SrcSpanAnnA
   (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
</span><a href="#local-6989586621682740176"><span class="hs-identifier hs-var">stmts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; TM ()
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-610"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsDo"><span class="hs-identifier hs-type">HsDo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740173"><span class="hs-identifier hs-type">srcloc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740174"><span class="hs-identifier hs-type">cxt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740175"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740177"><span class="hs-identifier hs-type">stmts'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-611"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-612"></span><span>        </span><span id="local-6989586621682740179"><span class="annot"><span class="annottext">forQual :: Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740179"><span class="hs-identifier hs-var hs-var">forQual</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="#local-6989586621682740174"><span class="hs-identifier hs-var">cxt</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-613"></span><span>                    </span><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="Language.Haskell.Syntax.Expr.html#ListComp"><span class="hs-identifier hs-var">ListComp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; BoxLabel) -&gt; Maybe (Bool -&gt; BoxLabel)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">((Bool -&gt; BoxLabel) -&gt; Maybe (Bool -&gt; BoxLabel))
-&gt; (Bool -&gt; BoxLabel) -&gt; Maybe (Bool -&gt; BoxLabel)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CondBox -&gt; Bool -&gt; BoxLabel
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BinBox"><span class="hs-identifier hs-var">BinBox</span></a></span><span> </span><span class="annot"><span class="annottext">CondBox
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#QualBinBox"><span class="hs-identifier hs-var">QualBinBox</span></a></span><span>
</span><span id="line-614"></span><span>                    </span><span class="annot"><span class="annottext">HsDoFlavour
</span><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-615"></span><span>
</span><span id="line-616"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpanded"><span class="hs-identifier hs-type">addTickHsExpanded</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsThingRn"><span class="hs-identifier hs-type">HsThingRn</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-617"></span><span id="addTickHsExpanded"><span class="annot"><span class="annottext">addTickHsExpanded :: HsThingRn -&gt; HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsExpanded"><span class="hs-identifier hs-var hs-var">addTickHsExpanded</span></a></span></span><span> </span><span id="local-6989586621682740182"><span class="annot"><span class="annottext">o :: HsThingRn
</span><a href="#local-6989586621682740182"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#OrigStmt"><span class="hs-identifier hs-type">OrigStmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682740183"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682740183"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LastStmt"><span class="hs-identifier hs-type">LastStmt</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621682740185"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740185"><span class="hs-identifier hs-var">e</span></a></span></span><span>
</span><span id="line-618"></span><span>  </span><span class="hs-comment">-- LastStmt always gets a tick for breakpoint and hpc coverage</span><span>
</span><span id="line-619"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682740186"><span class="annot"><a href="#local-6989586621682740186"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM TickDensity
</span><a href="GHC.HsToCore.Ticks.html#getDensity"><span class="hs-identifier hs-var">getDensity</span></a></span><span>
</span><span id="line-620"></span><span>       </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682740186"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-621"></span><span>          </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForCoverage"><span class="hs-identifier hs-var">TickForCoverage</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(HsExpr GhcTc -&gt; HsExpr GhcTc)
-&gt; TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XXExpr GhcTc -&gt; HsExpr GhcTc
XXExprGhcTc -&gt; HsExpr GhcTc
forall p. XXExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-var">XExpr</span></a></span><span> </span><span class="annot"><span class="annottext">(XXExprGhcTc -&gt; HsExpr GhcTc)
-&gt; (HsExpr GhcTc -&gt; XXExprGhcTc) -&gt; HsExpr GhcTc -&gt; HsExpr GhcTc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HsThingRn -&gt; HsExpr GhcTc -&gt; XXExprGhcTc
</span><a href="GHC.Hs.Expr.html#ExpandedThingTc"><span class="hs-identifier hs-var">ExpandedThingTc</span></a></span><span> </span><span class="annot"><span class="annottext">HsThingRn
</span><a href="#local-6989586621682740182"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc))
-&gt; TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="#local-6989586621682740187"><span class="hs-identifier hs-var">tick_it</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740185"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-622"></span><span>          </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForBreakPoints"><span class="hs-identifier hs-var">TickForBreakPoints</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(HsExpr GhcTc -&gt; HsExpr GhcTc)
-&gt; TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XXExpr GhcTc -&gt; HsExpr GhcTc
XXExprGhcTc -&gt; HsExpr GhcTc
forall p. XXExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-var">XExpr</span></a></span><span> </span><span class="annot"><span class="annottext">(XXExprGhcTc -&gt; HsExpr GhcTc)
-&gt; (HsExpr GhcTc -&gt; XXExprGhcTc) -&gt; HsExpr GhcTc -&gt; HsExpr GhcTc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HsThingRn -&gt; HsExpr GhcTc -&gt; XXExprGhcTc
</span><a href="GHC.Hs.Expr.html#ExpandedThingTc"><span class="hs-identifier hs-var">ExpandedThingTc</span></a></span><span> </span><span class="annot"><span class="annottext">HsThingRn
</span><a href="#local-6989586621682740182"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc))
-&gt; TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="#local-6989586621682740187"><span class="hs-identifier hs-var">tick_it</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740185"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-623"></span><span>          </span><span class="annot"><span class="annottext">TickDensity
</span><span class="hs-identifier">_</span></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(HsExpr GhcTc -&gt; HsExpr GhcTc)
-&gt; TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XXExpr GhcTc -&gt; HsExpr GhcTc
XXExprGhcTc -&gt; HsExpr GhcTc
forall p. XXExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-var">XExpr</span></a></span><span> </span><span class="annot"><span class="annottext">(XXExprGhcTc -&gt; HsExpr GhcTc)
-&gt; (HsExpr GhcTc -&gt; XXExprGhcTc) -&gt; HsExpr GhcTc -&gt; HsExpr GhcTc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HsThingRn -&gt; HsExpr GhcTc -&gt; XXExprGhcTc
</span><a href="GHC.Hs.Expr.html#ExpandedThingTc"><span class="hs-identifier hs-var">ExpandedThingTc</span></a></span><span> </span><span class="annot"><span class="annottext">HsThingRn
</span><a href="#local-6989586621682740182"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc))
-&gt; TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740185"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-624"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-625"></span><span>    </span><span id="local-6989586621682740187"><span class="annot"><span class="annottext">tick_it :: HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="#local-6989586621682740187"><span class="hs-identifier hs-var hs-var">tick_it</span></a></span></span><span> </span><span id="local-6989586621682740188"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740188"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc)) -&gt; TM (HsExpr GhcTc)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">BoxLabel
-&gt; Bool
-&gt; Bool
-&gt; SrcSpan
-&gt; TM (HsExpr GhcTc)
-&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#allocTickBox"><span class="hs-identifier hs-var">allocTickBox</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; BoxLabel
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#ExpBox"><span class="hs-identifier hs-var">ExpBox</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682740183"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-626"></span><span>                               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740188"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-627"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsExpanded"><span class="hs-identifier hs-var">addTickHsExpanded</span></a></span><span> </span><span id="local-6989586621682740189"><span class="annot"><span class="annottext">HsThingRn
</span><a href="#local-6989586621682740189"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621682740190"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740190"><span class="hs-identifier hs-var">e</span></a></span></span><span>
</span><span id="line-628"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(HsExpr GhcTc -&gt; HsExpr GhcTc)
-&gt; TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XXExpr GhcTc -&gt; HsExpr GhcTc
XXExprGhcTc -&gt; HsExpr GhcTc
forall p. XXExpr p -&gt; HsExpr p
</span><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-var">XExpr</span></a></span><span> </span><span class="annot"><span class="annottext">(XXExprGhcTc -&gt; HsExpr GhcTc)
-&gt; (HsExpr GhcTc -&gt; XXExprGhcTc) -&gt; HsExpr GhcTc -&gt; HsExpr GhcTc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HsThingRn -&gt; HsExpr GhcTc -&gt; XXExprGhcTc
</span><a href="GHC.Hs.Expr.html#ExpandedThingTc"><span class="hs-identifier hs-var">ExpandedThingTc</span></a></span><span> </span><span class="annot"><span class="annottext">HsThingRn
</span><a href="#local-6989586621682740189"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc))
-&gt; TM (HsExpr GhcTc) -&gt; TM (HsExpr GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740190"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-629"></span><span>
</span><span id="line-630"></span><span>
</span><span id="line-631"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickTupArg"><span class="hs-identifier hs-type">addTickTupArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsTupArg"><span class="hs-identifier hs-type">HsTupArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsTupArg"><span class="hs-identifier hs-type">HsTupArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-632"></span><span id="addTickTupArg"><span class="annot"><span class="annottext">addTickTupArg :: HsTupArg GhcTc -&gt; TM (HsTupArg GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickTupArg"><span class="hs-identifier hs-var hs-var">addTickTupArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Present"><span class="hs-identifier hs-type">Present</span></a></span><span> </span><span id="local-6989586621682740192"><span class="annot"><span class="annottext">XPresent GhcTc
</span><a href="#local-6989586621682740192"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740193"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740193"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682740194"><span class="annot"><a href="#local-6989586621682740194"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740193"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-633"></span><span>                                  </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Present"><span class="hs-identifier hs-type">Present</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740192"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740194"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-634"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickTupArg"><span class="hs-identifier hs-var">addTickTupArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Missing"><span class="hs-identifier hs-type">Missing</span></a></span><span> </span><span id="local-6989586621682740196"><span class="annot"><span class="annottext">XMissing GhcTc
</span><a href="#local-6989586621682740196"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsTupArg GhcTc -&gt; TM (HsTupArg GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XMissing GhcTc -&gt; HsTupArg GhcTc
forall id. XMissing id -&gt; HsTupArg id
</span><a href="Language.Haskell.Syntax.Expr.html#Missing"><span class="hs-identifier hs-var">Missing</span></a></span><span> </span><span class="annot"><span class="annottext">XMissing GhcTc
</span><a href="#local-6989586621682740196"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-635"></span><span>
</span><span id="line-636"></span><span>
</span><span id="line-637"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickMatchGroup"><span class="hs-identifier hs-type">addTickMatchGroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-comment">{-is lambda-}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-638"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-639"></span><span id="addTickMatchGroup"><span class="annot"><span class="annottext">addTickMatchGroup :: Bool
-&gt; MatchGroup GhcTc (LHsExpr GhcTc)
-&gt; TM (MatchGroup GhcTc (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickMatchGroup"><span class="hs-identifier hs-var hs-var">addTickMatchGroup</span></a></span></span><span> </span><span id="local-6989586621682740197"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740197"><span class="hs-identifier hs-var">is_lam</span></a></span></span><span> </span><span id="local-6989586621682740198"><span class="annot"><span class="annottext">mg :: MatchGroup GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740198"><span class="hs-identifier hs-var">mg</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682740201"><span class="annot"><span class="annottext">SrcSpanAnnLW
</span><a href="#local-6989586621682740201"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621682740202"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
</span><a href="#local-6989586621682740202"><span class="hs-identifier hs-var">matches</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">mg_ext :: forall p body. MatchGroup p body -&gt; XMG p body
</span><a href="Language.Haskell.Syntax.Expr.html#mg_ext"><span class="hs-identifier hs-var">mg_ext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740204"><span class="annot"><span class="annottext">XMG GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740204"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-640"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682740205"><span class="annot"><span class="annottext">isOneOfMany :: Bool
</span><a href="#local-6989586621682740205"><span class="hs-identifier hs-var hs-var hs-var">isOneOfMany</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[LMatch GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))] -&gt; Bool
forall body. [LMatch GhcTc body] -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#matchesOneOfMany"><span class="hs-identifier hs-var">matchesOneOfMany</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))]
[GenLocated
   SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
</span><a href="#local-6989586621682740202"><span class="hs-identifier hs-var">matches</span></a></span><span>
</span><span id="line-641"></span><span>      </span><span id="local-6989586621682740207"><span class="annot"><span class="annottext">isDoExp :: Bool
</span><a href="#local-6989586621682740207"><span class="hs-identifier hs-var hs-var hs-var">isDoExp</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Origin -&gt; Bool
</span><a href="GHC.Types.Basic.html#isDoExpansionGenerated"><span class="hs-identifier hs-var">isDoExpansionGenerated</span></a></span><span> </span><span class="annot"><span class="annottext">(Origin -&gt; Bool) -&gt; Origin -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">MatchGroupTc -&gt; Origin
</span><a href="GHC.Hs.Expr.html#mg_origin"><span class="hs-identifier hs-var">mg_origin</span></a></span><span> </span><span class="annot"><span class="annottext">XMG GhcTc (LHsExpr GhcTc)
MatchGroupTc
</span><a href="#local-6989586621682740204"><span class="hs-identifier hs-var">ctxt</span></a></span><span>
</span><span id="line-642"></span><span>  </span><span id="local-6989586621682740210"><span class="annot"><a href="#local-6989586621682740210"><span class="hs-identifier hs-var">matches'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
 -&gt; TM
      (GenLocated
         SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))))
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
-&gt; TM
     [GenLocated
        SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Match GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
 -&gt; TM (Match GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))))
-&gt; GenLocated
     SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
-&gt; TM
     (GenLocated
        SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b)
-&gt; GenLocated SrcSpanAnnA a -&gt; f (GenLocated SrcSpanAnnA b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
-&gt; Bool
-&gt; Bool
-&gt; Match GhcTc (LHsExpr GhcTc)
-&gt; TM (Match GhcTc (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickMatch"><span class="hs-identifier hs-var">addTickMatch</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740205"><span class="hs-identifier hs-var">isOneOfMany</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740197"><span class="hs-identifier hs-var">is_lam</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740207"><span class="hs-identifier hs-var">isDoExp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
</span><a href="#local-6989586621682740202"><span class="hs-identifier hs-var">matches</span></a></span><span>
</span><span id="line-643"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682740198"><span class="hs-identifier hs-type">mg</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740201"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740210"><span class="hs-identifier hs-type">matches'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-644"></span><span>
</span><span id="line-645"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickMatch"><span class="hs-identifier hs-type">addTickMatch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-comment">{-Is this Do Expansion-}</span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-646"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-647"></span><span id="addTickMatch"><span class="annot"><span class="annottext">addTickMatch :: Bool
-&gt; Bool
-&gt; Bool
-&gt; Match GhcTc (LHsExpr GhcTc)
-&gt; TM (Match GhcTc (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickMatch"><span class="hs-identifier hs-var hs-var">addTickMatch</span></a></span></span><span> </span><span id="local-6989586621682740212"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740212"><span class="hs-identifier hs-var">isOneOfMany</span></a></span></span><span> </span><span id="local-6989586621682740213"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740213"><span class="hs-identifier hs-var">isLambda</span></a></span></span><span> </span><span id="local-6989586621682740214"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740214"><span class="hs-identifier hs-var">isDoExp</span></a></span></span><span> </span><span id="local-6989586621682740215"><span class="annot"><span class="annottext">match :: Match GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740215"><span class="hs-identifier hs-var">match</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_pats :: forall p body. Match p body -&gt; XRec p [LPat p]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682740218"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcTc)]
</span><a href="#local-6989586621682740218"><span class="hs-identifier hs-var">pats</span></a></span></span><span>
</span><span id="line-648"></span><span>                                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: forall p body. Match p body -&gt; GRHSs p body
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740220"><span class="annot"><span class="annottext">GRHSs GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740220"><span class="hs-identifier hs-var">gRHSs</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-649"></span><span>  </span><span class="annot"><span class="annottext">[Id]
-&gt; TM (Match GhcTc (LHsExpr GhcTc))
-&gt; TM (Match GhcTc (LHsExpr GhcTc))
forall a. [Id] -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#bindLocals"><span class="hs-identifier hs-var">bindLocals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CollectFlag GhcTc -&gt; [LPat GhcTc] -&gt; [IdP GhcTc]
forall p. CollectPass p =&gt; CollectFlag p -&gt; [LPat p] -&gt; [IdP p]
</span><a href="GHC.Hs.Utils.html#collectPatsBinders"><span class="hs-identifier hs-var">collectPatsBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcTc
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcTc]
[GenLocated SrcSpanAnnA (Pat GhcTc)]
</span><a href="#local-6989586621682740218"><span class="hs-identifier hs-var">pats</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TM (Match GhcTc (LHsExpr GhcTc))
 -&gt; TM (Match GhcTc (LHsExpr GhcTc)))
-&gt; TM (Match GhcTc (LHsExpr GhcTc))
-&gt; TM (Match GhcTc (LHsExpr GhcTc))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-650"></span><span>    </span><span id="local-6989586621682740222"><span class="annot"><a href="#local-6989586621682740222"><span class="hs-identifier hs-var">gRHSs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; Bool
-&gt; Bool
-&gt; GRHSs GhcTc (LHsExpr GhcTc)
-&gt; TM (GRHSs GhcTc (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickGRHSs"><span class="hs-identifier hs-var">addTickGRHSs</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740212"><span class="hs-identifier hs-var">isOneOfMany</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740213"><span class="hs-identifier hs-var">isLambda</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740214"><span class="hs-identifier hs-var">isDoExp</span></a></span><span> </span><span class="annot"><span class="annottext">GRHSs GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740220"><span class="hs-identifier hs-var">gRHSs</span></a></span><span>
</span><span id="line-651"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682740215"><span class="hs-identifier hs-type">match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740222"><span class="hs-identifier hs-type">gRHSs'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-652"></span><span>
</span><span id="line-653"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickGRHSs"><span class="hs-identifier hs-type">addTickGRHSs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-654"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-655"></span><span id="addTickGRHSs"><span class="annot"><span class="annottext">addTickGRHSs :: Bool
-&gt; Bool
-&gt; Bool
-&gt; GRHSs GhcTc (LHsExpr GhcTc)
-&gt; TM (GRHSs GhcTc (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickGRHSs"><span class="hs-identifier hs-var hs-var">addTickGRHSs</span></a></span></span><span> </span><span id="local-6989586621682740223"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740223"><span class="hs-identifier hs-var">isOneOfMany</span></a></span></span><span> </span><span id="local-6989586621682740224"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740224"><span class="hs-identifier hs-var">isLambda</span></a></span></span><span> </span><span id="local-6989586621682740225"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740225"><span class="hs-identifier hs-var">isDoExp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span id="local-6989586621682740227"><span class="annot"><span class="annottext">XCGRHSs GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740227"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740228"><span class="annot"><span class="annottext">[LGRHS GhcTc (LHsExpr GhcTc)]
</span><a href="#local-6989586621682740228"><span class="hs-identifier hs-var">guarded</span></a></span></span><span> </span><span id="local-6989586621682740229"><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740229"><span class="hs-identifier hs-var">local_binds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-656"></span><span>  </span><span class="annot"><span class="annottext">[Id]
-&gt; TM (GRHSs GhcTc (LHsExpr GhcTc))
-&gt; TM (GRHSs GhcTc (LHsExpr GhcTc))
forall a. [Id] -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#bindLocals"><span class="hs-identifier hs-var">bindLocals</span></a></span><span> </span><span class="annot"><span class="annottext">[IdP GhcTc]
[Id]
</span><a href="#local-6989586621682740230"><span class="hs-identifier hs-var">binders</span></a></span><span> </span><span class="annot"><span class="annottext">(TM (GRHSs GhcTc (LHsExpr GhcTc))
 -&gt; TM (GRHSs GhcTc (LHsExpr GhcTc)))
-&gt; TM (GRHSs GhcTc (LHsExpr GhcTc))
-&gt; TM (GRHSs GhcTc (LHsExpr GhcTc))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-657"></span><span>    </span><span id="local-6989586621682740231"><span class="annot"><a href="#local-6989586621682740231"><span class="hs-identifier hs-var">local_binds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc -&gt; TM (HsLocalBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsLocalBinds"><span class="hs-identifier hs-var">addTickHsLocalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740229"><span class="hs-identifier hs-var">local_binds</span></a></span><span>
</span><span id="line-658"></span><span>    </span><span id="local-6989586621682740232"><span class="annot"><a href="#local-6989586621682740232"><span class="hs-identifier hs-var">guarded'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickGRHS"><span class="hs-identifier hs-type">addTickGRHS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740223"><span class="hs-identifier hs-type">isOneOfMany</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740224"><span class="hs-identifier hs-type">isLambda</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740225"><span class="hs-identifier hs-type">isDoExp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682740228"><span class="hs-identifier hs-type">guarded</span></a></span><span>
</span><span id="line-659"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740227"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740232"><span class="hs-identifier hs-type">guarded'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740231"><span class="hs-identifier hs-type">local_binds'</span></a></span><span>
</span><span id="line-660"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-661"></span><span>    </span><span id="local-6989586621682740230"><span class="annot"><span class="annottext">binders :: [IdP GhcTc]
</span><a href="#local-6989586621682740230"><span class="hs-identifier hs-var hs-var">binders</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcTc -&gt; HsLocalBinds GhcTc -&gt; [IdP GhcTc]
forall (idL :: Pass) (idR :: Pass).
CollectPass (GhcPass idL) =&gt;
CollectFlag (GhcPass idL)
-&gt; HsLocalBindsLR (GhcPass idL) (GhcPass idR)
-&gt; [IdP (GhcPass idL)]
</span><a href="GHC.Hs.Utils.html#collectLocalBinders"><span class="hs-identifier hs-var">collectLocalBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcTc
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740229"><span class="hs-identifier hs-var">local_binds</span></a></span><span>
</span><span id="line-662"></span><span>
</span><span id="line-663"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickGRHS"><span class="hs-identifier hs-type">addTickGRHS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-664"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-665"></span><span id="addTickGRHS"><span class="annot"><span class="annottext">addTickGRHS :: Bool
-&gt; Bool
-&gt; Bool
-&gt; GRHS GhcTc (LHsExpr GhcTc)
-&gt; TM (GRHS GhcTc (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickGRHS"><span class="hs-identifier hs-var hs-var">addTickGRHS</span></a></span></span><span> </span><span id="local-6989586621682740233"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740233"><span class="hs-identifier hs-var">isOneOfMany</span></a></span></span><span> </span><span id="local-6989586621682740234"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740234"><span class="hs-identifier hs-var">isLambda</span></a></span></span><span> </span><span id="local-6989586621682740235"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740235"><span class="hs-identifier hs-var">isDoExp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span id="local-6989586621682740237"><span class="annot"><span class="annottext">XCGRHS GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740237"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740238"><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
</span><a href="#local-6989586621682740238"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span id="local-6989586621682740239"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740239"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-666"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621682740240"><span class="annot"><a href="#local-6989586621682740240"><span class="hs-identifier hs-var">stmts'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682740241"><span class="annot"><a href="#local-6989586621682740241"><span class="hs-identifier hs-var">expr'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
-&gt; [ExprLStmt GhcTc]
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM ([ExprLStmt GhcTc], GenLocated SrcSpanAnnA (HsExpr GhcTc))
forall a.
Maybe (Bool -&gt; BoxLabel)
-&gt; [ExprLStmt GhcTc] -&gt; TM a -&gt; TM ([ExprLStmt GhcTc], a)
</span><a href="GHC.HsToCore.Ticks.html#addTickLStmts%27"><span class="hs-identifier hs-var">addTickLStmts'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Bool -&gt; BoxLabel) -&gt; Maybe (Bool -&gt; BoxLabel)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">((Bool -&gt; BoxLabel) -&gt; Maybe (Bool -&gt; BoxLabel))
-&gt; (Bool -&gt; BoxLabel) -&gt; Maybe (Bool -&gt; BoxLabel)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CondBox -&gt; Bool -&gt; BoxLabel
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BinBox"><span class="hs-identifier hs-var">BinBox</span></a></span><span> </span><span class="annot"><span class="annottext">(CondBox -&gt; Bool -&gt; BoxLabel) -&gt; CondBox -&gt; Bool -&gt; BoxLabel
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CondBox
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#GuardBinBox"><span class="hs-identifier hs-var">GuardBinBox</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
</span><a href="#local-6989586621682740238"><span class="hs-identifier hs-var">stmts</span></a></span><span>
</span><span id="line-667"></span><span>                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool -&gt; LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickGRHSBody"><span class="hs-identifier hs-var">addTickGRHSBody</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740233"><span class="hs-identifier hs-var">isOneOfMany</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740234"><span class="hs-identifier hs-var">isLambda</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740235"><span class="hs-identifier hs-var">isDoExp</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740239"><span class="hs-identifier hs-var">expr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-668"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740237"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740240"><span class="hs-identifier hs-type">stmts'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740241"><span class="hs-identifier hs-type">expr'</span></a></span><span>
</span><span id="line-669"></span><span>
</span><span id="line-670"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickGRHSBody"><span class="hs-identifier hs-type">addTickGRHSBody</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-671"></span><span id="addTickGRHSBody"><span class="annot"><span class="annottext">addTickGRHSBody :: Bool -&gt; Bool -&gt; Bool -&gt; LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickGRHSBody"><span class="hs-identifier hs-var hs-var">addTickGRHSBody</span></a></span></span><span> </span><span id="local-6989586621682740244"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740244"><span class="hs-identifier hs-var">isOneOfMany</span></a></span></span><span> </span><span id="local-6989586621682740245"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740245"><span class="hs-identifier hs-var">isLambda</span></a></span></span><span> </span><span id="local-6989586621682740246"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740246"><span class="hs-identifier hs-var">isDoExp</span></a></span></span><span> </span><span id="local-6989586621682740247"><span class="annot"><span class="annottext">expr :: LHsExpr GhcTc
</span><a href="#local-6989586621682740247"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682740248"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682740248"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682740249"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740249"><span class="hs-identifier hs-var">e0</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-672"></span><span>  </span><span id="local-6989586621682740250"><span class="annot"><a href="#local-6989586621682740250"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM TickDensity
</span><a href="GHC.HsToCore.Ticks.html#getDensity"><span class="hs-identifier hs-var">getDensity</span></a></span><span>
</span><span id="line-673"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="#local-6989586621682740250"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-674"></span><span>    </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForBreakPoints"><span class="hs-identifier hs-var">TickForBreakPoints</span></a></span><span>
</span><span id="line-675"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740246"><span class="hs-identifier hs-var">isDoExp</span></a></span><span>       </span><span class="hs-comment">-- ticks for do-expansions are handled by `addTickHsExpanded`</span><span>
</span><span id="line-676"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var">addTickLHsExprNever</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740247"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-677"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-678"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprRHS"><span class="hs-identifier hs-var">addTickLHsExprRHS</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740247"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-679"></span><span>    </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickForCoverage"><span class="hs-identifier hs-var">TickForCoverage</span></a></span><span>
</span><span id="line-680"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740246"><span class="hs-identifier hs-var">isDoExp</span></a></span><span>       </span><span class="hs-comment">-- ticks for do-expansions are handled by `addTickHsExpanded`</span><span>
</span><span id="line-681"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprNever"><span class="hs-identifier hs-var">addTickLHsExprNever</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740247"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-682"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-683"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprOptAlt"><span class="hs-identifier hs-var">addTickLHsExprOptAlt</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740244"><span class="hs-identifier hs-var">isOneOfMany</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740247"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-684"></span><span>    </span><span class="annot"><span class="annottext">TickDensity
</span><a href="GHC.HsToCore.Ticks.html#TickAllFunctions"><span class="hs-identifier hs-var">TickAllFunctions</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740245"><span class="hs-identifier hs-var">isLambda</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-685"></span><span>       </span><span class="annot"><span class="annottext">String -&gt; TM (LHsExpr GhcTc) -&gt; TM (LHsExpr GhcTc)
forall a. String -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#addPathEntry"><span class="hs-identifier hs-var">addPathEntry</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\\&quot;</span></span><span> </span><span class="annot"><span class="annottext">(TM (LHsExpr GhcTc) -&gt; TM (LHsExpr GhcTc))
-&gt; TM (LHsExpr GhcTc) -&gt; TM (LHsExpr GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-686"></span><span>         </span><span class="annot"><span class="annottext">BoxLabel
-&gt; Bool
-&gt; Bool
-&gt; SrcSpan
-&gt; TM (HsExpr GhcTc)
-&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#allocTickBox"><span class="hs-identifier hs-var">allocTickBox</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; BoxLabel
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#ExpBox"><span class="hs-identifier hs-var">ExpBox</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-comment">{-count-}</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-comment">{-not top-}</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA -&gt; SrcSpan
forall a. HasLoc a =&gt; a -&gt; SrcSpan
</span><a href="GHC.Parser.Annotation.html#locA"><span class="hs-identifier hs-var">locA</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682740248"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TM (HsExpr GhcTc) -&gt; TM (LHsExpr GhcTc))
-&gt; TM (HsExpr GhcTc) -&gt; TM (LHsExpr GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-687"></span><span>           </span><span class="annot"><span class="annottext">HsExpr GhcTc -&gt; TM (HsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsExpr"><span class="hs-identifier hs-var">addTickHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740249"><span class="hs-identifier hs-var">e0</span></a></span><span>
</span><span id="line-688"></span><span>    </span><span id="local-6989586621682740251"><span class="annot"><span class="annottext">TickDensity
</span><a href="#local-6989586621682740251"><span class="hs-identifier hs-var">_otherwise</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-689"></span><span>       </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprRHS"><span class="hs-identifier hs-var">addTickLHsExprRHS</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740247"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-690"></span><span>
</span><span id="line-691"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLStmts"><span class="hs-identifier hs-type">addTickLStmts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BoxLabel"><span class="hs-identifier hs-type">BoxLabel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExprLStmt"><span class="hs-identifier hs-type">ExprLStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-692"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExprLStmt"><span class="hs-identifier hs-type">ExprLStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-693"></span><span id="addTickLStmts"><span class="annot"><span class="annottext">addTickLStmts :: Maybe (Bool -&gt; BoxLabel)
-&gt; [ExprLStmt GhcTc] -&gt; TM [ExprLStmt GhcTc]
</span><a href="GHC.HsToCore.Ticks.html#addTickLStmts"><span class="hs-identifier hs-var hs-var">addTickLStmts</span></a></span></span><span> </span><span id="local-6989586621682740253"><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740253"><span class="hs-identifier hs-var">isGuard</span></a></span></span><span> </span><span id="local-6989586621682740254"><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
</span><a href="#local-6989586621682740254"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-694"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621682740255"><span class="annot"><a href="#local-6989586621682740255"><span class="hs-identifier hs-var">stmts</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
-&gt; [ExprLStmt GhcTc] -&gt; TM () -&gt; TM ([ExprLStmt GhcTc], ())
forall a.
Maybe (Bool -&gt; BoxLabel)
-&gt; [ExprLStmt GhcTc] -&gt; TM a -&gt; TM ([ExprLStmt GhcTc], a)
</span><a href="GHC.HsToCore.Ticks.html#addTickLStmts%27"><span class="hs-identifier hs-var">addTickLStmts'</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740253"><span class="hs-identifier hs-var">isGuard</span></a></span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
</span><a href="#local-6989586621682740254"><span class="hs-identifier hs-var">stmts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; TM ()
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-695"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621682740255"><span class="hs-identifier hs-type">stmts</span></a></span><span>
</span><span id="line-696"></span><span>
</span><span id="line-697"></span><span id="local-6989586621682739026"><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLStmts%27"><span class="hs-identifier hs-type">addTickLStmts'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BoxLabel"><span class="hs-identifier hs-type">BoxLabel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExprLStmt"><span class="hs-identifier hs-type">ExprLStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739026"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-698"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ExprLStmt"><span class="hs-identifier hs-type">ExprLStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682739026"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-699"></span><span id="addTickLStmts%27"><span class="annot"><span class="annottext">addTickLStmts' :: forall a.
Maybe (Bool -&gt; BoxLabel)
-&gt; [ExprLStmt GhcTc] -&gt; TM a -&gt; TM ([ExprLStmt GhcTc], a)
</span><a href="GHC.HsToCore.Ticks.html#addTickLStmts%27"><span class="hs-identifier hs-var hs-var">addTickLStmts'</span></a></span></span><span> </span><span id="local-6989586621682740266"><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740266"><span class="hs-identifier hs-var">isGuard</span></a></span></span><span> </span><span id="local-6989586621682740267"><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
</span><a href="#local-6989586621682740267"><span class="hs-identifier hs-var">lstmts</span></a></span></span><span> </span><span id="local-6989586621682740268"><span class="annot"><span class="annottext">TM a
</span><a href="#local-6989586621682740268"><span class="hs-identifier hs-var">res</span></a></span></span><span>
</span><span id="line-700"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; TM ([ExprLStmt GhcTc], a) -&gt; TM ([ExprLStmt GhcTc], a)
forall a. [Id] -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#bindLocals"><span class="hs-identifier hs-var">bindLocals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CollectFlag GhcTc
-&gt; [LStmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))]
-&gt; [IdP GhcTc]
forall (idL :: Pass) (idR :: Pass) body.
(IsPass idL, IsPass idR, CollectPass (GhcPass idL)) =&gt;
CollectFlag (GhcPass idL)
-&gt; [LStmtLR (GhcPass idL) (GhcPass idR) body]
-&gt; [IdP (GhcPass idL)]
</span><a href="GHC.Hs.Utils.html#collectLStmtsBinders"><span class="hs-identifier hs-var">collectLStmtsBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcTc
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
[LStmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))]
</span><a href="#local-6989586621682740267"><span class="hs-identifier hs-var">lstmts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TM ([ExprLStmt GhcTc], a) -&gt; TM ([ExprLStmt GhcTc], a))
-&gt; TM ([ExprLStmt GhcTc], a) -&gt; TM ([ExprLStmt GhcTc], a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-701"></span><span>    </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682740270"><span class="annot"><a href="#local-6989586621682740270"><span class="hs-identifier hs-var">lstmts'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA
   (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
 -&gt; TM
      (GenLocated
         SrcSpanAnnA
         (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))))
-&gt; [GenLocated
      SrcSpanAnnA
      (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
-&gt; TM
     [GenLocated
        SrcSpanAnnA
        (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
 -&gt; TM (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))))
-&gt; GenLocated
     SrcSpanAnnA
     (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
-&gt; TM
     (GenLocated
        SrcSpanAnnA
        (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b)
-&gt; GenLocated SrcSpanAnnA a -&gt; f (GenLocated SrcSpanAnnA b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
-&gt; Stmt GhcTc (LHsExpr GhcTc) -&gt; TM (Stmt GhcTc (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickStmt"><span class="hs-identifier hs-var">addTickStmt</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740266"><span class="hs-identifier hs-var">isGuard</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
[GenLocated
   SrcSpanAnnA
   (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
</span><a href="#local-6989586621682740267"><span class="hs-identifier hs-var">lstmts</span></a></span><span>
</span><span id="line-702"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682740272"><span class="annot"><a href="#local-6989586621682740272"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682740268"><span class="hs-identifier hs-type">res</span></a></span><span>
</span><span id="line-703"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682740270"><span class="hs-identifier hs-type">lstmts'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682740272"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-704"></span><span>
</span><span id="line-705"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickStmt"><span class="hs-identifier hs-type">addTickStmt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BoxLabel"><span class="hs-identifier hs-type">BoxLabel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Stmt"><span class="hs-identifier hs-type">Stmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-706"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Stmt"><span class="hs-identifier hs-type">Stmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-707"></span><span id="addTickStmt"><span class="annot"><span class="annottext">addTickStmt :: Maybe (Bool -&gt; BoxLabel)
-&gt; Stmt GhcTc (LHsExpr GhcTc) -&gt; TM (Stmt GhcTc (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickStmt"><span class="hs-identifier hs-var hs-var">addTickStmt</span></a></span></span><span> </span><span id="local-6989586621682740273"><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740273"><span class="hs-identifier hs-var">_isGuard</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LastStmt"><span class="hs-identifier hs-type">LastStmt</span></a></span><span> </span><span id="local-6989586621682740274"><span class="annot"><span class="annottext">XLastStmt GhcTc GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740274"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740275"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740275"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682740276"><span class="annot"><span class="annottext">Maybe Bool
</span><a href="#local-6989586621682740276"><span class="hs-identifier hs-var">noret</span></a></span></span><span> </span><span id="local-6989586621682740277"><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740277"><span class="hs-identifier hs-var">ret</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-708"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; Maybe Bool
 -&gt; SyntaxExprTc
 -&gt; StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (Maybe Bool)
-&gt; TM SyntaxExprTc
-&gt; TM (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
forall (m :: * -&gt; *) a1 a2 a3 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m r
</span><span class="hs-identifier hs-var">liftM3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLastStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; Maybe Bool
-&gt; SyntaxExpr GhcTc
-&gt; StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
forall idL idR body.
XLastStmt idL idR body
-&gt; body -&gt; Maybe Bool -&gt; SyntaxExpr idR -&gt; StmtLR idL idR body
</span><a href="Language.Haskell.Syntax.Expr.html#LastStmt"><span class="hs-identifier hs-var">LastStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XLastStmt GhcTc GhcTc (LHsExpr GhcTc)
XLastStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682740274"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-709"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740275"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-710"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Bool -&gt; TM (Maybe Bool)
forall a. a -&gt; TM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Maybe Bool
</span><a href="#local-6989586621682740276"><span class="hs-identifier hs-var">noret</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-711"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740277"><span class="hs-identifier hs-var">ret</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-712"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickStmt"><span class="hs-identifier hs-var">addTickStmt</span></a></span><span> </span><span id="local-6989586621682740278"><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740278"><span class="hs-identifier hs-var">_isGuard</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#BindStmt"><span class="hs-identifier hs-type">BindStmt</span></a></span><span> </span><span id="local-6989586621682740280"><span class="annot"><span class="annottext">XBindStmt GhcTc GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740280"><span class="hs-identifier hs-var">xbs</span></a></span></span><span> </span><span id="local-6989586621682740281"><span class="annot"><span class="annottext">LPat GhcTc
</span><a href="#local-6989586621682740281"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span id="local-6989586621682740282"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740282"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-713"></span><span>        </span><span class="annot"><span class="annottext">(SyntaxExprTc
 -&gt; Maybe SyntaxExprTc
 -&gt; GenLocated SrcSpanAnnA (Pat GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
-&gt; TM SyntaxExprTc
-&gt; TM (Maybe SyntaxExprTc)
-&gt; TM (GenLocated SrcSpanAnnA (Pat GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
forall (m :: * -&gt; *) a1 a2 a3 a4 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; a4 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m a4 -&gt; m r
</span><span class="hs-identifier hs-var">liftM4</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682740283"><span class="annot"><span class="annottext">SyntaxExprTc
</span><a href="#local-6989586621682740283"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621682740284"><span class="annot"><span class="annottext">Maybe SyntaxExprTc
</span><a href="#local-6989586621682740284"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">XBindStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; LPat GhcTc
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
forall idL idR body.
XBindStmt idL idR body -&gt; LPat idL -&gt; body -&gt; StmtLR idL idR body
</span><a href="Language.Haskell.Syntax.Expr.html#BindStmt"><span class="hs-identifier hs-var">BindStmt</span></a></span><span> </span><span class="annot"><span class="annottext">(XBindStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
 -&gt; LPat GhcTc
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
-&gt; XBindStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; LPat GhcTc
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#XBindStmtTc"><span class="hs-identifier hs-type">XBindStmtTc</span></a></span><span>
</span><span id="line-714"></span><span>                    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">xbstc_bindOp :: SyntaxExpr GhcTc
</span><a href="GHC.Hs.Expr.html#xbstc_bindOp"><span class="hs-identifier hs-var">xbstc_bindOp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcTc
SyntaxExprTc
</span><a href="#local-6989586621682740283"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-715"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">xbstc_boundResultType :: Type
</span><a href="GHC.Hs.Expr.html#xbstc_boundResultType"><span class="hs-identifier hs-var">xbstc_boundResultType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XBindStmtTc -&gt; Type
</span><a href="GHC.Hs.Expr.html#xbstc_boundResultType"><span class="hs-identifier hs-var">xbstc_boundResultType</span></a></span><span> </span><span class="annot"><span class="annottext">XBindStmt GhcTc GhcTc (LHsExpr GhcTc)
XBindStmtTc
</span><a href="#local-6989586621682740280"><span class="hs-identifier hs-var">xbs</span></a></span><span>
</span><span id="line-716"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">xbstc_boundResultMult :: Type
</span><a href="GHC.Hs.Expr.html#xbstc_boundResultMult"><span class="hs-identifier hs-var">xbstc_boundResultMult</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XBindStmtTc -&gt; Type
</span><a href="GHC.Hs.Expr.html#xbstc_boundResultMult"><span class="hs-identifier hs-var">xbstc_boundResultMult</span></a></span><span> </span><span class="annot"><span class="annottext">XBindStmt GhcTc GhcTc (LHsExpr GhcTc)
XBindStmtTc
</span><a href="#local-6989586621682740280"><span class="hs-identifier hs-var">xbs</span></a></span><span>
</span><span id="line-717"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">xbstc_failOp :: Maybe (SyntaxExpr GhcTc)
</span><a href="GHC.Hs.Expr.html#xbstc_failOp"><span class="hs-identifier hs-var">xbstc_failOp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (SyntaxExpr GhcTc)
Maybe SyntaxExprTc
</span><a href="#local-6989586621682740284"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-718"></span><span>                    </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-719"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XBindStmtTc -&gt; SyntaxExpr GhcTc
</span><a href="GHC.Hs.Expr.html#xbstc_bindOp"><span class="hs-identifier hs-var">xbstc_bindOp</span></a></span><span> </span><span class="annot"><span class="annottext">XBindStmt GhcTc GhcTc (LHsExpr GhcTc)
XBindStmtTc
</span><a href="#local-6989586621682740280"><span class="hs-identifier hs-var">xbs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-720"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SyntaxExprTc -&gt; TM SyntaxExprTc)
-&gt; Maybe SyntaxExprTc -&gt; TM (Maybe SyntaxExprTc)
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Maybe a -&gt; m (Maybe b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XBindStmtTc -&gt; Maybe (SyntaxExpr GhcTc)
</span><a href="GHC.Hs.Expr.html#xbstc_failOp"><span class="hs-identifier hs-var">xbstc_failOp</span></a></span><span> </span><span class="annot"><span class="annottext">XBindStmt GhcTc GhcTc (LHsExpr GhcTc)
XBindStmtTc
</span><a href="#local-6989586621682740280"><span class="hs-identifier hs-var">xbs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-721"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LPat GhcTc -&gt; TM (LPat GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLPat"><span class="hs-identifier hs-var">addTickLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcTc
</span><a href="#local-6989586621682740281"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-722"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprRHS"><span class="hs-identifier hs-var">addTickLHsExprRHS</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740282"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-723"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickStmt"><span class="hs-identifier hs-var">addTickStmt</span></a></span><span> </span><span id="local-6989586621682740290"><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740290"><span class="hs-identifier hs-var">isGuard</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#BodyStmt"><span class="hs-identifier hs-type">BodyStmt</span></a></span><span> </span><span id="local-6989586621682740292"><span class="annot"><span class="annottext">XBodyStmt GhcTc GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740292"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740293"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740293"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682740294"><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740294"><span class="hs-identifier hs-var">bind'</span></a></span></span><span> </span><span id="local-6989586621682740295"><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740295"><span class="hs-identifier hs-var">guard'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-724"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; SyntaxExprTc
 -&gt; SyntaxExprTc
 -&gt; StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM SyntaxExprTc
-&gt; TM SyntaxExprTc
-&gt; TM (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
forall (m :: * -&gt; *) a1 a2 a3 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m r
</span><span class="hs-identifier hs-var">liftM3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XBodyStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; SyntaxExpr GhcTc
-&gt; SyntaxExpr GhcTc
-&gt; StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
forall idL idR body.
XBodyStmt idL idR body
-&gt; body -&gt; SyntaxExpr idR -&gt; SyntaxExpr idR -&gt; StmtLR idL idR body
</span><a href="Language.Haskell.Syntax.Expr.html#BodyStmt"><span class="hs-identifier hs-var">BodyStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XBodyStmt GhcTc GhcTc (LHsExpr GhcTc)
XBodyStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682740292"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-725"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel) -&gt; LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTick"><span class="hs-identifier hs-var">addTick</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740290"><span class="hs-identifier hs-var">isGuard</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740293"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-726"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740294"><span class="hs-identifier hs-var">bind'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-727"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740295"><span class="hs-identifier hs-var">guard'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-728"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickStmt"><span class="hs-identifier hs-var">addTickStmt</span></a></span><span> </span><span id="local-6989586621682740297"><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740297"><span class="hs-identifier hs-var">_isGuard</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LetStmt"><span class="hs-identifier hs-type">LetStmt</span></a></span><span> </span><span id="local-6989586621682740299"><span class="annot"><span class="annottext">XLetStmt GhcTc GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740299"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740300"><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740300"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-729"></span><span>        </span><span class="annot"><span class="annottext">(HsLocalBinds GhcTc
 -&gt; StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
-&gt; TM (HsLocalBinds GhcTc)
-&gt; TM (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLetStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; HsLocalBinds GhcTc
-&gt; StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
forall idL idR body.
XLetStmt idL idR body
-&gt; HsLocalBindsLR idL idR -&gt; StmtLR idL idR body
</span><a href="Language.Haskell.Syntax.Expr.html#LetStmt"><span class="hs-identifier hs-var">LetStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XLetStmt GhcTc GhcTc (LHsExpr GhcTc)
XLetStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682740299"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-730"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLocalBinds GhcTc -&gt; TM (HsLocalBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsLocalBinds"><span class="hs-identifier hs-var">addTickHsLocalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740300"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-731"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickStmt"><span class="hs-identifier hs-var">addTickStmt</span></a></span><span> </span><span id="local-6989586621682740301"><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740301"><span class="hs-identifier hs-var">isGuard</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ParStmt"><span class="hs-identifier hs-type">ParStmt</span></a></span><span> </span><span id="local-6989586621682740303"><span class="annot"><span class="annottext">XParStmt GhcTc GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740303"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740304"><span class="annot"><span class="annottext">[ParStmtBlock GhcTc GhcTc]
</span><a href="#local-6989586621682740304"><span class="hs-identifier hs-var">pairs</span></a></span></span><span> </span><span id="local-6989586621682740305"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740305"><span class="hs-identifier hs-var">mzipExpr</span></a></span></span><span> </span><span id="local-6989586621682740306"><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740306"><span class="hs-identifier hs-var">bindExpr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-732"></span><span>    </span><span class="annot"><span class="annottext">([ParStmtBlock GhcTc GhcTc]
 -&gt; HsExpr GhcTc
 -&gt; SyntaxExprTc
 -&gt; StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
-&gt; TM [ParStmtBlock GhcTc GhcTc]
-&gt; TM (HsExpr GhcTc)
-&gt; TM SyntaxExprTc
-&gt; TM (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
forall (m :: * -&gt; *) a1 a2 a3 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m r
</span><span class="hs-identifier hs-var">liftM3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XParStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; [ParStmtBlock GhcTc GhcTc]
-&gt; HsExpr GhcTc
-&gt; SyntaxExpr GhcTc
-&gt; StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
forall idL idR body.
XParStmt idL idR body
-&gt; [ParStmtBlock idL idR]
-&gt; HsExpr idR
-&gt; SyntaxExpr idR
-&gt; StmtLR idL idR body
</span><a href="Language.Haskell.Syntax.Expr.html#ParStmt"><span class="hs-identifier hs-var">ParStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XParStmt GhcTc GhcTc (LHsExpr GhcTc)
XParStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682740303"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-733"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ParStmtBlock GhcTc GhcTc -&gt; TM (ParStmtBlock GhcTc GhcTc))
-&gt; [ParStmtBlock GhcTc GhcTc] -&gt; TM [ParStmtBlock GhcTc GhcTc]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
-&gt; ParStmtBlock GhcTc GhcTc -&gt; TM (ParStmtBlock GhcTc GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickStmtAndBinders"><span class="hs-identifier hs-var">addTickStmtAndBinders</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740301"><span class="hs-identifier hs-var">isGuard</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ParStmtBlock GhcTc GhcTc]
</span><a href="#local-6989586621682740304"><span class="hs-identifier hs-var">pairs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-734"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc)) -&gt; TM (HsExpr GhcTc)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcTc -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740305"><span class="hs-identifier hs-var">mzipExpr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-735"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740306"><span class="hs-identifier hs-var">bindExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-736"></span><span>
</span><span id="line-737"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickStmt"><span class="hs-identifier hs-var">addTickStmt</span></a></span><span> </span><span id="local-6989586621682740309"><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740309"><span class="hs-identifier hs-var">isGuard</span></a></span></span><span> </span><span id="local-6989586621682740310"><span class="annot"><span class="annottext">stmt :: Stmt GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740310"><span class="hs-identifier hs-var">stmt</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#TransStmt"><span class="hs-identifier hs-type">TransStmt</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">trS_stmts :: forall idL idR body. StmtLR idL idR body -&gt; [ExprLStmt idL]
</span><a href="Language.Haskell.Syntax.Expr.html#trS_stmts"><span class="hs-identifier hs-var">trS_stmts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740313"><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
</span><a href="#local-6989586621682740313"><span class="hs-identifier hs-var">stmts</span></a></span></span><span>
</span><span id="line-738"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">trS_by :: forall idL idR body. StmtLR idL idR body -&gt; Maybe (LHsExpr idR)
</span><a href="Language.Haskell.Syntax.Expr.html#trS_by"><span class="hs-identifier hs-var">trS_by</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740315"><span class="annot"><span class="annottext">Maybe (LHsExpr GhcTc)
</span><a href="#local-6989586621682740315"><span class="hs-identifier hs-var">by</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">trS_using :: forall idL idR body. StmtLR idL idR body -&gt; LHsExpr idR
</span><a href="Language.Haskell.Syntax.Expr.html#trS_using"><span class="hs-identifier hs-var">trS_using</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740317"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740317"><span class="hs-identifier hs-var">using</span></a></span></span><span>
</span><span id="line-739"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">trS_ret :: forall idL idR body. StmtLR idL idR body -&gt; SyntaxExpr idR
</span><a href="Language.Haskell.Syntax.Expr.html#trS_ret"><span class="hs-identifier hs-var">trS_ret</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740319"><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740319"><span class="hs-identifier hs-var">returnExpr</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">trS_bind :: forall idL idR body. StmtLR idL idR body -&gt; SyntaxExpr idR
</span><a href="Language.Haskell.Syntax.Expr.html#trS_bind"><span class="hs-identifier hs-var">trS_bind</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740321"><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740321"><span class="hs-identifier hs-var">bindExpr</span></a></span></span><span>
</span><span id="line-740"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">trS_fmap :: forall idL idR body. StmtLR idL idR body -&gt; HsExpr idR
</span><a href="Language.Haskell.Syntax.Expr.html#trS_fmap"><span class="hs-identifier hs-var">trS_fmap</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740323"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740323"><span class="hs-identifier hs-var">liftMExpr</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-741"></span><span>    </span><span id="local-6989586621682740324"><span class="annot"><a href="#local-6989586621682740324"><span class="hs-identifier hs-var">t_s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
-&gt; [ExprLStmt GhcTc] -&gt; TM [ExprLStmt GhcTc]
</span><a href="GHC.HsToCore.Ticks.html#addTickLStmts"><span class="hs-identifier hs-var">addTickLStmts</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740309"><span class="hs-identifier hs-var">isGuard</span></a></span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
</span><a href="#local-6989586621682740313"><span class="hs-identifier hs-var">stmts</span></a></span><span>
</span><span id="line-742"></span><span>    </span><span id="local-6989586621682740325"><span class="annot"><a href="#local-6989586621682740325"><span class="hs-identifier hs-var">t_y</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsExprRHS"><span class="hs-identifier hs-type">addTickLHsExprRHS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740315"><span class="hs-identifier hs-type">by</span></a></span><span>
</span><span id="line-743"></span><span>    </span><span id="local-6989586621682740326"><span class="annot"><a href="#local-6989586621682740326"><span class="hs-identifier hs-var">t_u</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsExprRHS"><span class="hs-identifier hs-type">addTickLHsExprRHS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740317"><span class="hs-identifier hs-type">using</span></a></span><span>
</span><span id="line-744"></span><span>    </span><span id="local-6989586621682740327"><span class="annot"><a href="#local-6989586621682740327"><span class="hs-identifier hs-var">t_f</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-type">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-type">hpcSrcSpan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740319"><span class="hs-identifier hs-type">returnExpr</span></a></span><span>
</span><span id="line-745"></span><span>    </span><span id="local-6989586621682740328"><span class="annot"><a href="#local-6989586621682740328"><span class="hs-identifier hs-var">t_b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-type">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-type">hpcSrcSpan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740321"><span class="hs-identifier hs-type">bindExpr</span></a></span><span>
</span><span id="line-746"></span><span>    </span><span id="local-6989586621682740329"><span class="annot"><a href="#local-6989586621682740329"><span class="hs-identifier hs-var">t_m</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-type">unLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-type">addTickLHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-type">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-type">hpcSrcSpan</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682740323"><span class="hs-identifier hs-type">liftMExpr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-747"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682740310"><span class="hs-identifier hs-type">stmt</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#trS_stmts"><span class="hs-identifier hs-var">trS_stmts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740324"><span class="hs-identifier hs-type">t_s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#trS_by"><span class="hs-identifier hs-var">trS_by</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740325"><span class="hs-identifier hs-type">t_y</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#trS_using"><span class="hs-identifier hs-var">trS_using</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740326"><span class="hs-identifier hs-type">t_u</span></a></span><span>
</span><span id="line-748"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#trS_ret"><span class="hs-identifier hs-var">trS_ret</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740327"><span class="hs-identifier hs-type">t_f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#trS_bind"><span class="hs-identifier hs-var">trS_bind</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740328"><span class="hs-identifier hs-type">t_b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#trS_fmap"><span class="hs-identifier hs-var">trS_fmap</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740329"><span class="hs-identifier hs-type">t_m</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-749"></span><span>
</span><span id="line-750"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickStmt"><span class="hs-identifier hs-var">addTickStmt</span></a></span><span> </span><span id="local-6989586621682740330"><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740330"><span class="hs-identifier hs-var">isGuard</span></a></span></span><span> </span><span id="local-6989586621682740331"><span class="annot"><span class="annottext">stmt :: Stmt GhcTc (LHsExpr GhcTc)
</span><a href="#local-6989586621682740331"><span class="hs-identifier hs-var">stmt</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecStmt"><span class="hs-identifier hs-type">RecStmt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-751"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682740333"><span class="annot"><a href="#local-6989586621682740333"><span class="hs-identifier hs-var">stmts'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
-&gt; [ExprLStmt GhcTc] -&gt; TM [ExprLStmt GhcTc]
</span><a href="GHC.HsToCore.Ticks.html#addTickLStmts"><span class="hs-identifier hs-var">addTickLStmts</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740330"><span class="hs-identifier hs-var">isGuard</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnLW [ExprLStmt GhcTc] -&gt; [ExprLStmt GhcTc]
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnLW [ExprLStmt GhcTc] -&gt; [ExprLStmt GhcTc])
-&gt; GenLocated SrcSpanAnnLW [ExprLStmt GhcTc] -&gt; [ExprLStmt GhcTc]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; XRec
     GhcTc [LStmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))]
forall idL idR body.
StmtLR idL idR body -&gt; XRec idR [LStmtLR idL idR body]
</span><a href="Language.Haskell.Syntax.Expr.html#recS_stmts"><span class="hs-identifier hs-var">recS_stmts</span></a></span><span> </span><span class="annot"><span class="annottext">Stmt GhcTc (LHsExpr GhcTc)
StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc))
</span><a href="#local-6989586621682740331"><span class="hs-identifier hs-var">stmt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-752"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682740335"><span class="annot"><a href="#local-6989586621682740335"><span class="hs-identifier hs-var">ret'</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-type">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-type">hpcSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_ret_fn"><span class="hs-identifier hs-var">recS_ret_fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740331"><span class="hs-identifier hs-type">stmt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-753"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682740337"><span class="annot"><a href="#local-6989586621682740337"><span class="hs-identifier hs-var">mfix'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-type">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-type">hpcSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_mfix_fn"><span class="hs-identifier hs-var">recS_mfix_fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740331"><span class="hs-identifier hs-type">stmt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-754"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682740339"><span class="annot"><a href="#local-6989586621682740339"><span class="hs-identifier hs-var">bind'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-type">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-type">hpcSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_bind_fn"><span class="hs-identifier hs-var">recS_bind_fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740331"><span class="hs-identifier hs-type">stmt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-755"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682740331"><span class="hs-identifier hs-type">stmt</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_stmts"><span class="hs-identifier hs-var">recS_stmts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-type">noLocA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740333"><span class="hs-identifier hs-type">stmts'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_ret_fn"><span class="hs-identifier hs-var">recS_ret_fn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740335"><span class="hs-identifier hs-type">ret'</span></a></span><span>
</span><span id="line-756"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_mfix_fn"><span class="hs-identifier hs-var">recS_mfix_fn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740337"><span class="hs-identifier hs-type">mfix'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_bind_fn"><span class="hs-identifier hs-var">recS_bind_fn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740339"><span class="hs-identifier hs-type">bind'</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-757"></span><span>
</span><span id="line-758"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickStmt"><span class="hs-identifier hs-var">addTickStmt</span></a></span><span> </span><span id="local-6989586621682740342"><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740342"><span class="hs-identifier hs-var">isGuard</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XStmtLR"><span class="hs-identifier hs-type">XStmtLR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#ApplicativeStmt"><span class="hs-identifier hs-type">ApplicativeStmt</span></a></span><span> </span><span id="local-6989586621682740345"><span class="annot"><span class="annottext">XApplicativeStmt GhcTc GhcTc
</span><a href="#local-6989586621682740345"><span class="hs-identifier hs-var">body_ty</span></a></span></span><span> </span><span id="local-6989586621682740346"><span class="annot"><span class="annottext">[(SyntaxExpr GhcTc, ApplicativeArg GhcTc)]
</span><a href="#local-6989586621682740346"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682740347"><span class="annot"><span class="annottext">Maybe (SyntaxExpr GhcTc)
</span><a href="#local-6989586621682740347"><span class="hs-identifier hs-var">mb_join</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-759"></span><span>    </span><span id="local-6989586621682740348"><span class="annot"><a href="#local-6989586621682740348"><span class="hs-identifier hs-var">args'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((SyntaxExprTc, ApplicativeArg GhcTc)
 -&gt; TM (SyntaxExprTc, ApplicativeArg GhcTc))
-&gt; [(SyntaxExprTc, ApplicativeArg GhcTc)]
-&gt; TM [(SyntaxExprTc, ApplicativeArg GhcTc)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
-&gt; (SyntaxExpr GhcTc, ApplicativeArg GhcTc)
-&gt; TM (SyntaxExpr GhcTc, ApplicativeArg GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickApplicativeArg"><span class="hs-identifier hs-var">addTickApplicativeArg</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740342"><span class="hs-identifier hs-var">isGuard</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(SyntaxExpr GhcTc, ApplicativeArg GhcTc)]
[(SyntaxExprTc, ApplicativeArg GhcTc)]
</span><a href="#local-6989586621682740346"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-760"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XStmtLR"><span class="hs-identifier hs-type">XStmtLR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#ApplicativeStmt"><span class="hs-identifier hs-type">ApplicativeStmt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740345"><span class="hs-identifier hs-type">body_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740348"><span class="hs-identifier hs-type">args'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740347"><span class="hs-identifier hs-type">mb_join</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-761"></span><span>
</span><span id="line-762"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTick"><span class="hs-identifier hs-type">addTick</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BoxLabel"><span class="hs-identifier hs-type">BoxLabel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-763"></span><span id="addTick"><span class="annot"><span class="annottext">addTick :: Maybe (Bool -&gt; BoxLabel) -&gt; LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTick"><span class="hs-identifier hs-var hs-var">addTick</span></a></span></span><span> </span><span id="local-6989586621682740350"><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740350"><span class="hs-identifier hs-var">isGuard</span></a></span></span><span> </span><span id="local-6989586621682740351"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740351"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682740352"><span class="annot"><span class="annottext">Bool -&gt; BoxLabel
</span><a href="#local-6989586621682740352"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740350"><span class="hs-identifier hs-var">isGuard</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; BoxLabel) -&gt; LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addBinTickLHsExpr"><span class="hs-identifier hs-var">addBinTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; BoxLabel
</span><a href="#local-6989586621682740352"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740351"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-764"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExprRHS"><span class="hs-identifier hs-var">addTickLHsExprRHS</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740351"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-765"></span><span>
</span><span id="line-766"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickApplicativeArg"><span class="hs-identifier hs-type">addTickApplicativeArg</span></a></span><span>
</span><span id="line-767"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BoxLabel"><span class="hs-identifier hs-type">BoxLabel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#ApplicativeArg"><span class="hs-identifier hs-type">ApplicativeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-768"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#ApplicativeArg"><span class="hs-identifier hs-type">ApplicativeArg</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-769"></span><span id="addTickApplicativeArg"><span class="annot"><span class="annottext">addTickApplicativeArg :: Maybe (Bool -&gt; BoxLabel)
-&gt; (SyntaxExpr GhcTc, ApplicativeArg GhcTc)
-&gt; TM (SyntaxExpr GhcTc, ApplicativeArg GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickApplicativeArg"><span class="hs-identifier hs-var hs-var">addTickApplicativeArg</span></a></span></span><span> </span><span id="local-6989586621682740353"><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740353"><span class="hs-identifier hs-var">isGuard</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682740354"><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740354"><span class="hs-identifier hs-var">op</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682740355"><span class="annot"><span class="annottext">ApplicativeArg GhcTc
</span><a href="#local-6989586621682740355"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-770"></span><span>  </span><span class="annot"><span class="annottext">(SyntaxExprTc
 -&gt; ApplicativeArg GhcTc -&gt; (SyntaxExprTc, ApplicativeArg GhcTc))
-&gt; TM SyntaxExprTc
-&gt; TM (ApplicativeArg GhcTc)
-&gt; TM (SyntaxExprTc, ApplicativeArg GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740354"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ApplicativeArg GhcTc -&gt; TM (ApplicativeArg GhcTc)
</span><a href="#local-6989586621682740356"><span class="hs-identifier hs-var">addTickArg</span></a></span><span> </span><span class="annot"><span class="annottext">ApplicativeArg GhcTc
</span><a href="#local-6989586621682740355"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-771"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-772"></span><span>  </span><span id="local-6989586621682740356"><span class="annot"><span class="annottext">addTickArg :: ApplicativeArg GhcTc -&gt; TM (ApplicativeArg GhcTc)
</span><a href="#local-6989586621682740356"><span class="hs-identifier hs-var hs-var">addTickArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#ApplicativeArgOne"><span class="hs-identifier hs-type">ApplicativeArgOne</span></a></span><span> </span><span id="local-6989586621682740358"><span class="annot"><span class="annottext">XApplicativeArgOne GhcTc
</span><a href="#local-6989586621682740358"><span class="hs-identifier hs-var">m_fail</span></a></span></span><span> </span><span id="local-6989586621682740359"><span class="annot"><span class="annottext">LPat GhcTc
</span><a href="#local-6989586621682740359"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span id="local-6989586621682740360"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740360"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span id="local-6989586621682740361"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740361"><span class="hs-identifier hs-var">isBody</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-773"></span><span>    </span><span class="annot"><span class="annottext">Maybe SyntaxExprTc
-&gt; LPat GhcTc -&gt; LHsExpr GhcTc -&gt; Bool -&gt; ApplicativeArg GhcTc
XApplicativeArgOne GhcTc
-&gt; LPat GhcTc -&gt; LHsExpr GhcTc -&gt; Bool -&gt; ApplicativeArg GhcTc
forall idL.
XApplicativeArgOne idL
-&gt; LPat idL -&gt; LHsExpr idL -&gt; Bool -&gt; ApplicativeArg idL
</span><a href="GHC.Hs.Expr.html#ApplicativeArgOne"><span class="hs-identifier hs-var">ApplicativeArgOne</span></a></span><span>
</span><span id="line-774"></span><span>      </span><span class="annot"><span class="annottext">(Maybe SyntaxExprTc
 -&gt; LPat GhcTc -&gt; LHsExpr GhcTc -&gt; Bool -&gt; ApplicativeArg GhcTc)
-&gt; TM (Maybe SyntaxExprTc)
-&gt; TM (LPat GhcTc -&gt; LHsExpr GhcTc -&gt; Bool -&gt; ApplicativeArg GhcTc)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(SyntaxExprTc -&gt; TM SyntaxExprTc)
-&gt; Maybe SyntaxExprTc -&gt; TM (Maybe SyntaxExprTc)
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b.
Monad m =&gt;
(a -&gt; m b) -&gt; Maybe a -&gt; m (Maybe b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe SyntaxExprTc
XApplicativeArgOne GhcTc
</span><a href="#local-6989586621682740358"><span class="hs-identifier hs-var">m_fail</span></a></span><span>
</span><span id="line-775"></span><span>      </span><span class="annot"><span class="annottext">TM (LPat GhcTc -&gt; LHsExpr GhcTc -&gt; Bool -&gt; ApplicativeArg GhcTc)
-&gt; TM (LPat GhcTc)
-&gt; TM (LHsExpr GhcTc -&gt; Bool -&gt; ApplicativeArg GhcTc)
forall a b. TM (a -&gt; b) -&gt; TM a -&gt; TM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">LPat GhcTc -&gt; TM (LPat GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLPat"><span class="hs-identifier hs-var">addTickLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcTc
</span><a href="#local-6989586621682740359"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-776"></span><span>      </span><span class="annot"><span class="annottext">TM (LHsExpr GhcTc -&gt; Bool -&gt; ApplicativeArg GhcTc)
-&gt; TM (LHsExpr GhcTc) -&gt; TM (Bool -&gt; ApplicativeArg GhcTc)
forall a b. TM (a -&gt; b) -&gt; TM a -&gt; TM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740360"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-777"></span><span>      </span><span class="annot"><span class="annottext">TM (Bool -&gt; ApplicativeArg GhcTc)
-&gt; TM Bool -&gt; TM (ApplicativeArg GhcTc)
forall a b. TM (a -&gt; b) -&gt; TM a -&gt; TM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; TM Bool
forall a. a -&gt; TM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740361"><span class="hs-identifier hs-var">isBody</span></a></span><span>
</span><span id="line-778"></span><span>  </span><span class="annot"><a href="#local-6989586621682740356"><span class="hs-identifier hs-var">addTickArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#ApplicativeArgMany"><span class="hs-identifier hs-type">ApplicativeArgMany</span></a></span><span> </span><span id="local-6989586621682740363"><span class="annot"><span class="annottext">XApplicativeArgMany GhcTc
</span><a href="#local-6989586621682740363"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740364"><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
</span><a href="#local-6989586621682740364"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span id="local-6989586621682740365"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740365"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span id="local-6989586621682740366"><span class="annot"><span class="annottext">LPat GhcTc
</span><a href="#local-6989586621682740366"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span id="local-6989586621682740367"><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="#local-6989586621682740367"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-779"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XApplicativeArgMany GhcTc
-&gt; [ExprLStmt GhcTc]
-&gt; HsExpr GhcTc
-&gt; LPat GhcTc
-&gt; HsDoFlavour
-&gt; ApplicativeArg GhcTc
forall idL.
XApplicativeArgMany idL
-&gt; [ExprLStmt idL]
-&gt; HsExpr idL
-&gt; LPat idL
-&gt; HsDoFlavour
-&gt; ApplicativeArg idL
</span><a href="GHC.Hs.Expr.html#ApplicativeArgMany"><span class="hs-identifier hs-var">ApplicativeArgMany</span></a></span><span> </span><span class="annot"><span class="annottext">XApplicativeArgMany GhcTc
</span><a href="#local-6989586621682740363"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-780"></span><span>      </span><span class="annot"><span class="annottext">([GenLocated
    SrcSpanAnnA
    (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
 -&gt; HsExpr GhcTc
 -&gt; GenLocated SrcSpanAnnA (Pat GhcTc)
 -&gt; HsDoFlavour
 -&gt; ApplicativeArg GhcTc)
-&gt; TM
     [GenLocated
        SrcSpanAnnA
        (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
-&gt; TM
     (HsExpr GhcTc
      -&gt; GenLocated SrcSpanAnnA (Pat GhcTc)
      -&gt; HsDoFlavour
      -&gt; ApplicativeArg GhcTc)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
-&gt; [ExprLStmt GhcTc] -&gt; TM [ExprLStmt GhcTc]
</span><a href="GHC.HsToCore.Ticks.html#addTickLStmts"><span class="hs-identifier hs-var">addTickLStmts</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740353"><span class="hs-identifier hs-var">isGuard</span></a></span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
</span><a href="#local-6989586621682740364"><span class="hs-identifier hs-var">stmts</span></a></span><span>
</span><span id="line-781"></span><span>      </span><span class="annot"><span class="annottext">TM
  (HsExpr GhcTc
   -&gt; GenLocated SrcSpanAnnA (Pat GhcTc)
   -&gt; HsDoFlavour
   -&gt; ApplicativeArg GhcTc)
-&gt; TM (HsExpr GhcTc)
-&gt; TM
     (GenLocated SrcSpanAnnA (Pat GhcTc)
      -&gt; HsDoFlavour -&gt; ApplicativeArg GhcTc)
forall a b. TM (a -&gt; b) -&gt; TM a -&gt; TM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc)) -&gt; TM (HsExpr GhcTc)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcTc -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740365"><span class="hs-identifier hs-var">ret</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-782"></span><span>      </span><span class="annot"><span class="annottext">TM
  (GenLocated SrcSpanAnnA (Pat GhcTc)
   -&gt; HsDoFlavour -&gt; ApplicativeArg GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (Pat GhcTc))
-&gt; TM (HsDoFlavour -&gt; ApplicativeArg GhcTc)
forall a b. TM (a -&gt; b) -&gt; TM a -&gt; TM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">LPat GhcTc -&gt; TM (LPat GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLPat"><span class="hs-identifier hs-var">addTickLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcTc
</span><a href="#local-6989586621682740366"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-783"></span><span>      </span><span class="annot"><span class="annottext">TM (HsDoFlavour -&gt; ApplicativeArg GhcTc)
-&gt; TM HsDoFlavour -&gt; TM (ApplicativeArg GhcTc)
forall a b. TM (a -&gt; b) -&gt; TM a -&gt; TM b
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">HsDoFlavour -&gt; TM HsDoFlavour
forall a. a -&gt; TM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">HsDoFlavour
</span><a href="#local-6989586621682740367"><span class="hs-identifier hs-var">ctxt</span></a></span><span>
</span><span id="line-784"></span><span>
</span><span id="line-785"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickStmtAndBinders"><span class="hs-identifier hs-type">addTickStmtAndBinders</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BoxLabel"><span class="hs-identifier hs-type">BoxLabel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ParStmtBlock"><span class="hs-identifier hs-type">ParStmtBlock</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span>
</span><span id="line-786"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ParStmtBlock"><span class="hs-identifier hs-type">ParStmtBlock</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-787"></span><span id="addTickStmtAndBinders"><span class="annot"><span class="annottext">addTickStmtAndBinders :: Maybe (Bool -&gt; BoxLabel)
-&gt; ParStmtBlock GhcTc GhcTc -&gt; TM (ParStmtBlock GhcTc GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickStmtAndBinders"><span class="hs-identifier hs-var hs-var">addTickStmtAndBinders</span></a></span></span><span> </span><span id="local-6989586621682740368"><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740368"><span class="hs-identifier hs-var">isGuard</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ParStmtBlock"><span class="hs-identifier hs-type">ParStmtBlock</span></a></span><span> </span><span id="local-6989586621682740370"><span class="annot"><span class="annottext">XParStmtBlock GhcTc GhcTc
</span><a href="#local-6989586621682740370"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740371"><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
</span><a href="#local-6989586621682740371"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span id="local-6989586621682740372"><span class="annot"><span class="annottext">[IdP GhcTc]
</span><a href="#local-6989586621682740372"><span class="hs-identifier hs-var">ids</span></a></span></span><span> </span><span id="local-6989586621682740373"><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740373"><span class="hs-identifier hs-var">returnExpr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-788"></span><span>    </span><span class="annot"><span class="annottext">([GenLocated
    SrcSpanAnnA
    (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
 -&gt; [Id] -&gt; SyntaxExprTc -&gt; ParStmtBlock GhcTc GhcTc)
-&gt; TM
     [GenLocated
        SrcSpanAnnA
        (StmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
-&gt; TM [Id]
-&gt; TM SyntaxExprTc
-&gt; TM (ParStmtBlock GhcTc GhcTc)
forall (m :: * -&gt; *) a1 a2 a3 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m r
</span><span class="hs-identifier hs-var">liftM3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XParStmtBlock GhcTc GhcTc
-&gt; [ExprLStmt GhcTc]
-&gt; [IdP GhcTc]
-&gt; SyntaxExpr GhcTc
-&gt; ParStmtBlock GhcTc GhcTc
forall idL idR.
XParStmtBlock idL idR
-&gt; [ExprLStmt idL]
-&gt; [IdP idR]
-&gt; SyntaxExpr idR
-&gt; ParStmtBlock idL idR
</span><a href="Language.Haskell.Syntax.Expr.html#ParStmtBlock"><span class="hs-identifier hs-var">ParStmtBlock</span></a></span><span> </span><span class="annot"><span class="annottext">XParStmtBlock GhcTc GhcTc
</span><a href="#local-6989586621682740370"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-789"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
-&gt; [ExprLStmt GhcTc] -&gt; TM [ExprLStmt GhcTc]
</span><a href="GHC.HsToCore.Ticks.html#addTickLStmts"><span class="hs-identifier hs-var">addTickLStmts</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
</span><a href="#local-6989586621682740368"><span class="hs-identifier hs-var">isGuard</span></a></span><span> </span><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
</span><a href="#local-6989586621682740371"><span class="hs-identifier hs-var">stmts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-790"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Id] -&gt; TM [Id]
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">[IdP GhcTc]
[Id]
</span><a href="#local-6989586621682740372"><span class="hs-identifier hs-var">ids</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-791"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740373"><span class="hs-identifier hs-var">returnExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-792"></span><span>
</span><span id="line-793"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsLocalBinds"><span class="hs-identifier hs-type">addTickHsLocalBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsLocalBinds"><span class="hs-identifier hs-type">HsLocalBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-794"></span><span id="addTickHsLocalBinds"><span class="annot"><span class="annottext">addTickHsLocalBinds :: HsLocalBinds GhcTc -&gt; TM (HsLocalBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsLocalBinds"><span class="hs-identifier hs-var hs-var">addTickHsLocalBinds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-type">HsValBinds</span></a></span><span> </span><span id="local-6989586621682740375"><span class="annot"><span class="annottext">XHsValBinds GhcTc GhcTc
</span><a href="#local-6989586621682740375"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740376"><span class="annot"><span class="annottext">HsValBindsLR GhcTc GhcTc
</span><a href="#local-6989586621682740376"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-795"></span><span>        </span><span class="annot"><span class="annottext">(HsValBindsLR GhcTc GhcTc -&gt; HsLocalBinds GhcTc)
-&gt; TM (HsValBindsLR GhcTc GhcTc) -&gt; TM (HsLocalBinds GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XHsValBinds GhcTc GhcTc
-&gt; HsValBindsLR GhcTc GhcTc -&gt; HsLocalBinds GhcTc
forall idL idR.
XHsValBinds idL idR
-&gt; HsValBindsLR idL idR -&gt; HsLocalBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#HsValBinds"><span class="hs-identifier hs-var">HsValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XHsValBinds GhcTc GhcTc
</span><a href="#local-6989586621682740375"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-796"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsValBindsLR GhcTc GhcTc -&gt; TM (HsValBindsLR GhcTc GhcTc)
forall (a :: Pass) (b :: Pass).
HsValBindsLR GhcTc (GhcPass a)
-&gt; TM (HsValBindsLR GhcTc (GhcPass b))
</span><a href="GHC.HsToCore.Ticks.html#addTickHsValBinds"><span class="hs-identifier hs-var">addTickHsValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBindsLR GhcTc GhcTc
</span><a href="#local-6989586621682740376"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-797"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsLocalBinds"><span class="hs-identifier hs-var">addTickHsLocalBinds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsIPBinds"><span class="hs-identifier hs-type">HsIPBinds</span></a></span><span> </span><span id="local-6989586621682740379"><span class="annot"><span class="annottext">XHsIPBinds GhcTc GhcTc
</span><a href="#local-6989586621682740379"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740380"><span class="annot"><span class="annottext">HsIPBinds GhcTc
</span><a href="#local-6989586621682740380"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span>
</span><span id="line-798"></span><span>        </span><span class="annot"><span class="annottext">(HsIPBinds GhcTc -&gt; HsLocalBinds GhcTc)
-&gt; TM (HsIPBinds GhcTc) -&gt; TM (HsLocalBinds GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XHsIPBinds GhcTc GhcTc -&gt; HsIPBinds GhcTc -&gt; HsLocalBinds GhcTc
forall idL idR.
XHsIPBinds idL idR -&gt; HsIPBinds idR -&gt; HsLocalBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#HsIPBinds"><span class="hs-identifier hs-var">HsIPBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XHsIPBinds GhcTc GhcTc
</span><a href="#local-6989586621682740379"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-799"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsIPBinds GhcTc -&gt; TM (HsIPBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsIPBinds"><span class="hs-identifier hs-var">addTickHsIPBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsIPBinds GhcTc
</span><a href="#local-6989586621682740380"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-800"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsLocalBinds"><span class="hs-identifier hs-var">addTickHsLocalBinds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#EmptyLocalBinds"><span class="hs-identifier hs-type">EmptyLocalBinds</span></a></span><span> </span><span id="local-6989586621682740383"><span class="annot"><span class="annottext">XEmptyLocalBinds GhcTc GhcTc
</span><a href="#local-6989586621682740383"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc -&gt; TM (HsLocalBinds GhcTc)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XEmptyLocalBinds GhcTc GhcTc -&gt; HsLocalBinds GhcTc
forall idL idR. XEmptyLocalBinds idL idR -&gt; HsLocalBindsLR idL idR
</span><a href="Language.Haskell.Syntax.Binds.html#EmptyLocalBinds"><span class="hs-identifier hs-var">EmptyLocalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">XEmptyLocalBinds GhcTc GhcTc
</span><a href="#local-6989586621682740383"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-801"></span><span>
</span><span id="line-802"></span><span id="local-6989586621682739112"><span id="local-6989586621682739113"><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsValBinds"><span class="hs-identifier hs-type">addTickHsValBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBindsLR"><span class="hs-identifier hs-type">HsValBindsLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739112"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-803"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsValBindsLR"><span class="hs-identifier hs-type">HsValBindsLR</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Extension.html#GhcPass"><span class="hs-identifier hs-type">GhcPass</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739113"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-804"></span><span id="addTickHsValBinds"><span class="annot"><span class="annottext">addTickHsValBinds :: forall (a :: Pass) (b :: Pass).
HsValBindsLR GhcTc (GhcPass a)
-&gt; TM (HsValBindsLR GhcTc (GhcPass b))
</span><a href="GHC.HsToCore.Ticks.html#addTickHsValBinds"><span class="hs-identifier hs-var hs-var">addTickHsValBinds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#XValBindsLR"><span class="hs-identifier hs-type">XValBindsLR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Binds.html#NValBinds"><span class="hs-identifier hs-type">NValBinds</span></a></span><span> </span><span id="local-6989586621682740396"><span class="annot"><span class="annottext">[(RecFlag, LHsBinds GhcTc)]
</span><a href="#local-6989586621682740396"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span id="local-6989586621682740397"><span class="annot"><span class="annottext">[LSig (GhcPass 'Renamed)]
</span><a href="#local-6989586621682740397"><span class="hs-identifier hs-var">sigs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-805"></span><span>        </span><span id="local-6989586621682740398"><span class="annot"><a href="#local-6989586621682740398"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">([(RecFlag, LHsBinds GhcTc)]
 -&gt; [GenLocated SrcSpanAnnA (Sig (GhcPass 'Renamed))]
 -&gt; NHsValBindsLR GhcTc)
-&gt; TM [(RecFlag, LHsBinds GhcTc)]
-&gt; TM [GenLocated SrcSpanAnnA (Sig (GhcPass 'Renamed))]
-&gt; TM (NHsValBindsLR GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="annot"><span class="annottext">[(RecFlag, LHsBinds GhcTc)]
-&gt; [LSig (GhcPass 'Renamed)] -&gt; NHsValBindsLR GhcTc
[(RecFlag, LHsBinds GhcTc)]
-&gt; [GenLocated SrcSpanAnnA (Sig (GhcPass 'Renamed))]
-&gt; NHsValBindsLR GhcTc
forall idL.
[(RecFlag, LHsBinds idL)]
-&gt; [LSig (GhcPass 'Renamed)] -&gt; NHsValBindsLR idL
</span><a href="GHC.Hs.Binds.html#NValBinds"><span class="hs-identifier hs-var">NValBinds</span></a></span><span>
</span><span id="line-806"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((RecFlag, [GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)])
 -&gt; TM (RecFlag, LHsBinds GhcTc))
-&gt; [(RecFlag, [GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)])]
-&gt; TM [(RecFlag, LHsBinds GhcTc)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682740399"><span class="annot"><span class="annottext">RecFlag
</span><a href="#local-6989586621682740399"><span class="hs-identifier hs-var">rec</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682740400"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
</span><a href="#local-6989586621682740400"><span class="hs-identifier hs-var">binds'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-807"></span><span>                                </span><span class="annot"><span class="annottext">(RecFlag -&gt; LHsBinds GhcTc -&gt; (RecFlag, LHsBinds GhcTc))
-&gt; TM RecFlag
-&gt; TM (LHsBinds GhcTc)
-&gt; TM (RecFlag, LHsBinds GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span>
</span><span id="line-808"></span><span>                                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RecFlag -&gt; TM RecFlag
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">RecFlag
</span><a href="#local-6989586621682740399"><span class="hs-identifier hs-var">rec</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-809"></span><span>                                        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsBinds GhcTc -&gt; TM (LHsBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsBinds"><span class="hs-identifier hs-var">addTickLHsBinds</span></a></span><span> </span><span class="annot"><span class="annottext">LHsBinds GhcTc
[GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)]
</span><a href="#local-6989586621682740400"><span class="hs-identifier hs-var">binds'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-810"></span><span>                        </span><span class="annot"><span class="annottext">[(RecFlag, LHsBinds GhcTc)]
[(RecFlag, [GenLocated SrcSpanAnnA (HsBindLR GhcTc GhcTc)])]
</span><a href="#local-6989586621682740396"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-811"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Sig (GhcPass 'Renamed))]
-&gt; TM [GenLocated SrcSpanAnnA (Sig (GhcPass 'Renamed))]
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">[LSig (GhcPass 'Renamed)]
[GenLocated SrcSpanAnnA (Sig (GhcPass 'Renamed))]
</span><a href="#local-6989586621682740397"><span class="hs-identifier hs-var">sigs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-812"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#XValBindsLR"><span class="hs-identifier hs-type">XValBindsLR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740398"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-813"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsValBinds"><span class="hs-identifier hs-var">addTickHsValBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsValBindsLR GhcTc (GhcPass a)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; TM (HsValBindsLR GhcTc (GhcPass b))
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;addTickHsValBinds&quot;</span></span><span>
</span><span id="line-814"></span><span>
</span><span id="line-815"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsIPBinds"><span class="hs-identifier hs-type">addTickHsIPBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsIPBinds"><span class="hs-identifier hs-type">HsIPBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#HsIPBinds"><span class="hs-identifier hs-type">HsIPBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-816"></span><span id="addTickHsIPBinds"><span class="annot"><span class="annottext">addTickHsIPBinds :: HsIPBinds GhcTc -&gt; TM (HsIPBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsIPBinds"><span class="hs-identifier hs-var hs-var">addTickHsIPBinds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IPBinds"><span class="hs-identifier hs-type">IPBinds</span></a></span><span> </span><span id="local-6989586621682740402"><span class="annot"><span class="annottext">XIPBinds GhcTc
</span><a href="#local-6989586621682740402"><span class="hs-identifier hs-var">dictbinds</span></a></span></span><span> </span><span id="local-6989586621682740403"><span class="annot"><span class="annottext">[LIPBind GhcTc]
</span><a href="#local-6989586621682740403"><span class="hs-identifier hs-var">ipbinds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-817"></span><span>        </span><span class="annot"><span class="annottext">(TcEvBinds
 -&gt; [GenLocated SrcSpanAnnA (IPBind GhcTc)] -&gt; HsIPBinds GhcTc)
-&gt; TM TcEvBinds
-&gt; TM [GenLocated SrcSpanAnnA (IPBind GhcTc)]
-&gt; TM (HsIPBinds GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="annot"><span class="annottext">XIPBinds GhcTc -&gt; [LIPBind GhcTc] -&gt; HsIPBinds GhcTc
TcEvBinds
-&gt; [GenLocated SrcSpanAnnA (IPBind GhcTc)] -&gt; HsIPBinds GhcTc
forall id. XIPBinds id -&gt; [LIPBind id] -&gt; HsIPBinds id
</span><a href="Language.Haskell.Syntax.Binds.html#IPBinds"><span class="hs-identifier hs-var">IPBinds</span></a></span><span>
</span><span id="line-818"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TcEvBinds -&gt; TM TcEvBinds
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">XIPBinds GhcTc
TcEvBinds
</span><a href="#local-6989586621682740402"><span class="hs-identifier hs-var">dictbinds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-819"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (IPBind GhcTc)
 -&gt; TM (GenLocated SrcSpanAnnA (IPBind GhcTc)))
-&gt; [GenLocated SrcSpanAnnA (IPBind GhcTc)]
-&gt; TM [GenLocated SrcSpanAnnA (IPBind GhcTc)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(IPBind GhcTc -&gt; TM (IPBind GhcTc))
-&gt; GenLocated SrcSpanAnnA (IPBind GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (IPBind GhcTc))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b)
-&gt; GenLocated SrcSpanAnnA a -&gt; f (GenLocated SrcSpanAnnA b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IPBind GhcTc -&gt; TM (IPBind GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickIPBind"><span class="hs-identifier hs-var">addTickIPBind</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LIPBind GhcTc]
[GenLocated SrcSpanAnnA (IPBind GhcTc)]
</span><a href="#local-6989586621682740403"><span class="hs-identifier hs-var">ipbinds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-820"></span><span>
</span><span id="line-821"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickIPBind"><span class="hs-identifier hs-type">addTickIPBind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IPBind"><span class="hs-identifier hs-type">IPBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IPBind"><span class="hs-identifier hs-type">IPBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-822"></span><span id="addTickIPBind"><span class="annot"><span class="annottext">addTickIPBind :: IPBind GhcTc -&gt; TM (IPBind GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickIPBind"><span class="hs-identifier hs-var hs-var">addTickIPBind</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Binds.html#IPBind"><span class="hs-identifier hs-type">IPBind</span></a></span><span> </span><span id="local-6989586621682740406"><span class="annot"><span class="annottext">XCIPBind GhcTc
</span><a href="#local-6989586621682740406"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740407"><span class="annot"><span class="annottext">XRec GhcTc HsIPName
</span><a href="#local-6989586621682740407"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621682740408"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740408"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-823"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; IPBind GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc)) -&gt; TM (IPBind GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCIPBind GhcTc
-&gt; XRec GhcTc HsIPName -&gt; LHsExpr GhcTc -&gt; IPBind GhcTc
forall id.
XCIPBind id -&gt; XRec id HsIPName -&gt; LHsExpr id -&gt; IPBind id
</span><a href="Language.Haskell.Syntax.Binds.html#IPBind"><span class="hs-identifier hs-var">IPBind</span></a></span><span> </span><span class="annot"><span class="annottext">XCIPBind GhcTc
</span><a href="#local-6989586621682740406"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">XRec GhcTc HsIPName
</span><a href="#local-6989586621682740407"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-824"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740408"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-825"></span><span>
</span><span id="line-826"></span><span class="hs-comment">-- There is no location here, so we might need to use a context location??</span><span>
</span><span id="line-827"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-type">addTickSyntaxExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#SyntaxExpr"><span class="hs-identifier hs-type">SyntaxExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-828"></span><span id="addTickSyntaxExpr"><span class="annot"><span class="annottext">addTickSyntaxExpr :: SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var hs-var">addTickSyntaxExpr</span></a></span></span><span> </span><span id="local-6989586621682740409"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740409"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682740410"><span class="annot"><span class="annottext">syn :: SyntaxExpr GhcTc
</span><a href="#local-6989586621682740410"><span class="hs-identifier hs-var">syn</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#SyntaxExprTc"><span class="hs-identifier hs-type">SyntaxExprTc</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">syn_expr :: SyntaxExprTc -&gt; HsExpr GhcTc
</span><a href="GHC.Hs.Expr.html#syn_expr"><span class="hs-identifier hs-var">syn_expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740413"><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740413"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-829"></span><span>        </span><span id="local-6989586621682740414"><span class="annot"><a href="#local-6989586621682740414"><span class="hs-identifier hs-var">x'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc)) -&gt; TM (HsExpr GhcTc)
forall a b. (a -&gt; b) -&gt; TM a -&gt; TM b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsExpr GhcTc
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcTc -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740409"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">HsExpr GhcTc
</span><a href="#local-6989586621682740413"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-830"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682740410"><span class="hs-identifier hs-type">syn</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#syn_expr"><span class="hs-identifier hs-var">syn_expr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740414"><span class="hs-identifier hs-type">x'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-831"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcTc
SyntaxExprTc
</span><a href="GHC.Hs.Expr.html#NoSyntaxExprTc"><span class="hs-identifier hs-var">NoSyntaxExprTc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SyntaxExprTc -&gt; TM SyntaxExprTc
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">SyntaxExprTc
</span><a href="GHC.Hs.Expr.html#NoSyntaxExprTc"><span class="hs-identifier hs-var">NoSyntaxExprTc</span></a></span><span>
</span><span id="line-832"></span><span>
</span><span id="line-833"></span><span class="hs-comment">-- we do not walk into patterns.</span><span>
</span><span id="line-834"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLPat"><span class="hs-identifier hs-type">addTickLPat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LPat"><span class="hs-identifier hs-type">LPat</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-835"></span><span id="addTickLPat"><span class="annot"><span class="annottext">addTickLPat :: LPat GhcTc -&gt; TM (LPat GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLPat"><span class="hs-identifier hs-var hs-var">addTickLPat</span></a></span></span><span> </span><span id="local-6989586621682740416"><span class="annot"><span class="annottext">LPat GhcTc
</span><a href="#local-6989586621682740416"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (Pat GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (Pat GhcTc))
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">LPat GhcTc
GenLocated SrcSpanAnnA (Pat GhcTc)
</span><a href="#local-6989586621682740416"><span class="hs-identifier hs-var">pat</span></a></span><span>
</span><span id="line-836"></span><span>
</span><span id="line-837"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsCmdTop"><span class="hs-identifier hs-type">addTickHsCmdTop</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdTop"><span class="hs-identifier hs-type">HsCmdTop</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdTop"><span class="hs-identifier hs-type">HsCmdTop</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-838"></span><span id="addTickHsCmdTop"><span class="annot"><span class="annottext">addTickHsCmdTop :: HsCmdTop GhcTc -&gt; TM (HsCmdTop GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsCmdTop"><span class="hs-identifier hs-var hs-var">addTickHsCmdTop</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdTop"><span class="hs-identifier hs-type">HsCmdTop</span></a></span><span> </span><span id="local-6989586621682740418"><span class="annot"><span class="annottext">XCmdTop GhcTc
</span><a href="#local-6989586621682740418"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740419"><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740419"><span class="hs-identifier hs-var">cmd</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-839"></span><span>        </span><span class="annot"><span class="annottext">(CmdTopTc
 -&gt; GenLocated SrcSpanAnnA (HsCmd GhcTc) -&gt; HsCmdTop GhcTc)
-&gt; TM CmdTopTc
-&gt; TM (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; TM (HsCmdTop GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="annot"><span class="annottext">XCmdTop GhcTc -&gt; LHsCmd GhcTc -&gt; HsCmdTop GhcTc
CmdTopTc -&gt; GenLocated SrcSpanAnnA (HsCmd GhcTc) -&gt; HsCmdTop GhcTc
forall p. XCmdTop p -&gt; LHsCmd p -&gt; HsCmdTop p
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdTop"><span class="hs-identifier hs-var">HsCmdTop</span></a></span><span>
</span><span id="line-840"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmdTopTc -&gt; TM CmdTopTc
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">XCmdTop GhcTc
CmdTopTc
</span><a href="#local-6989586621682740418"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-841"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsCmd GhcTc -&gt; TM (LHsCmd GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsCmd"><span class="hs-identifier hs-var">addTickLHsCmd</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740419"><span class="hs-identifier hs-var">cmd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-842"></span><span>
</span><span id="line-843"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsCmd"><span class="hs-identifier hs-type">addTickLHsCmd</span></a></span><span> </span><span class="hs-glyph">::</span><span>  </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-844"></span><span id="addTickLHsCmd"><span class="annot"><span class="annottext">addTickLHsCmd :: LHsCmd GhcTc -&gt; TM (LHsCmd GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsCmd"><span class="hs-identifier hs-var hs-var">addTickLHsCmd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682740421"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682740421"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682740422"><span class="annot"><span class="annottext">HsCmd GhcTc
</span><a href="#local-6989586621682740422"><span class="hs-identifier hs-var">c0</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-845"></span><span>        </span><span id="local-6989586621682740423"><span class="annot"><a href="#local-6989586621682740423"><span class="hs-identifier hs-var">c1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsCmd GhcTc -&gt; TM (HsCmd GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsCmd"><span class="hs-identifier hs-var">addTickHsCmd</span></a></span><span> </span><span class="annot"><span class="annottext">HsCmd GhcTc
</span><a href="#local-6989586621682740422"><span class="hs-identifier hs-var">c0</span></a></span><span>
</span><span id="line-846"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740421"><span class="hs-identifier hs-type">pos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740423"><span class="hs-identifier hs-type">c1</span></a></span><span>
</span><span id="line-847"></span><span>
</span><span id="line-848"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsCmd"><span class="hs-identifier hs-type">addTickHsCmd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmd"><span class="hs-identifier hs-type">HsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-849"></span><span id="addTickHsCmd"><span class="annot"><span class="annottext">addTickHsCmd :: HsCmd GhcTc -&gt; TM (HsCmd GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsCmd"><span class="hs-identifier hs-var hs-var">addTickHsCmd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdLam"><span class="hs-identifier hs-type">HsCmdLam</span></a></span><span> </span><span id="local-6989586621682740426"><span class="annot"><span class="annottext">XCmdLamCase GhcTc
</span><a href="#local-6989586621682740426"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740427"><span class="annot"><span class="annottext">HsLamVariant
</span><a href="#local-6989586621682740427"><span class="hs-identifier hs-var">lam_variant</span></a></span></span><span> </span><span id="local-6989586621682740428"><span class="annot"><span class="annottext">MatchGroup GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740428"><span class="hs-identifier hs-var">mgs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-850"></span><span>        </span><span class="annot"><span class="annottext">(MatchGroup GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
 -&gt; HsCmd GhcTc)
-&gt; TM (MatchGroup GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
-&gt; TM (HsCmd GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdLamCase GhcTc
-&gt; HsLamVariant -&gt; MatchGroup GhcTc (LHsCmd GhcTc) -&gt; HsCmd GhcTc
forall id.
XCmdLamCase id
-&gt; HsLamVariant -&gt; MatchGroup id (LHsCmd id) -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdLam"><span class="hs-identifier hs-var">HsCmdLam</span></a></span><span> </span><span class="annot"><span class="annottext">XCmdLamCase GhcTc
</span><a href="#local-6989586621682740426"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">HsLamVariant
</span><a href="#local-6989586621682740427"><span class="hs-identifier hs-var">lam_variant</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MatchGroup GhcTc (LHsCmd GhcTc)
-&gt; TM (MatchGroup GhcTc (LHsCmd GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickCmdMatchGroup"><span class="hs-identifier hs-var">addTickCmdMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740428"><span class="hs-identifier hs-var">mgs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-851"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsCmd"><span class="hs-identifier hs-var">addTickHsCmd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdApp"><span class="hs-identifier hs-type">HsCmdApp</span></a></span><span> </span><span id="local-6989586621682740431"><span class="annot"><span class="annottext">XCmdApp GhcTc
</span><a href="#local-6989586621682740431"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740432"><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740432"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621682740433"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740433"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-852"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; HsCmd GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (HsCmd GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdApp GhcTc -&gt; LHsCmd GhcTc -&gt; LHsExpr GhcTc -&gt; HsCmd GhcTc
forall id. XCmdApp id -&gt; LHsCmd id -&gt; LHsExpr id -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdApp"><span class="hs-identifier hs-var">HsCmdApp</span></a></span><span> </span><span class="annot"><span class="annottext">XCmdApp GhcTc
</span><a href="#local-6989586621682740431"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsCmd GhcTc -&gt; TM (LHsCmd GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsCmd"><span class="hs-identifier hs-var">addTickLHsCmd</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740432"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740433"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-853"></span><span class="hs-comment">{-
addTickHsCmd (OpApp e1 c2 fix c3) =
        liftM4 OpApp
                (addTickLHsExpr e1)
                (addTickLHsCmd c2)
                (return fix)
                (addTickLHsCmd c3)
-}</span><span>
</span><span id="line-861"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsCmd"><span class="hs-identifier hs-var">addTickHsCmd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdPar"><span class="hs-identifier hs-type">HsCmdPar</span></a></span><span> </span><span id="local-6989586621682740435"><span class="annot"><span class="annottext">XCmdPar GhcTc
</span><a href="#local-6989586621682740435"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740436"><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740436"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-862"></span><span>        </span><span id="local-6989586621682740437"><span class="annot"><a href="#local-6989586621682740437"><span class="hs-identifier hs-var">e'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcTc -&gt; TM (LHsCmd GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsCmd"><span class="hs-identifier hs-var">addTickLHsCmd</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740436"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-863"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdPar"><span class="hs-identifier hs-type">HsCmdPar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740435"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740437"><span class="hs-identifier hs-type">e'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-864"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsCmd"><span class="hs-identifier hs-var">addTickHsCmd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdCase"><span class="hs-identifier hs-type">HsCmdCase</span></a></span><span> </span><span id="local-6989586621682740439"><span class="annot"><span class="annottext">XCmdCase GhcTc
</span><a href="#local-6989586621682740439"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740440"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740440"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682740441"><span class="annot"><span class="annottext">MatchGroup GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740441"><span class="hs-identifier hs-var">mgs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-865"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; MatchGroup GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
 -&gt; HsCmd GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (MatchGroup GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
-&gt; TM (HsCmd GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdCase GhcTc
-&gt; LHsExpr GhcTc -&gt; MatchGroup GhcTc (LHsCmd GhcTc) -&gt; HsCmd GhcTc
forall id.
XCmdCase id -&gt; LHsExpr id -&gt; MatchGroup id (LHsCmd id) -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdCase"><span class="hs-identifier hs-var">HsCmdCase</span></a></span><span> </span><span class="annot"><span class="annottext">XCmdCase GhcTc
</span><a href="#local-6989586621682740439"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-866"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740440"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-867"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MatchGroup GhcTc (LHsCmd GhcTc)
-&gt; TM (MatchGroup GhcTc (LHsCmd GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickCmdMatchGroup"><span class="hs-identifier hs-var">addTickCmdMatchGroup</span></a></span><span> </span><span class="annot"><span class="annottext">MatchGroup GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740441"><span class="hs-identifier hs-var">mgs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-868"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsCmd"><span class="hs-identifier hs-var">addTickHsCmd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdIf"><span class="hs-identifier hs-type">HsCmdIf</span></a></span><span> </span><span id="local-6989586621682740443"><span class="annot"><span class="annottext">XCmdIf GhcTc
</span><a href="#local-6989586621682740443"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740444"><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740444"><span class="hs-identifier hs-var">cnd</span></a></span></span><span> </span><span id="local-6989586621682740445"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740445"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682740446"><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740446"><span class="hs-identifier hs-var">c2</span></a></span></span><span> </span><span id="local-6989586621682740447"><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740447"><span class="hs-identifier hs-var">c3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-869"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsCmd GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsCmd GhcTc)
 -&gt; HsCmd GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; TM (HsCmd GhcTc)
forall (m :: * -&gt; *) a1 a2 a3 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m r
</span><span class="hs-identifier hs-var">liftM3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdIf GhcTc
-&gt; SyntaxExpr GhcTc
-&gt; LHsExpr GhcTc
-&gt; LHsCmd GhcTc
-&gt; LHsCmd GhcTc
-&gt; HsCmd GhcTc
forall id.
XCmdIf id
-&gt; SyntaxExpr id
-&gt; LHsExpr id
-&gt; LHsCmd id
-&gt; LHsCmd id
-&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdIf"><span class="hs-identifier hs-var">HsCmdIf</span></a></span><span> </span><span class="annot"><span class="annottext">XCmdIf GhcTc
</span><a href="#local-6989586621682740443"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740444"><span class="hs-identifier hs-var">cnd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-870"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Bool -&gt; BoxLabel) -&gt; LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addBinTickLHsExpr"><span class="hs-identifier hs-var">addBinTickLHsExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CondBox -&gt; Bool -&gt; BoxLabel
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BinBox"><span class="hs-identifier hs-var">BinBox</span></a></span><span> </span><span class="annot"><span class="annottext">CondBox
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#CondBinBox"><span class="hs-identifier hs-var">CondBinBox</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740445"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-871"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsCmd GhcTc -&gt; TM (LHsCmd GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsCmd"><span class="hs-identifier hs-var">addTickLHsCmd</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740446"><span class="hs-identifier hs-var">c2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-872"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsCmd GhcTc -&gt; TM (LHsCmd GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsCmd"><span class="hs-identifier hs-var">addTickLHsCmd</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740447"><span class="hs-identifier hs-var">c3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-873"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsCmd"><span class="hs-identifier hs-var">addTickHsCmd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdLet"><span class="hs-identifier hs-type">HsCmdLet</span></a></span><span> </span><span id="local-6989586621682740449"><span class="annot"><span class="annottext">XCmdLet GhcTc
</span><a href="#local-6989586621682740449"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740450"><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740450"><span class="hs-identifier hs-var">binds</span></a></span></span><span> </span><span id="local-6989586621682740451"><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740451"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-874"></span><span>        </span><span class="annot"><span class="annottext">[Id] -&gt; TM (HsCmd GhcTc) -&gt; TM (HsCmd GhcTc)
forall a. [Id] -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#bindLocals"><span class="hs-identifier hs-var">bindLocals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CollectFlag GhcTc -&gt; HsLocalBinds GhcTc -&gt; [IdP GhcTc]
forall (idL :: Pass) (idR :: Pass).
CollectPass (GhcPass idL) =&gt;
CollectFlag (GhcPass idL)
-&gt; HsLocalBindsLR (GhcPass idL) (GhcPass idR)
-&gt; [IdP (GhcPass idL)]
</span><a href="GHC.Hs.Utils.html#collectLocalBinders"><span class="hs-identifier hs-var">collectLocalBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcTc
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740450"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TM (HsCmd GhcTc) -&gt; TM (HsCmd GhcTc))
-&gt; TM (HsCmd GhcTc) -&gt; TM (HsCmd GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-875"></span><span>          </span><span id="local-6989586621682740452"><span class="annot"><a href="#local-6989586621682740452"><span class="hs-identifier hs-var">binds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc -&gt; TM (HsLocalBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsLocalBinds"><span class="hs-identifier hs-var">addTickHsLocalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740450"><span class="hs-identifier hs-var">binds</span></a></span><span> </span><span class="hs-comment">-- to think about: !patterns.</span><span>
</span><span id="line-876"></span><span>          </span><span id="local-6989586621682740453"><span class="annot"><a href="#local-6989586621682740453"><span class="hs-identifier hs-var">c'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLHsCmd"><span class="hs-identifier hs-type">addTickLHsCmd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740451"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-877"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdLet"><span class="hs-identifier hs-type">HsCmdLet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740449"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740452"><span class="hs-identifier hs-type">binds'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740453"><span class="hs-identifier hs-type">c'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-878"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsCmd"><span class="hs-identifier hs-var">addTickHsCmd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdDo"><span class="hs-identifier hs-type">HsCmdDo</span></a></span><span> </span><span id="local-6989586621682740455"><span class="annot"><span class="annottext">XCmdDo GhcTc
</span><a href="#local-6989586621682740455"><span class="hs-identifier hs-var">srcloc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682740456"><span class="annot"><span class="annottext">SrcSpanAnnLW
</span><a href="#local-6989586621682740456"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621682740457"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))]
</span><a href="#local-6989586621682740457"><span class="hs-identifier hs-var">stmts</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-879"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682740458"><span class="annot"><a href="#local-6989586621682740458"><span class="hs-identifier hs-var">stmts'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[CmdLStmt GhcTc] -&gt; TM () -&gt; TM ([CmdLStmt GhcTc], ())
forall a. [CmdLStmt GhcTc] -&gt; TM a -&gt; TM ([CmdLStmt GhcTc], a)
</span><a href="GHC.HsToCore.Ticks.html#addTickLCmdStmts%27"><span class="hs-identifier hs-var">addTickLCmdStmts'</span></a></span><span> </span><span class="annot"><span class="annottext">[CmdLStmt GhcTc]
[GenLocated
   SrcSpanAnnA (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))]
</span><a href="#local-6989586621682740457"><span class="hs-identifier hs-var">stmts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; TM ()
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-880"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdDo"><span class="hs-identifier hs-type">HsCmdDo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740455"><span class="hs-identifier hs-type">srcloc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740456"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740458"><span class="hs-identifier hs-type">stmts'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-881"></span><span>
</span><span id="line-882"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsCmd"><span class="hs-identifier hs-var">addTickHsCmd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdArrApp"><span class="hs-identifier hs-type">HsCmdArrApp</span></a></span><span>  </span><span id="local-6989586621682740461"><span class="annot"><span class="annottext">XCmdArrApp GhcTc
</span><a href="#local-6989586621682740461"><span class="hs-identifier hs-var">arr_ty</span></a></span></span><span> </span><span id="local-6989586621682740462"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740462"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682740463"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740463"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span id="local-6989586621682740464"><span class="annot"><span class="annottext">HsArrAppType
</span><a href="#local-6989586621682740464"><span class="hs-identifier hs-var">ty1</span></a></span></span><span> </span><span id="local-6989586621682740465"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740465"><span class="hs-identifier hs-var">lr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-883"></span><span>        </span><span class="annot"><span class="annottext">(Type
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; HsArrAppType
 -&gt; Bool
 -&gt; HsCmd GhcTc)
-&gt; TM Type
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM HsArrAppType
-&gt; TM Bool
-&gt; TM (HsCmd GhcTc)
forall (m :: * -&gt; *) a1 a2 a3 a4 a5 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; a4 -&gt; a5 -&gt; r)
-&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m a4 -&gt; m a5 -&gt; m r
</span><span class="hs-identifier hs-var">liftM5</span></span><span> </span><span class="annot"><span class="annottext">XCmdArrApp GhcTc
-&gt; LHsExpr GhcTc
-&gt; LHsExpr GhcTc
-&gt; HsArrAppType
-&gt; Bool
-&gt; HsCmd GhcTc
Type
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; HsArrAppType
-&gt; Bool
-&gt; HsCmd GhcTc
forall id.
XCmdArrApp id
-&gt; LHsExpr id -&gt; LHsExpr id -&gt; HsArrAppType -&gt; Bool -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdArrApp"><span class="hs-identifier hs-var">HsCmdArrApp</span></a></span><span>
</span><span id="line-884"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; TM Type
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">XCmdArrApp GhcTc
Type
</span><a href="#local-6989586621682740461"><span class="hs-identifier hs-var">arr_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-885"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740462"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-886"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740463"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-887"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsArrAppType -&gt; TM HsArrAppType
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">HsArrAppType
</span><a href="#local-6989586621682740464"><span class="hs-identifier hs-var">ty1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-888"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; TM Bool
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740465"><span class="hs-identifier hs-var">lr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-889"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsCmd"><span class="hs-identifier hs-var">addTickHsCmd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsCmdArrForm"><span class="hs-identifier hs-type">HsCmdArrForm</span></a></span><span> </span><span id="local-6989586621682740468"><span class="annot"><span class="annottext">XCmdArrForm GhcTc
</span><a href="#local-6989586621682740468"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740469"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740469"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682740470"><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621682740470"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621682740471"><span class="annot"><span class="annottext">[LHsCmdTop GhcTc]
</span><a href="#local-6989586621682740471"><span class="hs-identifier hs-var">cmdtop</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-890"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; LexicalFixity
 -&gt; [GenLocated EpAnnCO (HsCmdTop GhcTc)]
 -&gt; HsCmd GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM LexicalFixity
-&gt; TM [GenLocated EpAnnCO (HsCmdTop GhcTc)]
-&gt; TM (HsCmd GhcTc)
forall (m :: * -&gt; *) a1 a2 a3 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m r
</span><span class="hs-identifier hs-var">liftM3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XCmdArrForm GhcTc
-&gt; LHsExpr GhcTc
-&gt; LexicalFixity
-&gt; [LHsCmdTop GhcTc]
-&gt; HsCmd GhcTc
forall id.
XCmdArrForm id
-&gt; LHsExpr id -&gt; LexicalFixity -&gt; [LHsCmdTop id] -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#HsCmdArrForm"><span class="hs-identifier hs-var">HsCmdArrForm</span></a></span><span> </span><span class="annot"><span class="annottext">XCmdArrForm GhcTc
</span><a href="#local-6989586621682740468"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-891"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740469"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-892"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LexicalFixity -&gt; TM LexicalFixity
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">LexicalFixity
</span><a href="#local-6989586621682740470"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-893"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated EpAnnCO (HsCmdTop GhcTc)
 -&gt; TM (GenLocated EpAnnCO (HsCmdTop GhcTc)))
-&gt; [GenLocated EpAnnCO (HsCmdTop GhcTc)]
-&gt; TM [GenLocated EpAnnCO (HsCmdTop GhcTc)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(HsCmdTop GhcTc -&gt; TM (HsCmdTop GhcTc))
-&gt; GenLocated EpAnnCO (HsCmdTop GhcTc)
-&gt; TM (GenLocated EpAnnCO (HsCmdTop GhcTc))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; GenLocated EpAnnCO a -&gt; f (GenLocated EpAnnCO b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsCmdTop GhcTc -&gt; TM (HsCmdTop GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsCmdTop"><span class="hs-identifier hs-var">addTickHsCmdTop</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LHsCmdTop GhcTc]
[GenLocated EpAnnCO (HsCmdTop GhcTc)]
</span><a href="#local-6989586621682740471"><span class="hs-identifier hs-var">cmdtop</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-894"></span><span>
</span><span id="line-895"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsCmd"><span class="hs-identifier hs-var">addTickHsCmd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XCmd"><span class="hs-identifier hs-type">XCmd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#HsWrap"><span class="hs-identifier hs-type">HsWrap</span></a></span><span> </span><span id="local-6989586621682740474"><span class="annot"><span class="annottext">HsWrapper
</span><a href="#local-6989586621682740474"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621682740475"><span class="annot"><span class="annottext">HsCmd GhcTc
</span><a href="#local-6989586621682740475"><span class="hs-identifier hs-var">cmd</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-896"></span><span>  </span><span class="annot"><span class="annottext">(HsWrap HsCmd -&gt; HsCmd GhcTc)
-&gt; TM (HsWrap HsCmd) -&gt; TM (HsCmd GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">XXCmd GhcTc -&gt; HsCmd GhcTc
HsWrap HsCmd -&gt; HsCmd GhcTc
forall id. XXCmd id -&gt; HsCmd id
</span><a href="Language.Haskell.Syntax.Expr.html#XCmd"><span class="hs-identifier hs-var">XCmd</span></a></span><span> </span><span class="annot"><span class="annottext">(TM (HsWrap HsCmd) -&gt; TM (HsCmd GhcTc))
-&gt; TM (HsWrap HsCmd) -&gt; TM (HsCmd GhcTc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-897"></span><span>  </span><span class="annot"><span class="annottext">(HsCmd GhcTc -&gt; HsWrap HsCmd)
-&gt; TM (HsCmd GhcTc) -&gt; TM (HsWrap HsCmd)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsWrapper -&gt; HsCmd GhcTc -&gt; HsWrap HsCmd
forall (hs_syn :: * -&gt; *).
HsWrapper -&gt; hs_syn GhcTc -&gt; HsWrap hs_syn
</span><a href="GHC.Hs.Expr.html#HsWrap"><span class="hs-identifier hs-var">HsWrap</span></a></span><span> </span><span class="annot"><span class="annottext">HsWrapper
</span><a href="#local-6989586621682740474"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsCmd GhcTc -&gt; TM (HsCmd GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsCmd"><span class="hs-identifier hs-var">addTickHsCmd</span></a></span><span> </span><span class="annot"><span class="annottext">HsCmd GhcTc
</span><a href="#local-6989586621682740475"><span class="hs-identifier hs-var">cmd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-898"></span><span>
</span><span id="line-899"></span><span class="hs-comment">-- Others should never happen in a command context.</span><span>
</span><span id="line-900"></span><span class="hs-comment">--addTickHsCmd e  = pprPanic &quot;addTickHsCmd&quot; (ppr e)</span><span>
</span><span id="line-901"></span><span>
</span><span id="line-902"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickCmdMatchGroup"><span class="hs-identifier hs-type">addTickCmdMatchGroup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-903"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MatchGroup"><span class="hs-identifier hs-type">MatchGroup</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-904"></span><span id="addTickCmdMatchGroup"><span class="annot"><span class="annottext">addTickCmdMatchGroup :: MatchGroup GhcTc (LHsCmd GhcTc)
-&gt; TM (MatchGroup GhcTc (LHsCmd GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickCmdMatchGroup"><span class="hs-identifier hs-var hs-var">addTickCmdMatchGroup</span></a></span></span><span> </span><span id="local-6989586621682740476"><span class="annot"><span class="annottext">mg :: MatchGroup GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740476"><span class="hs-identifier hs-var">mg</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#MG"><span class="hs-identifier hs-type">MG</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">mg_alts :: forall p body. MatchGroup p body -&gt; XRec p [LMatch p body]
</span><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682740477"><span class="annot"><span class="annottext">SrcSpanAnnLW
</span><a href="#local-6989586621682740477"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621682740478"><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))]
</span><a href="#local-6989586621682740478"><span class="hs-identifier hs-var">matches</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-905"></span><span>  </span><span id="local-6989586621682740479"><span class="annot"><a href="#local-6989586621682740479"><span class="hs-identifier hs-var">matches'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
 -&gt; TM
      (GenLocated
         SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))))
-&gt; [GenLocated
      SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))]
-&gt; TM
     [GenLocated
        SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Match GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
 -&gt; TM (Match GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))))
-&gt; GenLocated
     SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
-&gt; TM
     (GenLocated
        SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b)
-&gt; GenLocated SrcSpanAnnA a -&gt; f (GenLocated SrcSpanAnnA b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">Match GhcTc (LHsCmd GhcTc) -&gt; TM (Match GhcTc (LHsCmd GhcTc))
Match GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; TM (Match GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
</span><a href="GHC.HsToCore.Ticks.html#addTickCmdMatch"><span class="hs-identifier hs-var">addTickCmdMatch</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[GenLocated
   SrcSpanAnnA (Match GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))]
</span><a href="#local-6989586621682740478"><span class="hs-identifier hs-var">matches</span></a></span><span>
</span><span id="line-906"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682740476"><span class="hs-identifier hs-type">mg</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#mg_alts"><span class="hs-identifier hs-var">mg_alts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740477"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740479"><span class="hs-identifier hs-type">matches'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-907"></span><span>
</span><span id="line-908"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickCmdMatch"><span class="hs-identifier hs-type">addTickCmdMatch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-909"></span><span id="addTickCmdMatch"><span class="annot"><span class="annottext">addTickCmdMatch :: Match GhcTc (LHsCmd GhcTc) -&gt; TM (Match GhcTc (LHsCmd GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickCmdMatch"><span class="hs-identifier hs-var hs-var">addTickCmdMatch</span></a></span></span><span> </span><span id="local-6989586621682740481"><span class="annot"><span class="annottext">match :: Match GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740481"><span class="hs-identifier hs-var">match</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_pats :: forall p body. Match p body -&gt; XRec p [LPat p]
</span><a href="Language.Haskell.Syntax.Expr.html#m_pats"><span class="hs-identifier hs-var">m_pats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">EpaLocation
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682740482"><span class="annot"><span class="annottext">[GenLocated SrcSpanAnnA (Pat GhcTc)]
</span><a href="#local-6989586621682740482"><span class="hs-identifier hs-var">pats</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">m_grhss :: forall p body. Match p body -&gt; GRHSs p body
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682740483"><span class="annot"><span class="annottext">GRHSs GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740483"><span class="hs-identifier hs-var">gRHSs</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-910"></span><span>  </span><span class="annot"><span class="annottext">[Id]
-&gt; TM (Match GhcTc (LHsCmd GhcTc))
-&gt; TM (Match GhcTc (LHsCmd GhcTc))
forall a. [Id] -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#bindLocals"><span class="hs-identifier hs-var">bindLocals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CollectFlag GhcTc -&gt; [LPat GhcTc] -&gt; [IdP GhcTc]
forall p. CollectPass p =&gt; CollectFlag p -&gt; [LPat p] -&gt; [IdP p]
</span><a href="GHC.Hs.Utils.html#collectPatsBinders"><span class="hs-identifier hs-var">collectPatsBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcTc
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">[LPat GhcTc]
[GenLocated SrcSpanAnnA (Pat GhcTc)]
</span><a href="#local-6989586621682740482"><span class="hs-identifier hs-var">pats</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(TM (Match GhcTc (LHsCmd GhcTc))
 -&gt; TM (Match GhcTc (LHsCmd GhcTc)))
-&gt; TM (Match GhcTc (LHsCmd GhcTc))
-&gt; TM (Match GhcTc (LHsCmd GhcTc))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-911"></span><span>    </span><span id="local-6989586621682740484"><span class="annot"><a href="#local-6989586621682740484"><span class="hs-identifier hs-var">gRHSs'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GRHSs GhcTc (LHsCmd GhcTc) -&gt; TM (GRHSs GhcTc (LHsCmd GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickCmdGRHSs"><span class="hs-identifier hs-var">addTickCmdGRHSs</span></a></span><span> </span><span class="annot"><span class="annottext">GRHSs GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740483"><span class="hs-identifier hs-var">gRHSs</span></a></span><span>
</span><span id="line-912"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="#local-6989586621682740481"><span class="hs-identifier hs-type">match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740484"><span class="hs-identifier hs-type">gRHSs'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-913"></span><span>
</span><span id="line-914"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickCmdGRHSs"><span class="hs-identifier hs-type">addTickCmdGRHSs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-915"></span><span id="addTickCmdGRHSs"><span class="annot"><span class="annottext">addTickCmdGRHSs :: GRHSs GhcTc (LHsCmd GhcTc) -&gt; TM (GRHSs GhcTc (LHsCmd GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickCmdGRHSs"><span class="hs-identifier hs-var hs-var">addTickCmdGRHSs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span id="local-6989586621682740486"><span class="annot"><span class="annottext">XCGRHSs GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740486"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740487"><span class="annot"><span class="annottext">[LGRHS GhcTc (LHsCmd GhcTc)]
</span><a href="#local-6989586621682740487"><span class="hs-identifier hs-var">guarded</span></a></span></span><span> </span><span id="local-6989586621682740488"><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740488"><span class="hs-identifier hs-var">local_binds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-916"></span><span>  </span><span class="annot"><span class="annottext">[Id]
-&gt; TM (GRHSs GhcTc (LHsCmd GhcTc))
-&gt; TM (GRHSs GhcTc (LHsCmd GhcTc))
forall a. [Id] -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#bindLocals"><span class="hs-identifier hs-var">bindLocals</span></a></span><span> </span><span class="annot"><span class="annottext">[IdP GhcTc]
[Id]
</span><a href="#local-6989586621682740489"><span class="hs-identifier hs-var">binders</span></a></span><span> </span><span class="annot"><span class="annottext">(TM (GRHSs GhcTc (LHsCmd GhcTc))
 -&gt; TM (GRHSs GhcTc (LHsCmd GhcTc)))
-&gt; TM (GRHSs GhcTc (LHsCmd GhcTc))
-&gt; TM (GRHSs GhcTc (LHsCmd GhcTc))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-917"></span><span>    </span><span id="local-6989586621682740490"><span class="annot"><a href="#local-6989586621682740490"><span class="hs-identifier hs-var">local_binds'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc -&gt; TM (HsLocalBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsLocalBinds"><span class="hs-identifier hs-var">addTickHsLocalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740488"><span class="hs-identifier hs-var">local_binds</span></a></span><span>
</span><span id="line-918"></span><span>    </span><span id="local-6989586621682740491"><span class="annot"><a href="#local-6989586621682740491"><span class="hs-identifier hs-var">guarded'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">traverse</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickCmdGRHS"><span class="hs-identifier hs-type">addTickCmdGRHS</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682740487"><span class="hs-identifier hs-type">guarded</span></a></span><span>
</span><span id="line-919"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740486"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740491"><span class="hs-identifier hs-type">guarded'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740490"><span class="hs-identifier hs-type">local_binds'</span></a></span><span>
</span><span id="line-920"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-921"></span><span>    </span><span id="local-6989586621682740489"><span class="annot"><span class="annottext">binders :: [IdP GhcTc]
</span><a href="#local-6989586621682740489"><span class="hs-identifier hs-var hs-var">binders</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcTc -&gt; HsLocalBinds GhcTc -&gt; [IdP GhcTc]
forall (idL :: Pass) (idR :: Pass).
CollectPass (GhcPass idL) =&gt;
CollectFlag (GhcPass idL)
-&gt; HsLocalBindsLR (GhcPass idL) (GhcPass idR)
-&gt; [IdP (GhcPass idL)]
</span><a href="GHC.Hs.Utils.html#collectLocalBinders"><span class="hs-identifier hs-var">collectLocalBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcTc
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740488"><span class="hs-identifier hs-var">local_binds</span></a></span><span>
</span><span id="line-922"></span><span>
</span><span id="line-923"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickCmdGRHS"><span class="hs-identifier hs-type">addTickCmdGRHS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-924"></span><span class="hs-comment">-- The *guards* are *not* Cmds, although the body is</span><span>
</span><span id="line-925"></span><span class="hs-comment">-- C.f. addTickGRHS for the BinBox stuff</span><span>
</span><span id="line-926"></span><span id="addTickCmdGRHS"><span class="annot"><span class="annottext">addTickCmdGRHS :: GRHS GhcTc (LHsCmd GhcTc) -&gt; TM (GRHS GhcTc (LHsCmd GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickCmdGRHS"><span class="hs-identifier hs-var hs-var">addTickCmdGRHS</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span id="local-6989586621682740493"><span class="annot"><span class="annottext">XCGRHS GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740493"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740494"><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
</span><a href="#local-6989586621682740494"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span id="local-6989586621682740495"><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740495"><span class="hs-identifier hs-var">cmd</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-927"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682740496"><span class="annot"><a href="#local-6989586621682740496"><span class="hs-identifier hs-var">stmts'</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682740497"><span class="annot"><a href="#local-6989586621682740497"><span class="hs-identifier hs-var">expr'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (Bool -&gt; BoxLabel)
-&gt; [ExprLStmt GhcTc]
-&gt; TM (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; TM ([ExprLStmt GhcTc], GenLocated SrcSpanAnnA (HsCmd GhcTc))
forall a.
Maybe (Bool -&gt; BoxLabel)
-&gt; [ExprLStmt GhcTc] -&gt; TM a -&gt; TM ([ExprLStmt GhcTc], a)
</span><a href="GHC.HsToCore.Ticks.html#addTickLStmts%27"><span class="hs-identifier hs-var">addTickLStmts'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Bool -&gt; BoxLabel) -&gt; Maybe (Bool -&gt; BoxLabel)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">((Bool -&gt; BoxLabel) -&gt; Maybe (Bool -&gt; BoxLabel))
-&gt; (Bool -&gt; BoxLabel) -&gt; Maybe (Bool -&gt; BoxLabel)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CondBox -&gt; Bool -&gt; BoxLabel
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BinBox"><span class="hs-identifier hs-var">BinBox</span></a></span><span> </span><span class="annot"><span class="annottext">(CondBox -&gt; Bool -&gt; BoxLabel) -&gt; CondBox -&gt; Bool -&gt; BoxLabel
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CondBox
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#GuardBinBox"><span class="hs-identifier hs-var">GuardBinBox</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-928"></span><span>                                   </span><span class="annot"><span class="annottext">[ExprLStmt GhcTc]
</span><a href="#local-6989586621682740494"><span class="hs-identifier hs-var">stmts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsCmd GhcTc -&gt; TM (LHsCmd GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsCmd"><span class="hs-identifier hs-var">addTickLHsCmd</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740495"><span class="hs-identifier hs-var">cmd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-929"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHS"><span class="hs-identifier hs-type">GRHS</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740493"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740496"><span class="hs-identifier hs-type">stmts'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740497"><span class="hs-identifier hs-type">expr'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-930"></span><span>
</span><span id="line-931"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLCmdStmts"><span class="hs-identifier hs-type">addTickLCmdStmts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-932"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-933"></span><span id="addTickLCmdStmts"><span class="annot"><span class="annottext">addTickLCmdStmts :: [CmdLStmt GhcTc] -&gt; TM [CmdLStmt GhcTc]
</span><a href="GHC.HsToCore.Ticks.html#addTickLCmdStmts"><span class="hs-identifier hs-var hs-var">addTickLCmdStmts</span></a></span></span><span> </span><span id="local-6989586621682740500"><span class="annot"><span class="annottext">[CmdLStmt GhcTc]
</span><a href="#local-6989586621682740500"><span class="hs-identifier hs-var">stmts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-934"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621682740501"><span class="annot"><a href="#local-6989586621682740501"><span class="hs-identifier hs-var">stmts</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[CmdLStmt GhcTc] -&gt; TM () -&gt; TM ([CmdLStmt GhcTc], ())
forall a. [CmdLStmt GhcTc] -&gt; TM a -&gt; TM ([CmdLStmt GhcTc], a)
</span><a href="GHC.HsToCore.Ticks.html#addTickLCmdStmts%27"><span class="hs-identifier hs-var">addTickLCmdStmts'</span></a></span><span> </span><span class="annot"><span class="annottext">[CmdLStmt GhcTc]
</span><a href="#local-6989586621682740500"><span class="hs-identifier hs-var">stmts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; TM ()
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-935"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621682740501"><span class="hs-identifier hs-type">stmts</span></a></span><span>
</span><span id="line-936"></span><span>
</span><span id="line-937"></span><span id="local-6989586621682739148"><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickLCmdStmts%27"><span class="hs-identifier hs-type">addTickLCmdStmts'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739148"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-938"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LStmt"><span class="hs-identifier hs-type">LStmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682739148"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-939"></span><span id="addTickLCmdStmts%27"><span class="annot"><span class="annottext">addTickLCmdStmts' :: forall a. [CmdLStmt GhcTc] -&gt; TM a -&gt; TM ([CmdLStmt GhcTc], a)
</span><a href="GHC.HsToCore.Ticks.html#addTickLCmdStmts%27"><span class="hs-identifier hs-var hs-var">addTickLCmdStmts'</span></a></span></span><span> </span><span id="local-6989586621682740512"><span class="annot"><span class="annottext">[CmdLStmt GhcTc]
</span><a href="#local-6989586621682740512"><span class="hs-identifier hs-var">lstmts</span></a></span></span><span> </span><span id="local-6989586621682740513"><span class="annot"><span class="annottext">TM a
</span><a href="#local-6989586621682740513"><span class="hs-identifier hs-var">res</span></a></span></span><span>
</span><span id="line-940"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Id] -&gt; TM ([CmdLStmt GhcTc], a) -&gt; TM ([CmdLStmt GhcTc], a)
forall a. [Id] -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#bindLocals"><span class="hs-identifier hs-var">bindLocals</span></a></span><span> </span><span class="annot"><span class="annottext">[IdP GhcTc]
[Id]
</span><a href="#local-6989586621682740514"><span class="hs-identifier hs-var">binders</span></a></span><span> </span><span class="annot"><span class="annottext">(TM ([CmdLStmt GhcTc], a) -&gt; TM ([CmdLStmt GhcTc], a))
-&gt; TM ([CmdLStmt GhcTc], a) -&gt; TM ([CmdLStmt GhcTc], a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-941"></span><span>        </span><span id="local-6989586621682740515"><span class="annot"><a href="#local-6989586621682740515"><span class="hs-identifier hs-var">lstmts'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
 -&gt; TM
      (GenLocated
         SrcSpanAnnA (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))))
-&gt; [GenLocated
      SrcSpanAnnA (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))]
-&gt; TM
     [GenLocated
        SrcSpanAnnA (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
 -&gt; TM (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))))
-&gt; GenLocated
     SrcSpanAnnA (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
-&gt; TM
     (GenLocated
        SrcSpanAnnA (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b)
-&gt; GenLocated SrcSpanAnnA a -&gt; f (GenLocated SrcSpanAnnA b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">Stmt GhcTc (LHsCmd GhcTc) -&gt; TM (Stmt GhcTc (LHsCmd GhcTc))
Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; TM (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
</span><a href="GHC.HsToCore.Ticks.html#addTickCmdStmt"><span class="hs-identifier hs-var">addTickCmdStmt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CmdLStmt GhcTc]
[GenLocated
   SrcSpanAnnA (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))]
</span><a href="#local-6989586621682740512"><span class="hs-identifier hs-var">lstmts</span></a></span><span>
</span><span id="line-942"></span><span>        </span><span id="local-6989586621682740517"><span class="annot"><a href="#local-6989586621682740517"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682740513"><span class="hs-identifier hs-type">res</span></a></span><span>
</span><span id="line-943"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682740515"><span class="hs-identifier hs-type">lstmts'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682740517"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-944"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-945"></span><span>        </span><span id="local-6989586621682740514"><span class="annot"><span class="annottext">binders :: [IdP GhcTc]
</span><a href="#local-6989586621682740514"><span class="hs-identifier hs-var hs-var">binders</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcTc
-&gt; [LStmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))]
-&gt; [IdP GhcTc]
forall (idL :: Pass) (idR :: Pass) body.
(IsPass idL, IsPass idR, CollectPass (GhcPass idL)) =&gt;
CollectFlag (GhcPass idL)
-&gt; [LStmtLR (GhcPass idL) (GhcPass idR) body]
-&gt; [IdP (GhcPass idL)]
</span><a href="GHC.Hs.Utils.html#collectLStmtsBinders"><span class="hs-identifier hs-var">collectLStmtsBinders</span></a></span><span> </span><span class="annot"><span class="annottext">CollectFlag GhcTc
forall p. CollectFlag p
</span><a href="GHC.Hs.Utils.html#CollNoDictBinders"><span class="hs-identifier hs-var">CollNoDictBinders</span></a></span><span> </span><span class="annot"><span class="annottext">[CmdLStmt GhcTc]
[LStmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))]
</span><a href="#local-6989586621682740512"><span class="hs-identifier hs-var">lstmts</span></a></span><span>
</span><span id="line-946"></span><span>
</span><span id="line-947"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickCmdStmt"><span class="hs-identifier hs-type">addTickCmdStmt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Stmt"><span class="hs-identifier hs-type">Stmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Stmt"><span class="hs-identifier hs-type">Stmt</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsCmd"><span class="hs-identifier hs-type">LHsCmd</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-948"></span><span id="addTickCmdStmt"><span class="annot"><span class="annottext">addTickCmdStmt :: Stmt GhcTc (LHsCmd GhcTc) -&gt; TM (Stmt GhcTc (LHsCmd GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickCmdStmt"><span class="hs-identifier hs-var hs-var">addTickCmdStmt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#BindStmt"><span class="hs-identifier hs-type">BindStmt</span></a></span><span> </span><span id="local-6989586621682740518"><span class="annot"><span class="annottext">XBindStmt GhcTc GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740518"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740519"><span class="annot"><span class="annottext">LPat GhcTc
</span><a href="#local-6989586621682740519"><span class="hs-identifier hs-var">pat</span></a></span></span><span> </span><span id="local-6989586621682740520"><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740520"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-949"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (Pat GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsCmd GhcTc)
 -&gt; Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
-&gt; TM (GenLocated SrcSpanAnnA (Pat GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; TM (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XBindStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; LPat GhcTc
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcTc)
-&gt; Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
forall idL idR body.
XBindStmt idL idR body -&gt; LPat idL -&gt; body -&gt; StmtLR idL idR body
</span><a href="Language.Haskell.Syntax.Expr.html#BindStmt"><span class="hs-identifier hs-var">BindStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XBindStmt GhcTc GhcTc (LHsCmd GhcTc)
XBindStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
</span><a href="#local-6989586621682740518"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-950"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LPat GhcTc -&gt; TM (LPat GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLPat"><span class="hs-identifier hs-var">addTickLPat</span></a></span><span> </span><span class="annot"><span class="annottext">LPat GhcTc
</span><a href="#local-6989586621682740519"><span class="hs-identifier hs-var">pat</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-951"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsCmd GhcTc -&gt; TM (LHsCmd GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsCmd"><span class="hs-identifier hs-var">addTickLHsCmd</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740520"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-952"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickCmdStmt"><span class="hs-identifier hs-var">addTickCmdStmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LastStmt"><span class="hs-identifier hs-type">LastStmt</span></a></span><span> </span><span id="local-6989586621682740521"><span class="annot"><span class="annottext">XLastStmt GhcTc GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740521"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740522"><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740522"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621682740523"><span class="annot"><span class="annottext">Maybe Bool
</span><a href="#local-6989586621682740523"><span class="hs-identifier hs-var">noret</span></a></span></span><span> </span><span id="local-6989586621682740524"><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740524"><span class="hs-identifier hs-var">ret</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-953"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcTc)
 -&gt; Maybe Bool
 -&gt; SyntaxExprTc
 -&gt; Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
-&gt; TM (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; TM (Maybe Bool)
-&gt; TM SyntaxExprTc
-&gt; TM (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
forall (m :: * -&gt; *) a1 a2 a3 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m r
</span><span class="hs-identifier hs-var">liftM3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLastStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcTc)
-&gt; Maybe Bool
-&gt; SyntaxExpr GhcTc
-&gt; Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
forall idL idR body.
XLastStmt idL idR body
-&gt; body -&gt; Maybe Bool -&gt; SyntaxExpr idR -&gt; StmtLR idL idR body
</span><a href="Language.Haskell.Syntax.Expr.html#LastStmt"><span class="hs-identifier hs-var">LastStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XLastStmt GhcTc GhcTc (LHsCmd GhcTc)
XLastStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
</span><a href="#local-6989586621682740521"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-954"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsCmd GhcTc -&gt; TM (LHsCmd GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsCmd"><span class="hs-identifier hs-var">addTickLHsCmd</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740522"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-955"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Bool -&gt; TM (Maybe Bool)
forall a. a -&gt; TM a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Maybe Bool
</span><a href="#local-6989586621682740523"><span class="hs-identifier hs-var">noret</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-956"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740524"><span class="hs-identifier hs-var">ret</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-957"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickCmdStmt"><span class="hs-identifier hs-var">addTickCmdStmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#BodyStmt"><span class="hs-identifier hs-type">BodyStmt</span></a></span><span> </span><span id="local-6989586621682740525"><span class="annot"><span class="annottext">XBodyStmt GhcTc GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740525"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740526"><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740526"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621682740527"><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740527"><span class="hs-identifier hs-var">bind'</span></a></span></span><span> </span><span id="local-6989586621682740528"><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740528"><span class="hs-identifier hs-var">guard'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-958"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsCmd GhcTc)
 -&gt; SyntaxExprTc
 -&gt; SyntaxExprTc
 -&gt; Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
-&gt; TM (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; TM SyntaxExprTc
-&gt; TM SyntaxExprTc
-&gt; TM (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
forall (m :: * -&gt; *) a1 a2 a3 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m r
</span><span class="hs-identifier hs-var">liftM3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XBodyStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; GenLocated SrcSpanAnnA (HsCmd GhcTc)
-&gt; SyntaxExpr GhcTc
-&gt; SyntaxExpr GhcTc
-&gt; Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
forall idL idR body.
XBodyStmt idL idR body
-&gt; body -&gt; SyntaxExpr idR -&gt; SyntaxExpr idR -&gt; StmtLR idL idR body
</span><a href="Language.Haskell.Syntax.Expr.html#BodyStmt"><span class="hs-identifier hs-var">BodyStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XBodyStmt GhcTc GhcTc (LHsCmd GhcTc)
XBodyStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
</span><a href="#local-6989586621682740525"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-959"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsCmd GhcTc -&gt; TM (LHsCmd GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsCmd"><span class="hs-identifier hs-var">addTickLHsCmd</span></a></span><span> </span><span class="annot"><span class="annottext">LHsCmd GhcTc
</span><a href="#local-6989586621682740526"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-960"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740527"><span class="hs-identifier hs-var">bind'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-961"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SyntaxExpr GhcTc -&gt; TM (SyntaxExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-var">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var">hpcSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SyntaxExpr GhcTc
</span><a href="#local-6989586621682740528"><span class="hs-identifier hs-var">guard'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-962"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickCmdStmt"><span class="hs-identifier hs-var">addTickCmdStmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LetStmt"><span class="hs-identifier hs-type">LetStmt</span></a></span><span> </span><span id="local-6989586621682740529"><span class="annot"><span class="annottext">XLetStmt GhcTc GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740529"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740530"><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740530"><span class="hs-identifier hs-var">binds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-963"></span><span>        </span><span class="annot"><span class="annottext">(HsLocalBinds GhcTc
 -&gt; Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
-&gt; TM (HsLocalBinds GhcTc)
-&gt; TM (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XLetStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; HsLocalBinds GhcTc
-&gt; Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
forall idL idR body.
XLetStmt idL idR body
-&gt; HsLocalBindsLR idL idR -&gt; StmtLR idL idR body
</span><a href="Language.Haskell.Syntax.Expr.html#LetStmt"><span class="hs-identifier hs-var">LetStmt</span></a></span><span> </span><span class="annot"><span class="annottext">XLetStmt GhcTc GhcTc (LHsCmd GhcTc)
XLetStmt GhcTc GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
</span><a href="#local-6989586621682740529"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-964"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HsLocalBinds GhcTc -&gt; TM (HsLocalBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsLocalBinds"><span class="hs-identifier hs-var">addTickHsLocalBinds</span></a></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><a href="#local-6989586621682740530"><span class="hs-identifier hs-var">binds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-965"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickCmdStmt"><span class="hs-identifier hs-var">addTickCmdStmt</span></a></span><span> </span><span id="local-6989586621682740531"><span class="annot"><span class="annottext">stmt :: Stmt GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740531"><span class="hs-identifier hs-var">stmt</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#RecStmt"><span class="hs-identifier hs-type">RecStmt</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-966"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682740532"><span class="annot"><a href="#local-6989586621682740532"><span class="hs-identifier hs-var">stmts'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[CmdLStmt GhcTc] -&gt; TM [CmdLStmt GhcTc]
</span><a href="GHC.HsToCore.Ticks.html#addTickLCmdStmts"><span class="hs-identifier hs-var">addTickLCmdStmts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenLocated SrcSpanAnnLW [CmdLStmt GhcTc] -&gt; [CmdLStmt GhcTc]
forall l e. GenLocated l e -&gt; e
</span><a href="GHC.Types.SrcLoc.html#unLoc"><span class="hs-identifier hs-var">unLoc</span></a></span><span> </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnLW [CmdLStmt GhcTc] -&gt; [CmdLStmt GhcTc])
-&gt; GenLocated SrcSpanAnnLW [CmdLStmt GhcTc] -&gt; [CmdLStmt GhcTc]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
-&gt; XRec
     GhcTc [LStmtLR GhcTc GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))]
forall idL idR body.
StmtLR idL idR body -&gt; XRec idR [LStmtLR idL idR body]
</span><a href="Language.Haskell.Syntax.Expr.html#recS_stmts"><span class="hs-identifier hs-var">recS_stmts</span></a></span><span> </span><span class="annot"><span class="annottext">Stmt GhcTc (LHsCmd GhcTc)
Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
</span><a href="#local-6989586621682740531"><span class="hs-identifier hs-var">stmt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-967"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682740533"><span class="annot"><a href="#local-6989586621682740533"><span class="hs-identifier hs-var">ret'</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-type">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-type">hpcSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_ret_fn"><span class="hs-identifier hs-var">recS_ret_fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740531"><span class="hs-identifier hs-type">stmt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-968"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682740534"><span class="annot"><a href="#local-6989586621682740534"><span class="hs-identifier hs-var">mfix'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-type">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-type">hpcSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_mfix_fn"><span class="hs-identifier hs-var">recS_mfix_fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740531"><span class="hs-identifier hs-type">stmt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-969"></span><span>       </span><span class="hs-special">;</span><span> </span><span id="local-6989586621682740535"><span class="annot"><a href="#local-6989586621682740535"><span class="hs-identifier hs-var">bind'</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickSyntaxExpr"><span class="hs-identifier hs-type">addTickSyntaxExpr</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-type">hpcSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_bind_fn"><span class="hs-identifier hs-var">recS_bind_fn</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740531"><span class="hs-identifier hs-type">stmt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-970"></span><span>       </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682740531"><span class="hs-identifier hs-type">stmt</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_stmts"><span class="hs-identifier hs-var">recS_stmts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Parser.Annotation.html#noLocA"><span class="hs-identifier hs-type">noLocA</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740532"><span class="hs-identifier hs-type">stmts'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_ret_fn"><span class="hs-identifier hs-var">recS_ret_fn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740533"><span class="hs-identifier hs-type">ret'</span></a></span><span>
</span><span id="line-971"></span><span>                      </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_mfix_fn"><span class="hs-identifier hs-var">recS_mfix_fn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740534"><span class="hs-identifier hs-type">mfix'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#recS_bind_fn"><span class="hs-identifier hs-var">recS_bind_fn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740535"><span class="hs-identifier hs-type">bind'</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-972"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickCmdStmt"><span class="hs-identifier hs-var">addTickCmdStmt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XStmtLR"><span class="hs-identifier hs-type">XStmtLR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Hs.Expr.html#ApplicativeStmt"><span class="hs-identifier hs-type">ApplicativeStmt</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-973"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; TM (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ToDo: addTickCmdStmt ApplicativeLastStmt&quot;</span></span><span>
</span><span id="line-974"></span><span>
</span><span id="line-975"></span><span class="hs-comment">-- Others should never happen in a command context.</span><span>
</span><span id="line-976"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickCmdStmt"><span class="hs-identifier hs-var">addTickCmdStmt</span></a></span><span> </span><span id="local-6989586621682740536"><span class="annot"><span class="annottext">Stmt GhcTc (LHsCmd GhcTc)
</span><a href="#local-6989586621682740536"><span class="hs-identifier hs-var">stmt</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; SDoc -&gt; TM (Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)))
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;addTickHsCmd&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc)) -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Stmt GhcTc (LHsCmd GhcTc)
Stmt GhcTc (GenLocated SrcSpanAnnA (HsCmd GhcTc))
</span><a href="#local-6989586621682740536"><span class="hs-identifier hs-var">stmt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-977"></span><span>
</span><span id="line-978"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsRecordBinds"><span class="hs-identifier hs-type">addTickHsRecordBinds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsRecordBinds"><span class="hs-identifier hs-type">HsRecordBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsRecordBinds"><span class="hs-identifier hs-type">HsRecordBinds</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-979"></span><span id="addTickHsRecordBinds"><span class="annot"><span class="annottext">addTickHsRecordBinds :: HsRecordBinds GhcTc -&gt; TM (HsRecordBinds GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickHsRecordBinds"><span class="hs-identifier hs-var hs-var">addTickHsRecordBinds</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span id="local-6989586621682740540"><span class="annot"><span class="annottext">XHsRecFields GhcTc
</span><a href="#local-6989586621682740540"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740541"><span class="annot"><span class="annottext">[LHsRecUpdField GhcTc GhcTc]
</span><a href="#local-6989586621682740541"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span id="local-6989586621682740542"><span class="annot"><span class="annottext">Maybe (XRec GhcTc RecFieldsDotDot)
</span><a href="#local-6989586621682740542"><span class="hs-identifier hs-var">dd</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-980"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682740543"><span class="annot"><a href="#local-6989586621682740543"><span class="hs-identifier hs-var">fields'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated SrcSpanAnnA (FieldOcc GhcTc))
      (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
 -&gt; TM
      (GenLocated
         SrcSpanAnnA
         (HsFieldBind
            (GenLocated SrcSpanAnnA (FieldOcc GhcTc))
            (GenLocated SrcSpanAnnA (HsExpr GhcTc)))))
-&gt; [GenLocated
      SrcSpanAnnA
      (HsFieldBind
         (GenLocated SrcSpanAnnA (FieldOcc GhcTc))
         (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
-&gt; TM
     [GenLocated
        SrcSpanAnnA
        (HsFieldBind
           (GenLocated SrcSpanAnnA (FieldOcc GhcTc))
           (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">LHsFieldBind
  GhcTc (GenLocated SrcSpanAnnA (FieldOcc GhcTc)) (LHsExpr GhcTc)
-&gt; TM
     (LHsFieldBind
        GhcTc (GenLocated SrcSpanAnnA (FieldOcc GhcTc)) (LHsExpr GhcTc))
GenLocated
  SrcSpanAnnA
  (HsFieldBind
     (GenLocated SrcSpanAnnA (FieldOcc GhcTc))
     (GenLocated SrcSpanAnnA (HsExpr GhcTc)))
-&gt; TM
     (GenLocated
        SrcSpanAnnA
        (HsFieldBind
           (GenLocated SrcSpanAnnA (FieldOcc GhcTc))
           (GenLocated SrcSpanAnnA (HsExpr GhcTc))))
forall id.
LHsFieldBind GhcTc id (LHsExpr GhcTc)
-&gt; TM (LHsFieldBind GhcTc id (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickHsRecField"><span class="hs-identifier hs-var">addTickHsRecField</span></a></span><span> </span><span class="annot"><span class="annottext">[LHsRecUpdField GhcTc GhcTc]
[GenLocated
   SrcSpanAnnA
   (HsFieldBind
      (GenLocated SrcSpanAnnA (FieldOcc GhcTc))
      (GenLocated SrcSpanAnnA (HsExpr GhcTc)))]
</span><a href="#local-6989586621682740541"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-981"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsRecFields"><span class="hs-identifier hs-type">HsRecFields</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740540"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740543"><span class="hs-identifier hs-type">fields'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740542"><span class="hs-identifier hs-type">dd</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-982"></span><span>
</span><span id="line-983"></span><span id="local-6989586621682739000"><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickHsRecField"><span class="hs-identifier hs-type">addTickHsRecField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsFieldBind"><span class="hs-identifier hs-type">LHsFieldBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739000"><span class="hs-identifier hs-type">id</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-984"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#LHsFieldBind"><span class="hs-identifier hs-type">LHsFieldBind</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739000"><span class="hs-identifier hs-type">id</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-985"></span><span id="addTickHsRecField"><span class="annot"><span class="annottext">addTickHsRecField :: forall id.
LHsFieldBind GhcTc id (LHsExpr GhcTc)
-&gt; TM (LHsFieldBind GhcTc id (LHsExpr GhcTc))
</span><a href="GHC.HsToCore.Ticks.html#addTickHsRecField"><span class="hs-identifier hs-var hs-var">addTickHsRecField</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span id="local-6989586621682740546"><span class="annot"><span class="annottext">SrcSpanAnnA
</span><a href="#local-6989586621682740546"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsFieldBind"><span class="hs-identifier hs-type">HsFieldBind</span></a></span><span> </span><span id="local-6989586621682740548"><span class="annot"><span class="annottext">XHsFieldBind id
</span><a href="#local-6989586621682740548"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682740549"><span class="annot"><span class="annottext">id
</span><a href="#local-6989586621682740549"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span id="local-6989586621682740550"><span class="annot"><span class="annottext">GenLocated SrcSpanAnnA (HsExpr GhcTc)
</span><a href="#local-6989586621682740550"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span id="local-6989586621682740551"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740551"><span class="hs-identifier hs-var">pun</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-986"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682740552"><span class="annot"><a href="#local-6989586621682740552"><span class="hs-identifier hs-var">expr'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
GenLocated SrcSpanAnnA (HsExpr GhcTc)
</span><a href="#local-6989586621682740550"><span class="hs-identifier hs-var">expr</span></a></span><span>
</span><span id="line-987"></span><span>             </span><span class="hs-special">;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740546"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Pat.html#HsFieldBind"><span class="hs-identifier hs-type">HsFieldBind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740548"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740549"><span class="hs-identifier hs-type">id</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740552"><span class="hs-identifier hs-type">expr'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740551"><span class="hs-identifier hs-type">pun</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-988"></span><span>
</span><span id="line-989"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickArithSeqInfo"><span class="hs-identifier hs-type">addTickArithSeqInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ArithSeqInfo"><span class="hs-identifier hs-type">ArithSeqInfo</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#ArithSeqInfo"><span class="hs-identifier hs-type">ArithSeqInfo</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-990"></span><span id="addTickArithSeqInfo"><span class="annot"><span class="annottext">addTickArithSeqInfo :: ArithSeqInfo GhcTc -&gt; TM (ArithSeqInfo GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickArithSeqInfo"><span class="hs-identifier hs-var hs-var">addTickArithSeqInfo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#From"><span class="hs-identifier hs-type">From</span></a></span><span> </span><span id="local-6989586621682740554"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740554"><span class="hs-identifier hs-var">e1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-991"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; ArithSeqInfo GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (ArithSeqInfo GhcTc)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; ArithSeqInfo GhcTc
GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; ArithSeqInfo GhcTc
forall id. LHsExpr id -&gt; ArithSeqInfo id
</span><a href="Language.Haskell.Syntax.Expr.html#From"><span class="hs-identifier hs-var">From</span></a></span><span>
</span><span id="line-992"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740554"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-993"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickArithSeqInfo"><span class="hs-identifier hs-var">addTickArithSeqInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FromThen"><span class="hs-identifier hs-type">FromThen</span></a></span><span> </span><span id="local-6989586621682740556"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740556"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682740557"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740557"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-994"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; ArithSeqInfo GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (ArithSeqInfo GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; LHsExpr GhcTc -&gt; ArithSeqInfo GhcTc
GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; ArithSeqInfo GhcTc
forall id. LHsExpr id -&gt; LHsExpr id -&gt; ArithSeqInfo id
</span><a href="Language.Haskell.Syntax.Expr.html#FromThen"><span class="hs-identifier hs-var">FromThen</span></a></span><span>
</span><span id="line-995"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740556"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-996"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740557"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-997"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickArithSeqInfo"><span class="hs-identifier hs-var">addTickArithSeqInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FromTo"><span class="hs-identifier hs-type">FromTo</span></a></span><span> </span><span id="local-6989586621682740559"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740559"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682740560"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740560"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-998"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; ArithSeqInfo GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (ArithSeqInfo GhcTc)
forall (m :: * -&gt; *) a1 a2 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m r
</span><span class="hs-identifier hs-var">liftM2</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; LHsExpr GhcTc -&gt; ArithSeqInfo GhcTc
GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc) -&gt; ArithSeqInfo GhcTc
forall id. LHsExpr id -&gt; LHsExpr id -&gt; ArithSeqInfo id
</span><a href="Language.Haskell.Syntax.Expr.html#FromTo"><span class="hs-identifier hs-var">FromTo</span></a></span><span>
</span><span id="line-999"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740559"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1000"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740560"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1001"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addTickArithSeqInfo"><span class="hs-identifier hs-var">addTickArithSeqInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#FromThenTo"><span class="hs-identifier hs-type">FromThenTo</span></a></span><span> </span><span id="local-6989586621682740562"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740562"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621682740563"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740563"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span id="local-6989586621682740564"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740564"><span class="hs-identifier hs-var">e3</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1002"></span><span>        </span><span class="annot"><span class="annottext">(GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
 -&gt; ArithSeqInfo GhcTc)
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (ArithSeqInfo GhcTc)
forall (m :: * -&gt; *) a1 a2 a3 r.
Monad m =&gt;
(a1 -&gt; a2 -&gt; a3 -&gt; r) -&gt; m a1 -&gt; m a2 -&gt; m a3 -&gt; m r
</span><span class="hs-identifier hs-var">liftM3</span></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
-&gt; LHsExpr GhcTc -&gt; LHsExpr GhcTc -&gt; ArithSeqInfo GhcTc
GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
-&gt; ArithSeqInfo GhcTc
forall id.
LHsExpr id -&gt; LHsExpr id -&gt; LHsExpr id -&gt; ArithSeqInfo id
</span><a href="Language.Haskell.Syntax.Expr.html#FromThenTo"><span class="hs-identifier hs-var">FromThenTo</span></a></span><span>
</span><span id="line-1003"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740562"><span class="hs-identifier hs-var">e1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1004"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740563"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1005"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#addTickLHsExpr"><span class="hs-identifier hs-var">addTickLHsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740564"><span class="hs-identifier hs-var">e3</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1006"></span><span>
</span><span id="line-1007"></span><span class="hs-keyword">data</span><span> </span><span id="TickTransState"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickTransState"><span class="hs-identifier hs-var">TickTransState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TT"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TT"><span class="hs-identifier hs-var">TT</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="ticks"><span class="annot"><span class="annottext">TickTransState -&gt; SizedSeq Tick
</span><a href="GHC.HsToCore.Ticks.html#ticks"><span class="hs-identifier hs-var hs-var">ticks</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Data.SizedSeq.html#SizedSeq"><span class="hs-identifier hs-type">SizedSeq</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#Tick"><span class="hs-identifier hs-type">Tick</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1008"></span><span>                         </span><span class="hs-special">,</span><span> </span><span id="ccIndices"><span class="annot"><span class="annottext">TickTransState -&gt; CostCentreState
</span><a href="GHC.HsToCore.Ticks.html#ccIndices"><span class="hs-identifier hs-var hs-var">ccIndices</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="GHC.Types.CostCentre.State.html#CostCentreState"><span class="hs-identifier hs-type">CostCentreState</span></a></span><span>
</span><span id="line-1009"></span><span>                         </span><span class="hs-special">}</span><span>
</span><span id="line-1010"></span><span>
</span><span id="line-1011"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#initTTState"><span class="hs-identifier hs-type">initTTState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickTransState"><span class="hs-identifier hs-type">TickTransState</span></a></span><span>
</span><span id="line-1012"></span><span id="initTTState"><span class="annot"><span class="annottext">initTTState :: TickTransState
</span><a href="GHC.HsToCore.Ticks.html#initTTState"><span class="hs-identifier hs-var hs-var">initTTState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TT"><span class="hs-identifier hs-type">TT</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ticks :: SizedSeq Tick
</span><a href="GHC.HsToCore.Ticks.html#ticks"><span class="hs-identifier hs-var">ticks</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SizedSeq Tick
forall a. SizedSeq a
</span><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Data.SizedSeq.html#emptySS"><span class="hs-identifier hs-var">emptySS</span></a></span><span>
</span><span id="line-1013"></span><span>                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ccIndices :: CostCentreState
</span><a href="GHC.HsToCore.Ticks.html#ccIndices"><span class="hs-identifier hs-var">ccIndices</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CostCentreState
</span><a href="GHC.Types.CostCentre.State.html#newCostCentreState"><span class="hs-identifier hs-var">newCostCentreState</span></a></span><span>
</span><span id="line-1014"></span><span>                 </span><span class="hs-special">}</span><span>
</span><span id="line-1015"></span><span>
</span><span id="line-1016"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addMixEntry"><span class="hs-identifier hs-type">addMixEntry</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#Tick"><span class="hs-identifier hs-type">Tick</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-1017"></span><span id="addMixEntry"><span class="annot"><span class="annottext">addMixEntry :: Tick -&gt; TM Int
</span><a href="GHC.HsToCore.Ticks.html#addMixEntry"><span class="hs-identifier hs-var hs-var">addMixEntry</span></a></span></span><span> </span><span id="local-6989586621682740570"><span class="annot"><span class="annottext">Tick
</span><a href="#local-6989586621682740570"><span class="hs-identifier hs-var">ent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1018"></span><span>  </span><span id="local-6989586621682740571"><span class="annot"><a href="#local-6989586621682740571"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Word -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Word -&gt; Int) -&gt; (TickTransState -&gt; Word) -&gt; TickTransState -&gt; Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SizedSeq Tick -&gt; Word
forall a. SizedSeq a -&gt; Word
</span><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Data.SizedSeq.html#sizeSS"><span class="hs-identifier hs-var">sizeSS</span></a></span><span> </span><span class="annot"><span class="annottext">(SizedSeq Tick -&gt; Word)
-&gt; (TickTransState -&gt; SizedSeq Tick) -&gt; TickTransState -&gt; Word
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TickTransState -&gt; SizedSeq Tick
</span><a href="GHC.HsToCore.Ticks.html#ticks"><span class="hs-identifier hs-var">ticks</span></a></span><span> </span><span class="annot"><span class="annottext">(TickTransState -&gt; Int) -&gt; TM TickTransState -&gt; TM Int
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">TM TickTransState
</span><a href="GHC.HsToCore.Ticks.html#getState"><span class="hs-identifier hs-var">getState</span></a></span><span>
</span><span id="line-1019"></span><span>  </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#setState"><span class="hs-identifier hs-type">setState</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682740575"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740575"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1020"></span><span>    </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740575"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#ticks"><span class="hs-identifier hs-var">ticks</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Data.SizedSeq.html#addToSS"><span class="hs-identifier hs-type">addToSS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#ticks"><span class="hs-identifier hs-var">ticks</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740575"><span class="hs-identifier hs-type">st</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682740570"><span class="hs-identifier hs-type">ent</span></a></span><span>
</span><span id="line-1021"></span><span>       </span><span class="hs-special">}</span><span>
</span><span id="line-1022"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621682740571"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-1023"></span><span>
</span><span id="line-1024"></span><span class="hs-keyword">data</span><span> </span><span id="TickTransEnv"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickTransEnv"><span class="hs-identifier hs-var">TickTransEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TTE"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TTE"><span class="hs-identifier hs-var">TTE</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="fileName"><span class="annot"><span class="annottext">TickTransEnv -&gt; FastString
</span><a href="GHC.HsToCore.Ticks.html#fileName"><span class="hs-identifier hs-var hs-var">fileName</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>
</span><span id="line-1025"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="density"><span class="annot"><span class="annottext">TickTransEnv -&gt; TickDensity
</span><a href="GHC.HsToCore.Ticks.html#density"><span class="hs-identifier hs-var hs-var">density</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickDensity"><span class="hs-identifier hs-type">TickDensity</span></a></span><span>
</span><span id="line-1026"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="tte_countEntries"><span class="annot"><span class="annottext">TickTransEnv -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#tte_countEntries"><span class="hs-identifier hs-var hs-var">tte_countEntries</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1027"></span><span>                          </span><span class="hs-comment">-- ^ Whether the number of times functions are</span><span>
</span><span id="line-1028"></span><span>                          </span><span class="hs-comment">-- entered should be counted.</span><span>
</span><span id="line-1029"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="exports"><span class="annot"><span class="annottext">TickTransEnv -&gt; NameSet
</span><a href="GHC.HsToCore.Ticks.html#exports"><span class="hs-identifier hs-var hs-var">exports</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a></span><span>
</span><span id="line-1030"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="inlines"><span class="annot"><span class="annottext">TickTransEnv -&gt; VarSet
</span><a href="GHC.HsToCore.Ticks.html#inlines"><span class="hs-identifier hs-var hs-var">inlines</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html#VarSet"><span class="hs-identifier hs-type">VarSet</span></a></span><span>
</span><span id="line-1031"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="declPath"><span class="annot"><span class="annottext">TickTransEnv -&gt; [String]
</span><a href="GHC.HsToCore.Ticks.html#declPath"><span class="hs-identifier hs-var hs-var">declPath</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-1032"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="inScope"><span class="annot"><span class="annottext">TickTransEnv -&gt; VarSet
</span><a href="GHC.HsToCore.Ticks.html#inScope"><span class="hs-identifier hs-var hs-var">inScope</span></a></span></span><span>      </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html#VarSet"><span class="hs-identifier hs-type">VarSet</span></a></span><span>
</span><span id="line-1033"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="blackList"><span class="annot"><span class="annottext">TickTransEnv -&gt; Set RealSrcSpan
</span><a href="GHC.HsToCore.Ticks.html#blackList"><span class="hs-identifier hs-var hs-var">blackList</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../containers-0.7-5a8f/src/Data.Set.Internal.html#Set"><span class="hs-identifier hs-type">Set</span></a></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span>
</span><span id="line-1034"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="this_mod"><span class="annot"><span class="annottext">TickTransEnv -&gt; Module
</span><a href="GHC.HsToCore.Ticks.html#this_mod"><span class="hs-identifier hs-var hs-var">this_mod</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#Module"><span class="hs-identifier hs-type">Module</span></a></span><span>
</span><span id="line-1035"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="tickishType"><span class="annot"><span class="annottext">TickTransEnv -&gt; TickishType
</span><a href="GHC.HsToCore.Ticks.html#tickishType"><span class="hs-identifier hs-var hs-var">tickishType</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickishType"><span class="hs-identifier hs-type">TickishType</span></a></span><span>
</span><span id="line-1036"></span><span>                        </span><span class="hs-special">}</span><span>
</span><span id="line-1037"></span><span>
</span><span id="line-1038"></span><span class="hs-comment">--      deriving Show</span><span>
</span><span id="line-1039"></span><span>
</span><span id="line-1040"></span><span class="annot"><span class="hs-comment">-- | Reasons why we need ticks,</span></span><span>
</span><span id="line-1041"></span><span class="hs-keyword">data</span><span> </span><span id="TickishType"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickishType"><span class="hs-identifier hs-var">TickishType</span></a></span></span><span>
</span><span id="line-1042"></span><span>  </span><span class="annot"><span class="hs-comment">-- | For profiling</span></span><span>
</span><span id="line-1043"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="ProfNotes"><span class="annot"><a href="GHC.HsToCore.Ticks.html#ProfNotes"><span class="hs-identifier hs-var">ProfNotes</span></a></span></span><span>
</span><span id="line-1044"></span><span>  </span><span class="annot"><span class="hs-comment">-- | For Haskell Program Coverage</span></span><span>
</span><span id="line-1045"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="HpcTicks"><span class="annot"><a href="GHC.HsToCore.Ticks.html#HpcTicks"><span class="hs-identifier hs-var">HpcTicks</span></a></span></span><span>
</span><span id="line-1046"></span><span>  </span><span class="annot"><span class="hs-comment">-- | For ByteCode interpreter break points</span></span><span>
</span><span id="line-1047"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Breakpoints"><span class="annot"><a href="GHC.HsToCore.Ticks.html#Breakpoints"><span class="hs-identifier hs-var">Breakpoints</span></a></span></span><span>
</span><span id="line-1048"></span><span>  </span><span class="annot"><span class="hs-comment">-- | For source notes</span></span><span>
</span><span id="line-1049"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="SourceNotes"><span class="annot"><a href="GHC.HsToCore.Ticks.html#SourceNotes"><span class="hs-identifier hs-var">SourceNotes</span></a></span></span><span>
</span><span id="line-1050"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682740578"><span id="local-6989586621682740582"><span class="annot"><span class="annottext">TickishType -&gt; TickishType -&gt; Bool
(TickishType -&gt; TickishType -&gt; Bool)
-&gt; (TickishType -&gt; TickishType -&gt; Bool) -&gt; Eq TickishType
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: TickishType -&gt; TickishType -&gt; Bool
== :: TickishType -&gt; TickishType -&gt; Bool
$c/= :: TickishType -&gt; TickishType -&gt; Bool
/= :: TickishType -&gt; TickishType -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-1051"></span><span>
</span><span id="line-1052"></span><span class="hs-comment">-- | Tickishs that only make sense when their source code location</span><span>
</span><span id="line-1053"></span><span class="hs-comment">-- refers to the current file. This might not always be true due to</span><span>
</span><span id="line-1054"></span><span class="hs-comment">-- LINE pragmas in the code - which would confuse at least HPC.</span><span>
</span><span id="line-1055"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tickSameFileOnly"><span class="hs-identifier hs-type">tickSameFileOnly</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickishType"><span class="hs-identifier hs-type">TickishType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1056"></span><span id="tickSameFileOnly"><span class="annot"><span class="annottext">tickSameFileOnly :: TickishType -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#tickSameFileOnly"><span class="hs-identifier hs-var hs-var">tickSameFileOnly</span></a></span></span><span> </span><span class="annot"><span class="annottext">TickishType
</span><a href="GHC.HsToCore.Ticks.html#HpcTicks"><span class="hs-identifier hs-var">HpcTicks</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1057"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tickSameFileOnly"><span class="hs-identifier hs-var">tickSameFileOnly</span></a></span><span> </span><span id="local-6989586621682740586"><span class="annot"><span class="annottext">TickishType
</span><a href="#local-6989586621682740586"><span class="hs-identifier hs-var">_other</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1058"></span><span>
</span><span id="line-1059"></span><span class="hs-keyword">type</span><span> </span><span id="FreeVars"><span class="annot"><a href="GHC.HsToCore.Ticks.html#FreeVars"><span class="hs-identifier hs-var">FreeVars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>
</span><span id="line-1060"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#noFVs"><span class="hs-identifier hs-type">noFVs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span>
</span><span id="line-1061"></span><span id="noFVs"><span class="annot"><span class="annottext">noFVs :: FreeVars
</span><a href="GHC.HsToCore.Ticks.html#noFVs"><span class="hs-identifier hs-var hs-var">noFVs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FreeVars
forall a. OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#emptyOccEnv"><span class="hs-identifier hs-var">emptyOccEnv</span></a></span><span>
</span><span id="line-1062"></span><span>
</span><span id="line-1063"></span><span class="hs-comment">-- Note [freevars]</span><span>
</span><span id="line-1064"></span><span class="hs-comment">-- ~~~~~~~~~~~~~~~</span><span>
</span><span id="line-1065"></span><span class="hs-comment">--   For breakpoints we want to collect the free variables of an</span><span>
</span><span id="line-1066"></span><span class="hs-comment">--   expression for pinning on the HsTick.  We don't want to collect</span><span>
</span><span id="line-1067"></span><span class="hs-comment">--   *all* free variables though: in particular there's no point pinning</span><span>
</span><span id="line-1068"></span><span class="hs-comment">--   on free variables that are will otherwise be in scope at the GHCi</span><span>
</span><span id="line-1069"></span><span class="hs-comment">--   prompt, which means all top-level bindings.  Unfortunately detecting</span><span>
</span><span id="line-1070"></span><span class="hs-comment">--   top-level bindings isn't easy (collectHsBindsBinders on the top-level</span><span>
</span><span id="line-1071"></span><span class="hs-comment">--   bindings doesn't do it), so we keep track of a set of &quot;in-scope&quot;</span><span>
</span><span id="line-1072"></span><span class="hs-comment">--   variables in addition to the free variables, and the former is used</span><span>
</span><span id="line-1073"></span><span class="hs-comment">--   to filter additions to the latter.  This gives us complete control</span><span>
</span><span id="line-1074"></span><span class="hs-comment">--   over what free variables we track.</span><span>
</span><span id="line-1075"></span><span>
</span><span id="line-1076"></span><span class="hs-keyword">newtype</span><span> </span><span id="TM"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-var">TM</span></a></span></span><span> </span><span id="local-6989586621682738840"><span class="annot"><a href="#local-6989586621682738840"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TM"><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-var">TM</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unTM"><span class="annot"><span class="annottext">forall a.
TM a
-&gt; TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState)
</span><a href="GHC.HsToCore.Ticks.html#unTM"><span class="hs-identifier hs-var hs-var">unTM</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickTransEnv"><span class="hs-identifier hs-type">TickTransEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickTransState"><span class="hs-identifier hs-type">TickTransState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682738840"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">,</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickTransState"><span class="hs-identifier hs-type">TickTransState</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1077"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682740591"><span id="local-6989586621682740593"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; TM a -&gt; TM b)
-&gt; (forall a b. a -&gt; TM b -&gt; TM a) -&gt; Functor TM
forall a b. a -&gt; TM b -&gt; TM a
forall a b. (a -&gt; b) -&gt; TM a -&gt; TM b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; TM a -&gt; TM b
fmap :: forall a b. (a -&gt; b) -&gt; TM a -&gt; TM b
$c&lt;$ :: forall a b. a -&gt; TM b -&gt; TM a
&lt;$ :: forall a b. a -&gt; TM b -&gt; TM a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-1078"></span><span>        </span><span class="hs-comment">-- a combination of a state monad (TickTransState) and a writer</span><span>
</span><span id="line-1079"></span><span>        </span><span class="hs-comment">-- monad (FreeVars).</span><span>
</span><span id="line-1080"></span><span>
</span><span id="line-1081"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682740601"><span id="local-6989586621682740604"><span id="local-6989586621682740607"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1082"></span><span>    </span><span id="local-6989586621682740610"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; TM a
</span><span class="hs-identifier hs-var hs-var hs-var">pure</span></span></span><span> </span><span id="local-6989586621682740611"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682740611"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
forall a.
(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-var">TM</span></a></span><span> </span><span class="annot"><span class="annottext">((TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
 -&gt; TM a)
-&gt; (TickTransEnv
    -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682740612"><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740612"><span class="hs-identifier hs-var">_env</span></a></span></span><span> </span><span id="local-6989586621682740613"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740613"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682740611"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">FreeVars
</span><a href="GHC.HsToCore.Ticks.html#noFVs"><span class="hs-identifier hs-var">noFVs</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740613"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1083"></span><span>    </span><span id="local-6989586621682740615"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b. TM (a -&gt; b) -&gt; TM a -&gt; TM b
</span><span class="hs-operator hs-var hs-var hs-var">(&lt;*&gt;)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TM (a -&gt; b) -&gt; TM a -&gt; TM b
forall (m :: * -&gt; *) a b. Monad m =&gt; m (a -&gt; b) -&gt; m a -&gt; m b
</span><span class="hs-identifier hs-var">ap</span></span><span>
</span><span id="line-1084"></span><span>
</span><span id="line-1085"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621682740621"><span id="local-6989586621682740624"><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1086"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span id="local-6989586621682740627"><span class="annot"><span class="annottext">TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState)
</span><a href="#local-6989586621682740627"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682740628"><span class="annot"><span class="annottext">&gt;&gt;= :: forall a b. TM a -&gt; (a -&gt; TM b) -&gt; TM b
</span><span class="hs-operator hs-var hs-var hs-var">&gt;&gt;=</span></span></span><span> </span><span id="local-6989586621682740629"><span class="annot"><span class="annottext">a -&gt; TM b
</span><a href="#local-6989586621682740629"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TickTransEnv -&gt; TickTransState -&gt; (b, FreeVars, TickTransState))
-&gt; TM b
forall a.
(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-var">TM</span></a></span><span> </span><span class="annot"><span class="annottext">((TickTransEnv -&gt; TickTransState -&gt; (b, FreeVars, TickTransState))
 -&gt; TM b)
-&gt; (TickTransEnv
    -&gt; TickTransState -&gt; (b, FreeVars, TickTransState))
-&gt; TM b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682740630"><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740630"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682740631"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740631"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1087"></span><span>                                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState)
</span><a href="#local-6989586621682740627"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740630"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740631"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1088"></span><span>                                  </span><span class="hs-special">(</span><span id="local-6989586621682740632"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682740632"><span class="hs-identifier hs-var">r1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682740633"><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740633"><span class="hs-identifier hs-var">fv1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682740634"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740634"><span class="hs-identifier hs-var">st1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1089"></span><span>                                     </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TM b
-&gt; TickTransEnv -&gt; TickTransState -&gt; (b, FreeVars, TickTransState)
forall a.
TM a
-&gt; TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState)
</span><a href="GHC.HsToCore.Ticks.html#unTM"><span class="hs-identifier hs-var">unTM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; TM b
</span><a href="#local-6989586621682740629"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682740632"><span class="hs-identifier hs-var">r1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740630"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740634"><span class="hs-identifier hs-var">st1</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1090"></span><span>                                       </span><span class="hs-special">(</span><span id="local-6989586621682740635"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621682740635"><span class="hs-identifier hs-var">r2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682740636"><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740636"><span class="hs-identifier hs-var">fv2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682740637"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740637"><span class="hs-identifier hs-var">st2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1091"></span><span>                                          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621682740635"><span class="hs-identifier hs-var">r2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740633"><span class="hs-identifier hs-var">fv1</span></a></span><span> </span><span class="annot"><span class="annottext">FreeVars -&gt; FreeVars -&gt; FreeVars
forall a. OccEnv a -&gt; OccEnv a -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#plusOccEnv"><span class="hs-operator hs-var">`plusOccEnv`</span></a></span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740636"><span class="hs-identifier hs-var">fv2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740637"><span class="hs-identifier hs-var">st2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1092"></span><span>
</span><span id="line-1093"></span><span>
</span><span id="line-1094"></span><span class="annot"><span class="hs-comment">-- | Get the next HPC cost centre index for a given centre name</span></span><span>
</span><span id="line-1095"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#getCCIndexM"><span class="hs-identifier hs-type">getCCIndexM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.CostCentre.State.html#CostCentreIndex"><span class="hs-identifier hs-type">CostCentreIndex</span></a></span><span>
</span><span id="line-1096"></span><span id="getCCIndexM"><span class="annot"><span class="annottext">getCCIndexM :: FastString -&gt; TM CostCentreIndex
</span><a href="GHC.HsToCore.Ticks.html#getCCIndexM"><span class="hs-identifier hs-var hs-var">getCCIndexM</span></a></span></span><span> </span><span id="local-6989586621682740640"><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682740640"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TickTransEnv
 -&gt; TickTransState -&gt; (CostCentreIndex, FreeVars, TickTransState))
-&gt; TM CostCentreIndex
forall a.
(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-var">TM</span></a></span><span> </span><span class="annot"><span class="annottext">((TickTransEnv
  -&gt; TickTransState -&gt; (CostCentreIndex, FreeVars, TickTransState))
 -&gt; TM CostCentreIndex)
-&gt; (TickTransEnv
    -&gt; TickTransState -&gt; (CostCentreIndex, FreeVars, TickTransState))
-&gt; TM CostCentreIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">TickTransEnv
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682740641"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740641"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682740642"><span class="annot"><span class="annottext">CostCentreIndex
</span><a href="#local-6989586621682740642"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682740643"><span class="annot"><span class="annottext">CostCentreState
</span><a href="#local-6989586621682740643"><span class="hs-identifier hs-var">is'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; CostCentreState -&gt; (CostCentreIndex, CostCentreState)
</span><a href="GHC.Types.CostCentre.State.html#getCCIndex"><span class="hs-identifier hs-var">getCCIndex</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682740640"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">(CostCentreState -&gt; (CostCentreIndex, CostCentreState))
-&gt; CostCentreState -&gt; (CostCentreIndex, CostCentreState)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1097"></span><span>                                                 </span><span class="annot"><span class="annottext">TickTransState -&gt; CostCentreState
</span><a href="GHC.HsToCore.Ticks.html#ccIndices"><span class="hs-identifier hs-var">ccIndices</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740641"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-1098"></span><span>                              </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CostCentreIndex
</span><a href="#local-6989586621682740642"><span class="hs-identifier hs-var">idx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="GHC.HsToCore.Ticks.html#noFVs"><span class="hs-identifier hs-var">noFVs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740641"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#ccIndices"><span class="hs-identifier hs-var">ccIndices</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740643"><span class="hs-identifier hs-type">is'</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1099"></span><span>
</span><span id="line-1100"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#getState"><span class="hs-identifier hs-type">getState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickTransState"><span class="hs-identifier hs-type">TickTransState</span></a></span><span>
</span><span id="line-1101"></span><span id="getState"><span class="annot"><span class="annottext">getState :: TM TickTransState
</span><a href="GHC.HsToCore.Ticks.html#getState"><span class="hs-identifier hs-var hs-var">getState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TickTransEnv
 -&gt; TickTransState -&gt; (TickTransState, FreeVars, TickTransState))
-&gt; TM TickTransState
forall a.
(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-var">TM</span></a></span><span> </span><span class="annot"><span class="annottext">((TickTransEnv
  -&gt; TickTransState -&gt; (TickTransState, FreeVars, TickTransState))
 -&gt; TM TickTransState)
-&gt; (TickTransEnv
    -&gt; TickTransState -&gt; (TickTransState, FreeVars, TickTransState))
-&gt; TM TickTransState
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682740645"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740645"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740645"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="GHC.HsToCore.Ticks.html#noFVs"><span class="hs-identifier hs-var">noFVs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740645"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1102"></span><span>
</span><span id="line-1103"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#setState"><span class="hs-identifier hs-type">setState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickTransState"><span class="hs-identifier hs-type">TickTransState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickTransState"><span class="hs-identifier hs-type">TickTransState</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1104"></span><span id="setState"><span class="annot"><span class="annottext">setState :: (TickTransState -&gt; TickTransState) -&gt; TM ()
</span><a href="GHC.HsToCore.Ticks.html#setState"><span class="hs-identifier hs-var hs-var">setState</span></a></span></span><span> </span><span id="local-6989586621682740646"><span class="annot"><span class="annottext">TickTransState -&gt; TickTransState
</span><a href="#local-6989586621682740646"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TickTransEnv -&gt; TickTransState -&gt; ((), FreeVars, TickTransState))
-&gt; TM ()
forall a.
(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-var">TM</span></a></span><span> </span><span class="annot"><span class="annottext">((TickTransEnv -&gt; TickTransState -&gt; ((), FreeVars, TickTransState))
 -&gt; TM ())
-&gt; (TickTransEnv
    -&gt; TickTransState -&gt; ((), FreeVars, TickTransState))
-&gt; TM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682740647"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740647"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="GHC.HsToCore.Ticks.html#noFVs"><span class="hs-identifier hs-var">noFVs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TickTransState -&gt; TickTransState
</span><a href="#local-6989586621682740646"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740647"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1105"></span><span>
</span><span id="line-1106"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#getEnv"><span class="hs-identifier hs-type">getEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickTransEnv"><span class="hs-identifier hs-type">TickTransEnv</span></a></span><span>
</span><span id="line-1107"></span><span id="getEnv"><span class="annot"><span class="annottext">getEnv :: TM TickTransEnv
</span><a href="GHC.HsToCore.Ticks.html#getEnv"><span class="hs-identifier hs-var hs-var">getEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TickTransEnv
 -&gt; TickTransState -&gt; (TickTransEnv, FreeVars, TickTransState))
-&gt; TM TickTransEnv
forall a.
(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-var">TM</span></a></span><span> </span><span class="annot"><span class="annottext">((TickTransEnv
  -&gt; TickTransState -&gt; (TickTransEnv, FreeVars, TickTransState))
 -&gt; TM TickTransEnv)
-&gt; (TickTransEnv
    -&gt; TickTransState -&gt; (TickTransEnv, FreeVars, TickTransState))
-&gt; TM TickTransEnv
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682740648"><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740648"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682740649"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740649"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740648"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="GHC.HsToCore.Ticks.html#noFVs"><span class="hs-identifier hs-var">noFVs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740649"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1108"></span><span>
</span><span id="line-1109"></span><span id="local-6989586621682738873"><span class="annot"><a href="GHC.HsToCore.Ticks.html#withEnv"><span class="hs-identifier hs-type">withEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickTransEnv"><span class="hs-identifier hs-type">TickTransEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickTransEnv"><span class="hs-identifier hs-type">TickTransEnv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682738873"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682738873"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1110"></span><span id="withEnv"><span class="annot"><span class="annottext">withEnv :: forall a. (TickTransEnv -&gt; TickTransEnv) -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#withEnv"><span class="hs-identifier hs-var hs-var">withEnv</span></a></span></span><span> </span><span id="local-6989586621682740650"><span class="annot"><span class="annottext">TickTransEnv -&gt; TickTransEnv
</span><a href="#local-6989586621682740650"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span id="local-6989586621682740651"><span class="annot"><span class="annottext">TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState)
</span><a href="#local-6989586621682740651"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
forall a.
(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-var">TM</span></a></span><span> </span><span class="annot"><span class="annottext">((TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
 -&gt; TM a)
-&gt; (TickTransEnv
    -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682740652"><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740652"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682740653"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740653"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1111"></span><span>                                 </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState)
</span><a href="#local-6989586621682740651"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TickTransEnv -&gt; TickTransEnv
</span><a href="#local-6989586621682740650"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740652"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740653"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1112"></span><span>                                   </span><span class="hs-special">(</span><span id="local-6989586621682740654"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682740654"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682740655"><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740655"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682740656"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740656"><span class="hs-identifier hs-var">st'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682740654"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740655"><span class="hs-identifier hs-var">fvs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740656"><span class="hs-identifier hs-var">st'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1113"></span><span>
</span><span id="line-1114"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#getDensity"><span class="hs-identifier hs-type">getDensity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickDensity"><span class="hs-identifier hs-type">TickDensity</span></a></span><span>
</span><span id="line-1115"></span><span id="getDensity"><span class="annot"><span class="annottext">getDensity :: TM TickDensity
</span><a href="GHC.HsToCore.Ticks.html#getDensity"><span class="hs-identifier hs-var hs-var">getDensity</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TickTransEnv
 -&gt; TickTransState -&gt; (TickDensity, FreeVars, TickTransState))
-&gt; TM TickDensity
forall a.
(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-var">TM</span></a></span><span> </span><span class="annot"><span class="annottext">((TickTransEnv
  -&gt; TickTransState -&gt; (TickDensity, FreeVars, TickTransState))
 -&gt; TM TickDensity)
-&gt; (TickTransEnv
    -&gt; TickTransState -&gt; (TickDensity, FreeVars, TickTransState))
-&gt; TM TickDensity
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682740657"><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740657"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682740658"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740658"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TickTransEnv -&gt; TickDensity
</span><a href="GHC.HsToCore.Ticks.html#density"><span class="hs-identifier hs-var">density</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740657"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="GHC.HsToCore.Ticks.html#noFVs"><span class="hs-identifier hs-var">noFVs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740658"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1116"></span><span>
</span><span id="line-1117"></span><span id="local-6989586621682738933"><span class="annot"><a href="GHC.HsToCore.Ticks.html#ifDensity"><span class="hs-identifier hs-type">ifDensity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TickDensity"><span class="hs-identifier hs-type">TickDensity</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682738933"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682738933"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682738933"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1118"></span><span id="ifDensity"><span class="annot"><span class="annottext">ifDensity :: forall a. TickDensity -&gt; TM a -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#ifDensity"><span class="hs-identifier hs-var hs-var">ifDensity</span></a></span></span><span> </span><span id="local-6989586621682740661"><span class="annot"><span class="annottext">TickDensity
</span><a href="#local-6989586621682740661"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621682740662"><span class="annot"><span class="annottext">TM a
</span><a href="#local-6989586621682740662"><span class="hs-identifier hs-var">th</span></a></span></span><span> </span><span id="local-6989586621682740663"><span class="annot"><span class="annottext">TM a
</span><a href="#local-6989586621682740663"><span class="hs-identifier hs-var">el</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682740664"><span class="annot"><a href="#local-6989586621682740664"><span class="hs-identifier hs-var">d0</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM TickDensity
</span><a href="GHC.HsToCore.Ticks.html#getDensity"><span class="hs-identifier hs-var">getDensity</span></a></span><span class="hs-special">;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621682740661"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">==</span></span><span> </span><span class="annot"><a href="#local-6989586621682740664"><span class="hs-identifier hs-type">d0</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="#local-6989586621682740662"><span class="hs-identifier hs-type">th</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="#local-6989586621682740663"><span class="hs-identifier hs-type">el</span></a></span><span>
</span><span id="line-1119"></span><span>
</span><span id="line-1120"></span><span id="local-6989586621682738887"><span class="annot"><a href="GHC.HsToCore.Ticks.html#getFreeVars"><span class="hs-identifier hs-type">getFreeVars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682738887"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682738887"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-1121"></span><span id="getFreeVars"><span class="annot"><span class="annottext">getFreeVars :: forall a. TM a -&gt; TM (FreeVars, a)
</span><a href="GHC.HsToCore.Ticks.html#getFreeVars"><span class="hs-identifier hs-var hs-var">getFreeVars</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span id="local-6989586621682740665"><span class="annot"><span class="annottext">TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState)
</span><a href="#local-6989586621682740665"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1122"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TickTransEnv
 -&gt; TickTransState -&gt; ((FreeVars, a), FreeVars, TickTransState))
-&gt; TM (FreeVars, a)
forall a.
(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-var">TM</span></a></span><span> </span><span class="annot"><span class="annottext">((TickTransEnv
  -&gt; TickTransState -&gt; ((FreeVars, a), FreeVars, TickTransState))
 -&gt; TM (FreeVars, a))
-&gt; (TickTransEnv
    -&gt; TickTransState -&gt; ((FreeVars, a), FreeVars, TickTransState))
-&gt; TM (FreeVars, a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682740666"><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740666"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682740667"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740667"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState)
</span><a href="#local-6989586621682740665"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740666"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740667"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-keyword">of</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682740668"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682740668"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682740669"><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740669"><span class="hs-identifier hs-var">fv</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682740670"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740670"><span class="hs-identifier hs-var">st'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740669"><span class="hs-identifier hs-var">fv</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682740668"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740669"><span class="hs-identifier hs-var">fv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740670"><span class="hs-identifier hs-var">st'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1123"></span><span>
</span><span id="line-1124"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#freeVar"><span class="hs-identifier hs-type">freeVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1125"></span><span id="freeVar"><span class="annot"><span class="annottext">freeVar :: Id -&gt; TM ()
</span><a href="GHC.HsToCore.Ticks.html#freeVar"><span class="hs-identifier hs-var hs-var">freeVar</span></a></span></span><span> </span><span id="local-6989586621682740671"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682740671"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TickTransEnv -&gt; TickTransState -&gt; ((), FreeVars, TickTransState))
-&gt; TM ()
forall a.
(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-var">TM</span></a></span><span> </span><span class="annot"><span class="annottext">((TickTransEnv -&gt; TickTransState -&gt; ((), FreeVars, TickTransState))
 -&gt; TM ())
-&gt; (TickTransEnv
    -&gt; TickTransState -&gt; ((), FreeVars, TickTransState))
-&gt; TM ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682740672"><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740672"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682740673"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740673"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1126"></span><span>                </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682740671"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">Id -&gt; VarSet -&gt; Bool
</span><a href="GHC.Types.Var.Set.html#elemVarSet"><span class="hs-operator hs-var">`elemVarSet`</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransEnv -&gt; VarSet
</span><a href="GHC.HsToCore.Ticks.html#inScope"><span class="hs-identifier hs-var">inScope</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740672"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-1127"></span><span>                   </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">OccName -&gt; Id -&gt; FreeVars
forall a. OccName -&gt; a -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#unitOccEnv"><span class="hs-identifier hs-var">unitOccEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Name
</span><a href="GHC.Types.Id.html#idName"><span class="hs-identifier hs-var">idName</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682740671"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682740671"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740673"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1128"></span><span>                   </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="GHC.HsToCore.Ticks.html#noFVs"><span class="hs-identifier hs-var">noFVs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740673"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1129"></span><span>
</span><span id="line-1130"></span><span id="local-6989586621682738888"><span class="annot"><a href="GHC.HsToCore.Ticks.html#addPathEntry"><span class="hs-identifier hs-type">addPathEntry</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682738888"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682738888"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1131"></span><span id="addPathEntry"><span class="annot"><span class="annottext">addPathEntry :: forall a. String -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#addPathEntry"><span class="hs-identifier hs-var hs-var">addPathEntry</span></a></span></span><span> </span><span id="local-6989586621682740676"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682740676"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TickTransEnv -&gt; TickTransEnv) -&gt; TM a -&gt; TM a
forall a. (TickTransEnv -&gt; TickTransEnv) -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#withEnv"><span class="hs-identifier hs-var">withEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682740677"><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740677"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740677"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#declPath"><span class="hs-identifier hs-var">declPath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#declPath"><span class="hs-identifier hs-var">declPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740677"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682740676"><span class="hs-identifier hs-type">nm</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1132"></span><span>
</span><span id="line-1133"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#getPathEntry"><span class="hs-identifier hs-type">getPathEntry</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-1134"></span><span id="getPathEntry"><span class="annot"><span class="annottext">getPathEntry :: TM [String]
</span><a href="GHC.HsToCore.Ticks.html#getPathEntry"><span class="hs-identifier hs-var hs-var">getPathEntry</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TickTransEnv -&gt; [String]
</span><a href="GHC.HsToCore.Ticks.html#declPath"><span class="hs-identifier hs-var">declPath</span></a></span><span> </span><span class="annot"><span class="annottext">(TickTransEnv -&gt; [String]) -&gt; TM TickTransEnv -&gt; TM [String]
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-operator hs-var">`liftM`</span></span><span> </span><span class="annot"><span class="annottext">TM TickTransEnv
</span><a href="GHC.HsToCore.Ticks.html#getEnv"><span class="hs-identifier hs-var">getEnv</span></a></span><span>
</span><span id="line-1135"></span><span>
</span><span id="line-1136"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#getFileName"><span class="hs-identifier hs-type">getFileName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="GHC.Data.FastString.html#FastString"><span class="hs-identifier hs-type">FastString</span></a></span><span>
</span><span id="line-1137"></span><span id="getFileName"><span class="annot"><span class="annottext">getFileName :: TM FastString
</span><a href="GHC.HsToCore.Ticks.html#getFileName"><span class="hs-identifier hs-var hs-var">getFileName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TickTransEnv -&gt; FastString
</span><a href="GHC.HsToCore.Ticks.html#fileName"><span class="hs-identifier hs-var">fileName</span></a></span><span> </span><span class="annot"><span class="annottext">(TickTransEnv -&gt; FastString) -&gt; TM TickTransEnv -&gt; TM FastString
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-operator hs-var">`liftM`</span></span><span> </span><span class="annot"><span class="annottext">TM TickTransEnv
</span><a href="GHC.HsToCore.Ticks.html#getEnv"><span class="hs-identifier hs-var">getEnv</span></a></span><span>
</span><span id="line-1138"></span><span>
</span><span id="line-1139"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isGoodSrcSpan%27"><span class="hs-identifier hs-type">isGoodSrcSpan'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1140"></span><span id="isGoodSrcSpan%27"><span class="annot"><span class="annottext">isGoodSrcSpan' :: SrcSpan -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#isGoodSrcSpan%27"><span class="hs-identifier hs-var hs-var">isGoodSrcSpan'</span></a></span></span><span> </span><span id="local-6989586621682740679"><span class="annot"><span class="annottext">pos :: SrcSpan
</span><a href="#local-6989586621682740679"><span class="hs-identifier hs-var">pos</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcLoc
</span><a href="GHC.Types.SrcLoc.html#srcSpanStart"><span class="hs-identifier hs-var">srcSpanStart</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740679"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">SrcLoc -&gt; SrcLoc -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcLoc
</span><a href="GHC.Types.SrcLoc.html#srcSpanEnd"><span class="hs-identifier hs-var">srcSpanEnd</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740679"><span class="hs-identifier hs-var">pos</span></a></span><span>
</span><span id="line-1141"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isGoodSrcSpan%27"><span class="hs-identifier hs-var">isGoodSrcSpan'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#UnhelpfulSpan"><span class="hs-identifier hs-type">UnhelpfulSpan</span></a></span><span> </span><span class="annot"><span class="annottext">UnhelpfulSpanReason
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1142"></span><span>
</span><span id="line-1143"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isGoodTickSrcSpan"><span class="hs-identifier hs-type">isGoodTickSrcSpan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1144"></span><span id="isGoodTickSrcSpan"><span class="annot"><span class="annottext">isGoodTickSrcSpan :: SrcSpan -&gt; TM Bool
</span><a href="GHC.HsToCore.Ticks.html#isGoodTickSrcSpan"><span class="hs-identifier hs-var hs-var">isGoodTickSrcSpan</span></a></span></span><span> </span><span id="local-6989586621682740683"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740683"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1145"></span><span>  </span><span id="local-6989586621682740684"><span class="annot"><a href="#local-6989586621682740684"><span class="hs-identifier hs-var">file_name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM FastString
</span><a href="GHC.HsToCore.Ticks.html#getFileName"><span class="hs-identifier hs-var">getFileName</span></a></span><span>
</span><span id="line-1146"></span><span>  </span><span id="local-6989586621682740685"><span class="annot"><a href="#local-6989586621682740685"><span class="hs-identifier hs-var">tickish</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tickishType"><span class="hs-identifier hs-var">tickishType</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`liftM`</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#getEnv"><span class="hs-identifier hs-type">getEnv</span></a></span><span>
</span><span id="line-1147"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682740686"><span class="annot"><a href="#local-6989586621682740686"><span class="hs-identifier hs-var hs-var">need_same_file</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TickishType -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#tickSameFileOnly"><span class="hs-identifier hs-var">tickSameFileOnly</span></a></span><span> </span><span class="annot"><span class="annottext">TickishType
</span><a href="#local-6989586621682740685"><span class="hs-identifier hs-var">tickish</span></a></span><span>
</span><span id="line-1148"></span><span>      </span><span id="local-6989586621682740687"><span class="annot"><a href="#local-6989586621682740687"><span class="hs-identifier hs-var hs-var">same_file</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Maybe FastString
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682740684"><span class="hs-identifier hs-var">file_name</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe FastString -&gt; Maybe FastString -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; Maybe FastString
</span><a href="GHC.Types.SrcLoc.html#srcSpanFileName_maybe"><span class="hs-identifier hs-var">srcSpanFileName_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740683"><span class="hs-identifier hs-var">pos</span></a></span><span>
</span><span id="line-1149"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isGoodSrcSpan%27"><span class="hs-identifier hs-type">isGoodSrcSpan'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740683"><span class="hs-identifier hs-type">pos</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">not</span></span><span> </span><span class="annot"><a href="#local-6989586621682740686"><span class="hs-identifier hs-type">need_same_file</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">||</span></span><span> </span><span class="annot"><a href="#local-6989586621682740687"><span class="hs-identifier hs-type">same_file</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1150"></span><span>
</span><span id="line-1151"></span><span id="local-6989586621682739213"><span class="annot"><a href="GHC.HsToCore.Ticks.html#ifGoodTickSrcSpan"><span class="hs-identifier hs-type">ifGoodTickSrcSpan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739213"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739213"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739213"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1152"></span><span id="ifGoodTickSrcSpan"><span class="annot"><span class="annottext">ifGoodTickSrcSpan :: forall a. SrcSpan -&gt; TM a -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#ifGoodTickSrcSpan"><span class="hs-identifier hs-var hs-var">ifGoodTickSrcSpan</span></a></span></span><span> </span><span id="local-6989586621682740690"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740690"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682740691"><span class="annot"><span class="annottext">TM a
</span><a href="#local-6989586621682740691"><span class="hs-identifier hs-var">then_code</span></a></span></span><span> </span><span id="local-6989586621682740692"><span class="annot"><span class="annottext">TM a
</span><a href="#local-6989586621682740692"><span class="hs-identifier hs-var">else_code</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1153"></span><span>  </span><span id="local-6989586621682740693"><span class="annot"><a href="#local-6989586621682740693"><span class="hs-identifier hs-var">good</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; TM Bool
</span><a href="GHC.HsToCore.Ticks.html#isGoodTickSrcSpan"><span class="hs-identifier hs-var">isGoodTickSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740690"><span class="hs-identifier hs-var">pos</span></a></span><span>
</span><span id="line-1154"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621682740693"><span class="hs-identifier hs-type">good</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="#local-6989586621682740691"><span class="hs-identifier hs-type">then_code</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="#local-6989586621682740692"><span class="hs-identifier hs-type">else_code</span></a></span><span>
</span><span id="line-1155"></span><span>
</span><span id="line-1156"></span><span id="local-6989586621682738980"><span class="annot"><a href="GHC.HsToCore.Ticks.html#bindLocals"><span class="hs-identifier hs-type">bindLocals</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682738980"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682738980"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1157"></span><span id="bindLocals"><span class="annot"><span class="annottext">bindLocals :: forall a. [Id] -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#bindLocals"><span class="hs-identifier hs-var hs-var">bindLocals</span></a></span></span><span> </span><span id="local-6989586621682740694"><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621682740694"><span class="hs-identifier hs-var">new_ids</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span id="local-6989586621682740695"><span class="annot"><span class="annottext">TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState)
</span><a href="#local-6989586621682740695"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1158"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
forall a.
(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-var">TM</span></a></span><span> </span><span class="annot"><span class="annottext">((TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
 -&gt; TM a)
-&gt; (TickTransEnv
    -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682740696"><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740696"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682740697"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740697"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1159"></span><span>                 </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState)
</span><a href="#local-6989586621682740695"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740696"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#inScope"><span class="hs-identifier hs-var">inScope</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#inScope"><span class="hs-identifier hs-var">inScope</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740696"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.Set.html#extendVarSetList"><span class="hs-operator hs-type">`extendVarSetList`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740694"><span class="hs-identifier hs-type">new_ids</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740697"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1160"></span><span>                   </span><span class="hs-special">(</span><span id="local-6989586621682740698"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682740698"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682740699"><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740699"><span class="hs-identifier hs-var">fv</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682740700"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740700"><span class="hs-identifier hs-var">st'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621682740698"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740699"><span class="hs-identifier hs-var">fv</span></a></span><span> </span><span class="annot"><span class="annottext">FreeVars -&gt; [OccName] -&gt; FreeVars
forall a. OccEnv a -&gt; [OccName] -&gt; OccEnv a
</span><a href="GHC.Types.Name.Occurrence.html#delListFromOccEnv"><span class="hs-operator hs-var">`delListFromOccEnv`</span></a></span><span> </span><span class="annot"><span class="annottext">[OccName]
</span><a href="#local-6989586621682740702"><span class="hs-identifier hs-var">occs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740700"><span class="hs-identifier hs-var">st'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1161"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621682740702"><span class="annot"><span class="annottext">occs :: [OccName]
</span><a href="#local-6989586621682740702"><span class="hs-identifier hs-var hs-var">occs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Id -&gt; Name
</span><a href="GHC.Types.Id.html#idName"><span class="hs-identifier hs-var">idName</span></a></span><span> </span><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682740703"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682740703"><span class="annot"><span class="annottext">Id
</span><a href="#local-6989586621682740703"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621682740694"><span class="hs-identifier hs-var">new_ids</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-1162"></span><span>
</span><span id="line-1163"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isBlackListed"><span class="hs-identifier hs-type">isBlackListed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1164"></span><span id="isBlackListed"><span class="annot"><span class="annottext">isBlackListed :: SrcSpan -&gt; TM Bool
</span><a href="GHC.HsToCore.Ticks.html#isBlackListed"><span class="hs-identifier hs-var hs-var">isBlackListed</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span id="local-6989586621682740704"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621682740704"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TickTransEnv
 -&gt; TickTransState -&gt; (Bool, FreeVars, TickTransState))
-&gt; TM Bool
forall a.
(TickTransEnv -&gt; TickTransState -&gt; (a, FreeVars, TickTransState))
-&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-var">TM</span></a></span><span> </span><span class="annot"><span class="annottext">((TickTransEnv
  -&gt; TickTransState -&gt; (Bool, FreeVars, TickTransState))
 -&gt; TM Bool)
-&gt; (TickTransEnv
    -&gt; TickTransState -&gt; (Bool, FreeVars, TickTransState))
-&gt; TM Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682740705"><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740705"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621682740706"><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740706"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RealSrcSpan -&gt; Set RealSrcSpan -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><a href="../../containers-0.7-5a8f/src/Data.Set.Internal.html#member"><span class="hs-identifier hs-var">Set.member</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621682740704"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TickTransEnv -&gt; Set RealSrcSpan
</span><a href="GHC.HsToCore.Ticks.html#blackList"><span class="hs-identifier hs-var">blackList</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740705"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="GHC.HsToCore.Ticks.html#noFVs"><span class="hs-identifier hs-var">noFVs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TickTransState
</span><a href="#local-6989586621682740706"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1165"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#isBlackListed"><span class="hs-identifier hs-var">isBlackListed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#UnhelpfulSpan"><span class="hs-identifier hs-type">UnhelpfulSpan</span></a></span><span> </span><span class="annot"><span class="annottext">UnhelpfulSpanReason
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; TM Bool
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1166"></span><span>
</span><span id="line-1167"></span><span class="hs-comment">-- the tick application inherits the source position of its</span><span>
</span><span id="line-1168"></span><span class="hs-comment">-- expression argument to support nested box allocations</span><span>
</span><span id="line-1169"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#allocTickBox"><span class="hs-identifier hs-type">allocTickBox</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BoxLabel"><span class="hs-identifier hs-type">BoxLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1170"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1171"></span><span id="allocTickBox"><span class="annot"><span class="annottext">allocTickBox :: BoxLabel
-&gt; Bool
-&gt; Bool
-&gt; SrcSpan
-&gt; TM (HsExpr GhcTc)
-&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#allocTickBox"><span class="hs-identifier hs-var hs-var">allocTickBox</span></a></span></span><span> </span><span id="local-6989586621682740708"><span class="annot"><span class="annottext">BoxLabel
</span><a href="#local-6989586621682740708"><span class="hs-identifier hs-var">boxLabel</span></a></span></span><span> </span><span id="local-6989586621682740709"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740709"><span class="hs-identifier hs-var">countEntries</span></a></span></span><span> </span><span id="local-6989586621682740710"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740710"><span class="hs-identifier hs-var">topOnly</span></a></span></span><span> </span><span id="local-6989586621682740711"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740711"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682740712"><span class="annot"><span class="annottext">TM (HsExpr GhcTc)
</span><a href="#local-6989586621682740712"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1172"></span><span>  </span><span class="annot"><span class="annottext">SrcSpan
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
forall a. SrcSpan -&gt; TM a -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#ifGoodTickSrcSpan"><span class="hs-identifier hs-var">ifGoodTickSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740711"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span>
</span><span id="line-1173"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621682740713"><span class="annot"><a href="#local-6989586621682740713"><span class="hs-identifier hs-var">fvs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682740714"><span class="annot"><a href="#local-6989586621682740714"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM (HsExpr GhcTc) -&gt; TM (FreeVars, HsExpr GhcTc)
forall a. TM a -&gt; TM (FreeVars, a)
</span><a href="GHC.HsToCore.Ticks.html#getFreeVars"><span class="hs-identifier hs-var">getFreeVars</span></a></span><span> </span><span class="annot"><span class="annottext">TM (HsExpr GhcTc)
</span><a href="#local-6989586621682740712"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1174"></span><span>    </span><span id="local-6989586621682740715"><span class="annot"><a href="#local-6989586621682740715"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#getEnv"><span class="hs-identifier hs-type">getEnv</span></a></span><span>
</span><span id="line-1175"></span><span>    </span><span id="local-6989586621682740716"><span class="annot"><a href="#local-6989586621682740716"><span class="hs-identifier hs-var">tickish</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#mkTickish"><span class="hs-identifier hs-type">mkTickish</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740708"><span class="hs-identifier hs-type">boxLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740709"><span class="hs-identifier hs-type">countEntries</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740710"><span class="hs-identifier hs-type">topOnly</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740711"><span class="hs-identifier hs-type">pos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740713"><span class="hs-identifier hs-type">fvs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#declPath"><span class="hs-identifier hs-var">declPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740715"><span class="hs-identifier hs-type">env</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1176"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-type">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740711"><span class="hs-identifier hs-type">pos</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsTick"><span class="hs-identifier hs-type">HsTick</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740716"><span class="hs-identifier hs-type">tickish</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-type">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740711"><span class="hs-identifier hs-type">pos</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682740714"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1177"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span>
</span><span id="line-1178"></span><span>    </span><span id="local-6989586621682740718"><span class="annot"><a href="#local-6989586621682740718"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM (HsExpr GhcTc)
</span><a href="#local-6989586621682740712"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1179"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-type">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740711"><span class="hs-identifier hs-type">pos</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682740718"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1180"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-1181"></span><span>
</span><span id="line-1182"></span><span class="hs-comment">-- the tick application inherits the source position of its</span><span>
</span><span id="line-1183"></span><span class="hs-comment">-- expression argument to support nested box allocations</span><span>
</span><span id="line-1184"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#allocATickBox"><span class="hs-identifier hs-type">allocATickBox</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BoxLabel"><span class="hs-identifier hs-type">BoxLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#FreeVars"><span class="hs-identifier hs-type">FreeVars</span></a></span><span>
</span><span id="line-1185"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Types.Tickish.html#CoreTickish"><span class="hs-identifier hs-type">CoreTickish</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1186"></span><span id="allocATickBox"><span class="annot"><span class="annottext">allocATickBox :: BoxLabel
-&gt; Bool -&gt; Bool -&gt; SrcSpan -&gt; FreeVars -&gt; TM (Maybe CoreTickish)
</span><a href="GHC.HsToCore.Ticks.html#allocATickBox"><span class="hs-identifier hs-var hs-var">allocATickBox</span></a></span></span><span> </span><span id="local-6989586621682740719"><span class="annot"><span class="annottext">BoxLabel
</span><a href="#local-6989586621682740719"><span class="hs-identifier hs-var">boxLabel</span></a></span></span><span> </span><span id="local-6989586621682740720"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740720"><span class="hs-identifier hs-var">countEntries</span></a></span></span><span> </span><span id="local-6989586621682740721"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740721"><span class="hs-identifier hs-var">topOnly</span></a></span></span><span>  </span><span id="local-6989586621682740722"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740722"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682740723"><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740723"><span class="hs-identifier hs-var">fvs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1187"></span><span>  </span><span class="annot"><span class="annottext">SrcSpan
-&gt; TM (Maybe CoreTickish)
-&gt; TM (Maybe CoreTickish)
-&gt; TM (Maybe CoreTickish)
forall a. SrcSpan -&gt; TM a -&gt; TM a -&gt; TM a
</span><a href="GHC.HsToCore.Ticks.html#ifGoodTickSrcSpan"><span class="hs-identifier hs-var">ifGoodTickSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740722"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span>
</span><span id="line-1188"></span><span>    </span><span class="hs-keyword">let</span><span>
</span><span id="line-1189"></span><span>      </span><span id="local-6989586621682740724"><span class="annot"><span class="annottext">mydecl_path :: [String]
</span><a href="#local-6989586621682740724"><span class="hs-identifier hs-var hs-var hs-var">mydecl_path</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">BoxLabel
</span><a href="#local-6989586621682740719"><span class="hs-identifier hs-var">boxLabel</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1190"></span><span>                      </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#TopLevelBox"><span class="hs-identifier hs-type">TopLevelBox</span></a></span><span> </span><span id="local-6989586621682740725"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682740725"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682740725"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1191"></span><span>                      </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#LocalBox"><span class="hs-identifier hs-type">LocalBox</span></a></span><span> </span><span id="local-6989586621682740726"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682740726"><span class="hs-identifier hs-var">xs</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682740726"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1192"></span><span>                      </span><span class="annot"><span class="annottext">BoxLabel
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String]
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;allocATickBox&quot;</span></span><span>
</span><span id="line-1193"></span><span>    </span><span id="local-6989586621682740727"><span class="annot"><a href="#local-6989586621682740727"><span class="hs-identifier hs-var">tickish</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">BoxLabel
-&gt; Bool
-&gt; Bool
-&gt; SrcSpan
-&gt; FreeVars
-&gt; [String]
-&gt; TM CoreTickish
</span><a href="GHC.HsToCore.Ticks.html#mkTickish"><span class="hs-identifier hs-var">mkTickish</span></a></span><span> </span><span class="annot"><span class="annottext">BoxLabel
</span><a href="#local-6989586621682740719"><span class="hs-identifier hs-var">boxLabel</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740720"><span class="hs-identifier hs-var">countEntries</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740721"><span class="hs-identifier hs-var">topOnly</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740722"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740723"><span class="hs-identifier hs-var">fvs</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682740724"><span class="hs-identifier hs-var">mydecl_path</span></a></span><span>
</span><span id="line-1194"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621682740727"><span class="hs-identifier hs-type">tickish</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1195"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe CoreTickish -&gt; TM (Maybe CoreTickish)
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe CoreTickish
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-1196"></span><span>
</span><span id="line-1197"></span><span>
</span><span id="line-1198"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#mkTickish"><span class="hs-identifier hs-type">mkTickish</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BoxLabel"><span class="hs-identifier hs-type">BoxLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#OccEnv"><span class="hs-identifier hs-type">OccEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-1199"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Tickish.html#CoreTickish"><span class="hs-identifier hs-type">CoreTickish</span></a></span><span>
</span><span id="line-1200"></span><span id="mkTickish"><span class="annot"><span class="annottext">mkTickish :: BoxLabel
-&gt; Bool
-&gt; Bool
-&gt; SrcSpan
-&gt; FreeVars
-&gt; [String]
-&gt; TM CoreTickish
</span><a href="GHC.HsToCore.Ticks.html#mkTickish"><span class="hs-identifier hs-var hs-var">mkTickish</span></a></span></span><span> </span><span id="local-6989586621682740728"><span class="annot"><span class="annottext">BoxLabel
</span><a href="#local-6989586621682740728"><span class="hs-identifier hs-var">boxLabel</span></a></span></span><span> </span><span id="local-6989586621682740729"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740729"><span class="hs-identifier hs-var">countEntries</span></a></span></span><span> </span><span id="local-6989586621682740730"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740730"><span class="hs-identifier hs-var">topOnly</span></a></span></span><span> </span><span id="local-6989586621682740731"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740731"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682740732"><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740732"><span class="hs-identifier hs-var">fvs</span></a></span></span><span> </span><span id="local-6989586621682740733"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682740733"><span class="hs-identifier hs-var">decl_path</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1201"></span><span>
</span><span id="line-1202"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682740734"><span class="annot"><span class="annottext">ids :: [Id]
</span><a href="#local-6989586621682740734"><span class="hs-identifier hs-var hs-var hs-var">ids</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Id -&gt; Bool) -&gt; [Id] -&gt; [Id]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (Id -&gt; Bool) -&gt; Id -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Bool
</span><a href="GHC.Core.Type.html#mightBeUnliftedType"><span class="hs-identifier hs-var">mightBeUnliftedType</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Bool) -&gt; (Id -&gt; Type) -&gt; Id -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Id -&gt; Type
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Id] -&gt; [Id]) -&gt; [Id] -&gt; [Id]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FreeVars -&gt; [Id]
forall a. OccEnv a -&gt; [a]
</span><a href="GHC.Types.Name.Occurrence.html#nonDetOccEnvElts"><span class="hs-identifier hs-var">nonDetOccEnvElts</span></a></span><span> </span><span class="annot"><span class="annottext">FreeVars
</span><a href="#local-6989586621682740732"><span class="hs-identifier hs-var">fvs</span></a></span><span>
</span><span id="line-1203"></span><span>          </span><span class="hs-comment">-- unlifted types cause two problems here:</span><span>
</span><span id="line-1204"></span><span>          </span><span class="hs-comment">--   * we can't bind them  at the GHCi prompt</span><span>
</span><span id="line-1205"></span><span>          </span><span class="hs-comment">--     (bindLocalsAtBreakpoint already filters them out),</span><span>
</span><span id="line-1206"></span><span>          </span><span class="hs-comment">--   * the simplifier might try to substitute a literal for</span><span>
</span><span id="line-1207"></span><span>          </span><span class="hs-comment">--     the Id, and we can't handle that.</span><span>
</span><span id="line-1208"></span><span>
</span><span id="line-1209"></span><span>      </span><span id="local-6989586621682740738"><span class="annot"><span class="annottext">me :: Tick
</span><a href="#local-6989586621682740738"><span class="hs-identifier hs-var hs-var hs-var">me</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#Tick"><span class="hs-identifier hs-type">Tick</span></a></span><span>
</span><span id="line-1210"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tick_loc :: SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#tick_loc"><span class="hs-identifier hs-var">tick_loc</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740731"><span class="hs-identifier hs-var">pos</span></a></span><span>
</span><span id="line-1211"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tick_path :: [String]
</span><a href="GHC.HsToCore.Ticks.html#tick_path"><span class="hs-identifier hs-var">tick_path</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682740733"><span class="hs-identifier hs-var">decl_path</span></a></span><span>
</span><span id="line-1212"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tick_ids :: [OccName]
</span><a href="GHC.HsToCore.Ticks.html#tick_ids"><span class="hs-identifier hs-var">tick_ids</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Id -&gt; OccName) -&gt; [Id] -&gt; [OccName]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; OccName
</span><a href="GHC.Types.Name.html#nameOccName"><span class="hs-identifier hs-var">nameOccName</span></a></span><span class="annot"><span class="annottext">(Name -&gt; OccName) -&gt; (Id -&gt; Name) -&gt; Id -&gt; OccName
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span class="annot"><span class="annottext">Id -&gt; Name
</span><a href="GHC.Types.Id.html#idName"><span class="hs-identifier hs-var">idName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Id]
</span><a href="#local-6989586621682740734"><span class="hs-identifier hs-var">ids</span></a></span><span>
</span><span id="line-1213"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">tick_label :: BoxLabel
</span><a href="GHC.HsToCore.Ticks.html#tick_label"><span class="hs-identifier hs-var">tick_label</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BoxLabel
</span><a href="#local-6989586621682740728"><span class="hs-identifier hs-var">boxLabel</span></a></span><span>
</span><span id="line-1214"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-1215"></span><span>
</span><span id="line-1216"></span><span>      </span><span id="local-6989586621682740739"><span class="annot"><span class="annottext">cc_name :: FastString
</span><a href="#local-6989586621682740739"><span class="hs-identifier hs-var hs-var hs-var">cc_name</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740730"><span class="hs-identifier hs-var">topOnly</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; FastString) -&gt; String -&gt; FastString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall a. HasCallStack =&gt; [a] -&gt; a
</span><a href="GHC.Prelude.Basic.html#head"><span class="hs-identifier hs-var">head</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682740733"><span class="hs-identifier hs-var">decl_path</span></a></span><span>
</span><span id="line-1217"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#mkFastString"><span class="hs-identifier hs-var">mkFastString</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; FastString) -&gt; String -&gt; FastString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">intersperse</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;.&quot;</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621682740733"><span class="hs-identifier hs-var">decl_path</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1218"></span><span>
</span><span id="line-1219"></span><span>  </span><span id="local-6989586621682740742"><span class="annot"><a href="#local-6989586621682740742"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM TickTransEnv
</span><a href="GHC.HsToCore.Ticks.html#getEnv"><span class="hs-identifier hs-var">getEnv</span></a></span><span>
</span><span id="line-1220"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tickishType"><span class="hs-identifier hs-var">tickishType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740742"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1221"></span><span>    </span><span class="annot"><span class="annottext">TickishType
</span><a href="GHC.HsToCore.Ticks.html#HpcTicks"><span class="hs-identifier hs-var">HpcTicks</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Module -&gt; Int -&gt; CoreTickish
forall (pass :: TickishPass). Module -&gt; Int -&gt; GenTickish pass
</span><a href="GHC.Types.Tickish.html#HpcTick"><span class="hs-identifier hs-var">HpcTick</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TickTransEnv -&gt; Module
</span><a href="GHC.HsToCore.Ticks.html#this_mod"><span class="hs-identifier hs-var">this_mod</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740742"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; CoreTickish) -&gt; TM Int -&gt; TM CoreTickish
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Tick -&gt; TM Int
</span><a href="GHC.HsToCore.Ticks.html#addMixEntry"><span class="hs-identifier hs-var">addMixEntry</span></a></span><span> </span><span class="annot"><span class="annottext">Tick
</span><a href="#local-6989586621682740738"><span class="hs-identifier hs-var">me</span></a></span><span>
</span><span id="line-1222"></span><span>
</span><span id="line-1223"></span><span>    </span><span class="annot"><span class="annottext">TickishType
</span><a href="GHC.HsToCore.Ticks.html#ProfNotes"><span class="hs-identifier hs-var">ProfNotes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1224"></span><span>      </span><span id="local-6989586621682740744"><span class="annot"><a href="#local-6989586621682740744"><span class="hs-identifier hs-var">flavour</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CostCentreIndex -&gt; CCFlavour
</span><a href="GHC.Types.CostCentre.html#mkHpcCCFlavour"><span class="hs-identifier hs-var">mkHpcCCFlavour</span></a></span><span> </span><span class="annot"><span class="annottext">(CostCentreIndex -&gt; CCFlavour)
-&gt; TM CostCentreIndex -&gt; TM CCFlavour
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; TM CostCentreIndex
</span><a href="GHC.HsToCore.Ticks.html#getCCIndexM"><span class="hs-identifier hs-var">getCCIndexM</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682740739"><span class="hs-identifier hs-var">cc_name</span></a></span><span>
</span><span id="line-1225"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682740746"><span class="annot"><a href="#local-6989586621682740746"><span class="hs-identifier hs-var hs-var">cc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Module -&gt; SrcSpan -&gt; CCFlavour -&gt; CostCentre
</span><a href="GHC.Types.CostCentre.html#mkUserCC"><span class="hs-identifier hs-var">mkUserCC</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682740739"><span class="hs-identifier hs-var">cc_name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TickTransEnv -&gt; Module
</span><a href="GHC.HsToCore.Ticks.html#this_mod"><span class="hs-identifier hs-var">this_mod</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740742"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740731"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">CCFlavour
</span><a href="#local-6989586621682740744"><span class="hs-identifier hs-var">flavour</span></a></span><span>
</span><span id="line-1226"></span><span>          </span><span id="local-6989586621682740748"><span class="annot"><a href="#local-6989586621682740748"><span class="hs-identifier hs-var hs-var">count</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682740729"><span class="hs-identifier hs-var">countEntries</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">TickTransEnv -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#tte_countEntries"><span class="hs-identifier hs-var">tte_countEntries</span></a></span><span> </span><span class="annot"><span class="annottext">TickTransEnv
</span><a href="#local-6989586621682740742"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-1227"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.Tickish.html#ProfNote"><span class="hs-identifier hs-type">ProfNote</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740746"><span class="hs-identifier hs-type">cc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740748"><span class="hs-identifier hs-type">count</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-comment">{-scopes-}</span><span>
</span><span id="line-1228"></span><span>
</span><span id="line-1229"></span><span>    </span><span class="annot"><span class="annottext">TickishType
</span><a href="GHC.HsToCore.Ticks.html#Breakpoints"><span class="hs-identifier hs-var">Breakpoints</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1230"></span><span>      </span><span id="local-6989586621682740750"><span class="annot"><a href="#local-6989586621682740750"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Tick -&gt; TM Int
</span><a href="GHC.HsToCore.Ticks.html#addMixEntry"><span class="hs-identifier hs-var">addMixEntry</span></a></span><span> </span><span class="annot"><span class="annottext">Tick
</span><a href="#local-6989586621682740738"><span class="hs-identifier hs-var">me</span></a></span><span>
</span><span id="line-1231"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Tickish.html#Breakpoint"><span class="hs-identifier hs-type">Breakpoint</span></a></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Extension.html#noExtField"><span class="hs-identifier hs-type">noExtField</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740750"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740734"><span class="hs-identifier hs-type">ids</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#this_mod"><span class="hs-identifier hs-var">this_mod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740742"><span class="hs-identifier hs-type">env</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1232"></span><span>
</span><span id="line-1233"></span><span>    </span><span class="annot"><span class="annottext">TickishType
</span><a href="GHC.HsToCore.Ticks.html#SourceNotes"><span class="hs-identifier hs-var">SourceNotes</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#RealSrcSpan"><span class="hs-identifier hs-type">RealSrcSpan</span></a></span><span> </span><span id="local-6989586621682740753"><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621682740753"><span class="hs-identifier hs-var">pos'</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe BufSpan
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740731"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1234"></span><span>      </span><span class="annot"><span class="annottext">CoreTickish -&gt; TM CoreTickish
forall a. a -&gt; TM a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(CoreTickish -&gt; TM CoreTickish) -&gt; CoreTickish -&gt; TM CoreTickish
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan -&gt; LexicalFastString -&gt; CoreTickish
forall (pass :: TickishPass).
RealSrcSpan -&gt; LexicalFastString -&gt; GenTickish pass
</span><a href="GHC.Types.Tickish.html#SourceNote"><span class="hs-identifier hs-var">SourceNote</span></a></span><span> </span><span class="annot"><span class="annottext">RealSrcSpan
</span><a href="#local-6989586621682740753"><span class="hs-identifier hs-var">pos'</span></a></span><span> </span><span class="annot"><span class="annottext">(LexicalFastString -&gt; CoreTickish)
-&gt; LexicalFastString -&gt; CoreTickish
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; LexicalFastString
</span><a href="GHC.Data.FastString.html#LexicalFastString"><span class="hs-identifier hs-var">LexicalFastString</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682740739"><span class="hs-identifier hs-var">cc_name</span></a></span><span>
</span><span id="line-1235"></span><span>
</span><span id="line-1236"></span><span>    </span><span id="local-6989586621682740756"><span class="annot"><span class="annottext">TickishType
</span><a href="#local-6989586621682740756"><span class="hs-identifier hs-var">_otherwise</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; TM CoreTickish
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;mkTickish: bad source span!&quot;</span></span><span>
</span><span id="line-1237"></span><span>
</span><span id="line-1238"></span><span>
</span><span id="line-1239"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#allocBinTickBox"><span class="hs-identifier hs-type">allocBinTickBox</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BoxLabel"><span class="hs-identifier hs-type">BoxLabel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#HsExpr"><span class="hs-identifier hs-type">HsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1240"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1241"></span><span id="allocBinTickBox"><span class="annot"><span class="annottext">allocBinTickBox :: (Bool -&gt; BoxLabel)
-&gt; SrcSpan -&gt; TM (HsExpr GhcTc) -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#allocBinTickBox"><span class="hs-identifier hs-var hs-var">allocBinTickBox</span></a></span></span><span> </span><span id="local-6989586621682740757"><span class="annot"><span class="annottext">Bool -&gt; BoxLabel
</span><a href="#local-6989586621682740757"><span class="hs-identifier hs-var">boxLabel</span></a></span></span><span> </span><span id="local-6989586621682740758"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740758"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682740759"><span class="annot"><span class="annottext">TM (HsExpr GhcTc)
</span><a href="#local-6989586621682740759"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1242"></span><span>  </span><span id="local-6989586621682740760"><span class="annot"><a href="#local-6989586621682740760"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM TickTransEnv
</span><a href="GHC.HsToCore.Ticks.html#getEnv"><span class="hs-identifier hs-var">getEnv</span></a></span><span>
</span><span id="line-1243"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tickishType"><span class="hs-identifier hs-var">tickishType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740760"><span class="hs-identifier hs-type">env</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1244"></span><span>    </span><span class="annot"><span class="annottext">TickishType
</span><a href="GHC.HsToCore.Ticks.html#HpcTicks"><span class="hs-identifier hs-var">HpcTicks</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682740761"><span class="annot"><a href="#local-6989586621682740761"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(HsExpr GhcTc -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc))
-&gt; TM (HsExpr GhcTc) -&gt; TM (GenLocated SrcSpanAnnA (HsExpr GhcTc))
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpanAnnA
-&gt; HsExpr GhcTc -&gt; GenLocated SrcSpanAnnA (HsExpr GhcTc)
forall l e. l -&gt; e -&gt; GenLocated l e
</span><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740758"><span class="hs-identifier hs-var">pos</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">TM (HsExpr GhcTc)
</span><a href="#local-6989586621682740759"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1245"></span><span>                   </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#ifGoodTickSrcSpan"><span class="hs-identifier hs-type">ifGoodTickSrcSpan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740758"><span class="hs-identifier hs-type">pos</span></a></span><span>
</span><span id="line-1246"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#mkBinTickBoxHpc"><span class="hs-identifier hs-type">mkBinTickBoxHpc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740757"><span class="hs-identifier hs-type">boxLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740758"><span class="hs-identifier hs-type">pos</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740761"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1247"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621682740761"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1248"></span><span>    </span><span id="local-6989586621682740763"><span class="annot"><span class="annottext">TickishType
</span><a href="#local-6989586621682740763"><span class="hs-identifier hs-var">_other</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">BoxLabel
-&gt; Bool
-&gt; Bool
-&gt; SrcSpan
-&gt; TM (HsExpr GhcTc)
-&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#allocTickBox"><span class="hs-identifier hs-var">allocTickBox</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; BoxLabel
</span><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#ExpBox"><span class="hs-identifier hs-var">ExpBox</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740758"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">TM (HsExpr GhcTc)
</span><a href="#local-6989586621682740759"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1249"></span><span>
</span><span id="line-1250"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#mkBinTickBoxHpc"><span class="hs-identifier hs-type">mkBinTickBoxHpc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#BoxLabel"><span class="hs-identifier hs-type">BoxLabel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span>
</span><span id="line-1251"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#TM"><span class="hs-identifier hs-type">TM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LHsExpr"><span class="hs-identifier hs-type">LHsExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1252"></span><span id="mkBinTickBoxHpc"><span class="annot"><span class="annottext">mkBinTickBoxHpc :: (Bool -&gt; BoxLabel)
-&gt; SrcSpan -&gt; LHsExpr GhcTc -&gt; TM (LHsExpr GhcTc)
</span><a href="GHC.HsToCore.Ticks.html#mkBinTickBoxHpc"><span class="hs-identifier hs-var hs-var">mkBinTickBoxHpc</span></a></span></span><span> </span><span id="local-6989586621682740764"><span class="annot"><span class="annottext">Bool -&gt; BoxLabel
</span><a href="#local-6989586621682740764"><span class="hs-identifier hs-var">boxLabel</span></a></span></span><span> </span><span id="local-6989586621682740765"><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740765"><span class="hs-identifier hs-var">pos</span></a></span></span><span> </span><span id="local-6989586621682740766"><span class="annot"><span class="annottext">LHsExpr GhcTc
</span><a href="#local-6989586621682740766"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1253"></span><span>  </span><span id="local-6989586621682740767"><span class="annot"><a href="#local-6989586621682740767"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">TM TickTransEnv
</span><a href="GHC.HsToCore.Ticks.html#getEnv"><span class="hs-identifier hs-var">getEnv</span></a></span><span>
</span><span id="line-1254"></span><span>  </span><span id="local-6989586621682740768"><span class="annot"><a href="#local-6989586621682740768"><span class="hs-identifier hs-var">binTick</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsBinTick"><span class="hs-identifier hs-type">HsBinTick</span></a></span><span>
</span><span id="line-1255"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addMixEntry"><span class="hs-identifier hs-type">addMixEntry</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#Tick"><span class="hs-identifier hs-type">Tick</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tick_loc"><span class="hs-identifier hs-var">tick_loc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740765"><span class="hs-identifier hs-type">pos</span></a></span><span>
</span><span id="line-1256"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tick_path"><span class="hs-identifier hs-var">tick_path</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#declPath"><span class="hs-identifier hs-var">declPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740767"><span class="hs-identifier hs-type">env</span></a></span><span>
</span><span id="line-1257"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tick_ids"><span class="hs-identifier hs-var">tick_ids</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1258"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tick_label"><span class="hs-identifier hs-var">tick_label</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740764"><span class="hs-identifier hs-type">boxLabel</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>
</span><span id="line-1259"></span><span>                          </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1260"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">&lt;*&gt;</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addMixEntry"><span class="hs-identifier hs-type">addMixEntry</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#Tick"><span class="hs-identifier hs-type">Tick</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tick_loc"><span class="hs-identifier hs-var">tick_loc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740765"><span class="hs-identifier hs-type">pos</span></a></span><span>
</span><span id="line-1261"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tick_path"><span class="hs-identifier hs-var">tick_path</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#declPath"><span class="hs-identifier hs-var">declPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740767"><span class="hs-identifier hs-type">env</span></a></span><span>
</span><span id="line-1262"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tick_ids"><span class="hs-identifier hs-var">tick_ids</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1263"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tick_label"><span class="hs-identifier hs-var">tick_label</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740764"><span class="hs-identifier hs-type">boxLabel</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span>
</span><span id="line-1264"></span><span>                          </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1265"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="#local-6989586621682740766"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-1266"></span><span>  </span><span id="local-6989586621682740769"><span class="annot"><a href="#local-6989586621682740769"><span class="hs-identifier hs-var">tick</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Types.Tickish.html#HpcTick"><span class="hs-identifier hs-type">HpcTick</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#this_mod"><span class="hs-identifier hs-var">this_mod</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740767"><span class="hs-identifier hs-type">env</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1267"></span><span>    </span><span class="annot"><span class="hs-operator hs-type">&lt;$&gt;</span></span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#addMixEntry"><span class="hs-identifier hs-type">addMixEntry</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.HsToCore.Ticks.html#Tick"><span class="hs-identifier hs-type">Tick</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tick_loc"><span class="hs-identifier hs-var">tick_loc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="#local-6989586621682740765"><span class="hs-identifier hs-type">pos</span></a></span><span>
</span><span id="line-1268"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tick_path"><span class="hs-identifier hs-var">tick_path</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#declPath"><span class="hs-identifier hs-var">declPath</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740767"><span class="hs-identifier hs-type">env</span></a></span><span>
</span><span id="line-1269"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tick_ids"><span class="hs-identifier hs-var">tick_ids</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1270"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.HsToCore.Ticks.html#tick_label"><span class="hs-identifier hs-var">tick_label</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="../../hpc-0.7.0.2-4279/src/Trace.Hpc.Mix.html#ExpBox"><span class="hs-identifier hs-type">ExpBox</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span>
</span><span id="line-1271"></span><span>                          </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1272"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682740770"><span class="annot"><a href="#local-6989586621682740770"><span class="hs-identifier hs-var hs-var">pos'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SrcSpan -&gt; SrcSpanAnnA
forall e. HasAnnotation e =&gt; SrcSpan -&gt; e
</span><a href="GHC.Parser.Annotation.html#noAnnSrcSpan"><span class="hs-identifier hs-var">noAnnSrcSpan</span></a></span><span> </span><span class="annot"><span class="annottext">SrcSpan
</span><a href="#local-6989586621682740765"><span class="hs-identifier hs-var">pos</span></a></span><span>
</span><span id="line-1273"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740770"><span class="hs-identifier hs-type">pos'</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Hs.Expr.html#HsTick"><span class="hs-identifier hs-type">HsTick</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740769"><span class="hs-identifier hs-type">tick</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740770"><span class="hs-identifier hs-type">pos'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#XExpr"><span class="hs-identifier hs-type">XExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682740768"><span class="hs-identifier hs-type">binTick</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1274"></span><span>
</span><span id="line-1275"></span><span class="annot"><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-type">hpcSrcSpan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-1276"></span><span id="hpcSrcSpan"><span class="annot"><span class="annottext">hpcSrcSpan :: SrcSpan
</span><a href="GHC.HsToCore.Ticks.html#hpcSrcSpan"><span class="hs-identifier hs-var hs-var">hpcSrcSpan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; SrcSpan
</span><a href="GHC.Types.SrcLoc.html#mkGeneralSrcSpan"><span class="hs-identifier hs-var">mkGeneralSrcSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Haskell Program Coverage internals&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1277"></span><span>
</span><span id="line-1278"></span><span id="local-6989586621682739037"><span class="annot"><a href="GHC.HsToCore.Ticks.html#matchesOneOfMany"><span class="hs-identifier hs-type">matchesOneOfMany</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739037"><span class="hs-identifier hs-type">body</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-1279"></span><span id="matchesOneOfMany"><span class="annot"><span class="annottext">matchesOneOfMany :: forall body. [LMatch GhcTc body] -&gt; Bool
</span><a href="GHC.HsToCore.Ticks.html#matchesOneOfMany"><span class="hs-identifier hs-var hs-var">matchesOneOfMany</span></a></span></span><span> </span><span id="local-6989586621682740778"><span class="annot"><span class="annottext">[LMatch GhcTc body]
</span><a href="#local-6989586621682740778"><span class="hs-identifier hs-var">lmatches</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Int
forall a. Num a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Num a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">sum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(GenLocated (Anno (Match GhcTc body)) (Match GhcTc body) -&gt; Int)
-&gt; [GenLocated (Anno (Match GhcTc body)) (Match GhcTc body)]
-&gt; [Int]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">LMatch GhcTc body -&gt; Int
GenLocated (Anno (Match GhcTc body)) (Match GhcTc body) -&gt; Int
forall body. LMatch GhcTc body -&gt; Int
</span><a href="#local-6989586621682740780"><span class="hs-identifier hs-var">matchCount</span></a></span><span> </span><span class="annot"><span class="annottext">[LMatch GhcTc body]
[GenLocated (Anno (Match GhcTc body)) (Match GhcTc body)]
</span><a href="#local-6989586621682740778"><span class="hs-identifier hs-var">lmatches</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-1280"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1281"></span><span>        </span><span id="local-6989586621682739234"><span class="annot"><a href="#local-6989586621682740780"><span class="hs-identifier hs-type">matchCount</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#LMatch"><span class="hs-identifier hs-type">LMatch</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcTc"><span class="hs-identifier hs-type">GhcTc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682739234"><span class="hs-identifier hs-type">body</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span><span>
</span><span id="line-1282"></span><span>        </span><span id="local-6989586621682740780"><span class="annot"><span class="annottext">matchCount :: forall body. LMatch GhcTc body -&gt; Int
</span><a href="#local-6989586621682740780"><span class="hs-identifier hs-var hs-var">matchCount</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.SrcLoc.html#L"><span class="hs-identifier hs-type">L</span></a></span><span> </span><span class="annot"><span class="annottext">Anno (Match GhcTc body)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#Match"><span class="hs-identifier hs-type">Match</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">m_grhss :: forall p body. Match p body -&gt; GRHSs p body
</span><a href="Language.Haskell.Syntax.Expr.html#m_grhss"><span class="hs-identifier hs-var">m_grhss</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Expr.html#GRHSs"><span class="hs-identifier hs-type">GRHSs</span></a></span><span> </span><span class="annot"><span class="annottext">XCGRHSs GhcTc body
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682740783"><span class="annot"><span class="annottext">[LGRHS GhcTc body]
</span><a href="#local-6989586621682740783"><span class="hs-identifier hs-var">grhss</span></a></span></span><span> </span><span class="annot"><span class="annottext">HsLocalBinds GhcTc
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1283"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[GenLocated (Anno (GRHS GhcTc body)) (GRHS GhcTc body)] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[LGRHS GhcTc body]
[GenLocated (Anno (GRHS GhcTc body)) (GRHS GhcTc body)]
</span><a href="#local-6989586621682740783"><span class="hs-identifier hs-var">grhss</span></a></span><span>
</span><span id="line-1284"></span></pre></body></html>