<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html"><span class="hs-identifier">GHC.Tc.Types.BasicTypes</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-2"></span><span>  </span><span class="annot"><span class="hs-comment">-- * TcBinder</span></span><span>
</span><span id="line-3"></span><span>    </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcBinderStack"><span class="hs-identifier">TcBinderStack</span></a></span><span>
</span><span id="line-4"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcId"><span class="hs-identifier">TcId</span></a></span><span>
</span><span id="line-5"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcBinder"><span class="hs-identifier">TcBinder</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Signatures</span></span><span>
</span><span id="line-8"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcSigFun"><span class="hs-identifier">TcSigFun</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcSigInfo"><span class="hs-identifier">TcSigInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSig"><span class="hs-identifier">TcIdSig</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcCompleteSig"><span class="hs-identifier">TcCompleteSig</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPartialSig"><span class="hs-identifier">TcPartialSig</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPatSynSig"><span class="hs-identifier">TcPatSynSig</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSigInst"><span class="hs-identifier">TcIdSigInst</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#isPartialSig"><span class="hs-identifier">isPartialSig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#hasCompleteSig"><span class="hs-identifier">hasCompleteSig</span></a></span><span>
</span><span id="line-12"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcSigInfoName"><span class="hs-identifier">tcSigInfoName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcIdSigLoc"><span class="hs-identifier">tcIdSigLoc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#completeSigPolyId_maybe"><span class="hs-identifier">completeSigPolyId_maybe</span></a></span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span>  </span><span class="annot"><span class="hs-comment">-- * TcTyThing</span></span><span>
</span><span id="line-15"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcTyThing"><span class="hs-identifier">TcTyThing</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#IdBindingInfo"><span class="hs-identifier">IdBindingInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#IsGroupClosed"><span class="hs-identifier">IsGroupClosed</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#RhsNames"><span class="hs-identifier">RhsNames</span></a></span><span>
</span><span id="line-19"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ClosedTypeId"><span class="hs-identifier">ClosedTypeId</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcTyThingCategory"><span class="hs-identifier">tcTyThingCategory</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcTyThingTyCon_maybe"><span class="hs-identifier">tcTyThingTyCon_maybe</span></a></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#pprTcTyThingCategory"><span class="hs-identifier">pprTcTyThingCategory</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Types.Origin.html"><span class="hs-identifier">GHC.Tc.Types.Origin</span></a></span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Tc.Types.Origin.html#UserTypeCtxt"><span class="hs-identifier">UserTypeCtxt</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Utils.TcType.html"><span class="hs-identifier">GHC.Tc.Utils.TcType</span></a></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Id.html"><span class="hs-identifier">GHC.Types.Id</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Var.html"><span class="hs-identifier">GHC.Types.Var</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html"><span class="hs-identifier">GHC.Types.SrcLoc</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.html"><span class="hs-identifier">GHC.Types.Name</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html"><span class="hs-identifier">GHC.Types.TyThing</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Env.html"><span class="hs-identifier">GHC.Types.Name.Env</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html"><span class="hs-identifier">GHC.Types.Name.Set</span></a></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html"><span class="hs-identifier">GHC.Hs.Extension</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier">GhcRn</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html"><span class="hs-identifier">Language.Haskell.Syntax.Type</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigWcType"><span class="hs-identifier">LHsSigWcType</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.PromotionErr.html"><span class="hs-identifier">GHC.Tc.Errors.Types.PromotionErr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Errors.Types.PromotionErr.html#PromotionErr"><span class="hs-identifier">PromotionErr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.PromotionErr.html#peCategory"><span class="hs-identifier">peCategory</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier">TyCon</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#tyConKind"><span class="hs-identifier">tyConKind</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-comment">---------------------------</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- The TcBinderStack</span><span>
</span><span id="line-52"></span><span class="hs-comment">---------------------------</span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-keyword">type</span><span> </span><span id="TcBinderStack"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcBinderStack"><span class="hs-identifier hs-var">TcBinderStack</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcBinder"><span class="hs-identifier hs-type">TcBinder</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-55"></span><span class="hs-keyword">type</span><span> </span><span id="TcId"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcId"><span class="hs-identifier hs-var">TcId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>
</span><span id="line-56"></span><span>   </span><span class="hs-comment">-- This is a stack of locally-bound ids and tyvars,</span><span>
</span><span id="line-57"></span><span>   </span><span class="hs-comment">--   innermost on top</span><span>
</span><span id="line-58"></span><span>   </span><span class="hs-comment">-- Used only in error reporting (relevantBindings in TcError),</span><span>
</span><span id="line-59"></span><span>   </span><span class="hs-comment">--   and in tidying</span><span>
</span><span id="line-60"></span><span>   </span><span class="hs-comment">-- We can't use the tcl_env type environment, because it doesn't</span><span>
</span><span id="line-61"></span><span>   </span><span class="hs-comment">--   keep track of the nesting order</span><span>
</span><span id="line-62"></span><span>
</span><span id="line-63"></span><span class="hs-keyword">data</span><span> </span><span id="TcBinder"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcBinder"><span class="hs-identifier hs-var">TcBinder</span></a></span></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="TcIdBndr"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdBndr"><span class="hs-identifier hs-var">TcIdBndr</span></a></span></span><span>
</span><span id="line-65"></span><span>       </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcId"><span class="hs-identifier hs-type">TcId</span></a></span><span>
</span><span id="line-66"></span><span>       </span><span class="annot"><a href="GHC.Types.Basic.html#TopLevelFlag"><span class="hs-identifier hs-type">TopLevelFlag</span></a></span><span>    </span><span class="hs-comment">-- Tells whether the binding is syntactically top-level</span><span>
</span><span id="line-67"></span><span>                       </span><span class="hs-comment">-- (The monomorphic Ids for a recursive group count</span><span>
</span><span id="line-68"></span><span>                       </span><span class="hs-comment">--  as not-top-level for this purpose.)</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TcIdBndr_ExpType"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdBndr_ExpType"><span class="hs-identifier hs-var">TcIdBndr_ExpType</span></a></span></span><span>  </span><span class="hs-comment">-- Variant that allows the type to be specified as</span><span>
</span><span id="line-71"></span><span>                      </span><span class="hs-comment">-- an ExpType</span><span>
</span><span id="line-72"></span><span>       </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-73"></span><span>       </span><span class="annot"><a href="GHC.Tc.Utils.TcType.html#ExpType"><span class="hs-identifier hs-type">ExpType</span></a></span><span>
</span><span id="line-74"></span><span>       </span><span class="annot"><a href="GHC.Types.Basic.html#TopLevelFlag"><span class="hs-identifier hs-type">TopLevelFlag</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TcTvBndr"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcTvBndr"><span class="hs-identifier hs-var">TcTvBndr</span></a></span></span><span>          </span><span class="hs-comment">-- e.g.   case x of P (y::a) -&gt; blah</span><span>
</span><span id="line-77"></span><span>       </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>           </span><span class="hs-comment">-- We bind the lexical name &quot;a&quot; to the type of y,</span><span>
</span><span id="line-78"></span><span>       </span><span class="annot"><a href="GHC.Types.Var.html#TyVar"><span class="hs-identifier hs-type">TyVar</span></a></span><span>          </span><span class="hs-comment">-- which might be an utterly different (perhaps</span><span>
</span><span id="line-79"></span><span>                      </span><span class="hs-comment">-- existential) tyvar</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcBinder"><span class="hs-identifier hs-type">TcBinder</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-82"></span><span>   </span><span id="local-6989586621682721551"><span class="annot"><span class="annottext">ppr :: TcBinder -&gt; SDoc
</span><a href="#local-6989586621682721551"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdBndr"><span class="hs-identifier hs-type">TcIdBndr</span></a></span><span> </span><span id="local-6989586621682721553"><span class="annot"><span class="annottext">TcId
</span><a href="#local-6989586621682721553"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span id="local-6989586621682721554"><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="#local-6989586621682721554"><span class="hs-identifier hs-var">top_lvl</span></a></span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TcId -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TcId
</span><a href="#local-6989586621682721553"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TopLevelFlag -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="#local-6989586621682721554"><span class="hs-identifier hs-var">top_lvl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>   </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdBndr_ExpType"><span class="hs-identifier hs-type">TcIdBndr_ExpType</span></a></span><span> </span><span id="local-6989586621682721557"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721557"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="annot"><span class="annottext">ExpType
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682721558"><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="#local-6989586621682721558"><span class="hs-identifier hs-var">top_lvl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721557"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TopLevelFlag -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TopLevelFlag
</span><a href="#local-6989586621682721558"><span class="hs-identifier hs-var">top_lvl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>   </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcTvBndr"><span class="hs-identifier hs-type">TcTvBndr</span></a></span><span> </span><span id="local-6989586621682721559"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721559"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621682721560"><span class="annot"><span class="annottext">TcId
</span><a href="#local-6989586621682721560"><span class="hs-identifier hs-var">tv</span></a></span></span><span class="hs-special">)</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721559"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TcId -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TcId
</span><a href="#local-6989586621682721560"><span class="hs-identifier hs-var">tv</span></a></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#HasOccName"><span class="hs-identifier hs-type">HasOccName</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcBinder"><span class="hs-identifier hs-type">TcBinder</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-87"></span><span>    </span><span id="local-6989586621682721569"><span class="annot"><span class="annottext">occName :: TcBinder -&gt; OccName
</span><a href="#local-6989586621682721569"><span class="hs-identifier hs-var hs-var hs-var">occName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdBndr"><span class="hs-identifier hs-type">TcIdBndr</span></a></span><span> </span><span id="local-6989586621682721571"><span class="annot"><span class="annottext">TcId
</span><a href="#local-6989586621682721571"><span class="hs-identifier hs-var">id</span></a></span></span><span> </span><span class="annot"><span class="annottext">TopLevelFlag
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; OccName
forall name. HasOccName name =&gt; name -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#occName"><span class="hs-identifier hs-var">occName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TcId -&gt; Name
</span><a href="GHC.Types.Id.html#idName"><span class="hs-identifier hs-var">idName</span></a></span><span> </span><span class="annot"><span class="annottext">TcId
</span><a href="#local-6989586621682721571"><span class="hs-identifier hs-var">id</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>    </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#occName"><span class="hs-identifier hs-var">occName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdBndr_ExpType"><span class="hs-identifier hs-type">TcIdBndr_ExpType</span></a></span><span> </span><span id="local-6989586621682721573"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721573"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="annot"><span class="annottext">ExpType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">TopLevelFlag
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; OccName
forall name. HasOccName name =&gt; name -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#occName"><span class="hs-identifier hs-var">occName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721573"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-89"></span><span>    </span><span class="annot"><a href="GHC.Types.Name.Occurrence.html#occName"><span class="hs-identifier hs-var">occName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcTvBndr"><span class="hs-identifier hs-type">TcTvBndr</span></a></span><span> </span><span id="local-6989586621682721574"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721574"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="annot"><span class="annottext">TcId
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; OccName
forall name. HasOccName name =&gt; name -&gt; OccName
</span><a href="GHC.Types.Name.Occurrence.html#occName"><span class="hs-identifier hs-var">occName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721574"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="annot"><span class="hs-comment">{- *********************************************************************
*                                                                      *
                Type signatures
*                                                                      *
********************************************************************* -}</span></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span class="hs-comment">-- These data types need to be here only because</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- GHC.Tc.Solver uses them, and GHC.Tc.Solver is fairly</span><span>
</span><span id="line-99"></span><span class="hs-comment">-- low down in the module hierarchy</span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-keyword">type</span><span> </span><span id="TcSigFun"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcSigFun"><span class="hs-identifier hs-var">TcSigFun</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcSigInfo"><span class="hs-identifier hs-type">TcSigInfo</span></a></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-comment">-- TcSigInfo is simply the range of TcSigFun</span><span>
</span><span id="line-104"></span><span class="hs-keyword">data</span><span> </span><span id="TcSigInfo"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcSigInfo"><span class="hs-identifier hs-var">TcSigInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TcIdSig"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSig"><span class="hs-identifier hs-var">TcIdSig</span></a></span></span><span>     </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSig"><span class="hs-identifier hs-type">TcIdSig</span></a></span><span>
</span><span id="line-105"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span id="TcPatSynSig"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPatSynSig"><span class="hs-identifier hs-var">TcPatSynSig</span></a></span></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPatSynSig"><span class="hs-identifier hs-type">TcPatSynSig</span></a></span><span>    </span><span class="hs-comment">-- For a pattern synonym</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-comment">-- See Note [Complete and partial type signatures]</span><span>
</span><span id="line-108"></span><span class="hs-keyword">data</span><span> </span><span id="TcIdSig"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSig"><span class="hs-identifier hs-var">TcIdSig</span></a></span></span><span>  </span><span class="hs-comment">-- For an Id</span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="TcCompleteSig"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcCompleteSig"><span class="hs-identifier hs-var">TcCompleteSig</span></a></span></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcCompleteSig"><span class="hs-identifier hs-type">TcCompleteSig</span></a></span><span>
</span><span id="line-110"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="TcPartialSig"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPartialSig"><span class="hs-identifier hs-var">TcPartialSig</span></a></span></span><span>  </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPartialSig"><span class="hs-identifier hs-type">TcPartialSig</span></a></span><span>
</span><span id="line-111"></span><span>
</span><span id="line-112"></span><span class="hs-keyword">data</span><span> </span><span id="TcCompleteSig"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcCompleteSig"><span class="hs-identifier hs-var">TcCompleteSig</span></a></span></span><span>  </span><span class="hs-comment">-- A complete signature with no wildcards,</span><span>
</span><span id="line-113"></span><span>                    </span><span class="hs-comment">-- so the complete polymorphic type is known.</span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="CSig"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#CSig"><span class="hs-identifier hs-var">CSig</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="sig_bndr"><span class="annot"><span class="annottext">TcCompleteSig -&gt; TcId
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_bndr"><span class="hs-identifier hs-var hs-var">sig_bndr</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcId"><span class="hs-identifier hs-type">TcId</span></a></span><span>          </span><span class="hs-comment">-- The polymorphic Id with that type</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span>         </span><span class="hs-special">,</span><span> </span><span id="sig_ctxt"><span class="annot"><span class="annottext">TcCompleteSig -&gt; UserTypeCtxt
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_ctxt"><span class="hs-identifier hs-var hs-var">sig_ctxt</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.Origin.html#UserTypeCtxt"><span class="hs-identifier hs-type">UserTypeCtxt</span></a></span><span>  </span><span class="hs-comment">-- In the case of type-class default methods,</span><span>
</span><span id="line-117"></span><span>                                     </span><span class="hs-comment">-- the Name in the FunSigCtxt is not the same</span><span>
</span><span id="line-118"></span><span>                                     </span><span class="hs-comment">-- as the TcId; the former is 'op', while the</span><span>
</span><span id="line-119"></span><span>                                     </span><span class="hs-comment">-- latter is '$dmop' or some such</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span>         </span><span class="hs-special">,</span><span> </span><span id="sig_loc"><span class="annot"><span class="annottext">TcCompleteSig -&gt; SrcSpan
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_loc"><span class="hs-identifier hs-var hs-var">sig_loc</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>       </span><span class="hs-comment">-- Location of the type signature</span><span>
</span><span id="line-122"></span><span>         </span><span class="hs-special">}</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-keyword">data</span><span> </span><span id="TcPartialSig"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPartialSig"><span class="hs-identifier hs-var">TcPartialSig</span></a></span></span><span>  </span><span class="hs-comment">-- A partial type signature (i.e. includes one or more</span><span>
</span><span id="line-125"></span><span>                   </span><span class="hs-comment">-- wildcards). In this case it doesn't make sense to give</span><span>
</span><span id="line-126"></span><span>                   </span><span class="hs-comment">-- the polymorphic Id, because we are going to /infer/ its</span><span>
</span><span id="line-127"></span><span>                   </span><span class="hs-comment">-- type, so we can't make the polymorphic Id ab-initio</span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PSig"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#PSig"><span class="hs-identifier hs-var">PSig</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="psig_name"><span class="annot"><span class="annottext">TcPartialSig -&gt; Name
</span><a href="GHC.Tc.Types.BasicTypes.html#psig_name"><span class="hs-identifier hs-var hs-var">psig_name</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>   </span><span class="hs-comment">-- Name of the function; used when report wildcards</span><span>
</span><span id="line-129"></span><span>         </span><span class="hs-special">,</span><span> </span><span id="psig_hs_ty"><span class="annot"><span class="annottext">TcPartialSig -&gt; LHsSigWcType GhcRn
</span><a href="GHC.Tc.Types.BasicTypes.html#psig_hs_ty"><span class="hs-identifier hs-var hs-var">psig_hs_ty</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Language.Haskell.Syntax.Type.html#LHsSigWcType"><span class="hs-identifier hs-type">LHsSigWcType</span></a></span><span> </span><span class="annot"><a href="GHC.Hs.Extension.html#GhcRn"><span class="hs-identifier hs-type">GhcRn</span></a></span><span>  </span><span class="hs-comment">-- The original partial signature in</span><span>
</span><span id="line-130"></span><span>                                             </span><span class="hs-comment">-- HsSyn form</span><span>
</span><span id="line-131"></span><span>         </span><span class="hs-special">,</span><span> </span><span id="psig_ctxt"><span class="annot"><span class="annottext">TcPartialSig -&gt; UserTypeCtxt
</span><a href="GHC.Tc.Types.BasicTypes.html#psig_ctxt"><span class="hs-identifier hs-var hs-var">psig_ctxt</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.Origin.html#UserTypeCtxt"><span class="hs-identifier hs-type">UserTypeCtxt</span></a></span><span>
</span><span id="line-132"></span><span>         </span><span class="hs-special">,</span><span> </span><span id="psig_loc"><span class="annot"><span class="annottext">TcPartialSig -&gt; SrcSpan
</span><a href="GHC.Tc.Types.BasicTypes.html#psig_loc"><span class="hs-identifier hs-var hs-var">psig_loc</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>            </span><span class="hs-comment">-- Location of the type signature</span><span>
</span><span id="line-133"></span><span>         </span><span class="hs-special">}</span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span class="hs-keyword">data</span><span> </span><span id="TcPatSynSig"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPatSynSig"><span class="hs-identifier hs-var">TcPatSynSig</span></a></span></span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PatSig"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#PatSig"><span class="hs-identifier hs-var">PatSig</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-137"></span><span>        </span><span id="patsig_name"><span class="annot"><span class="annottext">TcPatSynSig -&gt; Name
</span><a href="GHC.Tc.Types.BasicTypes.html#patsig_name"><span class="hs-identifier hs-var hs-var">patsig_name</span></a></span></span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-138"></span><span>        </span><span id="patsig_implicit_bndrs"><span class="annot"><span class="annottext">TcPatSynSig -&gt; [InvisTVBinder]
</span><a href="GHC.Tc.Types.BasicTypes.html#patsig_implicit_bndrs"><span class="hs-identifier hs-var hs-var">patsig_implicit_bndrs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#InvisTVBinder"><span class="hs-identifier hs-type">InvisTVBinder</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Implicitly-bound kind vars (Inferred) and</span><span>
</span><span id="line-139"></span><span>                                                  </span><span class="hs-comment">-- implicitly-bound type vars (Specified)</span><span>
</span><span id="line-140"></span><span>          </span><span class="hs-comment">-- See Note [The pattern-synonym signature splitting rule] in GHC.Tc.TyCl.PatSyn</span><span>
</span><span id="line-141"></span><span>        </span><span id="patsig_univ_bndrs"><span class="annot"><span class="annottext">TcPatSynSig -&gt; [InvisTVBinder]
</span><a href="GHC.Tc.Types.BasicTypes.html#patsig_univ_bndrs"><span class="hs-identifier hs-var hs-var">patsig_univ_bndrs</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#InvisTVBinder"><span class="hs-identifier hs-type">InvisTVBinder</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Bound by explicit user forall</span><span>
</span><span id="line-142"></span><span>        </span><span id="patsig_req"><span class="annot"><span class="annottext">TcPatSynSig -&gt; TcThetaType
</span><a href="GHC.Tc.Types.BasicTypes.html#patsig_req"><span class="hs-identifier hs-var hs-var">patsig_req</span></a></span></span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Utils.TcType.html#TcThetaType"><span class="hs-identifier hs-type">TcThetaType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-143"></span><span>        </span><span id="patsig_ex_bndrs"><span class="annot"><span class="annottext">TcPatSynSig -&gt; [InvisTVBinder]
</span><a href="GHC.Tc.Types.BasicTypes.html#patsig_ex_bndrs"><span class="hs-identifier hs-var hs-var">patsig_ex_bndrs</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Types.Var.html#InvisTVBinder"><span class="hs-identifier hs-type">InvisTVBinder</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- Bound by explicit user forall</span><span>
</span><span id="line-144"></span><span>        </span><span id="patsig_prov"><span class="annot"><span class="annottext">TcPatSynSig -&gt; TcThetaType
</span><a href="GHC.Tc.Types.BasicTypes.html#patsig_prov"><span class="hs-identifier hs-var hs-var">patsig_prov</span></a></span></span><span>           </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Utils.TcType.html#TcThetaType"><span class="hs-identifier hs-type">TcThetaType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-145"></span><span>        </span><span id="patsig_body_ty"><span class="annot"><span class="annottext">TcPatSynSig -&gt; TcSigmaType
</span><a href="GHC.Tc.Types.BasicTypes.html#patsig_body_ty"><span class="hs-identifier hs-var hs-var">patsig_body_ty</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Utils.TcType.html#TcSigmaType"><span class="hs-identifier hs-type">TcSigmaType</span></a></span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-comment">{- Note [Complete and partial type signatures]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
A type signature is partial when it contains one or more wildcards
(= type holes).  The wildcard can either be:
* A (type) wildcard occurring in sig_theta or sig_tau. These are
  stored in sig_wcs.
      f :: Bool -&gt; _
      g :: Eq _a =&gt; _a -&gt; _a -&gt; Bool
* Or an extra-constraints wildcard, stored in sig_cts:
      h :: (Num a, _) =&gt; a -&gt; a

A type signature is a complete type signature when there are no
wildcards in the type signature, i.e. iff sig_wcs is empty and
sig_extra_cts is Nothing.
-}</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-keyword">data</span><span> </span><span id="TcIdSigInst"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSigInst"><span class="hs-identifier hs-var">TcIdSigInst</span></a></span></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="TISI"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TISI"><span class="hs-identifier hs-var">TISI</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="sig_inst_sig"><span class="annot"><span class="annottext">TcIdSigInst -&gt; TcIdSig
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_inst_sig"><span class="hs-identifier hs-var hs-var">sig_inst_sig</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSig"><span class="hs-identifier hs-type">TcIdSig</span></a></span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span>         </span><span class="hs-special">,</span><span> </span><span id="sig_inst_skols"><span class="annot"><span class="annottext">TcIdSigInst -&gt; [(Name, InvisTVBinder)]
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_inst_skols"><span class="hs-identifier hs-var hs-var">sig_inst_skols</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#InvisTVBinder"><span class="hs-identifier hs-type">InvisTVBinder</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-168"></span><span>               </span><span class="hs-comment">-- Instantiated type and kind variables, TyVarTvs</span><span>
</span><span id="line-169"></span><span>               </span><span class="hs-comment">-- The Name is the Name that the renamer chose;</span><span>
</span><span id="line-170"></span><span>               </span><span class="hs-comment">--   but the TcTyVar may come from instantiating</span><span>
</span><span id="line-171"></span><span>               </span><span class="hs-comment">--   the type and hence have a different unique.</span><span>
</span><span id="line-172"></span><span>               </span><span class="hs-comment">-- No need to keep track of whether they are truly lexically</span><span>
</span><span id="line-173"></span><span>               </span><span class="hs-comment">--   scoped because the renamer has named them uniquely</span><span>
</span><span id="line-174"></span><span>               </span><span class="hs-comment">-- See Note [Binding scoped type variables] in GHC.Tc.Gen.Sig</span><span>
</span><span id="line-175"></span><span>               </span><span class="hs-comment">--</span><span>
</span><span id="line-176"></span><span>               </span><span class="hs-comment">-- NB: The order of sig_inst_skols is irrelevant</span><span>
</span><span id="line-177"></span><span>               </span><span class="hs-comment">--     for a CompleteSig, but for a PartialSig see</span><span>
</span><span id="line-178"></span><span>               </span><span class="hs-comment">--     Note [Quantified variables in partial type signatures]</span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span>         </span><span class="hs-special">,</span><span> </span><span id="sig_inst_theta"><span class="annot"><span class="annottext">TcIdSigInst -&gt; TcThetaType
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_inst_theta"><span class="hs-identifier hs-var hs-var">sig_inst_theta</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Utils.TcType.html#TcThetaType"><span class="hs-identifier hs-type">TcThetaType</span></a></span><span>
</span><span id="line-181"></span><span>               </span><span class="hs-comment">-- Instantiated theta.  In the case of a</span><span>
</span><span id="line-182"></span><span>               </span><span class="hs-comment">-- PartialSig, sig_theta does not include</span><span>
</span><span id="line-183"></span><span>               </span><span class="hs-comment">-- the extra-constraints wildcard</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span>         </span><span class="hs-special">,</span><span> </span><span id="sig_inst_tau"><span class="annot"><span class="annottext">TcIdSigInst -&gt; TcSigmaType
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_inst_tau"><span class="hs-identifier hs-var hs-var">sig_inst_tau</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Utils.TcType.html#TcSigmaType"><span class="hs-identifier hs-type">TcSigmaType</span></a></span><span>   </span><span class="hs-comment">-- Instantiated tau</span><span>
</span><span id="line-186"></span><span>               </span><span class="hs-comment">-- See Note [sig_inst_tau may be polymorphic]</span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span>         </span><span class="hs-comment">-- Relevant for partial signature only</span><span>
</span><span id="line-189"></span><span>         </span><span class="hs-special">,</span><span> </span><span id="sig_inst_wcs"><span class="annot"><span class="annottext">TcIdSigInst -&gt; [(Name, TcId)]
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_inst_wcs"><span class="hs-identifier hs-var hs-var">sig_inst_wcs</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#TcTyVar"><span class="hs-identifier hs-type">TcTyVar</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-190"></span><span>               </span><span class="hs-comment">-- Like sig_inst_skols, but for /named/ wildcards (_a etc).</span><span>
</span><span id="line-191"></span><span>               </span><span class="hs-comment">-- The named wildcards scope over the binding, and hence</span><span>
</span><span id="line-192"></span><span>               </span><span class="hs-comment">-- their Names may appear in type signatures in the binding</span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span>         </span><span class="hs-special">,</span><span> </span><span id="sig_inst_wcx"><span class="annot"><span class="annottext">TcIdSigInst -&gt; Maybe TcSigmaType
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_inst_wcx"><span class="hs-identifier hs-var hs-var">sig_inst_wcx</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Tc.Utils.TcType.html#TcType"><span class="hs-identifier hs-type">TcType</span></a></span><span>
</span><span id="line-195"></span><span>               </span><span class="hs-comment">-- Extra-constraints wildcard to fill in, if any</span><span>
</span><span id="line-196"></span><span>               </span><span class="hs-comment">-- If this exists, it is surely of the form (meta_tv |&gt; co)</span><span>
</span><span id="line-197"></span><span>               </span><span class="hs-comment">-- (where the co might be reflexive). This is filled in</span><span>
</span><span id="line-198"></span><span>               </span><span class="hs-comment">-- only from the return value of GHC.Tc.Gen.HsType.tcAnonWildCardOcc</span><span>
</span><span id="line-199"></span><span>         </span><span class="hs-special">}</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-comment">{- Note [sig_inst_tau may be polymorphic]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Note that &quot;sig_inst_tau&quot; might actually be a polymorphic type,
if the original function had a signature like
   forall a. Eq a =&gt; forall b. Ord b =&gt; ....
But that's ok: tcFunBindMatches (called by tcRhs) can deal with that
It happens, too!  See Note [Polymorphic methods] in GHC.Tc.TyCl.Class.

Note [Quantified variables in partial type signatures]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Consider
   f :: forall a b. _ -&gt; a -&gt; _ -&gt; b
   f (x,y) p q = q

Then we expect f's final type to be
  f :: forall {x,y}. forall a b. (x,y) -&gt; a -&gt; b -&gt; b

Note that x,y are Inferred, and can't be use for visible type
application (VTA).  But a,b are Specified, and remain Specified
in the final type, so we can use VTA for them.  (Exception: if
it turns out that a's kind mentions b we need to reorder them
with scopedSort.)

The sig_inst_skols of the TISI from a partial signature records
that original order, and is used to get the variables of f's
final type in the correct order.


Note [Wildcards in partial signatures]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
The wildcards in psig_wcs may stand for a type mentioning
the universally-quantified tyvars of psig_ty

E.g.  f :: forall a. _ -&gt; a
      f x = x
We get sig_inst_skols = [a]
       sig_inst_tau   = _22 -&gt; a
       sig_inst_wcs   = [_22]
and _22 in the end is unified with the type 'a'

Moreover the kind of a wildcard in sig_inst_wcs may mention
the universally-quantified tyvars sig_inst_skols
e.g.   f :: t a -&gt; t _
Here we get
   sig_inst_skols = [k:*, (t::k -&gt;*), (a::k)]
   sig_inst_tau   = t a -&gt; t _22
   sig_inst_wcs   = [ _22::k ]
-}</span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcSigInfo"><span class="hs-identifier hs-type">TcSigInfo</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-251"></span><span>  </span><span id="local-6989586621682721611"><span class="annot"><span class="annottext">ppr :: TcSigInfo -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSig"><span class="hs-identifier hs-type">TcIdSig</span></a></span><span> </span><span id="local-6989586621682721612"><span class="annot"><span class="annottext">TcIdSig
</span><a href="#local-6989586621682721612"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TcIdSig -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TcIdSig
</span><a href="#local-6989586621682721612"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-252"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPatSynSig"><span class="hs-identifier hs-type">TcPatSynSig</span></a></span><span> </span><span id="local-6989586621682721613"><span class="annot"><span class="annottext">TcPatSynSig
</span><a href="#local-6989586621682721613"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TcPatSynSig -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TcPatSynSig
</span><a href="#local-6989586621682721613"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSig"><span class="hs-identifier hs-type">TcIdSig</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-255"></span><span>  </span><span id="local-6989586621682721619"><span class="annot"><span class="annottext">ppr :: TcIdSig -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcCompleteSig"><span class="hs-identifier hs-type">TcCompleteSig</span></a></span><span> </span><span id="local-6989586621682721620"><span class="annot"><span class="annottext">TcCompleteSig
</span><a href="#local-6989586621682721620"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TcCompleteSig -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TcCompleteSig
</span><a href="#local-6989586621682721620"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-256"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPartialSig"><span class="hs-identifier hs-type">TcPartialSig</span></a></span><span> </span><span id="local-6989586621682721621"><span class="annot"><span class="annottext">TcPartialSig
</span><a href="#local-6989586621682721621"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TcPartialSig -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TcPartialSig
</span><a href="#local-6989586621682721621"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcCompleteSig"><span class="hs-identifier hs-type">TcCompleteSig</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-259"></span><span>  </span><span id="local-6989586621682721628"><span class="annot"><span class="annottext">ppr :: TcCompleteSig -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#CSig"><span class="hs-identifier hs-type">CSig</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sig_bndr :: TcCompleteSig -&gt; TcId
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_bndr"><span class="hs-identifier hs-var">sig_bndr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682721629"><span class="annot"><span class="annottext">TcId
</span><a href="#local-6989586621682721629"><span class="hs-identifier hs-var">bndr</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TcId -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TcId
</span><a href="#local-6989586621682721629"><span class="hs-identifier hs-var">bndr</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TcSigmaType -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TcId -&gt; TcSigmaType
</span><a href="GHC.Types.Id.html#idType"><span class="hs-identifier hs-var">idType</span></a></span><span> </span><span class="annot"><span class="annottext">TcId
</span><a href="#local-6989586621682721629"><span class="hs-identifier hs-var">bndr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPartialSig"><span class="hs-identifier hs-type">TcPartialSig</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-263"></span><span>  </span><span id="local-6989586621682721657"><span class="annot"><span class="annottext">ppr :: TcPartialSig -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#PSig"><span class="hs-identifier hs-type">PSig</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">psig_name :: TcPartialSig -&gt; Name
</span><a href="GHC.Tc.Types.BasicTypes.html#psig_name"><span class="hs-identifier hs-var">psig_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682721658"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721658"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">psig_hs_ty :: TcPartialSig -&gt; LHsSigWcType GhcRn
</span><a href="GHC.Tc.Types.BasicTypes.html#psig_hs_ty"><span class="hs-identifier hs-var">psig_hs_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682721659"><span class="annot"><span class="annottext">LHsSigWcType GhcRn
</span><a href="#local-6989586621682721659"><span class="hs-identifier hs-var">hs_ty</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;[partial signature]&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721658"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">HsWildCardBndrs GhcRn (GenLocated SrcSpanAnnA (HsSigType GhcRn))
-&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">LHsSigWcType GhcRn
HsWildCardBndrs GhcRn (GenLocated SrcSpanAnnA (HsSigType GhcRn))
</span><a href="#local-6989586621682721659"><span class="hs-identifier hs-var">hs_ty</span></a></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPatSynSig"><span class="hs-identifier hs-type">TcPatSynSig</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-267"></span><span>  </span><span id="local-6989586621682721663"><span class="annot"><span class="annottext">ppr :: TcPatSynSig -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#PatSig"><span class="hs-identifier hs-type">PatSig</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">patsig_name :: TcPatSynSig -&gt; Name
</span><a href="GHC.Tc.Types.BasicTypes.html#patsig_name"><span class="hs-identifier hs-var">patsig_name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682721664"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721664"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721664"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSigInst"><span class="hs-identifier hs-type">TcIdSigInst</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-270"></span><span>  </span><span id="local-6989586621682721683"><span class="annot"><span class="annottext">ppr :: TcIdSigInst -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TISI"><span class="hs-identifier hs-type">TISI</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sig_inst_sig :: TcIdSigInst -&gt; TcIdSig
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_inst_sig"><span class="hs-identifier hs-var">sig_inst_sig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682721684"><span class="annot"><span class="annottext">TcIdSig
</span><a href="#local-6989586621682721684"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sig_inst_skols :: TcIdSigInst -&gt; [(Name, InvisTVBinder)]
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_inst_skols"><span class="hs-identifier hs-var">sig_inst_skols</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682721685"><span class="annot"><span class="annottext">[(Name, InvisTVBinder)]
</span><a href="#local-6989586621682721685"><span class="hs-identifier hs-var">skols</span></a></span></span><span>
</span><span id="line-271"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sig_inst_theta :: TcIdSigInst -&gt; TcThetaType
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_inst_theta"><span class="hs-identifier hs-var">sig_inst_theta</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682721686"><span class="annot"><span class="annottext">TcThetaType
</span><a href="#local-6989586621682721686"><span class="hs-identifier hs-var">theta</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sig_inst_tau :: TcIdSigInst -&gt; TcSigmaType
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_inst_tau"><span class="hs-identifier hs-var">sig_inst_tau</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621682721687"><span class="annot"><span class="annottext">TcSigmaType
</span><a href="#local-6989586621682721687"><span class="hs-identifier hs-var">tau</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; Int -&gt; SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#hang"><span class="hs-identifier hs-var">hang</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TcIdSig -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TcIdSig
</span><a href="#local-6989586621682721684"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[(Name, InvisTVBinder)] -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">[(Name, InvisTVBinder)]
</span><a href="#local-6989586621682721685"><span class="hs-identifier hs-var">skols</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TcThetaType -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TcThetaType
</span><a href="#local-6989586621682721686"><span class="hs-identifier hs-var">theta</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#darrow"><span class="hs-identifier hs-var">darrow</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TcSigmaType -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TcSigmaType
</span><a href="#local-6989586621682721687"><span class="hs-identifier hs-var">tau</span></a></span><span> </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#isPartialSig"><span class="hs-identifier hs-type">isPartialSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSigInst"><span class="hs-identifier hs-type">TcIdSigInst</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-275"></span><span id="isPartialSig"><span class="annot"><span class="annottext">isPartialSig :: TcIdSigInst -&gt; Bool
</span><a href="GHC.Tc.Types.BasicTypes.html#isPartialSig"><span class="hs-identifier hs-var hs-var">isPartialSig</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TISI"><span class="hs-identifier hs-type">TISI</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sig_inst_sig :: TcIdSigInst -&gt; TcIdSig
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_inst_sig"><span class="hs-identifier hs-var">sig_inst_sig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPartialSig"><span class="hs-identifier hs-type">TcPartialSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-276"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#isPartialSig"><span class="hs-identifier hs-var">isPartialSig</span></a></span><span> </span><span class="annot"><span class="annottext">TcIdSigInst
</span><span class="hs-identifier">_</span></span><span>                                         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span class="annot"><span class="hs-comment">-- | No signature or a partial signature</span></span><span>
</span><span id="line-279"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#hasCompleteSig"><span class="hs-identifier hs-type">hasCompleteSig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcSigFun"><span class="hs-identifier hs-type">TcSigFun</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-280"></span><span id="hasCompleteSig"><span class="annot"><span class="annottext">hasCompleteSig :: TcSigFun -&gt; Name -&gt; Bool
</span><a href="GHC.Tc.Types.BasicTypes.html#hasCompleteSig"><span class="hs-identifier hs-var hs-var">hasCompleteSig</span></a></span></span><span> </span><span id="local-6989586621682721691"><span class="annot"><span class="annottext">TcSigFun
</span><a href="#local-6989586621682721691"><span class="hs-identifier hs-var">sig_fn</span></a></span></span><span> </span><span id="local-6989586621682721692"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721692"><span class="hs-identifier hs-var">name</span></a></span></span><span>
</span><span id="line-281"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TcSigFun
</span><a href="#local-6989586621682721691"><span class="hs-identifier hs-var">sig_fn</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721692"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-282"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSig"><span class="hs-identifier hs-type">TcIdSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcCompleteSig"><span class="hs-identifier hs-type">TcCompleteSig</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-283"></span><span>      </span><span class="annot"><span class="annottext">Maybe TcSigInfo
</span><span class="hs-identifier">_</span></span><span>                                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcSigInfoName"><span class="hs-identifier hs-type">tcSigInfoName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcSigInfo"><span class="hs-identifier hs-type">TcSigInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span>
</span><span id="line-286"></span><span id="tcSigInfoName"><span class="annot"><span class="annottext">tcSigInfoName :: TcSigInfo -&gt; Name
</span><a href="GHC.Tc.Types.BasicTypes.html#tcSigInfoName"><span class="hs-identifier hs-var hs-var">tcSigInfoName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSig"><span class="hs-identifier hs-type">TcIdSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcCompleteSig"><span class="hs-identifier hs-type">TcCompleteSig</span></a></span><span> </span><span id="local-6989586621682721693"><span class="annot"><span class="annottext">TcCompleteSig
</span><a href="#local-6989586621682721693"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TcId -&gt; Name
</span><a href="GHC.Types.Id.html#idName"><span class="hs-identifier hs-var">idName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TcCompleteSig -&gt; TcId
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_bndr"><span class="hs-identifier hs-var">sig_bndr</span></a></span><span> </span><span class="annot"><span class="annottext">TcCompleteSig
</span><a href="#local-6989586621682721693"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcSigInfoName"><span class="hs-identifier hs-var">tcSigInfoName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSig"><span class="hs-identifier hs-type">TcIdSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPartialSig"><span class="hs-identifier hs-type">TcPartialSig</span></a></span><span>  </span><span id="local-6989586621682721694"><span class="annot"><span class="annottext">TcPartialSig
</span><a href="#local-6989586621682721694"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TcPartialSig -&gt; Name
</span><a href="GHC.Tc.Types.BasicTypes.html#psig_name"><span class="hs-identifier hs-var">psig_name</span></a></span><span> </span><span class="annot"><span class="annottext">TcPartialSig
</span><a href="#local-6989586621682721694"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-288"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcSigInfoName"><span class="hs-identifier hs-var">tcSigInfoName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPatSynSig"><span class="hs-identifier hs-type">TcPatSynSig</span></a></span><span> </span><span id="local-6989586621682721695"><span class="annot"><span class="annottext">TcPatSynSig
</span><a href="#local-6989586621682721695"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TcPatSynSig -&gt; Name
</span><a href="GHC.Tc.Types.BasicTypes.html#patsig_name"><span class="hs-identifier hs-var">patsig_name</span></a></span><span> </span><span class="annot"><span class="annottext">TcPatSynSig
</span><a href="#local-6989586621682721695"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcIdSigLoc"><span class="hs-identifier hs-type">tcIdSigLoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSig"><span class="hs-identifier hs-type">TcIdSig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.SrcLoc.html#SrcSpan"><span class="hs-identifier hs-type">SrcSpan</span></a></span><span>
</span><span id="line-291"></span><span id="tcIdSigLoc"><span class="annot"><span class="annottext">tcIdSigLoc :: TcIdSig -&gt; SrcSpan
</span><a href="GHC.Tc.Types.BasicTypes.html#tcIdSigLoc"><span class="hs-identifier hs-var hs-var">tcIdSigLoc</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcCompleteSig"><span class="hs-identifier hs-type">TcCompleteSig</span></a></span><span> </span><span id="local-6989586621682721696"><span class="annot"><span class="annottext">TcCompleteSig
</span><a href="#local-6989586621682721696"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TcCompleteSig -&gt; SrcSpan
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_loc"><span class="hs-identifier hs-var">sig_loc</span></a></span><span> </span><span class="annot"><span class="annottext">TcCompleteSig
</span><a href="#local-6989586621682721696"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-292"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcIdSigLoc"><span class="hs-identifier hs-var">tcIdSigLoc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcPartialSig"><span class="hs-identifier hs-type">TcPartialSig</span></a></span><span>  </span><span id="local-6989586621682721697"><span class="annot"><span class="annottext">TcPartialSig
</span><a href="#local-6989586621682721697"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TcPartialSig -&gt; SrcSpan
</span><a href="GHC.Tc.Types.BasicTypes.html#psig_loc"><span class="hs-identifier hs-var">psig_loc</span></a></span><span> </span><span class="annot"><span class="annottext">TcPartialSig
</span><a href="#local-6989586621682721697"><span class="hs-identifier hs-var">sig</span></a></span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#completeSigPolyId_maybe"><span class="hs-identifier hs-type">completeSigPolyId_maybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcSigInfo"><span class="hs-identifier hs-type">TcSigInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcId"><span class="hs-identifier hs-type">TcId</span></a></span><span>
</span><span id="line-295"></span><span id="completeSigPolyId_maybe"><span class="annot"><span class="annottext">completeSigPolyId_maybe :: TcSigInfo -&gt; Maybe TcId
</span><a href="GHC.Tc.Types.BasicTypes.html#completeSigPolyId_maybe"><span class="hs-identifier hs-var hs-var">completeSigPolyId_maybe</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcIdSig"><span class="hs-identifier hs-type">TcIdSig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcCompleteSig"><span class="hs-identifier hs-type">TcCompleteSig</span></a></span><span> </span><span id="local-6989586621682721698"><span class="annot"><span class="annottext">TcCompleteSig
</span><a href="#local-6989586621682721698"><span class="hs-identifier hs-var">sig</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TcId -&gt; Maybe TcId
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TcCompleteSig -&gt; TcId
</span><a href="GHC.Tc.Types.BasicTypes.html#sig_bndr"><span class="hs-identifier hs-var">sig_bndr</span></a></span><span> </span><span class="annot"><span class="annottext">TcCompleteSig
</span><a href="#local-6989586621682721698"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-296"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#completeSigPolyId_maybe"><span class="hs-identifier hs-var">completeSigPolyId_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TcSigInfo
</span><span class="hs-identifier">_</span></span><span>                             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TcId
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span class="annot"><span class="hs-comment">{- *********************************************************************
*                                                                      *
             TcTyThing
*                                                                      *
********************************************************************* -}</span></span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-comment">-- | A typecheckable thing available in a local context.  Could be</span><span>
</span><span id="line-305"></span><span class="hs-comment">-- 'AGlobal' 'TyThing', but also lexically scoped variables, etc.</span><span>
</span><span id="line-306"></span><span class="hs-comment">-- See &quot;GHC.Tc.Utils.Env&quot; for how to retrieve a 'TyThing' given a 'Name'.</span><span>
</span><span id="line-307"></span><span class="hs-keyword">data</span><span> </span><span id="TcTyThing"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcTyThing"><span class="hs-identifier hs-var">TcTyThing</span></a></span></span><span>
</span><span id="line-308"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="AGlobal"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#AGlobal"><span class="hs-identifier hs-var">AGlobal</span></a></span></span><span> </span><span class="annot"><a href="GHC.Types.TyThing.html#TyThing"><span class="hs-identifier hs-type">TyThing</span></a></span><span>             </span><span class="hs-comment">-- Used only in the return type of a lookup</span><span>
</span><span id="line-309"></span><span>
</span><span id="line-310"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ATcId"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ATcId"><span class="hs-identifier hs-var">ATcId</span></a></span></span><span>           </span><span class="hs-comment">-- Ids defined in this module; may not be fully zonked</span><span>
</span><span id="line-311"></span><span>      </span><span class="hs-special">{</span><span> </span><span id="tct_id"><span class="annot"><span class="annottext">TcTyThing -&gt; TcId
</span><a href="GHC.Tc.Types.BasicTypes.html#tct_id"><span class="hs-identifier hs-var hs-var">tct_id</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Types.Var.html#Id"><span class="hs-identifier hs-type">Id</span></a></span><span>
</span><span id="line-312"></span><span>      </span><span class="hs-special">,</span><span> </span><span id="tct_info"><span class="annot"><span class="annottext">TcTyThing -&gt; IdBindingInfo
</span><a href="GHC.Tc.Types.BasicTypes.html#tct_info"><span class="hs-identifier hs-var hs-var">tct_info</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#IdBindingInfo"><span class="hs-identifier hs-type">IdBindingInfo</span></a></span><span>   </span><span class="hs-comment">-- See Note [Meaning of IdBindingInfo]</span><span>
</span><span id="line-313"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ATyVar"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ATyVar"><span class="hs-identifier hs-var">ATyVar</span></a></span></span><span>  </span><span class="annot"><a href="GHC.Types.Name.html#Name"><span class="hs-identifier hs-type">Name</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Var.html#TcTyVar"><span class="hs-identifier hs-type">TcTyVar</span></a></span><span>   </span><span class="hs-comment">-- See Note [Type variables in the type environment]</span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ATcTyCon"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ATcTyCon"><span class="hs-identifier hs-var">ATcTyCon</span></a></span></span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span>   </span><span class="hs-comment">-- Used temporarily, during kind checking, for the</span><span>
</span><span id="line-318"></span><span>                     </span><span class="hs-comment">-- tycons and classes in this recursive group</span><span>
</span><span id="line-319"></span><span>                     </span><span class="hs-comment">-- The TyCon is always a TcTyCon.  Its kind</span><span>
</span><span id="line-320"></span><span>                     </span><span class="hs-comment">-- can be a mono-kind or a poly-kind; in TcTyClsDcls see</span><span>
</span><span id="line-321"></span><span>                     </span><span class="hs-comment">-- Note [Type checking recursive type and class declarations]</span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="APromotionErr"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#APromotionErr"><span class="hs-identifier hs-var">APromotionErr</span></a></span></span><span> </span><span class="annot"><a href="GHC.Tc.Errors.Types.PromotionErr.html#PromotionErr"><span class="hs-identifier hs-type">PromotionErr</span></a></span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span class="annot"><span class="hs-comment">-- | Matches on either a global 'TyCon' or a 'TcTyCon'.</span></span><span>
</span><span id="line-326"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcTyThingTyCon_maybe"><span class="hs-identifier hs-type">tcTyThingTyCon_maybe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcTyThing"><span class="hs-identifier hs-type">TcTyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html#TyCon"><span class="hs-identifier hs-type">TyCon</span></a></span><span>
</span><span id="line-327"></span><span id="tcTyThingTyCon_maybe"><span class="annot"><span class="annottext">tcTyThingTyCon_maybe :: TcTyThing -&gt; Maybe TyCon
</span><a href="GHC.Tc.Types.BasicTypes.html#tcTyThingTyCon_maybe"><span class="hs-identifier hs-var hs-var">tcTyThingTyCon_maybe</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#AGlobal"><span class="hs-identifier hs-type">AGlobal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.TyThing.html#ATyCon"><span class="hs-identifier hs-type">ATyCon</span></a></span><span> </span><span id="local-6989586621682721708"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682721708"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe TyCon
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682721708"><span class="hs-identifier hs-var">tc</span></a></span><span>
</span><span id="line-328"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcTyThingTyCon_maybe"><span class="hs-identifier hs-var">tcTyThingTyCon_maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ATcTyCon"><span class="hs-identifier hs-type">ATcTyCon</span></a></span><span> </span><span id="local-6989586621682721709"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682721709"><span class="hs-identifier hs-var">tc_tc</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe TyCon
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682721709"><span class="hs-identifier hs-var">tc_tc</span></a></span><span>
</span><span id="line-329"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcTyThingTyCon_maybe"><span class="hs-identifier hs-var">tcTyThingTyCon_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">TcTyThing
</span><span class="hs-identifier">_</span></span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe TyCon
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcTyThing"><span class="hs-identifier hs-type">TcTyThing</span></a></span><span> </span><span class="hs-keyword">where</span><span>     </span><span class="hs-comment">-- Debugging only</span><span>
</span><span id="line-332"></span><span>   </span><span id="local-6989586621682721747"><span class="annot"><span class="annottext">ppr :: TcTyThing -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#AGlobal"><span class="hs-identifier hs-type">AGlobal</span></a></span><span> </span><span id="local-6989586621682721748"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682721748"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682721748"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-333"></span><span>   </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span id="local-6989586621682721749"><span class="annot"><span class="annottext">elt :: TcTyThing
</span><a href="#local-6989586621682721749"><span class="hs-identifier hs-var">elt</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ATcId"><span class="hs-identifier hs-type">ATcId</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Identifier&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span>
</span><span id="line-334"></span><span>                          </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#brackets"><span class="hs-identifier hs-var">brackets</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TcId -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TcTyThing -&gt; TcId
</span><a href="GHC.Tc.Types.BasicTypes.html#tct_id"><span class="hs-identifier hs-var">tct_id</span></a></span><span> </span><span class="annot"><span class="annottext">TcTyThing
</span><a href="#local-6989586621682721749"><span class="hs-identifier hs-var">elt</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a></span><span>
</span><span id="line-335"></span><span>                                 </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TcSigmaType -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TcId -&gt; TcSigmaType
</span><a href="GHC.Types.Var.html#varType"><span class="hs-identifier hs-var">varType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TcTyThing -&gt; TcId
</span><a href="GHC.Tc.Types.BasicTypes.html#tct_id"><span class="hs-identifier hs-var">tct_id</span></a></span><span> </span><span class="annot"><span class="annottext">TcTyThing
</span><a href="#local-6989586621682721749"><span class="hs-identifier hs-var">elt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#comma"><span class="hs-identifier hs-var">comma</span></a></span><span>
</span><span id="line-336"></span><span>                                 </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IdBindingInfo -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TcTyThing -&gt; IdBindingInfo
</span><a href="GHC.Tc.Types.BasicTypes.html#tct_info"><span class="hs-identifier hs-var">tct_info</span></a></span><span> </span><span class="annot"><span class="annottext">TcTyThing
</span><a href="#local-6989586621682721749"><span class="hs-identifier hs-var">elt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>   </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ATyVar"><span class="hs-identifier hs-type">ATyVar</span></a></span><span> </span><span id="local-6989586621682721752"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721752"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682721753"><span class="annot"><span class="annottext">TcId
</span><a href="#local-6989586621682721753"><span class="hs-identifier hs-var">tv</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Type variable&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#quotes"><span class="hs-identifier hs-var">quotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621682721752"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
forall doc. IsLine doc =&gt; doc
</span><a href="GHC.Utils.Outputable.html#equals"><span class="hs-identifier hs-var">equals</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TcId -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TcId
</span><a href="#local-6989586621682721753"><span class="hs-identifier hs-var">tv</span></a></span><span>
</span><span id="line-338"></span><span>                            </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TcSigmaType -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TcId -&gt; TcSigmaType
</span><a href="GHC.Types.Var.html#varType"><span class="hs-identifier hs-var">varType</span></a></span><span> </span><span class="annot"><span class="annottext">TcId
</span><a href="#local-6989586621682721753"><span class="hs-identifier hs-var">tv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>   </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ATcTyCon"><span class="hs-identifier hs-type">ATcTyCon</span></a></span><span> </span><span id="local-6989586621682721756"><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682721756"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ATcTyCon&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682721756"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc
</span><a href="GHC.Utils.Outputable.html#dcolon"><span class="hs-identifier hs-var">dcolon</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">TcSigmaType -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; TcSigmaType
</span><a href="GHC.Core.TyCon.html#tyConKind"><span class="hs-identifier hs-var">tyConKind</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682721756"><span class="hs-identifier hs-var">tc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-340"></span><span>   </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#APromotionErr"><span class="hs-identifier hs-type">APromotionErr</span></a></span><span> </span><span id="local-6989586621682721757"><span class="annot"><span class="annottext">PromotionErr
</span><a href="#local-6989586621682721757"><span class="hs-identifier hs-var">err</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;APromotionErr&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionErr -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionErr
</span><a href="#local-6989586621682721757"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-341"></span><span>
</span><span id="line-342"></span><span class="hs-comment">-- | IdBindingInfo describes how an Id is bound.</span><span>
</span><span id="line-343"></span><span class="hs-comment">--</span><span>
</span><span id="line-344"></span><span class="hs-comment">-- It is used for the following purposes:</span><span>
</span><span id="line-345"></span><span class="hs-comment">-- a) for static forms in 'GHC.Tc.Gen.Expr.checkClosedInStaticForm' and</span><span>
</span><span id="line-346"></span><span class="hs-comment">-- b) to figure out when a nested binding can be generalised,</span><span>
</span><span id="line-347"></span><span class="hs-comment">--    in 'GHC.Tc.Gen.Bind.decideGeneralisationPlan'.</span><span>
</span><span id="line-348"></span><span class="hs-comment">--</span><span>
</span><span id="line-349"></span><span class="hs-keyword">data</span><span> </span><span id="IdBindingInfo"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#IdBindingInfo"><span class="hs-identifier hs-var">IdBindingInfo</span></a></span></span><span> </span><span class="hs-comment">-- See Note [Meaning of IdBindingInfo]</span><span>
</span><span id="line-350"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="NotLetBound"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#NotLetBound"><span class="hs-identifier hs-var">NotLetBound</span></a></span></span><span>
</span><span id="line-351"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="ClosedLet"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ClosedLet"><span class="hs-identifier hs-var">ClosedLet</span></a></span></span><span>
</span><span id="line-352"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="NonClosedLet"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#NonClosedLet"><span class="hs-identifier hs-var">NonClosedLet</span></a></span></span><span>
</span><span id="line-353"></span><span>         </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#RhsNames"><span class="hs-identifier hs-type">RhsNames</span></a></span><span>        </span><span class="hs-comment">-- Used for (static e) checks only</span><span>
</span><span id="line-354"></span><span>         </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ClosedTypeId"><span class="hs-identifier hs-type">ClosedTypeId</span></a></span><span>    </span><span class="hs-comment">-- Used for generalisation checks</span><span>
</span><span id="line-355"></span><span>                         </span><span class="hs-comment">-- and for (static e) checks</span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span class="annot"><span class="hs-comment">-- | IsGroupClosed describes a group of mutually-recursive bindings</span></span><span>
</span><span id="line-358"></span><span class="hs-keyword">data</span><span> </span><span id="IsGroupClosed"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#IsGroupClosed"><span class="hs-identifier hs-var">IsGroupClosed</span></a></span></span><span>
</span><span id="line-359"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="IsGroupClosed"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#IsGroupClosed"><span class="hs-identifier hs-var">IsGroupClosed</span></a></span></span><span>
</span><span id="line-360"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Name.Env.html#NameEnv"><span class="hs-identifier hs-type">NameEnv</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#RhsNames"><span class="hs-identifier hs-type">RhsNames</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Free var info for the RHS of each binding in the group</span><span>
</span><span id="line-361"></span><span>                          </span><span class="hs-comment">-- Used only for (static e) checks</span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span>      </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ClosedTypeId"><span class="hs-identifier hs-type">ClosedTypeId</span></a></span><span>        </span><span class="hs-comment">-- True &lt;=&gt; all the free vars of the group are</span><span>
</span><span id="line-364"></span><span>                          </span><span class="hs-comment">--          imported or ClosedLet or</span><span>
</span><span id="line-365"></span><span>                          </span><span class="hs-comment">--          NonClosedLet with ClosedTypeId=True.</span><span>
</span><span id="line-366"></span><span>                          </span><span class="hs-comment">--          In particular, no tyvars, no NotLetBound</span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span class="hs-keyword">type</span><span> </span><span id="RhsNames"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#RhsNames"><span class="hs-identifier hs-var">RhsNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Types.Name.Set.html#NameSet"><span class="hs-identifier hs-type">NameSet</span></a></span><span>   </span><span class="hs-comment">-- Names of variables, mentioned on the RHS of</span><span>
</span><span id="line-369"></span><span>                          </span><span class="hs-comment">-- a definition, that are not Global or ClosedLet</span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="hs-keyword">type</span><span> </span><span id="ClosedTypeId"><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ClosedTypeId"><span class="hs-identifier hs-var">ClosedTypeId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-372"></span><span>  </span><span class="hs-comment">-- See Note [Meaning of IdBindingInfo]</span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span class="hs-comment">{- Note [Meaning of IdBindingInfo]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
NotLetBound means that
  the Id is not let-bound (e.g. it is bound in a
  lambda-abstraction or in a case pattern)

ClosedLet means that
   - The Id is let-bound,
   - Any free term variables are also Global or ClosedLet
   - Its type has no free variables (NB: a top-level binding subject
     to the MR might have free vars in its type)
   These ClosedLets can definitely be floated to top level; and we
   may need to do so for static forms.

   Property:   ClosedLet
             is equivalent to
               NonClosedLet emptyNameSet True

(NonClosedLet (fvs::RhsNames) (cl::ClosedTypeId)) means that
   - The Id is let-bound

   - The fvs::RhsNames contains the free names of the RHS,
     excluding Global and ClosedLet ones.

   - For the ClosedTypeId field see Note [Bindings with closed types: ClosedTypeId]

For (static e) to be valid, we need for every 'x' free in 'e',
that x's binding is floatable to the top level.  Specifically:
   * x's RhsNames must be empty
   * x's type has no free variables
See Note [Grand plan for static forms] in &quot;GHC.Iface.Tidy.StaticPtrTable&quot;.
This test is made in GHC.Tc.Gen.Expr.checkClosedInStaticForm.
Actually knowing x's RhsNames (rather than just its emptiness
or otherwise) is just so we can produce better error messages

Note [Bindings with closed types: ClosedTypeId]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Consider

  f x = let g ys = map not ys
        in ...

Can we generalise 'g' under the OutsideIn algorithm?  Yes,
because all g's free variables are top-level; that is they themselves
have no free type variables, and it is the type variables in the
environment that makes things tricky for OutsideIn generalisation.

Here's the invariant:
   If an Id has ClosedTypeId=True (in its IdBindingInfo), then
   the Id's type is /definitely/ closed (has no free type variables).
   Specifically,
       a) The Id's actual type is closed (has no free tyvars)
       b) Either the Id has a (closed) user-supplied type signature
          or all its free variables are Global/ClosedLet
             or NonClosedLet with ClosedTypeId=True.
          In particular, none are NotLetBound.

Why is (b) needed?   Consider
    \x. (x :: Int, let y = x+1 in ...)
Initially x::alpha.  If we happen to typecheck the 'let' before the
(x::Int), y's type will have a free tyvar; but if the other way round
it won't.  So we treat any let-bound variable with a free
non-let-bound variable as not ClosedTypeId, regardless of what the
free vars of its type actually are.

But if it has a signature, all is well:
   \x. ...(let { y::Int; y = x+1 } in
           let { v = y+2 } in ...)...
Here the signature on 'v' makes 'y' a ClosedTypeId, so we can
generalise 'v'.

Note that:

  * A top-level binding may not have ClosedTypeId=True, if it suffers
    from the MR

  * A nested binding may be closed (eg 'g' in the example we started
    with). Indeed, that's the point; whether a function is defined at
    top level or nested is orthogonal to the question of whether or
    not it is closed.

  * A binding may be non-closed because it mentions a lexically scoped
    *type variable*  Eg
        f :: forall a. blah
        f x = let g y = ...(y::a)...

Under OutsideIn we are free to generalise an Id all of whose free
variables have ClosedTypeId=True (or imported).  This is an extension
compared to the JFP paper on OutsideIn, which used &quot;top-level&quot; as a
proxy for &quot;closed&quot;.  (It's not a good proxy anyway -- the MR can make
a top-level binding with a free type variable.)

Note [Type variables in the type environment]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
The type environment has a binding for each lexically-scoped
type variable that is in scope.  For example

  f :: forall a. a -&gt; a
  f x = (x :: a)

  g1 :: [a] -&gt; a
  g1 (ys :: [b]) = head ys :: b

  g2 :: [Int] -&gt; Int
  g2 (ys :: [c]) = head ys :: c

* The forall'd variable 'a' in the signature scopes over f's RHS.

* The pattern-bound type variable 'b' in 'g1' scopes over g1's
  RHS; note that it is bound to a skolem 'a' which is not itself
  lexically in scope.

* The pattern-bound type variable 'c' in 'g2' is bound to
  Int; that is, pattern-bound type variables can stand for
  arbitrary types. (see
    GHC proposal #128 &quot;Allow ScopedTypeVariables to refer to types&quot;
    https://github.com/ghc-proposals/ghc-proposals/pull/128,
  and the paper
    &quot;Type variables in patterns&quot;, Haskell Symposium 2018.


This is implemented by the constructor
   ATyVar Name TcTyVar
in the type environment.

* The Name is the name of the original, lexically scoped type
  variable

* The TcTyVar is sometimes a skolem (like in 'f'), and sometimes
  a unification variable (like in 'g1', 'g2').  We never zonk the
  type environment so in the latter case it always stays as a
  unification variable, although that variable may be later
  unified with a type (such as Int in 'g2').
-}</span><span>
</span><span id="line-508"></span><span>
</span><span id="line-509"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#Outputable"><span class="hs-identifier hs-type">Outputable</span></a></span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#IdBindingInfo"><span class="hs-identifier hs-type">IdBindingInfo</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-510"></span><span>  </span><span id="local-6989586621682721775"><span class="annot"><span class="annottext">ppr :: IdBindingInfo -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var hs-var hs-var">ppr</span></a></span></span><span> </span><span class="annot"><span class="annottext">IdBindingInfo
</span><a href="GHC.Tc.Types.BasicTypes.html#NotLetBound"><span class="hs-identifier hs-var">NotLetBound</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;NotLetBound&quot;</span></span><span>
</span><span id="line-511"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">IdBindingInfo
</span><a href="GHC.Tc.Types.BasicTypes.html#ClosedLet"><span class="hs-identifier hs-var">ClosedLet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TopLevelLet&quot;</span></span><span>
</span><span id="line-512"></span><span>  </span><span class="annot"><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#NonClosedLet"><span class="hs-identifier hs-type">NonClosedLet</span></a></span><span> </span><span id="local-6989586621682721776"><span class="annot"><span class="annottext">RhsNames
</span><a href="#local-6989586621682721776"><span class="hs-identifier hs-var">fvs</span></a></span></span><span> </span><span id="local-6989586621682721777"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682721777"><span class="hs-identifier hs-var">closed_type</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-513"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TopLevelLet&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">RhsNames -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">RhsNames
</span><a href="#local-6989586621682721776"><span class="hs-identifier hs-var">fvs</span></a></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682721777"><span class="hs-identifier hs-var">closed_type</span></a></span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span class="hs-comment">--------------</span><span>
</span><span id="line-516"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#pprTcTyThingCategory"><span class="hs-identifier hs-type">pprTcTyThingCategory</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcTyThing"><span class="hs-identifier hs-type">TcTyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html#SDoc"><span class="hs-identifier hs-type">SDoc</span></a></span><span>
</span><span id="line-517"></span><span id="pprTcTyThingCategory"><span class="annot"><span class="annottext">pprTcTyThingCategory :: TcTyThing -&gt; SDoc
</span><a href="GHC.Tc.Types.BasicTypes.html#pprTcTyThingCategory"><span class="hs-identifier hs-var hs-var">pprTcTyThingCategory</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SDoc) -&gt; (TcTyThing -&gt; String) -&gt; TcTyThing -&gt; SDoc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="GHC.Utils.Misc.html#capitalise"><span class="hs-identifier hs-var">capitalise</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; (TcTyThing -&gt; String) -&gt; TcTyThing -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TcTyThing -&gt; String
</span><a href="GHC.Tc.Types.BasicTypes.html#tcTyThingCategory"><span class="hs-identifier hs-var">tcTyThingCategory</span></a></span><span>
</span><span id="line-518"></span><span>
</span><span id="line-519"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcTyThingCategory"><span class="hs-identifier hs-type">tcTyThingCategory</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#TcTyThing"><span class="hs-identifier hs-type">TcTyThing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-520"></span><span id="tcTyThingCategory"><span class="annot"><span class="annottext">tcTyThingCategory :: TcTyThing -&gt; String
</span><a href="GHC.Tc.Types.BasicTypes.html#tcTyThingCategory"><span class="hs-identifier hs-var hs-var">tcTyThingCategory</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#AGlobal"><span class="hs-identifier hs-type">AGlobal</span></a></span><span> </span><span id="local-6989586621682721780"><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682721780"><span class="hs-identifier hs-var">thing</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyThing -&gt; String
</span><a href="GHC.Types.TyThing.html#tyThingCategory"><span class="hs-identifier hs-var">tyThingCategory</span></a></span><span> </span><span class="annot"><span class="annottext">TyThing
</span><a href="#local-6989586621682721780"><span class="hs-identifier hs-var">thing</span></a></span><span>
</span><span id="line-521"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcTyThingCategory"><span class="hs-identifier hs-var">tcTyThingCategory</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ATyVar"><span class="hs-identifier hs-type">ATyVar</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;type variable&quot;</span></span><span>
</span><span id="line-522"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcTyThingCategory"><span class="hs-identifier hs-var">tcTyThingCategory</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ATcId"><span class="hs-identifier hs-type">ATcId</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;local identifier&quot;</span></span><span>
</span><span id="line-523"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcTyThingCategory"><span class="hs-identifier hs-var">tcTyThingCategory</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#ATcTyCon"><span class="hs-identifier hs-type">ATcTyCon</span></a></span><span> </span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;local tycon&quot;</span></span><span>
</span><span id="line-524"></span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#tcTyThingCategory"><span class="hs-identifier hs-var">tcTyThingCategory</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Tc.Types.BasicTypes.html#APromotionErr"><span class="hs-identifier hs-type">APromotionErr</span></a></span><span> </span><span id="local-6989586621682721782"><span class="annot"><span class="annottext">PromotionErr
</span><a href="#local-6989586621682721782"><span class="hs-identifier hs-var">pe</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PromotionErr -&gt; String
</span><a href="GHC.Tc.Errors.Types.PromotionErr.html#peCategory"><span class="hs-identifier hs-var">peCategory</span></a></span><span> </span><span class="annot"><span class="annottext">PromotionErr
</span><a href="#local-6989586621682721782"><span class="hs-identifier hs-var">pe</span></a></span><span>
</span><span id="line-525"></span></pre></body></html>