<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span>
</span><span id="line-2"></span><span class="annot"><span class="hs-comment">-- | Linking Haskell units</span></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.Linker.Unit.html"><span class="hs-identifier">GHC.Linker.Unit</span></a></span><span>
</span><span id="line-4"></span><span>   </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Linker.Unit.html#UnitLinkOpts"><span class="hs-identifier">UnitLinkOpts</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-5"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Linker.Unit.html#collectLinkOpts"><span class="hs-identifier">collectLinkOpts</span></a></span><span>
</span><span id="line-6"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Linker.Unit.html#collectArchives"><span class="hs-identifier">collectArchives</span></a></span><span>
</span><span id="line-7"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Linker.Unit.html#getUnitLinkOpts"><span class="hs-identifier">getUnitLinkOpts</span></a></span><span>
</span><span id="line-8"></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Linker.Unit.html#getLibs"><span class="hs-identifier">getLibs</span></a></span><span>
</span><span id="line-9"></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">where</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.Ways.html"><span class="hs-identifier">GHC.Platform.Ways</span></a></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html"><span class="hs-identifier">GHC.Unit.Types</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Info.html"><span class="hs-identifier">GHC.Unit.Info</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.State.html"><span class="hs-identifier">GHC.Unit.State</span></a></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.Env.html"><span class="hs-identifier">GHC.Unit.Env</span></a></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Data.ShortText.html"><span class="hs-identifier">GHC.Data.ShortText</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">ST</span></span><span>
</span><span id="line-21"></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Settings.html"><span class="hs-identifier">GHC.Settings</span></a></span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../directory-1.3.9.0-af18/src/System.Directory.html"><span class="hs-identifier">System.Directory</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.html"><span class="hs-identifier">System.FilePath</span></a></span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="annot"><span class="hs-comment">-- | Linker flags collected from units</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">data</span><span> </span><span id="UnitLinkOpts"><span class="annot"><a href="GHC.Linker.Unit.html#UnitLinkOpts"><span class="hs-identifier hs-var">UnitLinkOpts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UnitLinkOpts"><span class="annot"><a href="GHC.Linker.Unit.html#UnitLinkOpts"><span class="hs-identifier hs-var">UnitLinkOpts</span></a></span></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="hsLibs"><span class="annot"><span class="annottext">UnitLinkOpts -&gt; [[Char]]
</span><a href="GHC.Linker.Unit.html#hsLibs"><span class="hs-identifier hs-var hs-var">hsLibs</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Haskell libraries (as a list of &quot;-lHSfoo...&quot;)</span></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="extraLibs"><span class="annot"><span class="annottext">UnitLinkOpts -&gt; [[Char]]
</span><a href="GHC.Linker.Unit.html#extraLibs"><span class="hs-identifier hs-var hs-var">extraLibs</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ External libraries (as a list of &quot;-lfoo...&quot;)</span></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="otherFlags"><span class="annot"><span class="annottext">UnitLinkOpts -&gt; [[Char]]
</span><a href="GHC.Linker.Unit.html#otherFlags"><span class="hs-identifier hs-var hs-var">otherFlags</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Extra linker options</span></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682935625"><span id="local-6989586621682935634"><span id="local-6989586621682935638"><span class="annot"><span class="annottext">Int -&gt; UnitLinkOpts -&gt; ShowS
[UnitLinkOpts] -&gt; ShowS
UnitLinkOpts -&gt; [Char]
(Int -&gt; UnitLinkOpts -&gt; ShowS)
-&gt; (UnitLinkOpts -&gt; [Char])
-&gt; ([UnitLinkOpts] -&gt; ShowS)
-&gt; Show UnitLinkOpts
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; UnitLinkOpts -&gt; ShowS
showsPrec :: Int -&gt; UnitLinkOpts -&gt; ShowS
$cshow :: UnitLinkOpts -&gt; [Char]
show :: UnitLinkOpts -&gt; [Char]
$cshowList :: [UnitLinkOpts] -&gt; ShowS
showList :: [UnitLinkOpts] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-comment">-- | Find all the link options in these and the preload packages,</span><span>
</span><span id="line-37"></span><span class="hs-comment">-- returning (package hs lib options, extra library options, other flags)</span><span>
</span><span id="line-38"></span><span class="annot"><a href="GHC.Linker.Unit.html#getUnitLinkOpts"><span class="hs-identifier hs-type">getUnitLinkOpts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Settings.html#GhcNameVersion"><span class="hs-identifier hs-type">GhcNameVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Platform.Ways.html#Ways"><span class="hs-identifier hs-type">Ways</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Env.html#UnitEnv"><span class="hs-identifier hs-type">UnitEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Unit.Types.html#UnitId"><span class="hs-identifier hs-type">UnitId</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="GHC.Linker.Unit.html#UnitLinkOpts"><span class="hs-identifier hs-type">UnitLinkOpts</span></a></span><span>
</span><span id="line-39"></span><span id="getUnitLinkOpts"><span class="annot"><span class="annottext">getUnitLinkOpts :: GhcNameVersion -&gt; Ways -&gt; UnitEnv -&gt; [UnitId] -&gt; IO UnitLinkOpts
</span><a href="GHC.Linker.Unit.html#getUnitLinkOpts"><span class="hs-identifier hs-var hs-var">getUnitLinkOpts</span></a></span></span><span> </span><span id="local-6989586621682935644"><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621682935644"><span class="hs-identifier hs-var">namever</span></a></span></span><span> </span><span id="local-6989586621682935645"><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621682935645"><span class="hs-identifier hs-var">ways</span></a></span></span><span> </span><span id="local-6989586621682935646"><span class="annot"><span class="annottext">UnitEnv
</span><a href="#local-6989586621682935646"><span class="hs-identifier hs-var">unit_env</span></a></span></span><span> </span><span id="local-6989586621682935647"><span class="annot"><span class="annottext">[UnitId]
</span><a href="#local-6989586621682935647"><span class="hs-identifier hs-var">pkgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-40"></span><span>    </span><span id="local-6989586621682935648"><span class="annot"><a href="#local-6989586621682935648"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MaybeErr UnitErr [UnitInfo] -&gt; IO [UnitInfo]
forall a. MaybeErr UnitErr a -&gt; IO a
</span><a href="GHC.Unit.State.html#mayThrowUnitErr"><span class="hs-identifier hs-var">mayThrowUnitErr</span></a></span><span> </span><span class="annot"><span class="annottext">(MaybeErr UnitErr [UnitInfo] -&gt; IO [UnitInfo])
-&gt; MaybeErr UnitErr [UnitInfo] -&gt; IO [UnitInfo]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UnitEnv -&gt; [UnitId] -&gt; MaybeErr UnitErr [UnitInfo]
</span><a href="GHC.Unit.Env.html#preloadUnitsInfo%27"><span class="hs-identifier hs-var">preloadUnitsInfo'</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEnv
</span><a href="#local-6989586621682935646"><span class="hs-identifier hs-var">unit_env</span></a></span><span> </span><span class="annot"><span class="annottext">[UnitId]
</span><a href="#local-6989586621682935647"><span class="hs-identifier hs-var">pkgs</span></a></span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Linker.Unit.html#collectLinkOpts"><span class="hs-identifier hs-type">collectLinkOpts</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682935644"><span class="hs-identifier hs-type">namever</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682935645"><span class="hs-identifier hs-type">ways</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682935648"><span class="hs-identifier hs-type">ps</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="annot"><a href="GHC.Linker.Unit.html#collectLinkOpts"><span class="hs-identifier hs-type">collectLinkOpts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Settings.html#GhcNameVersion"><span class="hs-identifier hs-type">GhcNameVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Platform.Ways.html#Ways"><span class="hs-identifier hs-type">Ways</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Unit.Info.html#UnitInfo"><span class="hs-identifier hs-type">UnitInfo</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Linker.Unit.html#UnitLinkOpts"><span class="hs-identifier hs-type">UnitLinkOpts</span></a></span><span>
</span><span id="line-44"></span><span id="collectLinkOpts"><span class="annot"><span class="annottext">collectLinkOpts :: GhcNameVersion -&gt; Ways -&gt; [UnitInfo] -&gt; UnitLinkOpts
</span><a href="GHC.Linker.Unit.html#collectLinkOpts"><span class="hs-identifier hs-var hs-var">collectLinkOpts</span></a></span></span><span> </span><span id="local-6989586621682935651"><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621682935651"><span class="hs-identifier hs-var">namever</span></a></span></span><span> </span><span id="local-6989586621682935652"><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621682935652"><span class="hs-identifier hs-var">ways</span></a></span></span><span> </span><span id="local-6989586621682935653"><span class="annot"><span class="annottext">[UnitInfo]
</span><a href="#local-6989586621682935653"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="GHC.Linker.Unit.html#UnitLinkOpts"><span class="hs-identifier hs-type">UnitLinkOpts</span></a></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">hsLibs :: [[Char]]
</span><a href="GHC.Linker.Unit.html#hsLibs"><span class="hs-identifier hs-var">hsLibs</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UnitInfo -&gt; [[Char]]) -&gt; [UnitInfo] -&gt; [[Char]]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowS -&gt; [[Char]] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;-l&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([[Char]] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [[Char]]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">GhcNameVersion -&gt; Ways -&gt; UnitInfo -&gt; [[Char]]
</span><a href="GHC.Unit.Info.html#unitHsLibs"><span class="hs-identifier hs-var">unitHsLibs</span></a></span><span> </span><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621682935651"><span class="hs-identifier hs-var">namever</span></a></span><span> </span><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621682935652"><span class="hs-identifier hs-var">ways</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[UnitInfo]
</span><a href="#local-6989586621682935653"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">extraLibs :: [[Char]]
</span><a href="GHC.Linker.Unit.html#extraLibs"><span class="hs-identifier hs-var">extraLibs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UnitInfo -&gt; [[Char]]) -&gt; [UnitInfo] -&gt; [[Char]]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ShowS -&gt; [[Char]] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;-l&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([[Char]] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [[Char]]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; [Char]) -&gt; [ShortText] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; [Char]
</span><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Data.ShortText.html#unpack"><span class="hs-identifier hs-var">ST.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">([ShortText] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [ShortText]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UnitInfo -&gt; [ShortText]
forall srcpkgid srcpkgname uid modulename mod.
GenericUnitInfo srcpkgid srcpkgname uid modulename mod
-&gt; [ShortText]
</span><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Unit.Database.html#unitExtDepLibsSys"><span class="hs-identifier hs-var">unitExtDepLibsSys</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[UnitInfo]
</span><a href="#local-6989586621682935653"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">otherFlags :: [[Char]]
</span><a href="GHC.Linker.Unit.html#otherFlags"><span class="hs-identifier hs-var">otherFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(UnitInfo -&gt; [[Char]]) -&gt; [UnitInfo] -&gt; [[Char]]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ShortText -&gt; [Char]) -&gt; [ShortText] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; [Char]
</span><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Data.ShortText.html#unpack"><span class="hs-identifier hs-var">ST.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">([ShortText] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [ShortText]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UnitInfo -&gt; [ShortText]
forall srcpkgid srcpkgname uid modulename mod.
GenericUnitInfo srcpkgid srcpkgname uid modulename mod
-&gt; [ShortText]
</span><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Unit.Database.html#unitLinkerOptions"><span class="hs-identifier hs-var">unitLinkerOptions</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[UnitInfo]
</span><a href="#local-6989586621682935653"><span class="hs-identifier hs-var">ps</span></a></span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="annot"><a href="GHC.Linker.Unit.html#collectArchives"><span class="hs-identifier hs-type">collectArchives</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Settings.html#GhcNameVersion"><span class="hs-identifier hs-type">GhcNameVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Platform.Ways.html#Ways"><span class="hs-identifier hs-type">Ways</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Info.html#UnitInfo"><span class="hs-identifier hs-type">UnitInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">]</span><span>
</span><span id="line-51"></span><span id="collectArchives"><span class="annot"><span class="annottext">collectArchives :: GhcNameVersion -&gt; Ways -&gt; UnitInfo -&gt; IO [[Char]]
</span><a href="GHC.Linker.Unit.html#collectArchives"><span class="hs-identifier hs-var hs-var">collectArchives</span></a></span></span><span> </span><span id="local-6989586621682935661"><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621682935661"><span class="hs-identifier hs-var">namever</span></a></span></span><span> </span><span id="local-6989586621682935662"><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621682935662"><span class="hs-identifier hs-var">ways</span></a></span></span><span> </span><span id="local-6989586621682935663"><span class="annot"><span class="annottext">UnitInfo
</span><a href="#local-6989586621682935663"><span class="hs-identifier hs-var">pc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><span class="annottext">([Char] -&gt; IO Bool) -&gt; [[Char]] -&gt; IO [[Char]]
forall (m :: * -&gt; *) a.
Applicative m =&gt;
(a -&gt; m Bool) -&gt; [a] -&gt; m [a]
</span><span class="hs-identifier hs-var">filterM</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO Bool
</span><a href="../../directory-1.3.9.0-af18/src/System.Directory.html#doesFileExist"><span class="hs-identifier hs-var">doesFileExist</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682935666"><span class="hs-identifier hs-var">searchPath</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
</span><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;lib&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682935668"><span class="hs-identifier hs-var">lib</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;.a&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682935666"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682935666"><span class="hs-identifier hs-var">searchPath</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[[Char]]
</span><a href="#local-6989586621682935669"><span class="hs-identifier hs-var">searchPaths</span></a></span><span>
</span><span id="line-54"></span><span>                        </span><span class="hs-special">,</span><span> </span><span id="local-6989586621682935668"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682935668"><span class="hs-identifier hs-var">lib</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[[Char]]
</span><a href="#local-6989586621682935670"><span class="hs-identifier hs-var">libs</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621682935669"><span class="annot"><span class="annottext">searchPaths :: [[Char]]
</span><a href="#local-6989586621682935669"><span class="hs-identifier hs-var hs-var">searchPaths</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [[Char]]
forall a. Ord a =&gt; [a] -&gt; [a]
</span><a href="GHC.Utils.Misc.html#ordNub"><span class="hs-identifier hs-var">ordNub</span></a></span><span> </span><span class="annot"><span class="annottext">([[Char]] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [[Char]]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; Bool) -&gt; [[Char]] -&gt; [[Char]]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Bool
forall (f :: * -&gt; *) a. Foldable f =&gt; f a -&gt; Bool
</span><a href="GHC.Utils.Misc.html#notNull"><span class="hs-identifier hs-var">notNull</span></a></span><span> </span><span class="annot"><span class="annottext">([[Char]] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [[Char]]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Ways -&gt; UnitInfo -&gt; [[Char]]
</span><a href="GHC.Linker.Unit.html#libraryDirsForWay"><span class="hs-identifier hs-var">libraryDirsForWay</span></a></span><span> </span><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621682935662"><span class="hs-identifier hs-var">ways</span></a></span><span> </span><span class="annot"><span class="annottext">(UnitInfo -&gt; [[Char]]) -&gt; UnitInfo -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UnitInfo
</span><a href="#local-6989586621682935663"><span class="hs-identifier hs-var">pc</span></a></span><span>
</span><span id="line-56"></span><span>        </span><span id="local-6989586621682935670"><span class="annot"><span class="annottext">libs :: [[Char]]
</span><a href="#local-6989586621682935670"><span class="hs-identifier hs-var hs-var">libs</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GhcNameVersion -&gt; Ways -&gt; UnitInfo -&gt; [[Char]]
</span><a href="GHC.Unit.Info.html#unitHsLibs"><span class="hs-identifier hs-var">unitHsLibs</span></a></span><span> </span><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621682935661"><span class="hs-identifier hs-var">namever</span></a></span><span> </span><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621682935662"><span class="hs-identifier hs-var">ways</span></a></span><span> </span><span class="annot"><span class="annottext">UnitInfo
</span><a href="#local-6989586621682935663"><span class="hs-identifier hs-var">pc</span></a></span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [[Char]] -&gt; [[Char]]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; [Char]) -&gt; [ShortText] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; [Char]
</span><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Data.ShortText.html#unpack"><span class="hs-identifier hs-var">ST.unpack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnitInfo -&gt; [ShortText]
forall srcpkgid srcpkgname uid modulename mod.
GenericUnitInfo srcpkgid srcpkgname uid modulename mod
-&gt; [ShortText]
</span><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Unit.Database.html#unitExtDepLibsSys"><span class="hs-identifier hs-var">unitExtDepLibsSys</span></a></span><span> </span><span class="annot"><span class="annottext">UnitInfo
</span><a href="#local-6989586621682935663"><span class="hs-identifier hs-var">pc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="annot"><span class="hs-comment">-- | Either the 'unitLibraryDirs' or 'unitLibraryDynDirs' as appropriate for the way.</span></span><span>
</span><span id="line-59"></span><span class="annot"><a href="GHC.Linker.Unit.html#libraryDirsForWay"><span class="hs-identifier hs-type">libraryDirsForWay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.Ways.html#Ways"><span class="hs-identifier hs-type">Ways</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Info.html#UnitInfo"><span class="hs-identifier hs-type">UnitInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-60"></span><span id="libraryDirsForWay"><span class="annot"><span class="annottext">libraryDirsForWay :: Ways -&gt; UnitInfo -&gt; [[Char]]
</span><a href="GHC.Linker.Unit.html#libraryDirsForWay"><span class="hs-identifier hs-var hs-var">libraryDirsForWay</span></a></span></span><span> </span><span id="local-6989586621682935676"><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621682935676"><span class="hs-identifier hs-var">ws</span></a></span></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Ways -&gt; Way -&gt; Bool
</span><a href="GHC.Platform.Ways.html#hasWay"><span class="hs-identifier hs-var">hasWay</span></a></span><span> </span><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621682935676"><span class="hs-identifier hs-var">ws</span></a></span><span> </span><span class="annot"><span class="annottext">Way
</span><a href="GHC.Platform.Ways.html#WayDyn"><span class="hs-identifier hs-var">WayDyn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; [Char]) -&gt; [ShortText] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; [Char]
</span><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Data.ShortText.html#unpack"><span class="hs-identifier hs-var">ST.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">([ShortText] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [ShortText]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UnitInfo -&gt; [ShortText]
forall srcpkgid srcpkgname uid modulename mod.
GenericUnitInfo srcpkgid srcpkgname uid modulename mod
-&gt; [ShortText]
</span><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Unit.Database.html#unitLibraryDynDirs"><span class="hs-identifier hs-var">unitLibraryDynDirs</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ShortText -&gt; [Char]) -&gt; [ShortText] -&gt; [[Char]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">ShortText -&gt; [Char]
</span><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Data.ShortText.html#unpack"><span class="hs-identifier hs-var">ST.unpack</span></a></span><span> </span><span class="annot"><span class="annottext">([ShortText] -&gt; [[Char]])
-&gt; (UnitInfo -&gt; [ShortText]) -&gt; UnitInfo -&gt; [[Char]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">UnitInfo -&gt; [ShortText]
forall srcpkgid srcpkgname uid modulename mod.
GenericUnitInfo srcpkgid srcpkgname uid modulename mod
-&gt; [ShortText]
</span><a href="../../ghc-boot-9.12.2-1a37/src/GHC.Unit.Database.html#unitLibraryDirs"><span class="hs-identifier hs-var">unitLibraryDirs</span></a></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="annot"><a href="GHC.Linker.Unit.html#getLibs"><span class="hs-identifier hs-type">getLibs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Settings.html#GhcNameVersion"><span class="hs-identifier hs-type">GhcNameVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Platform.Ways.html#Ways"><span class="hs-identifier hs-type">Ways</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Unit.Env.html#UnitEnv"><span class="hs-identifier hs-type">UnitEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Unit.Types.html#UnitId"><span class="hs-identifier hs-type">UnitId</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-65"></span><span id="getLibs"><span class="annot"><span class="annottext">getLibs :: GhcNameVersion
-&gt; Ways -&gt; UnitEnv -&gt; [UnitId] -&gt; IO [([Char], [Char])]
</span><a href="GHC.Linker.Unit.html#getLibs"><span class="hs-identifier hs-var hs-var">getLibs</span></a></span></span><span> </span><span id="local-6989586621682935679"><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621682935679"><span class="hs-identifier hs-var">namever</span></a></span></span><span> </span><span id="local-6989586621682935680"><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621682935680"><span class="hs-identifier hs-var">ways</span></a></span></span><span> </span><span id="local-6989586621682935681"><span class="annot"><span class="annottext">UnitEnv
</span><a href="#local-6989586621682935681"><span class="hs-identifier hs-var">unit_env</span></a></span></span><span> </span><span id="local-6989586621682935682"><span class="annot"><span class="annottext">[UnitId]
</span><a href="#local-6989586621682935682"><span class="hs-identifier hs-var">pkgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-66"></span><span>  </span><span id="local-6989586621682935683"><span class="annot"><a href="#local-6989586621682935683"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">MaybeErr UnitErr [UnitInfo] -&gt; IO [UnitInfo]
forall a. MaybeErr UnitErr a -&gt; IO a
</span><a href="GHC.Unit.State.html#mayThrowUnitErr"><span class="hs-identifier hs-var">mayThrowUnitErr</span></a></span><span> </span><span class="annot"><span class="annottext">(MaybeErr UnitErr [UnitInfo] -&gt; IO [UnitInfo])
-&gt; MaybeErr UnitErr [UnitInfo] -&gt; IO [UnitInfo]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UnitEnv -&gt; [UnitId] -&gt; MaybeErr UnitErr [UnitInfo]
</span><a href="GHC.Unit.Env.html#preloadUnitsInfo%27"><span class="hs-identifier hs-var">preloadUnitsInfo'</span></a></span><span> </span><span class="annot"><span class="annottext">UnitEnv
</span><a href="#local-6989586621682935681"><span class="hs-identifier hs-var">unit_env</span></a></span><span> </span><span class="annot"><span class="annottext">[UnitId]
</span><a href="#local-6989586621682935682"><span class="hs-identifier hs-var">pkgs</span></a></span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">fmap</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">concat</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">forM</span></span><span> </span><span class="annot"><a href="#local-6989586621682935683"><span class="hs-identifier hs-type">ps</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682935686"><span class="annot"><span class="annottext">UnitInfo
</span><a href="#local-6989586621682935686"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682935687"><span class="annot"><span class="annottext">candidates :: [([Char], [Char])]
</span><a href="#local-6989586621682935687"><span class="hs-identifier hs-var hs-var">candidates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682935688"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
</span><a href="../../filepath-1.5.4.0-e69b/src/System.FilePath.Posix.html#%3C%2F%3E"><span class="hs-operator hs-var">&lt;/&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682935689"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682935689"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682935688"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682935688"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ways -&gt; [UnitInfo] -&gt; [[Char]]
</span><a href="GHC.Unit.Info.html#collectLibraryDirs"><span class="hs-identifier hs-var">collectLibraryDirs</span></a></span><span> </span><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621682935680"><span class="hs-identifier hs-var">ways</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">UnitInfo
</span><a href="#local-6989586621682935686"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-69"></span><span>                                    </span><span class="hs-special">,</span><span> </span><span id="local-6989586621682935689"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682935689"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621682935691"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682935691"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;lib&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621682935691"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;.a&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; [[Char]] -&gt; [[Char]]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">GhcNameVersion -&gt; Ways -&gt; UnitInfo -&gt; [[Char]]
</span><a href="GHC.Unit.Info.html#unitHsLibs"><span class="hs-identifier hs-var">unitHsLibs</span></a></span><span> </span><span class="annot"><span class="annottext">GhcNameVersion
</span><a href="#local-6989586621682935679"><span class="hs-identifier hs-var">namever</span></a></span><span> </span><span class="annot"><span class="annottext">Ways
</span><a href="#local-6989586621682935680"><span class="hs-identifier hs-var">ways</span></a></span><span> </span><span class="annot"><span class="annottext">UnitInfo
</span><a href="#local-6989586621682935686"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-70"></span><span>    </span><span class="annot"><span class="annottext">(([Char], [Char]) -&gt; IO Bool)
-&gt; [([Char], [Char])] -&gt; IO [([Char], [Char])]
forall (m :: * -&gt; *) a.
Applicative m =&gt;
(a -&gt; m Bool) -&gt; [a] -&gt; m [a]
</span><span class="hs-identifier hs-var">filterM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; IO Bool
</span><a href="../../directory-1.3.9.0-af18/src/System.Directory.html#doesFileExist"><span class="hs-identifier hs-var">doesFileExist</span></a></span><span> </span><span class="annot"><span class="annottext">([Char] -&gt; IO Bool)
-&gt; (([Char], [Char]) -&gt; [Char]) -&gt; ([Char], [Char]) -&gt; IO Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">([Char], [Char]) -&gt; [Char]
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[([Char], [Char])]
</span><a href="#local-6989586621682935687"><span class="hs-identifier hs-var">candidates</span></a></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span></pre></body></html>