<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE MultiWayIf #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-incomplete-uni-patterns #-}</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-comment">----------------------------------------------------------------------------</span><span>
</span><span id="line-7"></span><span class="hs-comment">--</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- Stg to C--: primitive operations</span><span>
</span><span id="line-9"></span><span class="hs-comment">--</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- (c) The University of Glasgow 2004-2006</span><span>
</span><span id="line-11"></span><span class="hs-comment">--</span><span>
</span><span id="line-12"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html"><span class="hs-identifier">GHC.StgToCmm.Prim</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-15"></span><span>   </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#cgOpApp"><span class="hs-identifier">cgOpApp</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>   </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#shouldInlinePrimOp"><span class="hs-identifier">shouldInlinePrimOp</span></a></span><span>
</span><span id="line-17"></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Prelude.html"><span class="hs-identifier">GHC.Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&lt;*&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.html"><span class="hs-identifier">GHC.Platform</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Platform.Profile.html"><span class="hs-identifier">GHC.Platform.Profile</span></a></span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Config.html"><span class="hs-identifier">GHC.StgToCmm.Config</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Layout.html"><span class="hs-identifier">GHC.StgToCmm.Layout</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Foreign.html"><span class="hs-identifier">GHC.StgToCmm.Foreign</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html"><span class="hs-identifier">GHC.StgToCmm.Monad</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Utils.html"><span class="hs-identifier">GHC.StgToCmm.Utils</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Ticky.html"><span class="hs-identifier">GHC.StgToCmm.Ticky</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Heap.html"><span class="hs-identifier">GHC.StgToCmm.Heap</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prof.html"><span class="hs-identifier">GHC.StgToCmm.Prof</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prof.html#costCentreFrom"><span class="hs-identifier">costCentreFrom</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html"><span class="hs-identifier">GHC.Types.Basic</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.BlockId.html"><span class="hs-identifier">GHC.Cmm.BlockId</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html"><span class="hs-identifier">GHC.Cmm.Graph</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html"><span class="hs-identifier">GHC.Stg.Syntax</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.html"><span class="hs-identifier">GHC.Cmm</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Unit.html"><span class="hs-identifier">GHC.Unit</span></a></span><span>         </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Unit.Types.html#rtsUnit"><span class="hs-identifier">rtsUnit</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.Type.html"><span class="hs-identifier">GHC.Core.Type</span></a></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier">Type</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Core.Type.html#tyConAppTyCon_maybe"><span class="hs-identifier">tyConAppTyCon_maybe</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Core.TyCon.html"><span class="hs-identifier">GHC.Core.TyCon</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html"><span class="hs-identifier">GHC.Cmm.CLabel</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.Info.html"><span class="hs-identifier">GHC.Cmm.Info</span></a></span><span>     </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="GHC.Cmm.Info.html#closureInfoPtr"><span class="hs-identifier">closureInfoPtr</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html"><span class="hs-identifier">GHC.Cmm.Utils</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html"><span class="hs-identifier">GHC.Builtin.PrimOps</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html"><span class="hs-identifier">GHC.Runtime.Heap.Layout</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Data.FastString.html"><span class="hs-identifier">GHC.Data.FastString</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Misc.html"><span class="hs-identifier">GHC.Utils.Misc</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.html"><span class="hs-identifier">GHC.Utils.Panic</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Data.Maybe.html"><span class="hs-identifier">Data.Maybe</span></a></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../../base-4.21.0.0-ae91/src/Control.Monad.html"><span class="hs-identifier">Control.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">liftM</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">when</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">unless</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">zipWithM_</span></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="GHC.Utils.Outputable.html"><span class="hs-identifier">GHC.Utils.Outputable</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-55"></span><span class="hs-comment">--      Primitive operations and foreign calls</span><span>
</span><span id="line-56"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-comment">{- Note [Foreign call results]
   ~~~~~~~~~~~~~~~~~~~~~~~~~~~
A foreign call always returns an unboxed tuple of results, one
of which is the state token.  This seems to happen even for pure
calls.

Even if we returned a single result for pure calls, it'd still be
right to wrap it in a singleton unboxed tuple, because the result
might be a Haskell closure pointer, we don't want to evaluate it. -}</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-comment">----------------------------------</span><span>
</span><span id="line-69"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#cgOpApp"><span class="hs-identifier hs-type">cgOpApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Stg.Syntax.html#StgOp"><span class="hs-identifier hs-type">StgOp</span></a></span><span>        </span><span class="hs-comment">-- The op</span><span>
</span><span id="line-70"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgArg"><span class="hs-identifier hs-type">StgArg</span></a></span><span class="hs-special">]</span><span>     </span><span class="hs-comment">-- Arguments</span><span>
</span><span id="line-71"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span>         </span><span class="hs-comment">-- Result type (always an unboxed tuple)</span><span>
</span><span id="line-72"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#ReturnKind"><span class="hs-identifier hs-type">ReturnKind</span></a></span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-comment">-- Foreign calls</span><span>
</span><span id="line-75"></span><span id="cgOpApp"><span class="annot"><span class="annottext">cgOpApp :: StgOp -&gt; [StgArg] -&gt; Type -&gt; FCode ReturnKind
</span><a href="GHC.StgToCmm.Prim.html#cgOpApp"><span class="hs-identifier hs-var hs-var">cgOpApp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgFCallOp"><span class="hs-identifier hs-type">StgFCallOp</span></a></span><span> </span><span id="local-6989586621682953286"><span class="annot"><span class="annottext">ForeignCall
</span><a href="#local-6989586621682953286"><span class="hs-identifier hs-var">fcall</span></a></span></span><span> </span><span id="local-6989586621682953287"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682953287"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682953288"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682953288"><span class="hs-identifier hs-var">stg_args</span></a></span></span><span> </span><span id="local-6989586621682953289"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682953289"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ForeignCall -&gt; Type -&gt; [StgArg] -&gt; Type -&gt; FCode ReturnKind
</span><a href="GHC.StgToCmm.Foreign.html#cgForeignCall"><span class="hs-identifier hs-var">cgForeignCall</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignCall
</span><a href="#local-6989586621682953286"><span class="hs-identifier hs-var">fcall</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682953287"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682953288"><span class="hs-identifier hs-var">stg_args</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682953289"><span class="hs-identifier hs-var">res_ty</span></a></span><span>
</span><span id="line-77"></span><span>      </span><span class="hs-comment">-- See Note [Foreign call results]</span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#cgOpApp"><span class="hs-identifier hs-var">cgOpApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPrimOp"><span class="hs-identifier hs-type">StgPrimOp</span></a></span><span> </span><span id="local-6989586621682953292"><span class="annot"><span class="annottext">PrimOp
</span><a href="#local-6989586621682953292"><span class="hs-identifier hs-var">primop</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682953293"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682953293"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682953294"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682953294"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-80"></span><span>    </span><span id="local-6989586621682953295"><span class="annot"><a href="#local-6989586621682953295"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode StgToCmmConfig
</span><a href="GHC.StgToCmm.Monad.html#getStgToCmmConfig"><span class="hs-identifier hs-var">getStgToCmmConfig</span></a></span><span>
</span><span id="line-81"></span><span>    </span><span id="local-6989586621682953297"><span class="annot"><a href="#local-6989586621682953297"><span class="hs-identifier hs-var">cmm_args</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Layout.html#getNonVoidArgAmodes"><span class="hs-identifier hs-type">getNonVoidArgAmodes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953293"><span class="hs-identifier hs-type">args</span></a></span><span>
</span><span id="line-82"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#cmmPrimOpApp"><span class="hs-identifier hs-type">cmmPrimOpApp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953295"><span class="hs-identifier hs-type">cfg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953292"><span class="hs-identifier hs-type">primop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953297"><span class="hs-identifier hs-type">cmm_args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="#local-6989586621682953294"><span class="hs-identifier hs-type">res_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#cgOpApp"><span class="hs-identifier hs-var">cgOpApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Stg.Syntax.html#StgPrimCallOp"><span class="hs-identifier hs-type">StgPrimCallOp</span></a></span><span> </span><span id="local-6989586621682953301"><span class="annot"><span class="annottext">PrimCall
</span><a href="#local-6989586621682953301"><span class="hs-identifier hs-var">primcall</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682953302"><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682953302"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621682953303"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682953303"><span class="hs-identifier hs-var">_res_ty</span></a></span></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>  </span><span class="hs-special">{</span><span> </span><span id="local-6989586621682953304"><span class="annot"><a href="#local-6989586621682953304"><span class="hs-identifier hs-var">cmm_args</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[StgArg] -&gt; FCode [CmmExpr]
</span><a href="GHC.StgToCmm.Layout.html#getNonVoidArgAmodes"><span class="hs-identifier hs-var">getNonVoidArgAmodes</span></a></span><span> </span><span class="annot"><span class="annottext">[StgArg]
</span><a href="#local-6989586621682953302"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-86"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682953305"><span class="annot"><a href="#local-6989586621682953305"><span class="hs-identifier hs-var hs-var">fun</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLabel -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-var">CmmLabel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimCall -&gt; CLabel
</span><a href="GHC.Cmm.CLabel.html#mkPrimCallLabel"><span class="hs-identifier hs-var">mkPrimCallLabel</span></a></span><span> </span><span class="annot"><span class="annottext">PrimCall
</span><a href="#local-6989586621682953301"><span class="hs-identifier hs-var">primcall</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>        </span><span class="hs-special">;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Layout.html#emitCall"><span class="hs-identifier hs-type">emitCall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Node.html#NativeNodeCall"><span class="hs-identifier hs-type">NativeNodeCall</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#NativeReturn"><span class="hs-identifier hs-type">NativeReturn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682953305"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953304"><span class="hs-identifier hs-type">cmm_args</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#cmmPrimOpApp"><span class="hs-identifier hs-type">cmmPrimOpApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Config.html#StgToCmmConfig"><span class="hs-identifier hs-type">StgToCmmConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#PrimOp"><span class="hs-identifier hs-type">PrimOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#ReturnKind"><span class="hs-identifier hs-type">ReturnKind</span></a></span><span>
</span><span id="line-90"></span><span id="cmmPrimOpApp"><span class="annot"><span class="annottext">cmmPrimOpApp :: StgToCmmConfig
-&gt; PrimOp -&gt; [CmmExpr] -&gt; Maybe Type -&gt; FCode ReturnKind
</span><a href="GHC.StgToCmm.Prim.html#cmmPrimOpApp"><span class="hs-identifier hs-var hs-var">cmmPrimOpApp</span></a></span></span><span> </span><span id="local-6989586621682953312"><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953312"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621682953313"><span class="annot"><span class="annottext">PrimOp
</span><a href="#local-6989586621682953313"><span class="hs-identifier hs-var">primop</span></a></span></span><span> </span><span id="local-6989586621682953314"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953314"><span class="hs-identifier hs-var">cmm_args</span></a></span></span><span> </span><span id="local-6989586621682953315"><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682953315"><span class="hs-identifier hs-var">mres_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#emitPrimOp"><span class="hs-identifier hs-var">emitPrimOp</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953312"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOp
</span><a href="#local-6989586621682953313"><span class="hs-identifier hs-var">primop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953314"><span class="hs-identifier hs-var">cmm_args</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-92"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_Internal"><span class="hs-identifier hs-type">PrimopCmmEmit_Internal</span></a></span><span> </span><span id="local-6989586621682953318"><span class="annot"><span class="annottext">Type -&gt; FCode [CmmExpr]
</span><a href="#local-6989586621682953318"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-93"></span><span>      </span><span class="hs-keyword">let</span><span>
</span><span id="line-94"></span><span>         </span><span class="hs-comment">-- if the result type isn't explicitly given, we directly use the</span><span>
</span><span id="line-95"></span><span>         </span><span class="hs-comment">-- result type of the primop.</span><span>
</span><span id="line-96"></span><span>         </span><span id="local-6989586621682953319"><span class="annot"><span class="annottext">res_ty :: Type
</span><a href="#local-6989586621682953319"><span class="hs-identifier hs-var hs-var">res_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Maybe Type -&gt; Type
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimOp -&gt; Type
</span><a href="GHC.Builtin.PrimOps.html#primOpResultType"><span class="hs-identifier hs-var">primOpResultType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOp
</span><a href="#local-6989586621682953313"><span class="hs-identifier hs-var">primop</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Type
</span><a href="#local-6989586621682953315"><span class="hs-identifier hs-var">mres_ty</span></a></span><span>
</span><span id="line-97"></span><span>      </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; FCode ReturnKind
</span><a href="GHC.StgToCmm.Layout.html#emitReturn"><span class="hs-identifier hs-var">emitReturn</span></a></span><span> </span><span class="annot"><span class="annottext">([CmmExpr] -&gt; FCode ReturnKind)
-&gt; FCode [CmmExpr] -&gt; FCode ReturnKind
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; FCode [CmmExpr]
</span><a href="#local-6989586621682953318"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682953319"><span class="hs-identifier hs-var">res_ty</span></a></span><span>
</span><span id="line-98"></span><span>    </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-99"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682953325"><span class="annot"><span class="annottext">fun :: CmmExpr
</span><a href="#local-6989586621682953325"><span class="hs-identifier hs-var hs-var">fun</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLabel -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-var">CmmLabel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimOp -&gt; CLabel
</span><a href="GHC.Cmm.CLabel.html#mkRtsPrimOpLabel"><span class="hs-identifier hs-var">mkRtsPrimOpLabel</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOp
</span><a href="#local-6989586621682953313"><span class="hs-identifier hs-var">primop</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>      </span><span class="annot"><span class="annottext">(Convention, Convention)
-&gt; CmmExpr -&gt; [CmmExpr] -&gt; FCode ReturnKind
</span><a href="GHC.StgToCmm.Layout.html#emitCall"><span class="hs-identifier hs-var">emitCall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Convention
</span><a href="GHC.Cmm.Node.html#NativeNodeCall"><span class="hs-identifier hs-var">NativeNodeCall</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Convention
</span><a href="GHC.Cmm.Node.html#NativeReturn"><span class="hs-identifier hs-var">NativeReturn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953325"><span class="hs-identifier hs-var">fun</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953314"><span class="hs-identifier hs-var">cmm_args</span></a></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-comment">-- | Interpret the argument as an unsigned value, assuming the value</span><span>
</span><span id="line-104"></span><span class="hs-comment">-- is given in two-complement form in the given width.</span><span>
</span><span id="line-105"></span><span class="hs-comment">--</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- Example: @asUnsigned W64 (-1)@ is 18446744073709551615.</span><span>
</span><span id="line-107"></span><span class="hs-comment">--</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- This function is used to work around the fact that many array</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- primops take Int# arguments, but we interpret them as unsigned</span><span>
</span><span id="line-110"></span><span class="hs-comment">-- quantities in the code gen. This means that we have to be careful</span><span>
</span><span id="line-111"></span><span class="hs-comment">-- every time we work on e.g. a CmmInt literal that corresponds to the</span><span>
</span><span id="line-112"></span><span class="hs-comment">-- array size, as it might contain a negative Integer value if the</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- user passed a value larger than 2^(wORD_SIZE_IN_BITS-1) as the Int#</span><span>
</span><span id="line-114"></span><span class="hs-comment">-- literal.</span><span>
</span><span id="line-115"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#asUnsigned"><span class="hs-identifier hs-type">asUnsigned</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-116"></span><span id="asUnsigned"><span class="annot"><span class="annottext">asUnsigned :: Width -&gt; Integer -&gt; Integer
</span><a href="GHC.StgToCmm.Prim.html#asUnsigned"><span class="hs-identifier hs-var hs-var">asUnsigned</span></a></span></span><span> </span><span id="local-6989586621682953328"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953328"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621682953329"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953329"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953329"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. (Num a, Bits a) =&gt; Int -&gt; a
</span><a href="GHC.Prelude.Basic.html#bit"><span class="hs-identifier hs-var">bit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBits"><span class="hs-identifier hs-var">widthInBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953328"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-119"></span><span class="hs-comment">--      Emitting code for a primop</span><span>
</span><span id="line-120"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#shouldInlinePrimOp"><span class="hs-identifier hs-type">shouldInlinePrimOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Config.html#StgToCmmConfig"><span class="hs-identifier hs-type">StgToCmmConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#PrimOp"><span class="hs-identifier hs-type">PrimOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-123"></span><span id="shouldInlinePrimOp"><span class="annot"><span class="annottext">shouldInlinePrimOp :: StgToCmmConfig -&gt; PrimOp -&gt; [CmmExpr] -&gt; Bool
</span><a href="GHC.StgToCmm.Prim.html#shouldInlinePrimOp"><span class="hs-identifier hs-var hs-var">shouldInlinePrimOp</span></a></span></span><span> </span><span id="local-6989586621682953333"><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953333"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621682953334"><span class="annot"><span class="annottext">PrimOp
</span><a href="#local-6989586621682953334"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621682953335"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953335"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#emitPrimOp"><span class="hs-identifier hs-var">emitPrimOp</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953333"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOp
</span><a href="#local-6989586621682953334"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953335"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-124"></span><span>  </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-125"></span><span>  </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_Internal"><span class="hs-identifier hs-type">PrimopCmmEmit_Internal</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; FCode [CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="hs-comment">-- TODO: Several primop implementations (e.g. 'doNewByteArrayOp') use</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- ByteOff (or some other fixed width signed type) to represent</span><span>
</span><span id="line-129"></span><span class="hs-comment">-- array sizes or indices. This means that these will overflow for</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- large enough sizes.</span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-comment">-- TODO: Several primops, such as 'copyArray#', only have an inline</span><span>
</span><span id="line-133"></span><span class="hs-comment">-- implementation (below) but could possibly have both an inline</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- implementation and an out-of-line implementation, just like</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- 'newArray#'. This would lower the amount of code generated,</span><span>
</span><span id="line-136"></span><span class="hs-comment">-- hopefully without a performance impact (needs to be measured).</span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-comment">-- | The big function handling all the primops.</span><span>
</span><span id="line-139"></span><span class="hs-comment">--</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- In the simple case, there is just one implementation, and we emit that.</span><span>
</span><span id="line-141"></span><span class="hs-comment">--</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- In more complex cases, there is a foreign call (out of line) fallback. This</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- might happen e.g. if there's enough static information, such as statically</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- known arguments.</span><span>
</span><span id="line-145"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitPrimOp"><span class="hs-identifier hs-type">emitPrimOp</span></a></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Config.html#StgToCmmConfig"><span class="hs-identifier hs-type">StgToCmmConfig</span></a></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#PrimOp"><span class="hs-identifier hs-type">PrimOp</span></a></span><span>            </span><span class="annot"><span class="hs-comment">-- ^ The primop</span></span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>         </span><span class="annot"><span class="hs-comment">-- ^ The primop arguments</span></span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit"><span class="hs-identifier hs-type">PrimopCmmEmit</span></a></span><span>
</span><span id="line-150"></span><span id="emitPrimOp"><span class="annot"><span class="annottext">emitPrimOp :: StgToCmmConfig -&gt; PrimOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#emitPrimOp"><span class="hs-identifier hs-var hs-var">emitPrimOp</span></a></span></span><span> </span><span id="local-6989586621682953336"><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621682953337"><span class="annot"><span class="annottext">PrimOp
</span><a href="#local-6989586621682953337"><span class="hs-identifier hs-var">primop</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682953338"><span class="annot"><span class="annottext">max_inl_alloc_size :: Integer
</span><a href="#local-6989586621682953338"><span class="hs-identifier hs-var hs-var">max_inl_alloc_size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Int
</span><a href="GHC.StgToCmm.Config.html#stgToCmmMaxInlAllocSize"><span class="hs-identifier hs-var">stgToCmmMaxInlAllocSize</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PrimOp
</span><a href="#local-6989586621682953337"><span class="hs-identifier hs-var">primop</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-153"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#NewByteArrayOp_Char"><span class="hs-identifier hs-var">NewByteArrayOp_Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953342"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953342"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682953343"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953343"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-155"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.StgToCmm.Prim.html#asUnsigned"><span class="hs-identifier hs-var">asUnsigned</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953343"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953342"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953338"><span class="hs-identifier hs-var">max_inl_alloc_size</span></a></span><span>
</span><span id="line-156"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span>  </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682953346"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953346"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LocalReg -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doNewByteArrayOp"><span class="hs-identifier hs-var">doNewByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953346"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953342"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#NewArrayOp"><span class="hs-identifier hs-var">NewArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-160"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953349"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953349"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682953350"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953350"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953351"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953351"><span class="hs-identifier hs-var">init</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-161"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Integer -&gt; Integer
forall a. Num a =&gt; Platform -&gt; a -&gt; a
</span><a href="GHC.Runtime.Heap.Layout.html#wordsToBytes"><span class="hs-identifier hs-var">wordsToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.StgToCmm.Prim.html#asUnsigned"><span class="hs-identifier hs-var">asUnsigned</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953350"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953349"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953338"><span class="hs-identifier hs-var">max_inl_alloc_size</span></a></span><span>
</span><span id="line-162"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953354"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953354"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">LocalReg
-&gt; SMRep
-&gt; CLabel
-&gt; [(CmmExpr, Int)]
-&gt; Int
-&gt; CmmExpr
-&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doNewArrayOp"><span class="hs-identifier hs-var">doNewArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953354"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; SMRep
</span><a href="GHC.Runtime.Heap.Layout.html#arrPtrsRep"><span class="hs-identifier hs-var">arrPtrsRep</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953349"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="GHC.Cmm.CLabel.html#mkMAP_DIRTY_infoLabel"><span class="hs-identifier hs-var">mkMAP_DIRTY_infoLabel</span></a></span><span>
</span><span id="line-163"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-var">mkIntExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953349"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-164"></span><span>           </span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#fixedHdrSize"><span class="hs-identifier hs-var">fixedHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682953360"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">PlatformConstants -&gt; Int
</span><a href="GHC.Platform.Constants.html#pc_OFFSET_StgMutArrPtrs_ptrs"><span class="hs-identifier hs-var">pc_OFFSET_StgMutArrPtrs_ptrs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; PlatformConstants
</span><a href="GHC.Platform.html#platformConstants"><span class="hs-identifier hs-var">platformConstants</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>        </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-var">mkIntExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMRep -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#nonHdrSizeW"><span class="hs-identifier hs-var">nonHdrSizeW</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; SMRep
</span><a href="GHC.Runtime.Heap.Layout.html#arrPtrsRep"><span class="hs-identifier hs-var">arrPtrsRep</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953349"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-166"></span><span>           </span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#fixedHdrSize"><span class="hs-identifier hs-var">fixedHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682953360"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">PlatformConstants -&gt; Int
</span><a href="GHC.Platform.Constants.html#pc_OFFSET_StgMutArrPtrs_size"><span class="hs-identifier hs-var">pc_OFFSET_StgMutArrPtrs_size</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; PlatformConstants
</span><a href="GHC.Platform.html#platformConstants"><span class="hs-identifier hs-var">platformConstants</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-168"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953349"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953351"><span class="hs-identifier hs-var">init</span></a></span><span>
</span><span id="line-169"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CopyArrayOp"><span class="hs-identifier hs-var">CopyArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-172"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621682953367"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953367"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953368"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953368"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953369"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953369"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953370"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953370"><span class="hs-identifier hs-var">dst_off</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953371"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953371"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-173"></span><span>      </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyArrayOp"><span class="hs-identifier hs-var">doCopyArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953367"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953368"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953369"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953370"><span class="hs-identifier hs-var">dst_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953371"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CopyMutableArrayOp"><span class="hs-identifier hs-var">CopyMutableArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-177"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621682953374"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953374"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953375"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953375"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953376"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953376"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953377"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953377"><span class="hs-identifier hs-var">dst_off</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953378"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953378"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-178"></span><span>      </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyMutableArrayOp"><span class="hs-identifier hs-var">doCopyMutableArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953374"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953375"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953376"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953377"><span class="hs-identifier hs-var">dst_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953378"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CloneArrayOp"><span class="hs-identifier hs-var">CloneArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-182"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621682953381"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953381"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953382"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953382"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953383"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953383"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682953384"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953384"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-183"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Integer -&gt; Integer
forall a. Num a =&gt; Platform -&gt; a -&gt; a
</span><a href="GHC.Runtime.Heap.Layout.html#wordsToBytes"><span class="hs-identifier hs-var">wordsToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.StgToCmm.Prim.html#asUnsigned"><span class="hs-identifier hs-var">asUnsigned</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953384"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953383"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953338"><span class="hs-identifier hs-var">max_inl_alloc_size</span></a></span><span>
</span><span id="line-184"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682953385"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953385"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCloneArray"><span class="hs-identifier hs-var">emitCloneArray</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="GHC.Cmm.CLabel.html#mkMAP_FROZEN_CLEAN_infoLabel"><span class="hs-identifier hs-var">mkMAP_FROZEN_CLEAN_infoLabel</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953385"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953381"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953382"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953383"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CloneMutableArrayOp"><span class="hs-identifier hs-var">CloneMutableArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-188"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621682953389"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953389"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953390"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953390"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953391"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953391"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682953392"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953392"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-189"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Integer -&gt; Integer
forall a. Num a =&gt; Platform -&gt; a -&gt; a
</span><a href="GHC.Runtime.Heap.Layout.html#wordsToBytes"><span class="hs-identifier hs-var">wordsToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.StgToCmm.Prim.html#asUnsigned"><span class="hs-identifier hs-var">asUnsigned</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953392"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953391"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953338"><span class="hs-identifier hs-var">max_inl_alloc_size</span></a></span><span>
</span><span id="line-190"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682953393"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953393"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCloneArray"><span class="hs-identifier hs-var">emitCloneArray</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="GHC.Cmm.CLabel.html#mkMAP_DIRTY_infoLabel"><span class="hs-identifier hs-var">mkMAP_DIRTY_infoLabel</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953393"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953389"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953390"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953391"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FreezeArrayOp"><span class="hs-identifier hs-var">FreezeArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-194"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621682953395"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953395"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953396"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953396"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953397"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953397"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682953398"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953398"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-195"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Integer -&gt; Integer
forall a. Num a =&gt; Platform -&gt; a -&gt; a
</span><a href="GHC.Runtime.Heap.Layout.html#wordsToBytes"><span class="hs-identifier hs-var">wordsToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.StgToCmm.Prim.html#asUnsigned"><span class="hs-identifier hs-var">asUnsigned</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953398"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953397"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953338"><span class="hs-identifier hs-var">max_inl_alloc_size</span></a></span><span>
</span><span id="line-196"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682953399"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953399"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCloneArray"><span class="hs-identifier hs-var">emitCloneArray</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="GHC.Cmm.CLabel.html#mkMAP_FROZEN_CLEAN_infoLabel"><span class="hs-identifier hs-var">mkMAP_FROZEN_CLEAN_infoLabel</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953399"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953395"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953396"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953397"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ThawArrayOp"><span class="hs-identifier hs-var">ThawArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-200"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621682953401"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953401"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953402"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953402"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953403"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953403"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682953404"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953404"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-201"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Integer -&gt; Integer
forall a. Num a =&gt; Platform -&gt; a -&gt; a
</span><a href="GHC.Runtime.Heap.Layout.html#wordsToBytes"><span class="hs-identifier hs-var">wordsToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.StgToCmm.Prim.html#asUnsigned"><span class="hs-identifier hs-var">asUnsigned</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953404"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953403"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953338"><span class="hs-identifier hs-var">max_inl_alloc_size</span></a></span><span>
</span><span id="line-202"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682953405"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953405"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCloneArray"><span class="hs-identifier hs-var">emitCloneArray</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="GHC.Cmm.CLabel.html#mkMAP_DIRTY_infoLabel"><span class="hs-identifier hs-var">mkMAP_DIRTY_infoLabel</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953405"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953401"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953402"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953403"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#NewSmallArrayOp"><span class="hs-identifier hs-var">NewSmallArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953407"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953407"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682953408"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953408"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953409"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953409"><span class="hs-identifier hs-var">init</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-207"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Integer -&gt; Integer
forall a. Num a =&gt; Platform -&gt; a -&gt; a
</span><a href="GHC.Runtime.Heap.Layout.html#wordsToBytes"><span class="hs-identifier hs-var">wordsToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.StgToCmm.Prim.html#asUnsigned"><span class="hs-identifier hs-var">asUnsigned</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953408"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953407"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953338"><span class="hs-identifier hs-var">max_inl_alloc_size</span></a></span><span>
</span><span id="line-208"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682953410"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953410"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-209"></span><span>        </span><span class="annot"><span class="annottext">LocalReg
-&gt; SMRep
-&gt; CLabel
-&gt; [(CmmExpr, Int)]
-&gt; Int
-&gt; CmmExpr
-&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doNewArrayOp"><span class="hs-identifier hs-var">doNewArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953410"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; SMRep
</span><a href="GHC.Runtime.Heap.Layout.html#smallArrPtrsRep"><span class="hs-identifier hs-var">smallArrPtrsRep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953407"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="GHC.Cmm.CLabel.html#mkSMAP_DIRTY_infoLabel"><span class="hs-identifier hs-var">mkSMAP_DIRTY_infoLabel</span></a></span><span>
</span><span id="line-210"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-var">mkIntExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953407"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-211"></span><span>           </span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#fixedHdrSize"><span class="hs-identifier hs-var">fixedHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682953360"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">PlatformConstants -&gt; Int
</span><a href="GHC.Platform.Constants.html#pc_OFFSET_StgSmallMutArrPtrs_ptrs"><span class="hs-identifier hs-var">pc_OFFSET_StgSmallMutArrPtrs_ptrs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; PlatformConstants
</span><a href="GHC.Platform.html#platformConstants"><span class="hs-identifier hs-var">platformConstants</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-213"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953407"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953409"><span class="hs-identifier hs-var">init</span></a></span><span>
</span><span id="line-214"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CopySmallArrayOp"><span class="hs-identifier hs-var">CopySmallArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-217"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621682953415"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953415"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953416"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953416"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953417"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953417"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953418"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953418"><span class="hs-identifier hs-var">dst_off</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953419"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953419"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-218"></span><span>      </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopySmallArrayOp"><span class="hs-identifier hs-var">doCopySmallArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953415"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953416"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953417"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953418"><span class="hs-identifier hs-var">dst_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953419"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CopySmallMutableArrayOp"><span class="hs-identifier hs-var">CopySmallMutableArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621682953422"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953422"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953423"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953423"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953424"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953424"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953425"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953425"><span class="hs-identifier hs-var">dst_off</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953426"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953426"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-223"></span><span>      </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopySmallMutableArrayOp"><span class="hs-identifier hs-var">doCopySmallMutableArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953422"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953423"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953424"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953425"><span class="hs-identifier hs-var">dst_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953426"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-224"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CloneSmallArrayOp"><span class="hs-identifier hs-var">CloneSmallArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621682953429"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953429"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953430"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953430"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953431"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953431"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682953432"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953432"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-228"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Integer -&gt; Integer
forall a. Num a =&gt; Platform -&gt; a -&gt; a
</span><a href="GHC.Runtime.Heap.Layout.html#wordsToBytes"><span class="hs-identifier hs-var">wordsToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.StgToCmm.Prim.html#asUnsigned"><span class="hs-identifier hs-var">asUnsigned</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953432"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953431"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953338"><span class="hs-identifier hs-var">max_inl_alloc_size</span></a></span><span>
</span><span id="line-229"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682953433"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953433"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCloneSmallArray"><span class="hs-identifier hs-var">emitCloneSmallArray</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="GHC.Cmm.CLabel.html#mkSMAP_FROZEN_CLEAN_infoLabel"><span class="hs-identifier hs-var">mkSMAP_FROZEN_CLEAN_infoLabel</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953433"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953429"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953430"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953431"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CloneSmallMutableArrayOp"><span class="hs-identifier hs-var">CloneSmallMutableArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-233"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621682953437"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953437"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953438"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953438"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953439"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953439"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682953440"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953440"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-234"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Integer -&gt; Integer
forall a. Num a =&gt; Platform -&gt; a -&gt; a
</span><a href="GHC.Runtime.Heap.Layout.html#wordsToBytes"><span class="hs-identifier hs-var">wordsToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.StgToCmm.Prim.html#asUnsigned"><span class="hs-identifier hs-var">asUnsigned</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953440"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953439"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953338"><span class="hs-identifier hs-var">max_inl_alloc_size</span></a></span><span>
</span><span id="line-235"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682953441"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953441"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCloneSmallArray"><span class="hs-identifier hs-var">emitCloneSmallArray</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="GHC.Cmm.CLabel.html#mkSMAP_DIRTY_infoLabel"><span class="hs-identifier hs-var">mkSMAP_DIRTY_infoLabel</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953441"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953437"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953438"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953439"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FreezeSmallArrayOp"><span class="hs-identifier hs-var">FreezeSmallArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-239"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621682953443"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953443"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953444"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953444"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953445"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953445"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682953446"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953446"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-240"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Integer -&gt; Integer
forall a. Num a =&gt; Platform -&gt; a -&gt; a
</span><a href="GHC.Runtime.Heap.Layout.html#wordsToBytes"><span class="hs-identifier hs-var">wordsToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.StgToCmm.Prim.html#asUnsigned"><span class="hs-identifier hs-var">asUnsigned</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953446"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953445"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953338"><span class="hs-identifier hs-var">max_inl_alloc_size</span></a></span><span>
</span><span id="line-241"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682953447"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953447"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCloneSmallArray"><span class="hs-identifier hs-var">emitCloneSmallArray</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="GHC.Cmm.CLabel.html#mkSMAP_FROZEN_CLEAN_infoLabel"><span class="hs-identifier hs-var">mkSMAP_FROZEN_CLEAN_infoLabel</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953447"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953443"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953444"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953445"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-243"></span><span>
</span><span id="line-244"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ThawSmallArrayOp"><span class="hs-identifier hs-var">ThawSmallArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-245"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621682953449"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953449"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953450"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953450"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682953451"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953451"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682953452"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953452"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-246"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Integer -&gt; Integer
forall a. Num a =&gt; Platform -&gt; a -&gt; a
</span><a href="GHC.Runtime.Heap.Layout.html#wordsToBytes"><span class="hs-identifier hs-var">wordsToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Integer -&gt; Integer
</span><a href="GHC.StgToCmm.Prim.html#asUnsigned"><span class="hs-identifier hs-var">asUnsigned</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682953452"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953451"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953338"><span class="hs-identifier hs-var">max_inl_alloc_size</span></a></span><span>
</span><span id="line-247"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682953453"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953453"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCloneSmallArray"><span class="hs-identifier hs-var">emitCloneSmallArray</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="GHC.Cmm.CLabel.html#mkSMAP_DIRTY_infoLabel"><span class="hs-identifier hs-var">mkSMAP_DIRTY_infoLabel</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953453"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953449"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953450"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682953451"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span class="hs-comment">-- First we handle various awkward cases specially.</span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ParOp"><span class="hs-identifier hs-var">ParOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953455"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953455"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953456"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953456"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-comment">-- for now, just implement this in a C function</span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-comment">-- later, we might want to inline it.</span><span>
</span><span id="line-255"></span><span>    </span><span class="annot"><span class="annottext">[(LocalReg, ForeignHint)]
-&gt; CmmExpr -&gt; [(CmmExpr, ForeignHint)] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitCCall"><span class="hs-identifier hs-var">emitCCall</span></a></span><span>
</span><span id="line-256"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953456"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ForeignHint
</span><a href="GHC.Cmm.Type.html#NoHint"><span class="hs-identifier hs-var">NoHint</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-257"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLabel -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-var">CmmLabel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FastString -&gt; ForeignLabelSource -&gt; FunctionOrData -&gt; CLabel
</span><a href="GHC.Cmm.CLabel.html#mkForeignLabel"><span class="hs-identifier hs-var">mkForeignLabel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;newSpark&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ForeignLabelSource
</span><a href="GHC.Cmm.CLabel.html#ForeignLabelInExternalPackage"><span class="hs-identifier hs-var">ForeignLabelInExternalPackage</span></a></span><span> </span><span class="annot"><span class="annottext">FunctionOrData
</span><a href="GHC.Types.Basic.html#IsFunction"><span class="hs-identifier hs-var">IsFunction</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-258"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#baseExpr"><span class="hs-identifier hs-var">baseExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ForeignHint
</span><a href="GHC.Cmm.Type.html#AddrHint"><span class="hs-identifier hs-var">AddrHint</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953455"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ForeignHint
</span><a href="GHC.Cmm.Type.html#AddrHint"><span class="hs-identifier hs-var">AddrHint</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#SparkOp"><span class="hs-identifier hs-var">SparkOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953466"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953466"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953467"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953467"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-comment">-- returns the value of arg in res.  We're going to therefore</span><span>
</span><span id="line-262"></span><span>    </span><span class="hs-comment">-- refer to arg twice (once to pass to newSpark(), and once to</span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-comment">-- assign to res), so put it in a temporary.</span><span>
</span><span id="line-264"></span><span>    </span><span id="local-6989586621682953468"><span class="annot"><a href="#local-6989586621682953468"><span class="hs-identifier hs-var">tmp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; FCode LocalReg
</span><a href="GHC.StgToCmm.Utils.html#assignTemp"><span class="hs-identifier hs-var">assignTemp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953466"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-265"></span><span>    </span><span id="local-6989586621682953470"><span class="annot"><a href="#local-6989586621682953470"><span class="hs-identifier hs-var">tmp2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-type">bWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953353"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Foreign.html#emitCCall"><span class="hs-identifier hs-type">emitCCall</span></a></span><span>
</span><span id="line-267"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682953470"><span class="hs-identifier hs-type">tmp2</span></a></span><span class="hs-special">,</span><span class="annot"><a href="GHC.Cmm.Type.html#NoHint"><span class="hs-identifier hs-type">NoHint</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-268"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-type">CmmLabel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.CLabel.html#mkForeignLabel"><span class="hs-identifier hs-type">mkForeignLabel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-type">fsLit</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;newSpark&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#ForeignLabelInExternalPackage"><span class="hs-identifier hs-type">ForeignLabelInExternalPackage</span></a></span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#IsFunction"><span class="hs-identifier hs-type">IsFunction</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#baseExpr"><span class="hs-identifier hs-type">baseExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953353"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#AddrHint"><span class="hs-identifier hs-type">AddrHint</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953468"><span class="hs-identifier hs-type">tmp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#AddrHint"><span class="hs-identifier hs-type">AddrHint</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-270"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-type">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953467"><span class="hs-identifier hs-type">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953468"><span class="hs-identifier hs-type">tmp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#GetCCSOfOp"><span class="hs-identifier hs-var">GetCCSOfOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953477"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953477"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953478"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953478"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-273"></span><span>    </span><span class="hs-keyword">let</span><span>
</span><span id="line-274"></span><span>      </span><span id="local-6989586621682953479"><span class="annot"><span class="annottext">val :: CmmExpr
</span><a href="#local-6989586621682953479"><span class="hs-identifier hs-var hs-var">val</span></a></span></span><span>
</span><span id="line-275"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Bool
</span><a href="GHC.Platform.Profile.html#profileIsProfiling"><span class="hs-identifier hs-var">profileIsProfiling</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682953360"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prof.html#costCentreFrom"><span class="hs-identifier hs-var">costCentreFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmUntag"><span class="hs-identifier hs-var">cmmUntag</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953477"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmLit
</span><a href="GHC.Cmm.Utils.html#zeroCLit"><span class="hs-identifier hs-var">zeroCLit</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953478"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953479"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#GetCurrentCCSOp"><span class="hs-identifier hs-var">GetCurrentCCSOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><span class="hs-identifier">_</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953484"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953484"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-280"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953484"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cccsExpr"><span class="hs-identifier hs-var">cccsExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#MyThreadIdOp"><span class="hs-identifier hs-var">MyThreadIdOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953487"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953487"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-283"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953487"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#currentTSOExpr"><span class="hs-identifier hs-var">currentTSOExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadMutVarOp"><span class="hs-identifier hs-var">ReadMutVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953490"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953490"><span class="hs-identifier hs-var">mutv</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953491"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953491"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-286"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953491"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MemoryOrdering -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_AtomicRead"><span class="hs-identifier hs-var">MO_AtomicRead</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MemoryOrdering
</span><a href="GHC.Cmm.MachOp.html#MemOrderAcquire"><span class="hs-identifier hs-var">MemOrderAcquire</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmOffsetW"><span class="hs-identifier hs-var">cmmOffsetW</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953490"><span class="hs-identifier hs-var">mutv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#fixedHdrSizeW"><span class="hs-identifier hs-var">fixedHdrSizeW</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682953360"><span class="hs-identifier hs-var">profile</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteMutVarOp"><span class="hs-identifier hs-var">WriteMutVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953499"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953499"><span class="hs-identifier hs-var">mutv</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953500"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953500"><span class="hs-identifier hs-var">var</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-290"></span><span>    </span><span id="local-6989586621682953501"><span class="annot"><a href="#local-6989586621682953501"><span class="hs-identifier hs-var">old_val</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">(LocalReg -&gt; CmmReg) -&gt; FCode LocalReg -&gt; FCode CmmReg
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; FCode LocalReg
forall (m :: * -&gt; *). MonadGetUnique m =&gt; CmmType -&gt; m LocalReg
</span><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-var">newTemp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmType
</span><a href="GHC.Cmm.Expr.html#cmmExprType"><span class="hs-identifier hs-var">cmmExprType</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953500"><span class="hs-identifier hs-var">var</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-type">emitAssign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953501"><span class="hs-identifier hs-type">old_val</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmLoadIndexW"><span class="hs-identifier hs-type">cmmLoadIndexW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953353"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953499"><span class="hs-identifier hs-type">mutv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#fixedHdrSizeW"><span class="hs-identifier hs-type">fixedHdrSizeW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953360"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#gcWord"><span class="hs-identifier hs-type">gcWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953353"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span>    </span><span class="hs-comment">-- Without this write barrier, other CPUs may see this pointer before</span><span>
</span><span id="line-294"></span><span>    </span><span class="hs-comment">-- the writes for the closure it points to have occurred.</span><span>
</span><span id="line-295"></span><span>    </span><span class="hs-comment">-- Note that this also must come after we read the old value to ensure</span><span>
</span><span id="line-296"></span><span>    </span><span class="hs-comment">-- that the read of old_val comes before another core's write to the</span><span>
</span><span id="line-297"></span><span>    </span><span class="hs-comment">-- MutVar's value.</span><span>
</span><span id="line-298"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-type">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_AtomicWrite"><span class="hs-identifier hs-type">MO_AtomicWrite</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-type">wordWidth</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953353"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#MemOrderRelease"><span class="hs-identifier hs-type">MemOrderRelease</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-299"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetW"><span class="hs-identifier hs-type">cmmOffsetW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953353"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953499"><span class="hs-identifier hs-type">mutv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#fixedHdrSizeW"><span class="hs-identifier hs-type">fixedHdrSizeW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953360"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682953500"><span class="hs-identifier hs-type">var</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-300"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitDirtyMutVar"><span class="hs-identifier hs-type">emitDirtyMutVar</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953499"><span class="hs-identifier hs-type">mutv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682953501"><span class="hs-identifier hs-type">old_val</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AtomicSwapMutVarOp"><span class="hs-identifier hs-var">AtomicSwapMutVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953510"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953510"><span class="hs-identifier hs-var">mutv</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953511"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953511"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953512"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953512"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-303"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682953513"><span class="annot"><span class="annottext">dst :: CmmExpr
</span><a href="#local-6989586621682953513"><span class="hs-identifier hs-var hs-var hs-var">dst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmOffsetW"><span class="hs-identifier hs-var">cmmOffsetW</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953510"><span class="hs-identifier hs-var">mutv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#fixedHdrSizeW"><span class="hs-identifier hs-var">fixedHdrSizeW</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682953360"><span class="hs-identifier hs-var">profile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-304"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953512"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Xchg"><span class="hs-identifier hs-var">MO_Xchg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953513"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953511"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-305"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitDirtyMutVar"><span class="hs-identifier hs-var">emitDirtyMutVar</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953510"><span class="hs-identifier hs-var">mutv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-var">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953512"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-comment">--  #define sizzeofByteArrayzh(r,a) \</span><span>
</span><span id="line-308"></span><span class="hs-comment">--     r = ((StgArrBytes *)(a))-&gt;bytes</span><span>
</span><span id="line-309"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#SizeofByteArrayOp"><span class="hs-identifier hs-var">SizeofByteArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953516"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953516"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953517"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953517"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-310"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953517"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Profile -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#byteArraySize"><span class="hs-identifier hs-var">byteArraySize</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682953360"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953516"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-311"></span><span>
</span><span id="line-312"></span><span class="hs-comment">--  #define sizzeofMutableByteArrayzh(r,a) \</span><span>
</span><span id="line-313"></span><span class="hs-comment">--      r = ((StgArrBytes *)(a))-&gt;bytes</span><span>
</span><span id="line-314"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#SizeofMutableByteArrayOp"><span class="hs-identifier hs-var">SizeofMutableByteArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#emitPrimOp"><span class="hs-identifier hs-var">emitPrimOp</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#SizeofByteArrayOp"><span class="hs-identifier hs-var">SizeofByteArrayOp</span></a></span><span>
</span><span id="line-315"></span><span>
</span><span id="line-316"></span><span class="hs-comment">--  #define getSizzeofMutableByteArrayzh(r,a) \</span><span>
</span><span id="line-317"></span><span class="hs-comment">--      r = ((StgArrBytes *)(a))-&gt;bytes</span><span>
</span><span id="line-318"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#GetSizeofMutableByteArrayOp"><span class="hs-identifier hs-var">GetSizeofMutableByteArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953521"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953521"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953522"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953522"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-319"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953522"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Profile -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#byteArraySize"><span class="hs-identifier hs-var">byteArraySize</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682953360"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953521"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span>
</span><span id="line-322"></span><span class="hs-comment">--  #define touchzh(o)                  /* nothing */</span><span>
</span><span id="line-323"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#TouchOp"><span class="hs-identifier hs-var">TouchOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953524"><span class="annot"><span class="annottext">args :: [CmmExpr]
</span><a href="#local-6989586621682953524"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><span class="hs-identifier">_</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953525"><span class="annot"><span class="annottext">res :: [LocalReg]
</span><a href="#local-6989586621682953525"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-324"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953525"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Touch"><span class="hs-identifier hs-var">MO_Touch</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953524"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="hs-comment">--  #define byteArrayContentszh(r,a) r = BYTE_ARR_CTS(a)</span><span>
</span><span id="line-327"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ByteArrayContents_Char"><span class="hs-identifier hs-var">ByteArrayContents_Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953528"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953528"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953529"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953529"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-328"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953529"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-var">cmmOffsetB</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953528"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-var">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682953360"><span class="hs-identifier hs-var">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span class="hs-comment">--  #define mutableByteArrayContentszh(r,a) r = BYTE_ARR_CTS(a)</span><span>
</span><span id="line-331"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#MutableByteArrayContents_Char"><span class="hs-identifier hs-var">MutableByteArrayContents_Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953533"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953533"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953534"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953534"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-332"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953534"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-var">cmmOffsetB</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953533"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-var">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682953360"><span class="hs-identifier hs-var">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span class="hs-comment">--  #define stableNameToIntzh(r,s)   (r = ((StgStableName *)s)-&gt;sn)</span><span>
</span><span id="line-335"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#StableNameToIntOp"><span class="hs-identifier hs-var">StableNameToIntOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953536"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953536"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953537"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953537"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-336"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953537"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; Int -&gt; CmmType -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmLoadIndexW"><span class="hs-identifier hs-var">cmmLoadIndexW</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953536"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#fixedHdrSizeW"><span class="hs-identifier hs-var">fixedHdrSizeW</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682953360"><span class="hs-identifier hs-var">profile</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#EqStablePtrOp"><span class="hs-identifier hs-var">EqStablePtrOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordEq"><span class="hs-identifier hs-var">mo_wordEq</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReallyUnsafePtrEqualityOp"><span class="hs-identifier hs-var">ReallyUnsafePtrEqualityOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953542"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953542"><span class="hs-identifier hs-var">arg1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953543"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953543"><span class="hs-identifier hs-var">arg2</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953544"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953544"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-341"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953544"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordEq"><span class="hs-identifier hs-var">mo_wordEq</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953542"><span class="hs-identifier hs-var">arg1</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953543"><span class="hs-identifier hs-var">arg2</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span class="hs-comment">--  #define addrToHValuezh(r,a) r=(P_)a</span><span>
</span><span id="line-344"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AddrToAnyOp"><span class="hs-identifier hs-var">AddrToAnyOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953547"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953547"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953548"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953548"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-345"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953548"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953547"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span class="hs-comment">--  #define hvalueToAddrzh(r, a) r=(W_)a</span><span>
</span><span id="line-348"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AnyToAddrOp"><span class="hs-identifier hs-var">AnyToAddrOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953550"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953550"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953551"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953551"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-349"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953551"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953550"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span class="hs-comment">{- Freezing arrays-of-ptrs requires changing an info table, for the
   benefit of the generational collector.  It needs to scavenge mutable
   objects, even if they are in old space.  When they become immutable,
   they can be removed from this scavenge list.  -}</span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="hs-comment">--  #define unsafeFreezzeArrayzh(r,a)</span><span>
</span><span id="line-357"></span><span class="hs-comment">--      {</span><span>
</span><span id="line-358"></span><span class="hs-comment">--        SET_INFO((StgClosure *)a,&amp;stg_MUT_ARR_PTRS_FROZEN_DIRTY_info);</span><span>
</span><span id="line-359"></span><span class="hs-comment">--        r = a;</span><span>
</span><span id="line-360"></span><span class="hs-comment">--      }</span><span>
</span><span id="line-361"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#UnsafeFreezeArrayOp"><span class="hs-identifier hs-var">UnsafeFreezeArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953553"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953553"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953554"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953554"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-362"></span><span>    </span><span class="annot"><span class="annottext">CmmAGraph -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmAGraph -&gt; FCode ()) -&gt; CmmAGraph -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[CmmAGraph] -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#catAGraphs"><span class="hs-identifier hs-var">catAGraphs</span></a></span><span>
</span><span id="line-363"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmAGraph
</span><a href="GHC.StgToCmm.Prim.html#setInfo"><span class="hs-identifier hs-var">setInfo</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953553"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLabel -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-var">CmmLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="GHC.Cmm.CLabel.html#mkMAP_FROZEN_DIRTY_infoLabel"><span class="hs-identifier hs-var">mkMAP_FROZEN_DIRTY_infoLabel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-364"></span><span>        </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-var">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953554"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953553"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-365"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#UnsafeFreezeSmallArrayOp"><span class="hs-identifier hs-var">UnsafeFreezeSmallArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953561"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953561"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953562"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953562"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-366"></span><span>    </span><span class="annot"><span class="annottext">CmmAGraph -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmAGraph -&gt; FCode ()) -&gt; CmmAGraph -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[CmmAGraph] -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#catAGraphs"><span class="hs-identifier hs-var">catAGraphs</span></a></span><span>
</span><span id="line-367"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmAGraph
</span><a href="GHC.StgToCmm.Prim.html#setInfo"><span class="hs-identifier hs-var">setInfo</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953561"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLabel -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-var">CmmLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="GHC.Cmm.CLabel.html#mkSMAP_FROZEN_DIRTY_infoLabel"><span class="hs-identifier hs-var">mkSMAP_FROZEN_DIRTY_infoLabel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-368"></span><span>        </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-var">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953562"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953561"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span class="hs-comment">--  #define unsafeFreezzeByteArrayzh(r,a)       r=(a)</span><span>
</span><span id="line-371"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#UnsafeFreezeByteArrayOp"><span class="hs-identifier hs-var">UnsafeFreezeByteArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953565"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953565"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953566"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953566"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-372"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953566"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953565"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span class="hs-comment">--  #define unsafeThawByteArrayzh(r,a)       r=(a)</span><span>
</span><span id="line-375"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#UnsafeThawByteArrayOp"><span class="hs-identifier hs-var">UnsafeThawByteArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953568"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953568"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953569"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953569"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-376"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953569"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953568"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-377"></span><span>
</span><span id="line-378"></span><span class="hs-comment">-- Reading/writing pointer arrays</span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadArrayOp"><span class="hs-identifier hs-var">ReadArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953571"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953571"><span class="hs-identifier hs-var">obj</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953572"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953572"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953573"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953573"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-381"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doReadPtrArrayOp"><span class="hs-identifier hs-var">doReadPtrArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953573"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953571"><span class="hs-identifier hs-var">obj</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953572"><span class="hs-identifier hs-var">ix</span></a></span><span>
</span><span id="line-382"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexArrayOp"><span class="hs-identifier hs-var">IndexArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953576"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953576"><span class="hs-identifier hs-var">obj</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953577"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953577"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953578"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953578"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-383"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doReadPtrArrayOp"><span class="hs-identifier hs-var">doReadPtrArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953578"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953576"><span class="hs-identifier hs-var">obj</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953577"><span class="hs-identifier hs-var">ix</span></a></span><span>
</span><span id="line-384"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteArrayOp"><span class="hs-identifier hs-var">WriteArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953580"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953580"><span class="hs-identifier hs-var">obj</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953581"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953581"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953582"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953582"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-385"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWritePtrArrayOp"><span class="hs-identifier hs-var">doWritePtrArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953580"><span class="hs-identifier hs-var">obj</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953581"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953582"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-386"></span><span>
</span><span id="line-387"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadSmallArrayOp"><span class="hs-identifier hs-var">ReadSmallArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953585"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953585"><span class="hs-identifier hs-var">obj</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953586"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953586"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953587"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953587"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-388"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doReadSmallPtrArrayOp"><span class="hs-identifier hs-var">doReadSmallPtrArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953587"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953585"><span class="hs-identifier hs-var">obj</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953586"><span class="hs-identifier hs-var">ix</span></a></span><span>
</span><span id="line-389"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexSmallArrayOp"><span class="hs-identifier hs-var">IndexSmallArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953590"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953590"><span class="hs-identifier hs-var">obj</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682953591"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953591"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953592"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953592"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-390"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doReadSmallPtrArrayOp"><span class="hs-identifier hs-var">doReadSmallPtrArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953592"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953590"><span class="hs-identifier hs-var">obj</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953591"><span class="hs-identifier hs-var">ix</span></a></span><span>
</span><span id="line-391"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteSmallArrayOp"><span class="hs-identifier hs-var">WriteSmallArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953594"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953594"><span class="hs-identifier hs-var">obj</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682953595"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953595"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682953596"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953596"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-392"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteSmallPtrArrayOp"><span class="hs-identifier hs-var">doWriteSmallPtrArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953594"><span class="hs-identifier hs-var">obj</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953595"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953596"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-393"></span><span>
</span><span id="line-394"></span><span class="hs-comment">-- Getting the size of pointer arrays</span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#SizeofArrayOp"><span class="hs-identifier hs-var">SizeofArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953599"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953599"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953600"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953600"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-397"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953600"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Profile -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#ptrArraySize"><span class="hs-identifier hs-var">ptrArraySize</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682953360"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953599"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-398"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#SizeofMutableArrayOp"><span class="hs-identifier hs-var">SizeofMutableArrayOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#emitPrimOp"><span class="hs-identifier hs-var">emitPrimOp</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#SizeofArrayOp"><span class="hs-identifier hs-var">SizeofArrayOp</span></a></span><span>
</span><span id="line-399"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#SizeofSmallArrayOp"><span class="hs-identifier hs-var">SizeofSmallArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953604"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953604"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682953605"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953605"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-400"></span><span>    </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682953605"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Profile -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#smallPtrArraySize"><span class="hs-identifier hs-var">smallPtrArraySize</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682953360"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682953604"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#SizeofSmallMutableArrayOp"><span class="hs-identifier hs-var">SizeofSmallMutableArrayOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#emitPrimOp"><span class="hs-identifier hs-var">emitPrimOp</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#SizeofSmallArrayOp"><span class="hs-identifier hs-var">SizeofSmallArrayOp</span></a></span><span>
</span><span id="line-403"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#GetSizeofSmallMutableArrayOp"><span class="hs-identifier hs-var">GetSizeofSmallMutableArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#emitPrimOp"><span class="hs-identifier hs-var">emitPrimOp</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#SizeofSmallArrayOp"><span class="hs-identifier hs-var">SizeofSmallArrayOp</span></a></span><span>
</span><span id="line-404"></span><span>
</span><span id="line-405"></span><span class="hs-comment">-- IndexXXXoffAddr</span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Char"><span class="hs-identifier hs-var">IndexOffAddrOp_Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953610"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953610"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953611"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953611"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-408"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_8ToWord"><span class="hs-identifier hs-var">mo_u_8ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953611"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953610"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-409"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_WideChar"><span class="hs-identifier hs-var">IndexOffAddrOp_WideChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953616"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953616"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953617"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953617"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-410"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_32ToWord"><span class="hs-identifier hs-var">mo_u_32ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953617"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953616"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-411"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Int"><span class="hs-identifier hs-var">IndexOffAddrOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953621"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953621"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953622"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953622"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-412"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953622"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953621"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-413"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word"><span class="hs-identifier hs-var">IndexOffAddrOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953624"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953624"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953625"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953625"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-414"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953625"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953624"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-415"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Addr"><span class="hs-identifier hs-var">IndexOffAddrOp_Addr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953627"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953627"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953628"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953628"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-416"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953628"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953627"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-417"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Float"><span class="hs-identifier hs-var">IndexOffAddrOp_Float</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953630"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953630"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953631"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953631"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-418"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f32"><span class="hs-identifier hs-var">f32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953631"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953630"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-419"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Double"><span class="hs-identifier hs-var">IndexOffAddrOp_Double</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953634"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953634"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953635"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953635"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-420"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f64"><span class="hs-identifier hs-var">f64</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953635"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953634"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-421"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_StablePtr"><span class="hs-identifier hs-var">IndexOffAddrOp_StablePtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953638"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953638"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953639"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953639"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-422"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953639"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953638"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-423"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Int8"><span class="hs-identifier hs-var">IndexOffAddrOp_Int8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953641"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953641"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953642"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953642"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-424"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953642"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953641"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-425"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Int16"><span class="hs-identifier hs-var">IndexOffAddrOp_Int16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953644"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953644"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953645"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953645"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-426"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953645"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953644"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-427"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Int32"><span class="hs-identifier hs-var">IndexOffAddrOp_Int32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953648"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953648"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953649"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953649"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-428"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953649"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953648"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-429"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Int64"><span class="hs-identifier hs-var">IndexOffAddrOp_Int64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953651"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953651"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953652"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953652"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-430"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953652"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953651"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-431"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953655"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953655"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953656"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953656"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-432"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953656"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953655"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-433"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word16"><span class="hs-identifier hs-var">IndexOffAddrOp_Word16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953658"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953658"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953659"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953659"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-434"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953659"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953658"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-435"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word32"><span class="hs-identifier hs-var">IndexOffAddrOp_Word32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953661"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953661"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953662"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953662"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-436"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953662"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953661"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-437"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word64"><span class="hs-identifier hs-var">IndexOffAddrOp_Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953664"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953664"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953665"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953665"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-438"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953665"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953664"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span class="hs-comment">-- ReadXXXoffAddr, which are identical, for our purposes, to IndexXXXoffAddr.</span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Char"><span class="hs-identifier hs-var">ReadOffAddrOp_Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953667"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953667"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953668"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953668"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-443"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_8ToWord"><span class="hs-identifier hs-var">mo_u_8ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953668"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953667"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-444"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_WideChar"><span class="hs-identifier hs-var">ReadOffAddrOp_WideChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953670"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953670"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953671"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953671"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-445"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_32ToWord"><span class="hs-identifier hs-var">mo_u_32ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953671"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953670"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-446"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Int"><span class="hs-identifier hs-var">ReadOffAddrOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953673"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953673"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953674"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953674"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-447"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953674"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953673"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-448"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word"><span class="hs-identifier hs-var">ReadOffAddrOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953676"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953676"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953677"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953677"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-449"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953677"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953676"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-450"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Addr"><span class="hs-identifier hs-var">ReadOffAddrOp_Addr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953679"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953679"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953680"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953680"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-451"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953680"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953679"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-452"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Float"><span class="hs-identifier hs-var">ReadOffAddrOp_Float</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953682"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953682"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953683"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953683"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-453"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f32"><span class="hs-identifier hs-var">f32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953683"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953682"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-454"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Double"><span class="hs-identifier hs-var">ReadOffAddrOp_Double</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953685"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953685"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953686"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953686"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-455"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f64"><span class="hs-identifier hs-var">f64</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953686"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953685"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-456"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_StablePtr"><span class="hs-identifier hs-var">ReadOffAddrOp_StablePtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953688"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953688"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953689"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953689"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-457"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953689"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953688"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-458"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Int8"><span class="hs-identifier hs-var">ReadOffAddrOp_Int8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953691"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953691"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953692"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953692"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-459"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953692"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953691"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-460"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Int16"><span class="hs-identifier hs-var">ReadOffAddrOp_Int16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953694"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953694"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953695"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953695"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-461"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953695"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953694"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-462"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Int32"><span class="hs-identifier hs-var">ReadOffAddrOp_Int32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953697"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953697"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953698"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953698"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-463"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953698"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953697"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-464"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Int64"><span class="hs-identifier hs-var">ReadOffAddrOp_Int64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953700"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953700"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953701"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953701"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-465"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953701"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953700"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-466"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953703"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953703"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953704"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953704"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-467"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953704"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953703"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-468"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word16"><span class="hs-identifier hs-var">ReadOffAddrOp_Word16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953706"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953706"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953707"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953707"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-469"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953707"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953706"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-470"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word32"><span class="hs-identifier hs-var">ReadOffAddrOp_Word32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953709"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953709"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953710"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953710"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-471"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953710"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953709"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-472"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word64"><span class="hs-identifier hs-var">ReadOffAddrOp_Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953712"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953712"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953713"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953713"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-473"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953713"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953712"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span class="hs-comment">-- IndexWord8OffAddrAsXXX</span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8AsChar"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8AsChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953715"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953715"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953716"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953716"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-478"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_8ToWord"><span class="hs-identifier hs-var">mo_u_8ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953716"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953715"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-479"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8AsWideChar"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8AsWideChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953719"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953719"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953720"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953720"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-480"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_32ToWord"><span class="hs-identifier hs-var">mo_u_32ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953720"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953719"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-481"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8AsInt"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8AsInt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953722"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953722"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953723"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953723"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-482"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953723"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953722"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-483"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8AsWord"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8AsWord</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953725"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953725"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953726"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953726"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-484"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953726"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953725"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-485"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8AsAddr"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8AsAddr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953728"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953728"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953729"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953729"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-486"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953729"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953728"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-487"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8AsFloat"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8AsFloat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953731"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953731"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953732"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953732"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-488"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f32"><span class="hs-identifier hs-var">f32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953732"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953731"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-489"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8AsDouble"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8AsDouble</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953734"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953734"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953735"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953735"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-490"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f64"><span class="hs-identifier hs-var">f64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953735"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953734"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-491"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8AsStablePtr"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8AsStablePtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953737"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953737"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953738"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953738"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-492"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953738"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953737"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-493"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8AsInt16"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8AsInt16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953740"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953740"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953741"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953741"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-494"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953741"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953740"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-495"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8AsInt32"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8AsInt32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953743"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953743"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953744"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953744"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-496"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953744"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953743"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-497"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8AsInt64"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8AsInt64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953746"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953746"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953747"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953747"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-498"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953747"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953746"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-499"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8AsWord16"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8AsWord16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953749"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953749"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953750"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953750"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-500"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953750"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953749"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-501"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8AsWord32"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8AsWord32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953752"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953752"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953753"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953753"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-502"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953753"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953752"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-503"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexOffAddrOp_Word8AsWord64"><span class="hs-identifier hs-var">IndexOffAddrOp_Word8AsWord64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953755"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953755"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953756"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953756"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-504"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953756"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953755"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-505"></span><span>
</span><span id="line-506"></span><span class="hs-comment">-- ReadWord8OffAddrAsXXX, identical to IndexWord8OffAddrAsXXX</span><span>
</span><span id="line-507"></span><span>
</span><span id="line-508"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8AsChar"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8AsChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953758"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953758"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953759"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953759"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-509"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_8ToWord"><span class="hs-identifier hs-var">mo_u_8ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953759"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953758"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-510"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8AsWideChar"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8AsWideChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953761"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953761"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953762"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953762"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-511"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_32ToWord"><span class="hs-identifier hs-var">mo_u_32ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953762"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953761"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-512"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8AsInt"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8AsInt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953764"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953764"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953765"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953765"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-513"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953765"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953764"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-514"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8AsWord"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8AsWord</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953767"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953767"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953768"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953768"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-515"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953768"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953767"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-516"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8AsAddr"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8AsAddr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953770"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953770"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953771"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953771"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-517"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953771"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953770"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-518"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8AsFloat"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8AsFloat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953773"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953773"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953774"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953774"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-519"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f32"><span class="hs-identifier hs-var">f32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953774"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953773"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-520"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8AsDouble"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8AsDouble</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953776"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953776"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953777"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953777"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-521"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f64"><span class="hs-identifier hs-var">f64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953777"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953776"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-522"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8AsStablePtr"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8AsStablePtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953779"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953779"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953780"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953780"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-523"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953780"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953779"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-524"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8AsInt16"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8AsInt16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953782"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953782"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953783"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953783"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-525"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953783"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953782"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-526"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8AsInt32"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8AsInt32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953785"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953785"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953786"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953786"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-527"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953786"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953785"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-528"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8AsInt64"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8AsInt64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953788"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953788"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953789"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953789"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-529"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953789"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953788"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-530"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8AsWord16"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8AsWord16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953791"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953791"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953792"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953792"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-531"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953792"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953791"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-532"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8AsWord32"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8AsWord32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953794"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953794"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953795"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953795"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-533"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953795"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953794"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-534"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadOffAddrOp_Word8AsWord64"><span class="hs-identifier hs-var">ReadOffAddrOp_Word8AsWord64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953797"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953797"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953798"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953798"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-535"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953798"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953797"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-536"></span><span>
</span><span id="line-537"></span><span class="hs-comment">-- WriteWord8ArrayAsXXX</span><span>
</span><span id="line-538"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8AsChar"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8AsChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953800"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953800"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953801"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953801"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-539"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_WordTo8"><span class="hs-identifier hs-var">mo_WordTo8</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953801"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953800"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-540"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8AsWideChar"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8AsWideChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953805"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953805"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953806"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953806"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-541"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_WordTo32"><span class="hs-identifier hs-var">mo_WordTo32</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953806"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953805"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-542"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8AsInt"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8AsInt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953809"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953809"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953810"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953810"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-543"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953810"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953809"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-544"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8AsWord"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8AsWord</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953812"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953812"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953813"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953813"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-545"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953813"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953812"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-546"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8AsAddr"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8AsAddr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953815"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953815"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953816"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953816"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-547"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953816"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953815"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-548"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8AsFloat"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8AsFloat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953818"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953818"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953819"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953819"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-549"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953819"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953818"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-550"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8AsDouble"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8AsDouble</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953821"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953821"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953822"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953822"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-551"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953822"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953821"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-552"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8AsStablePtr"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8AsStablePtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953824"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953824"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953825"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953825"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-553"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953825"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953824"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-554"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8AsInt16"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8AsInt16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953827"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953827"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953828"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953828"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-555"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953828"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953827"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-556"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8AsInt32"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8AsInt32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953830"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953830"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953831"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953831"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-557"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953831"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953830"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-558"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8AsInt64"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8AsInt64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953833"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953833"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953834"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953834"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-559"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953834"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953833"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-560"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8AsWord16"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8AsWord16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953836"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953836"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953837"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953837"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-561"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953837"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953836"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-562"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8AsWord32"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8AsWord32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953839"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953839"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953840"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953840"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-563"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953840"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953839"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-564"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8AsWord64"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8AsWord64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953842"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953842"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953843"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953843"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-565"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953843"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953842"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-566"></span><span>
</span><span id="line-567"></span><span class="hs-comment">-- IndexXXXArray</span><span>
</span><span id="line-568"></span><span>
</span><span id="line-569"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Char"><span class="hs-identifier hs-var">IndexByteArrayOp_Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953845"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953845"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953846"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953846"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-570"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_8ToWord"><span class="hs-identifier hs-var">mo_u_8ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953846"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953845"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-571"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_WideChar"><span class="hs-identifier hs-var">IndexByteArrayOp_WideChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953849"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953849"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953850"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953850"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-572"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_32ToWord"><span class="hs-identifier hs-var">mo_u_32ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953850"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953849"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-573"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Int"><span class="hs-identifier hs-var">IndexByteArrayOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953852"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953852"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953853"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953853"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-574"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953853"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953852"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-575"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word"><span class="hs-identifier hs-var">IndexByteArrayOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953855"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953855"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953856"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953856"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-576"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953856"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953855"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-577"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Addr"><span class="hs-identifier hs-var">IndexByteArrayOp_Addr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953858"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953858"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953859"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953859"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-578"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953859"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953858"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-579"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Float"><span class="hs-identifier hs-var">IndexByteArrayOp_Float</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953861"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953861"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953862"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953862"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-580"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f32"><span class="hs-identifier hs-var">f32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953862"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953861"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-581"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Double"><span class="hs-identifier hs-var">IndexByteArrayOp_Double</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953864"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953864"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953865"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953865"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-582"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f64"><span class="hs-identifier hs-var">f64</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953865"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953864"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-583"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_StablePtr"><span class="hs-identifier hs-var">IndexByteArrayOp_StablePtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953867"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953867"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953868"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953868"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-584"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953868"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953867"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-585"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Int8"><span class="hs-identifier hs-var">IndexByteArrayOp_Int8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953870"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953870"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953871"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953871"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-586"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953871"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953870"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-587"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Int16"><span class="hs-identifier hs-var">IndexByteArrayOp_Int16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953873"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953873"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953874"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953874"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-588"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953874"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953873"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-589"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Int32"><span class="hs-identifier hs-var">IndexByteArrayOp_Int32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953876"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953876"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953877"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953877"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-590"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953877"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953876"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-591"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Int64"><span class="hs-identifier hs-var">IndexByteArrayOp_Int64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953879"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953879"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953880"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953880"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-592"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953880"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953879"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-593"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953882"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953882"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953883"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953883"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-594"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953883"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953882"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-595"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word16"><span class="hs-identifier hs-var">IndexByteArrayOp_Word16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953885"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953885"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953886"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953886"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-596"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953886"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953885"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-597"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word32"><span class="hs-identifier hs-var">IndexByteArrayOp_Word32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953888"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953888"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953889"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953889"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-598"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953889"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953888"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-599"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word64"><span class="hs-identifier hs-var">IndexByteArrayOp_Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953891"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953891"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953892"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953892"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-600"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953892"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953891"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-601"></span><span>
</span><span id="line-602"></span><span class="hs-comment">-- ReadXXXArray, identical to IndexXXXArray.</span><span>
</span><span id="line-603"></span><span>
</span><span id="line-604"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Char"><span class="hs-identifier hs-var">ReadByteArrayOp_Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953894"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953894"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953895"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953895"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-605"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_8ToWord"><span class="hs-identifier hs-var">mo_u_8ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953895"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953894"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-606"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_WideChar"><span class="hs-identifier hs-var">ReadByteArrayOp_WideChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953897"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953897"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953898"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953898"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-607"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_32ToWord"><span class="hs-identifier hs-var">mo_u_32ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953898"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953897"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-608"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Int"><span class="hs-identifier hs-var">ReadByteArrayOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953900"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953900"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953901"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953901"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-609"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953901"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953900"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-610"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word"><span class="hs-identifier hs-var">ReadByteArrayOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953903"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953903"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953904"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953904"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-611"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953904"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953903"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-612"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Addr"><span class="hs-identifier hs-var">ReadByteArrayOp_Addr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953906"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953906"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953907"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953907"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-613"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953907"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953906"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-614"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Float"><span class="hs-identifier hs-var">ReadByteArrayOp_Float</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953909"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953909"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953910"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953910"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-615"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f32"><span class="hs-identifier hs-var">f32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953910"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953909"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-616"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Double"><span class="hs-identifier hs-var">ReadByteArrayOp_Double</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953912"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953912"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953913"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953913"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-617"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f64"><span class="hs-identifier hs-var">f64</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953913"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953912"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-618"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_StablePtr"><span class="hs-identifier hs-var">ReadByteArrayOp_StablePtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953915"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953915"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953916"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953916"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-619"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953916"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953915"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-620"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Int8"><span class="hs-identifier hs-var">ReadByteArrayOp_Int8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953918"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953918"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953919"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953919"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-621"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953919"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953918"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-622"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Int16"><span class="hs-identifier hs-var">ReadByteArrayOp_Int16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953921"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953921"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953922"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953922"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-623"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953922"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953921"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-624"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Int32"><span class="hs-identifier hs-var">ReadByteArrayOp_Int32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953924"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953924"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953925"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953925"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-625"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953925"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953924"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-626"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Int64"><span class="hs-identifier hs-var">ReadByteArrayOp_Int64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953927"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953927"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953928"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953928"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-627"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953928"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953927"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-628"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953930"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953930"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953931"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953931"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-629"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953931"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953930"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-630"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word16"><span class="hs-identifier hs-var">ReadByteArrayOp_Word16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953933"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953933"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953934"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953934"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-631"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953934"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953933"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-632"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word32"><span class="hs-identifier hs-var">ReadByteArrayOp_Word32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953936"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953936"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953937"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953937"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-633"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953937"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953936"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-634"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word64"><span class="hs-identifier hs-var">ReadByteArrayOp_Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953939"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953939"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953940"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953940"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-635"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953940"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953939"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-636"></span><span>
</span><span id="line-637"></span><span class="hs-comment">-- IndexWord8ArrayAsXXX</span><span>
</span><span id="line-638"></span><span>
</span><span id="line-639"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8AsChar"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8AsChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953942"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953942"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953943"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953943"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-640"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_8ToWord"><span class="hs-identifier hs-var">mo_u_8ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953943"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953942"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-641"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8AsWideChar"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8AsWideChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953946"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953946"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953947"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953947"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-642"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_32ToWord"><span class="hs-identifier hs-var">mo_u_32ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953947"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953946"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-643"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8AsInt"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8AsInt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953949"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953949"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953950"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953950"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-644"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953950"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953949"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-645"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8AsWord"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8AsWord</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953952"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953952"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953953"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953953"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-646"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953953"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953952"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-647"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8AsAddr"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8AsAddr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953955"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953955"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953956"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953956"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-648"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953956"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953955"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-649"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8AsFloat"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8AsFloat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953958"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953958"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953959"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953959"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-650"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f32"><span class="hs-identifier hs-var">f32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953959"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953958"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-651"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8AsDouble"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8AsDouble</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953961"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953961"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953962"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953962"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-652"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f64"><span class="hs-identifier hs-var">f64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953962"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953961"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-653"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8AsStablePtr"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8AsStablePtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953964"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953964"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953965"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953965"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-654"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953965"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953964"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-655"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8AsInt16"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8AsInt16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953967"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953967"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953968"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953968"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-656"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953968"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953967"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-657"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8AsInt32"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8AsInt32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953970"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953970"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953971"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953971"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-658"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953971"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953970"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-659"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8AsInt64"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8AsInt64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953973"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953973"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953974"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953974"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-660"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953974"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953973"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-661"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8AsWord16"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8AsWord16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953976"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953976"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953977"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953977"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-662"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953977"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953976"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-663"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8AsWord32"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8AsWord32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953979"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953979"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953980"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953980"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-664"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953980"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953979"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-665"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IndexByteArrayOp_Word8AsWord64"><span class="hs-identifier hs-var">IndexByteArrayOp_Word8AsWord64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953982"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953982"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953983"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953983"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-666"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953983"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953982"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-667"></span><span>
</span><span id="line-668"></span><span class="hs-comment">-- ReadInt8ArrayAsXXX, identical to IndexInt8ArrayAsXXX</span><span>
</span><span id="line-669"></span><span>
</span><span id="line-670"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8AsChar"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8AsChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953985"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953985"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953986"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953986"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-671"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_8ToWord"><span class="hs-identifier hs-var">mo_u_8ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953986"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953985"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-672"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8AsWideChar"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8AsWideChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953988"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953988"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953989"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953989"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-673"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_u_32ToWord"><span class="hs-identifier hs-var">mo_u_32ToWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953989"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953988"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-674"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8AsInt"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8AsInt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953991"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953991"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953992"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953992"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-675"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953992"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953991"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-676"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8AsWord"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8AsWord</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953994"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953994"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953995"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953995"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-677"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953995"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953994"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-678"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8AsAddr"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8AsAddr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953997"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953997"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682953998"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953998"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-679"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682953998"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682953997"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-680"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8AsFloat"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8AsFloat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954000"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954000"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954001"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954001"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-681"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f32"><span class="hs-identifier hs-var">f32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954001"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954000"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-682"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8AsDouble"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8AsDouble</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954003"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954003"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954004"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954004"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-683"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f64"><span class="hs-identifier hs-var">f64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954004"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954003"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-684"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8AsStablePtr"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8AsStablePtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954006"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954006"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954007"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954007"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-685"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954007"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954006"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-686"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8AsInt16"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8AsInt16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954009"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954009"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954010"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954010"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-687"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954010"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954009"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-688"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8AsInt32"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8AsInt32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954012"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954012"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954013"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954013"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-689"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954013"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954012"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-690"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8AsInt64"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8AsInt64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954015"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954015"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954016"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954016"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-691"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954016"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954015"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-692"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8AsWord16"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8AsWord16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954018"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954018"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954019"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954019"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-693"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954019"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954018"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-694"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8AsWord32"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8AsWord32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954021"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954021"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954022"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954022"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-695"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954022"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954021"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-696"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadByteArrayOp_Word8AsWord64"><span class="hs-identifier hs-var">ReadByteArrayOp_Word8AsWord64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954024"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954024"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954025"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954025"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-697"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span>   </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954025"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954024"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-698"></span><span>
</span><span id="line-699"></span><span class="hs-comment">-- WriteXXXoffAddr</span><span>
</span><span id="line-700"></span><span>
</span><span id="line-701"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Char"><span class="hs-identifier hs-var">WriteOffAddrOp_Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954027"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954027"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954028"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954028"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-702"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_WordTo8"><span class="hs-identifier hs-var">mo_WordTo8</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954028"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954027"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-703"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_WideChar"><span class="hs-identifier hs-var">WriteOffAddrOp_WideChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954030"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954030"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954031"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954031"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-704"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_WordTo32"><span class="hs-identifier hs-var">mo_WordTo32</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954031"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954030"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-705"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Int"><span class="hs-identifier hs-var">WriteOffAddrOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954033"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954033"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954034"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954034"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-706"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954034"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954033"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-707"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word"><span class="hs-identifier hs-var">WriteOffAddrOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954036"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954036"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954037"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954037"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-708"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954037"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954036"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-709"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Addr"><span class="hs-identifier hs-var">WriteOffAddrOp_Addr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954039"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954039"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954040"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954040"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-710"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954040"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954039"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-711"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Float"><span class="hs-identifier hs-var">WriteOffAddrOp_Float</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954042"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954042"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954043"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954043"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-712"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f32"><span class="hs-identifier hs-var">f32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954043"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954042"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-713"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Double"><span class="hs-identifier hs-var">WriteOffAddrOp_Double</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954045"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954045"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954046"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954046"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-714"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f64"><span class="hs-identifier hs-var">f64</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954046"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954045"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-715"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_StablePtr"><span class="hs-identifier hs-var">WriteOffAddrOp_StablePtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954048"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954048"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954049"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954049"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-716"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954049"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954048"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-717"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Int8"><span class="hs-identifier hs-var">WriteOffAddrOp_Int8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954051"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954051"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954052"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954052"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-718"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954052"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954051"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-719"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Int16"><span class="hs-identifier hs-var">WriteOffAddrOp_Int16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954054"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954054"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954055"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954055"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-720"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954055"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954054"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-721"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Int32"><span class="hs-identifier hs-var">WriteOffAddrOp_Int32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954057"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954057"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954058"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954058"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-722"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954058"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954057"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-723"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Int64"><span class="hs-identifier hs-var">WriteOffAddrOp_Int64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954060"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954060"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954061"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954061"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-724"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954061"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954060"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-725"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word8"><span class="hs-identifier hs-var">WriteOffAddrOp_Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954063"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954063"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954064"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954064"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-726"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954064"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954063"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-727"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word16"><span class="hs-identifier hs-var">WriteOffAddrOp_Word16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954066"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954066"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954067"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954067"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-728"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954067"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954066"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-729"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word32"><span class="hs-identifier hs-var">WriteOffAddrOp_Word32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954069"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954069"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954070"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954070"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-730"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954070"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954069"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-731"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteOffAddrOp_Word64"><span class="hs-identifier hs-var">WriteOffAddrOp_Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954072"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954072"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954073"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954073"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-732"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954073"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954072"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-733"></span><span>
</span><span id="line-734"></span><span class="hs-comment">-- WriteXXXArray</span><span>
</span><span id="line-735"></span><span>
</span><span id="line-736"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Char"><span class="hs-identifier hs-var">WriteByteArrayOp_Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954075"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954075"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954076"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954076"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-737"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_WordTo8"><span class="hs-identifier hs-var">mo_WordTo8</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954076"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954075"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-738"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_WideChar"><span class="hs-identifier hs-var">WriteByteArrayOp_WideChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954079"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954079"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954080"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954080"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-739"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_WordTo32"><span class="hs-identifier hs-var">mo_WordTo32</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954080"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954079"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-740"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Int"><span class="hs-identifier hs-var">WriteByteArrayOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954082"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954082"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954083"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954083"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-741"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954083"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954082"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-742"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word"><span class="hs-identifier hs-var">WriteByteArrayOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954085"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954085"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954086"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954086"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-743"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954086"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954085"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-744"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Addr"><span class="hs-identifier hs-var">WriteByteArrayOp_Addr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954088"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954088"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954089"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954089"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-745"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954089"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954088"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-746"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Float"><span class="hs-identifier hs-var">WriteByteArrayOp_Float</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954091"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954091"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954092"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954092"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-747"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f32"><span class="hs-identifier hs-var">f32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954092"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954091"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-748"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Double"><span class="hs-identifier hs-var">WriteByteArrayOp_Double</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954094"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954094"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954095"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954095"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-749"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#f64"><span class="hs-identifier hs-var">f64</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954095"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954094"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-750"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_StablePtr"><span class="hs-identifier hs-var">WriteByteArrayOp_StablePtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954097"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954097"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954098"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954098"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-751"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954098"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954097"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-752"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Int8"><span class="hs-identifier hs-var">WriteByteArrayOp_Int8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954100"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954100"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954101"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954101"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-753"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954101"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954100"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-754"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Int16"><span class="hs-identifier hs-var">WriteByteArrayOp_Int16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954103"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954103"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954104"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954104"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-755"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954104"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954103"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-756"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Int32"><span class="hs-identifier hs-var">WriteByteArrayOp_Int32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954106"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954106"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954107"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954107"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-757"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954107"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954106"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-758"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Int64"><span class="hs-identifier hs-var">WriteByteArrayOp_Int64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954109"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954109"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954110"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954110"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-759"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954110"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954109"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-760"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954112"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954112"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954113"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954113"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-761"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span>  </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954113"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954112"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-762"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word16"><span class="hs-identifier hs-var">WriteByteArrayOp_Word16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954115"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954115"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954116"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954116"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-763"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954116"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954115"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-764"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word32"><span class="hs-identifier hs-var">WriteByteArrayOp_Word32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954118"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954118"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954119"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954119"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-765"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954119"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954118"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-766"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word64"><span class="hs-identifier hs-var">WriteByteArrayOp_Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954121"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954121"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954122"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954122"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-767"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954122"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954121"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-768"></span><span>
</span><span id="line-769"></span><span class="hs-comment">-- WriteInt8ArrayAsXXX</span><span>
</span><span id="line-770"></span><span>
</span><span id="line-771"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8AsChar"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8AsChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954124"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954124"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954125"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954125"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-772"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_WordTo8"><span class="hs-identifier hs-var">mo_WordTo8</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954125"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954124"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-773"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8AsWideChar"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8AsWideChar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954127"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954127"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954128"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954128"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-774"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; Maybe MachOp
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_WordTo32"><span class="hs-identifier hs-var">mo_WordTo32</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954128"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954127"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-775"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8AsInt"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8AsInt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954130"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954130"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954131"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954131"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-776"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954131"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954130"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-777"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8AsWord"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8AsWord</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954133"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954133"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954134"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954134"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-778"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954134"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954133"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-779"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8AsAddr"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8AsAddr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954136"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954136"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954137"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954137"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-780"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954137"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954136"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-781"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8AsFloat"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8AsFloat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954139"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954139"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954140"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954140"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-782"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954140"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954139"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-783"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8AsDouble"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8AsDouble</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954142"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954142"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954143"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954143"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-784"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954143"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954142"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-785"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8AsStablePtr"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8AsStablePtr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954145"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954145"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954146"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954146"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-786"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954146"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954145"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-787"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8AsInt16"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8AsInt16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954148"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954148"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954149"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954149"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-788"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954149"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954148"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-789"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8AsInt32"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8AsInt32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954151"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954151"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954152"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954152"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-790"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954152"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954151"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-791"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8AsInt64"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8AsInt64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954154"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954154"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954155"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954155"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-792"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954155"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954154"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-793"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8AsWord16"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8AsWord16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954157"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954157"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954158"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954158"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-794"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954158"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954157"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-795"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8AsWord32"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8AsWord32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954160"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954160"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954161"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954161"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-796"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954161"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954160"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-797"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteByteArrayOp_Word8AsWord64"><span class="hs-identifier hs-var">WriteByteArrayOp_Word8AsWord64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954163"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954163"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954164"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954164"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-798"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954164"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954163"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-799"></span><span>
</span><span id="line-800"></span><span class="hs-comment">-- Copying and setting byte arrays</span><span>
</span><span id="line-801"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CopyByteArrayOp"><span class="hs-identifier hs-var">CopyByteArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954166"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954166"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954167"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954167"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954168"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954168"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954169"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954169"><span class="hs-identifier hs-var">dst_off</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954170"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954170"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-802"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyByteArrayOp"><span class="hs-identifier hs-var">doCopyByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954166"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954167"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954168"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954169"><span class="hs-identifier hs-var">dst_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954170"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-803"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CopyMutableByteArrayOp"><span class="hs-identifier hs-var">CopyMutableByteArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954173"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954173"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954174"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954174"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954175"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954175"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954176"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954176"><span class="hs-identifier hs-var">dst_off</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954177"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954177"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-804"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyMutableByteArrayOp"><span class="hs-identifier hs-var">doCopyMutableByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954173"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954174"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954175"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954176"><span class="hs-identifier hs-var">dst_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954177"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-805"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CopyMutableByteArrayNonOverlappingOp"><span class="hs-identifier hs-var">CopyMutableByteArrayNonOverlappingOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954180"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954180"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954181"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954181"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954182"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954182"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954183"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954183"><span class="hs-identifier hs-var">dst_off</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954184"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954184"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-806"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyMutableByteArrayNonOverlappingOp"><span class="hs-identifier hs-var">doCopyMutableByteArrayNonOverlappingOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954180"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954181"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954182"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954183"><span class="hs-identifier hs-var">dst_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954184"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-807"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CopyByteArrayToAddrOp"><span class="hs-identifier hs-var">CopyByteArrayToAddrOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954187"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954187"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954188"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954188"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954189"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954189"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954190"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954190"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-808"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyByteArrayToAddrOp"><span class="hs-identifier hs-var">doCopyByteArrayToAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954187"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954188"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954189"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954190"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-809"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CopyMutableByteArrayToAddrOp"><span class="hs-identifier hs-var">CopyMutableByteArrayToAddrOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954193"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954193"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954194"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954194"><span class="hs-identifier hs-var">src_off</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954195"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954195"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954196"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954196"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-810"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyMutableByteArrayToAddrOp"><span class="hs-identifier hs-var">doCopyMutableByteArrayToAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954193"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954194"><span class="hs-identifier hs-var">src_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954195"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954196"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-811"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CopyAddrToByteArrayOp"><span class="hs-identifier hs-var">CopyAddrToByteArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954199"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954199"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954200"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954200"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954201"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954201"><span class="hs-identifier hs-var">dst_off</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954202"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954202"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-812"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyAddrToByteArrayOp"><span class="hs-identifier hs-var">doCopyAddrToByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954199"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954200"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954201"><span class="hs-identifier hs-var">dst_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954202"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-813"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CopyAddrToAddrOp"><span class="hs-identifier hs-var">CopyAddrToAddrOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954205"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954205"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954206"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954206"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954207"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954207"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-814"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyAddrToAddrOp"><span class="hs-identifier hs-var">doCopyAddrToAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954205"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954206"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954207"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-815"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CopyAddrToAddrNonOverlappingOp"><span class="hs-identifier hs-var">CopyAddrToAddrNonOverlappingOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954210"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954210"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954211"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954211"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954212"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954212"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-816"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyAddrToAddrNonOverlappingOp"><span class="hs-identifier hs-var">doCopyAddrToAddrNonOverlappingOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954210"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954211"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954212"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-817"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#SetByteArrayOp"><span class="hs-identifier hs-var">SetByteArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954215"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954215"><span class="hs-identifier hs-var">ba</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954216"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954216"><span class="hs-identifier hs-var">off</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954217"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954217"><span class="hs-identifier hs-var">len</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954218"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954218"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-818"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doSetByteArrayOp"><span class="hs-identifier hs-var">doSetByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954215"><span class="hs-identifier hs-var">ba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954216"><span class="hs-identifier hs-var">off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954217"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954218"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-819"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#SetAddrRangeOp"><span class="hs-identifier hs-var">SetAddrRangeOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954221"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954221"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954222"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954222"><span class="hs-identifier hs-var">len</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954223"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954223"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-820"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doSetAddrRangeOp"><span class="hs-identifier hs-var">doSetAddrRangeOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954221"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954222"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954223"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-821"></span><span>
</span><span id="line-822"></span><span class="hs-comment">-- Comparing byte arrays</span><span>
</span><span id="line-823"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CompareByteArraysOp"><span class="hs-identifier hs-var">CompareByteArraysOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954226"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954226"><span class="hs-identifier hs-var">ba1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954227"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954227"><span class="hs-identifier hs-var">ba1_off</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954228"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954228"><span class="hs-identifier hs-var">ba2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954229"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954229"><span class="hs-identifier hs-var">ba2_off</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954230"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954230"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954231"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954231"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-824"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCompareByteArraysOp"><span class="hs-identifier hs-var">doCompareByteArraysOp</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954231"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954226"><span class="hs-identifier hs-var">ba1</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954227"><span class="hs-identifier hs-var">ba1_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954228"><span class="hs-identifier hs-var">ba2</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954229"><span class="hs-identifier hs-var">ba2_off</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954230"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-825"></span><span>
</span><span id="line-826"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#BSwap16Op"><span class="hs-identifier hs-var">BSwap16Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954234"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954234"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954235"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954235"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-827"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitBSwapCall"><span class="hs-identifier hs-var">emitBSwapCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954235"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954234"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span>
</span><span id="line-828"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#BSwap32Op"><span class="hs-identifier hs-var">BSwap32Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954239"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954239"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954240"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954240"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-829"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitBSwapCall"><span class="hs-identifier hs-var">emitBSwapCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954240"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954239"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span>
</span><span id="line-830"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#BSwap64Op"><span class="hs-identifier hs-var">BSwap64Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954243"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954243"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954244"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954244"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-831"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitBSwapCall"><span class="hs-identifier hs-var">emitBSwapCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954244"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954243"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span>
</span><span id="line-832"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#BSwapOp"><span class="hs-identifier hs-var">BSwapOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954247"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954247"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954248"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954248"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-833"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitBSwapCall"><span class="hs-identifier hs-var">emitBSwapCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954248"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954247"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-834"></span><span>
</span><span id="line-835"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#BRev8Op"><span class="hs-identifier hs-var">BRev8Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954250"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954250"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954251"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954251"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-836"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitBRevCall"><span class="hs-identifier hs-var">emitBRevCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954251"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954250"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span>
</span><span id="line-837"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#BRev16Op"><span class="hs-identifier hs-var">BRev16Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954255"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954255"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954256"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954256"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-838"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitBRevCall"><span class="hs-identifier hs-var">emitBRevCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954256"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954255"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span>
</span><span id="line-839"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#BRev32Op"><span class="hs-identifier hs-var">BRev32Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954258"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954258"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954259"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954259"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-840"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitBRevCall"><span class="hs-identifier hs-var">emitBRevCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954259"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954258"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span>
</span><span id="line-841"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#BRev64Op"><span class="hs-identifier hs-var">BRev64Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954261"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954261"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954262"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954262"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-842"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitBRevCall"><span class="hs-identifier hs-var">emitBRevCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954262"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954261"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span>
</span><span id="line-843"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#BRevOp"><span class="hs-identifier hs-var">BRevOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954264"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954264"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954265"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954265"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-844"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitBRevCall"><span class="hs-identifier hs-var">emitBRevCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954265"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954264"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-845"></span><span>
</span><span id="line-846"></span><span class="hs-comment">-- Population count</span><span>
</span><span id="line-847"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PopCnt8Op"><span class="hs-identifier hs-var">PopCnt8Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954267"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954267"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954268"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954268"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-848"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPopCntCall"><span class="hs-identifier hs-var">emitPopCntCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954268"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954267"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span>
</span><span id="line-849"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PopCnt16Op"><span class="hs-identifier hs-var">PopCnt16Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954271"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954271"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954272"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954272"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-850"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPopCntCall"><span class="hs-identifier hs-var">emitPopCntCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954272"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954271"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span>
</span><span id="line-851"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PopCnt32Op"><span class="hs-identifier hs-var">PopCnt32Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954274"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954274"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954275"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954275"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-852"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPopCntCall"><span class="hs-identifier hs-var">emitPopCntCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954275"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954274"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span>
</span><span id="line-853"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PopCnt64Op"><span class="hs-identifier hs-var">PopCnt64Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954277"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954277"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954278"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954278"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-854"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPopCntCall"><span class="hs-identifier hs-var">emitPopCntCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954278"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954277"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span>
</span><span id="line-855"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PopCntOp"><span class="hs-identifier hs-var">PopCntOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954280"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954280"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954281"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954281"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-856"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPopCntCall"><span class="hs-identifier hs-var">emitPopCntCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954281"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954280"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-857"></span><span>
</span><span id="line-858"></span><span class="hs-comment">-- Parallel bit deposit</span><span>
</span><span id="line-859"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Pdep8Op"><span class="hs-identifier hs-var">Pdep8Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954283"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954283"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954284"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954284"><span class="hs-identifier hs-var">mask</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954285"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954285"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-860"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPdepCall"><span class="hs-identifier hs-var">emitPdepCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954285"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954283"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954284"><span class="hs-identifier hs-var">mask</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span>
</span><span id="line-861"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Pdep16Op"><span class="hs-identifier hs-var">Pdep16Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954288"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954288"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954289"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954289"><span class="hs-identifier hs-var">mask</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954290"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954290"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-862"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPdepCall"><span class="hs-identifier hs-var">emitPdepCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954290"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954288"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954289"><span class="hs-identifier hs-var">mask</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span>
</span><span id="line-863"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Pdep32Op"><span class="hs-identifier hs-var">Pdep32Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954292"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954292"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954293"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954293"><span class="hs-identifier hs-var">mask</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954294"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954294"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-864"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPdepCall"><span class="hs-identifier hs-var">emitPdepCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954294"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954292"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954293"><span class="hs-identifier hs-var">mask</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span>
</span><span id="line-865"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Pdep64Op"><span class="hs-identifier hs-var">Pdep64Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954296"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954296"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954297"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954297"><span class="hs-identifier hs-var">mask</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954298"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954298"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-866"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPdepCall"><span class="hs-identifier hs-var">emitPdepCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954298"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954296"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954297"><span class="hs-identifier hs-var">mask</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span>
</span><span id="line-867"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PdepOp"><span class="hs-identifier hs-var">PdepOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954300"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954300"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954301"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954301"><span class="hs-identifier hs-var">mask</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954302"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954302"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-868"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPdepCall"><span class="hs-identifier hs-var">emitPdepCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954302"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954300"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954301"><span class="hs-identifier hs-var">mask</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-869"></span><span>
</span><span id="line-870"></span><span class="hs-comment">-- Parallel bit extract</span><span>
</span><span id="line-871"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Pext8Op"><span class="hs-identifier hs-var">Pext8Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954304"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954304"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954305"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954305"><span class="hs-identifier hs-var">mask</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954306"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954306"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-872"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPextCall"><span class="hs-identifier hs-var">emitPextCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954306"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954304"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954305"><span class="hs-identifier hs-var">mask</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span>
</span><span id="line-873"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Pext16Op"><span class="hs-identifier hs-var">Pext16Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954309"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954309"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954310"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954310"><span class="hs-identifier hs-var">mask</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954311"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954311"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-874"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPextCall"><span class="hs-identifier hs-var">emitPextCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954311"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954309"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954310"><span class="hs-identifier hs-var">mask</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span>
</span><span id="line-875"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Pext32Op"><span class="hs-identifier hs-var">Pext32Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954313"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954313"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954314"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954314"><span class="hs-identifier hs-var">mask</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954315"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954315"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-876"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPextCall"><span class="hs-identifier hs-var">emitPextCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954315"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954313"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954314"><span class="hs-identifier hs-var">mask</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span>
</span><span id="line-877"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Pext64Op"><span class="hs-identifier hs-var">Pext64Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954317"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954317"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954318"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954318"><span class="hs-identifier hs-var">mask</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954319"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954319"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-878"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPextCall"><span class="hs-identifier hs-var">emitPextCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954319"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954317"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954318"><span class="hs-identifier hs-var">mask</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span>
</span><span id="line-879"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PextOp"><span class="hs-identifier hs-var">PextOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954321"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954321"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954322"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954322"><span class="hs-identifier hs-var">mask</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954323"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954323"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-880"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPextCall"><span class="hs-identifier hs-var">emitPextCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954323"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954321"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954322"><span class="hs-identifier hs-var">mask</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-881"></span><span>
</span><span id="line-882"></span><span class="hs-comment">-- count leading zeros</span><span>
</span><span id="line-883"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Clz8Op"><span class="hs-identifier hs-var">Clz8Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954325"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954325"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954326"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954326"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-884"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitClzCall"><span class="hs-identifier hs-var">emitClzCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954326"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954325"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span>
</span><span id="line-885"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Clz16Op"><span class="hs-identifier hs-var">Clz16Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954329"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954329"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954330"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954330"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-886"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitClzCall"><span class="hs-identifier hs-var">emitClzCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954330"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954329"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span>
</span><span id="line-887"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Clz32Op"><span class="hs-identifier hs-var">Clz32Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954332"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954332"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954333"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954333"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-888"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitClzCall"><span class="hs-identifier hs-var">emitClzCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954333"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954332"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span>
</span><span id="line-889"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Clz64Op"><span class="hs-identifier hs-var">Clz64Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954335"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954335"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954336"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954336"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-890"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitClzCall"><span class="hs-identifier hs-var">emitClzCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954336"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954335"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span>
</span><span id="line-891"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ClzOp"><span class="hs-identifier hs-var">ClzOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954338"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954338"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954339"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954339"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-892"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitClzCall"><span class="hs-identifier hs-var">emitClzCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954339"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954338"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-893"></span><span>
</span><span id="line-894"></span><span class="hs-comment">-- count trailing zeros</span><span>
</span><span id="line-895"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Ctz8Op"><span class="hs-identifier hs-var">Ctz8Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954341"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954341"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954342"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954342"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-896"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCtzCall"><span class="hs-identifier hs-var">emitCtzCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954342"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954341"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span>
</span><span id="line-897"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Ctz16Op"><span class="hs-identifier hs-var">Ctz16Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954345"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954345"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954346"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954346"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-898"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCtzCall"><span class="hs-identifier hs-var">emitCtzCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954346"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954345"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span>
</span><span id="line-899"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Ctz32Op"><span class="hs-identifier hs-var">Ctz32Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954348"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954348"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954349"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954349"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-900"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCtzCall"><span class="hs-identifier hs-var">emitCtzCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954349"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954348"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span>
</span><span id="line-901"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Ctz64Op"><span class="hs-identifier hs-var">Ctz64Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954351"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954351"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954352"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954352"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-902"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCtzCall"><span class="hs-identifier hs-var">emitCtzCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954352"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954351"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span>
</span><span id="line-903"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CtzOp"><span class="hs-identifier hs-var">CtzOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954354"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954354"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954355"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954355"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-904"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCtzCall"><span class="hs-identifier hs-var">emitCtzCall</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954355"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954354"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-905"></span><span>
</span><span id="line-906"></span><span class="hs-comment">-- Unsigned int to floating point conversions</span><span>
</span><span id="line-907"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordToFloatOp"><span class="hs-identifier hs-var">WordToFloatOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954357"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954357"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954358"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954358"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-908"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954358"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_UF_Conv"><span class="hs-identifier hs-var">MO_UF_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954357"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-909"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordToDoubleOp"><span class="hs-identifier hs-var">WordToDoubleOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954361"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954361"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954362"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954362"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-910"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954362"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_UF_Conv"><span class="hs-identifier hs-var">MO_UF_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954361"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-911"></span><span>
</span><span id="line-912"></span><span class="hs-comment">-- Atomic operations</span><span>
</span><span id="line-913"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#InterlockedExchange_Addr"><span class="hs-identifier hs-var">InterlockedExchange_Addr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954364"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954364"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954365"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954365"><span class="hs-identifier hs-var">value</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954366"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954366"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-914"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954366"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Xchg"><span class="hs-identifier hs-var">MO_Xchg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954364"><span class="hs-identifier hs-var">src</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954365"><span class="hs-identifier hs-var">value</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-915"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#InterlockedExchange_Word"><span class="hs-identifier hs-var">InterlockedExchange_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954368"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954368"><span class="hs-identifier hs-var">src</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954369"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954369"><span class="hs-identifier hs-var">value</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954370"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954370"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-916"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954370"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Xchg"><span class="hs-identifier hs-var">MO_Xchg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954368"><span class="hs-identifier hs-var">src</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954369"><span class="hs-identifier hs-var">value</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-917"></span><span>
</span><span id="line-918"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FetchAddAddrOp_Word"><span class="hs-identifier hs-var">FetchAddAddrOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954372"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954372"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954373"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954373"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954374"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954374"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-919"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; AtomicMachOp -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicAddrRMW"><span class="hs-identifier hs-var">doAtomicAddrRMW</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954374"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Add"><span class="hs-identifier hs-var">AMO_Add</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954372"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954373"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-920"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FetchSubAddrOp_Word"><span class="hs-identifier hs-var">FetchSubAddrOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954378"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954378"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954379"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954379"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954380"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954380"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-921"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; AtomicMachOp -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicAddrRMW"><span class="hs-identifier hs-var">doAtomicAddrRMW</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954380"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Sub"><span class="hs-identifier hs-var">AMO_Sub</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954378"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954379"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-922"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FetchAndAddrOp_Word"><span class="hs-identifier hs-var">FetchAndAddrOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954383"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954383"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954384"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954384"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954385"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954385"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-923"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; AtomicMachOp -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicAddrRMW"><span class="hs-identifier hs-var">doAtomicAddrRMW</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954385"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_And"><span class="hs-identifier hs-var">AMO_And</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954383"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954384"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-924"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FetchNandAddrOp_Word"><span class="hs-identifier hs-var">FetchNandAddrOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954388"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954388"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954389"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954389"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954390"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954390"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-925"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; AtomicMachOp -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicAddrRMW"><span class="hs-identifier hs-var">doAtomicAddrRMW</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954390"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Nand"><span class="hs-identifier hs-var">AMO_Nand</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954388"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954389"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-926"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FetchOrAddrOp_Word"><span class="hs-identifier hs-var">FetchOrAddrOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954393"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954393"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954394"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954394"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954395"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954395"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-927"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; AtomicMachOp -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicAddrRMW"><span class="hs-identifier hs-var">doAtomicAddrRMW</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954395"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Or"><span class="hs-identifier hs-var">AMO_Or</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954393"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954394"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-928"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FetchXorAddrOp_Word"><span class="hs-identifier hs-var">FetchXorAddrOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954398"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954398"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954399"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954399"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954400"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954400"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-929"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; AtomicMachOp -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicAddrRMW"><span class="hs-identifier hs-var">doAtomicAddrRMW</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954400"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Xor"><span class="hs-identifier hs-var">AMO_Xor</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954398"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954399"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-930"></span><span>
</span><span id="line-931"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AtomicReadAddrOp_Word"><span class="hs-identifier hs-var">AtomicReadAddrOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954403"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954403"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954404"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954404"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-932"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmType -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicReadAddr"><span class="hs-identifier hs-var">doAtomicReadAddr</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954404"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954403"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-933"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AtomicWriteAddrOp_Word"><span class="hs-identifier hs-var">AtomicWriteAddrOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954407"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954407"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954408"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954408"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-934"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicWriteAddr"><span class="hs-identifier hs-var">doAtomicWriteAddr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954407"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954408"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-935"></span><span>
</span><span id="line-936"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CasAddrOp_Addr"><span class="hs-identifier hs-var">CasAddrOp_Addr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954411"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954411"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954412"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954412"><span class="hs-identifier hs-var">expected</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954413"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954413"><span class="hs-identifier hs-var">new</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954414"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954414"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-937"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954414"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Cmpxchg"><span class="hs-identifier hs-var">MO_Cmpxchg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954411"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954412"><span class="hs-identifier hs-var">expected</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954413"><span class="hs-identifier hs-var">new</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-938"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CasAddrOp_Word"><span class="hs-identifier hs-var">CasAddrOp_Word</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954417"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954417"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954418"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954418"><span class="hs-identifier hs-var">expected</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954419"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954419"><span class="hs-identifier hs-var">new</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954420"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954420"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-939"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954420"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Cmpxchg"><span class="hs-identifier hs-var">MO_Cmpxchg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954417"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954418"><span class="hs-identifier hs-var">expected</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954419"><span class="hs-identifier hs-var">new</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-940"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CasAddrOp_Word8"><span class="hs-identifier hs-var">CasAddrOp_Word8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954422"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954422"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954423"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954423"><span class="hs-identifier hs-var">expected</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954424"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954424"><span class="hs-identifier hs-var">new</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954425"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954425"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-941"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954425"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Cmpxchg"><span class="hs-identifier hs-var">MO_Cmpxchg</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954422"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954423"><span class="hs-identifier hs-var">expected</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954424"><span class="hs-identifier hs-var">new</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-942"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CasAddrOp_Word16"><span class="hs-identifier hs-var">CasAddrOp_Word16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954427"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954427"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954428"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954428"><span class="hs-identifier hs-var">expected</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954429"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954429"><span class="hs-identifier hs-var">new</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954430"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954430"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-943"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954430"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Cmpxchg"><span class="hs-identifier hs-var">MO_Cmpxchg</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954427"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954428"><span class="hs-identifier hs-var">expected</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954429"><span class="hs-identifier hs-var">new</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-944"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CasAddrOp_Word32"><span class="hs-identifier hs-var">CasAddrOp_Word32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954432"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954432"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954433"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954433"><span class="hs-identifier hs-var">expected</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954434"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954434"><span class="hs-identifier hs-var">new</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954435"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954435"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-945"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954435"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Cmpxchg"><span class="hs-identifier hs-var">MO_Cmpxchg</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954432"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954433"><span class="hs-identifier hs-var">expected</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954434"><span class="hs-identifier hs-var">new</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-946"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CasAddrOp_Word64"><span class="hs-identifier hs-var">CasAddrOp_Word64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954437"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954437"><span class="hs-identifier hs-var">dst</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954438"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954438"><span class="hs-identifier hs-var">expected</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954439"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954439"><span class="hs-identifier hs-var">new</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954440"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954440"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-947"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954440"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Cmpxchg"><span class="hs-identifier hs-var">MO_Cmpxchg</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954437"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954438"><span class="hs-identifier hs-var">expected</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954439"><span class="hs-identifier hs-var">new</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-948"></span><span>
</span><span id="line-949"></span><span class="hs-comment">-- SIMD primops</span><span>
</span><span id="line-950"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecBroadcastOp"><span class="hs-identifier hs-type">VecBroadcastOp</span></a></span><span> </span><span id="local-6989586621682954442"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954442"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954443"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954443"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954444"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954444"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954445"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954445"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954446"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954446"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-951"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954442"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954443"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954444"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-952"></span><span>    </span><span class="annot"><span class="annottext">CmmType -&gt; CmmExpr -&gt; LocalReg -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doVecBroadcastOp"><span class="hs-identifier hs-var">doVecBroadcastOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954449"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954445"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954446"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-953"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-954"></span><span>
</span><span id="line-955"></span><span>    </span><span class="annot"><a href="#local-6989586621682954449"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-956"></span><span>    </span><span id="local-6989586621682954449"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954449"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954442"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954443"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954444"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-957"></span><span>
</span><span id="line-958"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecPackOp"><span class="hs-identifier hs-type">VecPackOp</span></a></span><span> </span><span id="local-6989586621682954452"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954452"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954453"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954453"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954454"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954454"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954455"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954455"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954456"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954456"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-959"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954452"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954453"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954454"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-960"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; FCode () -&gt; FCode ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954455"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; Int -&gt; Bool
forall a. [a] -&gt; Int -&gt; Bool
</span><a href="GHC.Utils.Misc.html#lengthIsNot"><span class="hs-operator hs-var">`lengthIsNot`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954453"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(FCode () -&gt; FCode ()) -&gt; FCode () -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-961"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;emitPrimOp: VecPackOp has wrong number of arguments&quot;</span></span><span>
</span><span id="line-962"></span><span>    </span><span class="annot"><span class="annottext">CmmType -&gt; [CmmExpr] -&gt; LocalReg -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doVecPackOp"><span class="hs-identifier hs-var">doVecPackOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954460"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954455"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954456"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-963"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-964"></span><span>    </span><span class="annot"><a href="#local-6989586621682954460"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-965"></span><span>    </span><span id="local-6989586621682954460"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954460"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954452"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954453"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954454"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-966"></span><span>
</span><span id="line-967"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecUnpackOp"><span class="hs-identifier hs-type">VecUnpackOp</span></a></span><span> </span><span id="local-6989586621682954462"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954462"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954463"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954463"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954464"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954464"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954465"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954465"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954466"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954466"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-968"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954462"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954463"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954464"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-969"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; FCode () -&gt; FCode ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954466"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg] -&gt; Int -&gt; Bool
forall a. [a] -&gt; Int -&gt; Bool
</span><a href="GHC.Utils.Misc.html#lengthIsNot"><span class="hs-operator hs-var">`lengthIsNot`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954463"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(FCode () -&gt; FCode ()) -&gt; FCode () -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-970"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;emitPrimOp: VecUnpackOp has wrong number of results&quot;</span></span><span>
</span><span id="line-971"></span><span>    </span><span class="annot"><span class="annottext">CmmType -&gt; CmmExpr -&gt; [LocalReg] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doVecUnpackOp"><span class="hs-identifier hs-var">doVecUnpackOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954468"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954465"><span class="hs-identifier hs-var">arg</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954466"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-972"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-973"></span><span>    </span><span class="annot"><a href="#local-6989586621682954468"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-974"></span><span>    </span><span id="local-6989586621682954468"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954468"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954462"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954463"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954464"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-975"></span><span>
</span><span id="line-976"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecInsertOp"><span class="hs-identifier hs-type">VecInsertOp</span></a></span><span> </span><span id="local-6989586621682954470"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954470"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954471"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954471"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954472"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954472"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954473"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954473"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954474"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954474"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682954475"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954475"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954476"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954476"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-977"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954470"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954471"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954472"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-978"></span><span>    </span><span class="annot"><span class="annottext">CmmType -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; LocalReg -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doVecInsertOp"><span class="hs-identifier hs-var">doVecInsertOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954478"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954473"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954474"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954475"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954476"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-979"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-980"></span><span>    </span><span class="annot"><a href="#local-6989586621682954478"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-981"></span><span>    </span><span id="local-6989586621682954478"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954478"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954470"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954471"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954472"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-982"></span><span>
</span><span id="line-983"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecIndexByteArrayOp"><span class="hs-identifier hs-type">VecIndexByteArrayOp</span></a></span><span> </span><span id="local-6989586621682954480"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954480"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954481"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954481"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954482"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954482"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954483"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954483"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954484"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954484"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-984"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954480"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954481"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954482"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-985"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954485"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954484"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954483"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-986"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-987"></span><span>    </span><span class="annot"><a href="#local-6989586621682954485"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-988"></span><span>    </span><span id="local-6989586621682954485"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954485"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954480"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954481"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954482"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-989"></span><span>
</span><span id="line-990"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecReadByteArrayOp"><span class="hs-identifier hs-type">VecReadByteArrayOp</span></a></span><span> </span><span id="local-6989586621682954487"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954487"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954488"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954488"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954489"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954489"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954490"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954490"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954491"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954491"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-991"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954487"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954488"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954489"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-992"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954492"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954491"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954490"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-993"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-994"></span><span>    </span><span class="annot"><a href="#local-6989586621682954492"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-995"></span><span>    </span><span id="local-6989586621682954492"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954492"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954487"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954488"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954489"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-996"></span><span>
</span><span id="line-997"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecWriteByteArrayOp"><span class="hs-identifier hs-type">VecWriteByteArrayOp</span></a></span><span> </span><span id="local-6989586621682954494"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954494"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954495"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954495"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954496"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954496"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954497"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954497"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954498"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954498"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-998"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954494"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954495"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954496"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-999"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954499"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954498"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954497"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1000"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1001"></span><span>    </span><span class="annot"><a href="#local-6989586621682954499"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-1002"></span><span>    </span><span id="local-6989586621682954499"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954499"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954494"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954495"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954496"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1003"></span><span>
</span><span id="line-1004"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecIndexOffAddrOp"><span class="hs-identifier hs-type">VecIndexOffAddrOp</span></a></span><span> </span><span id="local-6989586621682954501"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954501"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954502"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954502"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954503"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954503"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954504"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954504"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954505"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954505"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1005"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954501"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954502"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954503"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1006"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954506"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954505"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954504"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1007"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1008"></span><span>    </span><span class="annot"><a href="#local-6989586621682954506"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-1009"></span><span>    </span><span id="local-6989586621682954506"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954506"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954501"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954502"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954503"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1010"></span><span>
</span><span id="line-1011"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecReadOffAddrOp"><span class="hs-identifier hs-type">VecReadOffAddrOp</span></a></span><span> </span><span id="local-6989586621682954508"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954508"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954509"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954509"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954510"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954510"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954511"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954511"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954512"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954512"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1012"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954508"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954509"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954510"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1013"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954513"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954512"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954511"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1014"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1015"></span><span>    </span><span class="annot"><a href="#local-6989586621682954513"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-1016"></span><span>    </span><span id="local-6989586621682954513"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954513"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954508"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954509"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954510"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1017"></span><span>
</span><span id="line-1018"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecWriteOffAddrOp"><span class="hs-identifier hs-type">VecWriteOffAddrOp</span></a></span><span> </span><span id="local-6989586621682954515"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954515"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954516"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954516"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954517"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954517"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954518"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954518"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954519"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954519"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1019"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954515"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954516"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954517"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1020"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954520"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954519"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954518"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1021"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1022"></span><span>    </span><span class="annot"><a href="#local-6989586621682954520"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-1023"></span><span>    </span><span id="local-6989586621682954520"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954520"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954515"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954516"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954517"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1024"></span><span>
</span><span id="line-1025"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecIndexScalarByteArrayOp"><span class="hs-identifier hs-type">VecIndexScalarByteArrayOp</span></a></span><span> </span><span id="local-6989586621682954522"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954522"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954523"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954523"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954524"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954524"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954525"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954525"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954526"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954526"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1026"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954522"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954523"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954524"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1027"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954527"><span class="hs-identifier hs-var">vecty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954528"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954526"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954525"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1028"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1029"></span><span>    </span><span class="annot"><a href="#local-6989586621682954527"><span class="hs-identifier hs-type">vecty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-1030"></span><span>    </span><span id="local-6989586621682954527"><span class="annot"><span class="annottext">vecty :: CmmType
</span><a href="#local-6989586621682954527"><span class="hs-identifier hs-var hs-var">vecty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954522"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954523"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954524"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1031"></span><span>
</span><span id="line-1032"></span><span>    </span><span class="annot"><a href="#local-6989586621682954528"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-1033"></span><span>    </span><span id="local-6989586621682954528"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954528"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmCat"><span class="hs-identifier hs-var">vecCmmCat</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954522"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954524"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1034"></span><span>
</span><span id="line-1035"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecReadScalarByteArrayOp"><span class="hs-identifier hs-type">VecReadScalarByteArrayOp</span></a></span><span> </span><span id="local-6989586621682954531"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954531"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954532"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954532"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954533"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954533"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954534"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954534"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954535"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954535"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1036"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954531"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954532"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954533"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1037"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954536"><span class="hs-identifier hs-var">vecty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954537"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954535"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954534"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1038"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1039"></span><span>    </span><span class="annot"><a href="#local-6989586621682954536"><span class="hs-identifier hs-type">vecty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-1040"></span><span>    </span><span id="local-6989586621682954536"><span class="annot"><span class="annottext">vecty :: CmmType
</span><a href="#local-6989586621682954536"><span class="hs-identifier hs-var hs-var">vecty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954531"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954532"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954533"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1041"></span><span>
</span><span id="line-1042"></span><span>    </span><span class="annot"><a href="#local-6989586621682954537"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-1043"></span><span>    </span><span id="local-6989586621682954537"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954537"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmCat"><span class="hs-identifier hs-var">vecCmmCat</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954531"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954533"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1044"></span><span>
</span><span id="line-1045"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecWriteScalarByteArrayOp"><span class="hs-identifier hs-type">VecWriteScalarByteArrayOp</span></a></span><span> </span><span id="local-6989586621682954539"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954539"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954540"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954540"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954541"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954541"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954542"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954542"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954543"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954543"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1046"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954539"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954540"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954541"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1047"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954544"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954543"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954542"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1048"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1049"></span><span>    </span><span class="annot"><a href="#local-6989586621682954544"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-1050"></span><span>    </span><span id="local-6989586621682954544"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954544"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmCat"><span class="hs-identifier hs-var">vecCmmCat</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954539"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954541"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1051"></span><span>
</span><span id="line-1052"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecIndexScalarOffAddrOp"><span class="hs-identifier hs-type">VecIndexScalarOffAddrOp</span></a></span><span> </span><span id="local-6989586621682954546"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954546"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954547"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954547"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954548"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954548"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954549"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954549"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954550"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954550"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1053"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954546"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954547"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954548"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1054"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954551"><span class="hs-identifier hs-var">vecty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954552"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954550"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954549"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1055"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1056"></span><span>    </span><span class="annot"><a href="#local-6989586621682954551"><span class="hs-identifier hs-type">vecty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-1057"></span><span>    </span><span id="local-6989586621682954551"><span class="annot"><span class="annottext">vecty :: CmmType
</span><a href="#local-6989586621682954551"><span class="hs-identifier hs-var hs-var">vecty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954546"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954547"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954548"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1058"></span><span>
</span><span id="line-1059"></span><span>    </span><span class="annot"><a href="#local-6989586621682954552"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-1060"></span><span>    </span><span id="local-6989586621682954552"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954552"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmCat"><span class="hs-identifier hs-var">vecCmmCat</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954546"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954548"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1061"></span><span>
</span><span id="line-1062"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecReadScalarOffAddrOp"><span class="hs-identifier hs-type">VecReadScalarOffAddrOp</span></a></span><span> </span><span id="local-6989586621682954554"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954554"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954555"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954555"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954556"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954556"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954557"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954557"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954558"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954558"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1063"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954554"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954555"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954556"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1064"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954559"><span class="hs-identifier hs-var">vecty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954560"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954558"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954557"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1065"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1066"></span><span>    </span><span class="annot"><a href="#local-6989586621682954559"><span class="hs-identifier hs-type">vecty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-1067"></span><span>    </span><span id="local-6989586621682954559"><span class="annot"><span class="annottext">vecty :: CmmType
</span><a href="#local-6989586621682954559"><span class="hs-identifier hs-var hs-var">vecty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954554"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954555"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954556"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1068"></span><span>
</span><span id="line-1069"></span><span>    </span><span class="annot"><a href="#local-6989586621682954560"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-1070"></span><span>    </span><span id="local-6989586621682954560"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954560"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmCat"><span class="hs-identifier hs-var">vecCmmCat</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954554"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954556"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1071"></span><span>
</span><span id="line-1072"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecWriteScalarOffAddrOp"><span class="hs-identifier hs-type">VecWriteScalarOffAddrOp</span></a></span><span> </span><span id="local-6989586621682954562"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954562"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954563"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954563"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954564"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954564"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954565"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954565"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954566"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954566"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1073"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954562"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954563"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954564"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1074"></span><span>    </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682954567"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682954566"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954565"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1075"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-1076"></span><span>    </span><span class="annot"><a href="#local-6989586621682954567"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-1077"></span><span>    </span><span id="local-6989586621682954567"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682954567"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmCat"><span class="hs-identifier hs-var">vecCmmCat</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954562"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954564"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1078"></span><span>
</span><span id="line-1079"></span><span>  </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecShuffleOp"><span class="hs-identifier hs-type">VecShuffleOp</span></a></span><span> </span><span id="local-6989586621682954569"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954569"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682954570"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954570"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682954571"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954571"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621682954572"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954572"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682954573"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954573"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1080"></span><span>    </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var">checkVecCompatibility</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954569"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954570"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954571"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1081"></span><span>    </span><span class="annot"><span class="annottext">CmmType -&gt; [CmmExpr] -&gt; LocalReg -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doShuffleOp"><span class="hs-identifier hs-var">doShuffleOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682954569"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682954570"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682954571"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954572"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954573"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-1082"></span><span>
</span><span id="line-1083"></span><span class="hs-comment">-- Prefetch</span><span>
</span><span id="line-1084"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchByteArrayOp3"><span class="hs-identifier hs-var">PrefetchByteArrayOp3</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954576"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954576"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1085"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchByteArrayOp"><span class="hs-identifier hs-var">doPrefetchByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>  </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954576"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1086"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchMutableByteArrayOp3"><span class="hs-identifier hs-var">PrefetchMutableByteArrayOp3</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954579"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954579"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1087"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchMutableByteArrayOp"><span class="hs-identifier hs-var">doPrefetchMutableByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>  </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954579"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1088"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchAddrOp3"><span class="hs-identifier hs-var">PrefetchAddrOp3</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954582"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954582"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1089"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchAddrOp"><span class="hs-identifier hs-var">doPrefetchAddrOp</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>  </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954582"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1090"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchValueOp3"><span class="hs-identifier hs-var">PrefetchValueOp3</span></a></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954585"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954585"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1091"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchValueOp"><span class="hs-identifier hs-var">doPrefetchValueOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954585"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1092"></span><span>
</span><span id="line-1093"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchByteArrayOp2"><span class="hs-identifier hs-var">PrefetchByteArrayOp2</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954588"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954588"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1094"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchByteArrayOp"><span class="hs-identifier hs-var">doPrefetchByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>  </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954588"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1095"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchMutableByteArrayOp2"><span class="hs-identifier hs-var">PrefetchMutableByteArrayOp2</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954590"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954590"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1096"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchMutableByteArrayOp"><span class="hs-identifier hs-var">doPrefetchMutableByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>  </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954590"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1097"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchAddrOp2"><span class="hs-identifier hs-var">PrefetchAddrOp2</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954592"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954592"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1098"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchAddrOp"><span class="hs-identifier hs-var">doPrefetchAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>  </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954592"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1099"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchValueOp2"><span class="hs-identifier hs-var">PrefetchValueOp2</span></a></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954594"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954594"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1100"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchValueOp"><span class="hs-identifier hs-var">doPrefetchValueOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954594"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1101"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchByteArrayOp1"><span class="hs-identifier hs-var">PrefetchByteArrayOp1</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954596"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954596"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1102"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchByteArrayOp"><span class="hs-identifier hs-var">doPrefetchByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>  </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954596"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1103"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchMutableByteArrayOp1"><span class="hs-identifier hs-var">PrefetchMutableByteArrayOp1</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954598"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954598"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1104"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchMutableByteArrayOp"><span class="hs-identifier hs-var">doPrefetchMutableByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>  </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954598"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1105"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchAddrOp1"><span class="hs-identifier hs-var">PrefetchAddrOp1</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954600"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954600"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1106"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchAddrOp"><span class="hs-identifier hs-var">doPrefetchAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>  </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954600"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1107"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchValueOp1"><span class="hs-identifier hs-var">PrefetchValueOp1</span></a></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954602"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954602"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1108"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchValueOp"><span class="hs-identifier hs-var">doPrefetchValueOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954602"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1109"></span><span>
</span><span id="line-1110"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchByteArrayOp0"><span class="hs-identifier hs-var">PrefetchByteArrayOp0</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954604"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954604"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1111"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchByteArrayOp"><span class="hs-identifier hs-var">doPrefetchByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>  </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954604"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1112"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchMutableByteArrayOp0"><span class="hs-identifier hs-var">PrefetchMutableByteArrayOp0</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954606"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954606"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1113"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchMutableByteArrayOp"><span class="hs-identifier hs-var">doPrefetchMutableByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>  </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954606"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1114"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchAddrOp0"><span class="hs-identifier hs-var">PrefetchAddrOp0</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954608"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954608"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1115"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchAddrOp"><span class="hs-identifier hs-var">doPrefetchAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>  </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954608"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1116"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PrefetchValueOp0"><span class="hs-identifier hs-var">PrefetchValueOp0</span></a></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954610"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954610"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1117"></span><span>    </span><span class="annot"><span class="annottext">Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchValueOp"><span class="hs-identifier hs-var">doPrefetchValueOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954610"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1118"></span><span>
</span><span id="line-1119"></span><span class="hs-comment">-- Atomic read-modify-write</span><span>
</span><span id="line-1120"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FetchAddByteArrayOp_Int"><span class="hs-identifier hs-var">FetchAddByteArrayOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954612"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954612"><span class="hs-identifier hs-var">mba</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954613"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954613"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954614"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954614"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954615"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954615"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1121"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; AtomicMachOp
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmType
-&gt; CmmExpr
-&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicByteArrayRMW"><span class="hs-identifier hs-var">doAtomicByteArrayRMW</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954615"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Add"><span class="hs-identifier hs-var">AMO_Add</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954612"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954613"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954614"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1122"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FetchSubByteArrayOp_Int"><span class="hs-identifier hs-var">FetchSubByteArrayOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954618"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954618"><span class="hs-identifier hs-var">mba</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954619"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954619"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954620"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954620"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954621"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954621"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1123"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; AtomicMachOp
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmType
-&gt; CmmExpr
-&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicByteArrayRMW"><span class="hs-identifier hs-var">doAtomicByteArrayRMW</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954621"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Sub"><span class="hs-identifier hs-var">AMO_Sub</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954618"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954619"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954620"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1124"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FetchAndByteArrayOp_Int"><span class="hs-identifier hs-var">FetchAndByteArrayOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954623"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954623"><span class="hs-identifier hs-var">mba</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954624"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954624"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954625"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954625"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954626"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954626"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1125"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; AtomicMachOp
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmType
-&gt; CmmExpr
-&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicByteArrayRMW"><span class="hs-identifier hs-var">doAtomicByteArrayRMW</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954626"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_And"><span class="hs-identifier hs-var">AMO_And</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954623"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954624"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954625"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1126"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FetchNandByteArrayOp_Int"><span class="hs-identifier hs-var">FetchNandByteArrayOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954628"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954628"><span class="hs-identifier hs-var">mba</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954629"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954629"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954630"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954630"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954631"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954631"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1127"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; AtomicMachOp
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmType
-&gt; CmmExpr
-&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicByteArrayRMW"><span class="hs-identifier hs-var">doAtomicByteArrayRMW</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954631"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Nand"><span class="hs-identifier hs-var">AMO_Nand</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954628"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954629"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954630"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1128"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FetchOrByteArrayOp_Int"><span class="hs-identifier hs-var">FetchOrByteArrayOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954633"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954633"><span class="hs-identifier hs-var">mba</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954634"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954634"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954635"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954635"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954636"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954636"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1129"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; AtomicMachOp
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmType
-&gt; CmmExpr
-&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicByteArrayRMW"><span class="hs-identifier hs-var">doAtomicByteArrayRMW</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954636"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Or"><span class="hs-identifier hs-var">AMO_Or</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954633"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954634"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954635"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1130"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FetchXorByteArrayOp_Int"><span class="hs-identifier hs-var">FetchXorByteArrayOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954638"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954638"><span class="hs-identifier hs-var">mba</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954639"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954639"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954640"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954640"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954641"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954641"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1131"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; AtomicMachOp
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmType
-&gt; CmmExpr
-&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicByteArrayRMW"><span class="hs-identifier hs-var">doAtomicByteArrayRMW</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954641"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="GHC.Cmm.MachOp.html#AMO_Xor"><span class="hs-identifier hs-var">AMO_Xor</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954638"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954639"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954640"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1132"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AtomicReadByteArrayOp_Int"><span class="hs-identifier hs-var">AtomicReadByteArrayOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954643"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954643"><span class="hs-identifier hs-var">mba</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954644"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954644"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954645"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954645"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1133"></span><span>    </span><span class="annot"><span class="annottext">LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmType -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicReadByteArray"><span class="hs-identifier hs-var">doAtomicReadByteArray</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954645"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954643"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954644"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1134"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AtomicWriteByteArrayOp_Int"><span class="hs-identifier hs-var">AtomicWriteByteArrayOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954648"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954648"><span class="hs-identifier hs-var">mba</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954649"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954649"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954650"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954650"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1135"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicWriteByteArray"><span class="hs-identifier hs-var">doAtomicWriteByteArray</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954648"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954649"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954650"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-1136"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CasByteArrayOp_Int"><span class="hs-identifier hs-var">CasByteArrayOp_Int</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954653"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954653"><span class="hs-identifier hs-var">mba</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954654"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954654"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954655"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954655"><span class="hs-identifier hs-var">old</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954656"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954656"><span class="hs-identifier hs-var">new</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954657"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954657"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1137"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCasByteArray"><span class="hs-identifier hs-var">doCasByteArray</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954657"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954653"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954654"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-var">bWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954655"><span class="hs-identifier hs-var">old</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954656"><span class="hs-identifier hs-var">new</span></a></span><span>
</span><span id="line-1138"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CasByteArrayOp_Int8"><span class="hs-identifier hs-var">CasByteArrayOp_Int8</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954660"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954660"><span class="hs-identifier hs-var">mba</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954661"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954661"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954662"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954662"><span class="hs-identifier hs-var">old</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954663"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954663"><span class="hs-identifier hs-var">new</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954664"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954664"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1139"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCasByteArray"><span class="hs-identifier hs-var">doCasByteArray</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954664"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954660"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954661"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b8"><span class="hs-identifier hs-var">b8</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954662"><span class="hs-identifier hs-var">old</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954663"><span class="hs-identifier hs-var">new</span></a></span><span>
</span><span id="line-1140"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CasByteArrayOp_Int16"><span class="hs-identifier hs-var">CasByteArrayOp_Int16</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954666"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954666"><span class="hs-identifier hs-var">mba</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954667"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954667"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954668"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954668"><span class="hs-identifier hs-var">old</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954669"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954669"><span class="hs-identifier hs-var">new</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954670"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954670"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1141"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCasByteArray"><span class="hs-identifier hs-var">doCasByteArray</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954670"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954666"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954667"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b16"><span class="hs-identifier hs-var">b16</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954668"><span class="hs-identifier hs-var">old</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954669"><span class="hs-identifier hs-var">new</span></a></span><span>
</span><span id="line-1142"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CasByteArrayOp_Int32"><span class="hs-identifier hs-var">CasByteArrayOp_Int32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954672"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954672"><span class="hs-identifier hs-var">mba</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954673"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954673"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954674"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954674"><span class="hs-identifier hs-var">old</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954675"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954675"><span class="hs-identifier hs-var">new</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954676"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954676"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1143"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCasByteArray"><span class="hs-identifier hs-var">doCasByteArray</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954676"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954672"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954673"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-var">b32</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954674"><span class="hs-identifier hs-var">old</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954675"><span class="hs-identifier hs-var">new</span></a></span><span>
</span><span id="line-1144"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CasByteArrayOp_Int64"><span class="hs-identifier hs-var">CasByteArrayOp_Int64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954678"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954678"><span class="hs-identifier hs-var">mba</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954679"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954679"><span class="hs-identifier hs-var">ix</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954680"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954680"><span class="hs-identifier hs-var">old</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682954681"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954681"><span class="hs-identifier hs-var">new</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682954682"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954682"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1145"></span><span>    </span><span class="annot"><span class="annottext">LocalReg
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCasByteArray"><span class="hs-identifier hs-var">doCasByteArray</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682954682"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954678"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954679"><span class="hs-identifier hs-var">ix</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="GHC.Cmm.Type.html#b64"><span class="hs-identifier hs-var">b64</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954680"><span class="hs-identifier hs-var">old</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682954681"><span class="hs-identifier hs-var">new</span></a></span><span>
</span><span id="line-1146"></span><span>
</span><span id="line-1147"></span><span class="hs-comment">-- The rest just translate straightforwardly</span><span>
</span><span id="line-1148"></span><span>
</span><span id="line-1149"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8ToWord8Op"><span class="hs-identifier hs-var">Int8ToWord8Op</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954684"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954684"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var">opNop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954684"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1150"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8ToInt8Op"><span class="hs-identifier hs-var">Word8ToInt8Op</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954687"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954687"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var">opNop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954687"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1151"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16ToWord16Op"><span class="hs-identifier hs-var">Int16ToWord16Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954689"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954689"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var">opNop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954689"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1152"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16ToInt16Op"><span class="hs-identifier hs-var">Word16ToInt16Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954691"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954691"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var">opNop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954691"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1153"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32ToWord32Op"><span class="hs-identifier hs-var">Int32ToWord32Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954693"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954693"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var">opNop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954693"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1154"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32ToInt32Op"><span class="hs-identifier hs-var">Word32ToInt32Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954695"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954695"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var">opNop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954695"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1155"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64ToWord64Op"><span class="hs-identifier hs-var">Int64ToWord64Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954697"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954697"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var">opNop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954697"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1156"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64ToInt64Op"><span class="hs-identifier hs-var">Word64ToInt64Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954699"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954699"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var">opNop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954699"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1157"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntToWordOp"><span class="hs-identifier hs-var">IntToWordOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954701"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954701"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var">opNop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954701"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1158"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordToIntOp"><span class="hs-identifier hs-var">WordToIntOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954703"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954703"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var">opNop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954703"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1159"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntToAddrOp"><span class="hs-identifier hs-var">IntToAddrOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954705"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954705"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var">opNop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954705"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1160"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AddrToIntOp"><span class="hs-identifier hs-var">AddrToIntOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954707"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954707"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var">opNop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954707"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1161"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ChrOp"><span class="hs-identifier hs-var">ChrOp</span></a></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954709"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954709"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var">opNop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954709"><span class="hs-identifier hs-var">args</span></a></span><span>  </span><span class="hs-comment">-- Int# and Char# are rep'd the same</span><span>
</span><span id="line-1162"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#OrdOp"><span class="hs-identifier hs-var">OrdOp</span></a></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954711"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954711"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var">opNop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954711"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1163"></span><span>
</span><span id="line-1164"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Narrow8IntOp"><span class="hs-identifier hs-var">Narrow8IntOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954713"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954713"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; (Width -&gt; Width -&gt; MachOp, Width) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954714"><span class="hs-identifier hs-var">opNarrow</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954713"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SS_Conv"><span class="hs-identifier hs-var">MO_SS_Conv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1165"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Narrow16IntOp"><span class="hs-identifier hs-var">Narrow16IntOp</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954717"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954717"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; (Width -&gt; Width -&gt; MachOp, Width) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954714"><span class="hs-identifier hs-var">opNarrow</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954717"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SS_Conv"><span class="hs-identifier hs-var">MO_SS_Conv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1166"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Narrow32IntOp"><span class="hs-identifier hs-var">Narrow32IntOp</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954719"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954719"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; (Width -&gt; Width -&gt; MachOp, Width) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954714"><span class="hs-identifier hs-var">opNarrow</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954719"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SS_Conv"><span class="hs-identifier hs-var">MO_SS_Conv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1167"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Narrow8WordOp"><span class="hs-identifier hs-var">Narrow8WordOp</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954721"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954721"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; (Width -&gt; Width -&gt; MachOp, Width) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954714"><span class="hs-identifier hs-var">opNarrow</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954721"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_UU_Conv"><span class="hs-identifier hs-var">MO_UU_Conv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1168"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Narrow16WordOp"><span class="hs-identifier hs-var">Narrow16WordOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954724"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954724"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; (Width -&gt; Width -&gt; MachOp, Width) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954714"><span class="hs-identifier hs-var">opNarrow</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954724"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_UU_Conv"><span class="hs-identifier hs-var">MO_UU_Conv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1169"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Narrow32WordOp"><span class="hs-identifier hs-var">Narrow32WordOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682954726"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954726"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; (Width -&gt; Width -&gt; MachOp, Width) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954714"><span class="hs-identifier hs-var">opNarrow</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682954726"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_UU_Conv"><span class="hs-identifier hs-var">MO_UU_Conv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1170"></span><span>
</span><span id="line-1171"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoublePowerOp"><span class="hs-identifier hs-var">DoublePowerOp</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Pwr"><span class="hs-identifier hs-var">MO_F64_Pwr</span></a></span><span>
</span><span id="line-1172"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleSinOp"><span class="hs-identifier hs-var">DoubleSinOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Sin"><span class="hs-identifier hs-var">MO_F64_Sin</span></a></span><span>
</span><span id="line-1173"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleCosOp"><span class="hs-identifier hs-var">DoubleCosOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Cos"><span class="hs-identifier hs-var">MO_F64_Cos</span></a></span><span>
</span><span id="line-1174"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleTanOp"><span class="hs-identifier hs-var">DoubleTanOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Tan"><span class="hs-identifier hs-var">MO_F64_Tan</span></a></span><span>
</span><span id="line-1175"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleSinhOp"><span class="hs-identifier hs-var">DoubleSinhOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Sinh"><span class="hs-identifier hs-var">MO_F64_Sinh</span></a></span><span>
</span><span id="line-1176"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleCoshOp"><span class="hs-identifier hs-var">DoubleCoshOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Cosh"><span class="hs-identifier hs-var">MO_F64_Cosh</span></a></span><span>
</span><span id="line-1177"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleTanhOp"><span class="hs-identifier hs-var">DoubleTanhOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Tanh"><span class="hs-identifier hs-var">MO_F64_Tanh</span></a></span><span>
</span><span id="line-1178"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleAsinOp"><span class="hs-identifier hs-var">DoubleAsinOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Asin"><span class="hs-identifier hs-var">MO_F64_Asin</span></a></span><span>
</span><span id="line-1179"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleAcosOp"><span class="hs-identifier hs-var">DoubleAcosOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Acos"><span class="hs-identifier hs-var">MO_F64_Acos</span></a></span><span>
</span><span id="line-1180"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleAtanOp"><span class="hs-identifier hs-var">DoubleAtanOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Atan"><span class="hs-identifier hs-var">MO_F64_Atan</span></a></span><span>
</span><span id="line-1181"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleAsinhOp"><span class="hs-identifier hs-var">DoubleAsinhOp</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Asinh"><span class="hs-identifier hs-var">MO_F64_Asinh</span></a></span><span>
</span><span id="line-1182"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleAcoshOp"><span class="hs-identifier hs-var">DoubleAcoshOp</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Acosh"><span class="hs-identifier hs-var">MO_F64_Acosh</span></a></span><span>
</span><span id="line-1183"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleAtanhOp"><span class="hs-identifier hs-var">DoubleAtanhOp</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Atanh"><span class="hs-identifier hs-var">MO_F64_Atanh</span></a></span><span>
</span><span id="line-1184"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleLogOp"><span class="hs-identifier hs-var">DoubleLogOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Log"><span class="hs-identifier hs-var">MO_F64_Log</span></a></span><span>
</span><span id="line-1185"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleLog1POp"><span class="hs-identifier hs-var">DoubleLog1POp</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Log1P"><span class="hs-identifier hs-var">MO_F64_Log1P</span></a></span><span>
</span><span id="line-1186"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleExpOp"><span class="hs-identifier hs-var">DoubleExpOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Exp"><span class="hs-identifier hs-var">MO_F64_Exp</span></a></span><span>
</span><span id="line-1187"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleExpM1Op"><span class="hs-identifier hs-var">DoubleExpM1Op</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_ExpM1"><span class="hs-identifier hs-var">MO_F64_ExpM1</span></a></span><span>
</span><span id="line-1188"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleSqrtOp"><span class="hs-identifier hs-var">DoubleSqrtOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Sqrt"><span class="hs-identifier hs-var">MO_F64_Sqrt</span></a></span><span>
</span><span id="line-1189"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleFabsOp"><span class="hs-identifier hs-var">DoubleFabsOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F64_Fabs"><span class="hs-identifier hs-var">MO_F64_Fabs</span></a></span><span>
</span><span id="line-1190"></span><span>
</span><span id="line-1191"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatPowerOp"><span class="hs-identifier hs-var">FloatPowerOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Pwr"><span class="hs-identifier hs-var">MO_F32_Pwr</span></a></span><span>
</span><span id="line-1192"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatSinOp"><span class="hs-identifier hs-var">FloatSinOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Sin"><span class="hs-identifier hs-var">MO_F32_Sin</span></a></span><span>
</span><span id="line-1193"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatCosOp"><span class="hs-identifier hs-var">FloatCosOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Cos"><span class="hs-identifier hs-var">MO_F32_Cos</span></a></span><span>
</span><span id="line-1194"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatTanOp"><span class="hs-identifier hs-var">FloatTanOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Tan"><span class="hs-identifier hs-var">MO_F32_Tan</span></a></span><span>
</span><span id="line-1195"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatSinhOp"><span class="hs-identifier hs-var">FloatSinhOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Sinh"><span class="hs-identifier hs-var">MO_F32_Sinh</span></a></span><span>
</span><span id="line-1196"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatCoshOp"><span class="hs-identifier hs-var">FloatCoshOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Cosh"><span class="hs-identifier hs-var">MO_F32_Cosh</span></a></span><span>
</span><span id="line-1197"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatTanhOp"><span class="hs-identifier hs-var">FloatTanhOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Tanh"><span class="hs-identifier hs-var">MO_F32_Tanh</span></a></span><span>
</span><span id="line-1198"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatAsinOp"><span class="hs-identifier hs-var">FloatAsinOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Asin"><span class="hs-identifier hs-var">MO_F32_Asin</span></a></span><span>
</span><span id="line-1199"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatAcosOp"><span class="hs-identifier hs-var">FloatAcosOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Acos"><span class="hs-identifier hs-var">MO_F32_Acos</span></a></span><span>
</span><span id="line-1200"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatAtanOp"><span class="hs-identifier hs-var">FloatAtanOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Atan"><span class="hs-identifier hs-var">MO_F32_Atan</span></a></span><span>
</span><span id="line-1201"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatAsinhOp"><span class="hs-identifier hs-var">FloatAsinhOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Asinh"><span class="hs-identifier hs-var">MO_F32_Asinh</span></a></span><span>
</span><span id="line-1202"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatAcoshOp"><span class="hs-identifier hs-var">FloatAcoshOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Acosh"><span class="hs-identifier hs-var">MO_F32_Acosh</span></a></span><span>
</span><span id="line-1203"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatAtanhOp"><span class="hs-identifier hs-var">FloatAtanhOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Atanh"><span class="hs-identifier hs-var">MO_F32_Atanh</span></a></span><span>
</span><span id="line-1204"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatLogOp"><span class="hs-identifier hs-var">FloatLogOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Log"><span class="hs-identifier hs-var">MO_F32_Log</span></a></span><span>
</span><span id="line-1205"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatLog1POp"><span class="hs-identifier hs-var">FloatLog1POp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Log1P"><span class="hs-identifier hs-var">MO_F32_Log1P</span></a></span><span>
</span><span id="line-1206"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatExpOp"><span class="hs-identifier hs-var">FloatExpOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Exp"><span class="hs-identifier hs-var">MO_F32_Exp</span></a></span><span>
</span><span id="line-1207"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatExpM1Op"><span class="hs-identifier hs-var">FloatExpM1Op</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_ExpM1"><span class="hs-identifier hs-var">MO_F32_ExpM1</span></a></span><span>
</span><span id="line-1208"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatSqrtOp"><span class="hs-identifier hs-var">FloatSqrtOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Sqrt"><span class="hs-identifier hs-var">MO_F32_Sqrt</span></a></span><span>
</span><span id="line-1209"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatFabsOp"><span class="hs-identifier hs-var">FloatFabsOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F32_Fabs"><span class="hs-identifier hs-var">MO_F32_Fabs</span></a></span><span>
</span><span id="line-1210"></span><span>
</span><span id="line-1211"></span><span class="hs-comment">-- Native word signless ops</span><span>
</span><span id="line-1212"></span><span>
</span><span id="line-1213"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntAddOp"><span class="hs-identifier hs-var">IntAddOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordAdd"><span class="hs-identifier hs-var">mo_wordAdd</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1214"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntSubOp"><span class="hs-identifier hs-var">IntSubOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordSub"><span class="hs-identifier hs-var">mo_wordSub</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1215"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordAddOp"><span class="hs-identifier hs-var">WordAddOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordAdd"><span class="hs-identifier hs-var">mo_wordAdd</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1216"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordSubOp"><span class="hs-identifier hs-var">WordSubOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordSub"><span class="hs-identifier hs-var">mo_wordSub</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1217"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AddrAddOp"><span class="hs-identifier hs-var">AddrAddOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordAdd"><span class="hs-identifier hs-var">mo_wordAdd</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1218"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AddrSubOp"><span class="hs-identifier hs-var">AddrSubOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordSub"><span class="hs-identifier hs-var">mo_wordSub</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1219"></span><span>
</span><span id="line-1220"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntEqOp"><span class="hs-identifier hs-var">IntEqOp</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordEq"><span class="hs-identifier hs-var">mo_wordEq</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1221"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntNeOp"><span class="hs-identifier hs-var">IntNeOp</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordNe"><span class="hs-identifier hs-var">mo_wordNe</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1222"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordEqOp"><span class="hs-identifier hs-var">WordEqOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordEq"><span class="hs-identifier hs-var">mo_wordEq</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1223"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordNeOp"><span class="hs-identifier hs-var">WordNeOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordNe"><span class="hs-identifier hs-var">mo_wordNe</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1224"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AddrEqOp"><span class="hs-identifier hs-var">AddrEqOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordEq"><span class="hs-identifier hs-var">mo_wordEq</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1225"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AddrNeOp"><span class="hs-identifier hs-var">AddrNeOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordNe"><span class="hs-identifier hs-var">mo_wordNe</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1226"></span><span>
</span><span id="line-1227"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordAndOp"><span class="hs-identifier hs-var">WordAndOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordAnd"><span class="hs-identifier hs-var">mo_wordAnd</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1228"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordOrOp"><span class="hs-identifier hs-var">WordOrOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordOr"><span class="hs-identifier hs-var">mo_wordOr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1229"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordXorOp"><span class="hs-identifier hs-var">WordXorOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordXor"><span class="hs-identifier hs-var">mo_wordXor</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1230"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordNotOp"><span class="hs-identifier hs-var">WordNotOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordNot"><span class="hs-identifier hs-var">mo_wordNot</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1231"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordSllOp"><span class="hs-identifier hs-var">WordSllOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordShl"><span class="hs-identifier hs-var">mo_wordShl</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1232"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordSrlOp"><span class="hs-identifier hs-var">WordSrlOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordUShr"><span class="hs-identifier hs-var">mo_wordUShr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1233"></span><span>
</span><span id="line-1234"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AddrRemOp"><span class="hs-identifier hs-var">AddrRemOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordURem"><span class="hs-identifier hs-var">mo_wordURem</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1235"></span><span>
</span><span id="line-1236"></span><span class="hs-comment">-- Native word signed ops</span><span>
</span><span id="line-1237"></span><span>
</span><span id="line-1238"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntMulOp"><span class="hs-identifier hs-var">IntMulOp</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordMul"><span class="hs-identifier hs-var">mo_wordMul</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1239"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntMulMayOfloOp"><span class="hs-identifier hs-var">IntMulMayOfloOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_MulMayOflo"><span class="hs-identifier hs-var">MO_S_MulMayOflo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1240"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntQuotOp"><span class="hs-identifier hs-var">IntQuotOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordSQuot"><span class="hs-identifier hs-var">mo_wordSQuot</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1241"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntRemOp"><span class="hs-identifier hs-var">IntRemOp</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordSRem"><span class="hs-identifier hs-var">mo_wordSRem</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1242"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntNegOp"><span class="hs-identifier hs-var">IntNegOp</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordSNeg"><span class="hs-identifier hs-var">mo_wordSNeg</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1243"></span><span>
</span><span id="line-1244"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntGeOp"><span class="hs-identifier hs-var">IntGeOp</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordSGe"><span class="hs-identifier hs-var">mo_wordSGe</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1245"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntLeOp"><span class="hs-identifier hs-var">IntLeOp</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordSLe"><span class="hs-identifier hs-var">mo_wordSLe</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1246"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntGtOp"><span class="hs-identifier hs-var">IntGtOp</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordSGt"><span class="hs-identifier hs-var">mo_wordSGt</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1247"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntLtOp"><span class="hs-identifier hs-var">IntLtOp</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordSLt"><span class="hs-identifier hs-var">mo_wordSLt</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1248"></span><span>
</span><span id="line-1249"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntAndOp"><span class="hs-identifier hs-var">IntAndOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordAnd"><span class="hs-identifier hs-var">mo_wordAnd</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1250"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntOrOp"><span class="hs-identifier hs-var">IntOrOp</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordOr"><span class="hs-identifier hs-var">mo_wordOr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1251"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntXorOp"><span class="hs-identifier hs-var">IntXorOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordXor"><span class="hs-identifier hs-var">mo_wordXor</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1252"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntNotOp"><span class="hs-identifier hs-var">IntNotOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordNot"><span class="hs-identifier hs-var">mo_wordNot</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1253"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntSllOp"><span class="hs-identifier hs-var">IntSllOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordShl"><span class="hs-identifier hs-var">mo_wordShl</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1254"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntSraOp"><span class="hs-identifier hs-var">IntSraOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordSShr"><span class="hs-identifier hs-var">mo_wordSShr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1255"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntSrlOp"><span class="hs-identifier hs-var">IntSrlOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordUShr"><span class="hs-identifier hs-var">mo_wordUShr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1256"></span><span>
</span><span id="line-1257"></span><span class="hs-comment">-- Native word unsigned ops</span><span>
</span><span id="line-1258"></span><span>
</span><span id="line-1259"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordGeOp"><span class="hs-identifier hs-var">WordGeOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordUGe"><span class="hs-identifier hs-var">mo_wordUGe</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1260"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordLeOp"><span class="hs-identifier hs-var">WordLeOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordULe"><span class="hs-identifier hs-var">mo_wordULe</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1261"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordGtOp"><span class="hs-identifier hs-var">WordGtOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordUGt"><span class="hs-identifier hs-var">mo_wordUGt</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1262"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordLtOp"><span class="hs-identifier hs-var">WordLtOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordULt"><span class="hs-identifier hs-var">mo_wordULt</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1263"></span><span>
</span><span id="line-1264"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordMulOp"><span class="hs-identifier hs-var">WordMulOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordMul"><span class="hs-identifier hs-var">mo_wordMul</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1265"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordQuotOp"><span class="hs-identifier hs-var">WordQuotOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordUQuot"><span class="hs-identifier hs-var">mo_wordUQuot</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1266"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordRemOp"><span class="hs-identifier hs-var">WordRemOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordURem"><span class="hs-identifier hs-var">mo_wordURem</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1267"></span><span>
</span><span id="line-1268"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AddrGeOp"><span class="hs-identifier hs-var">AddrGeOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordUGe"><span class="hs-identifier hs-var">mo_wordUGe</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1269"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AddrLeOp"><span class="hs-identifier hs-var">AddrLeOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordULe"><span class="hs-identifier hs-var">mo_wordULe</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1270"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AddrGtOp"><span class="hs-identifier hs-var">AddrGtOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordUGt"><span class="hs-identifier hs-var">mo_wordUGt</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1271"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AddrLtOp"><span class="hs-identifier hs-var">AddrLtOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#mo_wordULt"><span class="hs-identifier hs-var">mo_wordULt</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1272"></span><span>
</span><span id="line-1273"></span><span class="hs-comment">-- Int8# signed ops</span><span>
</span><span id="line-1274"></span><span>
</span><span id="line-1275"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8ToIntOp"><span class="hs-identifier hs-var">Int8ToIntOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SS_Conv"><span class="hs-identifier hs-var">MO_SS_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1276"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntToInt8Op"><span class="hs-identifier hs-var">IntToInt8Op</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SS_Conv"><span class="hs-identifier hs-var">MO_SS_Conv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1277"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8NegOp"><span class="hs-identifier hs-var">Int8NegOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Neg"><span class="hs-identifier hs-var">MO_S_Neg</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1278"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8AddOp"><span class="hs-identifier hs-var">Int8AddOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Add"><span class="hs-identifier hs-var">MO_Add</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1279"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8SubOp"><span class="hs-identifier hs-var">Int8SubOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Sub"><span class="hs-identifier hs-var">MO_Sub</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1280"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8MulOp"><span class="hs-identifier hs-var">Int8MulOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Mul"><span class="hs-identifier hs-var">MO_Mul</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1281"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8QuotOp"><span class="hs-identifier hs-var">Int8QuotOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Quot"><span class="hs-identifier hs-var">MO_S_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1282"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8RemOp"><span class="hs-identifier hs-var">Int8RemOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Rem"><span class="hs-identifier hs-var">MO_S_Rem</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1283"></span><span>
</span><span id="line-1284"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8SllOp"><span class="hs-identifier hs-var">Int8SllOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Shl"><span class="hs-identifier hs-var">MO_Shl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1285"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8SraOp"><span class="hs-identifier hs-var">Int8SraOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Shr"><span class="hs-identifier hs-var">MO_S_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1286"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8SrlOp"><span class="hs-identifier hs-var">Int8SrlOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Shr"><span class="hs-identifier hs-var">MO_U_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1287"></span><span>
</span><span id="line-1288"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8EqOp"><span class="hs-identifier hs-var">Int8EqOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Eq"><span class="hs-identifier hs-var">MO_Eq</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1289"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8GeOp"><span class="hs-identifier hs-var">Int8GeOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Ge"><span class="hs-identifier hs-var">MO_S_Ge</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1290"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8GtOp"><span class="hs-identifier hs-var">Int8GtOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Gt"><span class="hs-identifier hs-var">MO_S_Gt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1291"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8LeOp"><span class="hs-identifier hs-var">Int8LeOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Le"><span class="hs-identifier hs-var">MO_S_Le</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1292"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8LtOp"><span class="hs-identifier hs-var">Int8LtOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Lt"><span class="hs-identifier hs-var">MO_S_Lt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1293"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8NeOp"><span class="hs-identifier hs-var">Int8NeOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Ne"><span class="hs-identifier hs-var">MO_Ne</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1294"></span><span>
</span><span id="line-1295"></span><span class="hs-comment">-- Word8# unsigned ops</span><span>
</span><span id="line-1296"></span><span>
</span><span id="line-1297"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8ToWordOp"><span class="hs-identifier hs-var">Word8ToWordOp</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_UU_Conv"><span class="hs-identifier hs-var">MO_UU_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1298"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordToWord8Op"><span class="hs-identifier hs-var">WordToWord8Op</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_UU_Conv"><span class="hs-identifier hs-var">MO_UU_Conv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1299"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8AddOp"><span class="hs-identifier hs-var">Word8AddOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Add"><span class="hs-identifier hs-var">MO_Add</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1300"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8SubOp"><span class="hs-identifier hs-var">Word8SubOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Sub"><span class="hs-identifier hs-var">MO_Sub</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1301"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8MulOp"><span class="hs-identifier hs-var">Word8MulOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Mul"><span class="hs-identifier hs-var">MO_Mul</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1302"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8QuotOp"><span class="hs-identifier hs-var">Word8QuotOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Quot"><span class="hs-identifier hs-var">MO_U_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1303"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8RemOp"><span class="hs-identifier hs-var">Word8RemOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Rem"><span class="hs-identifier hs-var">MO_U_Rem</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1304"></span><span>
</span><span id="line-1305"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8AndOp"><span class="hs-identifier hs-var">Word8AndOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_And"><span class="hs-identifier hs-var">MO_And</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1306"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8OrOp"><span class="hs-identifier hs-var">Word8OrOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Or"><span class="hs-identifier hs-var">MO_Or</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1307"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8XorOp"><span class="hs-identifier hs-var">Word8XorOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Xor"><span class="hs-identifier hs-var">MO_Xor</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1308"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8NotOp"><span class="hs-identifier hs-var">Word8NotOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Not"><span class="hs-identifier hs-var">MO_Not</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1309"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8SllOp"><span class="hs-identifier hs-var">Word8SllOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Shl"><span class="hs-identifier hs-var">MO_Shl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1310"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8SrlOp"><span class="hs-identifier hs-var">Word8SrlOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Shr"><span class="hs-identifier hs-var">MO_U_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1311"></span><span>
</span><span id="line-1312"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8EqOp"><span class="hs-identifier hs-var">Word8EqOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Eq"><span class="hs-identifier hs-var">MO_Eq</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1313"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8GeOp"><span class="hs-identifier hs-var">Word8GeOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Ge"><span class="hs-identifier hs-var">MO_U_Ge</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1314"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8GtOp"><span class="hs-identifier hs-var">Word8GtOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Gt"><span class="hs-identifier hs-var">MO_U_Gt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1315"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8LeOp"><span class="hs-identifier hs-var">Word8LeOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Le"><span class="hs-identifier hs-var">MO_U_Le</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1316"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8LtOp"><span class="hs-identifier hs-var">Word8LtOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Lt"><span class="hs-identifier hs-var">MO_U_Lt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1317"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8NeOp"><span class="hs-identifier hs-var">Word8NeOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Ne"><span class="hs-identifier hs-var">MO_Ne</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1318"></span><span>
</span><span id="line-1319"></span><span class="hs-comment">-- Int16# signed ops</span><span>
</span><span id="line-1320"></span><span>
</span><span id="line-1321"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16ToIntOp"><span class="hs-identifier hs-var">Int16ToIntOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SS_Conv"><span class="hs-identifier hs-var">MO_SS_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1322"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntToInt16Op"><span class="hs-identifier hs-var">IntToInt16Op</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SS_Conv"><span class="hs-identifier hs-var">MO_SS_Conv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1323"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16NegOp"><span class="hs-identifier hs-var">Int16NegOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Neg"><span class="hs-identifier hs-var">MO_S_Neg</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1324"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16AddOp"><span class="hs-identifier hs-var">Int16AddOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Add"><span class="hs-identifier hs-var">MO_Add</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1325"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16SubOp"><span class="hs-identifier hs-var">Int16SubOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Sub"><span class="hs-identifier hs-var">MO_Sub</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1326"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16MulOp"><span class="hs-identifier hs-var">Int16MulOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Mul"><span class="hs-identifier hs-var">MO_Mul</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1327"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16QuotOp"><span class="hs-identifier hs-var">Int16QuotOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Quot"><span class="hs-identifier hs-var">MO_S_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1328"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16RemOp"><span class="hs-identifier hs-var">Int16RemOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Rem"><span class="hs-identifier hs-var">MO_S_Rem</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1329"></span><span>
</span><span id="line-1330"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16SllOp"><span class="hs-identifier hs-var">Int16SllOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Shl"><span class="hs-identifier hs-var">MO_Shl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1331"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16SraOp"><span class="hs-identifier hs-var">Int16SraOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Shr"><span class="hs-identifier hs-var">MO_S_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1332"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16SrlOp"><span class="hs-identifier hs-var">Int16SrlOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Shr"><span class="hs-identifier hs-var">MO_U_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1333"></span><span>
</span><span id="line-1334"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16EqOp"><span class="hs-identifier hs-var">Int16EqOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Eq"><span class="hs-identifier hs-var">MO_Eq</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1335"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16GeOp"><span class="hs-identifier hs-var">Int16GeOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Ge"><span class="hs-identifier hs-var">MO_S_Ge</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1336"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16GtOp"><span class="hs-identifier hs-var">Int16GtOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Gt"><span class="hs-identifier hs-var">MO_S_Gt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1337"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16LeOp"><span class="hs-identifier hs-var">Int16LeOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Le"><span class="hs-identifier hs-var">MO_S_Le</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1338"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16LtOp"><span class="hs-identifier hs-var">Int16LtOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Lt"><span class="hs-identifier hs-var">MO_S_Lt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1339"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16NeOp"><span class="hs-identifier hs-var">Int16NeOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Ne"><span class="hs-identifier hs-var">MO_Ne</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1340"></span><span>
</span><span id="line-1341"></span><span class="hs-comment">-- Word16# unsigned ops</span><span>
</span><span id="line-1342"></span><span>
</span><span id="line-1343"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16ToWordOp"><span class="hs-identifier hs-var">Word16ToWordOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_UU_Conv"><span class="hs-identifier hs-var">MO_UU_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1344"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordToWord16Op"><span class="hs-identifier hs-var">WordToWord16Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_UU_Conv"><span class="hs-identifier hs-var">MO_UU_Conv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1345"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16AddOp"><span class="hs-identifier hs-var">Word16AddOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Add"><span class="hs-identifier hs-var">MO_Add</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1346"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16SubOp"><span class="hs-identifier hs-var">Word16SubOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Sub"><span class="hs-identifier hs-var">MO_Sub</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1347"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16MulOp"><span class="hs-identifier hs-var">Word16MulOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Mul"><span class="hs-identifier hs-var">MO_Mul</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1348"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16QuotOp"><span class="hs-identifier hs-var">Word16QuotOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Quot"><span class="hs-identifier hs-var">MO_U_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1349"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16RemOp"><span class="hs-identifier hs-var">Word16RemOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Rem"><span class="hs-identifier hs-var">MO_U_Rem</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1350"></span><span>
</span><span id="line-1351"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16AndOp"><span class="hs-identifier hs-var">Word16AndOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_And"><span class="hs-identifier hs-var">MO_And</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1352"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16OrOp"><span class="hs-identifier hs-var">Word16OrOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Or"><span class="hs-identifier hs-var">MO_Or</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1353"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16XorOp"><span class="hs-identifier hs-var">Word16XorOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Xor"><span class="hs-identifier hs-var">MO_Xor</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1354"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16NotOp"><span class="hs-identifier hs-var">Word16NotOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Not"><span class="hs-identifier hs-var">MO_Not</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1355"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16SllOp"><span class="hs-identifier hs-var">Word16SllOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Shl"><span class="hs-identifier hs-var">MO_Shl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1356"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16SrlOp"><span class="hs-identifier hs-var">Word16SrlOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Shr"><span class="hs-identifier hs-var">MO_U_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1357"></span><span>
</span><span id="line-1358"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16EqOp"><span class="hs-identifier hs-var">Word16EqOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Eq"><span class="hs-identifier hs-var">MO_Eq</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1359"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16GeOp"><span class="hs-identifier hs-var">Word16GeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Ge"><span class="hs-identifier hs-var">MO_U_Ge</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1360"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16GtOp"><span class="hs-identifier hs-var">Word16GtOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Gt"><span class="hs-identifier hs-var">MO_U_Gt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1361"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16LeOp"><span class="hs-identifier hs-var">Word16LeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Le"><span class="hs-identifier hs-var">MO_U_Le</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1362"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16LtOp"><span class="hs-identifier hs-var">Word16LtOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Lt"><span class="hs-identifier hs-var">MO_U_Lt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1363"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16NeOp"><span class="hs-identifier hs-var">Word16NeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Ne"><span class="hs-identifier hs-var">MO_Ne</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1364"></span><span>
</span><span id="line-1365"></span><span class="hs-comment">-- Int32# signed ops</span><span>
</span><span id="line-1366"></span><span>
</span><span id="line-1367"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32ToIntOp"><span class="hs-identifier hs-var">Int32ToIntOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SS_Conv"><span class="hs-identifier hs-var">MO_SS_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1368"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntToInt32Op"><span class="hs-identifier hs-var">IntToInt32Op</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SS_Conv"><span class="hs-identifier hs-var">MO_SS_Conv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1369"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32NegOp"><span class="hs-identifier hs-var">Int32NegOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Neg"><span class="hs-identifier hs-var">MO_S_Neg</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1370"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32AddOp"><span class="hs-identifier hs-var">Int32AddOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Add"><span class="hs-identifier hs-var">MO_Add</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1371"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32SubOp"><span class="hs-identifier hs-var">Int32SubOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Sub"><span class="hs-identifier hs-var">MO_Sub</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1372"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32MulOp"><span class="hs-identifier hs-var">Int32MulOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Mul"><span class="hs-identifier hs-var">MO_Mul</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1373"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32QuotOp"><span class="hs-identifier hs-var">Int32QuotOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Quot"><span class="hs-identifier hs-var">MO_S_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1374"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32RemOp"><span class="hs-identifier hs-var">Int32RemOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Rem"><span class="hs-identifier hs-var">MO_S_Rem</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1375"></span><span>
</span><span id="line-1376"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32SllOp"><span class="hs-identifier hs-var">Int32SllOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Shl"><span class="hs-identifier hs-var">MO_Shl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1377"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32SraOp"><span class="hs-identifier hs-var">Int32SraOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Shr"><span class="hs-identifier hs-var">MO_S_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1378"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32SrlOp"><span class="hs-identifier hs-var">Int32SrlOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Shr"><span class="hs-identifier hs-var">MO_U_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1379"></span><span>
</span><span id="line-1380"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32EqOp"><span class="hs-identifier hs-var">Int32EqOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Eq"><span class="hs-identifier hs-var">MO_Eq</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1381"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32GeOp"><span class="hs-identifier hs-var">Int32GeOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Ge"><span class="hs-identifier hs-var">MO_S_Ge</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1382"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32GtOp"><span class="hs-identifier hs-var">Int32GtOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Gt"><span class="hs-identifier hs-var">MO_S_Gt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1383"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32LeOp"><span class="hs-identifier hs-var">Int32LeOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Le"><span class="hs-identifier hs-var">MO_S_Le</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1384"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32LtOp"><span class="hs-identifier hs-var">Int32LtOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Lt"><span class="hs-identifier hs-var">MO_S_Lt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1385"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32NeOp"><span class="hs-identifier hs-var">Int32NeOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Ne"><span class="hs-identifier hs-var">MO_Ne</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1386"></span><span>
</span><span id="line-1387"></span><span class="hs-comment">-- Word32# unsigned ops</span><span>
</span><span id="line-1388"></span><span>
</span><span id="line-1389"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32ToWordOp"><span class="hs-identifier hs-var">Word32ToWordOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_UU_Conv"><span class="hs-identifier hs-var">MO_UU_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1390"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordToWord32Op"><span class="hs-identifier hs-var">WordToWord32Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_UU_Conv"><span class="hs-identifier hs-var">MO_UU_Conv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1391"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32AddOp"><span class="hs-identifier hs-var">Word32AddOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Add"><span class="hs-identifier hs-var">MO_Add</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1392"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32SubOp"><span class="hs-identifier hs-var">Word32SubOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Sub"><span class="hs-identifier hs-var">MO_Sub</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1393"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32MulOp"><span class="hs-identifier hs-var">Word32MulOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Mul"><span class="hs-identifier hs-var">MO_Mul</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1394"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32QuotOp"><span class="hs-identifier hs-var">Word32QuotOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Quot"><span class="hs-identifier hs-var">MO_U_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1395"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32RemOp"><span class="hs-identifier hs-var">Word32RemOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Rem"><span class="hs-identifier hs-var">MO_U_Rem</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1396"></span><span>
</span><span id="line-1397"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32AndOp"><span class="hs-identifier hs-var">Word32AndOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_And"><span class="hs-identifier hs-var">MO_And</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1398"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32OrOp"><span class="hs-identifier hs-var">Word32OrOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Or"><span class="hs-identifier hs-var">MO_Or</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1399"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32XorOp"><span class="hs-identifier hs-var">Word32XorOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Xor"><span class="hs-identifier hs-var">MO_Xor</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1400"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32NotOp"><span class="hs-identifier hs-var">Word32NotOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Not"><span class="hs-identifier hs-var">MO_Not</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1401"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32SllOp"><span class="hs-identifier hs-var">Word32SllOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Shl"><span class="hs-identifier hs-var">MO_Shl</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1402"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32SrlOp"><span class="hs-identifier hs-var">Word32SrlOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Shr"><span class="hs-identifier hs-var">MO_U_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1403"></span><span>
</span><span id="line-1404"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32EqOp"><span class="hs-identifier hs-var">Word32EqOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Eq"><span class="hs-identifier hs-var">MO_Eq</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1405"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32GeOp"><span class="hs-identifier hs-var">Word32GeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Ge"><span class="hs-identifier hs-var">MO_U_Ge</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1406"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32GtOp"><span class="hs-identifier hs-var">Word32GtOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Gt"><span class="hs-identifier hs-var">MO_U_Gt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1407"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32LeOp"><span class="hs-identifier hs-var">Word32LeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Le"><span class="hs-identifier hs-var">MO_U_Le</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1408"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32LtOp"><span class="hs-identifier hs-var">Word32LtOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Lt"><span class="hs-identifier hs-var">MO_U_Lt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1409"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32NeOp"><span class="hs-identifier hs-var">Word32NeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Ne"><span class="hs-identifier hs-var">MO_Ne</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1410"></span><span>
</span><span id="line-1411"></span><span class="hs-comment">-- Int64# signed ops</span><span>
</span><span id="line-1412"></span><span>
</span><span id="line-1413"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64ToIntOp"><span class="hs-identifier hs-var">Int64ToIntOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SS_Conv"><span class="hs-identifier hs-var">MO_SS_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_I64_ToI"><span class="hs-identifier hs-var">MO_I64_ToI</span></a></span><span>
</span><span id="line-1414"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntToInt64Op"><span class="hs-identifier hs-var">IntToInt64Op</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SS_Conv"><span class="hs-identifier hs-var">MO_SS_Conv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_I64_FromI"><span class="hs-identifier hs-var">MO_I64_FromI</span></a></span><span>
</span><span id="line-1415"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64NegOp"><span class="hs-identifier hs-var">Int64NegOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Neg"><span class="hs-identifier hs-var">MO_S_Neg</span></a></span><span>  </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Neg"><span class="hs-identifier hs-var">MO_x64_Neg</span></a></span><span>
</span><span id="line-1416"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64AddOp"><span class="hs-identifier hs-var">Int64AddOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Add"><span class="hs-identifier hs-var">MO_Add</span></a></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Add"><span class="hs-identifier hs-var">MO_x64_Add</span></a></span><span>
</span><span id="line-1417"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64SubOp"><span class="hs-identifier hs-var">Int64SubOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Sub"><span class="hs-identifier hs-var">MO_Sub</span></a></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Sub"><span class="hs-identifier hs-var">MO_x64_Sub</span></a></span><span>
</span><span id="line-1418"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64MulOp"><span class="hs-identifier hs-var">Int64MulOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Mul"><span class="hs-identifier hs-var">MO_Mul</span></a></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Mul"><span class="hs-identifier hs-var">MO_x64_Mul</span></a></span><span>
</span><span id="line-1419"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64QuotOp"><span class="hs-identifier hs-var">Int64QuotOp</span></a></span><span>
</span><span id="line-1420"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955022"><span class="hs-identifier hs-var">allowQuot64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Quot"><span class="hs-identifier hs-var">MO_S_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1421"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_I64_Quot"><span class="hs-identifier hs-var">MO_I64_Quot</span></a></span><span>
</span><span id="line-1422"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64RemOp"><span class="hs-identifier hs-var">Int64RemOp</span></a></span><span>
</span><span id="line-1423"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955022"><span class="hs-identifier hs-var">allowQuot64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Rem"><span class="hs-identifier hs-var">MO_S_Rem</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1424"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_I64_Rem"><span class="hs-identifier hs-var">MO_I64_Rem</span></a></span><span>
</span><span id="line-1425"></span><span>
</span><span id="line-1426"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64SllOp"><span class="hs-identifier hs-var">Int64SllOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Shl"><span class="hs-identifier hs-var">MO_Shl</span></a></span><span>   </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Shl"><span class="hs-identifier hs-var">MO_x64_Shl</span></a></span><span>
</span><span id="line-1427"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64SraOp"><span class="hs-identifier hs-var">Int64SraOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Shr"><span class="hs-identifier hs-var">MO_S_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_I64_Shr"><span class="hs-identifier hs-var">MO_I64_Shr</span></a></span><span>
</span><span id="line-1428"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64SrlOp"><span class="hs-identifier hs-var">Int64SrlOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Shr"><span class="hs-identifier hs-var">MO_U_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_W64_Shr"><span class="hs-identifier hs-var">MO_W64_Shr</span></a></span><span>
</span><span id="line-1429"></span><span>
</span><span id="line-1430"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64EqOp"><span class="hs-identifier hs-var">Int64EqOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Eq"><span class="hs-identifier hs-var">MO_Eq</span></a></span><span>   </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Eq"><span class="hs-identifier hs-var">MO_x64_Eq</span></a></span><span>
</span><span id="line-1431"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64GeOp"><span class="hs-identifier hs-var">Int64GeOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Ge"><span class="hs-identifier hs-var">MO_S_Ge</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_I64_Ge"><span class="hs-identifier hs-var">MO_I64_Ge</span></a></span><span>
</span><span id="line-1432"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64GtOp"><span class="hs-identifier hs-var">Int64GtOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Gt"><span class="hs-identifier hs-var">MO_S_Gt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_I64_Gt"><span class="hs-identifier hs-var">MO_I64_Gt</span></a></span><span>
</span><span id="line-1433"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64LeOp"><span class="hs-identifier hs-var">Int64LeOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Le"><span class="hs-identifier hs-var">MO_S_Le</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_I64_Le"><span class="hs-identifier hs-var">MO_I64_Le</span></a></span><span>
</span><span id="line-1434"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64LtOp"><span class="hs-identifier hs-var">Int64LtOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Lt"><span class="hs-identifier hs-var">MO_S_Lt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_I64_Lt"><span class="hs-identifier hs-var">MO_I64_Lt</span></a></span><span>
</span><span id="line-1435"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int64NeOp"><span class="hs-identifier hs-var">Int64NeOp</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Ne"><span class="hs-identifier hs-var">MO_Ne</span></a></span><span>   </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Ne"><span class="hs-identifier hs-var">MO_x64_Ne</span></a></span><span>
</span><span id="line-1436"></span><span>
</span><span id="line-1437"></span><span class="hs-comment">-- Word64# unsigned ops</span><span>
</span><span id="line-1438"></span><span>
</span><span id="line-1439"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64ToWordOp"><span class="hs-identifier hs-var">Word64ToWordOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_UU_Conv"><span class="hs-identifier hs-var">MO_UU_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_W64_ToW"><span class="hs-identifier hs-var">MO_W64_ToW</span></a></span><span>
</span><span id="line-1440"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordToWord64Op"><span class="hs-identifier hs-var">WordToWord64Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_UU_Conv"><span class="hs-identifier hs-var">MO_UU_Conv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_W64_FromW"><span class="hs-identifier hs-var">MO_W64_FromW</span></a></span><span>
</span><span id="line-1441"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64AddOp"><span class="hs-identifier hs-var">Word64AddOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Add"><span class="hs-identifier hs-var">MO_Add</span></a></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Add"><span class="hs-identifier hs-var">MO_x64_Add</span></a></span><span>
</span><span id="line-1442"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64SubOp"><span class="hs-identifier hs-var">Word64SubOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Sub"><span class="hs-identifier hs-var">MO_Sub</span></a></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Sub"><span class="hs-identifier hs-var">MO_x64_Sub</span></a></span><span>
</span><span id="line-1443"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64MulOp"><span class="hs-identifier hs-var">Word64MulOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Mul"><span class="hs-identifier hs-var">MO_Mul</span></a></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Mul"><span class="hs-identifier hs-var">MO_x64_Mul</span></a></span><span>
</span><span id="line-1444"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64QuotOp"><span class="hs-identifier hs-var">Word64QuotOp</span></a></span><span>
</span><span id="line-1445"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955022"><span class="hs-identifier hs-var">allowQuot64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Quot"><span class="hs-identifier hs-var">MO_U_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1446"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span>   </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_W64_Quot"><span class="hs-identifier hs-var">MO_W64_Quot</span></a></span><span>
</span><span id="line-1447"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64RemOp"><span class="hs-identifier hs-var">Word64RemOp</span></a></span><span>
</span><span id="line-1448"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955022"><span class="hs-identifier hs-var">allowQuot64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Rem"><span class="hs-identifier hs-var">MO_U_Rem</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1449"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span>   </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_W64_Rem"><span class="hs-identifier hs-var">MO_W64_Rem</span></a></span><span>
</span><span id="line-1450"></span><span>
</span><span id="line-1451"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64AndOp"><span class="hs-identifier hs-var">Word64AndOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_And"><span class="hs-identifier hs-var">MO_And</span></a></span><span>   </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_And"><span class="hs-identifier hs-var">MO_x64_And</span></a></span><span>
</span><span id="line-1452"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64OrOp"><span class="hs-identifier hs-var">Word64OrOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Or"><span class="hs-identifier hs-var">MO_Or</span></a></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Or"><span class="hs-identifier hs-var">MO_x64_Or</span></a></span><span>
</span><span id="line-1453"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64XorOp"><span class="hs-identifier hs-var">Word64XorOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Xor"><span class="hs-identifier hs-var">MO_Xor</span></a></span><span>   </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Xor"><span class="hs-identifier hs-var">MO_x64_Xor</span></a></span><span>
</span><span id="line-1454"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64NotOp"><span class="hs-identifier hs-var">Word64NotOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Not"><span class="hs-identifier hs-var">MO_Not</span></a></span><span>   </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Not"><span class="hs-identifier hs-var">MO_x64_Not</span></a></span><span>
</span><span id="line-1455"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64SllOp"><span class="hs-identifier hs-var">Word64SllOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Shl"><span class="hs-identifier hs-var">MO_Shl</span></a></span><span>   </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Shl"><span class="hs-identifier hs-var">MO_x64_Shl</span></a></span><span>
</span><span id="line-1456"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64SrlOp"><span class="hs-identifier hs-var">Word64SrlOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Shr"><span class="hs-identifier hs-var">MO_U_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_W64_Shr"><span class="hs-identifier hs-var">MO_W64_Shr</span></a></span><span>
</span><span id="line-1457"></span><span>
</span><span id="line-1458"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64EqOp"><span class="hs-identifier hs-var">Word64EqOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Eq"><span class="hs-identifier hs-var">MO_Eq</span></a></span><span>   </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Eq"><span class="hs-identifier hs-var">MO_x64_Eq</span></a></span><span>
</span><span id="line-1459"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64GeOp"><span class="hs-identifier hs-var">Word64GeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Ge"><span class="hs-identifier hs-var">MO_U_Ge</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_W64_Ge"><span class="hs-identifier hs-var">MO_W64_Ge</span></a></span><span>
</span><span id="line-1460"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64GtOp"><span class="hs-identifier hs-var">Word64GtOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Gt"><span class="hs-identifier hs-var">MO_U_Gt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_W64_Gt"><span class="hs-identifier hs-var">MO_W64_Gt</span></a></span><span>
</span><span id="line-1461"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64LeOp"><span class="hs-identifier hs-var">Word64LeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Le"><span class="hs-identifier hs-var">MO_U_Le</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_W64_Le"><span class="hs-identifier hs-var">MO_W64_Le</span></a></span><span>
</span><span id="line-1462"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64LtOp"><span class="hs-identifier hs-var">Word64LtOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Lt"><span class="hs-identifier hs-var">MO_U_Lt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_W64_Lt"><span class="hs-identifier hs-var">MO_W64_Lt</span></a></span><span>
</span><span id="line-1463"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word64NeOp"><span class="hs-identifier hs-var">Word64NeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var">opTranslate64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Ne"><span class="hs-identifier hs-var">MO_Ne</span></a></span><span>   </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_x64_Ne"><span class="hs-identifier hs-var">MO_x64_Ne</span></a></span><span>
</span><span id="line-1464"></span><span>
</span><span id="line-1465"></span><span class="hs-comment">-- Char# ops</span><span>
</span><span id="line-1466"></span><span>
</span><span id="line-1467"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CharEqOp"><span class="hs-identifier hs-var">CharEqOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Eq"><span class="hs-identifier hs-var">MO_Eq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1468"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CharNeOp"><span class="hs-identifier hs-var">CharNeOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Ne"><span class="hs-identifier hs-var">MO_Ne</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1469"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CharGeOp"><span class="hs-identifier hs-var">CharGeOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Ge"><span class="hs-identifier hs-var">MO_U_Ge</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1470"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CharLeOp"><span class="hs-identifier hs-var">CharLeOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Le"><span class="hs-identifier hs-var">MO_U_Le</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1471"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CharGtOp"><span class="hs-identifier hs-var">CharGtOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Gt"><span class="hs-identifier hs-var">MO_U_Gt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1472"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CharLtOp"><span class="hs-identifier hs-var">CharLtOp</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Lt"><span class="hs-identifier hs-var">MO_U_Lt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1473"></span><span>
</span><span id="line-1474"></span><span class="hs-comment">-- Double ops</span><span>
</span><span id="line-1475"></span><span>
</span><span id="line-1476"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleEqOp"><span class="hs-identifier hs-var">DoubleEqOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Eq"><span class="hs-identifier hs-var">MO_F_Eq</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1477"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleNeOp"><span class="hs-identifier hs-var">DoubleNeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Ne"><span class="hs-identifier hs-var">MO_F_Ne</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1478"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleGeOp"><span class="hs-identifier hs-var">DoubleGeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Ge"><span class="hs-identifier hs-var">MO_F_Ge</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1479"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleLeOp"><span class="hs-identifier hs-var">DoubleLeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Le"><span class="hs-identifier hs-var">MO_F_Le</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1480"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleGtOp"><span class="hs-identifier hs-var">DoubleGtOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Gt"><span class="hs-identifier hs-var">MO_F_Gt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1481"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleLtOp"><span class="hs-identifier hs-var">DoubleLtOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Lt"><span class="hs-identifier hs-var">MO_F_Lt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1482"></span><span>
</span><span id="line-1483"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleMinOp"><span class="hs-identifier hs-var">DoubleMinOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Min"><span class="hs-identifier hs-var">MO_F_Min</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1484"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleMaxOp"><span class="hs-identifier hs-var">DoubleMaxOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Max"><span class="hs-identifier hs-var">MO_F_Max</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1485"></span><span>
</span><span id="line-1486"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleAddOp"><span class="hs-identifier hs-var">DoubleAddOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Add"><span class="hs-identifier hs-var">MO_F_Add</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1487"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleSubOp"><span class="hs-identifier hs-var">DoubleSubOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Sub"><span class="hs-identifier hs-var">MO_F_Sub</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1488"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleMulOp"><span class="hs-identifier hs-var">DoubleMulOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Mul"><span class="hs-identifier hs-var">MO_F_Mul</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1489"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleDivOp"><span class="hs-identifier hs-var">DoubleDivOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Quot"><span class="hs-identifier hs-var">MO_F_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1490"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleNegOp"><span class="hs-identifier hs-var">DoubleNegOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Neg"><span class="hs-identifier hs-var">MO_F_Neg</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1491"></span><span>
</span><span id="line-1492"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleFMAdd"><span class="hs-identifier hs-var">DoubleFMAdd</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FMAdd"><span class="hs-identifier hs-var">FMAdd</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span>
</span><span id="line-1493"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleFMSub"><span class="hs-identifier hs-var">DoubleFMSub</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FMSub"><span class="hs-identifier hs-var">FMSub</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span>
</span><span id="line-1494"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleFNMAdd"><span class="hs-identifier hs-var">DoubleFNMAdd</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FNMAdd"><span class="hs-identifier hs-var">FNMAdd</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span>
</span><span id="line-1495"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleFNMSub"><span class="hs-identifier hs-var">DoubleFNMSub</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FNMSub"><span class="hs-identifier hs-var">FNMSub</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span>
</span><span id="line-1496"></span><span>
</span><span id="line-1497"></span><span class="hs-comment">-- Float ops</span><span>
</span><span id="line-1498"></span><span>
</span><span id="line-1499"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatEqOp"><span class="hs-identifier hs-var">FloatEqOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Eq"><span class="hs-identifier hs-var">MO_F_Eq</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1500"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatNeOp"><span class="hs-identifier hs-var">FloatNeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Ne"><span class="hs-identifier hs-var">MO_F_Ne</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1501"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatGeOp"><span class="hs-identifier hs-var">FloatGeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Ge"><span class="hs-identifier hs-var">MO_F_Ge</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1502"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatLeOp"><span class="hs-identifier hs-var">FloatLeOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Le"><span class="hs-identifier hs-var">MO_F_Le</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1503"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatGtOp"><span class="hs-identifier hs-var">FloatGtOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Gt"><span class="hs-identifier hs-var">MO_F_Gt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1504"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatLtOp"><span class="hs-identifier hs-var">FloatLtOp</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Lt"><span class="hs-identifier hs-var">MO_F_Lt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1505"></span><span>
</span><span id="line-1506"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatAddOp"><span class="hs-identifier hs-var">FloatAddOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Add"><span class="hs-identifier hs-var">MO_F_Add</span></a></span><span>  </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1507"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatSubOp"><span class="hs-identifier hs-var">FloatSubOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Sub"><span class="hs-identifier hs-var">MO_F_Sub</span></a></span><span>  </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1508"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatMulOp"><span class="hs-identifier hs-var">FloatMulOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Mul"><span class="hs-identifier hs-var">MO_F_Mul</span></a></span><span>  </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1509"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatDivOp"><span class="hs-identifier hs-var">FloatDivOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Quot"><span class="hs-identifier hs-var">MO_F_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1510"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatNegOp"><span class="hs-identifier hs-var">FloatNegOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Neg"><span class="hs-identifier hs-var">MO_F_Neg</span></a></span><span>  </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1511"></span><span>
</span><span id="line-1512"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatFMAdd"><span class="hs-identifier hs-var">FloatFMAdd</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FMAdd"><span class="hs-identifier hs-var">FMAdd</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span>
</span><span id="line-1513"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatFMSub"><span class="hs-identifier hs-var">FloatFMSub</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FMSub"><span class="hs-identifier hs-var">FMSub</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span>
</span><span id="line-1514"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatFNMAdd"><span class="hs-identifier hs-var">FloatFNMAdd</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FNMAdd"><span class="hs-identifier hs-var">FNMAdd</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span>
</span><span id="line-1515"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatFNMSub"><span class="hs-identifier hs-var">FloatFNMSub</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FNMSub"><span class="hs-identifier hs-var">FNMSub</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span>
</span><span id="line-1516"></span><span>
</span><span id="line-1517"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatMinOp"><span class="hs-identifier hs-var">FloatMinOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Min"><span class="hs-identifier hs-var">MO_F_Min</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1518"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatMaxOp"><span class="hs-identifier hs-var">FloatMaxOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Max"><span class="hs-identifier hs-var">MO_F_Max</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1519"></span><span>
</span><span id="line-1520"></span><span class="hs-comment">-- Vector ops</span><span>
</span><span id="line-1521"></span><span>
</span><span id="line-1522"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecAddOp"><span class="hs-identifier hs-type">VecAddOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#FloatVec"><span class="hs-identifier hs-var">FloatVec</span></a></span><span> </span><span id="local-6989586621682955135"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955135"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955136"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955136"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VF_Add"><span class="hs-identifier hs-var">MO_VF_Add</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955135"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955136"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1523"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecSubOp"><span class="hs-identifier hs-type">VecSubOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#FloatVec"><span class="hs-identifier hs-var">FloatVec</span></a></span><span> </span><span id="local-6989586621682955139"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955139"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955140"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955140"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VF_Sub"><span class="hs-identifier hs-var">MO_VF_Sub</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955139"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955140"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1524"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecMulOp"><span class="hs-identifier hs-type">VecMulOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#FloatVec"><span class="hs-identifier hs-var">FloatVec</span></a></span><span> </span><span id="local-6989586621682955143"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955143"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955144"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955144"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VF_Mul"><span class="hs-identifier hs-var">MO_VF_Mul</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955143"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955144"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1525"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecDivOp"><span class="hs-identifier hs-type">VecDivOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#FloatVec"><span class="hs-identifier hs-var">FloatVec</span></a></span><span> </span><span id="local-6989586621682955147"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955147"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955148"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955148"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VF_Quot"><span class="hs-identifier hs-var">MO_VF_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955147"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955148"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1526"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecQuotOp"><span class="hs-identifier hs-type">VecQuotOp</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#FloatVec"><span class="hs-identifier hs-var">FloatVec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PrimopCmmEmit
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unsupported primop&quot;</span></span><span>
</span><span id="line-1527"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecRemOp"><span class="hs-identifier hs-type">VecRemOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#FloatVec"><span class="hs-identifier hs-var">FloatVec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PrimopCmmEmit
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unsupported primop&quot;</span></span><span>
</span><span id="line-1528"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecNegOp"><span class="hs-identifier hs-type">VecNegOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#FloatVec"><span class="hs-identifier hs-var">FloatVec</span></a></span><span> </span><span id="local-6989586621682955153"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955153"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955154"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955154"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VF_Neg"><span class="hs-identifier hs-var">MO_VF_Neg</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955153"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955154"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1529"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecMinOp"><span class="hs-identifier hs-type">VecMinOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#FloatVec"><span class="hs-identifier hs-var">FloatVec</span></a></span><span> </span><span id="local-6989586621682955157"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955157"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955158"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955158"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VF_Min"><span class="hs-identifier hs-var">MO_VF_Min</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955157"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955158"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1530"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecMaxOp"><span class="hs-identifier hs-type">VecMaxOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#FloatVec"><span class="hs-identifier hs-var">FloatVec</span></a></span><span> </span><span id="local-6989586621682955161"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955161"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955162"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955162"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VF_Max"><span class="hs-identifier hs-var">MO_VF_Max</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955161"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955162"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1531"></span><span>
</span><span id="line-1532"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecAddOp"><span class="hs-identifier hs-type">VecAddOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#IntVec"><span class="hs-identifier hs-var">IntVec</span></a></span><span> </span><span id="local-6989586621682955165"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955165"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955166"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955166"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_V_Add"><span class="hs-identifier hs-var">MO_V_Add</span></a></span><span>   </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955165"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955166"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1533"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecSubOp"><span class="hs-identifier hs-type">VecSubOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#IntVec"><span class="hs-identifier hs-var">IntVec</span></a></span><span> </span><span id="local-6989586621682955168"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955168"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955169"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955169"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_V_Sub"><span class="hs-identifier hs-var">MO_V_Sub</span></a></span><span>   </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955168"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955169"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1534"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecMulOp"><span class="hs-identifier hs-type">VecMulOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#IntVec"><span class="hs-identifier hs-var">IntVec</span></a></span><span> </span><span id="local-6989586621682955171"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955171"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955172"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955172"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_V_Mul"><span class="hs-identifier hs-var">MO_V_Mul</span></a></span><span>   </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955171"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955172"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1535"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecDivOp"><span class="hs-identifier hs-type">VecDivOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#IntVec"><span class="hs-identifier hs-var">IntVec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PrimopCmmEmit
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unsupported primop&quot;</span></span><span>
</span><span id="line-1536"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecQuotOp"><span class="hs-identifier hs-type">VecQuotOp</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#IntVec"><span class="hs-identifier hs-var">IntVec</span></a></span><span> </span><span id="local-6989586621682955174"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955174"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955175"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955175"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VS_Quot"><span class="hs-identifier hs-var">MO_VS_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955174"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955175"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1537"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecRemOp"><span class="hs-identifier hs-type">VecRemOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#IntVec"><span class="hs-identifier hs-var">IntVec</span></a></span><span> </span><span id="local-6989586621682955177"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955177"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955178"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955178"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VS_Rem"><span class="hs-identifier hs-var">MO_VS_Rem</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955177"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955178"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1538"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecNegOp"><span class="hs-identifier hs-type">VecNegOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#IntVec"><span class="hs-identifier hs-var">IntVec</span></a></span><span> </span><span id="local-6989586621682955180"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955180"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955181"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955181"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VS_Neg"><span class="hs-identifier hs-var">MO_VS_Neg</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955180"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955181"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1539"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecMinOp"><span class="hs-identifier hs-type">VecMinOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#IntVec"><span class="hs-identifier hs-var">IntVec</span></a></span><span> </span><span id="local-6989586621682955183"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955183"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955184"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955184"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VS_Min"><span class="hs-identifier hs-var">MO_VS_Min</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955183"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955184"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1540"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecMaxOp"><span class="hs-identifier hs-type">VecMaxOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#IntVec"><span class="hs-identifier hs-var">IntVec</span></a></span><span> </span><span id="local-6989586621682955186"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955186"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955187"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955187"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VS_Max"><span class="hs-identifier hs-var">MO_VS_Max</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955186"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955187"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1541"></span><span>
</span><span id="line-1542"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecAddOp"><span class="hs-identifier hs-type">VecAddOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#WordVec"><span class="hs-identifier hs-var">WordVec</span></a></span><span> </span><span id="local-6989586621682955190"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955190"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955191"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955191"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_V_Add"><span class="hs-identifier hs-var">MO_V_Add</span></a></span><span>   </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955190"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955191"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1543"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecSubOp"><span class="hs-identifier hs-type">VecSubOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#WordVec"><span class="hs-identifier hs-var">WordVec</span></a></span><span> </span><span id="local-6989586621682955192"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955192"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955193"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955193"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_V_Sub"><span class="hs-identifier hs-var">MO_V_Sub</span></a></span><span>   </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955192"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955193"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1544"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecMulOp"><span class="hs-identifier hs-type">VecMulOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#WordVec"><span class="hs-identifier hs-var">WordVec</span></a></span><span> </span><span id="local-6989586621682955194"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955194"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955195"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955195"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_V_Mul"><span class="hs-identifier hs-var">MO_V_Mul</span></a></span><span>   </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955194"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955195"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1545"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecDivOp"><span class="hs-identifier hs-type">VecDivOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#WordVec"><span class="hs-identifier hs-var">WordVec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PrimopCmmEmit
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unsupported primop&quot;</span></span><span>
</span><span id="line-1546"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecQuotOp"><span class="hs-identifier hs-type">VecQuotOp</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#WordVec"><span class="hs-identifier hs-var">WordVec</span></a></span><span> </span><span id="local-6989586621682955196"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955196"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955197"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955197"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VU_Quot"><span class="hs-identifier hs-var">MO_VU_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955196"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955197"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1547"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecRemOp"><span class="hs-identifier hs-type">VecRemOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#WordVec"><span class="hs-identifier hs-var">WordVec</span></a></span><span> </span><span id="local-6989586621682955199"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955199"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955200"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955200"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VU_Rem"><span class="hs-identifier hs-var">MO_VU_Rem</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955199"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955200"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1548"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecNegOp"><span class="hs-identifier hs-type">VecNegOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#WordVec"><span class="hs-identifier hs-var">WordVec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; PrimopCmmEmit
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unsupported primop&quot;</span></span><span>
</span><span id="line-1549"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecMinOp"><span class="hs-identifier hs-type">VecMinOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#WordVec"><span class="hs-identifier hs-var">WordVec</span></a></span><span> </span><span id="local-6989586621682955202"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955202"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955203"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955203"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VU_Min"><span class="hs-identifier hs-var">MO_VU_Min</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955202"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955203"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1550"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecMaxOp"><span class="hs-identifier hs-type">VecMaxOp</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#WordVec"><span class="hs-identifier hs-var">WordVec</span></a></span><span> </span><span id="local-6989586621682955205"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955205"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955206"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955206"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VU_Max"><span class="hs-identifier hs-var">MO_VU_Max</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955205"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955206"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1551"></span><span>
</span><span id="line-1552"></span><span>  </span><span class="hs-comment">-- Vector FMA instructions</span><span>
</span><span id="line-1553"></span><span>  </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecFMAdd"><span class="hs-identifier hs-type">VecFMAdd</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682955209"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955209"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955210"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955210"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FMAdd"><span class="hs-identifier hs-var">FMAdd</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955209"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955210"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1554"></span><span>  </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecFMSub"><span class="hs-identifier hs-type">VecFMSub</span></a></span><span>  </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682955212"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955212"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955213"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955213"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FMSub"><span class="hs-identifier hs-var">FMSub</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955212"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955213"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1555"></span><span>  </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecFNMAdd"><span class="hs-identifier hs-type">VecFNMAdd</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682955215"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955215"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955216"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955216"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FNMAdd"><span class="hs-identifier hs-var">FNMAdd</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955215"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955216"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1556"></span><span>  </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#VecFNMSub"><span class="hs-identifier hs-type">VecFNMSub</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621682955218"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955218"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955219"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955219"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FNMSub"><span class="hs-identifier hs-var">FNMSub</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955218"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955219"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1557"></span><span>
</span><span id="line-1558"></span><span class="hs-comment">-- Conversions</span><span>
</span><span id="line-1559"></span><span>
</span><span id="line-1560"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntToDoubleOp"><span class="hs-identifier hs-var">IntToDoubleOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SF_Round"><span class="hs-identifier hs-var">MO_SF_Round</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1561"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleToIntOp"><span class="hs-identifier hs-var">DoubleToIntOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_FS_Truncate"><span class="hs-identifier hs-var">MO_FS_Truncate</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1562"></span><span>
</span><span id="line-1563"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntToFloatOp"><span class="hs-identifier hs-var">IntToFloatOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SF_Round"><span class="hs-identifier hs-var">MO_SF_Round</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1564"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatToIntOp"><span class="hs-identifier hs-var">FloatToIntOp</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_FS_Truncate"><span class="hs-identifier hs-var">MO_FS_Truncate</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1565"></span><span>
</span><span id="line-1566"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatToDoubleOp"><span class="hs-identifier hs-var">FloatToDoubleOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_FF_Conv"><span class="hs-identifier hs-var">MO_FF_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1567"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleToFloatOp"><span class="hs-identifier hs-var">DoubleToFloatOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_FF_Conv"><span class="hs-identifier hs-var">MO_FF_Conv</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1568"></span><span>
</span><span id="line-1569"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CastFloatToWord32Op"><span class="hs-identifier hs-var">CastFloatToWord32Op</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955230"><span class="hs-identifier hs-var">translateBitcasts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_FW_Bitcast"><span class="hs-identifier hs-var">MO_FW_Bitcast</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1570"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CastWord32ToFloatOp"><span class="hs-identifier hs-var">CastWord32ToFloatOp</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955230"><span class="hs-identifier hs-var">translateBitcasts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_WF_Bitcast"><span class="hs-identifier hs-var">MO_WF_Bitcast</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1571"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CastDoubleToWord64Op"><span class="hs-identifier hs-var">CastDoubleToWord64Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955230"><span class="hs-identifier hs-var">translateBitcasts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_FW_Bitcast"><span class="hs-identifier hs-var">MO_FW_Bitcast</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1572"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CastWord64ToDoubleOp"><span class="hs-identifier hs-var">CastWord64ToDoubleOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955230"><span class="hs-identifier hs-var">translateBitcasts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_WF_Bitcast"><span class="hs-identifier hs-var">MO_WF_Bitcast</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1573"></span><span>
</span><span id="line-1574"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntQuotRemOp"><span class="hs-identifier hs-var">IntQuotRemOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682955237"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955237"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; [CmmExpr]
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955237"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1575"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955240"><span class="hs-identifier hs-var">allowQuotRem</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CmmExpr] -&gt; Bool
</span><a href="#local-6989586621682955243"><span class="hs-identifier hs-var">quotRemCanBeOptimized</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955237"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1576"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_QuotRem"><span class="hs-identifier hs-var">MO_S_QuotRem</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1577"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericIntQuotRemOp"><span class="hs-identifier hs-var">genericIntQuotRemOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1578"></span><span>
</span><span id="line-1579"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int8QuotRemOp"><span class="hs-identifier hs-var">Int8QuotRemOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682955247"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955247"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; [CmmExpr]
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955247"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1580"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955240"><span class="hs-identifier hs-var">allowQuotRem</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CmmExpr] -&gt; Bool
</span><a href="#local-6989586621682955243"><span class="hs-identifier hs-var">quotRemCanBeOptimized</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955247"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1581"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_QuotRem"><span class="hs-identifier hs-var">MO_S_QuotRem</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1582"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericIntQuotRemOp"><span class="hs-identifier hs-var">genericIntQuotRemOp</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1583"></span><span>
</span><span id="line-1584"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int16QuotRemOp"><span class="hs-identifier hs-var">Int16QuotRemOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682955249"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955249"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; [CmmExpr]
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955249"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1585"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955240"><span class="hs-identifier hs-var">allowQuotRem</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CmmExpr] -&gt; Bool
</span><a href="#local-6989586621682955243"><span class="hs-identifier hs-var">quotRemCanBeOptimized</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955249"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1586"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_QuotRem"><span class="hs-identifier hs-var">MO_S_QuotRem</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1587"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericIntQuotRemOp"><span class="hs-identifier hs-var">genericIntQuotRemOp</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1588"></span><span>
</span><span id="line-1589"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Int32QuotRemOp"><span class="hs-identifier hs-var">Int32QuotRemOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682955251"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955251"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; [CmmExpr]
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955251"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1590"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955240"><span class="hs-identifier hs-var">allowQuotRem</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CmmExpr] -&gt; Bool
</span><a href="#local-6989586621682955243"><span class="hs-identifier hs-var">quotRemCanBeOptimized</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955251"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1591"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_QuotRem"><span class="hs-identifier hs-var">MO_S_QuotRem</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1592"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericIntQuotRemOp"><span class="hs-identifier hs-var">genericIntQuotRemOp</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1593"></span><span>
</span><span id="line-1594"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordQuotRemOp"><span class="hs-identifier hs-var">WordQuotRemOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682955253"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955253"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; [CmmExpr]
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955253"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1595"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955240"><span class="hs-identifier hs-var">allowQuotRem</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CmmExpr] -&gt; Bool
</span><a href="#local-6989586621682955243"><span class="hs-identifier hs-var">quotRemCanBeOptimized</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955253"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1596"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_QuotRem"><span class="hs-identifier hs-var">MO_U_QuotRem</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1597"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordQuotRemOp"><span class="hs-identifier hs-var">genericWordQuotRemOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1598"></span><span>
</span><span id="line-1599"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordQuotRem2Op"><span class="hs-identifier hs-var">WordQuotRem2Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr]
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1600"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955257"><span class="hs-identifier hs-var">allowQuotRem2</span></a></span><span>
</span><span id="line-1601"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_QuotRem2"><span class="hs-identifier hs-var">MO_U_QuotRem2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1602"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordQuotRem2Op"><span class="hs-identifier hs-var">genericWordQuotRem2Op</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1603"></span><span>
</span><span id="line-1604"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word8QuotRemOp"><span class="hs-identifier hs-var">Word8QuotRemOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682955261"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955261"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; [CmmExpr]
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955261"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1605"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955240"><span class="hs-identifier hs-var">allowQuotRem</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CmmExpr] -&gt; Bool
</span><a href="#local-6989586621682955243"><span class="hs-identifier hs-var">quotRemCanBeOptimized</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955261"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1606"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_QuotRem"><span class="hs-identifier hs-var">MO_U_QuotRem</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1607"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordQuotRemOp"><span class="hs-identifier hs-var">genericWordQuotRemOp</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-var">W8</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1608"></span><span>
</span><span id="line-1609"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word16QuotRemOp"><span class="hs-identifier hs-var">Word16QuotRemOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682955263"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955263"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; [CmmExpr]
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955263"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1610"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955240"><span class="hs-identifier hs-var">allowQuotRem</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CmmExpr] -&gt; Bool
</span><a href="#local-6989586621682955243"><span class="hs-identifier hs-var">quotRemCanBeOptimized</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955263"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1611"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_QuotRem"><span class="hs-identifier hs-var">MO_U_QuotRem</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1612"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordQuotRemOp"><span class="hs-identifier hs-var">genericWordQuotRemOp</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W16"><span class="hs-identifier hs-var">W16</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1613"></span><span>
</span><span id="line-1614"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Word32QuotRemOp"><span class="hs-identifier hs-var">Word32QuotRemOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682955265"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955265"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; [CmmExpr]
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955265"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1615"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955240"><span class="hs-identifier hs-var">allowQuotRem</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CmmExpr] -&gt; Bool
</span><a href="#local-6989586621682955243"><span class="hs-identifier hs-var">quotRemCanBeOptimized</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955265"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1616"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_QuotRem"><span class="hs-identifier hs-var">MO_U_QuotRem</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1617"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordQuotRemOp"><span class="hs-identifier hs-var">genericWordQuotRemOp</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1618"></span><span>
</span><span id="line-1619"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordAdd2Op"><span class="hs-identifier hs-var">WordAdd2Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr]
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1620"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955267"><span class="hs-identifier hs-var">allowExtAdd</span></a></span><span>
</span><span id="line-1621"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Add2"><span class="hs-identifier hs-var">MO_Add2</span></a></span><span>       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1622"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordAdd2Op"><span class="hs-identifier hs-var">genericWordAdd2Op</span></a></span><span>
</span><span id="line-1623"></span><span>
</span><span id="line-1624"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordAddCOp"><span class="hs-identifier hs-var">WordAddCOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr]
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1625"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955267"><span class="hs-identifier hs-var">allowExtAdd</span></a></span><span>
</span><span id="line-1626"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_AddWordC"><span class="hs-identifier hs-var">MO_AddWordC</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1627"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordAddCOp"><span class="hs-identifier hs-var">genericWordAddCOp</span></a></span><span>
</span><span id="line-1628"></span><span>
</span><span id="line-1629"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordSubCOp"><span class="hs-identifier hs-var">WordSubCOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr]
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1630"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955267"><span class="hs-identifier hs-var">allowExtAdd</span></a></span><span>
</span><span id="line-1631"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SubWordC"><span class="hs-identifier hs-var">MO_SubWordC</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1632"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordSubCOp"><span class="hs-identifier hs-var">genericWordSubCOp</span></a></span><span>
</span><span id="line-1633"></span><span>
</span><span id="line-1634"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntAddCOp"><span class="hs-identifier hs-var">IntAddCOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr]
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1635"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955267"><span class="hs-identifier hs-var">allowExtAdd</span></a></span><span>
</span><span id="line-1636"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_AddIntC"><span class="hs-identifier hs-var">MO_AddIntC</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1637"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericIntAddCOp"><span class="hs-identifier hs-var">genericIntAddCOp</span></a></span><span>
</span><span id="line-1638"></span><span>
</span><span id="line-1639"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntSubCOp"><span class="hs-identifier hs-var">IntSubCOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr]
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1640"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955267"><span class="hs-identifier hs-var">allowExtAdd</span></a></span><span>
</span><span id="line-1641"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SubIntC"><span class="hs-identifier hs-var">MO_SubIntC</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1642"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericIntSubCOp"><span class="hs-identifier hs-var">genericIntSubCOp</span></a></span><span>
</span><span id="line-1643"></span><span>
</span><span id="line-1644"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WordMul2Op"><span class="hs-identifier hs-var">WordMul2Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr]
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1645"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955283"><span class="hs-identifier hs-var">allowWord2Mul</span></a></span><span>
</span><span id="line-1646"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Mul2"><span class="hs-identifier hs-var">MO_U_Mul2</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1647"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordMul2Op"><span class="hs-identifier hs-var">genericWordMul2Op</span></a></span><span>
</span><span id="line-1648"></span><span>
</span><span id="line-1649"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IntMul2Op"><span class="hs-identifier hs-var">IntMul2Op</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var">opCallishHandledLater</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
 -&gt; [CmmExpr] -&gt; PrimopCmmEmit)
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr]
-&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1650"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955287"><span class="hs-identifier hs-var">allowInt2Mul</span></a></span><span>
</span><span id="line-1651"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Mul2"><span class="hs-identifier hs-var">MO_S_Mul2</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1652"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericIntMul2Op"><span class="hs-identifier hs-var">genericIntMul2Op</span></a></span><span>
</span><span id="line-1653"></span><span>
</span><span id="line-1654"></span><span>  </span><span class="hs-comment">-- tagToEnum# is special: we need to pull the constructor</span><span>
</span><span id="line-1655"></span><span>  </span><span class="hs-comment">-- out of the table, and perform an appropriate return.</span><span>
</span><span id="line-1656"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#TagToEnumOp"><span class="hs-identifier hs-var">TagToEnumOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682955291"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955291"><span class="hs-identifier hs-var">amode</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Type -&gt; FCode [CmmExpr]) -&gt; PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_Internal"><span class="hs-identifier hs-var">PrimopCmmEmit_Internal</span></a></span><span> </span><span class="annot"><span class="annottext">((Type -&gt; FCode [CmmExpr]) -&gt; PrimopCmmEmit)
-&gt; (Type -&gt; FCode [CmmExpr]) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682955292"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682955292"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1657"></span><span>    </span><span class="hs-comment">-- If you're reading this code in the attempt to figure</span><span>
</span><span id="line-1658"></span><span>    </span><span class="hs-comment">-- out why the compiler panic'ed here, it is probably because</span><span>
</span><span id="line-1659"></span><span>    </span><span class="hs-comment">-- you used tagToEnum# in a non-monomorphic setting, e.g.,</span><span>
</span><span id="line-1660"></span><span>    </span><span class="hs-comment">--         intToTg :: Enum a =&gt; Int -&gt; a ; intToTg (I# x#) = tagToEnum# x#</span><span>
</span><span id="line-1661"></span><span>    </span><span class="hs-comment">-- That won't work.</span><span>
</span><span id="line-1662"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955293"><span class="annot"><span class="annottext">tycon :: TyCon
</span><a href="#local-6989586621682955293"><span class="hs-identifier hs-var hs-var hs-var">tycon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TyCon -&gt; Maybe TyCon -&gt; TyCon
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; TyCon
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;tagToEnum#: Applied to non-concrete type&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682955292"><span class="hs-identifier hs-var">res_ty</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Maybe TyCon
</span><a href="GHC.Core.Type.html#tyConAppTyCon_maybe"><span class="hs-identifier hs-var">tyConAppTyCon_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682955292"><span class="hs-identifier hs-var">res_ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1663"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; FCode ()
forall (m :: * -&gt; *). (HasCallStack, Applicative m) =&gt; Bool -&gt; m ()
</span><a href="GHC.Utils.Panic.Plain.html#massert"><span class="hs-identifier hs-var">massert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TyCon -&gt; Bool
</span><a href="GHC.Core.TyCon.html#isEnumerationTyCon"><span class="hs-identifier hs-var">isEnumerationTyCon</span></a></span><span> </span><span class="annot"><span class="annottext">TyCon
</span><a href="#local-6989586621682955293"><span class="hs-identifier hs-var">tycon</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1664"></span><span>    </span><span id="local-6989586621682955298"><span class="annot"><a href="#local-6989586621682955298"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-1665"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.StgToCmm.Utils.html#tagToClosure"><span class="hs-identifier hs-type">tagToClosure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955298"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955293"><span class="hs-identifier hs-type">tycon</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955291"><span class="hs-identifier hs-type">amode</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1666"></span><span>
</span><span id="line-1667"></span><span class="hs-comment">-- Out of line primops.</span><span>
</span><span id="line-1668"></span><span class="hs-comment">-- TODO compiler need not know about these</span><span>
</span><span id="line-1669"></span><span>
</span><span id="line-1670"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#UnsafeThawArrayOp"><span class="hs-identifier hs-var">UnsafeThawArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1671"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CasArrayOp"><span class="hs-identifier hs-var">CasArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1672"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#UnsafeThawSmallArrayOp"><span class="hs-identifier hs-var">UnsafeThawSmallArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1673"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CasSmallArrayOp"><span class="hs-identifier hs-var">CasSmallArrayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1674"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#NewPinnedByteArrayOp_Char"><span class="hs-identifier hs-var">NewPinnedByteArrayOp_Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1675"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#NewAlignedPinnedByteArrayOp_Char"><span class="hs-identifier hs-var">NewAlignedPinnedByteArrayOp_Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1676"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#MutableByteArrayIsPinnedOp"><span class="hs-identifier hs-var">MutableByteArrayIsPinnedOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1677"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#MutableByteArrayIsWeaklyPinnedOp"><span class="hs-identifier hs-var">MutableByteArrayIsWeaklyPinnedOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1678"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleDecode_2IntOp"><span class="hs-identifier hs-var">DoubleDecode_2IntOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1679"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DoubleDecode_Int64Op"><span class="hs-identifier hs-var">DoubleDecode_Int64Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1680"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FloatDecode_IntOp"><span class="hs-identifier hs-var">FloatDecode_IntOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1681"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ByteArrayIsPinnedOp"><span class="hs-identifier hs-var">ByteArrayIsPinnedOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1682"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ByteArrayIsWeaklyPinnedOp"><span class="hs-identifier hs-var">ByteArrayIsWeaklyPinnedOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1683"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ShrinkMutableByteArrayOp_Char"><span class="hs-identifier hs-var">ShrinkMutableByteArrayOp_Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1684"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ResizeMutableByteArrayOp_Char"><span class="hs-identifier hs-var">ResizeMutableByteArrayOp_Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1685"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ShrinkSmallMutableArrayOp_Char"><span class="hs-identifier hs-var">ShrinkSmallMutableArrayOp_Char</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1686"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#NewMutVarOp"><span class="hs-identifier hs-var">NewMutVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1687"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AtomicModifyMutVar2Op"><span class="hs-identifier hs-var">AtomicModifyMutVar2Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1688"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AtomicModifyMutVar_Op"><span class="hs-identifier hs-var">AtomicModifyMutVar_Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1689"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CasMutVarOp"><span class="hs-identifier hs-var">CasMutVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1690"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CatchOp"><span class="hs-identifier hs-var">CatchOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1691"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#RaiseOp"><span class="hs-identifier hs-var">RaiseOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1692"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#RaiseUnderflowOp"><span class="hs-identifier hs-var">RaiseUnderflowOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1693"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#RaiseOverflowOp"><span class="hs-identifier hs-var">RaiseOverflowOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1694"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#RaiseDivZeroOp"><span class="hs-identifier hs-var">RaiseDivZeroOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1695"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#RaiseIOOp"><span class="hs-identifier hs-var">RaiseIOOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1696"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#MaskAsyncExceptionsOp"><span class="hs-identifier hs-var">MaskAsyncExceptionsOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1697"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#MaskUninterruptibleOp"><span class="hs-identifier hs-var">MaskUninterruptibleOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1698"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#UnmaskAsyncExceptionsOp"><span class="hs-identifier hs-var">UnmaskAsyncExceptionsOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1699"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#MaskStatus"><span class="hs-identifier hs-var">MaskStatus</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1700"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#NewPromptTagOp"><span class="hs-identifier hs-var">NewPromptTagOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1701"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PromptOp"><span class="hs-identifier hs-var">PromptOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1702"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#Control0Op"><span class="hs-identifier hs-var">Control0Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1703"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AtomicallyOp"><span class="hs-identifier hs-var">AtomicallyOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1704"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#RetryOp"><span class="hs-identifier hs-var">RetryOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1705"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CatchRetryOp"><span class="hs-identifier hs-var">CatchRetryOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1706"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CatchSTMOp"><span class="hs-identifier hs-var">CatchSTMOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1707"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#NewTVarOp"><span class="hs-identifier hs-var">NewTVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1708"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadTVarOp"><span class="hs-identifier hs-var">ReadTVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1709"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadTVarIOOp"><span class="hs-identifier hs-var">ReadTVarIOOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1710"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteTVarOp"><span class="hs-identifier hs-var">WriteTVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1711"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#NewMVarOp"><span class="hs-identifier hs-var">NewMVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1712"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#TakeMVarOp"><span class="hs-identifier hs-var">TakeMVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1713"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#TryTakeMVarOp"><span class="hs-identifier hs-var">TryTakeMVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1714"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#PutMVarOp"><span class="hs-identifier hs-var">PutMVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1715"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#TryPutMVarOp"><span class="hs-identifier hs-var">TryPutMVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1716"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadMVarOp"><span class="hs-identifier hs-var">ReadMVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1717"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#TryReadMVarOp"><span class="hs-identifier hs-var">TryReadMVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1718"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IsEmptyMVarOp"><span class="hs-identifier hs-var">IsEmptyMVarOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1719"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#NewIOPortOp"><span class="hs-identifier hs-var">NewIOPortOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1720"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ReadIOPortOp"><span class="hs-identifier hs-var">ReadIOPortOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1721"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WriteIOPortOp"><span class="hs-identifier hs-var">WriteIOPortOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1722"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DelayOp"><span class="hs-identifier hs-var">DelayOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1723"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WaitReadOp"><span class="hs-identifier hs-var">WaitReadOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1724"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WaitWriteOp"><span class="hs-identifier hs-var">WaitWriteOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1725"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ForkOp"><span class="hs-identifier hs-var">ForkOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1726"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ForkOnOp"><span class="hs-identifier hs-var">ForkOnOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1727"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#KillThreadOp"><span class="hs-identifier hs-var">KillThreadOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1728"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#YieldOp"><span class="hs-identifier hs-var">YieldOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1729"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#LabelThreadOp"><span class="hs-identifier hs-var">LabelThreadOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1730"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#IsCurrentThreadBoundOp"><span class="hs-identifier hs-var">IsCurrentThreadBoundOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1731"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#NoDuplicateOp"><span class="hs-identifier hs-var">NoDuplicateOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1732"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#GetThreadLabelOp"><span class="hs-identifier hs-var">GetThreadLabelOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1733"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ThreadStatusOp"><span class="hs-identifier hs-var">ThreadStatusOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1734"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#MkWeakOp"><span class="hs-identifier hs-var">MkWeakOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1735"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#MkWeakNoFinalizerOp"><span class="hs-identifier hs-var">MkWeakNoFinalizerOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1736"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#AddCFinalizerToWeakOp"><span class="hs-identifier hs-var">AddCFinalizerToWeakOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1737"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DeRefWeakOp"><span class="hs-identifier hs-var">DeRefWeakOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1738"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#FinalizeWeakOp"><span class="hs-identifier hs-var">FinalizeWeakOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1739"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#MakeStablePtrOp"><span class="hs-identifier hs-var">MakeStablePtrOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1740"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DeRefStablePtrOp"><span class="hs-identifier hs-var">DeRefStablePtrOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1741"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#MakeStableNameOp"><span class="hs-identifier hs-var">MakeStableNameOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1742"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CompactNewOp"><span class="hs-identifier hs-var">CompactNewOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1743"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CompactResizeOp"><span class="hs-identifier hs-var">CompactResizeOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1744"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CompactContainsOp"><span class="hs-identifier hs-var">CompactContainsOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1745"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CompactContainsAnyOp"><span class="hs-identifier hs-var">CompactContainsAnyOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1746"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CompactGetFirstBlockOp"><span class="hs-identifier hs-var">CompactGetFirstBlockOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1747"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CompactGetNextBlockOp"><span class="hs-identifier hs-var">CompactGetNextBlockOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1748"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CompactAllocateBlockOp"><span class="hs-identifier hs-var">CompactAllocateBlockOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1749"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CompactFixupPointersOp"><span class="hs-identifier hs-var">CompactFixupPointersOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1750"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CompactAdd"><span class="hs-identifier hs-var">CompactAdd</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1751"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CompactAddWithSharing"><span class="hs-identifier hs-var">CompactAddWithSharing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1752"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#CompactSize"><span class="hs-identifier hs-var">CompactSize</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1753"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#GetSparkOp"><span class="hs-identifier hs-var">GetSparkOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1754"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#NumSparks"><span class="hs-identifier hs-var">NumSparks</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1755"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DataToTagSmallOp"><span class="hs-identifier hs-var">DataToTagSmallOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1756"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#DataToTagLargeOp"><span class="hs-identifier hs-var">DataToTagLargeOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1757"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#MkApUpd0_Op"><span class="hs-identifier hs-var">MkApUpd0_Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1758"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#NewBCOOp"><span class="hs-identifier hs-var">NewBCOOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1759"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#UnpackClosureOp"><span class="hs-identifier hs-var">UnpackClosureOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1760"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ListThreadsOp"><span class="hs-identifier hs-var">ListThreadsOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1761"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ClosureSizeOp"><span class="hs-identifier hs-var">ClosureSizeOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1762"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#WhereFromOp"><span class="hs-identifier hs-var">WhereFromOp</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1763"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#GetApStackValOp"><span class="hs-identifier hs-var">GetApStackValOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1764"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#ClearCCSOp"><span class="hs-identifier hs-var">ClearCCSOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1765"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#TraceEventOp"><span class="hs-identifier hs-var">TraceEventOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1766"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#TraceEventBinaryOp"><span class="hs-identifier hs-var">TraceEventBinaryOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1767"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#TraceMarkerOp"><span class="hs-identifier hs-var">TraceMarkerOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1768"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#SetThreadAllocationCounter"><span class="hs-identifier hs-var">SetThreadAllocationCounter</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1769"></span><span>  </span><span class="annot"><span class="annottext">PrimOp
</span><a href="GHC.Builtin.PrimOps.html#KeepAliveOp"><span class="hs-identifier hs-var">KeepAliveOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1770"></span><span>
</span><span id="line-1771"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-1772"></span><span>  </span><span id="local-6989586621682953360"><span class="annot"><span class="annottext">profile :: Profile
</span><a href="#local-6989586621682953360"><span class="hs-identifier hs-var hs-var">profile</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Profile
</span><a href="GHC.StgToCmm.Config.html#stgToCmmProfile"><span class="hs-identifier hs-var">stgToCmmProfile</span></a></span><span>  </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1773"></span><span>  </span><span id="local-6989586621682953353"><span class="annot"><span class="annottext">platform :: Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Platform
</span><a href="GHC.StgToCmm.Config.html#stgToCmmPlatform"><span class="hs-identifier hs-var">stgToCmmPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1774"></span><span>  </span><span id="local-6989586621682955404"><span class="annot"><span class="annottext">result_info :: PrimOpResultInfo
</span><a href="#local-6989586621682955404"><span class="hs-identifier hs-var hs-var">result_info</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PrimOp -&gt; PrimOpResultInfo
</span><a href="GHC.Builtin.PrimOps.html#getPrimOpResultInfo"><span class="hs-identifier hs-var">getPrimOpResultInfo</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOp
</span><a href="#local-6989586621682953337"><span class="hs-identifier hs-var">primop</span></a></span><span>
</span><span id="line-1775"></span><span>
</span><span id="line-1776"></span><span>  </span><span class="annot"><a href="#local-6989586621682954685"><span class="hs-identifier hs-type">opNop</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit"><span class="hs-identifier hs-type">PrimopCmmEmit</span></a></span><span>
</span><span id="line-1777"></span><span>  </span><span id="local-6989586621682954685"><span class="annot"><span class="annottext">opNop :: [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954685"><span class="hs-identifier hs-var hs-var">opNop</span></a></span></span><span> </span><span id="local-6989586621682955406"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955406"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682955407"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955407"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955407"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955408"><span class="hs-identifier hs-var">arg</span></a></span><span>
</span><span id="line-1778"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955408"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955408"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955406"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1779"></span><span>
</span><span id="line-1780"></span><span>  </span><span class="annot"><a href="#local-6989586621682954714"><span class="hs-identifier hs-type">opNarrow</span></a></span><span>
</span><span id="line-1781"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1782"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#MachOp"><span class="hs-identifier hs-type">MachOp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1783"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit"><span class="hs-identifier hs-type">PrimopCmmEmit</span></a></span><span>
</span><span id="line-1784"></span><span>  </span><span id="local-6989586621682954714"><span class="annot"><span class="annottext">opNarrow :: [CmmExpr] -&gt; (Width -&gt; Width -&gt; MachOp, Width) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954714"><span class="hs-identifier hs-var hs-var">opNarrow</span></a></span></span><span> </span><span id="local-6989586621682955409"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955409"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682955410"><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="#local-6989586621682955410"><span class="hs-identifier hs-var">mop</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955411"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955411"><span class="hs-identifier hs-var">rep</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682955412"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955412"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955412"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; FCode ()) -&gt; CmmExpr -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1785"></span><span>    </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="#local-6989586621682955410"><span class="hs-identifier hs-var">mop</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955411"><span class="hs-identifier hs-var">rep</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="#local-6989586621682955410"><span class="hs-identifier hs-var">mop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955411"><span class="hs-identifier hs-var">rep</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955413"><span class="hs-identifier hs-var">arg</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-1786"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955413"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955413"><span class="hs-identifier hs-var">arg</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955409"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1787"></span><span>
</span><span id="line-1788"></span><span>  </span><span class="hs-comment">-- These primops are implemented by CallishMachOps, because they sometimes</span><span>
</span><span id="line-1789"></span><span>  </span><span class="hs-comment">-- turn into foreign calls depending on the backend.</span><span>
</span><span id="line-1790"></span><span>  </span><span class="annot"><a href="#local-6989586621682954728"><span class="hs-identifier hs-type">opCallish</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#CallishMachOp"><span class="hs-identifier hs-type">CallishMachOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit"><span class="hs-identifier hs-type">PrimopCmmEmit</span></a></span><span>
</span><span id="line-1791"></span><span>  </span><span id="local-6989586621682954728"><span class="annot"><span class="annottext">opCallish :: CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var hs-var">opCallish</span></a></span></span><span> </span><span id="local-6989586621682955414"><span class="annot"><span class="annottext">CallishMachOp
</span><a href="#local-6989586621682955414"><span class="hs-keyword hs-var">prim</span></a></span></span><span> </span><span id="local-6989586621682955415"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955415"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682955416"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955416"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955416"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="#local-6989586621682955414"><span class="hs-keyword hs-var">prim</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955415"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1792"></span><span>
</span><span id="line-1793"></span><span>  </span><span class="annot"><a href="#local-6989586621682953539"><span class="hs-identifier hs-type">opTranslate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#MachOp"><span class="hs-identifier hs-type">MachOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit"><span class="hs-identifier hs-type">PrimopCmmEmit</span></a></span><span>
</span><span id="line-1794"></span><span>  </span><span id="local-6989586621682953539"><span class="annot"><span class="annottext">opTranslate :: MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var hs-var">opTranslate</span></a></span></span><span> </span><span id="local-6989586621682955417"><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682955417"><span class="hs-identifier hs-var">mop</span></a></span></span><span> </span><span id="local-6989586621682955418"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955418"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621682955419"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955419"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1795"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955420"><span class="annot"><span class="annottext">stmt :: CmmAGraph
</span><a href="#local-6989586621682955420"><span class="hs-identifier hs-var hs-var">stmt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-var">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955419"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682955417"><span class="hs-identifier hs-var">mop</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955418"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1796"></span><span>    </span><span class="annot"><span class="annottext">CmmAGraph -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">CmmAGraph
</span><a href="#local-6989586621682955420"><span class="hs-identifier hs-var">stmt</span></a></span><span>
</span><span id="line-1797"></span><span>
</span><span id="line-1798"></span><span>  </span><span class="annot"><a href="#local-6989586621682955009"><span class="hs-identifier hs-type">opTranslate64</span></a></span><span>
</span><span id="line-1799"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#MachOp"><span class="hs-identifier hs-type">MachOp</span></a></span><span>
</span><span id="line-1800"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#CallishMachOp"><span class="hs-identifier hs-type">CallishMachOp</span></a></span><span>
</span><span id="line-1801"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1802"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit"><span class="hs-identifier hs-type">PrimopCmmEmit</span></a></span><span>
</span><span id="line-1803"></span><span>  </span><span id="local-6989586621682955009"><span class="annot"><span class="annottext">opTranslate64 :: MachOp -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955009"><span class="hs-identifier hs-var hs-var">opTranslate64</span></a></span></span><span> </span><span id="local-6989586621682955421"><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682955421"><span class="hs-identifier hs-var">mop</span></a></span></span><span> </span><span id="local-6989586621682955422"><span class="annot"><span class="annottext">CallishMachOp
</span><a href="#local-6989586621682955422"><span class="hs-identifier hs-var">callish</span></a></span></span><span>
</span><span id="line-1804"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955423"><span class="hs-identifier hs-var">allowArith64</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682955421"><span class="hs-identifier hs-var">mop</span></a></span><span>
</span><span id="line-1805"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CallishMachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682954728"><span class="hs-identifier hs-var">opCallish</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="#local-6989586621682955422"><span class="hs-identifier hs-var">callish</span></a></span><span>
</span><span id="line-1806"></span><span>      </span><span class="hs-comment">-- backends not supporting 64-bit arithmetic primops: use callish machine</span><span>
</span><span id="line-1807"></span><span>      </span><span class="hs-comment">-- ops</span><span>
</span><span id="line-1808"></span><span>
</span><span id="line-1809"></span><span>  </span><span class="hs-comment">-- Basically a &quot;manual&quot; case, rather than one of the common repetitive forms</span><span>
</span><span id="line-1810"></span><span>  </span><span class="hs-comment">-- above. The results are a parameter to the returned function so we know the</span><span>
</span><span id="line-1811"></span><span>  </span><span class="hs-comment">-- choice of variant never depends on them.</span><span>
</span><span id="line-1812"></span><span>  </span><span class="annot"><a href="#local-6989586621682955239"><span class="hs-identifier hs-type">opCallishHandledLater</span></a></span><span>
</span><span id="line-1813"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#CallishMachOp"><span class="hs-identifier hs-type">CallishMachOp</span></a></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#GenericOp"><span class="hs-identifier hs-type">GenericOp</span></a></span><span>
</span><span id="line-1814"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1815"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit"><span class="hs-identifier hs-type">PrimopCmmEmit</span></a></span><span>
</span><span id="line-1816"></span><span>  </span><span id="local-6989586621682955239"><span class="annot"><span class="annottext">opCallishHandledLater :: Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
-&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955239"><span class="hs-identifier hs-var hs-var">opCallishHandledLater</span></a></span></span><span> </span><span id="local-6989586621682955425"><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
</span><a href="#local-6989586621682955425"><span class="hs-identifier hs-var">callOrNot</span></a></span></span><span> </span><span id="local-6989586621682955426"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955426"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682955427"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682955427"><span class="hs-identifier hs-var">res0</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either CallishMachOp ([LocalReg] -&gt; [CmmExpr] -&gt; FCode ())
</span><a href="#local-6989586621682955425"><span class="hs-identifier hs-var">callOrNot</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1817"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621682955428"><span class="annot"><span class="annottext">CallishMachOp
</span><a href="#local-6989586621682955428"><span class="hs-identifier hs-var">op</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmAGraph -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmAGraph -&gt; FCode ()) -&gt; CmmAGraph -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ForeignTarget -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#mkUnsafeCall"><span class="hs-identifier hs-var">mkUnsafeCall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CallishMachOp -&gt; ForeignTarget
</span><a href="GHC.Cmm.Node.html#PrimTarget"><span class="hs-identifier hs-var">PrimTarget</span></a></span><span> </span><span class="annot"><span class="annottext">CallishMachOp
</span><a href="#local-6989586621682955428"><span class="hs-identifier hs-var">op</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682955427"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955426"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1818"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621682955431"><span class="annot"><span class="annottext">[LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="#local-6989586621682955431"><span class="hs-identifier hs-var">gen</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="#local-6989586621682955431"><span class="hs-identifier hs-var">gen</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682955427"><span class="hs-identifier hs-var">res0</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955426"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1819"></span><span>
</span><span id="line-1820"></span><span>  </span><span class="annot"><a href="#local-6989586621682953345"><span class="hs-identifier hs-type">opIntoRegs</span></a></span><span>
</span><span id="line-1821"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- where to put the results</span><span>
</span><span id="line-1822"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1823"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit"><span class="hs-identifier hs-type">PrimopCmmEmit</span></a></span><span>
</span><span id="line-1824"></span><span>  </span><span id="local-6989586621682953345"><span class="annot"><span class="annottext">opIntoRegs :: ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var hs-var">opIntoRegs</span></a></span></span><span> </span><span id="local-6989586621682955432"><span class="annot"><span class="annottext">[LocalReg] -&gt; FCode ()
</span><a href="#local-6989586621682955432"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Type -&gt; FCode [CmmExpr]) -&gt; PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_Internal"><span class="hs-identifier hs-var">PrimopCmmEmit_Internal</span></a></span><span> </span><span class="annot"><span class="annottext">((Type -&gt; FCode [CmmExpr]) -&gt; PrimopCmmEmit)
-&gt; (Type -&gt; FCode [CmmExpr]) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621682955433"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682955433"><span class="hs-identifier hs-var">res_ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1825"></span><span>    </span><span id="local-6989586621682955434"><span class="annot"><a href="#local-6989586621682955434"><span class="hs-identifier hs-var">regs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PrimOpResultInfo
</span><a href="#local-6989586621682955404"><span class="hs-identifier hs-var">result_info</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1826"></span><span>      </span><span class="annot"><span class="annottext">PrimOpResultInfo
</span><a href="GHC.Builtin.PrimOps.html#ReturnsVoid"><span class="hs-identifier hs-var">ReturnsVoid</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[LocalReg] -&gt; FCode [LocalReg]
forall a. a -&gt; FCode a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1827"></span><span>      </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#ReturnsPrim"><span class="hs-identifier hs-type">ReturnsPrim</span></a></span><span> </span><span id="local-6989586621682955437"><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621682955437"><span class="hs-identifier hs-var">rep</span></a></span></span><span>
</span><span id="line-1828"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955438"><span class="annot"><a href="#local-6989586621682955438"><span class="hs-identifier hs-var">reg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; FCode LocalReg
forall (m :: * -&gt; *). MonadGetUnique m =&gt; CmmType -&gt; m LocalReg
</span><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-var">newTemp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; PrimRep -&gt; CmmType
</span><a href="GHC.Cmm.Utils.html#primRepCmmType"><span class="hs-identifier hs-var">primRepCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">PrimRep
</span><a href="#local-6989586621682955437"><span class="hs-identifier hs-var">rep</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1829"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955438"><span class="hs-identifier hs-type">reg</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1830"></span><span>
</span><span id="line-1831"></span><span>      </span><span class="annot"><span class="annottext">PrimOpResultInfo
</span><a href="GHC.Builtin.PrimOps.html#ReturnsTuple"><span class="hs-identifier hs-var">ReturnsTuple</span></a></span><span>
</span><span id="line-1832"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621682955441"><span class="annot"><a href="#local-6989586621682955441"><span class="hs-identifier hs-var">regs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955442"><span class="annot"><a href="#local-6989586621682955442"><span class="hs-identifier hs-var">_hints</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; FCode ([LocalReg], [ForeignHint])
</span><a href="GHC.StgToCmm.Utils.html#newUnboxedTupleRegs"><span class="hs-identifier hs-var">newUnboxedTupleRegs</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621682955433"><span class="hs-identifier hs-var">res_ty</span></a></span><span>
</span><span id="line-1833"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><a href="#local-6989586621682955441"><span class="hs-identifier hs-type">regs</span></a></span><span>
</span><span id="line-1834"></span><span>    </span><span class="annot"><a href="#local-6989586621682955432"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955434"><span class="hs-identifier hs-type">regs</span></a></span><span>
</span><span id="line-1835"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">.</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955434"><span class="hs-identifier hs-type">regs</span></a></span><span>
</span><span id="line-1836"></span><span>
</span><span id="line-1837"></span><span>  </span><span id="local-6989586621682955302"><span class="annot"><span class="annottext">alwaysExternal :: p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var hs-var">alwaysExternal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PrimopCmmEmit
</span><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span><span>
</span><span id="line-1838"></span><span>  </span><span class="hs-comment">-- Note [QuotRem optimization]</span><span>
</span><span id="line-1839"></span><span>  </span><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><span>
</span><span id="line-1840"></span><span>  </span><span class="hs-comment">-- `quot` and `rem` with constant divisor can be implemented with fast bit-ops</span><span>
</span><span id="line-1841"></span><span>  </span><span class="hs-comment">-- (shift, .&amp;.).</span><span>
</span><span id="line-1842"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-1843"></span><span>  </span><span class="hs-comment">-- Currently we only support optimization (performed in GHC.Cmm.Opt) when the</span><span>
</span><span id="line-1844"></span><span>  </span><span class="hs-comment">-- constant is a power of 2. #9041 tracks the implementation of the general</span><span>
</span><span id="line-1845"></span><span>  </span><span class="hs-comment">-- optimization.</span><span>
</span><span id="line-1846"></span><span>  </span><span class="hs-comment">--</span><span>
</span><span id="line-1847"></span><span>  </span><span class="hs-comment">-- `quotRem` can be optimized in the same way. However as it returns two values,</span><span>
</span><span id="line-1848"></span><span>  </span><span class="hs-comment">-- it is implemented as a &quot;callish&quot; primop which is harder to match and</span><span>
</span><span id="line-1849"></span><span>  </span><span class="hs-comment">-- to transform later on. For simplicity, the current implementation detects cases</span><span>
</span><span id="line-1850"></span><span>  </span><span class="hs-comment">-- that can be optimized (see `quotRemCanBeOptimized`) and converts STG quotRem</span><span>
</span><span id="line-1851"></span><span>  </span><span class="hs-comment">-- primop into two CMM quot and rem primops.</span><span>
</span><span id="line-1852"></span><span>  </span><span id="local-6989586621682955243"><span class="annot"><span class="annottext">quotRemCanBeOptimized :: [CmmExpr] -&gt; Bool
</span><a href="#local-6989586621682955243"><span class="hs-identifier hs-var hs-var">quotRemCanBeOptimized</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1853"></span><span>    </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682955445"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682955445"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Integer -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Maybe Integer
</span><a href="GHC.Utils.Misc.html#exactLog2"><span class="hs-identifier hs-var">exactLog2</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682955445"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1854"></span><span>    </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span>                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1855"></span><span>
</span><span id="line-1856"></span><span>  </span><span id="local-6989586621682955240"><span class="annot"><span class="annottext">allowQuotRem :: Bool
</span><a href="#local-6989586621682955240"><span class="hs-identifier hs-var hs-var">allowQuotRem</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowQuotRemInstr"><span class="hs-identifier hs-var">stgToCmmAllowQuotRemInstr</span></a></span><span>         </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1857"></span><span>  </span><span id="local-6989586621682955257"><span class="annot"><span class="annottext">allowQuotRem2 :: Bool
</span><a href="#local-6989586621682955257"><span class="hs-identifier hs-var hs-var">allowQuotRem2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowQuotRem2"><span class="hs-identifier hs-var">stgToCmmAllowQuotRem2</span></a></span><span>             </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1858"></span><span>  </span><span id="local-6989586621682955267"><span class="annot"><span class="annottext">allowExtAdd :: Bool
</span><a href="#local-6989586621682955267"><span class="hs-identifier hs-var hs-var">allowExtAdd</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowExtendedAddSubInstrs"><span class="hs-identifier hs-var">stgToCmmAllowExtendedAddSubInstrs</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1859"></span><span>  </span><span id="local-6989586621682955287"><span class="annot"><span class="annottext">allowInt2Mul :: Bool
</span><a href="#local-6989586621682955287"><span class="hs-identifier hs-var hs-var">allowInt2Mul</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowIntMul2Instr"><span class="hs-identifier hs-var">stgToCmmAllowIntMul2Instr</span></a></span><span>         </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1860"></span><span>  </span><span id="local-6989586621682955283"><span class="annot"><span class="annottext">allowWord2Mul :: Bool
</span><a href="#local-6989586621682955283"><span class="hs-identifier hs-var hs-var">allowWord2Mul</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowWordMul2Instr"><span class="hs-identifier hs-var">stgToCmmAllowWordMul2Instr</span></a></span><span>        </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1861"></span><span>  </span><span id="local-6989586621682955423"><span class="annot"><span class="annottext">allowArith64 :: Bool
</span><a href="#local-6989586621682955423"><span class="hs-identifier hs-var hs-var">allowArith64</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowArith64"><span class="hs-identifier hs-var">stgToCmmAllowArith64</span></a></span><span>              </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1862"></span><span>  </span><span id="local-6989586621682955022"><span class="annot"><span class="annottext">allowQuot64 :: Bool
</span><a href="#local-6989586621682955022"><span class="hs-identifier hs-var hs-var">allowQuot64</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowQuot64"><span class="hs-identifier hs-var">stgToCmmAllowQuot64</span></a></span><span>               </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1863"></span><span>
</span><span id="line-1864"></span><span>  </span><span class="hs-comment">-- a bit of a hack, for certain code generaters, e.g. PPC, and i386 we</span><span>
</span><span id="line-1865"></span><span>  </span><span class="hs-comment">-- continue to use the cmm versions of these functions instead of inline</span><span>
</span><span id="line-1866"></span><span>  </span><span class="hs-comment">-- assembly. Tracked in #24841.</span><span>
</span><span id="line-1867"></span><span>  </span><span id="local-6989586621682955455"><span class="annot"><span class="annottext">ppc :: Bool
</span><a href="#local-6989586621682955455"><span class="hs-identifier hs-var hs-var">ppc</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Arch -&gt; Bool
</span><span class="hs-identifier hs-var">isPPC</span></span><span> </span><span class="annot"><span class="annottext">(Arch -&gt; Bool) -&gt; Arch -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-1868"></span><span>  </span><span id="local-6989586621682955458"><span class="annot"><span class="annottext">i386 :: Bool
</span><a href="#local-6989586621682955458"><span class="hs-identifier hs-var hs-var">i386</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Bool
</span><a href="GHC.Platform.html#target32Bit"><span class="hs-identifier hs-var">target32Bit</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682953353"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-1869"></span><span>  </span><span id="local-6989586621682955230"><span class="annot"><span class="annottext">translateBitcasts :: MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955230"><span class="hs-identifier hs-var hs-var">translateBitcasts</span></a></span></span><span> </span><span id="local-6989586621682955460"><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682955460"><span class="hs-identifier hs-var">mop</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955455"><span class="hs-identifier hs-var">ppc</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955458"><span class="hs-identifier hs-var">i386</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CmmExpr] -&gt; PrimopCmmEmit
forall {p}. p -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955302"><span class="hs-identifier hs-var">alwaysExternal</span></a></span><span>
</span><span id="line-1870"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682955460"><span class="hs-identifier hs-var">mop</span></a></span><span>
</span><span id="line-1871"></span><span>
</span><span id="line-1872"></span><span>  </span><span id="local-6989586621682955462"><span class="annot"><span class="annottext">allowFMA :: FMASign -&gt; Bool
</span><a href="#local-6989586621682955462"><span class="hs-identifier hs-var hs-var">allowFMA</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; FMASign -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAllowFMAInstr"><span class="hs-identifier hs-var">stgToCmmAllowFMAInstr</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682953336"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1873"></span><span>
</span><span id="line-1874"></span><span>  </span><span class="annot"><a href="#local-6989586621682955108"><span class="hs-identifier hs-type">fmaOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#FMASign"><span class="hs-identifier hs-type">FMASign</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Length"><span class="hs-identifier hs-type">Length</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmActual"><span class="hs-identifier hs-type">CmmActual</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit"><span class="hs-identifier hs-type">PrimopCmmEmit</span></a></span><span>
</span><span id="line-1875"></span><span>  </span><span id="local-6989586621682955108"><span class="annot"><span class="annottext">fmaOp :: FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var hs-var">fmaOp</span></a></span></span><span> </span><span id="local-6989586621682955466"><span class="annot"><span class="annottext">FMASign
</span><a href="#local-6989586621682955466"><span class="hs-identifier hs-var">signs</span></a></span></span><span> </span><span id="local-6989586621682955467"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955467"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621682955468"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955468"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621682955469"><span class="annot"><span class="annottext">args :: [CmmExpr]
</span><a href="#local-6989586621682955469"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">[</span><span id="local-6989586621682955470"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955470"><span class="hs-identifier hs-var">arg_x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955471"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955471"><span class="hs-identifier hs-var">arg_y</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955472"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955472"><span class="hs-identifier hs-var">arg_z</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-1876"></span><span>    </span><span class="hs-glyph">|</span><span>  </span><span class="annot"><span class="annottext">FMASign -&gt; Bool
</span><a href="#local-6989586621682955462"><span class="hs-identifier hs-var">allowFMA</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="#local-6989586621682955466"><span class="hs-identifier hs-var">signs</span></a></span><span>
</span><span id="line-1877"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955467"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-comment">-- (always use the MachOp for vector FMA)</span><span>
</span><span id="line-1878"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953539"><span class="hs-identifier hs-var">opTranslate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_FMA"><span class="hs-identifier hs-var">MO_FMA</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="#local-6989586621682955466"><span class="hs-identifier hs-var">signs</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955467"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955468"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955469"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-1879"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1880"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="#local-6989586621682955466"><span class="hs-identifier hs-var">signs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1881"></span><span>
</span><span id="line-1882"></span><span>        </span><span class="hs-comment">-- For fused multiply-add x * y + z, we fall back to the C implementation.</span><span>
</span><span id="line-1883"></span><span>        </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FMAdd"><span class="hs-identifier hs-var">FMAdd</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682953345"><span class="hs-identifier hs-var">opIntoRegs</span></a></span><span> </span><span class="annot"><span class="annottext">(([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit)
-&gt; ([LocalReg] -&gt; FCode ()) -&gt; PrimopCmmEmit
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955475"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955475"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Width -&gt; LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#fmaCCall"><span class="hs-identifier hs-var">fmaCCall</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955468"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955475"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955470"><span class="hs-identifier hs-var">arg_x</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955471"><span class="hs-identifier hs-var">arg_y</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955472"><span class="hs-identifier hs-var">arg_z</span></a></span><span>
</span><span id="line-1884"></span><span>
</span><span id="line-1885"></span><span>        </span><span class="hs-comment">-- Other fused multiply-add operations are implemented in terms of fmadd</span><span>
</span><span id="line-1886"></span><span>        </span><span class="hs-comment">-- This is sound: it does not lose any precision.</span><span>
</span><span id="line-1887"></span><span>        </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FMSub"><span class="hs-identifier hs-var">FMSub</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FMAdd"><span class="hs-identifier hs-var">FMAdd</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955467"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955468"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955470"><span class="hs-identifier hs-var">arg_x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955471"><span class="hs-identifier hs-var">arg_y</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955477"><span class="hs-identifier hs-var">neg</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955472"><span class="hs-identifier hs-var">arg_z</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1888"></span><span>        </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FNMAdd"><span class="hs-identifier hs-var">FNMAdd</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FMAdd"><span class="hs-identifier hs-var">FMAdd</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955467"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955468"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955477"><span class="hs-identifier hs-var">neg</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955470"><span class="hs-identifier hs-var">arg_x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955471"><span class="hs-identifier hs-var">arg_y</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955472"><span class="hs-identifier hs-var">arg_z</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1889"></span><span>        </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FNMSub"><span class="hs-identifier hs-var">FNMSub</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FMASign -&gt; Int -&gt; Width -&gt; [CmmExpr] -&gt; PrimopCmmEmit
</span><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><a href="GHC.Cmm.MachOp.html#FMAdd"><span class="hs-identifier hs-var">FMAdd</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955467"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955468"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955477"><span class="hs-identifier hs-var">neg</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955470"><span class="hs-identifier hs-var">arg_x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955471"><span class="hs-identifier hs-var">arg_y</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955477"><span class="hs-identifier hs-var">neg</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955472"><span class="hs-identifier hs-var">arg_z</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1890"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-1891"></span><span>      </span><span id="local-6989586621682955477"><span class="annot"><span class="annottext">neg :: CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955477"><span class="hs-identifier hs-var hs-var">neg</span></a></span></span><span> </span><span id="local-6989586621682955478"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955478"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-1892"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955467"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-1893"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_F_Neg"><span class="hs-identifier hs-var">MO_F_Neg</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955468"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955478"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1894"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-1895"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VF_Neg"><span class="hs-identifier hs-var">MO_VF_Neg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955467"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955468"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955478"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1896"></span><span>  </span><span class="annot"><a href="#local-6989586621682955108"><span class="hs-identifier hs-var">fmaOp</span></a></span><span> </span><span class="annot"><span class="annottext">FMASign
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; PrimopCmmEmit
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fmaOp: wrong number of arguments (expected 3)&quot;</span></span><span>
</span><span id="line-1897"></span><span>
</span><span id="line-1898"></span><span class="hs-keyword">data</span><span> </span><span id="PrimopCmmEmit"><span class="annot"><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit"><span class="hs-identifier hs-var">PrimopCmmEmit</span></a></span></span><span>
</span><span id="line-1899"></span><span>  </span><span class="hs-comment">-- | Out of line fake primop that's actually just a foreign call to other</span><span>
</span><span id="line-1900"></span><span>  </span><span class="hs-comment">-- (presumably) C--.</span><span>
</span><span id="line-1901"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PrimopCmmEmit_External"><span class="annot"><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_External"><span class="hs-identifier hs-var">PrimopCmmEmit_External</span></a></span></span><span>
</span><span id="line-1902"></span><span>  </span><span class="annot"><span class="hs-comment">-- | Real primop turned into inline C--.</span></span><span>
</span><span id="line-1903"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PrimopCmmEmit_Internal"><span class="annot"><a href="GHC.StgToCmm.Prim.html#PrimopCmmEmit_Internal"><span class="hs-identifier hs-var">PrimopCmmEmit_Internal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Core.TyCo.Rep.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="hs-comment">-- the return type, some primops are specialized to it</span><span>
</span><span id="line-1904"></span><span>                            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- just for TagToEnum for now</span><span>
</span><span id="line-1905"></span><span>
</span><span id="line-1906"></span><span class="hs-keyword">type</span><span> </span><span id="GenericOp"><span class="annot"><a href="GHC.StgToCmm.Prim.html#GenericOp"><span class="hs-identifier hs-var">GenericOp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmActual"><span class="hs-identifier hs-type">CmmActual</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1907"></span><span>
</span><span id="line-1908"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericIntQuotRemOp"><span class="hs-identifier hs-type">genericIntQuotRemOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#GenericOp"><span class="hs-identifier hs-type">GenericOp</span></a></span><span>
</span><span id="line-1909"></span><span id="genericIntQuotRemOp"><span class="annot"><span class="annottext">genericIntQuotRemOp :: Width -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericIntQuotRemOp"><span class="hs-identifier hs-var hs-var">genericIntQuotRemOp</span></a></span></span><span> </span><span id="local-6989586621682955480"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955480"><span class="hs-identifier hs-var">width</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955481"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955481"><span class="hs-identifier hs-var">res_q</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955482"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955482"><span class="hs-identifier hs-var">res_r</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955483"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955483"><span class="hs-identifier hs-var">arg_x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955484"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955484"><span class="hs-identifier hs-var">arg_y</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-1910"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmAGraph -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmAGraph -&gt; FCode ()) -&gt; CmmAGraph -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-var">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955481"><span class="hs-identifier hs-var">res_q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1911"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Quot"><span class="hs-identifier hs-var">MO_S_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955480"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955483"><span class="hs-identifier hs-var">arg_x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955484"><span class="hs-identifier hs-var">arg_y</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmAGraph -&gt; CmmAGraph -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span>
</span><span id="line-1912"></span><span>            </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-var">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955482"><span class="hs-identifier hs-var">res_r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1913"></span><span>              </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Rem"><span class="hs-identifier hs-var">MO_S_Rem</span></a></span><span>  </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955480"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955483"><span class="hs-identifier hs-var">arg_x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955484"><span class="hs-identifier hs-var">arg_y</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1914"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericIntQuotRemOp"><span class="hs-identifier hs-var">genericIntQuotRemOp</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;genericIntQuotRemOp&quot;</span></span><span>
</span><span id="line-1915"></span><span>
</span><span id="line-1916"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericWordQuotRemOp"><span class="hs-identifier hs-type">genericWordQuotRemOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#GenericOp"><span class="hs-identifier hs-type">GenericOp</span></a></span><span>
</span><span id="line-1917"></span><span id="genericWordQuotRemOp"><span class="annot"><span class="annottext">genericWordQuotRemOp :: Width -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordQuotRemOp"><span class="hs-identifier hs-var hs-var">genericWordQuotRemOp</span></a></span></span><span> </span><span id="local-6989586621682955486"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955486"><span class="hs-identifier hs-var">width</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955487"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955487"><span class="hs-identifier hs-var">res_q</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955488"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955488"><span class="hs-identifier hs-var">res_r</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955489"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955489"><span class="hs-identifier hs-var">arg_x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955490"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955490"><span class="hs-identifier hs-var">arg_y</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-1918"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmAGraph -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmAGraph -&gt; FCode ()) -&gt; CmmAGraph -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-var">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955487"><span class="hs-identifier hs-var">res_q</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1919"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Quot"><span class="hs-identifier hs-var">MO_U_Quot</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955486"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955489"><span class="hs-identifier hs-var">arg_x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955490"><span class="hs-identifier hs-var">arg_y</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmAGraph -&gt; CmmAGraph -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span>
</span><span id="line-1920"></span><span>             </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-var">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955488"><span class="hs-identifier hs-var">res_r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1921"></span><span>               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Rem"><span class="hs-identifier hs-var">MO_U_Rem</span></a></span><span>  </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955486"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955489"><span class="hs-identifier hs-var">arg_x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955490"><span class="hs-identifier hs-var">arg_y</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1922"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericWordQuotRemOp"><span class="hs-identifier hs-var">genericWordQuotRemOp</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;genericWordQuotRemOp&quot;</span></span><span>
</span><span id="line-1923"></span><span>
</span><span id="line-1924"></span><span class="hs-comment">-- Based on the algorithm from LLVM's compiler-rt:</span><span>
</span><span id="line-1925"></span><span class="hs-comment">-- https://github.com/llvm/llvm-project/blob/7339f7ba3053db7595ece1ca5f49bd2e4c3c8305/compiler-rt/lib/builtins/udivmodti4.c#L23</span><span>
</span><span id="line-1926"></span><span class="hs-comment">-- See that file for licensing and copyright.</span><span>
</span><span id="line-1927"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericWordQuotRem2Op"><span class="hs-identifier hs-type">genericWordQuotRem2Op</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#GenericOp"><span class="hs-identifier hs-type">GenericOp</span></a></span><span>
</span><span id="line-1928"></span><span id="genericWordQuotRem2Op"><span class="annot"><span class="annottext">genericWordQuotRem2Op :: Platform -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordQuotRem2Op"><span class="hs-identifier hs-var hs-var">genericWordQuotRem2Op</span></a></span></span><span> </span><span id="local-6989586621682955491"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955492"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955492"><span class="hs-identifier hs-var">res_q</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955493"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955493"><span class="hs-identifier hs-var">res_r</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955494"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955494"><span class="hs-identifier hs-var">arg_u1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955495"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955495"><span class="hs-identifier hs-var">arg_u0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955496"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955496"><span class="hs-identifier hs-var">arg_v</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-1929"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1930"></span><span>      </span><span class="hs-comment">-- v gets modified below based on clz v</span><span>
</span><span id="line-1931"></span><span>      </span><span id="local-6989586621682955497"><span class="annot"><a href="#local-6989586621682955497"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; FCode LocalReg
forall (m :: * -&gt; *). MonadGetUnique m =&gt; CmmType -&gt; m LocalReg
</span><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-var">newTemp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955498"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1932"></span><span>      </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955497"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955496"><span class="hs-identifier hs-type">arg_v</span></a></span><span>
</span><span id="line-1933"></span><span>      </span><span class="annot"><a href="#local-6989586621682955499"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955494"><span class="hs-identifier hs-type">arg_u1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955495"><span class="hs-identifier hs-type">arg_u0</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955497"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-1934"></span><span>  </span><span class="hs-keyword">where</span><span>   </span><span id="local-6989586621682955498"><span class="annot"><span class="annottext">ty :: CmmType
</span><a href="#local-6989586621682955498"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmType
</span><a href="GHC.Cmm.Expr.html#cmmExprType"><span class="hs-identifier hs-var">cmmExprType</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955494"><span class="hs-identifier hs-var">arg_u1</span></a></span><span>
</span><span id="line-1935"></span><span>          </span><span id="local-6989586621682955500"><span class="annot"><span class="annottext">shl :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955500"><span class="hs-identifier hs-var hs-var">shl</span></a></span></span><span>   </span><span id="local-6989586621682955501"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955501"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955502"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955502"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Shl"><span class="hs-identifier hs-var">MO_Shl</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955501"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955502"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1936"></span><span>          </span><span id="local-6989586621682955503"><span class="annot"><span class="annottext">shr :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955503"><span class="hs-identifier hs-var hs-var">shr</span></a></span></span><span>   </span><span id="local-6989586621682955504"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955504"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955505"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955505"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Shr"><span class="hs-identifier hs-var">MO_U_Shr</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955504"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955505"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1937"></span><span>          </span><span id="local-6989586621682955506"><span class="annot"><span class="annottext">or :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955506"><span class="hs-identifier hs-var hs-var">or</span></a></span></span><span>    </span><span id="local-6989586621682955507"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955507"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955508"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955508"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Or"><span class="hs-identifier hs-var">MO_Or</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955507"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955508"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1938"></span><span>          </span><span id="local-6989586621682955509"><span class="annot"><span class="annottext">ge :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955509"><span class="hs-identifier hs-var hs-var">ge</span></a></span></span><span>    </span><span id="local-6989586621682955510"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955510"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955511"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955511"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Ge"><span class="hs-identifier hs-var">MO_U_Ge</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955510"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955511"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1939"></span><span>          </span><span id="local-6989586621682955512"><span class="annot"><span class="annottext">le :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955512"><span class="hs-identifier hs-var hs-var">le</span></a></span></span><span>    </span><span id="local-6989586621682955513"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955513"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955514"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955514"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Le"><span class="hs-identifier hs-var">MO_U_Le</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955513"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955514"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1940"></span><span>          </span><span id="local-6989586621682955515"><span class="annot"><span class="annottext">eq :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955515"><span class="hs-identifier hs-var hs-var">eq</span></a></span></span><span>    </span><span id="local-6989586621682955516"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955516"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955517"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955517"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Eq"><span class="hs-identifier hs-var">MO_Eq</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955516"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955517"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1941"></span><span>          </span><span id="local-6989586621682955518"><span class="annot"><span class="annottext">plus :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955518"><span class="hs-identifier hs-var hs-var">plus</span></a></span></span><span>  </span><span id="local-6989586621682955519"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955519"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955520"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955520"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Add"><span class="hs-identifier hs-var">MO_Add</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955519"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955520"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1942"></span><span>          </span><span id="local-6989586621682955521"><span class="annot"><span class="annottext">minus :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955521"><span class="hs-identifier hs-var hs-var">minus</span></a></span></span><span> </span><span id="local-6989586621682955522"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955522"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955523"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955523"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Sub"><span class="hs-identifier hs-var">MO_Sub</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955522"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955523"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1943"></span><span>          </span><span id="local-6989586621682955524"><span class="annot"><span class="annottext">times :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955524"><span class="hs-identifier hs-var hs-var">times</span></a></span></span><span> </span><span id="local-6989586621682955525"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955525"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955526"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955526"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Mul"><span class="hs-identifier hs-var">MO_Mul</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955525"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955526"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1944"></span><span>          </span><span id="local-6989586621682955527"><span class="annot"><span class="annottext">udiv :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955527"><span class="hs-identifier hs-var hs-var">udiv</span></a></span></span><span>  </span><span id="local-6989586621682955528"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955528"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955529"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955529"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Quot"><span class="hs-identifier hs-var">MO_U_Quot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955528"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955529"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1945"></span><span>          </span><span id="local-6989586621682955530"><span class="annot"><span class="annottext">and :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955530"><span class="hs-identifier hs-var hs-var">and</span></a></span></span><span>   </span><span id="local-6989586621682955531"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955531"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955532"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955532"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_And"><span class="hs-identifier hs-var">MO_And</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955531"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955532"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1946"></span><span>          </span><span id="local-6989586621682955533"><span class="annot"><span class="annottext">lit :: Integer -&gt; CmmExpr
</span><a href="#local-6989586621682955533"><span class="hs-identifier hs-var hs-var">lit</span></a></span></span><span> </span><span id="local-6989586621682955534"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682955534"><span class="hs-identifier hs-var">i</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-var">CmmInt</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682955534"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1947"></span><span>          </span><span id="local-6989586621682955535"><span class="annot"><span class="annottext">one :: CmmExpr
</span><a href="#local-6989586621682955535"><span class="hs-identifier hs-var hs-var">one</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; CmmExpr
</span><a href="#local-6989586621682955533"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span>
</span><span id="line-1948"></span><span>          </span><span id="local-6989586621682955536"><span class="annot"><span class="annottext">zero :: CmmExpr
</span><a href="#local-6989586621682955536"><span class="hs-identifier hs-var hs-var">zero</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; CmmExpr
</span><a href="#local-6989586621682955533"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span>
</span><span id="line-1949"></span><span>          </span><span id="local-6989586621682955537"><span class="annot"><span class="annottext">masklow :: CmmExpr
</span><a href="#local-6989586621682955537"><span class="hs-identifier hs-var hs-var">masklow</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; CmmExpr
</span><a href="#local-6989586621682955533"><span class="hs-identifier hs-var">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="GHC.Prelude.Basic.html#shiftL"><span class="hs-operator hs-var">`shiftL`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Int
</span><a href="GHC.Platform.html#platformWordSizeInBits"><span class="hs-identifier hs-var">platformWordSizeInBits</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-1950"></span><span>          </span><span id="local-6989586621682955542"><span class="annot"><span class="annottext">gotoIf :: CmmExpr -&gt; BlockId -&gt; FCode ()
</span><a href="#local-6989586621682955542"><span class="hs-identifier hs-var hs-var">gotoIf</span></a></span></span><span> </span><span id="local-6989586621682955543"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955543"><span class="hs-identifier hs-var">pred</span></a></span></span><span> </span><span id="local-6989586621682955544"><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621682955544"><span class="hs-identifier hs-var">target</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmAGraph -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmAGraph -&gt; FCode ()) -&gt; FCode CmmAGraph -&gt; FCode ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; BlockId -&gt; FCode CmmAGraph
</span><a href="GHC.StgToCmm.Monad.html#mkCmmIfGoto"><span class="hs-identifier hs-var">mkCmmIfGoto</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955543"><span class="hs-identifier hs-var">pred</span></a></span><span> </span><span class="annot"><span class="annottext">BlockId
</span><a href="#local-6989586621682955544"><span class="hs-identifier hs-var">target</span></a></span><span>
</span><span id="line-1951"></span><span>          </span><span id="local-6989586621682955562"><span class="annot"><span class="annottext">mkTmp :: CmmType -&gt; m (LocalReg, CmmExpr)
</span><a href="#local-6989586621682955562"><span class="hs-identifier hs-var hs-var">mkTmp</span></a></span></span><span> </span><span id="local-6989586621682955563"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955563"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1952"></span><span>            </span><span id="local-6989586621682955564"><span class="annot"><a href="#local-6989586621682955564"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; m LocalReg
forall (m :: * -&gt; *). MonadGetUnique m =&gt; CmmType -&gt; m LocalReg
</span><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-var">newTemp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955563"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1953"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955564"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955564"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1954"></span><span>          </span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">8</span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span>
</span><span id="line-1955"></span><span>          </span><span id="local-6989586621682955566"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955566"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621682955565"><span class="annot"><span class="annottext">.= :: LocalReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="#local-6989586621682955565"><span class="hs-operator hs-var hs-var">.=</span></a></span></span><span> </span><span id="local-6989586621682955567"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955567"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmAGraph -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-var">emit</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmAGraph -&gt; FCode ()) -&gt; CmmAGraph -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-var">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955566"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955567"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-1956"></span><span>
</span><span id="line-1957"></span><span>          </span><span class="annot"><a href="#local-6989586621682955499"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmActual"><span class="hs-identifier hs-type">CmmActual</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmActual"><span class="hs-identifier hs-type">CmmActual</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1958"></span><span>          </span><span id="local-6989586621682955499"><span class="annot"><span class="annottext">go :: CmmExpr -&gt; CmmExpr -&gt; LocalReg -&gt; FCode ()
</span><a href="#local-6989586621682955499"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621682955568"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955568"><span class="hs-identifier hs-var">u1</span></a></span></span><span> </span><span id="local-6989586621682955569"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955569"><span class="hs-identifier hs-var">u0</span></a></span></span><span> </span><span id="local-6989586621682955570"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955570"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1959"></span><span>            </span><span class="hs-comment">-- Computes (ret,r) = (u1&lt;&lt;WORDSIZE*8+u0) `divMod` v</span><span>
</span><span id="line-1960"></span><span>            </span><span class="hs-comment">-- du_int udiv128by64to64default(du_int u1, du_int u0, du_int v, du_int *r)</span><span>
</span><span id="line-1961"></span><span>            </span><span class="hs-comment">-- const unsigned n_udword_bits = sizeof(du_int) * CHAR_BIT;</span><span>
</span><span id="line-1962"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955571"><span class="annot"><span class="annottext">n_udword_bits' :: Int
</span><a href="#local-6989586621682955571"><span class="hs-identifier hs-var hs-var hs-var">n_udword_bits'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBits"><span class="hs-identifier hs-var">widthInBits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955491"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1963"></span><span>                </span><span id="local-6989586621682955572"><span class="annot"><span class="annottext">n_udword_bits :: Integer
</span><a href="#local-6989586621682955572"><span class="hs-identifier hs-var hs-var hs-var">n_udword_bits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955571"><span class="hs-identifier hs-var">n_udword_bits'</span></a></span><span>
</span><span id="line-1964"></span><span>            </span><span class="hs-comment">-- const du_int b = (1ULL &lt;&lt; (n_udword_bits / 2)); // Number base (32 bits)</span><span>
</span><span id="line-1965"></span><span>                </span><span id="local-6989586621682955573"><span class="annot"><span class="annottext">b :: Integer
</span><a href="#local-6989586621682955573"><span class="hs-identifier hs-var hs-var hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><a href="GHC.Prelude.Basic.html#shiftL"><span class="hs-operator hs-var">`shiftL`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955571"><span class="hs-identifier hs-var">n_udword_bits'</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-1966"></span><span>                </span><span id="local-6989586621682955574"><span class="annot"><span class="annottext">v' :: CmmExpr
</span><a href="#local-6989586621682955574"><span class="hs-identifier hs-var hs-var hs-var">v'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-var">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955570"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1967"></span><span>            </span><span class="hs-comment">-- du_int un1, un0;                                // Norm. dividend LSD's</span><span>
</span><span id="line-1968"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621682955575"><span class="annot"><a href="#local-6989586621682955575"><span class="hs-identifier hs-var">un1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955576"><span class="annot"><a href="#local-6989586621682955576"><span class="hs-identifier hs-var">un1'</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; FCode (LocalReg, CmmExpr)
forall {m :: * -&gt; *}.
MonadGetUnique m =&gt;
CmmType -&gt; m (LocalReg, CmmExpr)
</span><a href="#local-6989586621682955562"><span class="hs-identifier hs-var">mkTmp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955498"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-1969"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621682955577"><span class="annot"><a href="#local-6989586621682955577"><span class="hs-identifier hs-var">un0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955578"><span class="annot"><a href="#local-6989586621682955578"><span class="hs-identifier hs-var">un0'</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682955562"><span class="hs-identifier hs-type">mkTmp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955498"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1970"></span><span>            </span><span class="hs-comment">-- du_int vn1, vn0;                                // Norm. divisor digits</span><span>
</span><span id="line-1971"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621682955579"><span class="annot"><a href="#local-6989586621682955579"><span class="hs-identifier hs-var">vn1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955580"><span class="annot"><a href="#local-6989586621682955580"><span class="hs-identifier hs-var">vn1'</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682955562"><span class="hs-identifier hs-type">mkTmp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955498"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1972"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621682955581"><span class="annot"><a href="#local-6989586621682955581"><span class="hs-identifier hs-var">vn0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955582"><span class="annot"><a href="#local-6989586621682955582"><span class="hs-identifier hs-var">vn0'</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682955562"><span class="hs-identifier hs-type">mkTmp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955498"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1973"></span><span>            </span><span class="hs-comment">-- du_int q1, q0;                                  // Quotient digits</span><span>
</span><span id="line-1974"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621682955583"><span class="annot"><a href="#local-6989586621682955583"><span class="hs-identifier hs-var">q1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955584"><span class="annot"><a href="#local-6989586621682955584"><span class="hs-identifier hs-var">q1'</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682955562"><span class="hs-identifier hs-type">mkTmp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955498"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1975"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621682955585"><span class="annot"><a href="#local-6989586621682955585"><span class="hs-identifier hs-var">q0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955586"><span class="annot"><a href="#local-6989586621682955586"><span class="hs-identifier hs-var">q0'</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682955562"><span class="hs-identifier hs-type">mkTmp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955498"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1976"></span><span>            </span><span class="hs-comment">-- du_int un64, un21, un10;                        // Dividend digit pairs</span><span>
</span><span id="line-1977"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621682955587"><span class="annot"><a href="#local-6989586621682955587"><span class="hs-identifier hs-var">un64</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955588"><span class="annot"><a href="#local-6989586621682955588"><span class="hs-identifier hs-var">un64'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682955562"><span class="hs-identifier hs-type">mkTmp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955498"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1978"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621682955589"><span class="annot"><a href="#local-6989586621682955589"><span class="hs-identifier hs-var">un21</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955590"><span class="annot"><a href="#local-6989586621682955590"><span class="hs-identifier hs-var">un21'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682955562"><span class="hs-identifier hs-type">mkTmp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955498"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1979"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621682955591"><span class="annot"><a href="#local-6989586621682955591"><span class="hs-identifier hs-var">un10</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955592"><span class="annot"><a href="#local-6989586621682955592"><span class="hs-identifier hs-var">un10'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682955562"><span class="hs-identifier hs-type">mkTmp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955498"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1980"></span><span>
</span><span id="line-1981"></span><span>            </span><span class="hs-comment">-- du_int rhat;                                    // A remainder</span><span>
</span><span id="line-1982"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621682955593"><span class="annot"><a href="#local-6989586621682955593"><span class="hs-identifier hs-var">rhat</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955594"><span class="annot"><a href="#local-6989586621682955594"><span class="hs-identifier hs-var">rhat'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682955562"><span class="hs-identifier hs-type">mkTmp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955498"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1983"></span><span>            </span><span class="hs-comment">-- si_int s;                                       // Shift amount for normalization</span><span>
</span><span id="line-1984"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621682955595"><span class="annot"><a href="#local-6989586621682955595"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955596"><span class="annot"><a href="#local-6989586621682955596"><span class="hs-identifier hs-var">s'</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="#local-6989586621682955562"><span class="hs-identifier hs-type">mkTmp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955498"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-1985"></span><span>
</span><span id="line-1986"></span><span>            </span><span class="hs-comment">-- s = __builtin_clzll(v);</span><span>
</span><span id="line-1987"></span><span>            </span><span class="hs-comment">-- clz(0) in GHC returns N on N bit systems, whereas</span><span>
</span><span id="line-1988"></span><span>            </span><span class="hs-comment">-- __builtin_clzll returns 0 (or is undefined)</span><span>
</span><span id="line-1989"></span><span>            </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitClzCall"><span class="hs-identifier hs-type">emitClzCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955595"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955574"><span class="hs-identifier hs-type">v'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-type">wordWidth</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955491"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1990"></span><span>
</span><span id="line-1991"></span><span>            </span><span id="local-6989586621682955597"><span class="annot"><a href="#local-6989586621682955597"><span class="hs-identifier hs-var">if_else</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Cmm.BlockId.html#newBlockId"><span class="hs-identifier hs-type">newBlockId</span></a></span><span>
</span><span id="line-1992"></span><span>            </span><span id="local-6989586621682955599"><span class="annot"><a href="#local-6989586621682955599"><span class="hs-identifier hs-var">if_done</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Cmm.BlockId.html#newBlockId"><span class="hs-identifier hs-type">newBlockId</span></a></span><span>
</span><span id="line-1993"></span><span>            </span><span class="hs-comment">-- if (s &gt; 0) {</span><span>
</span><span id="line-1994"></span><span>            </span><span class="hs-comment">-- actually if (s &gt; 0 &amp;&amp; s /= wordSizeInBits) {</span><span>
</span><span id="line-1995"></span><span>            </span><span class="annot"><a href="#local-6989586621682955542"><span class="hs-identifier hs-type">gotoIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955596"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955515"><span class="hs-operator hs-type">`eq`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955536"><span class="hs-identifier hs-type">zero</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955597"><span class="hs-identifier hs-type">if_else</span></a></span><span>
</span><span id="line-1996"></span><span>            </span><span class="annot"><a href="#local-6989586621682955542"><span class="hs-identifier hs-type">gotoIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955596"><span class="hs-identifier hs-type">s'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955515"><span class="hs-operator hs-type">`eq`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955533"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955572"><span class="hs-identifier hs-type">n_udword_bits</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955597"><span class="hs-identifier hs-type">if_else</span></a></span><span>
</span><span id="line-1997"></span><span>            </span><span class="hs-keyword">do</span><span>
</span><span id="line-1998"></span><span>              </span><span class="hs-comment">--   // Normalize the divisor.</span><span>
</span><span id="line-1999"></span><span>              </span><span class="hs-comment">--   v = v &lt;&lt; s;</span><span>
</span><span id="line-2000"></span><span>              </span><span class="annot"><a href="#local-6989586621682955570"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955500"><span class="hs-identifier hs-type">shl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955574"><span class="hs-identifier hs-type">v'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955596"><span class="hs-identifier hs-type">s'</span></a></span><span>
</span><span id="line-2001"></span><span>              </span><span class="hs-comment">--   un64 = (u1 &lt;&lt; s) | (u0 &gt;&gt; (n_udword_bits - s));</span><span>
</span><span id="line-2002"></span><span>              </span><span class="annot"><a href="#local-6989586621682955587"><span class="hs-identifier hs-type">un64</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955568"><span class="hs-identifier hs-type">u1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955500"><span class="hs-operator hs-type">`shl`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955596"><span class="hs-identifier hs-type">s'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955506"><span class="hs-operator hs-type">`or`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955569"><span class="hs-identifier hs-type">u0</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955503"><span class="hs-operator hs-type">`shr`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955533"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955572"><span class="hs-identifier hs-type">n_udword_bits</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955521"><span class="hs-operator hs-type">`minus`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955596"><span class="hs-identifier hs-type">s'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2003"></span><span>              </span><span class="hs-comment">--   un10 = u0 &lt;&lt; s; // Shift dividend left</span><span>
</span><span id="line-2004"></span><span>              </span><span class="annot"><a href="#local-6989586621682955591"><span class="hs-identifier hs-type">un10</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955500"><span class="hs-identifier hs-type">shl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955569"><span class="hs-identifier hs-type">u0</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955596"><span class="hs-identifier hs-type">s'</span></a></span><span>
</span><span id="line-2005"></span><span>              </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkBranch"><span class="hs-identifier hs-type">mkBranch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955599"><span class="hs-identifier hs-type">if_done</span></a></span><span>
</span><span id="line-2006"></span><span>            </span><span class="hs-comment">-- } else {</span><span>
</span><span id="line-2007"></span><span>            </span><span class="hs-keyword">do</span><span>
</span><span id="line-2008"></span><span>              </span><span class="hs-comment">--   // Avoid undefined behavior of (u0 &gt;&gt; 64).</span><span>
</span><span id="line-2009"></span><span>              </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitLabel"><span class="hs-identifier hs-type">emitLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955597"><span class="hs-identifier hs-type">if_else</span></a></span><span>
</span><span id="line-2010"></span><span>              </span><span class="hs-comment">--   un64 = u1;</span><span>
</span><span id="line-2011"></span><span>              </span><span class="annot"><a href="#local-6989586621682955587"><span class="hs-identifier hs-type">un64</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955568"><span class="hs-identifier hs-type">u1</span></a></span><span>
</span><span id="line-2012"></span><span>              </span><span class="hs-comment">--   un10 = u0;</span><span>
</span><span id="line-2013"></span><span>              </span><span class="annot"><a href="#local-6989586621682955591"><span class="hs-identifier hs-type">un10</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955569"><span class="hs-identifier hs-type">u0</span></a></span><span>
</span><span id="line-2014"></span><span>              </span><span class="annot"><a href="#local-6989586621682955595"><span class="hs-identifier hs-type">s</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955533"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-comment">-- Otherwise leads to &gt;&gt;/&lt;&lt; 64</span><span>
</span><span id="line-2015"></span><span>              </span><span class="hs-comment">-- }</span><span>
</span><span id="line-2016"></span><span>            </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitLabel"><span class="hs-identifier hs-type">emitLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955599"><span class="hs-identifier hs-type">if_done</span></a></span><span>
</span><span id="line-2017"></span><span>
</span><span id="line-2018"></span><span>            </span><span class="hs-comment">-- // Break divisor up into two 32-bit digits.</span><span>
</span><span id="line-2019"></span><span>            </span><span class="hs-comment">-- vn1 = v &gt;&gt; (n_udword_bits / 2);</span><span>
</span><span id="line-2020"></span><span>            </span><span class="annot"><a href="#local-6989586621682955579"><span class="hs-identifier hs-type">vn1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955574"><span class="hs-identifier hs-type">v'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955503"><span class="hs-operator hs-type">`shr`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955533"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955572"><span class="hs-identifier hs-type">n_udword_bits</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`div`</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-2021"></span><span>            </span><span class="hs-comment">-- vn0 = v &amp; 0xFFFFFFFF;</span><span>
</span><span id="line-2022"></span><span>            </span><span class="annot"><a href="#local-6989586621682955581"><span class="hs-identifier hs-type">vn0</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955574"><span class="hs-identifier hs-type">v'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955530"><span class="hs-operator hs-type">`and`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955537"><span class="hs-identifier hs-type">masklow</span></a></span><span>
</span><span id="line-2023"></span><span>
</span><span id="line-2024"></span><span>            </span><span class="hs-comment">-- // Break right half of dividend into two digits.</span><span>
</span><span id="line-2025"></span><span>            </span><span class="hs-comment">-- un1 = un10 &gt;&gt; (n_udword_bits / 2);</span><span>
</span><span id="line-2026"></span><span>            </span><span class="annot"><a href="#local-6989586621682955575"><span class="hs-identifier hs-type">un1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955592"><span class="hs-identifier hs-type">un10'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955503"><span class="hs-operator hs-type">`shr`</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621682955533"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955572"><span class="hs-identifier hs-type">n_udword_bits</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`div`</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-2027"></span><span>            </span><span class="hs-comment">-- un0 = un10 &amp; 0xFFFFFFFF;</span><span>
</span><span id="line-2028"></span><span>            </span><span class="annot"><a href="#local-6989586621682955577"><span class="hs-identifier hs-type">un0</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955592"><span class="hs-identifier hs-type">un10'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955530"><span class="hs-operator hs-type">`and`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955537"><span class="hs-identifier hs-type">masklow</span></a></span><span>
</span><span id="line-2029"></span><span>
</span><span id="line-2030"></span><span>            </span><span class="hs-comment">-- // Compute the first quotient digit, q1.</span><span>
</span><span id="line-2031"></span><span>            </span><span class="hs-comment">-- q1 = un64 / vn1;</span><span>
</span><span id="line-2032"></span><span>            </span><span class="annot"><a href="#local-6989586621682955583"><span class="hs-identifier hs-type">q1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955588"><span class="hs-identifier hs-type">un64'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955527"><span class="hs-operator hs-type">`udiv`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955580"><span class="hs-identifier hs-type">vn1'</span></a></span><span>
</span><span id="line-2033"></span><span>            </span><span class="hs-comment">-- rhat = un64 - q1 * vn1;</span><span>
</span><span id="line-2034"></span><span>            </span><span class="annot"><a href="#local-6989586621682955593"><span class="hs-identifier hs-type">rhat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955588"><span class="hs-identifier hs-type">un64'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955521"><span class="hs-operator hs-type">`minus`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955524"><span class="hs-identifier hs-type">times</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955584"><span class="hs-identifier hs-type">q1'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955580"><span class="hs-identifier hs-type">vn1'</span></a></span><span>
</span><span id="line-2035"></span><span>
</span><span id="line-2036"></span><span>            </span><span id="local-6989586621682955602"><span class="annot"><a href="#local-6989586621682955602"><span class="hs-identifier hs-var">while_1_entry</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Cmm.BlockId.html#newBlockId"><span class="hs-identifier hs-type">newBlockId</span></a></span><span>
</span><span id="line-2037"></span><span>            </span><span id="local-6989586621682955603"><span class="annot"><a href="#local-6989586621682955603"><span class="hs-identifier hs-var">while_1_body</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Cmm.BlockId.html#newBlockId"><span class="hs-identifier hs-type">newBlockId</span></a></span><span>
</span><span id="line-2038"></span><span>            </span><span id="local-6989586621682955604"><span class="annot"><a href="#local-6989586621682955604"><span class="hs-identifier hs-var">while_1_done</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Cmm.BlockId.html#newBlockId"><span class="hs-identifier hs-type">newBlockId</span></a></span><span>
</span><span id="line-2039"></span><span>            </span><span class="hs-comment">-- // q1 has at most error 2. No more than 2 iterations.</span><span>
</span><span id="line-2040"></span><span>            </span><span class="hs-comment">-- while (q1 &gt;= b || q1 * vn0 &gt; b * rhat + un1) {</span><span>
</span><span id="line-2041"></span><span>            </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitLabel"><span class="hs-identifier hs-type">emitLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955602"><span class="hs-identifier hs-type">while_1_entry</span></a></span><span>
</span><span id="line-2042"></span><span>            </span><span class="annot"><a href="#local-6989586621682955542"><span class="hs-identifier hs-type">gotoIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955584"><span class="hs-identifier hs-type">q1'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955509"><span class="hs-operator hs-type">`ge`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955533"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955573"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955603"><span class="hs-identifier hs-type">while_1_body</span></a></span><span>
</span><span id="line-2043"></span><span>            </span><span class="annot"><a href="#local-6989586621682955542"><span class="hs-identifier hs-type">gotoIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955512"><span class="hs-identifier hs-type">le</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955524"><span class="hs-identifier hs-type">times</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955584"><span class="hs-identifier hs-type">q1'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955582"><span class="hs-identifier hs-type">vn0'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2044"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955524"><span class="hs-identifier hs-type">times</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955533"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955573"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955594"><span class="hs-identifier hs-type">rhat'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955518"><span class="hs-operator hs-type">`plus`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955576"><span class="hs-identifier hs-type">un1'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2045"></span><span>                  </span><span class="annot"><a href="#local-6989586621682955604"><span class="hs-identifier hs-type">while_1_done</span></a></span><span>
</span><span id="line-2046"></span><span>            </span><span class="hs-keyword">do</span><span>
</span><span id="line-2047"></span><span>              </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitLabel"><span class="hs-identifier hs-type">emitLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955603"><span class="hs-identifier hs-type">while_1_body</span></a></span><span>
</span><span id="line-2048"></span><span>              </span><span class="hs-comment">--   q1 = q1 - 1;</span><span>
</span><span id="line-2049"></span><span>              </span><span class="annot"><a href="#local-6989586621682955583"><span class="hs-identifier hs-type">q1</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955584"><span class="hs-identifier hs-type">q1'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955521"><span class="hs-operator hs-type">`minus`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955535"><span class="hs-identifier hs-type">one</span></a></span><span>
</span><span id="line-2050"></span><span>              </span><span class="hs-comment">--   rhat = rhat + vn1;</span><span>
</span><span id="line-2051"></span><span>              </span><span class="annot"><a href="#local-6989586621682955593"><span class="hs-identifier hs-type">rhat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955594"><span class="hs-identifier hs-type">rhat'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955518"><span class="hs-operator hs-type">`plus`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955580"><span class="hs-identifier hs-type">vn1'</span></a></span><span>
</span><span id="line-2052"></span><span>              </span><span class="hs-comment">--   if (rhat &gt;= b)</span><span>
</span><span id="line-2053"></span><span>              </span><span class="hs-comment">--     break;</span><span>
</span><span id="line-2054"></span><span>              </span><span class="annot"><a href="#local-6989586621682955542"><span class="hs-identifier hs-type">gotoIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955594"><span class="hs-identifier hs-type">rhat'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955509"><span class="hs-operator hs-type">`ge`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955533"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955573"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2055"></span><span>                      </span><span class="annot"><a href="#local-6989586621682955604"><span class="hs-identifier hs-type">while_1_done</span></a></span><span>
</span><span id="line-2056"></span><span>              </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkBranch"><span class="hs-identifier hs-type">mkBranch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955602"><span class="hs-identifier hs-type">while_1_entry</span></a></span><span>
</span><span id="line-2057"></span><span>            </span><span class="hs-comment">-- }</span><span>
</span><span id="line-2058"></span><span>            </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitLabel"><span class="hs-identifier hs-type">emitLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955604"><span class="hs-identifier hs-type">while_1_done</span></a></span><span>
</span><span id="line-2059"></span><span>
</span><span id="line-2060"></span><span>            </span><span class="hs-comment">-- un21 = un64 * b + un1 - q1 * v;</span><span>
</span><span id="line-2061"></span><span>            </span><span class="annot"><a href="#local-6989586621682955589"><span class="hs-identifier hs-type">un21</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955524"><span class="hs-identifier hs-type">times</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955588"><span class="hs-identifier hs-type">un64'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955533"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955573"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955518"><span class="hs-operator hs-type">`plus`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955576"><span class="hs-identifier hs-type">un1'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955521"><span class="hs-operator hs-type">`minus`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955524"><span class="hs-identifier hs-type">times</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955584"><span class="hs-identifier hs-type">q1'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955574"><span class="hs-identifier hs-type">v'</span></a></span><span>
</span><span id="line-2062"></span><span>
</span><span id="line-2063"></span><span>            </span><span class="hs-comment">-- // Compute the second quotient digit.</span><span>
</span><span id="line-2064"></span><span>            </span><span class="hs-comment">-- q0 = un21 / vn1;</span><span>
</span><span id="line-2065"></span><span>            </span><span class="annot"><a href="#local-6989586621682955585"><span class="hs-identifier hs-type">q0</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955590"><span class="hs-identifier hs-type">un21'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955527"><span class="hs-operator hs-type">`udiv`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955580"><span class="hs-identifier hs-type">vn1'</span></a></span><span>
</span><span id="line-2066"></span><span>            </span><span class="hs-comment">-- rhat = un21 - q0 * vn1;</span><span>
</span><span id="line-2067"></span><span>            </span><span class="annot"><a href="#local-6989586621682955593"><span class="hs-identifier hs-type">rhat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955590"><span class="hs-identifier hs-type">un21'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955521"><span class="hs-operator hs-type">`minus`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955524"><span class="hs-identifier hs-type">times</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955586"><span class="hs-identifier hs-type">q0'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955580"><span class="hs-identifier hs-type">vn1'</span></a></span><span>
</span><span id="line-2068"></span><span>
</span><span id="line-2069"></span><span>            </span><span class="hs-comment">-- // q0 has at most error 2. No more than 2 iterations.</span><span>
</span><span id="line-2070"></span><span>            </span><span id="local-6989586621682955605"><span class="annot"><a href="#local-6989586621682955605"><span class="hs-identifier hs-var">while_2_entry</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Cmm.BlockId.html#newBlockId"><span class="hs-identifier hs-type">newBlockId</span></a></span><span>
</span><span id="line-2071"></span><span>            </span><span id="local-6989586621682955606"><span class="annot"><a href="#local-6989586621682955606"><span class="hs-identifier hs-var">while_2_body</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Cmm.BlockId.html#newBlockId"><span class="hs-identifier hs-type">newBlockId</span></a></span><span>
</span><span id="line-2072"></span><span>            </span><span id="local-6989586621682955607"><span class="annot"><a href="#local-6989586621682955607"><span class="hs-identifier hs-var">while_2_done</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Cmm.BlockId.html#newBlockId"><span class="hs-identifier hs-type">newBlockId</span></a></span><span>
</span><span id="line-2073"></span><span>            </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitLabel"><span class="hs-identifier hs-type">emitLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955605"><span class="hs-identifier hs-type">while_2_entry</span></a></span><span>
</span><span id="line-2074"></span><span>            </span><span class="hs-comment">-- while (q0 &gt;= b || q0 * vn0 &gt; b * rhat + un0) {</span><span>
</span><span id="line-2075"></span><span>            </span><span class="annot"><a href="#local-6989586621682955542"><span class="hs-identifier hs-type">gotoIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955586"><span class="hs-identifier hs-type">q0'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955509"><span class="hs-operator hs-type">`ge`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955533"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955573"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2076"></span><span>                   </span><span class="annot"><a href="#local-6989586621682955606"><span class="hs-identifier hs-type">while_2_body</span></a></span><span>
</span><span id="line-2077"></span><span>            </span><span class="annot"><a href="#local-6989586621682955542"><span class="hs-identifier hs-type">gotoIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955512"><span class="hs-identifier hs-type">le</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955524"><span class="hs-identifier hs-type">times</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955586"><span class="hs-identifier hs-type">q0'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955582"><span class="hs-identifier hs-type">vn0'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2078"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955524"><span class="hs-identifier hs-type">times</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955533"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955573"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955594"><span class="hs-identifier hs-type">rhat'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955518"><span class="hs-operator hs-type">`plus`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955578"><span class="hs-identifier hs-type">un0'</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2079"></span><span>                   </span><span class="annot"><a href="#local-6989586621682955607"><span class="hs-identifier hs-type">while_2_done</span></a></span><span>
</span><span id="line-2080"></span><span>            </span><span class="hs-keyword">do</span><span>
</span><span id="line-2081"></span><span>              </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitLabel"><span class="hs-identifier hs-type">emitLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955606"><span class="hs-identifier hs-type">while_2_body</span></a></span><span>
</span><span id="line-2082"></span><span>              </span><span class="hs-comment">--   q0 = q0 - 1;</span><span>
</span><span id="line-2083"></span><span>              </span><span class="annot"><a href="#local-6989586621682955585"><span class="hs-identifier hs-type">q0</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955586"><span class="hs-identifier hs-type">q0'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955521"><span class="hs-operator hs-type">`minus`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955535"><span class="hs-identifier hs-type">one</span></a></span><span>
</span><span id="line-2084"></span><span>              </span><span class="hs-comment">--   rhat = rhat + vn1;</span><span>
</span><span id="line-2085"></span><span>              </span><span class="annot"><a href="#local-6989586621682955593"><span class="hs-identifier hs-type">rhat</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955594"><span class="hs-identifier hs-type">rhat'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955518"><span class="hs-operator hs-type">`plus`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955580"><span class="hs-identifier hs-type">vn1'</span></a></span><span>
</span><span id="line-2086"></span><span>              </span><span class="hs-comment">--   if (rhat &gt;= b)</span><span>
</span><span id="line-2087"></span><span>              </span><span class="hs-comment">--     break;</span><span>
</span><span id="line-2088"></span><span>              </span><span class="annot"><a href="#local-6989586621682955542"><span class="hs-identifier hs-type">gotoIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955594"><span class="hs-identifier hs-type">rhat'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955509"><span class="hs-operator hs-type">`ge`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955533"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955573"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955607"><span class="hs-identifier hs-type">while_2_done</span></a></span><span>
</span><span id="line-2089"></span><span>              </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkBranch"><span class="hs-identifier hs-type">mkBranch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955605"><span class="hs-identifier hs-type">while_2_entry</span></a></span><span>
</span><span id="line-2090"></span><span>            </span><span class="hs-comment">-- }</span><span>
</span><span id="line-2091"></span><span>            </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitLabel"><span class="hs-identifier hs-type">emitLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955607"><span class="hs-identifier hs-type">while_2_done</span></a></span><span>
</span><span id="line-2092"></span><span>
</span><span id="line-2093"></span><span>            </span><span class="hs-comment">--   r = (un21 * b + un0 - q0 * v) &gt;&gt; s;</span><span>
</span><span id="line-2094"></span><span>            </span><span class="annot"><a href="#local-6989586621682955493"><span class="hs-identifier hs-type">res_r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955524"><span class="hs-identifier hs-type">times</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955590"><span class="hs-identifier hs-type">un21'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955533"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955573"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955518"><span class="hs-operator hs-type">`plus`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955578"><span class="hs-identifier hs-type">un0'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955521"><span class="hs-operator hs-type">`minus`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955524"><span class="hs-identifier hs-type">times</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955586"><span class="hs-identifier hs-type">q0'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955574"><span class="hs-identifier hs-type">v'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955503"><span class="hs-operator hs-type">`shr`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955596"><span class="hs-identifier hs-type">s'</span></a></span><span>
</span><span id="line-2095"></span><span>            </span><span class="hs-comment">-- return q1 * b + q0;</span><span>
</span><span id="line-2096"></span><span>            </span><span class="annot"><a href="#local-6989586621682955492"><span class="hs-identifier hs-type">res_q</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955565"><span class="hs-operator hs-type">.=</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955524"><span class="hs-identifier hs-type">times</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955584"><span class="hs-identifier hs-type">q1'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955533"><span class="hs-identifier hs-type">lit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955573"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955518"><span class="hs-operator hs-type">`plus`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955586"><span class="hs-identifier hs-type">q0'</span></a></span><span>
</span><span id="line-2097"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericWordQuotRem2Op"><span class="hs-identifier hs-var">genericWordQuotRem2Op</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;genericWordQuotRem2Op&quot;</span></span><span>
</span><span id="line-2098"></span><span>
</span><span id="line-2099"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericWordAdd2Op"><span class="hs-identifier hs-type">genericWordAdd2Op</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#GenericOp"><span class="hs-identifier hs-type">GenericOp</span></a></span><span>
</span><span id="line-2100"></span><span id="genericWordAdd2Op"><span class="annot"><span class="annottext">genericWordAdd2Op :: [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordAdd2Op"><span class="hs-identifier hs-var hs-var">genericWordAdd2Op</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955608"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955608"><span class="hs-identifier hs-var">res_h</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955609"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955609"><span class="hs-identifier hs-var">res_l</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955610"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955610"><span class="hs-identifier hs-var">arg_x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955611"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955611"><span class="hs-identifier hs-var">arg_y</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2101"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955612"><span class="annot"><a href="#local-6989586621682955612"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2102"></span><span>       </span><span id="local-6989586621682955613"><span class="annot"><a href="#local-6989586621682955613"><span class="hs-identifier hs-var">r1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#cmmExprType"><span class="hs-identifier hs-type">cmmExprType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955612"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955610"><span class="hs-identifier hs-type">arg_x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2103"></span><span>       </span><span id="local-6989586621682955614"><span class="annot"><a href="#local-6989586621682955614"><span class="hs-identifier hs-var">r2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#cmmExprType"><span class="hs-identifier hs-type">cmmExprType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955612"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955610"><span class="hs-identifier hs-type">arg_x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2104"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955615"><span class="annot"><a href="#local-6989586621682955615"><span class="hs-identifier hs-var hs-var">topHalf</span></a></span></span><span> </span><span id="local-6989586621682955616"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955616"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Shr"><span class="hs-identifier hs-var">MO_U_Shr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955612"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955616"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955617"><span class="hs-identifier hs-var">hww</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2105"></span><span>           </span><span id="local-6989586621682955618"><span class="annot"><a href="#local-6989586621682955618"><span class="hs-identifier hs-var hs-var">toTopHalf</span></a></span></span><span> </span><span id="local-6989586621682955619"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955619"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Shl"><span class="hs-identifier hs-var">MO_Shl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955612"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955619"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955617"><span class="hs-identifier hs-var">hww</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2106"></span><span>           </span><span id="local-6989586621682955620"><span class="annot"><a href="#local-6989586621682955620"><span class="hs-identifier hs-var hs-var">bottomHalf</span></a></span></span><span> </span><span id="local-6989586621682955621"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955621"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_And"><span class="hs-identifier hs-var">MO_And</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955612"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955621"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955622"><span class="hs-identifier hs-var">hwm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2107"></span><span>           </span><span id="local-6989586621682955623"><span class="annot"><a href="#local-6989586621682955623"><span class="hs-identifier hs-var hs-var">add</span></a></span></span><span> </span><span id="local-6989586621682955624"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955624"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955625"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955625"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Add"><span class="hs-identifier hs-var">MO_Add</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955612"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955624"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955625"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2108"></span><span>           </span><span id="local-6989586621682955626"><span class="annot"><a href="#local-6989586621682955626"><span class="hs-identifier hs-var hs-var">or</span></a></span></span><span> </span><span id="local-6989586621682955627"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955627"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955628"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955628"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Or"><span class="hs-identifier hs-var">MO_Or</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955612"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955627"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955628"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2109"></span><span>           </span><span id="local-6989586621682955617"><span class="annot"><a href="#local-6989586621682955617"><span class="hs-identifier hs-var hs-var">hww</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-var">CmmInt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBits"><span class="hs-identifier hs-var">widthInBits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#halfWordWidth"><span class="hs-identifier hs-var">halfWordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955612"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2110"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955612"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2111"></span><span>           </span><span id="local-6989586621682955622"><span class="annot"><a href="#local-6989586621682955622"><span class="hs-identifier hs-var hs-var">hwm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-var">CmmInt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Integer
</span><a href="GHC.Cmm.Type.html#halfWordMask"><span class="hs-identifier hs-var">halfWordMask</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955612"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955612"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2112"></span><span>       </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#catAGraphs"><span class="hs-identifier hs-type">catAGraphs</span></a></span><span>
</span><span id="line-2113"></span><span>          </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955613"><span class="hs-identifier hs-type">r1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2114"></span><span>               </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955623"><span class="hs-identifier hs-type">add</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955620"><span class="hs-identifier hs-type">bottomHalf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955610"><span class="hs-identifier hs-type">arg_x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955620"><span class="hs-identifier hs-type">bottomHalf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955611"><span class="hs-identifier hs-type">arg_y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2115"></span><span>           </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955614"><span class="hs-identifier hs-type">r2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2116"></span><span>               </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955623"><span class="hs-identifier hs-type">add</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955615"><span class="hs-identifier hs-type">topHalf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955613"><span class="hs-identifier hs-type">r1</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2117"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955623"><span class="hs-identifier hs-type">add</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955615"><span class="hs-identifier hs-type">topHalf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955610"><span class="hs-identifier hs-type">arg_x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955615"><span class="hs-identifier hs-type">topHalf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955611"><span class="hs-identifier hs-type">arg_y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2118"></span><span>           </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955608"><span class="hs-identifier hs-type">res_h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2119"></span><span>               </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955615"><span class="hs-identifier hs-type">topHalf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955614"><span class="hs-identifier hs-type">r2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2120"></span><span>           </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955609"><span class="hs-identifier hs-type">res_l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2121"></span><span>               </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955626"><span class="hs-identifier hs-type">or</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955618"><span class="hs-identifier hs-type">toTopHalf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955614"><span class="hs-identifier hs-type">r2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2122"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955620"><span class="hs-identifier hs-type">bottomHalf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955613"><span class="hs-identifier hs-type">r1</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2123"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericWordAdd2Op"><span class="hs-identifier hs-var">genericWordAdd2Op</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;genericWordAdd2Op&quot;</span></span><span>
</span><span id="line-2124"></span><span>
</span><span id="line-2125"></span><span class="hs-comment">-- | Implements branchless recovery of the carry flag @c@ by checking the</span><span>
</span><span id="line-2126"></span><span class="hs-comment">-- leftmost bits of both inputs @a@ and @b@ and result @r = a + b@:</span><span>
</span><span id="line-2127"></span><span class="hs-comment">--</span><span>
</span><span id="line-2128"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2129"></span><span class="hs-comment">--    c = a&amp;b | (a|b)&amp;~r</span><span>
</span><span id="line-2130"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2131"></span><span class="hs-comment">--</span><span>
</span><span id="line-2132"></span><span class="hs-comment">-- https://brodowsky.it-sky.net/2015/04/02/how-to-recover-the-carry-bit/</span><span>
</span><span id="line-2133"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericWordAddCOp"><span class="hs-identifier hs-type">genericWordAddCOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#GenericOp"><span class="hs-identifier hs-type">GenericOp</span></a></span><span>
</span><span id="line-2134"></span><span id="genericWordAddCOp"><span class="annot"><span class="annottext">genericWordAddCOp :: [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordAddCOp"><span class="hs-identifier hs-var hs-var">genericWordAddCOp</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955631"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955631"><span class="hs-identifier hs-var">res_r</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955632"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955632"><span class="hs-identifier hs-var">res_c</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955633"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955633"><span class="hs-identifier hs-var">aa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955634"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955634"><span class="hs-identifier hs-var">bb</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2135"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955635"><span class="annot"><a href="#local-6989586621682955635"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2136"></span><span>      </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#catAGraphs"><span class="hs-identifier hs-type">catAGraphs</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2137"></span><span>        </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955631"><span class="hs-identifier hs-type">res_r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordAdd"><span class="hs-identifier hs-type">mo_wordAdd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955635"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955633"><span class="hs-identifier hs-type">aa</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682955634"><span class="hs-identifier hs-type">bb</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2138"></span><span>        </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955632"><span class="hs-identifier hs-type">res_c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-2139"></span><span>          </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordUShr"><span class="hs-identifier hs-type">mo_wordUShr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955635"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2140"></span><span>            </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordOr"><span class="hs-identifier hs-type">mo_wordOr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955635"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2141"></span><span>              </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordAnd"><span class="hs-identifier hs-type">mo_wordAnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955635"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955633"><span class="hs-identifier hs-type">aa</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682955634"><span class="hs-identifier hs-type">bb</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-2142"></span><span>              </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordAnd"><span class="hs-identifier hs-type">mo_wordAnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955635"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2143"></span><span>                </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordOr"><span class="hs-identifier hs-type">mo_wordOr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955635"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955633"><span class="hs-identifier hs-type">aa</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682955634"><span class="hs-identifier hs-type">bb</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-2144"></span><span>                </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordNot"><span class="hs-identifier hs-type">mo_wordNot</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955635"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955631"><span class="hs-identifier hs-type">res_r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2145"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-2146"></span><span>            </span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-2147"></span><span>            </span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955635"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#platformWordSizeInBits"><span class="hs-identifier hs-type">platformWordSizeInBits</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955635"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-2148"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-2149"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-2150"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericWordAddCOp"><span class="hs-identifier hs-var">genericWordAddCOp</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;genericWordAddCOp&quot;</span></span><span>
</span><span id="line-2151"></span><span>
</span><span id="line-2152"></span><span class="hs-comment">-- | Implements branchless recovery of the carry flag @c@ by checking the</span><span>
</span><span id="line-2153"></span><span class="hs-comment">-- leftmost bits of both inputs @a@ and @b@ and result @r = a - b@:</span><span>
</span><span id="line-2154"></span><span class="hs-comment">--</span><span>
</span><span id="line-2155"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2156"></span><span class="hs-comment">--    c = ~a&amp;b | (~a|b)&amp;r</span><span>
</span><span id="line-2157"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-2158"></span><span class="hs-comment">--</span><span>
</span><span id="line-2159"></span><span class="hs-comment">-- https://brodowsky.it-sky.net/2015/04/02/how-to-recover-the-carry-bit/</span><span>
</span><span id="line-2160"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericWordSubCOp"><span class="hs-identifier hs-type">genericWordSubCOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#GenericOp"><span class="hs-identifier hs-type">GenericOp</span></a></span><span>
</span><span id="line-2161"></span><span id="genericWordSubCOp"><span class="annot"><span class="annottext">genericWordSubCOp :: [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordSubCOp"><span class="hs-identifier hs-var hs-var">genericWordSubCOp</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955636"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955636"><span class="hs-identifier hs-var">res_r</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955637"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955637"><span class="hs-identifier hs-var">res_c</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955638"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955638"><span class="hs-identifier hs-var">aa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955639"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955639"><span class="hs-identifier hs-var">bb</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2162"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955640"><span class="annot"><a href="#local-6989586621682955640"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2163"></span><span>      </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#catAGraphs"><span class="hs-identifier hs-type">catAGraphs</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2164"></span><span>        </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955636"><span class="hs-identifier hs-type">res_r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordSub"><span class="hs-identifier hs-type">mo_wordSub</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955640"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955638"><span class="hs-identifier hs-type">aa</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682955639"><span class="hs-identifier hs-type">bb</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2165"></span><span>        </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955637"><span class="hs-identifier hs-type">res_c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-2166"></span><span>          </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordUShr"><span class="hs-identifier hs-type">mo_wordUShr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955640"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2167"></span><span>            </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordOr"><span class="hs-identifier hs-type">mo_wordOr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955640"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2168"></span><span>              </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordAnd"><span class="hs-identifier hs-type">mo_wordAnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955640"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2169"></span><span>                </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordNot"><span class="hs-identifier hs-type">mo_wordNot</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955640"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955638"><span class="hs-identifier hs-type">aa</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-2170"></span><span>                </span><span class="annot"><a href="#local-6989586621682955639"><span class="hs-identifier hs-type">bb</span></a></span><span>
</span><span id="line-2171"></span><span>              </span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-2172"></span><span>              </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordAnd"><span class="hs-identifier hs-type">mo_wordAnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955640"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2173"></span><span>                </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordOr"><span class="hs-identifier hs-type">mo_wordOr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955640"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2174"></span><span>                  </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordNot"><span class="hs-identifier hs-type">mo_wordNot</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955640"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955638"><span class="hs-identifier hs-type">aa</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-2175"></span><span>                  </span><span class="annot"><a href="#local-6989586621682955639"><span class="hs-identifier hs-type">bb</span></a></span><span>
</span><span id="line-2176"></span><span>                </span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-2177"></span><span>                </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955636"><span class="hs-identifier hs-type">res_r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2178"></span><span>              </span><span class="hs-special">]</span><span>
</span><span id="line-2179"></span><span>            </span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-2180"></span><span>            </span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955640"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#platformWordSizeInBits"><span class="hs-identifier hs-type">platformWordSizeInBits</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955640"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-2181"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-2182"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-2183"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericWordSubCOp"><span class="hs-identifier hs-var">genericWordSubCOp</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;genericWordSubCOp&quot;</span></span><span>
</span><span id="line-2184"></span><span>
</span><span id="line-2185"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericIntAddCOp"><span class="hs-identifier hs-type">genericIntAddCOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#GenericOp"><span class="hs-identifier hs-type">GenericOp</span></a></span><span>
</span><span id="line-2186"></span><span id="genericIntAddCOp"><span class="annot"><span class="annottext">genericIntAddCOp :: [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericIntAddCOp"><span class="hs-identifier hs-var hs-var">genericIntAddCOp</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955641"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955641"><span class="hs-identifier hs-var">res_r</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955642"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955642"><span class="hs-identifier hs-var">res_c</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955643"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955643"><span class="hs-identifier hs-var">aa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955644"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955644"><span class="hs-identifier hs-var">bb</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2187"></span><span class="hs-comment">{-
   With some bit-twiddling, we can define int{Add,Sub}Czh portably in
   C, and without needing any comparisons.  This may not be the
   fastest way to do it - if you have better code, please send it! --SDM

   Return : r = a + b,  c = 0 if no overflow, 1 on overflow.

   We currently don't make use of the r value if c is != 0 (i.e.
   overflow), we just convert to big integers and try again.  This
   could be improved by making r and c the correct values for
   plugging into a new J#.

   { r = ((I_)(a)) + ((I_)(b));                                 \
     c = ((StgWord)(~(((I_)(a))^((I_)(b))) &amp; (((I_)(a))^r)))    \
         &gt;&gt; (BITS_IN (I_) - 1);                                 \
   }
   Wading through the mass of bracketry, it seems to reduce to:
   c = ( (~(a^b)) &amp; (a^r) ) &gt;&gt;unsigned (BITS_IN(I_)-1)

-}</span><span>
</span><span id="line-2207"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955645"><span class="annot"><a href="#local-6989586621682955645"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2208"></span><span>      </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#catAGraphs"><span class="hs-identifier hs-type">catAGraphs</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2209"></span><span>        </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955641"><span class="hs-identifier hs-type">res_r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordAdd"><span class="hs-identifier hs-type">mo_wordAdd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955645"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955643"><span class="hs-identifier hs-type">aa</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682955644"><span class="hs-identifier hs-type">bb</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2210"></span><span>        </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955642"><span class="hs-identifier hs-type">res_c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-2211"></span><span>          </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordUShr"><span class="hs-identifier hs-type">mo_wordUShr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955645"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2212"></span><span>                </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordAnd"><span class="hs-identifier hs-type">mo_wordAnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955645"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2213"></span><span>                    </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordNot"><span class="hs-identifier hs-type">mo_wordNot</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955645"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordXor"><span class="hs-identifier hs-type">mo_wordXor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955645"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955643"><span class="hs-identifier hs-type">aa</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682955644"><span class="hs-identifier hs-type">bb</span></a></span><span class="hs-special">]</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-2214"></span><span>                    </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordXor"><span class="hs-identifier hs-type">mo_wordXor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955645"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955643"><span class="hs-identifier hs-type">aa</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955641"><span class="hs-identifier hs-type">res_r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2215"></span><span>                </span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-2216"></span><span>                </span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955645"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#platformWordSizeInBits"><span class="hs-identifier hs-type">platformWordSizeInBits</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955645"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-2217"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-2218"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-2219"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericIntAddCOp"><span class="hs-identifier hs-var">genericIntAddCOp</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;genericIntAddCOp&quot;</span></span><span>
</span><span id="line-2220"></span><span>
</span><span id="line-2221"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericIntSubCOp"><span class="hs-identifier hs-type">genericIntSubCOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#GenericOp"><span class="hs-identifier hs-type">GenericOp</span></a></span><span>
</span><span id="line-2222"></span><span id="genericIntSubCOp"><span class="annot"><span class="annottext">genericIntSubCOp :: [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericIntSubCOp"><span class="hs-identifier hs-var hs-var">genericIntSubCOp</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955646"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955646"><span class="hs-identifier hs-var">res_r</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955647"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955647"><span class="hs-identifier hs-var">res_c</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955648"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955648"><span class="hs-identifier hs-var">aa</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955649"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955649"><span class="hs-identifier hs-var">bb</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2223"></span><span class="hs-comment">{- Similarly:
   #define subIntCzh(r,c,a,b)                                   \
   { r = ((I_)(a)) - ((I_)(b));                                 \
     c = ((StgWord)((((I_)(a))^((I_)(b))) &amp; (((I_)(a))^r)))     \
         &gt;&gt; (BITS_IN (I_) - 1);                                 \
   }

   c =  ((a^b) &amp; (a^r)) &gt;&gt;unsigned (BITS_IN(I_)-1)
-}</span><span>
</span><span id="line-2232"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955650"><span class="annot"><a href="#local-6989586621682955650"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2233"></span><span>      </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#catAGraphs"><span class="hs-identifier hs-type">catAGraphs</span></a></span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2234"></span><span>        </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955646"><span class="hs-identifier hs-type">res_r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordSub"><span class="hs-identifier hs-type">mo_wordSub</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955650"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955648"><span class="hs-identifier hs-type">aa</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682955649"><span class="hs-identifier hs-type">bb</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2235"></span><span>        </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955647"><span class="hs-identifier hs-type">res_c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-2236"></span><span>          </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordUShr"><span class="hs-identifier hs-type">mo_wordUShr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955650"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2237"></span><span>                </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordAnd"><span class="hs-identifier hs-type">mo_wordAnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955650"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span>
</span><span id="line-2238"></span><span>                    </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordXor"><span class="hs-identifier hs-type">mo_wordXor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955650"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955648"><span class="hs-identifier hs-type">aa</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621682955649"><span class="hs-identifier hs-type">bb</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-2239"></span><span>                    </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordXor"><span class="hs-identifier hs-type">mo_wordXor</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955650"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955648"><span class="hs-identifier hs-type">aa</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955646"><span class="hs-identifier hs-type">res_r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2240"></span><span>                </span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-2241"></span><span>                </span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955650"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#platformWordSizeInBits"><span class="hs-identifier hs-type">platformWordSizeInBits</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955650"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><span class="hs-glyph hs-type">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-2242"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-2243"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-2244"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericIntSubCOp"><span class="hs-identifier hs-var">genericIntSubCOp</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;genericIntSubCOp&quot;</span></span><span>
</span><span id="line-2245"></span><span>
</span><span id="line-2246"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericWordMul2Op"><span class="hs-identifier hs-type">genericWordMul2Op</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#GenericOp"><span class="hs-identifier hs-type">GenericOp</span></a></span><span>
</span><span id="line-2247"></span><span id="genericWordMul2Op"><span class="annot"><span class="annottext">genericWordMul2Op :: [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericWordMul2Op"><span class="hs-identifier hs-var hs-var">genericWordMul2Op</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955651"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955651"><span class="hs-identifier hs-var">res_h</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955652"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955652"><span class="hs-identifier hs-var">res_l</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955653"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955653"><span class="hs-identifier hs-var">arg_x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955654"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955654"><span class="hs-identifier hs-var">arg_y</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2248"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955655"><span class="annot"><a href="#local-6989586621682955655"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2249"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955656"><span class="annot"><a href="#local-6989586621682955656"><span class="hs-identifier hs-var hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmType
</span><a href="GHC.Cmm.Expr.html#cmmExprType"><span class="hs-identifier hs-var">cmmExprType</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955655"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955653"><span class="hs-identifier hs-var">arg_x</span></a></span><span>
</span><span id="line-2250"></span><span>      </span><span id="local-6989586621682955657"><span class="annot"><a href="#local-6989586621682955657"><span class="hs-identifier hs-var">xlyl</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">liftM</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955656"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-2251"></span><span>      </span><span id="local-6989586621682955658"><span class="annot"><a href="#local-6989586621682955658"><span class="hs-identifier hs-var">xlyh</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">liftM</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955656"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-2252"></span><span>      </span><span id="local-6989586621682955659"><span class="annot"><a href="#local-6989586621682955659"><span class="hs-identifier hs-var">xhyl</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">liftM</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955656"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-2253"></span><span>      </span><span id="local-6989586621682955660"><span class="annot"><a href="#local-6989586621682955660"><span class="hs-identifier hs-var">r</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="hs-identifier hs-type">liftM</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955656"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-2254"></span><span>      </span><span class="hs-comment">-- This generic implementation is very simple and slow. We might</span><span>
</span><span id="line-2255"></span><span>      </span><span class="hs-comment">-- well be able to do better, but for now this at least works.</span><span>
</span><span id="line-2256"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955661"><span class="annot"><a href="#local-6989586621682955661"><span class="hs-identifier hs-var hs-var">topHalf</span></a></span></span><span> </span><span id="local-6989586621682955662"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955662"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_U_Shr"><span class="hs-identifier hs-var">MO_U_Shr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955655"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955662"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955663"><span class="hs-identifier hs-var">hww</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2257"></span><span>          </span><span id="local-6989586621682955664"><span class="annot"><a href="#local-6989586621682955664"><span class="hs-identifier hs-var hs-var">toTopHalf</span></a></span></span><span> </span><span id="local-6989586621682955665"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955665"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Shl"><span class="hs-identifier hs-var">MO_Shl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955655"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955665"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955663"><span class="hs-identifier hs-var">hww</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2258"></span><span>          </span><span id="local-6989586621682955666"><span class="annot"><a href="#local-6989586621682955666"><span class="hs-identifier hs-var hs-var">bottomHalf</span></a></span></span><span> </span><span id="local-6989586621682955667"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955667"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_And"><span class="hs-identifier hs-var">MO_And</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955655"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955667"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955668"><span class="hs-identifier hs-var">hwm</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2259"></span><span>          </span><span id="local-6989586621682955669"><span class="annot"><a href="#local-6989586621682955669"><span class="hs-identifier hs-var hs-var">add</span></a></span></span><span> </span><span id="local-6989586621682955670"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955670"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955671"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955671"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Add"><span class="hs-identifier hs-var">MO_Add</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955655"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955670"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955671"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2260"></span><span>          </span><span id="local-6989586621682955672"><span class="annot"><a href="#local-6989586621682955672"><span class="hs-identifier hs-var hs-var">sum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; CmmExpr -&gt; CmmExpr) -&gt; [CmmExpr] -&gt; CmmExpr
forall a. (a -&gt; a -&gt; a) -&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">foldl1</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955669"><span class="hs-identifier hs-var">add</span></a></span><span>
</span><span id="line-2261"></span><span>          </span><span id="local-6989586621682955674"><span class="annot"><a href="#local-6989586621682955674"><span class="hs-identifier hs-var hs-var">mul</span></a></span></span><span> </span><span id="local-6989586621682955675"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955675"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955676"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955676"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Mul"><span class="hs-identifier hs-var">MO_Mul</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955655"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955675"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955676"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2262"></span><span>          </span><span id="local-6989586621682955677"><span class="annot"><a href="#local-6989586621682955677"><span class="hs-identifier hs-var hs-var">or</span></a></span></span><span> </span><span id="local-6989586621682955678"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955678"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955679"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955679"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Or"><span class="hs-identifier hs-var">MO_Or</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955655"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955678"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955679"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2263"></span><span>          </span><span id="local-6989586621682955663"><span class="annot"><a href="#local-6989586621682955663"><span class="hs-identifier hs-var hs-var">hww</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-var">CmmInt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBits"><span class="hs-identifier hs-var">widthInBits</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#halfWordWidth"><span class="hs-identifier hs-var">halfWordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955655"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2264"></span><span>                               </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955655"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2265"></span><span>          </span><span id="local-6989586621682955668"><span class="annot"><a href="#local-6989586621682955668"><span class="hs-identifier hs-var hs-var">hwm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-var">CmmInt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Integer
</span><a href="GHC.Cmm.Type.html#halfWordMask"><span class="hs-identifier hs-var">halfWordMask</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955655"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955655"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2266"></span><span>      </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#catAGraphs"><span class="hs-identifier hs-type">catAGraphs</span></a></span><span>
</span><span id="line-2267"></span><span>             </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955657"><span class="hs-identifier hs-type">xlyl</span></a></span><span>
</span><span id="line-2268"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955674"><span class="hs-identifier hs-type">mul</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955666"><span class="hs-identifier hs-type">bottomHalf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955653"><span class="hs-identifier hs-type">arg_x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955666"><span class="hs-identifier hs-type">bottomHalf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955654"><span class="hs-identifier hs-type">arg_y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2269"></span><span>              </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955658"><span class="hs-identifier hs-type">xlyh</span></a></span><span>
</span><span id="line-2270"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955674"><span class="hs-identifier hs-type">mul</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955666"><span class="hs-identifier hs-type">bottomHalf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955653"><span class="hs-identifier hs-type">arg_x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955661"><span class="hs-identifier hs-type">topHalf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955654"><span class="hs-identifier hs-type">arg_y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2271"></span><span>              </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955659"><span class="hs-identifier hs-type">xhyl</span></a></span><span>
</span><span id="line-2272"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955674"><span class="hs-identifier hs-type">mul</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955661"><span class="hs-identifier hs-type">topHalf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955653"><span class="hs-identifier hs-type">arg_x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955666"><span class="hs-identifier hs-type">bottomHalf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955654"><span class="hs-identifier hs-type">arg_y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2273"></span><span>              </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955660"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-2274"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955672"><span class="hs-identifier hs-type">sum</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955661"><span class="hs-identifier hs-type">topHalf</span></a></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955657"><span class="hs-identifier hs-type">xlyl</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2275"></span><span>                        </span><span class="annot"><a href="#local-6989586621682955666"><span class="hs-identifier hs-type">bottomHalf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955659"><span class="hs-identifier hs-type">xhyl</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2276"></span><span>                        </span><span class="annot"><a href="#local-6989586621682955666"><span class="hs-identifier hs-type">bottomHalf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955658"><span class="hs-identifier hs-type">xlyh</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2277"></span><span>              </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955652"><span class="hs-identifier hs-type">res_l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2278"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955677"><span class="hs-identifier hs-type">or</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955666"><span class="hs-identifier hs-type">bottomHalf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955657"><span class="hs-identifier hs-type">xlyl</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2279"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955664"><span class="hs-identifier hs-type">toTopHalf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955660"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2280"></span><span>              </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955651"><span class="hs-identifier hs-type">res_h</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2281"></span><span>                  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955672"><span class="hs-identifier hs-type">sum</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955674"><span class="hs-identifier hs-type">mul</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955661"><span class="hs-identifier hs-type">topHalf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955653"><span class="hs-identifier hs-type">arg_x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955661"><span class="hs-identifier hs-type">topHalf</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955654"><span class="hs-identifier hs-type">arg_y</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2282"></span><span>                        </span><span class="annot"><a href="#local-6989586621682955661"><span class="hs-identifier hs-type">topHalf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955659"><span class="hs-identifier hs-type">xhyl</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2283"></span><span>                        </span><span class="annot"><a href="#local-6989586621682955661"><span class="hs-identifier hs-type">topHalf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955658"><span class="hs-identifier hs-type">xlyh</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-2284"></span><span>                        </span><span class="annot"><a href="#local-6989586621682955661"><span class="hs-identifier hs-type">topHalf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955660"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2285"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericWordMul2Op"><span class="hs-identifier hs-var">genericWordMul2Op</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;genericWordMul2Op&quot;</span></span><span>
</span><span id="line-2286"></span><span>
</span><span id="line-2287"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericIntMul2Op"><span class="hs-identifier hs-type">genericIntMul2Op</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#GenericOp"><span class="hs-identifier hs-type">GenericOp</span></a></span><span>
</span><span id="line-2288"></span><span id="genericIntMul2Op"><span class="annot"><span class="annottext">genericIntMul2Op :: [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#genericIntMul2Op"><span class="hs-identifier hs-var hs-var">genericIntMul2Op</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955680"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955680"><span class="hs-identifier hs-var">res_c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955681"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955681"><span class="hs-identifier hs-var">res_h</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955682"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955682"><span class="hs-identifier hs-var">res_l</span></a></span></span><span class="hs-special">]</span><span> </span><span id="local-6989586621682955683"><span class="annot"><span class="annottext">both_args :: [CmmExpr]
</span><a href="#local-6989586621682955683"><span class="hs-identifier hs-var">both_args</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">[</span><span id="local-6989586621682955684"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955684"><span class="hs-identifier hs-var">arg_x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955685"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955685"><span class="hs-identifier hs-var">arg_y</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2289"></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955686"><span class="annot"><a href="#local-6989586621682955686"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode StgToCmmConfig
</span><a href="GHC.StgToCmm.Monad.html#getStgToCmmConfig"><span class="hs-identifier hs-var">getStgToCmmConfig</span></a></span><span>
</span><span id="line-2290"></span><span>      </span><span class="hs-comment">-- Implement algorithm from Hacker's Delight, 2nd edition, p.174</span><span>
</span><span id="line-2291"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955687"><span class="annot"><a href="#local-6989586621682955687"><span class="hs-identifier hs-var hs-var">t</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmType
</span><a href="GHC.Cmm.Expr.html#cmmExprType"><span class="hs-identifier hs-var">cmmExprType</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955688"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955684"><span class="hs-identifier hs-var">arg_x</span></a></span><span>
</span><span id="line-2292"></span><span>          </span><span id="local-6989586621682955688"><span class="annot"><a href="#local-6989586621682955688"><span class="hs-identifier hs-var hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Platform
</span><a href="GHC.StgToCmm.Config.html#stgToCmmPlatform"><span class="hs-identifier hs-var">stgToCmmPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682955686"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-2293"></span><span>      </span><span id="local-6989586621682955689"><span class="annot"><a href="#local-6989586621682955689"><span class="hs-identifier hs-var">p</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955687"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-2294"></span><span>      </span><span class="hs-comment">-- 1) compute the multiplication as if numbers were unsigned</span><span>
</span><span id="line-2295"></span><span>      </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#withSequel"><span class="hs-identifier hs-type">withSequel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Sequel.html#AssignTo"><span class="hs-identifier hs-type">AssignTo</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955689"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682955682"><span class="hs-identifier hs-type">res_l</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-2296"></span><span>             </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#cmmPrimOpApp"><span class="hs-identifier hs-type">cmmPrimOpApp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955686"><span class="hs-identifier hs-type">cfg</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#WordMul2Op"><span class="hs-identifier hs-type">WordMul2Op</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955683"><span class="hs-identifier hs-type">both_args</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>
</span><span id="line-2297"></span><span>      </span><span class="hs-comment">-- 2) correct the high bits of the unsigned result</span><span>
</span><span id="line-2298"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955692"><span class="annot"><a href="#local-6989586621682955692"><span class="hs-identifier hs-var hs-var">carryFill</span></a></span></span><span> </span><span id="local-6989586621682955693"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955693"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_S_Shr"><span class="hs-identifier hs-var">MO_S_Shr</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955694"><span class="hs-identifier hs-var">ww</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955693"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955695"><span class="hs-identifier hs-var">wwm1</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2299"></span><span>          </span><span id="local-6989586621682955696"><span class="annot"><a href="#local-6989586621682955696"><span class="hs-identifier hs-var hs-var">sub</span></a></span></span><span> </span><span id="local-6989586621682955697"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955697"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955698"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955698"><span class="hs-identifier hs-var">y</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Sub"><span class="hs-identifier hs-var">MO_Sub</span></a></span><span>   </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955694"><span class="hs-identifier hs-var">ww</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955697"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955698"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2300"></span><span>          </span><span id="local-6989586621682955699"><span class="annot"><a href="#local-6989586621682955699"><span class="hs-identifier hs-var hs-var">and</span></a></span></span><span> </span><span id="local-6989586621682955700"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955700"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955701"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955701"><span class="hs-identifier hs-var">y</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_And"><span class="hs-identifier hs-var">MO_And</span></a></span><span>   </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955694"><span class="hs-identifier hs-var">ww</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955700"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955701"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2301"></span><span>          </span><span id="local-6989586621682955702"><span class="annot"><a href="#local-6989586621682955702"><span class="hs-identifier hs-var hs-var">neq</span></a></span></span><span> </span><span id="local-6989586621682955703"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955703"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955704"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955704"><span class="hs-identifier hs-var">y</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Ne"><span class="hs-identifier hs-var">MO_Ne</span></a></span><span>    </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955694"><span class="hs-identifier hs-var">ww</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955703"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955704"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2302"></span><span>          </span><span id="local-6989586621682955705"><span class="annot"><a href="#local-6989586621682955705"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span>   </span><span id="local-6989586621682955706"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955706"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682955707"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955707"><span class="hs-identifier hs-var">y</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955692"><span class="hs-identifier hs-var">carryFill</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955706"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682955699"><span class="hs-operator hs-var">`and`</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955707"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-2303"></span><span>          </span><span id="local-6989586621682955695"><span class="annot"><a href="#local-6989586621682955695"><span class="hs-identifier hs-var hs-var">wwm1</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-var">CmmInt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBits"><span class="hs-identifier hs-var">widthInBits</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955694"><span class="hs-identifier hs-var">ww</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955694"><span class="hs-identifier hs-var">ww</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2304"></span><span>          </span><span id="local-6989586621682955708"><span class="annot"><a href="#local-6989586621682955708"><span class="hs-identifier hs-var hs-var">rl</span></a></span></span><span> </span><span id="local-6989586621682955709"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955709"><span class="hs-identifier hs-var">x</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-var">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955709"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2305"></span><span>          </span><span id="local-6989586621682955694"><span class="annot"><a href="#local-6989586621682955694"><span class="hs-identifier hs-var hs-var">ww</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955688"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-2306"></span><span>      </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#catAGraphs"><span class="hs-identifier hs-type">catAGraphs</span></a></span><span>
</span><span id="line-2307"></span><span>             </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955681"><span class="hs-identifier hs-type">res_h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955708"><span class="hs-identifier hs-type">rl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955689"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955696"><span class="hs-operator hs-type">`sub`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955684"><span class="hs-identifier hs-type">arg_x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955685"><span class="hs-identifier hs-type">arg_y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955696"><span class="hs-operator hs-type">`sub`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955705"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955685"><span class="hs-identifier hs-type">arg_y</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955684"><span class="hs-identifier hs-type">arg_x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2308"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955680"><span class="hs-identifier hs-type">res_c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955708"><span class="hs-identifier hs-type">rl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955681"><span class="hs-identifier hs-type">res_h</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955702"><span class="hs-operator hs-type">`neq`</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955692"><span class="hs-identifier hs-type">carryFill</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682955708"><span class="hs-identifier hs-type">rl</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955682"><span class="hs-identifier hs-type">res_l</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2309"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-2310"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#genericIntMul2Op"><span class="hs-identifier hs-var">genericIntMul2Op</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;genericIntMul2Op&quot;</span></span><span>
</span><span id="line-2311"></span><span>
</span><span id="line-2312"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#fmaCCall"><span class="hs-identifier hs-type">fmaCCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmActual"><span class="hs-identifier hs-type">CmmActual</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmActual"><span class="hs-identifier hs-type">CmmActual</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmActual"><span class="hs-identifier hs-type">CmmActual</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2313"></span><span id="fmaCCall"><span class="annot"><span class="annottext">fmaCCall :: Width -&gt; LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#fmaCCall"><span class="hs-identifier hs-var hs-var">fmaCCall</span></a></span></span><span> </span><span id="local-6989586621682955710"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955710"><span class="hs-identifier hs-var">width</span></a></span></span><span> </span><span id="local-6989586621682955711"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955711"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682955712"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955712"><span class="hs-identifier hs-var">arg_x</span></a></span></span><span> </span><span id="local-6989586621682955713"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955713"><span class="hs-identifier hs-var">arg_y</span></a></span></span><span> </span><span id="local-6989586621682955714"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955714"><span class="hs-identifier hs-var">arg_z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2314"></span><span>  </span><span class="annot"><span class="annottext">[(LocalReg, ForeignHint)]
-&gt; CmmExpr -&gt; [(CmmExpr, ForeignHint)] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitCCall"><span class="hs-identifier hs-var">emitCCall</span></a></span><span>
</span><span id="line-2315"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955711"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ForeignHint
</span><a href="GHC.Cmm.Type.html#NoHint"><span class="hs-identifier hs-var">NoHint</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2316"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLabel -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-var">CmmLabel</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682955715"><span class="hs-identifier hs-var">fma_lbl</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2317"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955712"><span class="hs-identifier hs-var">arg_x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ForeignHint
</span><a href="GHC.Cmm.Type.html#NoHint"><span class="hs-identifier hs-var">NoHint</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955713"><span class="hs-identifier hs-var">arg_y</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ForeignHint
</span><a href="GHC.Cmm.Type.html#NoHint"><span class="hs-identifier hs-var">NoHint</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955714"><span class="hs-identifier hs-var">arg_z</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">ForeignHint
</span><a href="GHC.Cmm.Type.html#NoHint"><span class="hs-identifier hs-var">NoHint</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-2318"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2319"></span><span>    </span><span id="local-6989586621682955715"><span class="annot"><span class="annottext">fma_lbl :: CLabel
</span><a href="#local-6989586621682955715"><span class="hs-identifier hs-var hs-var">fma_lbl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FastString -&gt; ForeignLabelSource -&gt; FunctionOrData -&gt; CLabel
</span><a href="GHC.Cmm.CLabel.html#mkForeignLabel"><span class="hs-identifier hs-var">mkForeignLabel</span></a></span><span> </span><span class="annot"><span class="annottext">FastString
</span><a href="#local-6989586621682955716"><span class="hs-identifier hs-var">fma_op</span></a></span><span> </span><span class="annot"><span class="annottext">ForeignLabelSource
</span><a href="GHC.Cmm.CLabel.html#ForeignLabelInExternalPackage"><span class="hs-identifier hs-var">ForeignLabelInExternalPackage</span></a></span><span> </span><span class="annot"><span class="annottext">FunctionOrData
</span><a href="GHC.Types.Basic.html#IsFunction"><span class="hs-identifier hs-var">IsFunction</span></a></span><span>
</span><span id="line-2320"></span><span>    </span><span id="local-6989586621682955716"><span class="annot"><span class="annottext">fma_op :: FastString
</span><a href="#local-6989586621682955716"><span class="hs-identifier hs-var hs-var">fma_op</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955710"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2321"></span><span>      </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fmaf&quot;</span></span><span>
</span><span id="line-2322"></span><span>      </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W64"><span class="hs-identifier hs-var">W64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fma&quot;</span></span><span>
</span><span id="line-2323"></span><span>      </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; FastString
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fmaCall: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Width -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955710"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2324"></span><span>
</span><span id="line-2325"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2326"></span><span class="hs-comment">-- Helpers for translating various minor variants of array indexing.</span><span>
</span><span id="line-2327"></span><span>
</span><span id="line-2328"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#alignmentFromTypes"><span class="hs-identifier hs-type">alignmentFromTypes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ element type</span></span><span>
</span><span id="line-2329"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ index type</span></span><span>
</span><span id="line-2330"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#AlignmentSpec"><span class="hs-identifier hs-type">AlignmentSpec</span></a></span><span>
</span><span id="line-2331"></span><span id="alignmentFromTypes"><span class="annot"><span class="annottext">alignmentFromTypes :: CmmType -&gt; CmmType -&gt; AlignmentSpec
</span><a href="GHC.StgToCmm.Prim.html#alignmentFromTypes"><span class="hs-identifier hs-var hs-var">alignmentFromTypes</span></a></span></span><span> </span><span id="local-6989586621682955719"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955719"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682955720"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955720"><span class="hs-identifier hs-var">idx_ty</span></a></span></span><span>
</span><span id="line-2332"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955719"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955720"><span class="hs-identifier hs-var">idx_ty</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="GHC.Cmm.Expr.html#NaturallyAligned"><span class="hs-identifier hs-var">NaturallyAligned</span></a></span><span>
</span><span id="line-2333"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="GHC.Cmm.Expr.html#Unaligned"><span class="hs-identifier hs-var">Unaligned</span></a></span><span>
</span><span id="line-2334"></span><span>
</span><span id="line-2335"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-type">doIndexOffAddrOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#MachOp"><span class="hs-identifier hs-type">MachOp</span></a></span><span>
</span><span id="line-2336"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-2337"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2338"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2339"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2340"></span><span id="doIndexOffAddrOp"><span class="annot"><span class="annottext">doIndexOffAddrOp :: Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var hs-var">doIndexOffAddrOp</span></a></span></span><span> </span><span id="local-6989586621682955724"><span class="annot"><span class="annottext">Maybe MachOp
</span><a href="#local-6989586621682955724"><span class="hs-identifier hs-var">maybe_post_read_cast</span></a></span></span><span> </span><span id="local-6989586621682955725"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955725"><span class="hs-identifier hs-var">rep</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955726"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955726"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955727"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955727"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682955728"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955728"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2341"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; AlignmentSpec
-&gt; Int
-&gt; Maybe MachOp
-&gt; CmmType
-&gt; LocalReg
-&gt; CmmExpr
-&gt; CmmType
-&gt; CmmExpr
-&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedRead"><span class="hs-identifier hs-var">mkBasicIndexedRead</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="GHC.Cmm.Expr.html#NaturallyAligned"><span class="hs-identifier hs-var">NaturallyAligned</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
</span><a href="#local-6989586621682955724"><span class="hs-identifier hs-var">maybe_post_read_cast</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955725"><span class="hs-identifier hs-var">rep</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955726"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955727"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955725"><span class="hs-identifier hs-var">rep</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955728"><span class="hs-identifier hs-var">idx</span></a></span><span>
</span><span id="line-2342"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOp"><span class="hs-identifier hs-var">doIndexOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2343"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC.StgToCmm.Prim: doIndexOffAddrOp&quot;</span></span><span>
</span><span id="line-2344"></span><span>
</span><span id="line-2345"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-type">doIndexOffAddrOpAs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#MachOp"><span class="hs-identifier hs-type">MachOp</span></a></span><span>
</span><span id="line-2346"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-2347"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-2348"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2349"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2350"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2351"></span><span id="doIndexOffAddrOpAs"><span class="annot"><span class="annottext">doIndexOffAddrOpAs :: Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var hs-var">doIndexOffAddrOpAs</span></a></span></span><span> </span><span id="local-6989586621682955730"><span class="annot"><span class="annottext">Maybe MachOp
</span><a href="#local-6989586621682955730"><span class="hs-identifier hs-var">maybe_post_read_cast</span></a></span></span><span> </span><span id="local-6989586621682955731"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955731"><span class="hs-identifier hs-var">rep</span></a></span></span><span> </span><span id="local-6989586621682955732"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955732"><span class="hs-identifier hs-var">idx_rep</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955733"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955733"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955734"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955734"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682955735"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955735"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2352"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955736"><span class="annot"><span class="annottext">alignment :: AlignmentSpec
</span><a href="#local-6989586621682955736"><span class="hs-identifier hs-var hs-var">alignment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; CmmType -&gt; AlignmentSpec
</span><a href="GHC.StgToCmm.Prim.html#alignmentFromTypes"><span class="hs-identifier hs-var">alignmentFromTypes</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955731"><span class="hs-identifier hs-var">rep</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955732"><span class="hs-identifier hs-var">idx_rep</span></a></span><span>
</span><span id="line-2353"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; AlignmentSpec
-&gt; Int
-&gt; Maybe MachOp
-&gt; CmmType
-&gt; LocalReg
-&gt; CmmExpr
-&gt; CmmType
-&gt; CmmExpr
-&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedRead"><span class="hs-identifier hs-var">mkBasicIndexedRead</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682955736"><span class="hs-identifier hs-var">alignment</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
</span><a href="#local-6989586621682955730"><span class="hs-identifier hs-var">maybe_post_read_cast</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955731"><span class="hs-identifier hs-var">rep</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955733"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955734"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955732"><span class="hs-identifier hs-var">idx_rep</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955735"><span class="hs-identifier hs-var">idx</span></a></span><span>
</span><span id="line-2354"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doIndexOffAddrOpAs"><span class="hs-identifier hs-var">doIndexOffAddrOpAs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2355"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC.StgToCmm.Prim: doIndexOffAddrOpAs&quot;</span></span><span>
</span><span id="line-2356"></span><span>
</span><span id="line-2357"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-type">doIndexByteArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#MachOp"><span class="hs-identifier hs-type">MachOp</span></a></span><span>
</span><span id="line-2358"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-2359"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2360"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2361"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2362"></span><span id="doIndexByteArrayOp"><span class="annot"><span class="annottext">doIndexByteArrayOp :: Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var hs-var">doIndexByteArrayOp</span></a></span></span><span> </span><span id="local-6989586621682955737"><span class="annot"><span class="annottext">Maybe MachOp
</span><a href="#local-6989586621682955737"><span class="hs-identifier hs-var">maybe_post_read_cast</span></a></span></span><span> </span><span id="local-6989586621682955738"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955738"><span class="hs-identifier hs-var">rep</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955739"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955739"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955740"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955740"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682955741"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955741"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2363"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955742"><span class="annot"><a href="#local-6989586621682955742"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-2364"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doByteArrayBoundsCheck"><span class="hs-identifier hs-type">doByteArrayBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955741"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955740"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955738"><span class="hs-identifier hs-type">rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955738"><span class="hs-identifier hs-type">rep</span></a></span><span>
</span><span id="line-2365"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedRead"><span class="hs-identifier hs-type">mkBasicIndexedRead</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#NaturallyAligned"><span class="hs-identifier hs-type">NaturallyAligned</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-type">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955742"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955737"><span class="hs-identifier hs-type">maybe_post_read_cast</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955738"><span class="hs-identifier hs-type">rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955739"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955740"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955738"><span class="hs-identifier hs-type">rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955741"><span class="hs-identifier hs-type">idx</span></a></span><span>
</span><span id="line-2366"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOp"><span class="hs-identifier hs-var">doIndexByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2367"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC.StgToCmm.Prim: doIndexByteArrayOp&quot;</span></span><span>
</span><span id="line-2368"></span><span>
</span><span id="line-2369"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-type">doIndexByteArrayOpAs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#MachOp"><span class="hs-identifier hs-type">MachOp</span></a></span><span>
</span><span id="line-2370"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-2371"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-2372"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2373"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2374"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2375"></span><span id="doIndexByteArrayOpAs"><span class="annot"><span class="annottext">doIndexByteArrayOpAs :: Maybe MachOp
-&gt; CmmType -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var hs-var">doIndexByteArrayOpAs</span></a></span></span><span> </span><span id="local-6989586621682955745"><span class="annot"><span class="annottext">Maybe MachOp
</span><a href="#local-6989586621682955745"><span class="hs-identifier hs-var">maybe_post_read_cast</span></a></span></span><span> </span><span id="local-6989586621682955746"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955746"><span class="hs-identifier hs-var">rep</span></a></span></span><span> </span><span id="local-6989586621682955747"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955747"><span class="hs-identifier hs-var">idx_rep</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955748"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955748"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955749"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955749"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682955750"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955750"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2376"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955751"><span class="annot"><a href="#local-6989586621682955751"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-2377"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doByteArrayBoundsCheck"><span class="hs-identifier hs-type">doByteArrayBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955750"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955749"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955747"><span class="hs-identifier hs-type">idx_rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955746"><span class="hs-identifier hs-type">rep</span></a></span><span>
</span><span id="line-2378"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955752"><span class="annot"><a href="#local-6989586621682955752"><span class="hs-identifier hs-var hs-var">alignment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; CmmType -&gt; AlignmentSpec
</span><a href="GHC.StgToCmm.Prim.html#alignmentFromTypes"><span class="hs-identifier hs-var">alignmentFromTypes</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955746"><span class="hs-identifier hs-var">rep</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955747"><span class="hs-identifier hs-var">idx_rep</span></a></span><span>
</span><span id="line-2379"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedRead"><span class="hs-identifier hs-type">mkBasicIndexedRead</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="annot"><a href="#local-6989586621682955752"><span class="hs-identifier hs-type">alignment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-type">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955751"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955745"><span class="hs-identifier hs-type">maybe_post_read_cast</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955746"><span class="hs-identifier hs-type">rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955748"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955749"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955747"><span class="hs-identifier hs-type">idx_rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955750"><span class="hs-identifier hs-type">idx</span></a></span><span>
</span><span id="line-2380"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doIndexByteArrayOpAs"><span class="hs-identifier hs-var">doIndexByteArrayOpAs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2381"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC.StgToCmm.Prim: doIndexByteArrayOpAs&quot;</span></span><span>
</span><span id="line-2382"></span><span>
</span><span id="line-2383"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doReadPtrArrayOp"><span class="hs-identifier hs-type">doReadPtrArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span>
</span><span id="line-2384"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2385"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2386"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2387"></span><span id="doReadPtrArrayOp"><span class="annot"><span class="annottext">doReadPtrArrayOp :: LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doReadPtrArrayOp"><span class="hs-identifier hs-var hs-var">doReadPtrArrayOp</span></a></span></span><span> </span><span id="local-6989586621682955753"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955753"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682955754"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955754"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span id="local-6989586621682955755"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955755"><span class="hs-identifier hs-var">idx</span></a></span></span><span>
</span><span id="line-2388"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955756"><span class="annot"><a href="#local-6989586621682955756"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-2389"></span><span>        </span><span id="local-6989586621682955757"><span class="annot"><a href="#local-6989586621682955757"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-2390"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doPtrArrayBoundsCheck"><span class="hs-identifier hs-type">doPtrArrayBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955755"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955754"><span class="hs-identifier hs-type">addr</span></a></span><span>
</span><span id="line-2391"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedRead"><span class="hs-identifier hs-type">mkBasicIndexedRead</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#NaturallyAligned"><span class="hs-identifier hs-type">NaturallyAligned</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrPtrsHdrSize"><span class="hs-identifier hs-type">arrPtrsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955756"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#gcWord"><span class="hs-identifier hs-type">gcWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955757"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955753"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955754"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#gcWord"><span class="hs-identifier hs-type">gcWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955757"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955755"><span class="hs-identifier hs-type">idx</span></a></span><span>
</span><span id="line-2392"></span><span>
</span><span id="line-2393"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-type">doWriteOffAddrOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#MachOp"><span class="hs-identifier hs-type">MachOp</span></a></span><span>
</span><span id="line-2394"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-2395"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2396"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2397"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2398"></span><span id="doWriteOffAddrOp"><span class="annot"><span class="annottext">doWriteOffAddrOp :: Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var hs-var">doWriteOffAddrOp</span></a></span></span><span> </span><span id="local-6989586621682955760"><span class="annot"><span class="annottext">Maybe MachOp
</span><a href="#local-6989586621682955760"><span class="hs-identifier hs-var">castOp</span></a></span></span><span> </span><span id="local-6989586621682955761"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955761"><span class="hs-identifier hs-var">idx_ty</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955762"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955762"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682955763"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955763"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955764"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955764"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2399"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedWrite"><span class="hs-identifier hs-var">mkBasicIndexedWrite</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955762"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955761"><span class="hs-identifier hs-var">idx_ty</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955763"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#maybeCast"><span class="hs-identifier hs-var">maybeCast</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
</span><a href="#local-6989586621682955760"><span class="hs-identifier hs-var">castOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955764"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2400"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doWriteOffAddrOp"><span class="hs-identifier hs-var">doWriteOffAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2401"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC.StgToCmm.Prim: doWriteOffAddrOp&quot;</span></span><span>
</span><span id="line-2402"></span><span>
</span><span id="line-2403"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-type">doWriteByteArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#MachOp"><span class="hs-identifier hs-type">MachOp</span></a></span><span>
</span><span id="line-2404"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-2405"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2406"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2407"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2408"></span><span id="doWriteByteArrayOp"><span class="annot"><span class="annottext">doWriteByteArrayOp :: Maybe MachOp -&gt; CmmType -&gt; [LocalReg] -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var hs-var">doWriteByteArrayOp</span></a></span></span><span> </span><span id="local-6989586621682955767"><span class="annot"><span class="annottext">Maybe MachOp
</span><a href="#local-6989586621682955767"><span class="hs-identifier hs-var">castOp</span></a></span></span><span> </span><span id="local-6989586621682955768"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955768"><span class="hs-identifier hs-var">idx_ty</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span id="local-6989586621682955769"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955769"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682955770"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955770"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682955771"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955771"><span class="hs-identifier hs-var">rawVal</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2409"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955772"><span class="annot"><a href="#local-6989586621682955772"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-2410"></span><span>        </span><span id="local-6989586621682955773"><span class="annot"><a href="#local-6989586621682955773"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-2411"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955774"><span class="annot"><a href="#local-6989586621682955774"><span class="hs-identifier hs-var hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe MachOp -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#maybeCast"><span class="hs-identifier hs-var">maybeCast</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
</span><a href="#local-6989586621682955767"><span class="hs-identifier hs-var">castOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955771"><span class="hs-identifier hs-var">rawVal</span></a></span><span>
</span><span id="line-2412"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doByteArrayBoundsCheck"><span class="hs-identifier hs-type">doByteArrayBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955770"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955769"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955768"><span class="hs-identifier hs-type">idx_ty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#cmmExprType"><span class="hs-identifier hs-type">cmmExprType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955773"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955774"><span class="hs-identifier hs-type">val</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2413"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedWrite"><span class="hs-identifier hs-type">mkBasicIndexedWrite</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-type">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955772"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955769"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955768"><span class="hs-identifier hs-type">idx_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955770"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955774"><span class="hs-identifier hs-type">val</span></a></span><span>
</span><span id="line-2414"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doWriteByteArrayOp"><span class="hs-identifier hs-var">doWriteByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2415"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC.StgToCmm.Prim: doWriteByteArrayOp&quot;</span></span><span>
</span><span id="line-2416"></span><span>
</span><span id="line-2417"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doWritePtrArrayOp"><span class="hs-identifier hs-type">doWritePtrArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2418"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2419"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2420"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2421"></span><span id="doWritePtrArrayOp"><span class="annot"><span class="annottext">doWritePtrArrayOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWritePtrArrayOp"><span class="hs-identifier hs-var hs-var">doWritePtrArrayOp</span></a></span></span><span> </span><span id="local-6989586621682955775"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955775"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span id="local-6989586621682955776"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955776"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621682955777"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955777"><span class="hs-identifier hs-var">val</span></a></span></span><span>
</span><span id="line-2422"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955778"><span class="annot"><a href="#local-6989586621682955778"><span class="hs-identifier hs-var">profile</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-2423"></span><span>       </span><span id="local-6989586621682955779"><span class="annot"><a href="#local-6989586621682955779"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-2424"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955780"><span class="annot"><a href="#local-6989586621682955780"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmType
</span><a href="GHC.Cmm.Expr.html#cmmExprType"><span class="hs-identifier hs-var">cmmExprType</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955779"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955777"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-2425"></span><span>           </span><span id="local-6989586621682955781"><span class="annot"><a href="#local-6989586621682955781"><span class="hs-identifier hs-var hs-var">hdr_size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#arrPtrsHdrSize"><span class="hs-identifier hs-var">arrPtrsHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682955778"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-2426"></span><span>
</span><span id="line-2427"></span><span>       </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doPtrArrayBoundsCheck"><span class="hs-identifier hs-type">doPtrArrayBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955776"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955775"><span class="hs-identifier hs-type">addr</span></a></span><span>
</span><span id="line-2428"></span><span>
</span><span id="line-2429"></span><span>       </span><span class="hs-comment">-- Update remembered set for non-moving collector</span><span>
</span><span id="line-2430"></span><span>       </span><span class="annot"><a href="GHC.StgToCmm.Utils.html#whenUpdRemSetEnabled"><span class="hs-identifier hs-type">whenUpdRemSetEnabled</span></a></span><span>
</span><span id="line-2431"></span><span>           </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Utils.html#emitUpdRemSetPush"><span class="hs-identifier hs-type">emitUpdRemSetPush</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#cmmLoadIndexOffExpr"><span class="hs-identifier hs-type">cmmLoadIndexOffExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955779"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#NaturallyAligned"><span class="hs-identifier hs-type">NaturallyAligned</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955781"><span class="hs-identifier hs-type">hdr_size</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955780"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955775"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955780"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955776"><span class="hs-identifier hs-type">idx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2432"></span><span>       </span><span class="hs-comment">-- This write barrier is to ensure that the heap writes to the object</span><span>
</span><span id="line-2433"></span><span>       </span><span class="hs-comment">-- referred to by val have happened before we write val into the array.</span><span>
</span><span id="line-2434"></span><span>       </span><span class="hs-comment">-- See #12469 for details.</span><span>
</span><span id="line-2435"></span><span>       </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedWrite"><span class="hs-identifier hs-type">mkBasicIndexedWrite</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="annot"><a href="#local-6989586621682955781"><span class="hs-identifier hs-type">hdr_size</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955775"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955780"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955776"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955777"><span class="hs-identifier hs-type">val</span></a></span><span>
</span><span id="line-2436"></span><span>
</span><span id="line-2437"></span><span>       </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#setInfo"><span class="hs-identifier hs-type">setInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955775"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-type">CmmLabel</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#mkMAP_DIRTY_infoLabel"><span class="hs-identifier hs-type">mkMAP_DIRTY_infoLabel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2438"></span><span>       </span><span class="hs-comment">-- the write barrier.  We must write a byte into the mark table:</span><span>
</span><span id="line-2439"></span><span>       </span><span class="hs-comment">-- bits8[a + header_size + StgMutArrPtrs_size(a) + x &gt;&gt; N]</span><span>
</span><span id="line-2440"></span><span>       </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkStore"><span class="hs-identifier hs-type">mkStore</span></a></span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-2441"></span><span>         </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExpr"><span class="hs-identifier hs-type">cmmOffsetExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955779"><span class="hs-identifier hs-type">platform</span></a></span><span>
</span><span id="line-2442"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExprW"><span class="hs-identifier hs-type">cmmOffsetExprW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955779"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955779"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955775"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955781"><span class="hs-identifier hs-type">hdr_size</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2443"></span><span>                         </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#ptrArraySize"><span class="hs-identifier hs-type">ptrArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955779"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955778"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955775"><span class="hs-identifier hs-type">addr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2444"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_wordUShr"><span class="hs-identifier hs-type">mo_wordUShr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955779"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955776"><span class="hs-identifier hs-type">idx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955779"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.Constants.html#pc_MUT_ARR_PTRS_CARD_BITS"><span class="hs-identifier hs-var">pc_MUT_ARR_PTRS_CARD_BITS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#platformConstants"><span class="hs-identifier hs-type">platformConstants</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955779"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2445"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-type">W8</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2446"></span><span>
</span><span id="line-2447"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedRead"><span class="hs-identifier hs-type">mkBasicIndexedRead</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>         </span><span class="hs-comment">-- Should this imply an acquire barrier</span><span>
</span><span id="line-2448"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#AlignmentSpec"><span class="hs-identifier hs-type">AlignmentSpec</span></a></span><span>
</span><span id="line-2449"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#ByteOff"><span class="hs-identifier hs-type">ByteOff</span></a></span><span>      </span><span class="hs-comment">-- Initial offset in bytes</span><span>
</span><span id="line-2450"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#MachOp"><span class="hs-identifier hs-type">MachOp</span></a></span><span> </span><span class="hs-comment">-- Optional result cast</span><span>
</span><span id="line-2451"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>      </span><span class="hs-comment">-- Type of element we are accessing</span><span>
</span><span id="line-2452"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span>     </span><span class="hs-comment">-- Destination</span><span>
</span><span id="line-2453"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>      </span><span class="hs-comment">-- Base address</span><span>
</span><span id="line-2454"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>      </span><span class="hs-comment">-- Type of element by which we are indexing</span><span>
</span><span id="line-2455"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>      </span><span class="hs-comment">-- Index</span><span>
</span><span id="line-2456"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2457"></span><span id="mkBasicIndexedRead"><span class="annot"><span class="annottext">mkBasicIndexedRead :: Bool
-&gt; AlignmentSpec
-&gt; Int
-&gt; Maybe MachOp
-&gt; CmmType
-&gt; LocalReg
-&gt; CmmExpr
-&gt; CmmType
-&gt; CmmExpr
-&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedRead"><span class="hs-identifier hs-var hs-var">mkBasicIndexedRead</span></a></span></span><span> </span><span id="local-6989586621682955790"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955790"><span class="hs-identifier hs-var">barrier</span></a></span></span><span> </span><span id="local-6989586621682955791"><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682955791"><span class="hs-identifier hs-var">alignment</span></a></span></span><span> </span><span id="local-6989586621682955792"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955792"><span class="hs-identifier hs-var">off</span></a></span></span><span> </span><span id="local-6989586621682955793"><span class="annot"><span class="annottext">Maybe MachOp
</span><a href="#local-6989586621682955793"><span class="hs-identifier hs-var">mb_cast</span></a></span></span><span> </span><span id="local-6989586621682955794"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955794"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682955795"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955795"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682955796"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955796"><span class="hs-identifier hs-var">base</span></a></span></span><span> </span><span id="local-6989586621682955797"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955797"><span class="hs-identifier hs-var">idx_ty</span></a></span></span><span> </span><span id="local-6989586621682955798"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955798"><span class="hs-identifier hs-var">idx</span></a></span></span><span>
</span><span id="line-2458"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955799"><span class="annot"><a href="#local-6989586621682955799"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2459"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955800"><span class="annot"><a href="#local-6989586621682955800"><span class="hs-identifier hs-var hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; Width -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#cmmIndexOffExpr"><span class="hs-identifier hs-var">cmmIndexOffExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955799"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955792"><span class="hs-identifier hs-var">off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955797"><span class="hs-identifier hs-var">idx_ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955796"><span class="hs-identifier hs-var">base</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955798"><span class="hs-identifier hs-var">idx</span></a></span><span>
</span><span id="line-2460"></span><span>        </span><span id="local-6989586621682955802"><span class="annot"><a href="#local-6989586621682955802"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-2461"></span><span>          </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621682955790"><span class="hs-identifier hs-type">barrier</span></a></span><span>
</span><span id="line-2462"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2463"></span><span>            </span><span id="local-6989586621682955803"><span class="annot"><a href="#local-6989586621682955803"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955794"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-2464"></span><span>            </span><span class="annot"><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-type">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955803"><span class="hs-identifier hs-type">res</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_AtomicRead"><span class="hs-identifier hs-type">MO_AtomicRead</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-type">typeWidth</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955794"><span class="hs-identifier hs-type">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#MemOrderAcquire"><span class="hs-identifier hs-type">MemOrderAcquire</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955800"><span class="hs-identifier hs-type">addr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2465"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955803"><span class="hs-identifier hs-type">res</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2466"></span><span>          </span><span class="hs-keyword">else</span><span>
</span><span id="line-2467"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLoad"><span class="hs-identifier hs-type">CmmLoad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955800"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955794"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955791"><span class="hs-identifier hs-type">alignment</span></a></span><span>
</span><span id="line-2468"></span><span>
</span><span id="line-2469"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955805"><span class="annot"><a href="#local-6989586621682955805"><span class="hs-identifier hs-var hs-var">casted</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2470"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
</span><a href="#local-6989586621682955793"><span class="hs-identifier hs-var">mb_cast</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2471"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682955806"><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682955806"><span class="hs-identifier hs-var">cast</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682955806"><span class="hs-identifier hs-var">cast</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955802"><span class="hs-identifier hs-var">result</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2472"></span><span>                </span><span class="annot"><span class="annottext">Maybe MachOp
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955802"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-2473"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-type">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955795"><span class="hs-identifier hs-type">res</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955805"><span class="hs-identifier hs-type">casted</span></a></span><span>
</span><span id="line-2474"></span><span>
</span><span id="line-2475"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedWrite"><span class="hs-identifier hs-type">mkBasicIndexedWrite</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>         </span><span class="hs-comment">-- Should this imply a release barrier</span><span>
</span><span id="line-2476"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#ByteOff"><span class="hs-identifier hs-type">ByteOff</span></a></span><span>      </span><span class="hs-comment">-- Initial offset in bytes</span><span>
</span><span id="line-2477"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>      </span><span class="hs-comment">-- Base address</span><span>
</span><span id="line-2478"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>      </span><span class="hs-comment">-- Type of element by which we are indexing</span><span>
</span><span id="line-2479"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>      </span><span class="hs-comment">-- Index</span><span>
</span><span id="line-2480"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>      </span><span class="hs-comment">-- Value to write</span><span>
</span><span id="line-2481"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2482"></span><span id="mkBasicIndexedWrite"><span class="annot"><span class="annottext">mkBasicIndexedWrite :: Bool -&gt; Int -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedWrite"><span class="hs-identifier hs-var hs-var">mkBasicIndexedWrite</span></a></span></span><span> </span><span id="local-6989586621682955807"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955807"><span class="hs-identifier hs-var">barrier</span></a></span></span><span> </span><span id="local-6989586621682955808"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955808"><span class="hs-identifier hs-var">off</span></a></span></span><span> </span><span id="local-6989586621682955809"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955809"><span class="hs-identifier hs-var">base</span></a></span></span><span> </span><span id="local-6989586621682955810"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955810"><span class="hs-identifier hs-var">idx_ty</span></a></span></span><span> </span><span id="local-6989586621682955811"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955811"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621682955812"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955812"><span class="hs-identifier hs-var">val</span></a></span></span><span>
</span><span id="line-2483"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955813"><span class="annot"><a href="#local-6989586621682955813"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2484"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955814"><span class="annot"><a href="#local-6989586621682955814"><span class="hs-identifier hs-var hs-var">alignment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; CmmType -&gt; AlignmentSpec
</span><a href="GHC.StgToCmm.Prim.html#alignmentFromTypes"><span class="hs-identifier hs-var">alignmentFromTypes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmType
</span><a href="GHC.Cmm.Expr.html#cmmExprType"><span class="hs-identifier hs-var">cmmExprType</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955813"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955812"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955810"><span class="hs-identifier hs-var">idx_ty</span></a></span><span>
</span><span id="line-2485"></span><span>            </span><span id="local-6989586621682955815"><span class="annot"><a href="#local-6989586621682955815"><span class="hs-identifier hs-var hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; Width -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#cmmIndexOffExpr"><span class="hs-identifier hs-var">cmmIndexOffExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955813"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955808"><span class="hs-identifier hs-var">off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955810"><span class="hs-identifier hs-var">idx_ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955809"><span class="hs-identifier hs-var">base</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955811"><span class="hs-identifier hs-var">idx</span></a></span><span>
</span><span id="line-2486"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621682955807"><span class="hs-identifier hs-type">barrier</span></a></span><span>
</span><span id="line-2487"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955816"><span class="annot"><a href="#local-6989586621682955816"><span class="hs-identifier hs-var hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955810"><span class="hs-identifier hs-var">idx_ty</span></a></span><span>
</span><span id="line-2488"></span><span>                   </span><span id="local-6989586621682955817"><span class="annot"><a href="#local-6989586621682955817"><span class="hs-identifier hs-var hs-var">op</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Width -&gt; MemoryOrdering -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_AtomicWrite"><span class="hs-identifier hs-var">MO_AtomicWrite</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955816"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">MemoryOrdering
</span><a href="GHC.Cmm.MachOp.html#MemOrderRelease"><span class="hs-identifier hs-var">MemOrderRelease</span></a></span><span>
</span><span id="line-2489"></span><span>               </span><span class="hs-keyword">in</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-type">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621682955817"><span class="hs-identifier hs-type">op</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955815"><span class="hs-identifier hs-type">addr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682955812"><span class="hs-identifier hs-type">val</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2490"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitStore%27"><span class="hs-identifier hs-type">emitStore'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955814"><span class="hs-identifier hs-type">alignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955815"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955812"><span class="hs-identifier hs-type">val</span></a></span><span>
</span><span id="line-2491"></span><span>
</span><span id="line-2492"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-2493"></span><span class="hs-comment">-- Misc utils</span><span>
</span><span id="line-2494"></span><span>
</span><span id="line-2495"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#cmmIndexOffExpr"><span class="hs-identifier hs-type">cmmIndexOffExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span>
</span><span id="line-2496"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#ByteOff"><span class="hs-identifier hs-type">ByteOff</span></a></span><span>  </span><span class="hs-comment">-- Initial offset in bytes</span><span>
</span><span id="line-2497"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span>    </span><span class="hs-comment">-- Width of element by which we are indexing</span><span>
</span><span id="line-2498"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="hs-comment">-- Base address</span><span>
</span><span id="line-2499"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="hs-comment">-- Index</span><span>
</span><span id="line-2500"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2501"></span><span id="cmmIndexOffExpr"><span class="annot"><span class="annottext">cmmIndexOffExpr :: Platform -&gt; Int -&gt; Width -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#cmmIndexOffExpr"><span class="hs-identifier hs-var hs-var">cmmIndexOffExpr</span></a></span></span><span> </span><span id="local-6989586621682955819"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955819"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621682955820"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955820"><span class="hs-identifier hs-var">off</span></a></span></span><span> </span><span id="local-6989586621682955821"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955821"><span class="hs-identifier hs-var">width</span></a></span></span><span> </span><span id="local-6989586621682955822"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955822"><span class="hs-identifier hs-var">base</span></a></span></span><span> </span><span id="local-6989586621682955823"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955823"><span class="hs-identifier hs-var">idx</span></a></span></span><span>
</span><span id="line-2502"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Width -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmIndexExpr"><span class="hs-identifier hs-var">cmmIndexExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955819"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955821"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-var">cmmOffsetB</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955819"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955822"><span class="hs-identifier hs-var">base</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955820"><span class="hs-identifier hs-var">off</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955823"><span class="hs-identifier hs-var">idx</span></a></span><span>
</span><span id="line-2503"></span><span>
</span><span id="line-2504"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#cmmLoadIndexOffExpr"><span class="hs-identifier hs-type">cmmLoadIndexOffExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span>
</span><span id="line-2505"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#AlignmentSpec"><span class="hs-identifier hs-type">AlignmentSpec</span></a></span><span>
</span><span id="line-2506"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#ByteOff"><span class="hs-identifier hs-type">ByteOff</span></a></span><span>  </span><span class="hs-comment">-- Initial offset in bytes</span><span>
</span><span id="line-2507"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>  </span><span class="hs-comment">-- Type of element we are accessing</span><span>
</span><span id="line-2508"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="hs-comment">-- Base address</span><span>
</span><span id="line-2509"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>  </span><span class="hs-comment">-- Type of element by which we are indexing</span><span>
</span><span id="line-2510"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="hs-comment">-- Index</span><span>
</span><span id="line-2511"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2512"></span><span id="cmmLoadIndexOffExpr"><span class="annot"><span class="annottext">cmmLoadIndexOffExpr :: Platform
-&gt; AlignmentSpec
-&gt; Int
-&gt; CmmType
-&gt; CmmExpr
-&gt; CmmType
-&gt; CmmExpr
-&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#cmmLoadIndexOffExpr"><span class="hs-identifier hs-var hs-var">cmmLoadIndexOffExpr</span></a></span></span><span> </span><span id="local-6989586621682955825"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955825"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621682955826"><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682955826"><span class="hs-identifier hs-var">alignment</span></a></span></span><span> </span><span id="local-6989586621682955827"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955827"><span class="hs-identifier hs-var">off</span></a></span></span><span> </span><span id="local-6989586621682955828"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955828"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682955829"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955829"><span class="hs-identifier hs-var">base</span></a></span></span><span> </span><span id="local-6989586621682955830"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955830"><span class="hs-identifier hs-var">idx_ty</span></a></span></span><span> </span><span id="local-6989586621682955831"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955831"><span class="hs-identifier hs-var">idx</span></a></span></span><span>
</span><span id="line-2513"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmType -&gt; AlignmentSpec -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLoad"><span class="hs-identifier hs-var">CmmLoad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; Width -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#cmmIndexOffExpr"><span class="hs-identifier hs-var">cmmIndexOffExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955825"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955827"><span class="hs-identifier hs-var">off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955830"><span class="hs-identifier hs-var">idx_ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955829"><span class="hs-identifier hs-var">base</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955831"><span class="hs-identifier hs-var">idx</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955828"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">AlignmentSpec
</span><a href="#local-6989586621682955826"><span class="hs-identifier hs-var">alignment</span></a></span><span>
</span><span id="line-2514"></span><span>
</span><span id="line-2515"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#setInfo"><span class="hs-identifier hs-type">setInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#CmmAGraph"><span class="hs-identifier hs-type">CmmAGraph</span></a></span><span>
</span><span id="line-2516"></span><span id="setInfo"><span class="annot"><span class="annottext">setInfo :: CmmExpr -&gt; CmmExpr -&gt; CmmAGraph
</span><a href="GHC.StgToCmm.Prim.html#setInfo"><span class="hs-identifier hs-var hs-var">setInfo</span></a></span></span><span> </span><span id="local-6989586621682955832"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955832"><span class="hs-identifier hs-var">closure_ptr</span></a></span></span><span> </span><span id="local-6989586621682955833"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955833"><span class="hs-identifier hs-var">info_ptr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#mkStore"><span class="hs-identifier hs-var">mkStore</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955832"><span class="hs-identifier hs-var">closure_ptr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955833"><span class="hs-identifier hs-var">info_ptr</span></a></span><span>
</span><span id="line-2517"></span><span>
</span><span id="line-2518"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#maybeCast"><span class="hs-identifier hs-type">maybeCast</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#MachOp"><span class="hs-identifier hs-type">MachOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2519"></span><span id="maybeCast"><span class="annot"><span class="annottext">maybeCast :: Maybe MachOp -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#maybeCast"><span class="hs-identifier hs-var hs-var">maybeCast</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe MachOp
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span id="local-6989586621682955834"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955834"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955834"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-2520"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#maybeCast"><span class="hs-identifier hs-var">maybeCast</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682955835"><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682955835"><span class="hs-identifier hs-var">cast</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682955836"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955836"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="annot"><span class="annottext">MachOp
</span><a href="#local-6989586621682955835"><span class="hs-identifier hs-var">cast</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955836"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2521"></span><span>
</span><span id="line-2522"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#ptrArraySize"><span class="hs-identifier hs-type">ptrArraySize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Platform.Profile.html#Profile"><span class="hs-identifier hs-type">Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2523"></span><span id="ptrArraySize"><span class="annot"><span class="annottext">ptrArraySize :: Platform -&gt; Profile -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#ptrArraySize"><span class="hs-identifier hs-var hs-var">ptrArraySize</span></a></span></span><span> </span><span id="local-6989586621682955837"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955837"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621682955838"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682955838"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span id="local-6989586621682955839"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955839"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2524"></span><span>  </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmLoadBWord"><span class="hs-identifier hs-var">cmmLoadBWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955837"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-var">cmmOffsetB</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955837"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955839"><span class="hs-identifier hs-var">arr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955841"><span class="hs-identifier hs-var">sz_off</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2525"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621682955841"><span class="annot"><span class="annottext">sz_off :: Int
</span><a href="#local-6989586621682955841"><span class="hs-identifier hs-var hs-var">sz_off</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#fixedHdrSize"><span class="hs-identifier hs-var">fixedHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682955838"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-2526"></span><span>               </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">PlatformConstants -&gt; Int
</span><a href="GHC.Platform.Constants.html#pc_OFFSET_StgMutArrPtrs_ptrs"><span class="hs-identifier hs-var">pc_OFFSET_StgMutArrPtrs_ptrs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; PlatformConstants
</span><a href="GHC.Platform.html#platformConstants"><span class="hs-identifier hs-var">platformConstants</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955837"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2527"></span><span>
</span><span id="line-2528"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#smallPtrArraySize"><span class="hs-identifier hs-type">smallPtrArraySize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Platform.Profile.html#Profile"><span class="hs-identifier hs-type">Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2529"></span><span id="smallPtrArraySize"><span class="annot"><span class="annottext">smallPtrArraySize :: Platform -&gt; Profile -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#smallPtrArraySize"><span class="hs-identifier hs-var hs-var">smallPtrArraySize</span></a></span></span><span> </span><span id="local-6989586621682955842"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955842"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621682955843"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682955843"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span id="local-6989586621682955844"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955844"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2530"></span><span>  </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmLoadBWord"><span class="hs-identifier hs-var">cmmLoadBWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955842"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-var">cmmOffsetB</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955842"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955844"><span class="hs-identifier hs-var">arr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955845"><span class="hs-identifier hs-var">sz_off</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2531"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621682955845"><span class="annot"><span class="annottext">sz_off :: Int
</span><a href="#local-6989586621682955845"><span class="hs-identifier hs-var hs-var">sz_off</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#fixedHdrSize"><span class="hs-identifier hs-var">fixedHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682955843"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-2532"></span><span>               </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">PlatformConstants -&gt; Int
</span><a href="GHC.Platform.Constants.html#pc_OFFSET_StgSmallMutArrPtrs_ptrs"><span class="hs-identifier hs-var">pc_OFFSET_StgSmallMutArrPtrs_ptrs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; PlatformConstants
</span><a href="GHC.Platform.html#platformConstants"><span class="hs-identifier hs-var">platformConstants</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955842"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2533"></span><span>
</span><span id="line-2534"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#byteArraySize"><span class="hs-identifier hs-type">byteArraySize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Platform.Profile.html#Profile"><span class="hs-identifier hs-type">Profile</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2535"></span><span id="byteArraySize"><span class="annot"><span class="annottext">byteArraySize :: Platform -&gt; Profile -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#byteArraySize"><span class="hs-identifier hs-var hs-var">byteArraySize</span></a></span></span><span> </span><span id="local-6989586621682955846"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955846"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621682955847"><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682955847"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span id="local-6989586621682955848"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955848"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2536"></span><span>  </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmLoadBWord"><span class="hs-identifier hs-var">cmmLoadBWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955846"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-var">cmmOffsetB</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955846"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955848"><span class="hs-identifier hs-var">arr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955849"><span class="hs-identifier hs-var">sz_off</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2537"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621682955849"><span class="annot"><span class="annottext">sz_off :: Int
</span><a href="#local-6989586621682955849"><span class="hs-identifier hs-var hs-var">sz_off</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#fixedHdrSize"><span class="hs-identifier hs-var">fixedHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682955847"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-2538"></span><span>               </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">PlatformConstants -&gt; Int
</span><a href="GHC.Platform.Constants.html#pc_OFFSET_StgArrBytes_bytes"><span class="hs-identifier hs-var">pc_OFFSET_StgArrBytes_bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; PlatformConstants
</span><a href="GHC.Platform.html#platformConstants"><span class="hs-identifier hs-var">platformConstants</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955846"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2539"></span><span>
</span><span id="line-2540"></span><span>
</span><span id="line-2541"></span><span>
</span><span id="line-2542"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2543"></span><span class="hs-comment">-- Helpers for translating vector primops.</span><span>
</span><span id="line-2544"></span><span>
</span><span id="line-2545"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-type">vecCmmType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#PrimOpVecCat"><span class="hs-identifier hs-type">PrimOpVecCat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Length"><span class="hs-identifier hs-type">Length</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-2546"></span><span id="vecCmmType"><span class="annot"><span class="annottext">vecCmmType :: PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var hs-var">vecCmmType</span></a></span></span><span> </span><span id="local-6989586621682955851"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682955851"><span class="hs-identifier hs-var">pocat</span></a></span></span><span> </span><span id="local-6989586621682955852"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955852"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682955853"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955853"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; CmmType -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#vec"><span class="hs-identifier hs-var">vec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955852"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmCat"><span class="hs-identifier hs-var">vecCmmCat</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682955851"><span class="hs-identifier hs-var">pocat</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955853"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2547"></span><span>
</span><span id="line-2548"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#vecCmmCat"><span class="hs-identifier hs-type">vecCmmCat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#PrimOpVecCat"><span class="hs-identifier hs-type">PrimOpVecCat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>
</span><span id="line-2549"></span><span id="vecCmmCat"><span class="annot"><span class="annottext">vecCmmCat :: PrimOpVecCat -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmCat"><span class="hs-identifier hs-var hs-var">vecCmmCat</span></a></span></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#IntVec"><span class="hs-identifier hs-var">IntVec</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span>
</span><span id="line-2550"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#vecCmmCat"><span class="hs-identifier hs-var">vecCmmCat</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#WordVec"><span class="hs-identifier hs-var">WordVec</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmBits"><span class="hs-identifier hs-var">cmmBits</span></a></span><span>
</span><span id="line-2551"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#vecCmmCat"><span class="hs-identifier hs-var">vecCmmCat</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#FloatVec"><span class="hs-identifier hs-var">FloatVec</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Width -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#cmmFloat"><span class="hs-identifier hs-var">cmmFloat</span></a></span><span>
</span><span id="line-2552"></span><span>
</span><span id="line-2553"></span><span class="hs-comment">-- Note [SIMD Design for the future]</span><span>
</span><span id="line-2554"></span><span class="hs-comment">-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span><span>
</span><span id="line-2555"></span><span class="hs-comment">-- Check to make sure that we can generate code for the specified vector type</span><span>
</span><span id="line-2556"></span><span class="hs-comment">-- given the current set of dynamic flags.</span><span>
</span><span id="line-2557"></span><span class="hs-comment">-- Currently these checks are specific to x86, x86_64 and AArch64 architectures.</span><span>
</span><span id="line-2558"></span><span class="hs-comment">-- This should be fixed!</span><span>
</span><span id="line-2559"></span><span class="hs-comment">-- In particular,</span><span>
</span><span id="line-2560"></span><span class="hs-comment">-- 1) Add better support for other architectures! (this may require a redesign)</span><span>
</span><span id="line-2561"></span><span class="hs-comment">-- 2) Decouple design choices from LLVM's pseudo SIMD model!</span><span>
</span><span id="line-2562"></span><span class="hs-comment">--   The high level LLVM naive rep makes per CPU family SIMD generation is own</span><span>
</span><span id="line-2563"></span><span class="hs-comment">--   optimization problem, and hides important differences in eg ARM vs x86_64 simd</span><span>
</span><span id="line-2564"></span><span class="hs-comment">-- 3) Depending on the architecture, the SIMD registers may also support general</span><span>
</span><span id="line-2565"></span><span class="hs-comment">--    computations on Float/Double/Word/Int scalars, but currently on</span><span>
</span><span id="line-2566"></span><span class="hs-comment">--    for example x86_64, we always put Word/Int (or sized) in GPR</span><span>
</span><span id="line-2567"></span><span class="hs-comment">--    (general purpose) registers. Would relaxing that allow for</span><span>
</span><span id="line-2568"></span><span class="hs-comment">--    useful optimization opportunities?</span><span>
</span><span id="line-2569"></span><span class="hs-comment">--      Phrased differently, it is worth experimenting with supporting</span><span>
</span><span id="line-2570"></span><span class="hs-comment">--    different register mapping strategies than we currently have, especially if</span><span>
</span><span id="line-2571"></span><span class="hs-comment">--    someday we want SIMD to be a first class denizen in GHC along with scalar</span><span>
</span><span id="line-2572"></span><span class="hs-comment">--    values!</span><span>
</span><span id="line-2573"></span><span class="hs-comment">--      The current design with respect to register mapping of scalars could</span><span>
</span><span id="line-2574"></span><span class="hs-comment">--    very well be the best,but exploring the  design space and doing careful</span><span>
</span><span id="line-2575"></span><span class="hs-comment">--    measurements is the only way to validate that.</span><span>
</span><span id="line-2576"></span><span class="hs-comment">--      In some next generation CPU ISAs, notably RISC V, the SIMD extension</span><span>
</span><span id="line-2577"></span><span class="hs-comment">--    includes  support for a sort of run time CPU dependent vectorization parameter,</span><span>
</span><span id="line-2578"></span><span class="hs-comment">--    where a loop may act upon a single scalar each iteration OR some 2,4,8 ...</span><span>
</span><span id="line-2579"></span><span class="hs-comment">--    element chunk! Time will tell if that direction sees wide adoption,</span><span>
</span><span id="line-2580"></span><span class="hs-comment">--    but it is from that context that unifying our handling of simd and scalars</span><span>
</span><span id="line-2581"></span><span class="hs-comment">--    may benefit. It is not likely to benefit current architectures, though</span><span>
</span><span id="line-2582"></span><span class="hs-comment">--    it may very well be a design perspective that helps guide improving the NCG.</span><span>
</span><span id="line-2583"></span><span>
</span><span id="line-2584"></span><span>
</span><span id="line-2585"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-type">checkVecCompatibility</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Config.html#StgToCmmConfig"><span class="hs-identifier hs-type">StgToCmmConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#PrimOpVecCat"><span class="hs-identifier hs-type">PrimOpVecCat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Length"><span class="hs-identifier hs-type">Length</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2586"></span><span id="checkVecCompatibility"><span class="annot"><span class="annottext">checkVecCompatibility :: StgToCmmConfig -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#checkVecCompatibility"><span class="hs-identifier hs-var hs-var">checkVecCompatibility</span></a></span></span><span> </span><span id="local-6989586621682955857"><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682955857"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621682955858"><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682955858"><span class="hs-identifier hs-var">vcat</span></a></span></span><span> </span><span id="local-6989586621682955859"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955859"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621682955860"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955860"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2587"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Maybe String
</span><a href="GHC.StgToCmm.Config.html#stgToCmmVecInstrsErr"><span class="hs-identifier hs-var">stgToCmmVecInstrsErr</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682955857"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2588"></span><span>    </span><span class="annot"><span class="annottext">Maybe String
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621682955862"><span class="hs-identifier hs-var">isX86</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Width -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="#local-6989586621682955863"><span class="hs-identifier hs-var">checkX86</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955864"><span class="hs-identifier hs-var">vecWidth</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682955858"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955859"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955860"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-2589"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955865"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Arch -&gt; Arch -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier hs-var">ArchAArch64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Width -&gt; FCode ()
</span><a href="#local-6989586621682955867"><span class="hs-identifier hs-var">checkAArch64</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955864"><span class="hs-identifier hs-var">vecWidth</span></a></span><span>
</span><span id="line-2590"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#sorry"><span class="hs-identifier hs-var">sorry</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SIMD vector instructions are not supported on this architecture.&quot;</span></span><span>
</span><span id="line-2591"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621682955869"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682955869"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#sorry"><span class="hs-identifier hs-var">sorry</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621682955869"><span class="hs-identifier hs-var">err</span></a></span><span>  </span><span class="hs-comment">-- incompatible backend, do panic</span><span>
</span><span id="line-2592"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2593"></span><span>    </span><span id="local-6989586621682955865"><span class="annot"><span class="annottext">platform :: Platform
</span><a href="#local-6989586621682955865"><span class="hs-identifier hs-var hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Platform
</span><a href="GHC.StgToCmm.Config.html#stgToCmmPlatform"><span class="hs-identifier hs-var">stgToCmmPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682955857"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-2594"></span><span>    </span><span id="local-6989586621682955862"><span class="annot"><span class="annottext">isX86 :: Bool
</span><a href="#local-6989586621682955862"><span class="hs-identifier hs-var hs-var">isX86</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Arch
</span><a href="GHC.Platform.html#platformArch"><span class="hs-identifier hs-var">platformArch</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955865"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2595"></span><span>      </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier hs-var">ArchX86_64</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2596"></span><span>      </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier hs-var">ArchX86</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-2597"></span><span>      </span><span class="annot"><span class="annottext">Arch
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-2598"></span><span>    </span><span class="annot"><a href="#local-6989586621682955863"><span class="hs-identifier hs-type">checkX86</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#PrimOpVecCat"><span class="hs-identifier hs-type">PrimOpVecCat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Length"><span class="hs-identifier hs-type">Length</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2599"></span><span>    </span><span id="local-6989586621682955863"><span class="annot"><span class="annottext">checkX86 :: Width -&gt; PrimOpVecCat -&gt; Int -&gt; Width -&gt; FCode ()
</span><a href="#local-6989586621682955863"><span class="hs-identifier hs-var hs-var">checkX86</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W128"><span class="hs-identifier hs-var">W128</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#FloatVec"><span class="hs-identifier hs-var">FloatVec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Bool
</span><a href="GHC.Platform.html#isSseEnabled"><span class="hs-identifier hs-var">isSseEnabled</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955865"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; FCode ()
forall a. a -&gt; FCode a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2600"></span><span>                                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2601"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#sorry"><span class="hs-identifier hs-var">sorry</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; FCode ()) -&gt; String -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;128-bit wide single-precision floating point &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-2602"></span><span>                </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SIMD vector instructions require at least -msse.&quot;</span></span><span>
</span><span id="line-2603"></span><span>    </span><span class="annot"><a href="#local-6989586621682955863"><span class="hs-identifier hs-var">checkX86</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W128"><span class="hs-identifier hs-var">W128</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Bool
</span><a href="GHC.Platform.html#isSse2Enabled"><span class="hs-identifier hs-var">isSse2Enabled</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955865"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2604"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#sorry"><span class="hs-identifier hs-var">sorry</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; FCode ()) -&gt; String -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;128-bit wide integer and double precision &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-2605"></span><span>                </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SIMD vector instructions require at least -msse2.&quot;</span></span><span>
</span><span id="line-2606"></span><span>    </span><span class="annot"><a href="#local-6989586621682955863"><span class="hs-identifier hs-var">checkX86</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W256"><span class="hs-identifier hs-var">W256</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="GHC.Builtin.PrimOps.html#FloatVec"><span class="hs-identifier hs-var">FloatVec</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAvx"><span class="hs-identifier hs-var">stgToCmmAvx</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682955857"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; FCode ()
forall a. a -&gt; FCode a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2607"></span><span>                               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2608"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#sorry"><span class="hs-identifier hs-var">sorry</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; FCode ()) -&gt; String -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;256-bit wide floating point &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-2609"></span><span>                </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SIMD vector instructions require at least -mavx.&quot;</span></span><span>
</span><span id="line-2610"></span><span>    </span><span class="annot"><a href="#local-6989586621682955863"><span class="hs-identifier hs-var">checkX86</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W256"><span class="hs-identifier hs-var">W256</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAvx2"><span class="hs-identifier hs-var">stgToCmmAvx2</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682955857"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2611"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#sorry"><span class="hs-identifier hs-var">sorry</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; FCode ()) -&gt; String -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;256-bit wide integer &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-2612"></span><span>                </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SIMD vector instructions require at least -mavx2.&quot;</span></span><span>
</span><span id="line-2613"></span><span>    </span><span class="annot"><a href="#local-6989586621682955863"><span class="hs-identifier hs-var">checkX86</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W512"><span class="hs-identifier hs-var">W512</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmAvx512f"><span class="hs-identifier hs-var">stgToCmmAvx512f</span></a></span><span> </span><span class="annot"><span class="annottext">StgToCmmConfig
</span><a href="#local-6989586621682955857"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2614"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#sorry"><span class="hs-identifier hs-var">sorry</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; FCode ()) -&gt; String -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;512-bit wide &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>
</span><span id="line-2615"></span><span>                </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SIMD vector instructions require -mavx512f.&quot;</span></span><span>
</span><span id="line-2616"></span><span>    </span><span class="annot"><a href="#local-6989586621682955863"><span class="hs-identifier hs-var">checkX86</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; FCode ()
forall a. a -&gt; FCode a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2617"></span><span>
</span><span id="line-2618"></span><span>    </span><span class="annot"><a href="#local-6989586621682955867"><span class="hs-identifier hs-type">checkAArch64</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2619"></span><span>    </span><span id="local-6989586621682955867"><span class="annot"><span class="annottext">checkAArch64 :: Width -&gt; FCode ()
</span><a href="#local-6989586621682955867"><span class="hs-identifier hs-var hs-var">checkAArch64</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W256"><span class="hs-identifier hs-var">W256</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#sorry"><span class="hs-identifier hs-var">sorry</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; FCode ()) -&gt; String -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;256-bit wide SIMD vector instructions are not supported.&quot;</span></span><span>
</span><span id="line-2620"></span><span>    </span><span class="annot"><a href="#local-6989586621682955867"><span class="hs-identifier hs-var">checkAArch64</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W512"><span class="hs-identifier hs-var">W512</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#sorry"><span class="hs-identifier hs-var">sorry</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; FCode ()) -&gt; String -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;512-bit wide SIMD vector instructions are not supported.&quot;</span></span><span>
</span><span id="line-2621"></span><span>    </span><span class="annot"><a href="#local-6989586621682955867"><span class="hs-identifier hs-var">checkAArch64</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; FCode ()
forall a. a -&gt; FCode a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2622"></span><span>
</span><span id="line-2623"></span><span>    </span><span id="local-6989586621682955864"><span class="annot"><span class="annottext">vecWidth :: Width
</span><a href="#local-6989586621682955864"><span class="hs-identifier hs-var hs-var">vecWidth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PrimOpVecCat -&gt; Int -&gt; Width -&gt; CmmType
</span><a href="GHC.StgToCmm.Prim.html#vecCmmType"><span class="hs-identifier hs-var">vecCmmType</span></a></span><span> </span><span class="annot"><span class="annottext">PrimOpVecCat
</span><a href="#local-6989586621682955858"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955859"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955860"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2624"></span><span>
</span><span id="line-2625"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2626"></span><span class="hs-comment">-- Helpers for translating vector packing and unpacking.</span><span>
</span><span id="line-2627"></span><span>
</span><span id="line-2628"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doVecBroadcastOp"><span class="hs-identifier hs-type">doVecBroadcastOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>       </span><span class="hs-comment">-- Type of vector</span><span>
</span><span id="line-2629"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>       </span><span class="hs-comment">-- Element</span><span>
</span><span id="line-2630"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span>     </span><span class="hs-comment">-- Destination for result</span><span>
</span><span id="line-2631"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2632"></span><span id="doVecBroadcastOp"><span class="annot"><span class="annottext">doVecBroadcastOp :: CmmType -&gt; CmmExpr -&gt; LocalReg -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doVecBroadcastOp"><span class="hs-identifier hs-var hs-var">doVecBroadcastOp</span></a></span></span><span> </span><span id="local-6989586621682955880"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955880"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682955881"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955881"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682955882"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955882"><span class="hs-identifier hs-var">dst</span></a></span></span><span>
</span><span id="line-2633"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Bool
</span><a href="GHC.Cmm.Type.html#isFloatType"><span class="hs-identifier hs-var">isFloatType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#vecElemType"><span class="hs-identifier hs-var">vecElemType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955880"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2634"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955882"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VF_Broadcast"><span class="hs-identifier hs-var">MO_VF_Broadcast</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955886"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955887"><span class="hs-identifier hs-var">wid</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955881"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2635"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-2636"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955882"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_V_Broadcast"><span class="hs-identifier hs-var">MO_V_Broadcast</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955886"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955887"><span class="hs-identifier hs-var">wid</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955881"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2637"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2638"></span><span>    </span><span class="annot"><a href="#local-6989586621682955886"><span class="hs-identifier hs-type">len</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Length"><span class="hs-identifier hs-type">Length</span></a></span><span>
</span><span id="line-2639"></span><span>    </span><span id="local-6989586621682955886"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621682955886"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Int
</span><a href="GHC.Cmm.Type.html#vecLength"><span class="hs-identifier hs-var">vecLength</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955880"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2640"></span><span>    </span><span class="annot"><a href="#local-6989586621682955887"><span class="hs-identifier hs-type">wid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span>
</span><span id="line-2641"></span><span>    </span><span id="local-6989586621682955887"><span class="annot"><span class="annottext">wid :: Width
</span><a href="#local-6989586621682955887"><span class="hs-identifier hs-var hs-var">wid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#vecElemType"><span class="hs-identifier hs-var">vecElemType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955880"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2642"></span><span>
</span><span id="line-2643"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doVecPackOp"><span class="hs-identifier hs-type">doVecPackOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>       </span><span class="hs-comment">-- Type of vector</span><span>
</span><span id="line-2644"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>     </span><span class="hs-comment">-- Elements</span><span>
</span><span id="line-2645"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span>     </span><span class="hs-comment">-- Destination for result</span><span>
</span><span id="line-2646"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2647"></span><span id="doVecPackOp"><span class="annot"><span class="annottext">doVecPackOp :: CmmType -&gt; [CmmExpr] -&gt; LocalReg -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doVecPackOp"><span class="hs-identifier hs-var hs-var">doVecPackOp</span></a></span></span><span> </span><span id="local-6989586621682955890"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955890"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682955891"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955891"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span id="local-6989586621682955892"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955892"><span class="hs-identifier hs-var">dst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2648"></span><span>  </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955892"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmLit -&gt; CmmExpr) -&gt; CmmLit -&gt; CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[CmmLit] -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmVec"><span class="hs-identifier hs-var">CmmVec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CmmLit -&gt; [CmmLit]
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955895"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">CmmLit
</span><a href="#local-6989586621682955896"><span class="hs-identifier hs-var">zero</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2649"></span><span>  </span><span class="annot"><span class="annottext">(CmmExpr -&gt; Int -&gt; FCode ()) -&gt; [CmmExpr] -&gt; [Int] -&gt; FCode ()
forall (m :: * -&gt; *) a b c.
Applicative m =&gt;
(a -&gt; b -&gt; m c) -&gt; [a] -&gt; [b] -&gt; m ()
</span><span class="hs-identifier hs-var">zipWithM_</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="#local-6989586621682955897"><span class="hs-identifier hs-var">vecPack</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955891"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span>
</span><span id="line-2650"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2651"></span><span>    </span><span class="hs-comment">-- SIMD NCG TODO: it should be possible to emit better code</span><span>
</span><span id="line-2652"></span><span>    </span><span class="hs-comment">-- for &quot;pack&quot; than doing a bunch of vector insertions in a row.</span><span>
</span><span id="line-2653"></span><span>    </span><span class="annot"><a href="#local-6989586621682955897"><span class="hs-identifier hs-type">vecPack</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2654"></span><span>    </span><span id="local-6989586621682955897"><span class="annot"><span class="annottext">vecPack :: CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="#local-6989586621682955897"><span class="hs-identifier hs-var hs-var">vecPack</span></a></span></span><span> </span><span id="local-6989586621682955898"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955898"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682955899"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955899"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-2655"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Bool
</span><a href="GHC.Cmm.Type.html#isFloatType"><span class="hs-identifier hs-var">isFloatType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#vecElemType"><span class="hs-identifier hs-var">vecElemType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955890"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2656"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955892"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VF_Insert"><span class="hs-identifier hs-var">MO_VF_Insert</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955895"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955901"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2657"></span><span>                                             </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-var">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955892"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955898"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955902"><span class="hs-identifier hs-var">iLit</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2658"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-2659"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955892"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_V_Insert"><span class="hs-identifier hs-var">MO_V_Insert</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955895"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955901"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2660"></span><span>                                             </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-var">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955892"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955898"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955902"><span class="hs-identifier hs-var">iLit</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2661"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-2662"></span><span>        </span><span class="hs-comment">-- vector indices are always 32-bits</span><span>
</span><span id="line-2663"></span><span>        </span><span id="local-6989586621682955902"><span class="annot"><span class="annottext">iLit :: CmmExpr
</span><a href="#local-6989586621682955902"><span class="hs-identifier hs-var hs-var">iLit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-var">CmmInt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955899"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2664"></span><span>
</span><span id="line-2665"></span><span>    </span><span class="annot"><a href="#local-6989586621682955895"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Length"><span class="hs-identifier hs-type">Length</span></a></span><span>
</span><span id="line-2666"></span><span>    </span><span id="local-6989586621682955895"><span class="annot"><span class="annottext">l :: Int
</span><a href="#local-6989586621682955895"><span class="hs-identifier hs-var hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Int
</span><a href="GHC.Cmm.Type.html#vecLength"><span class="hs-identifier hs-var">vecLength</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955890"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2667"></span><span>    </span><span class="annot"><a href="#local-6989586621682955901"><span class="hs-identifier hs-type">w</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span>
</span><span id="line-2668"></span><span>    </span><span id="local-6989586621682955901"><span class="annot"><span class="annottext">w :: Width
</span><a href="#local-6989586621682955901"><span class="hs-identifier hs-var hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#vecElemType"><span class="hs-identifier hs-var">vecElemType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955890"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2669"></span><span>
</span><span id="line-2670"></span><span>    </span><span class="annot"><a href="#local-6989586621682955896"><span class="hs-identifier hs-type">zero</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span>
</span><span id="line-2671"></span><span>    </span><span id="local-6989586621682955896"><span class="annot"><span class="annottext">zero :: CmmLit
</span><a href="#local-6989586621682955896"><span class="hs-identifier hs-var hs-var">zero</span></a></span></span><span>
</span><span id="line-2672"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Bool
</span><a href="GHC.Cmm.Type.html#isFloatType"><span class="hs-identifier hs-var">isFloatType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#vecElemType"><span class="hs-identifier hs-var">vecElemType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955890"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2673"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmFloat"><span class="hs-identifier hs-var">CmmFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955901"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-2674"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-2675"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-var">CmmInt</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955901"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-2676"></span><span>
</span><span id="line-2677"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doVecUnpackOp"><span class="hs-identifier hs-type">doVecUnpackOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>       </span><span class="hs-comment">-- Type of vector</span><span>
</span><span id="line-2678"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>       </span><span class="hs-comment">-- Vector</span><span>
</span><span id="line-2679"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span class="hs-special">]</span><span>   </span><span class="hs-comment">-- Element results</span><span>
</span><span id="line-2680"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2681"></span><span id="doVecUnpackOp"><span class="annot"><span class="annottext">doVecUnpackOp :: CmmType -&gt; CmmExpr -&gt; [LocalReg] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doVecUnpackOp"><span class="hs-identifier hs-var hs-var">doVecUnpackOp</span></a></span></span><span> </span><span id="local-6989586621682955905"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955905"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682955906"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955906"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682955907"><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682955907"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(LocalReg -&gt; Int -&gt; FCode ()) -&gt; [LocalReg] -&gt; [Int] -&gt; FCode ()
forall (m :: * -&gt; *) a b c.
Applicative m =&gt;
(a -&gt; b -&gt; m c) -&gt; [a] -&gt; [b] -&gt; m ()
</span><span class="hs-identifier hs-var">zipWithM_</span></span><span> </span><span class="annot"><span class="annottext">LocalReg -&gt; Int -&gt; FCode ()
</span><a href="#local-6989586621682955908"><span class="hs-identifier hs-var">vecUnpack</span></a></span><span> </span><span class="annot"><span class="annottext">[LocalReg]
</span><a href="#local-6989586621682955907"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span>
</span><span id="line-2682"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2683"></span><span>    </span><span class="annot"><a href="#local-6989586621682955908"><span class="hs-identifier hs-type">vecUnpack</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2684"></span><span>    </span><span id="local-6989586621682955908"><span class="annot"><span class="annottext">vecUnpack :: LocalReg -&gt; Int -&gt; FCode ()
</span><a href="#local-6989586621682955908"><span class="hs-identifier hs-var hs-var">vecUnpack</span></a></span></span><span> </span><span id="local-6989586621682955909"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955909"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621682955910"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955910"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-2685"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Bool
</span><a href="GHC.Cmm.Type.html#isFloatType"><span class="hs-identifier hs-var">isFloatType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#vecElemType"><span class="hs-identifier hs-var">vecElemType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955905"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2686"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955909"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VF_Extract"><span class="hs-identifier hs-var">MO_VF_Extract</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955912"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955913"><span class="hs-identifier hs-var">wid</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955906"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955914"><span class="hs-identifier hs-var">iLit</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2687"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-2688"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955909"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_V_Extract"><span class="hs-identifier hs-var">MO_V_Extract</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955912"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955913"><span class="hs-identifier hs-var">wid</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955906"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955914"><span class="hs-identifier hs-var">iLit</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2689"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-2690"></span><span>        </span><span class="hs-comment">-- vector indices are always 32-bits</span><span>
</span><span id="line-2691"></span><span>        </span><span id="local-6989586621682955914"><span class="annot"><span class="annottext">iLit :: CmmExpr
</span><a href="#local-6989586621682955914"><span class="hs-identifier hs-var hs-var">iLit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmLit -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-var">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Width -&gt; CmmLit
</span><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-var">CmmInt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955910"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2692"></span><span>
</span><span id="line-2693"></span><span>    </span><span class="annot"><a href="#local-6989586621682955912"><span class="hs-identifier hs-type">len</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Length"><span class="hs-identifier hs-type">Length</span></a></span><span>
</span><span id="line-2694"></span><span>    </span><span id="local-6989586621682955912"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621682955912"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Int
</span><a href="GHC.Cmm.Type.html#vecLength"><span class="hs-identifier hs-var">vecLength</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955905"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2695"></span><span>
</span><span id="line-2696"></span><span>    </span><span class="annot"><a href="#local-6989586621682955913"><span class="hs-identifier hs-type">wid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span>
</span><span id="line-2697"></span><span>    </span><span id="local-6989586621682955913"><span class="annot"><span class="annottext">wid :: Width
</span><a href="#local-6989586621682955913"><span class="hs-identifier hs-var hs-var">wid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#vecElemType"><span class="hs-identifier hs-var">vecElemType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955905"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2698"></span><span>
</span><span id="line-2699"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doVecInsertOp"><span class="hs-identifier hs-type">doVecInsertOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>       </span><span class="hs-comment">-- Vector type</span><span>
</span><span id="line-2700"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>       </span><span class="hs-comment">-- Source vector</span><span>
</span><span id="line-2701"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>       </span><span class="hs-comment">-- Element</span><span>
</span><span id="line-2702"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>       </span><span class="hs-comment">-- Index at which to insert element</span><span>
</span><span id="line-2703"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span>     </span><span class="hs-comment">-- Destination for result</span><span>
</span><span id="line-2704"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2705"></span><span id="doVecInsertOp"><span class="annot"><span class="annottext">doVecInsertOp :: CmmType -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; LocalReg -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doVecInsertOp"><span class="hs-identifier hs-var hs-var">doVecInsertOp</span></a></span></span><span> </span><span id="local-6989586621682955916"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955916"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682955917"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955917"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span id="local-6989586621682955918"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955918"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682955919"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955919"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621682955920"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955920"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2706"></span><span>    </span><span id="local-6989586621682955921"><span class="annot"><a href="#local-6989586621682955921"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2707"></span><span>    </span><span class="hs-comment">-- vector indices are always 32-bits</span><span>
</span><span id="line-2708"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621682955922"><span class="hs-identifier hs-type">idx'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2709"></span><span>        </span><span id="local-6989586621682955922"><span class="annot"><a href="#local-6989586621682955922"><span class="hs-identifier hs-var hs-var">idx'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_SS_Conv"><span class="hs-identifier hs-var">MO_SS_Conv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Width
</span><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-var">wordWidth</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955921"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955919"><span class="hs-identifier hs-var">idx</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2710"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#isFloatType"><span class="hs-identifier hs-type">isFloatType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#vecElemType"><span class="hs-identifier hs-type">vecElemType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955916"><span class="hs-identifier hs-type">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2711"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-type">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955920"><span class="hs-identifier hs-type">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_VF_Insert"><span class="hs-identifier hs-type">MO_VF_Insert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955923"><span class="hs-identifier hs-type">len</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955924"><span class="hs-identifier hs-type">wid</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955917"><span class="hs-identifier hs-type">src</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682955918"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682955922"><span class="hs-identifier hs-type">idx'</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2712"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-type">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955920"><span class="hs-identifier hs-type">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_V_Insert"><span class="hs-identifier hs-type">MO_V_Insert</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955923"><span class="hs-identifier hs-type">len</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955924"><span class="hs-identifier hs-type">wid</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682955917"><span class="hs-identifier hs-type">src</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682955918"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682955922"><span class="hs-identifier hs-type">idx'</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2713"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2714"></span><span>
</span><span id="line-2715"></span><span>    </span><span class="annot"><a href="#local-6989586621682955923"><span class="hs-identifier hs-type">len</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Length"><span class="hs-identifier hs-type">Length</span></a></span><span>
</span><span id="line-2716"></span><span>    </span><span id="local-6989586621682955923"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621682955923"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Int
</span><a href="GHC.Cmm.Type.html#vecLength"><span class="hs-identifier hs-var">vecLength</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955916"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2717"></span><span>
</span><span id="line-2718"></span><span>    </span><span class="annot"><a href="#local-6989586621682955924"><span class="hs-identifier hs-type">wid</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span>
</span><span id="line-2719"></span><span>    </span><span id="local-6989586621682955924"><span class="annot"><span class="annottext">wid :: Width
</span><a href="#local-6989586621682955924"><span class="hs-identifier hs-var hs-var">wid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#vecElemType"><span class="hs-identifier hs-var">vecElemType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955916"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2720"></span><span>
</span><span id="line-2721"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2722"></span><span class="hs-comment">-- Shuffles</span><span>
</span><span id="line-2723"></span><span>
</span><span id="line-2724"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doShuffleOp"><span class="hs-identifier hs-type">doShuffleOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2725"></span><span id="doShuffleOp"><span class="annot"><span class="annottext">doShuffleOp :: CmmType -&gt; [CmmExpr] -&gt; LocalReg -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doShuffleOp"><span class="hs-identifier hs-var hs-var">doShuffleOp</span></a></span></span><span> </span><span id="local-6989586621682955925"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955925"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621682955926"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955926"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621682955927"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955927"><span class="hs-identifier hs-var">v2</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621682955928"><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955928"><span class="hs-identifier hs-var">idxs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621682955929"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955929"><span class="hs-identifier hs-var">res</span></a></span></span><span>
</span><span id="line-2726"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Bool
</span><a href="GHC.Cmm.Type.html#isVecType"><span class="hs-identifier hs-var">isVecType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955925"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2727"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; Maybe Int) -&gt; [CmmExpr] -&gt; [Int]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; Maybe Int
</span><a href="#local-6989586621682955932"><span class="hs-identifier hs-var">idx_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><a href="#local-6989586621682955928"><span class="hs-identifier hs-var">idxs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-2728"></span><span>      </span><span id="local-6989586621682955933"><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621682955933"><span class="hs-identifier hs-var">is</span></a></span></span><span>
</span><span id="line-2729"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621682955933"><span class="hs-identifier hs-var">is</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955935"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-2730"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Monad.html#emitAssign"><span class="hs-identifier hs-var">emitAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955929"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MachOp -&gt; [CmmExpr] -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-var">CmmMachOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Int] -&gt; MachOp
</span><a href="#local-6989586621682955936"><span class="hs-identifier hs-var">mo</span></a></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621682955933"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955926"><span class="hs-identifier hs-var">v1</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955927"><span class="hs-identifier hs-var">v2</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-2731"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-2732"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;doShuffleOp&quot;</span></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; FCode ()) -&gt; SDoc -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-2733"></span><span>             </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;shuffle indices must be literals, 0 &lt;= i &lt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955935"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-2734"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-2735"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; SDoc -&gt; a
</span><a href="GHC.Utils.Panic.html#pprPanic"><span class="hs-identifier hs-var">pprPanic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;doShuffleOp&quot;</span></span><span> </span><span class="annot"><span class="annottext">(SDoc -&gt; FCode ()) -&gt; SDoc -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-2736"></span><span>        </span><span class="annot"><span class="annottext">[SDoc] -&gt; SDoc
forall doc. IsDoc doc =&gt; [doc] -&gt; doc
</span><a href="GHC.Utils.Outputable.html#vcat"><span class="hs-identifier hs-var">vcat</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; SDoc
forall doc. IsLine doc =&gt; String -&gt; doc
</span><a href="GHC.Utils.Outputable.html#text"><span class="hs-identifier hs-var">text</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;non-vector argument type:&quot;</span></span><span> </span><span class="annot"><span class="annottext">SDoc -&gt; SDoc -&gt; SDoc
forall doc. IsLine doc =&gt; doc -&gt; doc -&gt; doc
</span><a href="GHC.Utils.Outputable.html#%3C%2B%3E"><span class="hs-operator hs-var">&lt;+&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; SDoc
forall a. Outputable a =&gt; a -&gt; SDoc
</span><a href="GHC.Utils.Outputable.html#ppr"><span class="hs-identifier hs-var">ppr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955925"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-2737"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2738"></span><span>    </span><span id="local-6989586621682955935"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621682955935"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Int
</span><a href="GHC.Cmm.Type.html#vecLength"><span class="hs-identifier hs-var">vecLength</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955925"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2739"></span><span>    </span><span id="local-6989586621682955940"><span class="annot"><span class="annottext">wid :: Width
</span><a href="#local-6989586621682955940"><span class="hs-identifier hs-var hs-var">wid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">(CmmType -&gt; Width) -&gt; CmmType -&gt; Width
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#vecElemType"><span class="hs-identifier hs-var">vecElemType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955925"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-2740"></span><span>    </span><span id="local-6989586621682955936"><span class="annot"><span class="annottext">mo :: [Int] -&gt; MachOp
</span><a href="#local-6989586621682955936"><span class="hs-identifier hs-var hs-var">mo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Bool
</span><a href="GHC.Cmm.Type.html#isFloatType"><span class="hs-identifier hs-var">isFloatType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; CmmType
</span><a href="GHC.Cmm.Type.html#vecElemType"><span class="hs-identifier hs-var">vecElemType</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682955925"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2741"></span><span>         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; [Int] -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_VF_Shuffle"><span class="hs-identifier hs-var">MO_VF_Shuffle</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955935"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955940"><span class="hs-identifier hs-var">wid</span></a></span><span>
</span><span id="line-2742"></span><span>         </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Width -&gt; [Int] -&gt; MachOp
</span><a href="GHC.Cmm.MachOp.html#MO_V_Shuffle"><span class="hs-identifier hs-var">MO_V_Shuffle</span></a></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955935"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682955940"><span class="hs-identifier hs-var">wid</span></a></span><span>
</span><span id="line-2743"></span><span>    </span><span id="local-6989586621682955932"><span class="annot"><span class="annottext">idx_maybe :: CmmExpr -&gt; Maybe Int
</span><a href="#local-6989586621682955932"><span class="hs-identifier hs-var hs-var">idx_maybe</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span id="local-6989586621682955943"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682955943"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">Width
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2744"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621682955944"><span class="hs-identifier hs-type">j</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">;</span><span> </span><span id="local-6989586621682955944"><span class="annot"><span class="annottext">j :: Int
</span><a href="#local-6989586621682955944"><span class="hs-identifier hs-var hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621682955943"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-2745"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955944"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955944"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955935"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-2746"></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955944"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-2747"></span><span>    </span><span class="annot"><a href="#local-6989586621682955932"><span class="hs-identifier hs-var">idx_maybe</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-2748"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doShuffleOp"><span class="hs-identifier hs-var">doShuffleOp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2749"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;doShuffleOp: wrong number of arguments&quot;</span></span><span>
</span><span id="line-2750"></span><span>
</span><span id="line-2751"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-2752"></span><span class="hs-comment">-- Helpers for translating prefetching.</span><span>
</span><span id="line-2753"></span><span>
</span><span id="line-2754"></span><span>
</span><span id="line-2755"></span><span class="annot"><span class="hs-comment">-- | Translate byte array prefetch operations into proper primcalls.</span></span><span>
</span><span id="line-2756"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doPrefetchByteArrayOp"><span class="hs-identifier hs-type">doPrefetchByteArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-2757"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2758"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2759"></span><span id="doPrefetchByteArrayOp"><span class="annot"><span class="annottext">doPrefetchByteArrayOp :: Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchByteArrayOp"><span class="hs-identifier hs-var hs-var">doPrefetchByteArrayOp</span></a></span></span><span> </span><span id="local-6989586621682955947"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955947"><span class="hs-identifier hs-var">locality</span></a></span></span><span>  </span><span class="hs-special">[</span><span id="local-6989586621682955948"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955948"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682955949"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955949"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2760"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955950"><span class="annot"><a href="#local-6989586621682955950"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-2761"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#mkBasicPrefetch"><span class="hs-identifier hs-type">mkBasicPrefetch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955947"><span class="hs-identifier hs-type">locality</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-type">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955950"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><a href="#local-6989586621682955948"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955949"><span class="hs-identifier hs-type">idx</span></a></span><span>
</span><span id="line-2762"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doPrefetchByteArrayOp"><span class="hs-identifier hs-var">doPrefetchByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2763"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC.StgToCmm.Prim: doPrefetchByteArrayOp&quot;</span></span><span>
</span><span id="line-2764"></span><span>
</span><span id="line-2765"></span><span class="annot"><span class="hs-comment">-- | Translate mutable byte array prefetch operations into proper primcalls.</span></span><span>
</span><span id="line-2766"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doPrefetchMutableByteArrayOp"><span class="hs-identifier hs-type">doPrefetchMutableByteArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-2767"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2768"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2769"></span><span id="doPrefetchMutableByteArrayOp"><span class="annot"><span class="annottext">doPrefetchMutableByteArrayOp :: Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchMutableByteArrayOp"><span class="hs-identifier hs-var hs-var">doPrefetchMutableByteArrayOp</span></a></span></span><span> </span><span id="local-6989586621682955952"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955952"><span class="hs-identifier hs-var">locality</span></a></span></span><span>  </span><span class="hs-special">[</span><span id="local-6989586621682955953"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955953"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682955954"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955954"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2770"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955955"><span class="annot"><a href="#local-6989586621682955955"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-2771"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#mkBasicPrefetch"><span class="hs-identifier hs-type">mkBasicPrefetch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955952"><span class="hs-identifier hs-type">locality</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-type">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955955"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><a href="#local-6989586621682955953"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955954"><span class="hs-identifier hs-type">idx</span></a></span><span>
</span><span id="line-2772"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doPrefetchMutableByteArrayOp"><span class="hs-identifier hs-var">doPrefetchMutableByteArrayOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2773"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC.StgToCmm.Prim: doPrefetchByteArrayOp&quot;</span></span><span>
</span><span id="line-2774"></span><span>
</span><span id="line-2775"></span><span class="annot"><span class="hs-comment">-- | Translate address prefetch operations into proper primcalls.</span></span><span>
</span><span id="line-2776"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doPrefetchAddrOp"><span class="hs-identifier hs-type">doPrefetchAddrOp</span></a></span><span> </span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-2777"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2778"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2779"></span><span id="doPrefetchAddrOp"><span class="annot"><span class="annottext">doPrefetchAddrOp :: Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchAddrOp"><span class="hs-identifier hs-var hs-var">doPrefetchAddrOp</span></a></span></span><span> </span><span id="local-6989586621682955956"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955956"><span class="hs-identifier hs-var">locality</span></a></span></span><span>   </span><span class="hs-special">[</span><span id="local-6989586621682955957"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955957"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621682955958"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955958"><span class="hs-identifier hs-var">idx</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2780"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#mkBasicPrefetch"><span class="hs-identifier hs-var">mkBasicPrefetch</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955956"><span class="hs-identifier hs-var">locality</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>  </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955957"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955958"><span class="hs-identifier hs-var">idx</span></a></span><span>
</span><span id="line-2781"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doPrefetchAddrOp"><span class="hs-identifier hs-var">doPrefetchAddrOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2782"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC.StgToCmm.Prim: doPrefetchAddrOp&quot;</span></span><span>
</span><span id="line-2783"></span><span>
</span><span id="line-2784"></span><span class="annot"><span class="hs-comment">-- | Translate value prefetch operations into proper primcalls.</span></span><span>
</span><span id="line-2785"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doPrefetchValueOp"><span class="hs-identifier hs-type">doPrefetchValueOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-2786"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2787"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2788"></span><span id="doPrefetchValueOp"><span class="annot"><span class="annottext">doPrefetchValueOp :: Int -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPrefetchValueOp"><span class="hs-identifier hs-var hs-var">doPrefetchValueOp</span></a></span></span><span>  </span><span id="local-6989586621682955959"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955959"><span class="hs-identifier hs-var">locality</span></a></span></span><span>   </span><span class="hs-special">[</span><span id="local-6989586621682955960"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955960"><span class="hs-identifier hs-var">addr</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-2789"></span><span>  </span><span class="hs-glyph">=</span><span>  </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955961"><span class="annot"><a href="#local-6989586621682955961"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2790"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#mkBasicPrefetch"><span class="hs-identifier hs-type">mkBasicPrefetch</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955959"><span class="hs-identifier hs-type">locality</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><a href="#local-6989586621682955960"><span class="hs-identifier hs-type">addr</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmInt"><span class="hs-identifier hs-type">CmmInt</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#wordWidth"><span class="hs-identifier hs-type">wordWidth</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955961"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2791"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doPrefetchValueOp"><span class="hs-identifier hs-var">doPrefetchValueOp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[CmmExpr]
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-2792"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; FCode ()
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="GHC.Utils.Panic.Plain.html#panic"><span class="hs-identifier hs-var">panic</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GHC.StgToCmm.Prim: doPrefetchValueOp&quot;</span></span><span>
</span><span id="line-2793"></span><span>
</span><span id="line-2794"></span><span class="annot"><span class="hs-comment">-- | helper to generate prefetch primcalls</span></span><span>
</span><span id="line-2795"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#mkBasicPrefetch"><span class="hs-identifier hs-type">mkBasicPrefetch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>          </span><span class="hs-comment">-- Locality level 0-3</span><span>
</span><span id="line-2796"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#ByteOff"><span class="hs-identifier hs-type">ByteOff</span></a></span><span>      </span><span class="hs-comment">-- Initial offset in bytes</span><span>
</span><span id="line-2797"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>      </span><span class="hs-comment">-- Base address</span><span>
</span><span id="line-2798"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>      </span><span class="hs-comment">-- Index</span><span>
</span><span id="line-2799"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2800"></span><span id="mkBasicPrefetch"><span class="annot"><span class="annottext">mkBasicPrefetch :: Int -&gt; Int -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#mkBasicPrefetch"><span class="hs-identifier hs-var hs-var">mkBasicPrefetch</span></a></span></span><span> </span><span id="local-6989586621682955962"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955962"><span class="hs-identifier hs-var">locality</span></a></span></span><span> </span><span id="local-6989586621682955963"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955963"><span class="hs-identifier hs-var">off</span></a></span></span><span> </span><span id="local-6989586621682955964"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955964"><span class="hs-identifier hs-var">base</span></a></span></span><span> </span><span id="local-6989586621682955965"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955965"><span class="hs-identifier hs-var">idx</span></a></span></span><span>
</span><span id="line-2801"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682955966"><span class="annot"><a href="#local-6989586621682955966"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2802"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-type">emitPrimCall</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Prefetch_Data"><span class="hs-identifier hs-type">MO_Prefetch_Data</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955962"><span class="hs-identifier hs-type">locality</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmIndexExpr"><span class="hs-identifier hs-type">cmmIndexExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955966"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-type">W8</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955966"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955964"><span class="hs-identifier hs-type">base</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955963"><span class="hs-identifier hs-type">off</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955965"><span class="hs-identifier hs-type">idx</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2803"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2804"></span><span>
</span><span id="line-2805"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-2806"></span><span class="hs-comment">-- Allocating byte arrays</span><span>
</span><span id="line-2807"></span><span>
</span><span id="line-2808"></span><span class="hs-comment">-- | Takes a register to return the newly allocated array in and the</span><span>
</span><span id="line-2809"></span><span class="hs-comment">-- size of the new array in bytes. Allocates a new</span><span>
</span><span id="line-2810"></span><span class="hs-comment">-- 'MutableByteArray#'.</span><span>
</span><span id="line-2811"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doNewByteArrayOp"><span class="hs-identifier hs-type">doNewByteArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#ByteOff"><span class="hs-identifier hs-type">ByteOff</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2812"></span><span id="doNewByteArrayOp"><span class="annot"><span class="annottext">doNewByteArrayOp :: LocalReg -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doNewByteArrayOp"><span class="hs-identifier hs-var hs-var">doNewByteArrayOp</span></a></span></span><span> </span><span id="local-6989586621682955968"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955968"><span class="hs-identifier hs-var">res_r</span></a></span></span><span> </span><span id="local-6989586621682955969"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955969"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2813"></span><span>    </span><span id="local-6989586621682955970"><span class="annot"><a href="#local-6989586621682955970"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-2814"></span><span>    </span><span id="local-6989586621682955971"><span class="annot"><a href="#local-6989586621682955971"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-2815"></span><span>
</span><span id="line-2816"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955972"><span class="annot"><a href="#local-6989586621682955972"><span class="hs-identifier hs-var hs-var">info_ptr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkLblExpr"><span class="hs-identifier hs-var">mkLblExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="GHC.Cmm.CLabel.html#mkArrWords_infoLabel"><span class="hs-identifier hs-var">mkArrWords_infoLabel</span></a></span><span>
</span><span id="line-2817"></span><span>        </span><span id="local-6989586621682955975"><span class="annot"><a href="#local-6989586621682955975"><span class="hs-identifier hs-var hs-var">rep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; SMRep
</span><a href="GHC.Runtime.Heap.Layout.html#arrWordsRep"><span class="hs-identifier hs-var">arrWordsRep</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682955971"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682955969"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-2818"></span><span>
</span><span id="line-2819"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Ticky.html#tickyAllocPrim"><span class="hs-identifier hs-type">tickyAllocPrim</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955971"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-type">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955970"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2820"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955971"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#nonHdrSize"><span class="hs-identifier hs-type">nonHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955971"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955975"><span class="hs-identifier hs-type">rep</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2821"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#zeroExpr"><span class="hs-identifier hs-type">zeroExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955971"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2822"></span><span>
</span><span id="line-2823"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682955980"><span class="annot"><a href="#local-6989586621682955980"><span class="hs-identifier hs-var hs-var">hdr_size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#fixedHdrSize"><span class="hs-identifier hs-var">fixedHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682955970"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-2824"></span><span>
</span><span id="line-2825"></span><span>    </span><span id="local-6989586621682955981"><span class="annot"><a href="#local-6989586621682955981"><span class="hs-identifier hs-var">base</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Heap.html#allocHeapClosure"><span class="hs-identifier hs-type">allocHeapClosure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955975"><span class="hs-identifier hs-type">rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955972"><span class="hs-identifier hs-type">info_ptr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cccsExpr"><span class="hs-identifier hs-type">cccsExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955971"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2826"></span><span>                     </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955971"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955969"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-2827"></span><span>                        </span><span class="annot"><a href="#local-6989586621682955980"><span class="hs-identifier hs-type">hdr_size</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">+</span></span><span> </span><span class="annot"><a href="GHC.Platform.Constants.html#pc_OFFSET_StgArrBytes_bytes"><span class="hs-identifier hs-var">pc_OFFSET_StgArrBytes_bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#platformConstants"><span class="hs-identifier hs-type">platformConstants</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955971"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2828"></span><span>                     </span><span class="hs-special">]</span><span>
</span><span id="line-2829"></span><span>
</span><span id="line-2830"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955968"><span class="hs-identifier hs-type">res_r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955981"><span class="hs-identifier hs-type">base</span></a></span><span>
</span><span id="line-2831"></span><span>
</span><span id="line-2832"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-2833"></span><span class="hs-comment">-- Comparing byte arrays</span><span>
</span><span id="line-2834"></span><span>
</span><span id="line-2835"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doCompareByteArraysOp"><span class="hs-identifier hs-type">doCompareByteArraysOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2836"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2837"></span><span id="doCompareByteArraysOp"><span class="annot"><span class="annottext">doCompareByteArraysOp :: LocalReg
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCompareByteArraysOp"><span class="hs-identifier hs-var hs-var">doCompareByteArraysOp</span></a></span></span><span> </span><span id="local-6989586621682955983"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682955983"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682955984"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955984"><span class="hs-identifier hs-var">ba1</span></a></span></span><span> </span><span id="local-6989586621682955985"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955985"><span class="hs-identifier hs-var">ba1_off</span></a></span></span><span> </span><span id="local-6989586621682955986"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955986"><span class="hs-identifier hs-var">ba2</span></a></span></span><span> </span><span id="local-6989586621682955987"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955987"><span class="hs-identifier hs-var">ba2_off</span></a></span></span><span> </span><span id="local-6989586621682955988"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682955988"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2838"></span><span>    </span><span id="local-6989586621682955989"><span class="annot"><a href="#local-6989586621682955989"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-2839"></span><span>    </span><span id="local-6989586621682955990"><span class="annot"><a href="#local-6989586621682955990"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-2840"></span><span>
</span><span id="line-2841"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#whenCheckBounds"><span class="hs-identifier hs-type">whenCheckBounds</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#ifNonZero"><span class="hs-identifier hs-type">ifNonZero</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955988"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2842"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitRangeBoundsCheck"><span class="hs-identifier hs-type">emitRangeBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955985"><span class="hs-identifier hs-type">ba1_off</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955988"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#byteArraySize"><span class="hs-identifier hs-type">byteArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955990"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955989"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955984"><span class="hs-identifier hs-type">ba1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2843"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitRangeBoundsCheck"><span class="hs-identifier hs-type">emitRangeBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955987"><span class="hs-identifier hs-type">ba2_off</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955988"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#byteArraySize"><span class="hs-identifier hs-type">byteArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955990"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955989"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955986"><span class="hs-identifier hs-type">ba2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2844"></span><span>
</span><span id="line-2845"></span><span>    </span><span id="local-6989586621682955994"><span class="annot"><a href="#local-6989586621682955994"><span class="hs-identifier hs-var">ba1_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExpr"><span class="hs-identifier hs-type">cmmOffsetExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955990"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955990"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955984"><span class="hs-identifier hs-type">ba1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-type">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955989"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955985"><span class="hs-identifier hs-type">ba1_off</span></a></span><span>
</span><span id="line-2846"></span><span>    </span><span id="local-6989586621682955996"><span class="annot"><a href="#local-6989586621682955996"><span class="hs-identifier hs-var">ba2_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExpr"><span class="hs-identifier hs-type">cmmOffsetExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955990"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955990"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955986"><span class="hs-identifier hs-type">ba2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-type">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955989"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682955987"><span class="hs-identifier hs-type">ba2_off</span></a></span><span>
</span><span id="line-2847"></span><span>
</span><span id="line-2848"></span><span>    </span><span class="hs-comment">-- short-cut in case of equal pointers avoiding a costly</span><span>
</span><span id="line-2849"></span><span>    </span><span class="hs-comment">-- subroutine call to the memcmp(3) routine; the Cmm logic below</span><span>
</span><span id="line-2850"></span><span>    </span><span class="hs-comment">-- results in assembly code being generated for</span><span>
</span><span id="line-2851"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-2852"></span><span>    </span><span class="hs-comment">--   cmpPrefix10 :: ByteArray# -&gt; ByteArray# -&gt; Int#</span><span>
</span><span id="line-2853"></span><span>    </span><span class="hs-comment">--   cmpPrefix10 ba1 ba2 = compareByteArrays# ba1 0# ba2 0# 10#</span><span>
</span><span id="line-2854"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-2855"></span><span>    </span><span class="hs-comment">-- that looks like</span><span>
</span><span id="line-2856"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-2857"></span><span>    </span><span class="hs-comment">--          leaq 16(%r14),%rax</span><span>
</span><span id="line-2858"></span><span>    </span><span class="hs-comment">--          leaq 16(%rsi),%rbx</span><span>
</span><span id="line-2859"></span><span>    </span><span class="hs-comment">--          xorl %ecx,%ecx</span><span>
</span><span id="line-2860"></span><span>    </span><span class="hs-comment">--          cmpq %rbx,%rax</span><span>
</span><span id="line-2861"></span><span>    </span><span class="hs-comment">--          je l_ptr_eq</span><span>
</span><span id="line-2862"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-2863"></span><span>    </span><span class="hs-comment">--          ; NB: the common case (unequal pointers) falls-through</span><span>
</span><span id="line-2864"></span><span>    </span><span class="hs-comment">--          ; the conditional jump, and therefore matches the</span><span>
</span><span id="line-2865"></span><span>    </span><span class="hs-comment">--          ; usual static branch prediction convention of modern cpus</span><span>
</span><span id="line-2866"></span><span>    </span><span class="hs-comment">--</span><span>
</span><span id="line-2867"></span><span>    </span><span class="hs-comment">--          subq $8,%rsp</span><span>
</span><span id="line-2868"></span><span>    </span><span class="hs-comment">--          movq %rbx,%rsi</span><span>
</span><span id="line-2869"></span><span>    </span><span class="hs-comment">--          movq %rax,%rdi</span><span>
</span><span id="line-2870"></span><span>    </span><span class="hs-comment">--          movl $10,%edx</span><span>
</span><span id="line-2871"></span><span>    </span><span class="hs-comment">--          xorl %eax,%eax</span><span>
</span><span id="line-2872"></span><span>    </span><span class="hs-comment">--          call memcmp</span><span>
</span><span id="line-2873"></span><span>    </span><span class="hs-comment">--          addq $8,%rsp</span><span>
</span><span id="line-2874"></span><span>    </span><span class="hs-comment">--          movslq %eax,%rax</span><span>
</span><span id="line-2875"></span><span>    </span><span class="hs-comment">--          movq %rax,%rcx</span><span>
</span><span id="line-2876"></span><span>    </span><span class="hs-comment">--  l_ptr_eq:</span><span>
</span><span id="line-2877"></span><span>    </span><span class="hs-comment">--          movq %rcx,%rbx</span><span>
</span><span id="line-2878"></span><span>    </span><span class="hs-comment">--          jmp *(%rbp)</span><span>
</span><span id="line-2879"></span><span>
</span><span id="line-2880"></span><span>    </span><span id="local-6989586621682955997"><span class="annot"><a href="#local-6989586621682955997"><span class="hs-identifier hs-var">l_ptr_eq</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Cmm.BlockId.html#newBlockId"><span class="hs-identifier hs-type">newBlockId</span></a></span><span>
</span><span id="line-2881"></span><span>    </span><span id="local-6989586621682955998"><span class="annot"><a href="#local-6989586621682955998"><span class="hs-identifier hs-var">l_ptr_ne</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Cmm.BlockId.html#newBlockId"><span class="hs-identifier hs-type">newBlockId</span></a></span><span>
</span><span id="line-2882"></span><span>
</span><span id="line-2883"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955983"><span class="hs-identifier hs-type">res</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#zeroExpr"><span class="hs-identifier hs-type">zeroExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955990"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2884"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Graph.html#mkCbranch"><span class="hs-identifier hs-type">mkCbranch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmEqWord"><span class="hs-identifier hs-type">cmmEqWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955990"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955994"><span class="hs-identifier hs-type">ba1_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955996"><span class="hs-identifier hs-type">ba2_p</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2885"></span><span>                    </span><span class="annot"><a href="#local-6989586621682955997"><span class="hs-identifier hs-type">l_ptr_eq</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955998"><span class="hs-identifier hs-type">l_ptr_ne</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2886"></span><span>
</span><span id="line-2887"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitLabel"><span class="hs-identifier hs-type">emitLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955998"><span class="hs-identifier hs-type">l_ptr_ne</span></a></span><span>
</span><span id="line-2888"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemcmpCall"><span class="hs-identifier hs-type">emitMemcmpCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955983"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955994"><span class="hs-identifier hs-type">ba1_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955996"><span class="hs-identifier hs-type">ba2_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955988"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-2889"></span><span>
</span><span id="line-2890"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emitLabel"><span class="hs-identifier hs-type">emitLabel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682955997"><span class="hs-identifier hs-type">l_ptr_eq</span></a></span><span>
</span><span id="line-2891"></span><span>
</span><span id="line-2892"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-2893"></span><span class="hs-comment">-- Copying byte arrays</span><span>
</span><span id="line-2894"></span><span>
</span><span id="line-2895"></span><span class="hs-comment">-- | Takes a source 'ByteArray#', an offset in the source array, a</span><span>
</span><span id="line-2896"></span><span class="hs-comment">-- destination 'MutableByteArray#', an offset into the destination</span><span>
</span><span id="line-2897"></span><span class="hs-comment">-- array, and the number of bytes to copy.  Copies the given number of</span><span>
</span><span id="line-2898"></span><span class="hs-comment">-- bytes from the source array to the destination array.</span><span>
</span><span id="line-2899"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doCopyByteArrayOp"><span class="hs-identifier hs-type">doCopyByteArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2900"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2901"></span><span id="doCopyByteArrayOp"><span class="annot"><span class="annottext">doCopyByteArrayOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyByteArrayOp"><span class="hs-identifier hs-var hs-var">doCopyByteArrayOp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CmmExpr
 -&gt; CmmExpr
 -&gt; CmmExpr
 -&gt; CmmExpr
 -&gt; CmmExpr
 -&gt; Alignment
 -&gt; FCode ())
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCopyByteArray"><span class="hs-identifier hs-var">emitCopyByteArray</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; Alignment
-&gt; FCode ()
forall {p} {p}.
p -&gt; p -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Alignment -&gt; FCode ()
</span><a href="#local-6989586621682956003"><span class="hs-identifier hs-var">copy</span></a></span><span>
</span><span id="line-2902"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2903"></span><span>    </span><span class="hs-comment">-- Copy data (we assume the arrays aren't overlapping since</span><span>
</span><span id="line-2904"></span><span>    </span><span class="hs-comment">-- they're of different types)</span><span>
</span><span id="line-2905"></span><span>    </span><span id="local-6989586621682956003"><span class="annot"><span class="annottext">copy :: p -&gt; p -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Alignment -&gt; FCode ()
</span><a href="#local-6989586621682956003"><span class="hs-identifier hs-var hs-var">copy</span></a></span></span><span> </span><span id="local-6989586621682956004"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621682956004"><span class="hs-identifier hs-var">_src</span></a></span></span><span> </span><span id="local-6989586621682956005"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621682956005"><span class="hs-identifier hs-var">_dst</span></a></span></span><span> </span><span id="local-6989586621682956006"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956006"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span id="local-6989586621682956007"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956007"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span id="local-6989586621682956008"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956008"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span id="local-6989586621682956009"><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956009"><span class="hs-identifier hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-2906"></span><span>        </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Alignment -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCheckedMemcpyCall"><span class="hs-identifier hs-var">emitCheckedMemcpyCall</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956006"><span class="hs-identifier hs-var">dst_p</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956007"><span class="hs-identifier hs-var">src_p</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956008"><span class="hs-identifier hs-var">bytes</span></a></span><span> </span><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956009"><span class="hs-identifier hs-var">align</span></a></span><span>
</span><span id="line-2907"></span><span>
</span><span id="line-2908"></span><span class="hs-comment">-- | Takes a source 'MutableByteArray#', an offset in the source</span><span>
</span><span id="line-2909"></span><span class="hs-comment">-- array, a destination 'MutableByteArray#', an offset into the</span><span>
</span><span id="line-2910"></span><span class="hs-comment">-- destination array, and the number of bytes to copy.  Copies the</span><span>
</span><span id="line-2911"></span><span class="hs-comment">-- given number of bytes from the source array to the destination</span><span>
</span><span id="line-2912"></span><span class="hs-comment">-- array.</span><span>
</span><span id="line-2913"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doCopyMutableByteArrayOp"><span class="hs-identifier hs-type">doCopyMutableByteArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2914"></span><span>                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2915"></span><span id="doCopyMutableByteArrayOp"><span class="annot"><span class="annottext">doCopyMutableByteArrayOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyMutableByteArrayOp"><span class="hs-identifier hs-var hs-var">doCopyMutableByteArrayOp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CmmExpr
 -&gt; CmmExpr
 -&gt; CmmExpr
 -&gt; CmmExpr
 -&gt; CmmExpr
 -&gt; Alignment
 -&gt; FCode ())
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCopyByteArray"><span class="hs-identifier hs-var">emitCopyByteArray</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; Alignment
-&gt; FCode ()
</span><a href="#local-6989586621682956011"><span class="hs-identifier hs-var">copy</span></a></span><span>
</span><span id="line-2916"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2917"></span><span>    </span><span class="hs-comment">-- The only time the memory might overlap is when the two arrays</span><span>
</span><span id="line-2918"></span><span>    </span><span class="hs-comment">-- we were provided are the same array!</span><span>
</span><span id="line-2919"></span><span>    </span><span class="hs-comment">-- TODO: Optimize branch for common case of no aliasing.</span><span>
</span><span id="line-2920"></span><span>    </span><span id="local-6989586621682956011"><span class="annot"><span class="annottext">copy :: CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; Alignment
-&gt; FCode ()
</span><a href="#local-6989586621682956011"><span class="hs-identifier hs-var hs-var">copy</span></a></span></span><span> </span><span id="local-6989586621682956015"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956015"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span id="local-6989586621682956016"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956016"><span class="hs-identifier hs-var">dst</span></a></span></span><span> </span><span id="local-6989586621682956017"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956017"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span id="local-6989586621682956018"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956018"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span id="local-6989586621682956019"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956019"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span id="local-6989586621682956020"><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956020"><span class="hs-identifier hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2921"></span><span>        </span><span id="local-6989586621682956021"><span class="annot"><a href="#local-6989586621682956021"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-2922"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621682956022"><span class="annot"><a href="#local-6989586621682956022"><span class="hs-identifier hs-var">moveCall</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682956023"><span class="annot"><a href="#local-6989586621682956023"><span class="hs-identifier hs-var">cpyCall</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#forkAltPair"><span class="hs-identifier hs-type">forkAltPair</span></a></span><span>
</span><span id="line-2923"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getCode"><span class="hs-identifier hs-type">getCode</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemmoveCall"><span class="hs-identifier hs-type">emitMemmoveCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956017"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956018"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956019"><span class="hs-identifier hs-type">bytes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956020"><span class="hs-identifier hs-type">align</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2924"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getCode"><span class="hs-identifier hs-type">getCode</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemcpyCall"><span class="hs-identifier hs-type">emitMemcpyCall</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621682956017"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956018"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956019"><span class="hs-identifier hs-type">bytes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956020"><span class="hs-identifier hs-type">align</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2925"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">=&lt;&lt;</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#mkCmmIfThenElse"><span class="hs-identifier hs-type">mkCmmIfThenElse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmEqWord"><span class="hs-identifier hs-type">cmmEqWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956021"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956015"><span class="hs-identifier hs-type">src</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956016"><span class="hs-identifier hs-type">dst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956022"><span class="hs-identifier hs-type">moveCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956023"><span class="hs-identifier hs-type">cpyCall</span></a></span><span>
</span><span id="line-2926"></span><span>
</span><span id="line-2927"></span><span class="hs-comment">-- | Takes a source 'MutableByteArray#', an offset in the source</span><span>
</span><span id="line-2928"></span><span class="hs-comment">-- array, a destination 'MutableByteArray#', an offset into the</span><span>
</span><span id="line-2929"></span><span class="hs-comment">-- destination array, and the number of bytes to copy.  Copies the</span><span>
</span><span id="line-2930"></span><span class="hs-comment">-- given number of bytes from the source array to the destination</span><span>
</span><span id="line-2931"></span><span class="hs-comment">-- array.  Assumes the two ranges are disjoint</span><span>
</span><span id="line-2932"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doCopyMutableByteArrayNonOverlappingOp"><span class="hs-identifier hs-type">doCopyMutableByteArrayNonOverlappingOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2933"></span><span>                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2934"></span><span id="doCopyMutableByteArrayNonOverlappingOp"><span class="annot"><span class="annottext">doCopyMutableByteArrayNonOverlappingOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyMutableByteArrayNonOverlappingOp"><span class="hs-identifier hs-var hs-var">doCopyMutableByteArrayNonOverlappingOp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CmmExpr
 -&gt; CmmExpr
 -&gt; CmmExpr
 -&gt; CmmExpr
 -&gt; CmmExpr
 -&gt; Alignment
 -&gt; FCode ())
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCopyByteArray"><span class="hs-identifier hs-var">emitCopyByteArray</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; Alignment
-&gt; FCode ()
forall {p} {p}.
p -&gt; p -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Alignment -&gt; FCode ()
</span><a href="#local-6989586621682956029"><span class="hs-identifier hs-var">copy</span></a></span><span>
</span><span id="line-2935"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-2936"></span><span>    </span><span id="local-6989586621682956029"><span class="annot"><span class="annottext">copy :: p -&gt; p -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Alignment -&gt; FCode ()
</span><a href="#local-6989586621682956029"><span class="hs-identifier hs-var hs-var">copy</span></a></span></span><span> </span><span id="local-6989586621682956030"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621682956030"><span class="hs-identifier hs-var">_src</span></a></span></span><span> </span><span id="local-6989586621682956031"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621682956031"><span class="hs-identifier hs-var">_dst</span></a></span></span><span> </span><span id="local-6989586621682956032"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956032"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span id="local-6989586621682956033"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956033"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span id="local-6989586621682956034"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956034"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span id="local-6989586621682956035"><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956035"><span class="hs-identifier hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2937"></span><span>        </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Alignment -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCheckedMemcpyCall"><span class="hs-identifier hs-var">emitCheckedMemcpyCall</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956032"><span class="hs-identifier hs-var">dst_p</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956033"><span class="hs-identifier hs-var">src_p</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956034"><span class="hs-identifier hs-var">bytes</span></a></span><span> </span><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956035"><span class="hs-identifier hs-var">align</span></a></span><span>
</span><span id="line-2938"></span><span>
</span><span id="line-2939"></span><span>
</span><span id="line-2940"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCopyByteArray"><span class="hs-identifier hs-type">emitCopyByteArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2941"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Alignment"><span class="hs-identifier hs-type">Alignment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-2942"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2943"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2944"></span><span id="emitCopyByteArray"><span class="annot"><span class="annottext">emitCopyByteArray :: (CmmExpr
 -&gt; CmmExpr
 -&gt; CmmExpr
 -&gt; CmmExpr
 -&gt; CmmExpr
 -&gt; Alignment
 -&gt; FCode ())
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCopyByteArray"><span class="hs-identifier hs-var hs-var">emitCopyByteArray</span></a></span></span><span> </span><span id="local-6989586621682956036"><span class="annot"><span class="annottext">CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; Alignment
-&gt; FCode ()
</span><a href="#local-6989586621682956036"><span class="hs-identifier hs-var">copy</span></a></span></span><span> </span><span id="local-6989586621682956037"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956037"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span id="local-6989586621682956038"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956038"><span class="hs-identifier hs-var">src_off</span></a></span></span><span> </span><span id="local-6989586621682956039"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956039"><span class="hs-identifier hs-var">dst</span></a></span></span><span> </span><span id="local-6989586621682956040"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956040"><span class="hs-identifier hs-var">dst_off</span></a></span></span><span> </span><span id="local-6989586621682956041"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956041"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2945"></span><span>    </span><span id="local-6989586621682956042"><span class="annot"><a href="#local-6989586621682956042"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-2946"></span><span>    </span><span id="local-6989586621682956043"><span class="annot"><a href="#local-6989586621682956043"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-2947"></span><span>
</span><span id="line-2948"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#whenCheckBounds"><span class="hs-identifier hs-type">whenCheckBounds</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#ifNonZero"><span class="hs-identifier hs-type">ifNonZero</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956041"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2949"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitRangeBoundsCheck"><span class="hs-identifier hs-type">emitRangeBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956038"><span class="hs-identifier hs-type">src_off</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956041"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#byteArraySize"><span class="hs-identifier hs-type">byteArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956043"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956042"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956037"><span class="hs-identifier hs-type">src</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2950"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitRangeBoundsCheck"><span class="hs-identifier hs-type">emitRangeBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956040"><span class="hs-identifier hs-type">dst_off</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956041"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#byteArraySize"><span class="hs-identifier hs-type">byteArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956043"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956042"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956039"><span class="hs-identifier hs-type">dst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2951"></span><span>
</span><span id="line-2952"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956044"><span class="annot"><a href="#local-6989586621682956044"><span class="hs-identifier hs-var hs-var">byteArrayAlignment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Alignment
</span><a href="GHC.Platform.html#wordAlignment"><span class="hs-identifier hs-var">wordAlignment</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956043"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-2953"></span><span>        </span><span id="local-6989586621682956046"><span class="annot"><a href="#local-6989586621682956046"><span class="hs-identifier hs-var hs-var">srcOffAlignment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; Alignment
</span><a href="GHC.Cmm.Expr.html#cmmExprAlignment"><span class="hs-identifier hs-var">cmmExprAlignment</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956038"><span class="hs-identifier hs-var">src_off</span></a></span><span>
</span><span id="line-2954"></span><span>        </span><span id="local-6989586621682956048"><span class="annot"><a href="#local-6989586621682956048"><span class="hs-identifier hs-var hs-var">dstOffAlignment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; Alignment
</span><a href="GHC.Cmm.Expr.html#cmmExprAlignment"><span class="hs-identifier hs-var">cmmExprAlignment</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956040"><span class="hs-identifier hs-var">dst_off</span></a></span><span>
</span><span id="line-2955"></span><span>        </span><span id="local-6989586621682956049"><span class="annot"><a href="#local-6989586621682956049"><span class="hs-identifier hs-var hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Alignment] -&gt; Alignment
forall a. Ord a =&gt; [a] -&gt; a
forall (t :: * -&gt; *) a. (Foldable t, Ord a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">minimum</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956044"><span class="hs-identifier hs-var">byteArrayAlignment</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956046"><span class="hs-identifier hs-var">srcOffAlignment</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956048"><span class="hs-identifier hs-var">dstOffAlignment</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-2956"></span><span>    </span><span id="local-6989586621682956051"><span class="annot"><a href="#local-6989586621682956051"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExpr"><span class="hs-identifier hs-type">cmmOffsetExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956043"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956043"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956039"><span class="hs-identifier hs-type">dst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-type">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956042"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956040"><span class="hs-identifier hs-type">dst_off</span></a></span><span>
</span><span id="line-2957"></span><span>    </span><span id="local-6989586621682956052"><span class="annot"><a href="#local-6989586621682956052"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExpr"><span class="hs-identifier hs-type">cmmOffsetExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956043"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956043"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956037"><span class="hs-identifier hs-type">src</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-type">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956042"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956038"><span class="hs-identifier hs-type">src_off</span></a></span><span>
</span><span id="line-2958"></span><span>    </span><span class="annot"><a href="#local-6989586621682956036"><span class="hs-identifier hs-type">copy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956037"><span class="hs-identifier hs-type">src</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956039"><span class="hs-identifier hs-type">dst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956051"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956052"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956041"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956049"><span class="hs-identifier hs-type">align</span></a></span><span>
</span><span id="line-2959"></span><span>
</span><span id="line-2960"></span><span class="hs-comment">-- | Takes a source 'ByteArray#', an offset in the source array, a</span><span>
</span><span id="line-2961"></span><span class="hs-comment">-- destination 'Addr#', and the number of bytes to copy.  Copies the given</span><span>
</span><span id="line-2962"></span><span class="hs-comment">-- number of bytes from the source array to the destination memory region.</span><span>
</span><span id="line-2963"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doCopyByteArrayToAddrOp"><span class="hs-identifier hs-type">doCopyByteArrayToAddrOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2964"></span><span id="doCopyByteArrayToAddrOp"><span class="annot"><span class="annottext">doCopyByteArrayToAddrOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyByteArrayToAddrOp"><span class="hs-identifier hs-var hs-var">doCopyByteArrayToAddrOp</span></a></span></span><span> </span><span id="local-6989586621682956053"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956053"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span id="local-6989586621682956054"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956054"><span class="hs-identifier hs-var">src_off</span></a></span></span><span> </span><span id="local-6989586621682956055"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956055"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span id="local-6989586621682956056"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956056"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2965"></span><span>    </span><span class="hs-comment">-- Use memcpy (we are allowed to assume the arrays aren't overlapping)</span><span>
</span><span id="line-2966"></span><span>    </span><span id="local-6989586621682956057"><span class="annot"><a href="#local-6989586621682956057"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-2967"></span><span>    </span><span id="local-6989586621682956058"><span class="annot"><a href="#local-6989586621682956058"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-2968"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#whenCheckBounds"><span class="hs-identifier hs-type">whenCheckBounds</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#ifNonZero"><span class="hs-identifier hs-type">ifNonZero</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956056"><span class="hs-identifier hs-type">bytes</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2969"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitRangeBoundsCheck"><span class="hs-identifier hs-type">emitRangeBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956054"><span class="hs-identifier hs-type">src_off</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956056"><span class="hs-identifier hs-type">bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#byteArraySize"><span class="hs-identifier hs-type">byteArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956058"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956057"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956053"><span class="hs-identifier hs-type">src</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2970"></span><span>    </span><span id="local-6989586621682956059"><span class="annot"><a href="#local-6989586621682956059"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExpr"><span class="hs-identifier hs-type">cmmOffsetExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956058"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956058"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956053"><span class="hs-identifier hs-type">src</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-type">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956057"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956054"><span class="hs-identifier hs-type">src_off</span></a></span><span>
</span><span id="line-2971"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCheckedMemcpyCall"><span class="hs-identifier hs-type">emitCheckedMemcpyCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956055"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956059"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956056"><span class="hs-identifier hs-type">bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#mkAlignment"><span class="hs-identifier hs-type">mkAlignment</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-2972"></span><span>
</span><span id="line-2973"></span><span class="hs-comment">-- | Takes a source 'MutableByteArray#', an offset in the source array, a</span><span>
</span><span id="line-2974"></span><span class="hs-comment">-- destination 'Addr#', and the number of bytes to copy.  Copies the given</span><span>
</span><span id="line-2975"></span><span class="hs-comment">-- number of bytes from the source array to the destination memory region.</span><span>
</span><span id="line-2976"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doCopyMutableByteArrayToAddrOp"><span class="hs-identifier hs-type">doCopyMutableByteArrayToAddrOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-2977"></span><span>                               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2978"></span><span id="doCopyMutableByteArrayToAddrOp"><span class="annot"><span class="annottext">doCopyMutableByteArrayToAddrOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyMutableByteArrayToAddrOp"><span class="hs-identifier hs-var hs-var">doCopyMutableByteArrayToAddrOp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyByteArrayToAddrOp"><span class="hs-identifier hs-var">doCopyByteArrayToAddrOp</span></a></span><span>
</span><span id="line-2979"></span><span>
</span><span id="line-2980"></span><span class="hs-comment">-- | Takes a source 'Addr#', a destination 'MutableByteArray#', an offset into</span><span>
</span><span id="line-2981"></span><span class="hs-comment">-- the destination array, and the number of bytes to copy.  Copies the given</span><span>
</span><span id="line-2982"></span><span class="hs-comment">-- number of bytes from the source memory region to the destination array.</span><span>
</span><span id="line-2983"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doCopyAddrToByteArrayOp"><span class="hs-identifier hs-type">doCopyAddrToByteArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2984"></span><span id="doCopyAddrToByteArrayOp"><span class="annot"><span class="annottext">doCopyAddrToByteArrayOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyAddrToByteArrayOp"><span class="hs-identifier hs-var hs-var">doCopyAddrToByteArrayOp</span></a></span></span><span> </span><span id="local-6989586621682956061"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956061"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span id="local-6989586621682956062"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956062"><span class="hs-identifier hs-var">dst</span></a></span></span><span> </span><span id="local-6989586621682956063"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956063"><span class="hs-identifier hs-var">dst_off</span></a></span></span><span> </span><span id="local-6989586621682956064"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956064"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2985"></span><span>    </span><span class="hs-comment">-- Use memcpy (we are allowed to assume the arrays aren't overlapping)</span><span>
</span><span id="line-2986"></span><span>    </span><span id="local-6989586621682956065"><span class="annot"><a href="#local-6989586621682956065"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-2987"></span><span>    </span><span id="local-6989586621682956066"><span class="annot"><a href="#local-6989586621682956066"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-2988"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#whenCheckBounds"><span class="hs-identifier hs-type">whenCheckBounds</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#ifNonZero"><span class="hs-identifier hs-type">ifNonZero</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956064"><span class="hs-identifier hs-type">bytes</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2989"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitRangeBoundsCheck"><span class="hs-identifier hs-type">emitRangeBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956063"><span class="hs-identifier hs-type">dst_off</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956064"><span class="hs-identifier hs-type">bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#byteArraySize"><span class="hs-identifier hs-type">byteArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956066"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956065"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956062"><span class="hs-identifier hs-type">dst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-2990"></span><span>    </span><span id="local-6989586621682956067"><span class="annot"><a href="#local-6989586621682956067"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExpr"><span class="hs-identifier hs-type">cmmOffsetExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956066"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956066"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956062"><span class="hs-identifier hs-type">dst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-type">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956065"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956063"><span class="hs-identifier hs-type">dst_off</span></a></span><span>
</span><span id="line-2991"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCheckedMemcpyCall"><span class="hs-identifier hs-type">emitCheckedMemcpyCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956067"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956061"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956064"><span class="hs-identifier hs-type">bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#mkAlignment"><span class="hs-identifier hs-type">mkAlignment</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-2992"></span><span>
</span><span id="line-2993"></span><span class="hs-comment">-- | Takes a source 'Addr#', a destination 'Addr#', and the number of</span><span>
</span><span id="line-2994"></span><span class="hs-comment">-- bytes to copy.  Copies the given number of bytes from the source</span><span>
</span><span id="line-2995"></span><span class="hs-comment">-- memory region to the destination array.</span><span>
</span><span id="line-2996"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doCopyAddrToAddrOp"><span class="hs-identifier hs-type">doCopyAddrToAddrOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-2997"></span><span id="doCopyAddrToAddrOp"><span class="annot"><span class="annottext">doCopyAddrToAddrOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyAddrToAddrOp"><span class="hs-identifier hs-var hs-var">doCopyAddrToAddrOp</span></a></span></span><span> </span><span id="local-6989586621682956068"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956068"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span id="local-6989586621682956069"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956069"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span id="local-6989586621682956070"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956070"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-2998"></span><span>    </span><span class="hs-comment">-- Use memmove; the ranges may overlap</span><span>
</span><span id="line-2999"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Alignment -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitMemmoveCall"><span class="hs-identifier hs-var">emitMemmoveCall</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956069"><span class="hs-identifier hs-var">dst_p</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956068"><span class="hs-identifier hs-var">src_p</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956070"><span class="hs-identifier hs-var">bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Alignment
</span><a href="GHC.Types.Basic.html#mkAlignment"><span class="hs-identifier hs-var">mkAlignment</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-3000"></span><span>
</span><span id="line-3001"></span><span class="hs-comment">-- | Takes a source 'Addr#', a destination 'Addr#', and the number of</span><span>
</span><span id="line-3002"></span><span class="hs-comment">-- bytes to copy.  Copies the given number of bytes from the source</span><span>
</span><span id="line-3003"></span><span class="hs-comment">-- memory region to the destination region.  The regions may not overlap.</span><span>
</span><span id="line-3004"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doCopyAddrToAddrNonOverlappingOp"><span class="hs-identifier hs-type">doCopyAddrToAddrNonOverlappingOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3005"></span><span id="doCopyAddrToAddrNonOverlappingOp"><span class="annot"><span class="annottext">doCopyAddrToAddrNonOverlappingOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyAddrToAddrNonOverlappingOp"><span class="hs-identifier hs-var hs-var">doCopyAddrToAddrNonOverlappingOp</span></a></span></span><span> </span><span id="local-6989586621682956071"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956071"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span id="local-6989586621682956072"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956072"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span id="local-6989586621682956073"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956073"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3006"></span><span>    </span><span class="hs-comment">-- Use memcpy; the ranges may not overlap</span><span>
</span><span id="line-3007"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Alignment -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCheckedMemcpyCall"><span class="hs-identifier hs-var">emitCheckedMemcpyCall</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956072"><span class="hs-identifier hs-var">dst_p</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956071"><span class="hs-identifier hs-var">src_p</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956073"><span class="hs-identifier hs-var">bytes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Alignment
</span><a href="GHC.Types.Basic.html#mkAlignment"><span class="hs-identifier hs-var">mkAlignment</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-3008"></span><span>
</span><span id="line-3009"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#ifNonZero"><span class="hs-identifier hs-type">ifNonZero</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3010"></span><span id="ifNonZero"><span class="annot"><span class="annottext">ifNonZero :: CmmExpr -&gt; FCode () -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#ifNonZero"><span class="hs-identifier hs-var hs-var">ifNonZero</span></a></span></span><span> </span><span id="local-6989586621682956074"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956074"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621682956075"><span class="annot"><span class="annottext">FCode ()
</span><a href="#local-6989586621682956075"><span class="hs-identifier hs-var">it</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3011"></span><span>    </span><span id="local-6989586621682956076"><span class="annot"><a href="#local-6989586621682956076"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-3012"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956077"><span class="annot"><a href="#local-6989586621682956077"><span class="hs-identifier hs-var hs-var">pred</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmNeWord"><span class="hs-identifier hs-var">cmmNeWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956076"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956074"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#zeroExpr"><span class="hs-identifier hs-var">zeroExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956076"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3013"></span><span>    </span><span id="local-6989586621682956079"><span class="annot"><a href="#local-6989586621682956079"><span class="hs-identifier hs-var">code</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getCode"><span class="hs-identifier hs-type">getCode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956075"><span class="hs-identifier hs-type">it</span></a></span><span>
</span><span id="line-3014"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">=&lt;&lt;</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#mkCmmIfThen%27"><span class="hs-identifier hs-type">mkCmmIfThen'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956077"><span class="hs-identifier hs-type">pred</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956079"><span class="hs-identifier hs-type">code</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-3015"></span><span>      </span><span class="hs-comment">-- This function is used for range operation bounds-checks;</span><span>
</span><span id="line-3016"></span><span>      </span><span class="hs-comment">-- Most calls to those ops will not have range length zero.</span><span>
</span><span id="line-3017"></span><span>
</span><span id="line-3018"></span><span>
</span><span id="line-3019"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-3020"></span><span class="hs-comment">-- Setting byte arrays</span><span>
</span><span id="line-3021"></span><span>
</span><span id="line-3022"></span><span class="hs-comment">-- | Takes a 'MutableByteArray#', an offset into the array, a length,</span><span>
</span><span id="line-3023"></span><span class="hs-comment">-- and a byte, and sets each of the selected bytes in the array to the</span><span>
</span><span id="line-3024"></span><span class="hs-comment">-- given byte.</span><span>
</span><span id="line-3025"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doSetByteArrayOp"><span class="hs-identifier hs-type">doSetByteArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-3026"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3027"></span><span id="doSetByteArrayOp"><span class="annot"><span class="annottext">doSetByteArrayOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doSetByteArrayOp"><span class="hs-identifier hs-var hs-var">doSetByteArrayOp</span></a></span></span><span> </span><span id="local-6989586621682956081"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956081"><span class="hs-identifier hs-var">ba</span></a></span></span><span> </span><span id="local-6989586621682956082"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956082"><span class="hs-identifier hs-var">off</span></a></span></span><span> </span><span id="local-6989586621682956083"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956083"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span id="local-6989586621682956084"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956084"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3028"></span><span>    </span><span id="local-6989586621682956085"><span class="annot"><a href="#local-6989586621682956085"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3029"></span><span>    </span><span id="local-6989586621682956086"><span class="annot"><a href="#local-6989586621682956086"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3030"></span><span>
</span><span id="line-3031"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#whenCheckBounds"><span class="hs-identifier hs-type">whenCheckBounds</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#ifNonZero"><span class="hs-identifier hs-type">ifNonZero</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956083"><span class="hs-identifier hs-type">len</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-3032"></span><span>      </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitRangeBoundsCheck"><span class="hs-identifier hs-type">emitRangeBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956082"><span class="hs-identifier hs-type">off</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956083"><span class="hs-identifier hs-type">len</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#byteArraySize"><span class="hs-identifier hs-type">byteArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956086"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956085"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956081"><span class="hs-identifier hs-type">ba</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3033"></span><span>
</span><span id="line-3034"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956087"><span class="annot"><a href="#local-6989586621682956087"><span class="hs-identifier hs-var hs-var">byteArrayAlignment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Alignment
</span><a href="GHC.Platform.html#wordAlignment"><span class="hs-identifier hs-var">wordAlignment</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956086"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-comment">-- known since BA is allocated on heap</span><span>
</span><span id="line-3035"></span><span>        </span><span id="local-6989586621682956088"><span class="annot"><a href="#local-6989586621682956088"><span class="hs-identifier hs-var hs-var">offsetAlignment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; Alignment
</span><a href="GHC.Cmm.Expr.html#cmmExprAlignment"><span class="hs-identifier hs-var">cmmExprAlignment</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956082"><span class="hs-identifier hs-var">off</span></a></span><span>
</span><span id="line-3036"></span><span>        </span><span id="local-6989586621682956089"><span class="annot"><a href="#local-6989586621682956089"><span class="hs-identifier hs-var hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Alignment -&gt; Alignment -&gt; Alignment
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956087"><span class="hs-identifier hs-var">byteArrayAlignment</span></a></span><span> </span><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956088"><span class="hs-identifier hs-var">offsetAlignment</span></a></span><span>
</span><span id="line-3037"></span><span>
</span><span id="line-3038"></span><span>    </span><span id="local-6989586621682956091"><span class="annot"><a href="#local-6989586621682956091"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExpr"><span class="hs-identifier hs-type">cmmOffsetExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956086"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956086"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956081"><span class="hs-identifier hs-type">ba</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-type">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956085"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956082"><span class="hs-identifier hs-type">off</span></a></span><span>
</span><span id="line-3039"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemsetCall"><span class="hs-identifier hs-type">emitMemsetCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956091"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956084"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956083"><span class="hs-identifier hs-type">len</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956089"><span class="hs-identifier hs-type">align</span></a></span><span>
</span><span id="line-3040"></span><span>
</span><span id="line-3041"></span><span class="hs-comment">-- | Takes an 'Addr#', a length, and a byte, and sets each of the</span><span>
</span><span id="line-3042"></span><span class="hs-comment">-- selected bytes in memory to the given byte.</span><span>
</span><span id="line-3043"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doSetAddrRangeOp"><span class="hs-identifier hs-type">doSetAddrRangeOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-3044"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3045"></span><span id="doSetAddrRangeOp"><span class="annot"><span class="annottext">doSetAddrRangeOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doSetAddrRangeOp"><span class="hs-identifier hs-var hs-var">doSetAddrRangeOp</span></a></span></span><span> </span><span id="local-6989586621682956093"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956093"><span class="hs-identifier hs-var">dst</span></a></span></span><span> </span><span id="local-6989586621682956094"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956094"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span id="local-6989586621682956095"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956095"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3046"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Alignment -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitMemsetCall"><span class="hs-identifier hs-var">emitMemsetCall</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956093"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956095"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956094"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Alignment
</span><a href="GHC.Types.Basic.html#mkAlignment"><span class="hs-identifier hs-var">mkAlignment</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-3047"></span><span>
</span><span id="line-3048"></span><span>
</span><span id="line-3049"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-3050"></span><span class="hs-comment">-- Allocating arrays</span><span>
</span><span id="line-3051"></span><span>
</span><span id="line-3052"></span><span class="annot"><span class="hs-comment">-- | Allocate a new array.</span></span><span>
</span><span id="line-3053"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doNewArrayOp"><span class="hs-identifier hs-type">doNewArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span>             </span><span class="annot"><span class="hs-comment">-- ^ return register</span></span><span>
</span><span id="line-3054"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#SMRep"><span class="hs-identifier hs-type">SMRep</span></a></span><span>                 </span><span class="annot"><span class="hs-comment">-- ^ representation of the array</span></span><span>
</span><span id="line-3055"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span>                </span><span class="annot"><span class="hs-comment">-- ^ info pointer</span></span><span>
</span><span id="line-3056"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#ByteOff"><span class="hs-identifier hs-type">ByteOff</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>  </span><span class="annot"><span class="hs-comment">-- ^ header payload</span></span><span>
</span><span id="line-3057"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#WordOff"><span class="hs-identifier hs-type">WordOff</span></a></span><span>               </span><span class="annot"><span class="hs-comment">-- ^ array size</span></span><span>
</span><span id="line-3058"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>               </span><span class="annot"><span class="hs-comment">-- ^ initial element</span></span><span>
</span><span id="line-3059"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3060"></span><span id="doNewArrayOp"><span class="annot"><span class="annottext">doNewArrayOp :: LocalReg
-&gt; SMRep
-&gt; CLabel
-&gt; [(CmmExpr, Int)]
-&gt; Int
-&gt; CmmExpr
-&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doNewArrayOp"><span class="hs-identifier hs-var hs-var">doNewArrayOp</span></a></span></span><span> </span><span id="local-6989586621682956097"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956097"><span class="hs-identifier hs-var">res_r</span></a></span></span><span> </span><span id="local-6989586621682956098"><span class="annot"><span class="annottext">SMRep
</span><a href="#local-6989586621682956098"><span class="hs-identifier hs-var">rep</span></a></span></span><span> </span><span id="local-6989586621682956099"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682956099"><span class="hs-identifier hs-var">info</span></a></span></span><span> </span><span id="local-6989586621682956100"><span class="annot"><span class="annottext">[(CmmExpr, Int)]
</span><a href="#local-6989586621682956100"><span class="hs-identifier hs-var">payload</span></a></span></span><span> </span><span id="local-6989586621682956101"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956101"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682956102"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956102"><span class="hs-identifier hs-var">init</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3061"></span><span>    </span><span id="local-6989586621682956103"><span class="annot"><a href="#local-6989586621682956103"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3062"></span><span>    </span><span id="local-6989586621682956104"><span class="annot"><a href="#local-6989586621682956104"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3063"></span><span>
</span><span id="line-3064"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956105"><span class="annot"><a href="#local-6989586621682956105"><span class="hs-identifier hs-var hs-var">info_ptr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkLblExpr"><span class="hs-identifier hs-var">mkLblExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682956099"><span class="hs-identifier hs-var">info</span></a></span><span>
</span><span id="line-3065"></span><span>
</span><span id="line-3066"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Ticky.html#tickyAllocPrim"><span class="hs-identifier hs-type">tickyAllocPrim</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956104"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#hdrSize"><span class="hs-identifier hs-type">hdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956103"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956098"><span class="hs-identifier hs-type">rep</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3067"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956104"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#nonHdrSize"><span class="hs-identifier hs-type">nonHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956104"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956098"><span class="hs-identifier hs-type">rep</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3068"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#zeroExpr"><span class="hs-identifier hs-type">zeroExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956104"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3069"></span><span>
</span><span id="line-3070"></span><span>    </span><span id="local-6989586621682956107"><span class="annot"><a href="#local-6989586621682956107"><span class="hs-identifier hs-var">base</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Heap.html#allocHeapClosure"><span class="hs-identifier hs-type">allocHeapClosure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956098"><span class="hs-identifier hs-type">rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956105"><span class="hs-identifier hs-type">info_ptr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cccsExpr"><span class="hs-identifier hs-type">cccsExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956104"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956100"><span class="hs-identifier hs-type">payload</span></a></span><span>
</span><span id="line-3071"></span><span>
</span><span id="line-3072"></span><span>    </span><span id="local-6989586621682956108"><span class="annot"><a href="#local-6989586621682956108"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`fmap`</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-type">bWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956104"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3073"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956108"><span class="hs-identifier hs-type">arr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956107"><span class="hs-identifier hs-type">base</span></a></span><span>
</span><span id="line-3074"></span><span>
</span><span id="line-3075"></span><span>    </span><span class="hs-comment">-- Initialise all elements of the array</span><span>
</span><span id="line-3076"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956109"><span class="annot"><a href="#local-6989586621682956109"><span class="hs-identifier hs-var hs-var">mkOff</span></a></span></span><span> </span><span id="local-6989586621682956110"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956110"><span class="hs-identifier hs-var">off</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmOffsetW"><span class="hs-identifier hs-var">cmmOffsetW</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956104"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-var">CmmReg</span></a></span><span> </span><span class="annot"><span class="annottext">CmmReg
</span><a href="#local-6989586621682956108"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Profile -&gt; SMRep -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#hdrSizeW"><span class="hs-identifier hs-var">hdrSizeW</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682956103"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">SMRep
</span><a href="#local-6989586621682956098"><span class="hs-identifier hs-var">rep</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956110"><span class="hs-identifier hs-var">off</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3077"></span><span>        </span><span id="local-6989586621682956112"><span class="annot"><a href="#local-6989586621682956112"><span class="hs-identifier hs-var hs-var">initialization</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmAGraph
</span><a href="GHC.Cmm.Graph.html#mkStore"><span class="hs-identifier hs-var">mkStore</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CmmExpr
</span><a href="#local-6989586621682956109"><span class="hs-identifier hs-var">mkOff</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956113"><span class="hs-identifier hs-var">off</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956102"><span class="hs-identifier hs-var">init</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621682956113"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956113"><span class="hs-identifier hs-var">off</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956101"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3078"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Graph.html#catAGraphs"><span class="hs-identifier hs-type">catAGraphs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956112"><span class="hs-identifier hs-type">initialization</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3079"></span><span>
</span><span id="line-3080"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956097"><span class="hs-identifier hs-type">res_r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956108"><span class="hs-identifier hs-type">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3081"></span><span>
</span><span id="line-3082"></span><span class="hs-comment">-- ----------------------------------------------------------------------------</span><span>
</span><span id="line-3083"></span><span class="hs-comment">-- Copying pointer arrays</span><span>
</span><span id="line-3084"></span><span>
</span><span id="line-3085"></span><span class="hs-comment">-- EZY: This code has an unusually high amount of assignTemp calls, seen</span><span>
</span><span id="line-3086"></span><span class="hs-comment">-- nowhere else in the code generator.  This is mostly because these</span><span>
</span><span id="line-3087"></span><span class="hs-comment">-- &quot;primitive&quot; ops result in a surprisingly large amount of code.  It</span><span>
</span><span id="line-3088"></span><span class="hs-comment">-- will likely be worthwhile to optimize what is emitted here, so that</span><span>
</span><span id="line-3089"></span><span class="hs-comment">-- our optimization passes don't waste time repeatedly optimizing the</span><span>
</span><span id="line-3090"></span><span class="hs-comment">-- same bits of code.</span><span>
</span><span id="line-3091"></span><span>
</span><span id="line-3092"></span><span class="hs-comment">-- More closely imitates 'assignTemp' from the old code generator, which</span><span>
</span><span id="line-3093"></span><span class="hs-comment">-- returns a CmmExpr rather than a LocalReg.</span><span>
</span><span id="line-3094"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-3095"></span><span id="assignTempE"><span class="annot"><span class="annottext">assignTempE :: CmmExpr -&gt; FCode CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-var hs-var">assignTempE</span></a></span></span><span> </span><span id="local-6989586621682956114"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956114"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3096"></span><span>    </span><span id="local-6989586621682956115"><span class="annot"><a href="#local-6989586621682956115"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; FCode LocalReg
</span><a href="GHC.StgToCmm.Utils.html#assignTemp"><span class="hs-identifier hs-var">assignTemp</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956114"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-3097"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956115"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3098"></span><span>
</span><span id="line-3099"></span><span class="hs-comment">-- | Takes a source 'Array#', an offset in the source array, a</span><span>
</span><span id="line-3100"></span><span class="hs-comment">-- destination 'MutableArray#', an offset into the destination array,</span><span>
</span><span id="line-3101"></span><span class="hs-comment">-- and the number of elements to copy.  Copies the given number of</span><span>
</span><span id="line-3102"></span><span class="hs-comment">-- elements from the source array to the destination array.</span><span>
</span><span id="line-3103"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doCopyArrayOp"><span class="hs-identifier hs-type">doCopyArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#WordOff"><span class="hs-identifier hs-type">WordOff</span></a></span><span>
</span><span id="line-3104"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3105"></span><span id="doCopyArrayOp"><span class="annot"><span class="annottext">doCopyArrayOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyArrayOp"><span class="hs-identifier hs-var hs-var">doCopyArrayOp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ())
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCopyArray"><span class="hs-identifier hs-var">emitCopyArray</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
forall {p} {p}. p -&gt; p -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="#local-6989586621682956117"><span class="hs-identifier hs-var">copy</span></a></span><span>
</span><span id="line-3106"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3107"></span><span>    </span><span class="hs-comment">-- Copy data (we assume the arrays aren't overlapping since</span><span>
</span><span id="line-3108"></span><span>    </span><span class="hs-comment">-- they're of different types)</span><span>
</span><span id="line-3109"></span><span>    </span><span id="local-6989586621682956117"><span class="annot"><span class="annottext">copy :: p -&gt; p -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="#local-6989586621682956117"><span class="hs-identifier hs-var hs-var">copy</span></a></span></span><span> </span><span id="local-6989586621682956119"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621682956119"><span class="hs-identifier hs-var">_src</span></a></span></span><span> </span><span id="local-6989586621682956120"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621682956120"><span class="hs-identifier hs-var">_dst</span></a></span></span><span> </span><span id="local-6989586621682956121"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956121"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span id="local-6989586621682956122"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956122"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span id="local-6989586621682956123"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956123"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3110"></span><span>        </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682956124"><span class="annot"><a href="#local-6989586621682956124"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-3111"></span><span>           </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCheckedMemcpyCall"><span class="hs-identifier hs-type">emitCheckedMemcpyCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956121"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956122"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956124"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956123"><span class="hs-identifier hs-type">bytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3112"></span><span>               </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#wordAlignment"><span class="hs-identifier hs-type">wordAlignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956124"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3113"></span><span>
</span><span id="line-3114"></span><span>
</span><span id="line-3115"></span><span class="hs-comment">-- | Takes a source 'MutableArray#', an offset in the source array, a</span><span>
</span><span id="line-3116"></span><span class="hs-comment">-- destination 'MutableArray#', an offset into the destination array,</span><span>
</span><span id="line-3117"></span><span class="hs-comment">-- and the number of elements to copy.  Copies the given number of</span><span>
</span><span id="line-3118"></span><span class="hs-comment">-- elements from the source array to the destination array.</span><span>
</span><span id="line-3119"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doCopyMutableArrayOp"><span class="hs-identifier hs-type">doCopyMutableArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#WordOff"><span class="hs-identifier hs-type">WordOff</span></a></span><span>
</span><span id="line-3120"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3121"></span><span id="doCopyMutableArrayOp"><span class="annot"><span class="annottext">doCopyMutableArrayOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopyMutableArrayOp"><span class="hs-identifier hs-var hs-var">doCopyMutableArrayOp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ())
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCopyArray"><span class="hs-identifier hs-var">emitCopyArray</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="#local-6989586621682956125"><span class="hs-identifier hs-var">copy</span></a></span><span>
</span><span id="line-3122"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3123"></span><span>    </span><span class="hs-comment">-- The only time the memory might overlap is when the two arrays</span><span>
</span><span id="line-3124"></span><span>    </span><span class="hs-comment">-- we were provided are the same array!</span><span>
</span><span id="line-3125"></span><span>    </span><span class="hs-comment">-- TODO: Optimize branch for common case of no aliasing.</span><span>
</span><span id="line-3126"></span><span>    </span><span id="local-6989586621682956125"><span class="annot"><span class="annottext">copy :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="#local-6989586621682956125"><span class="hs-identifier hs-var hs-var">copy</span></a></span></span><span> </span><span id="local-6989586621682956129"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956129"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span id="local-6989586621682956130"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956130"><span class="hs-identifier hs-var">dst</span></a></span></span><span> </span><span id="local-6989586621682956131"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956131"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span id="local-6989586621682956132"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956132"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span id="local-6989586621682956133"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956133"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3127"></span><span>        </span><span id="local-6989586621682956134"><span class="annot"><a href="#local-6989586621682956134"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-3128"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621682956135"><span class="annot"><a href="#local-6989586621682956135"><span class="hs-identifier hs-var">moveCall</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682956136"><span class="annot"><a href="#local-6989586621682956136"><span class="hs-identifier hs-var">cpyCall</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#forkAltPair"><span class="hs-identifier hs-type">forkAltPair</span></a></span><span>
</span><span id="line-3129"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getCode"><span class="hs-identifier hs-type">getCode</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemmoveCall"><span class="hs-identifier hs-type">emitMemmoveCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956131"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956132"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956134"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956133"><span class="hs-identifier hs-type">bytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3130"></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#wordAlignment"><span class="hs-identifier hs-type">wordAlignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956134"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3131"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getCode"><span class="hs-identifier hs-type">getCode</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemcpyCall"><span class="hs-identifier hs-type">emitMemcpyCall</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621682956131"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956132"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956134"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956133"><span class="hs-identifier hs-type">bytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3132"></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#wordAlignment"><span class="hs-identifier hs-type">wordAlignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956134"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3133"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">=&lt;&lt;</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#mkCmmIfThenElse"><span class="hs-identifier hs-type">mkCmmIfThenElse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmEqWord"><span class="hs-identifier hs-type">cmmEqWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956134"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956129"><span class="hs-identifier hs-type">src</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956130"><span class="hs-identifier hs-type">dst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956135"><span class="hs-identifier hs-type">moveCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956136"><span class="hs-identifier hs-type">cpyCall</span></a></span><span>
</span><span id="line-3134"></span><span>
</span><span id="line-3135"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCopyArray"><span class="hs-identifier hs-type">emitCopyArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#ByteOff"><span class="hs-identifier hs-type">ByteOff</span></a></span><span>
</span><span id="line-3136"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="hs-comment">-- ^ copy function</span></span><span>
</span><span id="line-3137"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ source array</span></span><span>
</span><span id="line-3138"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ offset in source array</span></span><span>
</span><span id="line-3139"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ destination array</span></span><span>
</span><span id="line-3140"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ offset in destination array</span></span><span>
</span><span id="line-3141"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#WordOff"><span class="hs-identifier hs-type">WordOff</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ number of elements to copy</span></span><span>
</span><span id="line-3142"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3143"></span><span id="emitCopyArray"><span class="annot"><span class="annottext">emitCopyArray :: (CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ())
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCopyArray"><span class="hs-identifier hs-var hs-var">emitCopyArray</span></a></span></span><span> </span><span id="local-6989586621682956137"><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="#local-6989586621682956137"><span class="hs-identifier hs-var">copy</span></a></span></span><span> </span><span id="local-6989586621682956138"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956138"><span class="hs-identifier hs-var">src0</span></a></span></span><span> </span><span id="local-6989586621682956139"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956139"><span class="hs-identifier hs-var">src_off</span></a></span></span><span> </span><span id="local-6989586621682956140"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956140"><span class="hs-identifier hs-var">dst0</span></a></span></span><span> </span><span id="local-6989586621682956141"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956141"><span class="hs-identifier hs-var">dst_off0</span></a></span></span><span> </span><span id="local-6989586621682956142"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956142"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3144"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; FCode () -&gt; FCode ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956142"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(FCode () -&gt; FCode ()) -&gt; FCode () -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3145"></span><span>        </span><span id="local-6989586621682956144"><span class="annot"><a href="#local-6989586621682956144"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3146"></span><span>        </span><span id="local-6989586621682956145"><span class="annot"><a href="#local-6989586621682956145"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3147"></span><span>
</span><span id="line-3148"></span><span>        </span><span class="hs-comment">-- Passed as arguments (be careful)</span><span>
</span><span id="line-3149"></span><span>        </span><span id="local-6989586621682956146"><span class="annot"><a href="#local-6989586621682956146"><span class="hs-identifier hs-var">src</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956138"><span class="hs-identifier hs-type">src0</span></a></span><span>
</span><span id="line-3150"></span><span>        </span><span id="local-6989586621682956147"><span class="annot"><a href="#local-6989586621682956147"><span class="hs-identifier hs-var">dst</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956140"><span class="hs-identifier hs-type">dst0</span></a></span><span>
</span><span id="line-3151"></span><span>        </span><span id="local-6989586621682956148"><span class="annot"><a href="#local-6989586621682956148"><span class="hs-identifier hs-var">dst_off</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956141"><span class="hs-identifier hs-type">dst_off0</span></a></span><span>
</span><span id="line-3152"></span><span>
</span><span id="line-3153"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#whenCheckBounds"><span class="hs-identifier hs-type">whenCheckBounds</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3154"></span><span>          </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitRangeBoundsCheck"><span class="hs-identifier hs-type">emitRangeBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956139"><span class="hs-identifier hs-type">src_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956145"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956142"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3155"></span><span>                                       </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#ptrArraySize"><span class="hs-identifier hs-type">ptrArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956145"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956144"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956146"><span class="hs-identifier hs-type">src</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3156"></span><span>          </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitRangeBoundsCheck"><span class="hs-identifier hs-type">emitRangeBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956148"><span class="hs-identifier hs-type">dst_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956145"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956142"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3157"></span><span>                                       </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#ptrArraySize"><span class="hs-identifier hs-type">ptrArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956145"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956144"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956147"><span class="hs-identifier hs-type">dst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3158"></span><span>
</span><span id="line-3159"></span><span>        </span><span class="hs-comment">-- Nonmoving collector write barrier</span><span>
</span><span id="line-3160"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCopyUpdRemSetPush"><span class="hs-identifier hs-type">emitCopyUpdRemSetPush</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956145"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrPtrsHdrSize"><span class="hs-identifier hs-type">arrPtrsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956144"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956147"><span class="hs-identifier hs-type">dst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956148"><span class="hs-identifier hs-type">dst_off</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956142"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-3161"></span><span>
</span><span id="line-3162"></span><span>        </span><span class="hs-comment">-- Set the dirty bit in the header.</span><span>
</span><span id="line-3163"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#setInfo"><span class="hs-identifier hs-type">setInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956147"><span class="hs-identifier hs-type">dst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-type">CmmLabel</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#mkMAP_DIRTY_infoLabel"><span class="hs-identifier hs-type">mkMAP_DIRTY_infoLabel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3164"></span><span>
</span><span id="line-3165"></span><span>        </span><span id="local-6989586621682956150"><span class="annot"><a href="#local-6989586621682956150"><span class="hs-identifier hs-var">dst_elems_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956145"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956147"><span class="hs-identifier hs-type">dst</span></a></span><span>
</span><span id="line-3166"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrPtrsHdrSize"><span class="hs-identifier hs-type">arrPtrsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956144"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3167"></span><span>        </span><span id="local-6989586621682956151"><span class="annot"><a href="#local-6989586621682956151"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExprW"><span class="hs-identifier hs-type">cmmOffsetExprW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956145"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956150"><span class="hs-identifier hs-type">dst_elems_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956148"><span class="hs-identifier hs-type">dst_off</span></a></span><span>
</span><span id="line-3168"></span><span>        </span><span id="local-6989586621682956152"><span class="annot"><a href="#local-6989586621682956152"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExprW"><span class="hs-identifier hs-type">cmmOffsetExprW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956145"><span class="hs-identifier hs-type">platform</span></a></span><span>
</span><span id="line-3169"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956145"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956146"><span class="hs-identifier hs-type">src</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrPtrsHdrSize"><span class="hs-identifier hs-type">arrPtrsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956144"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956139"><span class="hs-identifier hs-type">src_off</span></a></span><span>
</span><span id="line-3170"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956153"><span class="annot"><a href="#local-6989586621682956153"><span class="hs-identifier hs-var hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; Int
forall a. Num a =&gt; Platform -&gt; a -&gt; a
</span><a href="GHC.Runtime.Heap.Layout.html#wordsToBytes"><span class="hs-identifier hs-var">wordsToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956145"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956142"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-3171"></span><span>
</span><span id="line-3172"></span><span>        </span><span class="annot"><a href="#local-6989586621682956137"><span class="hs-identifier hs-type">copy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956146"><span class="hs-identifier hs-type">src</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956147"><span class="hs-identifier hs-type">dst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956151"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956152"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956153"><span class="hs-identifier hs-type">bytes</span></a></span><span>
</span><span id="line-3173"></span><span>
</span><span id="line-3174"></span><span>        </span><span class="hs-comment">-- The base address of the destination card table</span><span>
</span><span id="line-3175"></span><span>        </span><span id="local-6989586621682956154"><span class="annot"><a href="#local-6989586621682956154"><span class="hs-identifier hs-var">dst_cards_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExprW"><span class="hs-identifier hs-type">cmmOffsetExprW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956145"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956150"><span class="hs-identifier hs-type">dst_elems_p</span></a></span><span>
</span><span id="line-3176"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#ptrArraySize"><span class="hs-identifier hs-type">ptrArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956145"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956144"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956147"><span class="hs-identifier hs-type">dst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3177"></span><span>
</span><span id="line-3178"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitSetCards"><span class="hs-identifier hs-type">emitSetCards</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956148"><span class="hs-identifier hs-type">dst_off</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956154"><span class="hs-identifier hs-type">dst_cards_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956142"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-3179"></span><span>
</span><span id="line-3180"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doCopySmallArrayOp"><span class="hs-identifier hs-type">doCopySmallArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#WordOff"><span class="hs-identifier hs-type">WordOff</span></a></span><span>
</span><span id="line-3181"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3182"></span><span id="doCopySmallArrayOp"><span class="annot"><span class="annottext">doCopySmallArrayOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopySmallArrayOp"><span class="hs-identifier hs-var hs-var">doCopySmallArrayOp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ())
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCopySmallArray"><span class="hs-identifier hs-var">emitCopySmallArray</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
forall {p} {p}. p -&gt; p -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="#local-6989586621682956157"><span class="hs-identifier hs-var">copy</span></a></span><span>
</span><span id="line-3183"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3184"></span><span>    </span><span class="hs-comment">-- Copy data (we assume the arrays aren't overlapping since</span><span>
</span><span id="line-3185"></span><span>    </span><span class="hs-comment">-- they're of different types)</span><span>
</span><span id="line-3186"></span><span>    </span><span id="local-6989586621682956157"><span class="annot"><span class="annottext">copy :: p -&gt; p -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="#local-6989586621682956157"><span class="hs-identifier hs-var hs-var">copy</span></a></span></span><span> </span><span id="local-6989586621682956159"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621682956159"><span class="hs-identifier hs-var">_src</span></a></span></span><span> </span><span id="local-6989586621682956160"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621682956160"><span class="hs-identifier hs-var">_dst</span></a></span></span><span> </span><span id="local-6989586621682956161"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956161"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span id="local-6989586621682956162"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956162"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span id="local-6989586621682956163"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956163"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3187"></span><span>        </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621682956164"><span class="annot"><a href="#local-6989586621682956164"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-3188"></span><span>           </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCheckedMemcpyCall"><span class="hs-identifier hs-type">emitCheckedMemcpyCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956161"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956162"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956164"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956163"><span class="hs-identifier hs-type">bytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3189"></span><span>               </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#wordAlignment"><span class="hs-identifier hs-type">wordAlignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956164"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3190"></span><span>
</span><span id="line-3191"></span><span>
</span><span id="line-3192"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doCopySmallMutableArrayOp"><span class="hs-identifier hs-type">doCopySmallMutableArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#WordOff"><span class="hs-identifier hs-type">WordOff</span></a></span><span>
</span><span id="line-3193"></span><span>                          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3194"></span><span id="doCopySmallMutableArrayOp"><span class="annot"><span class="annottext">doCopySmallMutableArrayOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCopySmallMutableArrayOp"><span class="hs-identifier hs-var hs-var">doCopySmallMutableArrayOp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ())
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCopySmallArray"><span class="hs-identifier hs-var">emitCopySmallArray</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="#local-6989586621682956165"><span class="hs-identifier hs-var">copy</span></a></span><span>
</span><span id="line-3195"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3196"></span><span>    </span><span class="hs-comment">-- The only time the memory might overlap is when the two arrays</span><span>
</span><span id="line-3197"></span><span>    </span><span class="hs-comment">-- we were provided are the same array!</span><span>
</span><span id="line-3198"></span><span>    </span><span class="hs-comment">-- TODO: Optimize branch for common case of no aliasing.</span><span>
</span><span id="line-3199"></span><span>    </span><span id="local-6989586621682956165"><span class="annot"><span class="annottext">copy :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="#local-6989586621682956165"><span class="hs-identifier hs-var hs-var">copy</span></a></span></span><span> </span><span id="local-6989586621682956169"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956169"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span id="local-6989586621682956170"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956170"><span class="hs-identifier hs-var">dst</span></a></span></span><span> </span><span id="local-6989586621682956171"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956171"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span id="local-6989586621682956172"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956172"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span id="local-6989586621682956173"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956173"><span class="hs-identifier hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3200"></span><span>        </span><span id="local-6989586621682956174"><span class="annot"><a href="#local-6989586621682956174"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-3201"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621682956175"><span class="annot"><a href="#local-6989586621682956175"><span class="hs-identifier hs-var">moveCall</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621682956176"><span class="annot"><a href="#local-6989586621682956176"><span class="hs-identifier hs-var">cpyCall</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#forkAltPair"><span class="hs-identifier hs-type">forkAltPair</span></a></span><span>
</span><span id="line-3202"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getCode"><span class="hs-identifier hs-type">getCode</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemmoveCall"><span class="hs-identifier hs-type">emitMemmoveCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956171"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956172"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956174"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956173"><span class="hs-identifier hs-type">bytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3203"></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#wordAlignment"><span class="hs-identifier hs-type">wordAlignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956174"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3204"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getCode"><span class="hs-identifier hs-type">getCode</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemcpyCall"><span class="hs-identifier hs-type">emitMemcpyCall</span></a></span><span>  </span><span class="annot"><a href="#local-6989586621682956171"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956172"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956174"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956173"><span class="hs-identifier hs-type">bytes</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3205"></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#wordAlignment"><span class="hs-identifier hs-type">wordAlignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956174"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3206"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">=&lt;&lt;</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#mkCmmIfThenElse"><span class="hs-identifier hs-type">mkCmmIfThenElse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmEqWord"><span class="hs-identifier hs-type">cmmEqWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956174"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956169"><span class="hs-identifier hs-type">src</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956170"><span class="hs-identifier hs-type">dst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956175"><span class="hs-identifier hs-type">moveCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956176"><span class="hs-identifier hs-type">cpyCall</span></a></span><span>
</span><span id="line-3207"></span><span>
</span><span id="line-3208"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCopySmallArray"><span class="hs-identifier hs-type">emitCopySmallArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#ByteOff"><span class="hs-identifier hs-type">ByteOff</span></a></span><span>
</span><span id="line-3209"></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="hs-comment">-- ^ copy function</span></span><span>
</span><span id="line-3210"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ source array</span></span><span>
</span><span id="line-3211"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ offset in source array</span></span><span>
</span><span id="line-3212"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ destination array</span></span><span>
</span><span id="line-3213"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ offset in destination array</span></span><span>
</span><span id="line-3214"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#WordOff"><span class="hs-identifier hs-type">WordOff</span></a></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ number of elements to copy</span></span><span>
</span><span id="line-3215"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3216"></span><span id="emitCopySmallArray"><span class="annot"><span class="annottext">emitCopySmallArray :: (CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ())
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCopySmallArray"><span class="hs-identifier hs-var hs-var">emitCopySmallArray</span></a></span></span><span> </span><span id="local-6989586621682956177"><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="#local-6989586621682956177"><span class="hs-identifier hs-var">copy</span></a></span></span><span> </span><span id="local-6989586621682956178"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956178"><span class="hs-identifier hs-var">src0</span></a></span></span><span> </span><span id="local-6989586621682956179"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956179"><span class="hs-identifier hs-var">src_off</span></a></span></span><span> </span><span id="local-6989586621682956180"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956180"><span class="hs-identifier hs-var">dst0</span></a></span></span><span> </span><span id="local-6989586621682956181"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956181"><span class="hs-identifier hs-var">dst_off</span></a></span></span><span> </span><span id="local-6989586621682956182"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956182"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3217"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; FCode () -&gt; FCode ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956182"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(FCode () -&gt; FCode ()) -&gt; FCode () -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3218"></span><span>        </span><span id="local-6989586621682956183"><span class="annot"><a href="#local-6989586621682956183"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3219"></span><span>        </span><span id="local-6989586621682956184"><span class="annot"><a href="#local-6989586621682956184"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3220"></span><span>
</span><span id="line-3221"></span><span>        </span><span class="hs-comment">-- Passed as arguments (be careful)</span><span>
</span><span id="line-3222"></span><span>        </span><span id="local-6989586621682956185"><span class="annot"><a href="#local-6989586621682956185"><span class="hs-identifier hs-var">src</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956178"><span class="hs-identifier hs-type">src0</span></a></span><span>
</span><span id="line-3223"></span><span>        </span><span id="local-6989586621682956186"><span class="annot"><a href="#local-6989586621682956186"><span class="hs-identifier hs-var">dst</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956180"><span class="hs-identifier hs-type">dst0</span></a></span><span>
</span><span id="line-3224"></span><span>
</span><span id="line-3225"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#whenCheckBounds"><span class="hs-identifier hs-type">whenCheckBounds</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3226"></span><span>          </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitRangeBoundsCheck"><span class="hs-identifier hs-type">emitRangeBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956179"><span class="hs-identifier hs-type">src_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956184"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956182"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3227"></span><span>                                       </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#smallPtrArraySize"><span class="hs-identifier hs-type">smallPtrArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956184"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956183"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956185"><span class="hs-identifier hs-type">src</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3228"></span><span>          </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitRangeBoundsCheck"><span class="hs-identifier hs-type">emitRangeBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956181"><span class="hs-identifier hs-type">dst_off</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956184"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956182"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3229"></span><span>                                       </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#smallPtrArraySize"><span class="hs-identifier hs-type">smallPtrArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956184"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956183"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956186"><span class="hs-identifier hs-type">dst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3230"></span><span>
</span><span id="line-3231"></span><span>        </span><span class="hs-comment">-- Nonmoving collector write barrier</span><span>
</span><span id="line-3232"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCopyUpdRemSetPush"><span class="hs-identifier hs-type">emitCopyUpdRemSetPush</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956184"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#smallArrPtrsHdrSize"><span class="hs-identifier hs-type">smallArrPtrsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956183"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956186"><span class="hs-identifier hs-type">dst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956181"><span class="hs-identifier hs-type">dst_off</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956182"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-3233"></span><span>
</span><span id="line-3234"></span><span>        </span><span class="hs-comment">-- Set the dirty bit in the header.</span><span>
</span><span id="line-3235"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#setInfo"><span class="hs-identifier hs-type">setInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956186"><span class="hs-identifier hs-type">dst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-type">CmmLabel</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#mkSMAP_DIRTY_infoLabel"><span class="hs-identifier hs-type">mkSMAP_DIRTY_infoLabel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3236"></span><span>
</span><span id="line-3237"></span><span>        </span><span id="local-6989586621682956188"><span class="annot"><a href="#local-6989586621682956188"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExprW"><span class="hs-identifier hs-type">cmmOffsetExprW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956184"><span class="hs-identifier hs-type">platform</span></a></span><span>
</span><span id="line-3238"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956184"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956186"><span class="hs-identifier hs-type">dst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#smallArrPtrsHdrSize"><span class="hs-identifier hs-type">smallArrPtrsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956183"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956181"><span class="hs-identifier hs-type">dst_off</span></a></span><span>
</span><span id="line-3239"></span><span>        </span><span id="local-6989586621682956189"><span class="annot"><a href="#local-6989586621682956189"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExprW"><span class="hs-identifier hs-type">cmmOffsetExprW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956184"><span class="hs-identifier hs-type">platform</span></a></span><span>
</span><span id="line-3240"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956184"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956185"><span class="hs-identifier hs-type">src</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#smallArrPtrsHdrSize"><span class="hs-identifier hs-type">smallArrPtrsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956183"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956179"><span class="hs-identifier hs-type">src_off</span></a></span><span>
</span><span id="line-3241"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956190"><span class="annot"><a href="#local-6989586621682956190"><span class="hs-identifier hs-var hs-var">bytes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; Int
forall a. Num a =&gt; Platform -&gt; a -&gt; a
</span><a href="GHC.Runtime.Heap.Layout.html#wordsToBytes"><span class="hs-identifier hs-var">wordsToBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956184"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956182"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-3242"></span><span>
</span><span id="line-3243"></span><span>        </span><span class="annot"><a href="#local-6989586621682956177"><span class="hs-identifier hs-type">copy</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956185"><span class="hs-identifier hs-type">src</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956186"><span class="hs-identifier hs-type">dst</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956188"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956189"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956190"><span class="hs-identifier hs-type">bytes</span></a></span><span>
</span><span id="line-3244"></span><span>
</span><span id="line-3245"></span><span class="hs-comment">-- | Takes an info table label, a register to return the newly</span><span>
</span><span id="line-3246"></span><span class="hs-comment">-- allocated array in, a source array, an offset in the source array,</span><span>
</span><span id="line-3247"></span><span class="hs-comment">-- and the number of elements to copy. Allocates a new array and</span><span>
</span><span id="line-3248"></span><span class="hs-comment">-- initializes it from the source array.</span><span>
</span><span id="line-3249"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCloneArray"><span class="hs-identifier hs-type">emitCloneArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#WordOff"><span class="hs-identifier hs-type">WordOff</span></a></span><span>
</span><span id="line-3250"></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3251"></span><span id="emitCloneArray"><span class="annot"><span class="annottext">emitCloneArray :: CLabel -&gt; LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCloneArray"><span class="hs-identifier hs-var hs-var">emitCloneArray</span></a></span></span><span> </span><span id="local-6989586621682956191"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682956191"><span class="hs-identifier hs-var">info_p</span></a></span></span><span> </span><span id="local-6989586621682956192"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956192"><span class="hs-identifier hs-var">res_r</span></a></span></span><span> </span><span id="local-6989586621682956193"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956193"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span id="local-6989586621682956194"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956194"><span class="hs-identifier hs-var">src_off</span></a></span></span><span> </span><span id="local-6989586621682956195"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956195"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3252"></span><span>    </span><span id="local-6989586621682956196"><span class="annot"><a href="#local-6989586621682956196"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3253"></span><span>    </span><span id="local-6989586621682956197"><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3254"></span><span>
</span><span id="line-3255"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956198"><span class="annot"><a href="#local-6989586621682956198"><span class="hs-identifier hs-var hs-var">info_ptr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkLblExpr"><span class="hs-identifier hs-var">mkLblExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682956191"><span class="hs-identifier hs-var">info_p</span></a></span><span>
</span><span id="line-3256"></span><span>        </span><span id="local-6989586621682956199"><span class="annot"><a href="#local-6989586621682956199"><span class="hs-identifier hs-var hs-var">rep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; SMRep
</span><a href="GHC.Runtime.Heap.Layout.html#arrPtrsRep"><span class="hs-identifier hs-var">arrPtrsRep</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956197"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956195"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-3257"></span><span>
</span><span id="line-3258"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Ticky.html#tickyAllocPrim"><span class="hs-identifier hs-type">tickyAllocPrim</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrPtrsHdrSize"><span class="hs-identifier hs-type">arrPtrsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956196"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3259"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#nonHdrSize"><span class="hs-identifier hs-type">nonHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956199"><span class="hs-identifier hs-type">rep</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3260"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#zeroExpr"><span class="hs-identifier hs-type">zeroExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3261"></span><span>
</span><span id="line-3262"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956200"><span class="annot"><a href="#local-6989586621682956200"><span class="hs-identifier hs-var hs-var">hdr_size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#fixedHdrSize"><span class="hs-identifier hs-var">fixedHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682956196"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-3263"></span><span>        </span><span id="local-6989586621682956201"><span class="annot"><a href="#local-6989586621682956201"><span class="hs-identifier hs-var hs-var">constants</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; PlatformConstants
</span><a href="GHC.Platform.html#platformConstants"><span class="hs-identifier hs-var">platformConstants</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956197"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-3264"></span><span>
</span><span id="line-3265"></span><span>    </span><span id="local-6989586621682956202"><span class="annot"><a href="#local-6989586621682956202"><span class="hs-identifier hs-var">base</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Heap.html#allocHeapClosure"><span class="hs-identifier hs-type">allocHeapClosure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956199"><span class="hs-identifier hs-type">rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956198"><span class="hs-identifier hs-type">info_ptr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cccsExpr"><span class="hs-identifier hs-type">cccsExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3266"></span><span>                     </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956195"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-3267"></span><span>                        </span><span class="annot"><a href="#local-6989586621682956200"><span class="hs-identifier hs-type">hdr_size</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">+</span></span><span> </span><span class="annot"><a href="GHC.Platform.Constants.html#pc_OFFSET_StgMutArrPtrs_ptrs"><span class="hs-identifier hs-var">pc_OFFSET_StgMutArrPtrs_ptrs</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956201"><span class="hs-identifier hs-type">constants</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3268"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#nonHdrSizeW"><span class="hs-identifier hs-type">nonHdrSizeW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956199"><span class="hs-identifier hs-type">rep</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3269"></span><span>                        </span><span class="annot"><a href="#local-6989586621682956200"><span class="hs-identifier hs-type">hdr_size</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">+</span></span><span> </span><span class="annot"><a href="GHC.Platform.Constants.html#pc_OFFSET_StgMutArrPtrs_size"><span class="hs-identifier hs-var">pc_OFFSET_StgMutArrPtrs_size</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956201"><span class="hs-identifier hs-type">constants</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3270"></span><span>                     </span><span class="hs-special">]</span><span>
</span><span id="line-3271"></span><span>
</span><span id="line-3272"></span><span>    </span><span id="local-6989586621682956203"><span class="annot"><a href="#local-6989586621682956203"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`fmap`</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-type">bWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3273"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956203"><span class="hs-identifier hs-type">arr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956202"><span class="hs-identifier hs-type">base</span></a></span><span>
</span><span id="line-3274"></span><span>
</span><span id="line-3275"></span><span>    </span><span id="local-6989586621682956204"><span class="annot"><a href="#local-6989586621682956204"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956203"><span class="hs-identifier hs-type">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3276"></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrPtrsHdrSize"><span class="hs-identifier hs-type">arrPtrsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956196"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3277"></span><span>    </span><span id="local-6989586621682956205"><span class="annot"><a href="#local-6989586621682956205"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExprW"><span class="hs-identifier hs-type">cmmOffsetExprW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956193"><span class="hs-identifier hs-type">src</span></a></span><span>
</span><span id="line-3278"></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmAddWord"><span class="hs-identifier hs-type">cmmAddWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span>
</span><span id="line-3279"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#arrPtrsHdrSizeW"><span class="hs-identifier hs-type">arrPtrsHdrSizeW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956196"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956194"><span class="hs-identifier hs-type">src_off</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3280"></span><span>
</span><span id="line-3281"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemcpyCall"><span class="hs-identifier hs-type">emitMemcpyCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956204"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956205"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#wordsToBytes"><span class="hs-identifier hs-type">wordsToBytes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956195"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3282"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#wordAlignment"><span class="hs-identifier hs-type">wordAlignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956197"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3283"></span><span>
</span><span id="line-3284"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956192"><span class="hs-identifier hs-type">res_r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956203"><span class="hs-identifier hs-type">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3285"></span><span>
</span><span id="line-3286"></span><span class="hs-comment">-- | Takes an info table label, a register to return the newly</span><span>
</span><span id="line-3287"></span><span class="hs-comment">-- allocated array in, a source array, an offset in the source array,</span><span>
</span><span id="line-3288"></span><span class="hs-comment">-- and the number of elements to copy. Allocates a new array and</span><span>
</span><span id="line-3289"></span><span class="hs-comment">-- initializes it from the source array.</span><span>
</span><span id="line-3290"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCloneSmallArray"><span class="hs-identifier hs-type">emitCloneSmallArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#CLabel"><span class="hs-identifier hs-type">CLabel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Node.html#CmmFormal"><span class="hs-identifier hs-type">CmmFormal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#WordOff"><span class="hs-identifier hs-type">WordOff</span></a></span><span>
</span><span id="line-3291"></span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3292"></span><span id="emitCloneSmallArray"><span class="annot"><span class="annottext">emitCloneSmallArray :: CLabel -&gt; LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCloneSmallArray"><span class="hs-identifier hs-var hs-var">emitCloneSmallArray</span></a></span></span><span> </span><span id="local-6989586621682956208"><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682956208"><span class="hs-identifier hs-var">info_p</span></a></span></span><span> </span><span id="local-6989586621682956209"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956209"><span class="hs-identifier hs-var">res_r</span></a></span></span><span> </span><span id="local-6989586621682956210"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956210"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span id="local-6989586621682956211"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956211"><span class="hs-identifier hs-var">src_off</span></a></span></span><span> </span><span id="local-6989586621682956212"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956212"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3293"></span><span>    </span><span id="local-6989586621682956213"><span class="annot"><a href="#local-6989586621682956213"><span class="hs-identifier hs-var">profile</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3294"></span><span>    </span><span id="local-6989586621682956214"><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3295"></span><span>
</span><span id="line-3296"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956215"><span class="annot"><a href="#local-6989586621682956215"><span class="hs-identifier hs-var hs-var">info_ptr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkLblExpr"><span class="hs-identifier hs-var">mkLblExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="#local-6989586621682956208"><span class="hs-identifier hs-var">info_p</span></a></span><span>
</span><span id="line-3297"></span><span>        </span><span id="local-6989586621682956216"><span class="annot"><a href="#local-6989586621682956216"><span class="hs-identifier hs-var hs-var">rep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SMRep
</span><a href="GHC.Runtime.Heap.Layout.html#smallArrPtrsRep"><span class="hs-identifier hs-var">smallArrPtrsRep</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956212"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-3298"></span><span>
</span><span id="line-3299"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Ticky.html#tickyAllocPrim"><span class="hs-identifier hs-type">tickyAllocPrim</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#smallArrPtrsHdrSize"><span class="hs-identifier hs-type">smallArrPtrsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956213"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3300"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#nonHdrSize"><span class="hs-identifier hs-type">nonHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956216"><span class="hs-identifier hs-type">rep</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3301"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#zeroExpr"><span class="hs-identifier hs-type">zeroExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3302"></span><span>
</span><span id="line-3303"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956217"><span class="annot"><a href="#local-6989586621682956217"><span class="hs-identifier hs-var hs-var">hdr_size</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#fixedHdrSize"><span class="hs-identifier hs-var">fixedHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682956213"><span class="hs-identifier hs-var">profile</span></a></span><span>
</span><span id="line-3304"></span><span>
</span><span id="line-3305"></span><span>    </span><span id="local-6989586621682956218"><span class="annot"><a href="#local-6989586621682956218"><span class="hs-identifier hs-var">base</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Heap.html#allocHeapClosure"><span class="hs-identifier hs-type">allocHeapClosure</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956216"><span class="hs-identifier hs-type">rep</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956215"><span class="hs-identifier hs-type">info_ptr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cccsExpr"><span class="hs-identifier hs-type">cccsExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3306"></span><span>                     </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956212"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-3307"></span><span>                        </span><span class="annot"><a href="#local-6989586621682956217"><span class="hs-identifier hs-type">hdr_size</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">+</span></span><span> </span><span class="annot"><a href="GHC.Platform.Constants.html#pc_OFFSET_StgSmallMutArrPtrs_ptrs"><span class="hs-identifier hs-var">pc_OFFSET_StgSmallMutArrPtrs_ptrs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#platformConstants"><span class="hs-identifier hs-type">platformConstants</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3308"></span><span>                     </span><span class="hs-special">]</span><span>
</span><span id="line-3309"></span><span>
</span><span id="line-3310"></span><span>    </span><span id="local-6989586621682956219"><span class="annot"><a href="#local-6989586621682956219"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">`fmap`</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-type">bWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3311"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956219"><span class="hs-identifier hs-type">arr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956218"><span class="hs-identifier hs-type">base</span></a></span><span>
</span><span id="line-3312"></span><span>
</span><span id="line-3313"></span><span>    </span><span id="local-6989586621682956220"><span class="annot"><a href="#local-6989586621682956220"><span class="hs-identifier hs-var">dst_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetB"><span class="hs-identifier hs-type">cmmOffsetB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956219"><span class="hs-identifier hs-type">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3314"></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#smallArrPtrsHdrSize"><span class="hs-identifier hs-type">smallArrPtrsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956213"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3315"></span><span>    </span><span id="local-6989586621682956221"><span class="annot"><a href="#local-6989586621682956221"><span class="hs-identifier hs-var">src_p</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmOffsetExprW"><span class="hs-identifier hs-type">cmmOffsetExprW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956210"><span class="hs-identifier hs-type">src</span></a></span><span>
</span><span id="line-3316"></span><span>             </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmAddWord"><span class="hs-identifier hs-type">cmmAddWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span>
</span><span id="line-3317"></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#smallArrPtrsHdrSizeW"><span class="hs-identifier hs-type">smallArrPtrsHdrSizeW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956213"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956211"><span class="hs-identifier hs-type">src_off</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3318"></span><span>
</span><span id="line-3319"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemcpyCall"><span class="hs-identifier hs-type">emitMemcpyCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956220"><span class="hs-identifier hs-type">dst_p</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956221"><span class="hs-identifier hs-type">src_p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#wordsToBytes"><span class="hs-identifier hs-type">wordsToBytes</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956212"><span class="hs-identifier hs-type">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3320"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Platform.html#wordAlignment"><span class="hs-identifier hs-type">wordAlignment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956214"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3321"></span><span>
</span><span id="line-3322"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956209"><span class="hs-identifier hs-type">res_r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956219"><span class="hs-identifier hs-type">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3323"></span><span>
</span><span id="line-3324"></span><span class="hs-comment">-- | Takes an offset in the destination array, the base address of</span><span>
</span><span id="line-3325"></span><span class="hs-comment">-- the card table, and the number of elements affected (*not* the</span><span>
</span><span id="line-3326"></span><span class="hs-comment">-- number of cards). The number of elements may not be zero.</span><span>
</span><span id="line-3327"></span><span class="hs-comment">-- Marks the relevant cards as dirty.</span><span>
</span><span id="line-3328"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitSetCards"><span class="hs-identifier hs-type">emitSetCards</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#WordOff"><span class="hs-identifier hs-type">WordOff</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3329"></span><span id="emitSetCards"><span class="annot"><span class="annottext">emitSetCards :: CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitSetCards"><span class="hs-identifier hs-var hs-var">emitSetCards</span></a></span></span><span> </span><span id="local-6989586621682956223"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956223"><span class="hs-identifier hs-var">dst_start</span></a></span></span><span> </span><span id="local-6989586621682956224"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956224"><span class="hs-identifier hs-var">dst_cards_start</span></a></span></span><span> </span><span id="local-6989586621682956225"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956225"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3330"></span><span>    </span><span id="local-6989586621682956226"><span class="annot"><a href="#local-6989586621682956226"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-3331"></span><span>    </span><span id="local-6989586621682956227"><span class="annot"><a href="#local-6989586621682956227"><span class="hs-identifier hs-var">start_card</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#cardCmm"><span class="hs-identifier hs-type">cardCmm</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956226"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956223"><span class="hs-identifier hs-type">dst_start</span></a></span><span>
</span><span id="line-3332"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956229"><span class="annot"><a href="#local-6989586621682956229"><span class="hs-identifier hs-var hs-var">end_card</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#cardCmm"><span class="hs-identifier hs-var">cardCmm</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956226"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-3333"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmSubWord"><span class="hs-identifier hs-var">cmmSubWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956226"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-3334"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmAddWord"><span class="hs-identifier hs-var">cmmAddWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956226"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956223"><span class="hs-identifier hs-var">dst_start</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-var">mkIntExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956226"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956225"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3335"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-var">mkIntExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956226"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3336"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemsetCall"><span class="hs-identifier hs-type">emitMemsetCall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmAddWord"><span class="hs-identifier hs-type">cmmAddWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956226"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956224"><span class="hs-identifier hs-type">dst_cards_start</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956227"><span class="hs-identifier hs-type">start_card</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3337"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956226"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-3338"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmAddWord"><span class="hs-identifier hs-type">cmmAddWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956226"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmSubWord"><span class="hs-identifier hs-type">cmmSubWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956226"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956229"><span class="hs-identifier hs-type">end_card</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956227"><span class="hs-identifier hs-type">start_card</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-type">mkIntExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956226"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3339"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Types.Basic.html#mkAlignment"><span class="hs-identifier hs-type">mkAlignment</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- no alignment (1 byte)</span><span>
</span><span id="line-3340"></span><span>
</span><span id="line-3341"></span><span class="hs-comment">-- Convert an element index to a card index</span><span>
</span><span id="line-3342"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#cardCmm"><span class="hs-identifier hs-type">cardCmm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-3343"></span><span id="cardCmm"><span class="annot"><span class="annottext">cardCmm :: Platform -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#cardCmm"><span class="hs-identifier hs-var hs-var">cardCmm</span></a></span></span><span> </span><span id="local-6989586621682956231"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956231"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621682956232"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956232"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3344"></span><span>    </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmUShrWord"><span class="hs-identifier hs-var">cmmUShrWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956231"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956232"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-var">mkIntExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956231"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PlatformConstants -&gt; Int
</span><a href="GHC.Platform.Constants.html#pc_MUT_ARR_PTRS_CARD_BITS"><span class="hs-identifier hs-var">pc_MUT_ARR_PTRS_CARD_BITS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; PlatformConstants
</span><a href="GHC.Platform.html#platformConstants"><span class="hs-identifier hs-var">platformConstants</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956231"><span class="hs-identifier hs-var">platform</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3345"></span><span>
</span><span id="line-3346"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-3347"></span><span class="hs-comment">-- SmallArray PrimOp implementations</span><span>
</span><span id="line-3348"></span><span>
</span><span id="line-3349"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doReadSmallPtrArrayOp"><span class="hs-identifier hs-type">doReadSmallPtrArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span>
</span><span id="line-3350"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-3351"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-3352"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3353"></span><span id="doReadSmallPtrArrayOp"><span class="annot"><span class="annottext">doReadSmallPtrArrayOp :: LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doReadSmallPtrArrayOp"><span class="hs-identifier hs-var hs-var">doReadSmallPtrArrayOp</span></a></span></span><span> </span><span id="local-6989586621682956234"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956234"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682956235"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956235"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span id="local-6989586621682956236"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956236"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3354"></span><span>    </span><span id="local-6989586621682956237"><span class="annot"><a href="#local-6989586621682956237"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3355"></span><span>    </span><span id="local-6989586621682956238"><span class="annot"><a href="#local-6989586621682956238"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3356"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doSmallPtrArrayBoundsCheck"><span class="hs-identifier hs-type">doSmallPtrArrayBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956236"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956235"><span class="hs-identifier hs-type">addr</span></a></span><span>
</span><span id="line-3357"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedRead"><span class="hs-identifier hs-type">mkBasicIndexedRead</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#NaturallyAligned"><span class="hs-identifier hs-type">NaturallyAligned</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#smallArrPtrsHdrSize"><span class="hs-identifier hs-type">smallArrPtrsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956237"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#gcWord"><span class="hs-identifier hs-type">gcWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956238"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956234"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956235"><span class="hs-identifier hs-type">addr</span></a></span><span>
</span><span id="line-3358"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#gcWord"><span class="hs-identifier hs-type">gcWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956238"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956236"><span class="hs-identifier hs-type">idx</span></a></span><span>
</span><span id="line-3359"></span><span>
</span><span id="line-3360"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doWriteSmallPtrArrayOp"><span class="hs-identifier hs-type">doWriteSmallPtrArrayOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-3361"></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-3362"></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>
</span><span id="line-3363"></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3364"></span><span id="doWriteSmallPtrArrayOp"><span class="annot"><span class="annottext">doWriteSmallPtrArrayOp :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doWriteSmallPtrArrayOp"><span class="hs-identifier hs-var hs-var">doWriteSmallPtrArrayOp</span></a></span></span><span> </span><span id="local-6989586621682956240"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956240"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span id="local-6989586621682956241"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956241"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621682956242"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956242"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3365"></span><span>    </span><span id="local-6989586621682956243"><span class="annot"><a href="#local-6989586621682956243"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3366"></span><span>    </span><span id="local-6989586621682956244"><span class="annot"><a href="#local-6989586621682956244"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3367"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956245"><span class="annot"><a href="#local-6989586621682956245"><span class="hs-identifier hs-var hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmType
</span><a href="GHC.Cmm.Expr.html#cmmExprType"><span class="hs-identifier hs-var">cmmExprType</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956244"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956242"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-3368"></span><span>
</span><span id="line-3369"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doSmallPtrArrayBoundsCheck"><span class="hs-identifier hs-type">doSmallPtrArrayBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956241"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956240"><span class="hs-identifier hs-type">addr</span></a></span><span>
</span><span id="line-3370"></span><span>
</span><span id="line-3371"></span><span>    </span><span class="hs-comment">-- Update remembered set for non-moving collector</span><span>
</span><span id="line-3372"></span><span>    </span><span id="local-6989586621682956246"><span class="annot"><a href="#local-6989586621682956246"><span class="hs-identifier hs-var">tmp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956245"><span class="hs-identifier hs-type">ty</span></a></span><span>
</span><span id="line-3373"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedRead"><span class="hs-identifier hs-type">mkBasicIndexedRead</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#NaturallyAligned"><span class="hs-identifier hs-type">NaturallyAligned</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#smallArrPtrsHdrSize"><span class="hs-identifier hs-type">smallArrPtrsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956243"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="annot"><a href="#local-6989586621682956245"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956246"><span class="hs-identifier hs-type">tmp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956240"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956245"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956241"><span class="hs-identifier hs-type">idx</span></a></span><span>
</span><span id="line-3374"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Utils.html#whenUpdRemSetEnabled"><span class="hs-identifier hs-type">whenUpdRemSetEnabled</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Utils.html#emitUpdRemSetPush"><span class="hs-identifier hs-type">emitUpdRemSetPush</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956246"><span class="hs-identifier hs-type">tmp</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3375"></span><span>
</span><span id="line-3376"></span><span>    </span><span class="hs-comment">-- Write barrier needed due to #12469</span><span>
</span><span id="line-3377"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#mkBasicIndexedWrite"><span class="hs-identifier hs-type">mkBasicIndexedWrite</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#smallArrPtrsHdrSize"><span class="hs-identifier hs-type">smallArrPtrsHdrSize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956243"><span class="hs-identifier hs-type">profile</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956240"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956245"><span class="hs-identifier hs-type">ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956241"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956242"><span class="hs-identifier hs-type">val</span></a></span><span>
</span><span id="line-3378"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#setInfo"><span class="hs-identifier hs-type">setInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956240"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-type">CmmLabel</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#mkSMAP_DIRTY_infoLabel"><span class="hs-identifier hs-type">mkSMAP_DIRTY_infoLabel</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3379"></span><span>
</span><span id="line-3380"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-3381"></span><span class="hs-comment">-- Atomic read-modify-write</span><span>
</span><span id="line-3382"></span><span>
</span><span id="line-3383"></span><span class="hs-comment">-- | Emit an atomic modification to a byte array element. The result</span><span>
</span><span id="line-3384"></span><span class="hs-comment">-- reg contains that previous value of the element. Implies a full</span><span>
</span><span id="line-3385"></span><span class="hs-comment">-- memory barrier.</span><span>
</span><span id="line-3386"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doAtomicByteArrayRMW"><span class="hs-identifier hs-type">doAtomicByteArrayRMW</span></a></span><span>
</span><span id="line-3387"></span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span>      </span><span class="annot"><span class="hs-comment">-- ^ Result reg</span></span><span>
</span><span id="line-3388"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#AtomicMachOp"><span class="hs-identifier hs-type">AtomicMachOp</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Atomic op (e.g. add)</span></span><span>
</span><span id="line-3389"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ MutableByteArray#</span></span><span>
</span><span id="line-3390"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ Index</span></span><span>
</span><span id="line-3391"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ Type of element by which we are indexing</span></span><span>
</span><span id="line-3392"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ Op argument (e.g. amount to add)</span></span><span>
</span><span id="line-3393"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3394"></span><span id="doAtomicByteArrayRMW"><span class="annot"><span class="annottext">doAtomicByteArrayRMW :: LocalReg
-&gt; AtomicMachOp
-&gt; CmmExpr
-&gt; CmmExpr
-&gt; CmmType
-&gt; CmmExpr
-&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicByteArrayRMW"><span class="hs-identifier hs-var hs-var">doAtomicByteArrayRMW</span></a></span></span><span> </span><span id="local-6989586621682956247"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956247"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682956248"><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="#local-6989586621682956248"><span class="hs-identifier hs-var">amop</span></a></span></span><span> </span><span id="local-6989586621682956249"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956249"><span class="hs-identifier hs-var">mba</span></a></span></span><span> </span><span id="local-6989586621682956250"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956250"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621682956251"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956251"><span class="hs-identifier hs-var">idx_ty</span></a></span></span><span> </span><span id="local-6989586621682956252"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956252"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3395"></span><span>    </span><span id="local-6989586621682956253"><span class="annot"><a href="#local-6989586621682956253"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3396"></span><span>    </span><span id="local-6989586621682956254"><span class="annot"><a href="#local-6989586621682956254"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3397"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doByteArrayBoundsCheck"><span class="hs-identifier hs-type">doByteArrayBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956250"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956249"><span class="hs-identifier hs-type">mba</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956251"><span class="hs-identifier hs-type">idx_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956251"><span class="hs-identifier hs-type">idx_ty</span></a></span><span>
</span><span id="line-3398"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956255"><span class="annot"><a href="#local-6989586621682956255"><span class="hs-identifier hs-var hs-var">width</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956251"><span class="hs-identifier hs-var">idx_ty</span></a></span><span>
</span><span id="line-3399"></span><span>        </span><span id="local-6989586621682956256"><span class="annot"><a href="#local-6989586621682956256"><span class="hs-identifier hs-var hs-var">addr</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; Width -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#cmmIndexOffExpr"><span class="hs-identifier hs-var">cmmIndexOffExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956254"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-var">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682956253"><span class="hs-identifier hs-var">profile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3400"></span><span>                </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956255"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956249"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956250"><span class="hs-identifier hs-var">idx</span></a></span><span>
</span><span id="line-3401"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doAtomicAddrRMW"><span class="hs-identifier hs-type">doAtomicAddrRMW</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956247"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956248"><span class="hs-identifier hs-type">amop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956256"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956251"><span class="hs-identifier hs-type">idx_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956252"><span class="hs-identifier hs-type">n</span></a></span><span>
</span><span id="line-3402"></span><span>
</span><span id="line-3403"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doAtomicAddrRMW"><span class="hs-identifier hs-type">doAtomicAddrRMW</span></a></span><span>
</span><span id="line-3404"></span><span>            </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span>      </span><span class="annot"><span class="hs-comment">-- ^ Result reg</span></span><span>
</span><span id="line-3405"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.MachOp.html#AtomicMachOp"><span class="hs-identifier hs-type">AtomicMachOp</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Atomic op (e.g. add)</span></span><span>
</span><span id="line-3406"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ Addr#</span></span><span>
</span><span id="line-3407"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ Pointed value type</span></span><span>
</span><span id="line-3408"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>       </span><span class="annot"><span class="hs-comment">-- ^ Op argument (e.g. amount to add)</span></span><span>
</span><span id="line-3409"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3410"></span><span id="doAtomicAddrRMW"><span class="annot"><span class="annottext">doAtomicAddrRMW :: LocalReg
-&gt; AtomicMachOp -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicAddrRMW"><span class="hs-identifier hs-var hs-var">doAtomicAddrRMW</span></a></span></span><span> </span><span id="local-6989586621682956257"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956257"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682956258"><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="#local-6989586621682956258"><span class="hs-identifier hs-var">amop</span></a></span></span><span> </span><span id="local-6989586621682956259"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956259"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span id="local-6989586621682956260"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956260"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682956261"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956261"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3411"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span>
</span><span id="line-3412"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956257"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3413"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; AtomicMachOp -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_AtomicRMW"><span class="hs-identifier hs-var">MO_AtomicRMW</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956260"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AtomicMachOp
</span><a href="#local-6989586621682956258"><span class="hs-identifier hs-var">amop</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3414"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956259"><span class="hs-identifier hs-var">addr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956261"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3415"></span><span>
</span><span id="line-3416"></span><span class="annot"><span class="hs-comment">-- | Emit an atomic read to a byte array that acts as a memory barrier.</span></span><span>
</span><span id="line-3417"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doAtomicReadByteArray"><span class="hs-identifier hs-type">doAtomicReadByteArray</span></a></span><span>
</span><span id="line-3418"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Result reg</span></span><span>
</span><span id="line-3419"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ MutableByteArray#</span></span><span>
</span><span id="line-3420"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Index</span></span><span>
</span><span id="line-3421"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Type of element by which we are indexing</span></span><span>
</span><span id="line-3422"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3423"></span><span id="doAtomicReadByteArray"><span class="annot"><span class="annottext">doAtomicReadByteArray :: LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmType -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicReadByteArray"><span class="hs-identifier hs-var hs-var">doAtomicReadByteArray</span></a></span></span><span> </span><span id="local-6989586621682956263"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956263"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682956264"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956264"><span class="hs-identifier hs-var">mba</span></a></span></span><span> </span><span id="local-6989586621682956265"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956265"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621682956266"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956266"><span class="hs-identifier hs-var">idx_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3424"></span><span>    </span><span id="local-6989586621682956267"><span class="annot"><a href="#local-6989586621682956267"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3425"></span><span>    </span><span id="local-6989586621682956268"><span class="annot"><a href="#local-6989586621682956268"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3426"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doByteArrayBoundsCheck"><span class="hs-identifier hs-type">doByteArrayBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956265"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956264"><span class="hs-identifier hs-type">mba</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956266"><span class="hs-identifier hs-type">idx_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956266"><span class="hs-identifier hs-type">idx_ty</span></a></span><span>
</span><span id="line-3427"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956269"><span class="annot"><a href="#local-6989586621682956269"><span class="hs-identifier hs-var hs-var">width</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956266"><span class="hs-identifier hs-var">idx_ty</span></a></span><span>
</span><span id="line-3428"></span><span>        </span><span id="local-6989586621682956270"><span class="annot"><a href="#local-6989586621682956270"><span class="hs-identifier hs-var hs-var">addr</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; Width -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#cmmIndexOffExpr"><span class="hs-identifier hs-var">cmmIndexOffExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956268"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-var">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682956267"><span class="hs-identifier hs-var">profile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3429"></span><span>                </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956269"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956264"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956265"><span class="hs-identifier hs-var">idx</span></a></span><span>
</span><span id="line-3430"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doAtomicReadAddr"><span class="hs-identifier hs-type">doAtomicReadAddr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956263"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956270"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956266"><span class="hs-identifier hs-type">idx_ty</span></a></span><span>
</span><span id="line-3431"></span><span>
</span><span id="line-3432"></span><span class="annot"><span class="hs-comment">-- | Emit an atomic read to an address that acts as a memory barrier.</span></span><span>
</span><span id="line-3433"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doAtomicReadAddr"><span class="hs-identifier hs-type">doAtomicReadAddr</span></a></span><span>
</span><span id="line-3434"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Result reg</span></span><span>
</span><span id="line-3435"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Addr#</span></span><span>
</span><span id="line-3436"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Type of element by which we are indexing</span></span><span>
</span><span id="line-3437"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3438"></span><span id="doAtomicReadAddr"><span class="annot"><span class="annottext">doAtomicReadAddr :: LocalReg -&gt; CmmExpr -&gt; CmmType -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicReadAddr"><span class="hs-identifier hs-var hs-var">doAtomicReadAddr</span></a></span></span><span> </span><span id="local-6989586621682956271"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956271"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682956272"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956272"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span id="local-6989586621682956273"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956273"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3439"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span>
</span><span id="line-3440"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956271"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3441"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MemoryOrdering -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_AtomicRead"><span class="hs-identifier hs-var">MO_AtomicRead</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956273"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MemoryOrdering
</span><a href="GHC.Cmm.MachOp.html#MemOrderSeqCst"><span class="hs-identifier hs-var">MemOrderSeqCst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3442"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956272"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3443"></span><span>
</span><span id="line-3444"></span><span class="annot"><span class="hs-comment">-- | Emit an atomic write to a byte array that acts as a memory barrier.</span></span><span>
</span><span id="line-3445"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doAtomicWriteByteArray"><span class="hs-identifier hs-type">doAtomicWriteByteArray</span></a></span><span>
</span><span id="line-3446"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ MutableByteArray#</span></span><span>
</span><span id="line-3447"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Index</span></span><span>
</span><span id="line-3448"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Type of element by which we are indexing</span></span><span>
</span><span id="line-3449"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Value to write</span></span><span>
</span><span id="line-3450"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3451"></span><span id="doAtomicWriteByteArray"><span class="annot"><span class="annottext">doAtomicWriteByteArray :: CmmExpr -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicWriteByteArray"><span class="hs-identifier hs-var hs-var">doAtomicWriteByteArray</span></a></span></span><span> </span><span id="local-6989586621682956275"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956275"><span class="hs-identifier hs-var">mba</span></a></span></span><span> </span><span id="local-6989586621682956276"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956276"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621682956277"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956277"><span class="hs-identifier hs-var">idx_ty</span></a></span></span><span> </span><span id="local-6989586621682956278"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956278"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3452"></span><span>    </span><span id="local-6989586621682956279"><span class="annot"><a href="#local-6989586621682956279"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3453"></span><span>    </span><span id="local-6989586621682956280"><span class="annot"><a href="#local-6989586621682956280"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3454"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doByteArrayBoundsCheck"><span class="hs-identifier hs-type">doByteArrayBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956276"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956275"><span class="hs-identifier hs-type">mba</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956277"><span class="hs-identifier hs-type">idx_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956277"><span class="hs-identifier hs-type">idx_ty</span></a></span><span>
</span><span id="line-3455"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956281"><span class="annot"><a href="#local-6989586621682956281"><span class="hs-identifier hs-var hs-var">width</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956277"><span class="hs-identifier hs-var">idx_ty</span></a></span><span>
</span><span id="line-3456"></span><span>        </span><span id="local-6989586621682956282"><span class="annot"><a href="#local-6989586621682956282"><span class="hs-identifier hs-var hs-var">addr</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; Width -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#cmmIndexOffExpr"><span class="hs-identifier hs-var">cmmIndexOffExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956280"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-var">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682956279"><span class="hs-identifier hs-var">profile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3457"></span><span>                </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956281"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956275"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956276"><span class="hs-identifier hs-var">idx</span></a></span><span>
</span><span id="line-3458"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doAtomicWriteAddr"><span class="hs-identifier hs-type">doAtomicWriteAddr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956282"><span class="hs-identifier hs-type">addr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956277"><span class="hs-identifier hs-type">idx_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956278"><span class="hs-identifier hs-type">val</span></a></span><span>
</span><span id="line-3459"></span><span>
</span><span id="line-3460"></span><span class="annot"><span class="hs-comment">-- | Emit an atomic write to an address that acts as a memory barrier.</span></span><span>
</span><span id="line-3461"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doAtomicWriteAddr"><span class="hs-identifier hs-type">doAtomicWriteAddr</span></a></span><span>
</span><span id="line-3462"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Addr#</span></span><span>
</span><span id="line-3463"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Type of element by which we are indexing</span></span><span>
</span><span id="line-3464"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Value to write</span></span><span>
</span><span id="line-3465"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3466"></span><span id="doAtomicWriteAddr"><span class="annot"><span class="annottext">doAtomicWriteAddr :: CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doAtomicWriteAddr"><span class="hs-identifier hs-var hs-var">doAtomicWriteAddr</span></a></span></span><span> </span><span id="local-6989586621682956283"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956283"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span id="local-6989586621682956284"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956284"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span id="local-6989586621682956285"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956285"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3467"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span>
</span><span id="line-3468"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-comment">{- no results -}</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3469"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; MemoryOrdering -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_AtomicWrite"><span class="hs-identifier hs-var">MO_AtomicWrite</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956284"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">MemoryOrdering
</span><a href="GHC.Cmm.MachOp.html#MemOrderSeqCst"><span class="hs-identifier hs-var">MemOrderSeqCst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3470"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956283"><span class="hs-identifier hs-var">addr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956285"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3471"></span><span>
</span><span id="line-3472"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doCasByteArray"><span class="hs-identifier hs-type">doCasByteArray</span></a></span><span>
</span><span id="line-3473"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ Result reg</span></span><span>
</span><span id="line-3474"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ MutableByteArray#</span></span><span>
</span><span id="line-3475"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Index</span></span><span>
</span><span id="line-3476"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Type of element by which we are indexing</span></span><span>
</span><span id="line-3477"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ Old value</span></span><span>
</span><span id="line-3478"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>   </span><span class="annot"><span class="hs-comment">-- ^ New value</span></span><span>
</span><span id="line-3479"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3480"></span><span id="doCasByteArray"><span class="annot"><span class="annottext">doCasByteArray :: LocalReg
-&gt; CmmExpr -&gt; CmmExpr -&gt; CmmType -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doCasByteArray"><span class="hs-identifier hs-var hs-var">doCasByteArray</span></a></span></span><span> </span><span id="local-6989586621682956286"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956286"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682956287"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956287"><span class="hs-identifier hs-var">mba</span></a></span></span><span> </span><span id="local-6989586621682956288"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956288"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621682956289"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956289"><span class="hs-identifier hs-var">idx_ty</span></a></span></span><span> </span><span id="local-6989586621682956290"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956290"><span class="hs-identifier hs-var">old</span></a></span></span><span> </span><span id="local-6989586621682956291"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956291"><span class="hs-identifier hs-var">new</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3481"></span><span>    </span><span id="local-6989586621682956292"><span class="annot"><a href="#local-6989586621682956292"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3482"></span><span>    </span><span id="local-6989586621682956293"><span class="annot"><a href="#local-6989586621682956293"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3483"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doByteArrayBoundsCheck"><span class="hs-identifier hs-type">doByteArrayBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956288"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956287"><span class="hs-identifier hs-type">mba</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956289"><span class="hs-identifier hs-type">idx_ty</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956289"><span class="hs-identifier hs-type">idx_ty</span></a></span><span>
</span><span id="line-3484"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956294"><span class="annot"><a href="#local-6989586621682956294"><span class="hs-identifier hs-var hs-var">width</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956289"><span class="hs-identifier hs-var">idx_ty</span></a></span><span>
</span><span id="line-3485"></span><span>        </span><span id="local-6989586621682956295"><span class="annot"><a href="#local-6989586621682956295"><span class="hs-identifier hs-var hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; Width -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#cmmIndexOffExpr"><span class="hs-identifier hs-var">cmmIndexOffExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956293"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Profile -&gt; Int
</span><a href="GHC.Runtime.Heap.Layout.html#arrWordsHdrSize"><span class="hs-identifier hs-var">arrWordsHdrSize</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682956292"><span class="hs-identifier hs-var">profile</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3486"></span><span>               </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956294"><span class="hs-identifier hs-var">width</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956287"><span class="hs-identifier hs-var">mba</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956288"><span class="hs-identifier hs-var">idx</span></a></span><span>
</span><span id="line-3487"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-type">emitPrimCall</span></a></span><span>
</span><span id="line-3488"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621682956286"><span class="hs-identifier hs-type">res</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3489"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Cmpxchg"><span class="hs-identifier hs-type">MO_Cmpxchg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956294"><span class="hs-identifier hs-type">width</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3490"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621682956295"><span class="hs-identifier hs-type">addr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682956290"><span class="hs-identifier hs-type">old</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682956291"><span class="hs-identifier hs-type">new</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3491"></span><span>
</span><span id="line-3492"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-3493"></span><span class="hs-comment">-- Helpers for emitting function calls</span><span>
</span><span id="line-3494"></span><span>
</span><span id="line-3495"></span><span class="annot"><span class="hs-comment">-- | Emit a call to @memcpy@.</span></span><span>
</span><span id="line-3496"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemcpyCall"><span class="hs-identifier hs-type">emitMemcpyCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Alignment"><span class="hs-identifier hs-type">Alignment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3497"></span><span id="emitMemcpyCall"><span class="annot"><span class="annottext">emitMemcpyCall :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Alignment -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitMemcpyCall"><span class="hs-identifier hs-var hs-var">emitMemcpyCall</span></a></span></span><span> </span><span id="local-6989586621682956296"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956296"><span class="hs-identifier hs-var">dst</span></a></span></span><span> </span><span id="local-6989586621682956297"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956297"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span id="local-6989586621682956298"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956298"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682956299"><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956299"><span class="hs-identifier hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3498"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span>
</span><span id="line-3499"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-comment">{-no results-}</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3500"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Memcpy"><span class="hs-identifier hs-var">MO_Memcpy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Alignment -&gt; Int
</span><a href="GHC.Types.Basic.html#alignmentBytes"><span class="hs-identifier hs-var">alignmentBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956299"><span class="hs-identifier hs-var">align</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3501"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956296"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956297"><span class="hs-identifier hs-var">src</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956298"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3502"></span><span>
</span><span id="line-3503"></span><span class="hs-comment">-- | Emit a call to @memcpy@, but check for range</span><span>
</span><span id="line-3504"></span><span class="hs-comment">-- overlap when -fcheck-prim-bounds is on.</span><span>
</span><span id="line-3505"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCheckedMemcpyCall"><span class="hs-identifier hs-type">emitCheckedMemcpyCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Alignment"><span class="hs-identifier hs-type">Alignment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3506"></span><span id="emitCheckedMemcpyCall"><span class="annot"><span class="annottext">emitCheckedMemcpyCall :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Alignment -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCheckedMemcpyCall"><span class="hs-identifier hs-var hs-var">emitCheckedMemcpyCall</span></a></span></span><span> </span><span id="local-6989586621682956302"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956302"><span class="hs-identifier hs-var">dst</span></a></span></span><span> </span><span id="local-6989586621682956303"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956303"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span id="local-6989586621682956304"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956304"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682956305"><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956305"><span class="hs-identifier hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3507"></span><span>    </span><span class="annot"><span class="annottext">FCode () -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#whenCheckBounds"><span class="hs-identifier hs-var">whenCheckBounds</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span> </span><span class="annot"><span class="annottext">FCode Platform -&gt; (Platform -&gt; FCode ()) -&gt; FCode ()
forall a b. FCode a -&gt; (a -&gt; FCode b) -&gt; FCode b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Platform -&gt; FCode ()
</span><a href="#local-6989586621682956306"><span class="hs-identifier hs-var">doCheck</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3508"></span><span>    </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Alignment -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitMemcpyCall"><span class="hs-identifier hs-var">emitMemcpyCall</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956302"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956303"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956304"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956305"><span class="hs-identifier hs-var">align</span></a></span><span>
</span><span id="line-3509"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3510"></span><span>    </span><span id="local-6989586621682956306"><span class="annot"><span class="annottext">doCheck :: Platform -&gt; FCode ()
</span><a href="#local-6989586621682956306"><span class="hs-identifier hs-var hs-var">doCheck</span></a></span></span><span> </span><span id="local-6989586621682956307"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956307"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3511"></span><span>        </span><span id="local-6989586621682956308"><span class="annot"><a href="#local-6989586621682956308"><span class="hs-identifier hs-var">overlapCheckFailed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode () -&gt; FCode CmmAGraph
forall a. FCode a -&gt; FCode CmmAGraph
</span><a href="GHC.StgToCmm.Monad.html#getCode"><span class="hs-identifier hs-var">getCode</span></a></span><span> </span><span class="annot"><span class="annottext">(FCode () -&gt; FCode CmmAGraph) -&gt; FCode () -&gt; FCode CmmAGraph
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-3512"></span><span>          </span><span class="annot"><span class="annottext">[(LocalReg, ForeignHint)]
-&gt; CmmExpr -&gt; [(CmmExpr, ForeignHint)] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitCCallNeverReturns"><span class="hs-identifier hs-var">emitCCallNeverReturns</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkLblExpr"><span class="hs-identifier hs-var">mkLblExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CLabel
</span><a href="GHC.Cmm.CLabel.html#mkMemcpyRangeOverlapLabel"><span class="hs-identifier hs-var">mkMemcpyRangeOverlapLabel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-3513"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">=&lt;&lt;</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#mkCmmIfThen%27"><span class="hs-identifier hs-type">mkCmmIfThen'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956311"><span class="hs-identifier hs-type">rangesOverlap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956308"><span class="hs-identifier hs-type">overlapCheckFailed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-3514"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-3515"></span><span>        </span><span id="local-6989586621682956311"><span class="annot"><span class="annottext">rangesOverlap :: CmmExpr
</span><a href="#local-6989586621682956311"><span class="hs-identifier hs-var hs-var">rangesOverlap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682956312"><span class="hs-identifier hs-var">checkDiff</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956302"><span class="hs-identifier hs-var">dst</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956303"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682956313"><span class="hs-operator hs-var">`or`</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682956312"><span class="hs-identifier hs-var">checkDiff</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956303"><span class="hs-identifier hs-var">src</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956302"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682956314"><span class="hs-operator hs-var">`ne`</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956315"><span class="hs-identifier hs-var">zero</span></a></span><span>
</span><span id="line-3516"></span><span>        </span><span id="local-6989586621682956312"><span class="annot"><span class="annottext">checkDiff :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682956312"><span class="hs-identifier hs-var hs-var">checkDiff</span></a></span></span><span> </span><span id="local-6989586621682956316"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956316"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621682956317"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956317"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956316"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682956318"><span class="hs-operator hs-var">`minus`</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956317"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682956319"><span class="hs-operator hs-var">`uLT`</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956304"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-3517"></span><span>        </span><span id="local-6989586621682956313"><span class="annot"><span class="annottext">or :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682956313"><span class="hs-identifier hs-var hs-var">or</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmOrWord"><span class="hs-identifier hs-var">cmmOrWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956307"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-3518"></span><span>        </span><span id="local-6989586621682956318"><span class="annot"><span class="annottext">minus :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682956318"><span class="hs-identifier hs-var hs-var">minus</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmSubWord"><span class="hs-identifier hs-var">cmmSubWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956307"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-3519"></span><span>        </span><span id="local-6989586621682956319"><span class="annot"><span class="annottext">uLT :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682956319"><span class="hs-identifier hs-var hs-var">uLT</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmULtWord"><span class="hs-identifier hs-var">cmmULtWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956307"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-3520"></span><span>        </span><span id="local-6989586621682956314"><span class="annot"><span class="annottext">ne :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682956314"><span class="hs-identifier hs-var hs-var">ne</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmNeWord"><span class="hs-identifier hs-var">cmmNeWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956307"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-3521"></span><span>        </span><span id="local-6989586621682956315"><span class="annot"><span class="annottext">zero :: CmmExpr
</span><a href="#local-6989586621682956315"><span class="hs-identifier hs-var hs-var">zero</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#zeroExpr"><span class="hs-identifier hs-var">zeroExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956307"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-3522"></span><span>
</span><span id="line-3523"></span><span class="annot"><span class="hs-comment">-- | Emit a call to @memmove@.</span></span><span>
</span><span id="line-3524"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemmoveCall"><span class="hs-identifier hs-type">emitMemmoveCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Alignment"><span class="hs-identifier hs-type">Alignment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3525"></span><span id="emitMemmoveCall"><span class="annot"><span class="annottext">emitMemmoveCall :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Alignment -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitMemmoveCall"><span class="hs-identifier hs-var hs-var">emitMemmoveCall</span></a></span></span><span> </span><span id="local-6989586621682956322"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956322"><span class="hs-identifier hs-var">dst</span></a></span></span><span> </span><span id="local-6989586621682956323"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956323"><span class="hs-identifier hs-var">src</span></a></span></span><span> </span><span id="local-6989586621682956324"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956324"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682956325"><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956325"><span class="hs-identifier hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3526"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span>
</span><span id="line-3527"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-comment">{- no results -}</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3528"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Memmove"><span class="hs-identifier hs-var">MO_Memmove</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Alignment -&gt; Int
</span><a href="GHC.Types.Basic.html#alignmentBytes"><span class="hs-identifier hs-var">alignmentBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956325"><span class="hs-identifier hs-var">align</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3529"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956322"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956323"><span class="hs-identifier hs-var">src</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956324"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3530"></span><span>
</span><span id="line-3531"></span><span class="hs-comment">-- | Emit a call to @memset@.  The second argument must fit inside an</span><span>
</span><span id="line-3532"></span><span class="hs-comment">-- unsigned char.</span><span>
</span><span id="line-3533"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemsetCall"><span class="hs-identifier hs-type">emitMemsetCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Types.Basic.html#Alignment"><span class="hs-identifier hs-type">Alignment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3534"></span><span id="emitMemsetCall"><span class="annot"><span class="annottext">emitMemsetCall :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Alignment -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitMemsetCall"><span class="hs-identifier hs-var hs-var">emitMemsetCall</span></a></span></span><span> </span><span id="local-6989586621682956327"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956327"><span class="hs-identifier hs-var">dst</span></a></span></span><span> </span><span id="local-6989586621682956328"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956328"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621682956329"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956329"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682956330"><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956330"><span class="hs-identifier hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3535"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span>
</span><span id="line-3536"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="hs-comment">{- no results -}</span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3537"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Memset"><span class="hs-identifier hs-var">MO_Memset</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Alignment -&gt; Int
</span><a href="GHC.Types.Basic.html#alignmentBytes"><span class="hs-identifier hs-var">alignmentBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Alignment
</span><a href="#local-6989586621682956330"><span class="hs-identifier hs-var">align</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3538"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956327"><span class="hs-identifier hs-var">dst</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956328"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956329"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3539"></span><span>
</span><span id="line-3540"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitMemcmpCall"><span class="hs-identifier hs-type">emitMemcmpCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3541"></span><span id="emitMemcmpCall"><span class="annot"><span class="annottext">emitMemcmpCall :: LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitMemcmpCall"><span class="hs-identifier hs-var hs-var">emitMemcmpCall</span></a></span></span><span> </span><span id="local-6989586621682956332"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956332"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682956333"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956333"><span class="hs-identifier hs-var">ptr1</span></a></span></span><span> </span><span id="local-6989586621682956334"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956334"><span class="hs-identifier hs-var">ptr2</span></a></span></span><span> </span><span id="local-6989586621682956335"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956335"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621682956336"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956336"><span class="hs-identifier hs-var">align</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3542"></span><span>    </span><span class="hs-comment">-- 'MO_Memcmp' is assumed to return an 32bit 'CInt' because all</span><span>
</span><span id="line-3543"></span><span>    </span><span class="hs-comment">-- code-gens currently call out to the @memcmp(3)@ C function.</span><span>
</span><span id="line-3544"></span><span>    </span><span class="hs-comment">-- This was easier than moving the sign-extensions into</span><span>
</span><span id="line-3545"></span><span>    </span><span class="hs-comment">-- all the code-gens.</span><span>
</span><span id="line-3546"></span><span>    </span><span id="local-6989586621682956337"><span class="annot"><a href="#local-6989586621682956337"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-3547"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956338"><span class="annot"><a href="#local-6989586621682956338"><span class="hs-identifier hs-var hs-var">is32Bit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmType
</span><a href="GHC.Cmm.Reg.html#localRegType"><span class="hs-identifier hs-var">localRegType</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956332"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Width -&gt; Width -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="GHC.Cmm.Type.html#W32"><span class="hs-identifier hs-var">W32</span></a></span><span>
</span><span id="line-3548"></span><span>
</span><span id="line-3549"></span><span>    </span><span id="local-6989586621682956340"><span class="annot"><a href="#local-6989586621682956340"><span class="hs-identifier hs-var">cres</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621682956338"><span class="hs-identifier hs-type">is32Bit</span></a></span><span>
</span><span id="line-3550"></span><span>              </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-identifier hs-type">return</span></span><span> </span><span class="annot"><a href="#local-6989586621682956332"><span class="hs-identifier hs-type">res</span></a></span><span>
</span><span id="line-3551"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#b32"><span class="hs-identifier hs-type">b32</span></a></span><span>
</span><span id="line-3552"></span><span>
</span><span id="line-3553"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-type">emitPrimCall</span></a></span><span>
</span><span id="line-3554"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621682956340"><span class="hs-identifier hs-type">cres</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3555"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#MO_Memcmp"><span class="hs-identifier hs-type">MO_Memcmp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956336"><span class="hs-identifier hs-type">align</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3556"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><a href="#local-6989586621682956333"><span class="hs-identifier hs-type">ptr1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682956334"><span class="hs-identifier hs-type">ptr2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682956335"><span class="hs-identifier hs-type">n</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3557"></span><span>
</span><span id="line-3558"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">unless</span></span><span> </span><span class="annot"><a href="#local-6989586621682956338"><span class="hs-identifier hs-type">is32Bit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-3559"></span><span>      </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Graph.html#mkAssign"><span class="hs-identifier hs-type">mkAssign</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956332"><span class="hs-identifier hs-type">res</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3560"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmMachOp"><span class="hs-identifier hs-type">CmmMachOp</span></a></span><span>
</span><span id="line-3561"></span><span>                         </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.MachOp.html#mo_s_32ToWord"><span class="hs-identifier hs-type">mo_s_32ToWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956337"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3562"></span><span>                         </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-type">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-type">CmmLocal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956340"><span class="hs-identifier hs-type">cres</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-3563"></span><span>
</span><span id="line-3564"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitBSwapCall"><span class="hs-identifier hs-type">emitBSwapCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3565"></span><span id="emitBSwapCall"><span class="annot"><span class="annottext">emitBSwapCall :: LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitBSwapCall"><span class="hs-identifier hs-var hs-var">emitBSwapCall</span></a></span></span><span> </span><span id="local-6989586621682956343"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956343"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682956344"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956344"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682956345"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956345"><span class="hs-identifier hs-var">width</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3566"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span>
</span><span id="line-3567"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956343"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3568"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_BSwap"><span class="hs-identifier hs-var">MO_BSwap</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956345"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3569"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956344"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3570"></span><span>
</span><span id="line-3571"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitBRevCall"><span class="hs-identifier hs-type">emitBRevCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3572"></span><span id="emitBRevCall"><span class="annot"><span class="annottext">emitBRevCall :: LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitBRevCall"><span class="hs-identifier hs-var hs-var">emitBRevCall</span></a></span></span><span> </span><span id="local-6989586621682956347"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956347"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682956348"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956348"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682956349"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956349"><span class="hs-identifier hs-var">width</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3573"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span>
</span><span id="line-3574"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956347"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3575"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_BRev"><span class="hs-identifier hs-var">MO_BRev</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956349"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3576"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956348"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3577"></span><span>
</span><span id="line-3578"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitPopCntCall"><span class="hs-identifier hs-type">emitPopCntCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3579"></span><span id="emitPopCntCall"><span class="annot"><span class="annottext">emitPopCntCall :: LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPopCntCall"><span class="hs-identifier hs-var hs-var">emitPopCntCall</span></a></span></span><span> </span><span id="local-6989586621682956351"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956351"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682956352"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956352"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682956353"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956353"><span class="hs-identifier hs-var">width</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3580"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span>
</span><span id="line-3581"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956351"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3582"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_PopCnt"><span class="hs-identifier hs-var">MO_PopCnt</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956353"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3583"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956352"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3584"></span><span>
</span><span id="line-3585"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitPdepCall"><span class="hs-identifier hs-type">emitPdepCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3586"></span><span id="emitPdepCall"><span class="annot"><span class="annottext">emitPdepCall :: LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPdepCall"><span class="hs-identifier hs-var hs-var">emitPdepCall</span></a></span></span><span> </span><span id="local-6989586621682956355"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956355"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682956356"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956356"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682956357"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956357"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621682956358"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956358"><span class="hs-identifier hs-var">width</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3587"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span>
</span><span id="line-3588"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956355"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3589"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Pdep"><span class="hs-identifier hs-var">MO_Pdep</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956358"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3590"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956356"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956357"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3591"></span><span>
</span><span id="line-3592"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitPextCall"><span class="hs-identifier hs-type">emitPextCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3593"></span><span id="emitPextCall"><span class="annot"><span class="annottext">emitPextCall :: LocalReg -&gt; CmmExpr -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitPextCall"><span class="hs-identifier hs-var hs-var">emitPextCall</span></a></span></span><span> </span><span id="local-6989586621682956360"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956360"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682956361"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956361"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682956362"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956362"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621682956363"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956363"><span class="hs-identifier hs-var">width</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3594"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span>
</span><span id="line-3595"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956360"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3596"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Pext"><span class="hs-identifier hs-var">MO_Pext</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956363"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3597"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956361"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956362"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3598"></span><span>
</span><span id="line-3599"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitClzCall"><span class="hs-identifier hs-type">emitClzCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3600"></span><span id="emitClzCall"><span class="annot"><span class="annottext">emitClzCall :: LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitClzCall"><span class="hs-identifier hs-var hs-var">emitClzCall</span></a></span></span><span> </span><span id="local-6989586621682956365"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956365"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682956366"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956366"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682956367"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956367"><span class="hs-identifier hs-var">width</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3601"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span>
</span><span id="line-3602"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956365"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3603"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Clz"><span class="hs-identifier hs-var">MO_Clz</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956367"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3604"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956366"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3605"></span><span>
</span><span id="line-3606"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCtzCall"><span class="hs-identifier hs-type">emitCtzCall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Reg.html#LocalReg"><span class="hs-identifier hs-type">LocalReg</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#Width"><span class="hs-identifier hs-type">Width</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3607"></span><span id="emitCtzCall"><span class="annot"><span class="annottext">emitCtzCall :: LocalReg -&gt; CmmExpr -&gt; Width -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCtzCall"><span class="hs-identifier hs-var hs-var">emitCtzCall</span></a></span></span><span> </span><span id="local-6989586621682956369"><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956369"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span id="local-6989586621682956370"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956370"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621682956371"><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956371"><span class="hs-identifier hs-var">width</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3608"></span><span>    </span><span class="annot"><span class="annottext">[LocalReg] -&gt; CallishMachOp -&gt; [CmmExpr] -&gt; FCode ()
</span><a href="GHC.StgToCmm.Foreign.html#emitPrimCall"><span class="hs-identifier hs-var">emitPrimCall</span></a></span><span>
</span><span id="line-3609"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956369"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3610"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; CallishMachOp
</span><a href="GHC.Cmm.MachOp.html#MO_Ctz"><span class="hs-identifier hs-var">MO_Ctz</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956371"><span class="hs-identifier hs-var">width</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3611"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956370"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-3612"></span><span>
</span><span id="line-3613"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-3614"></span><span class="hs-comment">-- Array bounds checking</span><span>
</span><span id="line-3615"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-3616"></span><span>
</span><span id="line-3617"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#whenCheckBounds"><span class="hs-identifier hs-type">whenCheckBounds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3618"></span><span id="whenCheckBounds"><span class="annot"><span class="annottext">whenCheckBounds :: FCode () -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#whenCheckBounds"><span class="hs-identifier hs-var hs-var">whenCheckBounds</span></a></span></span><span> </span><span id="local-6989586621682956373"><span class="annot"><span class="annottext">FCode ()
</span><a href="#local-6989586621682956373"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3619"></span><span>  </span><span id="local-6989586621682956374"><span class="annot"><a href="#local-6989586621682956374"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode StgToCmmConfig
</span><a href="GHC.StgToCmm.Monad.html#getStgToCmmConfig"><span class="hs-identifier hs-var">getStgToCmmConfig</span></a></span><span>
</span><span id="line-3620"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Config.html#stgToCmmDoBoundsCheck"><span class="hs-identifier hs-var">stgToCmmDoBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956374"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-3621"></span><span>    </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; FCode ()
forall a. a -&gt; FCode a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3622"></span><span>    </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FCode ()
</span><a href="#local-6989586621682956373"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-3623"></span><span>
</span><span id="line-3624"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitBoundsCheck"><span class="hs-identifier hs-type">emitBoundsCheck</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ accessed index</span></span><span>
</span><span id="line-3625"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ array size (in elements)</span></span><span>
</span><span id="line-3626"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3627"></span><span id="emitBoundsCheck"><span class="annot"><span class="annottext">emitBoundsCheck :: CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitBoundsCheck"><span class="hs-identifier hs-var hs-var">emitBoundsCheck</span></a></span></span><span> </span><span id="local-6989586621682956377"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956377"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621682956378"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956378"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3628"></span><span>    </span><span class="annot"><span class="annottext">FCode Bool -&gt; FCode ()
forall (m :: * -&gt; *). (HasCallStack, Monad m) =&gt; m Bool -&gt; m ()
</span><a href="GHC.Utils.Panic.Plain.html#assertM"><span class="hs-identifier hs-var">assertM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmDoBoundsCheck"><span class="hs-identifier hs-var">stgToCmmDoBoundsCheck</span></a></span><span> </span><span class="annot"><span class="annottext">(StgToCmmConfig -&gt; Bool) -&gt; FCode StgToCmmConfig -&gt; FCode Bool
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">FCode StgToCmmConfig
</span><a href="GHC.StgToCmm.Monad.html#getStgToCmmConfig"><span class="hs-identifier hs-var">getStgToCmmConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3629"></span><span>    </span><span id="local-6989586621682956380"><span class="annot"><a href="#local-6989586621682956380"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Platform
</span><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-var">getPlatform</span></a></span><span>
</span><span id="line-3630"></span><span>    </span><span id="local-6989586621682956381"><span class="annot"><a href="#local-6989586621682956381"><span class="hs-identifier hs-var">boundsCheckFailed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getCode"><span class="hs-identifier hs-type">getCode</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-3631"></span><span>      </span><span class="annot"><a href="GHC.StgToCmm.Foreign.html#emitCCallNeverReturns"><span class="hs-identifier hs-type">emitCCallNeverReturns</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkLblExpr"><span class="hs-identifier hs-type">mkLblExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#mkOutOfBoundsAccessLabel"><span class="hs-identifier hs-type">mkOutOfBoundsAccessLabel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-3632"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956383"><span class="annot"><a href="#local-6989586621682956383"><span class="hs-identifier hs-var hs-var">isOutOfBounds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmUGeWord"><span class="hs-identifier hs-var">cmmUGeWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956380"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956377"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956378"><span class="hs-identifier hs-var">sz</span></a></span><span>
</span><span id="line-3633"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">=&lt;&lt;</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#mkCmmIfThen%27"><span class="hs-identifier hs-type">mkCmmIfThen'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956383"><span class="hs-identifier hs-type">isOutOfBounds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956381"><span class="hs-identifier hs-type">boundsCheckFailed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-3634"></span><span>
</span><span id="line-3635"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitRangeBoundsCheck"><span class="hs-identifier hs-type">emitRangeBoundsCheck</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ first accessed index</span></span><span>
</span><span id="line-3636"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ number of accessed indices (non-zero)</span></span><span>
</span><span id="line-3637"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ array size (in elements)</span></span><span>
</span><span id="line-3638"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3639"></span><span id="emitRangeBoundsCheck"><span class="annot"><span class="annottext">emitRangeBoundsCheck :: CmmExpr -&gt; CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitRangeBoundsCheck"><span class="hs-identifier hs-var hs-var">emitRangeBoundsCheck</span></a></span></span><span> </span><span id="local-6989586621682956385"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956385"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621682956386"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956386"><span class="hs-identifier hs-var">len</span></a></span></span><span> </span><span id="local-6989586621682956387"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956387"><span class="hs-identifier hs-var">arrSizeExpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3640"></span><span>    </span><span class="annot"><span class="annottext">FCode Bool -&gt; FCode ()
forall (m :: * -&gt; *). (HasCallStack, Monad m) =&gt; m Bool -&gt; m ()
</span><a href="GHC.Utils.Panic.Plain.html#assertM"><span class="hs-identifier hs-var">assertM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StgToCmmConfig -&gt; Bool
</span><a href="GHC.StgToCmm.Config.html#stgToCmmDoBoundsCheck"><span class="hs-identifier hs-var">stgToCmmDoBoundsCheck</span></a></span><span> </span><span class="annot"><span class="annottext">(StgToCmmConfig -&gt; Bool) -&gt; FCode StgToCmmConfig -&gt; FCode Bool
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">FCode StgToCmmConfig
</span><a href="GHC.StgToCmm.Monad.html#getStgToCmmConfig"><span class="hs-identifier hs-var">getStgToCmmConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3641"></span><span>    </span><span id="local-6989586621682956388"><span class="annot"><a href="#local-6989586621682956388"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode StgToCmmConfig
</span><a href="GHC.StgToCmm.Monad.html#getStgToCmmConfig"><span class="hs-identifier hs-var">getStgToCmmConfig</span></a></span><span>
</span><span id="line-3642"></span><span>    </span><span id="local-6989586621682956389"><span class="annot"><a href="#local-6989586621682956389"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3643"></span><span>    </span><span id="local-6989586621682956390"><span class="annot"><a href="#local-6989586621682956390"><span class="hs-identifier hs-var">arrSize</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#assignTempE"><span class="hs-identifier hs-type">assignTempE</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956387"><span class="hs-identifier hs-type">arrSizeExpr</span></a></span><span>
</span><span id="line-3644"></span><span>    </span><span class="hs-comment">-- arrSizeExpr is probably a load we don't want to duplicate</span><span>
</span><span id="line-3645"></span><span>    </span><span id="local-6989586621682956391"><span class="annot"><a href="#local-6989586621682956391"><span class="hs-identifier hs-var">rangeTooLargeReg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-type">bWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956389"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3646"></span><span>    </span><span id="local-6989586621682956392"><span class="annot"><a href="#local-6989586621682956392"><span class="hs-identifier hs-var">lastSafeIndexReg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#newTemp"><span class="hs-identifier hs-type">newTemp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Type.html#bWord"><span class="hs-identifier hs-type">bWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956389"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3647"></span><span>    </span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#withSequel"><span class="hs-identifier hs-type">withSequel</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Sequel.html#AssignTo"><span class="hs-identifier hs-type">AssignTo</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682956392"><span class="hs-identifier hs-type">lastSafeIndexReg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682956391"><span class="hs-identifier hs-type">rangeTooLargeReg</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-3648"></span><span>      </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#cmmPrimOpApp"><span class="hs-identifier hs-type">cmmPrimOpApp</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956388"><span class="hs-identifier hs-type">config</span></a></span><span> </span><span class="annot"><a href="GHC.Builtin.PrimOps.html#WordSubCOp"><span class="hs-identifier hs-type">WordSubCOp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621682956390"><span class="hs-identifier hs-type">arrSize</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621682956386"><span class="hs-identifier hs-type">len</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>
</span><span id="line-3649"></span><span>    </span><span id="local-6989586621682956393"><span class="annot"><a href="#local-6989586621682956393"><span class="hs-identifier hs-var">boundsCheckFailed</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getCode"><span class="hs-identifier hs-type">getCode</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$</span></span><span>
</span><span id="line-3650"></span><span>      </span><span class="annot"><a href="GHC.StgToCmm.Foreign.html#emitCCallNeverReturns"><span class="hs-identifier hs-type">emitCCallNeverReturns</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkLblExpr"><span class="hs-identifier hs-type">mkLblExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#mkOutOfBoundsAccessLabel"><span class="hs-identifier hs-type">mkOutOfBoundsAccessLabel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-3651"></span><span>    </span><span class="hs-keyword">let</span><span>
</span><span id="line-3652"></span><span>      </span><span id="local-6989586621682956394"><span class="annot"><a href="#local-6989586621682956394"><span class="hs-identifier hs-var hs-var">rangeTooLarge</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-var">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956391"><span class="hs-identifier hs-var">rangeTooLargeReg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3653"></span><span>      </span><span id="local-6989586621682956395"><span class="annot"><a href="#local-6989586621682956395"><span class="hs-identifier hs-var hs-var">lastSafeIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmReg -&gt; CmmExpr
</span><a href="GHC.Cmm.Expr.html#CmmReg"><span class="hs-identifier hs-var">CmmReg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">LocalReg -&gt; CmmReg
</span><a href="GHC.Cmm.Reg.html#CmmLocal"><span class="hs-identifier hs-var">CmmLocal</span></a></span><span> </span><span class="annot"><span class="annottext">LocalReg
</span><a href="#local-6989586621682956392"><span class="hs-identifier hs-var">lastSafeIndexReg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3654"></span><span>      </span><span id="local-6989586621682956396"><span class="annot"><a href="#local-6989586621682956396"><span class="hs-identifier hs-var hs-var">badStartIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956385"><span class="hs-identifier hs-var">idx</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682956397"><span class="hs-operator hs-var">`uGT`</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956395"><span class="hs-identifier hs-var">lastSafeIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3655"></span><span>      </span><span id="local-6989586621682956398"><span class="annot"><a href="#local-6989586621682956398"><span class="hs-identifier hs-var hs-var">isOutOfBounds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956394"><span class="hs-identifier hs-var">rangeTooLarge</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682956399"><span class="hs-operator hs-var">`or`</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956396"><span class="hs-identifier hs-var">badStartIndex</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="#local-6989586621682956400"><span class="hs-operator hs-var">`neq`</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956401"><span class="hs-identifier hs-var">zero</span></a></span><span>
</span><span id="line-3656"></span><span>      </span><span id="local-6989586621682956397"><span class="annot"><a href="#local-6989586621682956397"><span class="hs-identifier hs-var hs-var">uGT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmUGtWord"><span class="hs-identifier hs-var">cmmUGtWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956389"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-3657"></span><span>      </span><span id="local-6989586621682956399"><span class="annot"><a href="#local-6989586621682956399"><span class="hs-identifier hs-var hs-var">or</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmOrWord"><span class="hs-identifier hs-var">cmmOrWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956389"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-3658"></span><span>      </span><span id="local-6989586621682956400"><span class="annot"><a href="#local-6989586621682956400"><span class="hs-identifier hs-var hs-var">neq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmNeWord"><span class="hs-identifier hs-var">cmmNeWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956389"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-3659"></span><span>      </span><span id="local-6989586621682956401"><span class="annot"><a href="#local-6989586621682956401"><span class="hs-identifier hs-var hs-var">zero</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#zeroExpr"><span class="hs-identifier hs-var">zeroExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956389"><span class="hs-identifier hs-var">platform</span></a></span><span>
</span><span id="line-3660"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">=&lt;&lt;</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#mkCmmIfThen%27"><span class="hs-identifier hs-type">mkCmmIfThen'</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956398"><span class="hs-identifier hs-type">isOutOfBounds</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956393"><span class="hs-identifier hs-type">boundsCheckFailed</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-3661"></span><span>
</span><span id="line-3662"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doPtrArrayBoundsCheck"><span class="hs-identifier hs-type">doPtrArrayBoundsCheck</span></a></span><span>
</span><span id="line-3663"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ accessed index (in bytes)</span></span><span>
</span><span id="line-3664"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ pointer to @StgMutArrPtrs@</span></span><span>
</span><span id="line-3665"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3666"></span><span id="doPtrArrayBoundsCheck"><span class="annot"><span class="annottext">doPtrArrayBoundsCheck :: CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doPtrArrayBoundsCheck"><span class="hs-identifier hs-var hs-var">doPtrArrayBoundsCheck</span></a></span></span><span> </span><span id="local-6989586621682956403"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956403"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621682956404"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956404"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FCode () -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#whenCheckBounds"><span class="hs-identifier hs-var">whenCheckBounds</span></a></span><span> </span><span class="annot"><span class="annottext">(FCode () -&gt; FCode ()) -&gt; FCode () -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3667"></span><span>    </span><span id="local-6989586621682956405"><span class="annot"><a href="#local-6989586621682956405"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3668"></span><span>    </span><span id="local-6989586621682956406"><span class="annot"><a href="#local-6989586621682956406"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3669"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitBoundsCheck"><span class="hs-identifier hs-type">emitBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956403"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#ptrArraySize"><span class="hs-identifier hs-type">ptrArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956406"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956405"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956404"><span class="hs-identifier hs-type">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3670"></span><span>
</span><span id="line-3671"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doSmallPtrArrayBoundsCheck"><span class="hs-identifier hs-type">doSmallPtrArrayBoundsCheck</span></a></span><span>
</span><span id="line-3672"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ accessed index (in bytes)</span></span><span>
</span><span id="line-3673"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ pointer to @StgMutArrPtrs@</span></span><span>
</span><span id="line-3674"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3675"></span><span id="doSmallPtrArrayBoundsCheck"><span class="annot"><span class="annottext">doSmallPtrArrayBoundsCheck :: CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doSmallPtrArrayBoundsCheck"><span class="hs-identifier hs-var hs-var">doSmallPtrArrayBoundsCheck</span></a></span></span><span> </span><span id="local-6989586621682956407"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956407"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621682956408"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956408"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FCode () -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#whenCheckBounds"><span class="hs-identifier hs-var">whenCheckBounds</span></a></span><span> </span><span class="annot"><span class="annottext">(FCode () -&gt; FCode ()) -&gt; FCode () -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3676"></span><span>    </span><span id="local-6989586621682956409"><span class="annot"><a href="#local-6989586621682956409"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3677"></span><span>    </span><span id="local-6989586621682956410"><span class="annot"><a href="#local-6989586621682956410"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3678"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitBoundsCheck"><span class="hs-identifier hs-type">emitBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956407"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#smallPtrArraySize"><span class="hs-identifier hs-type">smallPtrArraySize</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956410"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956409"><span class="hs-identifier hs-type">profile</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956408"><span class="hs-identifier hs-type">arr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3679"></span><span>
</span><span id="line-3680"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#doByteArrayBoundsCheck"><span class="hs-identifier hs-type">doByteArrayBoundsCheck</span></a></span><span>
</span><span id="line-3681"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ accessed index (in elements)</span></span><span>
</span><span id="line-3682"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ pointer to @StgArrBytes@</span></span><span>
</span><span id="line-3683"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ indexing type</span></span><span>
</span><span id="line-3684"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#CmmType"><span class="hs-identifier hs-type">CmmType</span></a></span><span>  </span><span class="annot"><span class="hs-comment">-- ^ element type</span></span><span>
</span><span id="line-3685"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3686"></span><span id="doByteArrayBoundsCheck"><span class="annot"><span class="annottext">doByteArrayBoundsCheck :: CmmExpr -&gt; CmmExpr -&gt; CmmType -&gt; CmmType -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#doByteArrayBoundsCheck"><span class="hs-identifier hs-var hs-var">doByteArrayBoundsCheck</span></a></span></span><span> </span><span id="local-6989586621682956411"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956411"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span id="local-6989586621682956412"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956412"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span id="local-6989586621682956413"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956413"><span class="hs-identifier hs-var">idx_ty</span></a></span></span><span> </span><span id="local-6989586621682956414"><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956414"><span class="hs-identifier hs-var">elem_ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FCode () -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#whenCheckBounds"><span class="hs-identifier hs-var">whenCheckBounds</span></a></span><span> </span><span class="annot"><span class="annottext">(FCode () -&gt; FCode ()) -&gt; FCode () -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3687"></span><span>    </span><span id="local-6989586621682956415"><span class="annot"><a href="#local-6989586621682956415"><span class="hs-identifier hs-var">profile</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Profile
</span><a href="GHC.StgToCmm.Monad.html#getProfile"><span class="hs-identifier hs-var">getProfile</span></a></span><span>
</span><span id="line-3688"></span><span>    </span><span id="local-6989586621682956416"><span class="annot"><a href="#local-6989586621682956416"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3689"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621682956417"><span class="annot"><a href="#local-6989586621682956417"><span class="hs-identifier hs-var hs-var">elem_w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956414"><span class="hs-identifier hs-var">elem_ty</span></a></span><span>
</span><span id="line-3690"></span><span>        </span><span id="local-6989586621682956418"><span class="annot"><a href="#local-6989586621682956418"><span class="hs-identifier hs-var hs-var">idx_w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CmmType -&gt; Width
</span><a href="GHC.Cmm.Type.html#typeWidth"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">CmmType
</span><a href="#local-6989586621682956413"><span class="hs-identifier hs-var">idx_ty</span></a></span><span>
</span><span id="line-3691"></span><span>        </span><span id="local-6989586621682956419"><span class="annot"><a href="#local-6989586621682956419"><span class="hs-identifier hs-var hs-var">elem_sz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-var">mkIntExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956416"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; CmmExpr) -&gt; Int -&gt; CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInBytes"><span class="hs-identifier hs-var">widthInBytes</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956417"><span class="hs-identifier hs-var">elem_w</span></a></span><span>
</span><span id="line-3692"></span><span>        </span><span id="local-6989586621682956421"><span class="annot"><a href="#local-6989586621682956421"><span class="hs-identifier hs-var hs-var">arr_sz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Profile -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.StgToCmm.Prim.html#byteArraySize"><span class="hs-identifier hs-var">byteArraySize</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956416"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Profile
</span><a href="#local-6989586621682956415"><span class="hs-identifier hs-var">profile</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956412"><span class="hs-identifier hs-var">arr</span></a></span><span>
</span><span id="line-3693"></span><span>        </span><span id="local-6989586621682956422"><span class="annot"><a href="#local-6989586621682956422"><span class="hs-identifier hs-var hs-var">effective_arr_sz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3694"></span><span>          </span><span class="annot"><span class="annottext">Platform -&gt; CmmExpr -&gt; CmmExpr -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#cmmUShrWord"><span class="hs-identifier hs-var">cmmUShrWord</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956416"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956421"><span class="hs-identifier hs-var">arr_sz</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-var">mkIntExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956416"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Width -&gt; Int
</span><a href="GHC.Cmm.Type.html#widthInLog"><span class="hs-identifier hs-var">widthInLog</span></a></span><span> </span><span class="annot"><span class="annottext">Width
</span><a href="#local-6989586621682956418"><span class="hs-identifier hs-var">idx_w</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3695"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><a href="#local-6989586621682956417"><span class="hs-identifier hs-type">elem_w</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">==</span></span><span> </span><span class="annot"><a href="#local-6989586621682956418"><span class="hs-identifier hs-type">idx_w</span></a></span><span>
</span><span id="line-3696"></span><span>      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitBoundsCheck"><span class="hs-identifier hs-type">emitBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956411"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956422"><span class="hs-identifier hs-type">effective_arr_sz</span></a></span><span>  </span><span class="hs-comment">-- aligned =&gt; simpler check</span><span>
</span><span id="line-3697"></span><span>      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><a href="GHC.Utils.Panic.Plain.html#assert"><span class="hs-identifier hs-type">assert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682956418"><span class="hs-identifier hs-type">idx_w</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">==</span></span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#W8"><span class="hs-identifier hs-type">W8</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitRangeBoundsCheck"><span class="hs-identifier hs-type">emitRangeBoundsCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956411"><span class="hs-identifier hs-type">idx</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956419"><span class="hs-identifier hs-type">elem_sz</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956421"><span class="hs-identifier hs-type">arr_sz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3698"></span><span>
</span><span id="line-3699"></span><span class="annot"><span class="hs-comment">-- | Write barrier for @MUT_VAR@ modification.</span></span><span>
</span><span id="line-3700"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitDirtyMutVar"><span class="hs-identifier hs-type">emitDirtyMutVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3701"></span><span id="emitDirtyMutVar"><span class="annot"><span class="annottext">emitDirtyMutVar :: CmmExpr -&gt; CmmExpr -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitDirtyMutVar"><span class="hs-identifier hs-var hs-var">emitDirtyMutVar</span></a></span></span><span> </span><span id="local-6989586621682956425"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956425"><span class="hs-identifier hs-var">mutvar</span></a></span></span><span> </span><span id="local-6989586621682956426"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956426"><span class="hs-identifier hs-var">old_val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3702"></span><span>    </span><span id="local-6989586621682956427"><span class="annot"><a href="#local-6989586621682956427"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode StgToCmmConfig
</span><a href="GHC.StgToCmm.Monad.html#getStgToCmmConfig"><span class="hs-identifier hs-var">getStgToCmmConfig</span></a></span><span>
</span><span id="line-3703"></span><span>    </span><span id="local-6989586621682956428"><span class="annot"><a href="#local-6989586621682956428"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getPlatform"><span class="hs-identifier hs-type">getPlatform</span></a></span><span>
</span><span id="line-3704"></span><span>    </span><span id="local-6989586621682956429"><span class="annot"><a href="#local-6989586621682956429"><span class="hs-identifier hs-var">mkdirtyMutVarCCall</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#getCode"><span class="hs-identifier hs-type">getCode</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">$!</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Foreign.html#emitCCall"><span class="hs-identifier hs-type">emitCCall</span></a></span><span>
</span><span id="line-3705"></span><span>      </span><span class="hs-special">[</span><span class="hs-comment">{-no results-}</span><span class="hs-special">]</span><span>
</span><span id="line-3706"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLit"><span class="hs-identifier hs-type">CmmLit</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmLabel"><span class="hs-identifier hs-type">CmmLabel</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#mkDirty_MUT_VAR_Label"><span class="hs-identifier hs-type">mkDirty_MUT_VAR_Label</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3707"></span><span>      </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#baseExpr"><span class="hs-identifier hs-type">baseExpr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956428"><span class="hs-identifier hs-type">platform</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#AddrHint"><span class="hs-identifier hs-type">AddrHint</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682956425"><span class="hs-identifier hs-type">mutvar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#AddrHint"><span class="hs-identifier hs-type">AddrHint</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621682956426"><span class="hs-identifier hs-type">old_val</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="GHC.Cmm.Type.html#AddrHint"><span class="hs-identifier hs-type">AddrHint</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-3708"></span><span>
</span><span id="line-3709"></span><span>    </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-type">=&lt;&lt;</span></span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#mkCmmIfThen"><span class="hs-identifier hs-type">mkCmmIfThen</span></a></span><span>
</span><span id="line-3710"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#cmmEqWord"><span class="hs-identifier hs-type">cmmEqWord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956428"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Utils.html#mkLblExpr"><span class="hs-identifier hs-type">mkLblExpr</span></a></span><span> </span><span class="annot"><a href="GHC.Cmm.CLabel.html#mkMUT_VAR_CLEAN_infoLabel"><span class="hs-identifier hs-type">mkMUT_VAR_CLEAN_infoLabel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-3711"></span><span>       </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Info.html#closureInfoPtr"><span class="hs-identifier hs-type">closureInfoPtr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956428"><span class="hs-identifier hs-type">platform</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.StgToCmm.Config.html#stgToCmmAlignCheck"><span class="hs-identifier hs-var">stgToCmmAlignCheck</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956427"><span class="hs-identifier hs-type">cfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621682956425"><span class="hs-identifier hs-type">mutvar</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-3712"></span><span>      </span><span class="annot"><a href="#local-6989586621682956429"><span class="hs-identifier hs-type">mkdirtyMutVarCCall</span></a></span><span>
</span><span id="line-3713"></span><span>
</span><span id="line-3714"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-3715"></span><span class="hs-comment">-- Pushing to the update remembered set</span><span>
</span><span id="line-3716"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-3717"></span><span>
</span><span id="line-3718"></span><span class="hs-comment">-- | Push a range of pointer-array elements that are about to be copied over to</span><span>
</span><span id="line-3719"></span><span class="hs-comment">-- the update remembered set.</span><span>
</span><span id="line-3720"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCopyUpdRemSetPush"><span class="hs-identifier hs-type">emitCopyUpdRemSetPush</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="GHC.Platform.html#Platform"><span class="hs-identifier hs-type">Platform</span></a></span><span>
</span><span id="line-3721"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Runtime.Heap.Layout.html#ByteOff"><span class="hs-identifier hs-type">ByteOff</span></a></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ array header size (in bytes)</span></span><span>
</span><span id="line-3722"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ destination array</span></span><span>
</span><span id="line-3723"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.Cmm.Expr.html#CmmExpr"><span class="hs-identifier hs-type">CmmExpr</span></a></span><span>    </span><span class="annot"><span class="hs-comment">-- ^ offset in destination array (in words)</span></span><span>
</span><span id="line-3724"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>        </span><span class="annot"><span class="hs-comment">-- ^ number of elements to copy</span></span><span>
</span><span id="line-3725"></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#FCode"><span class="hs-identifier hs-type">FCode</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3726"></span><span id="emitCopyUpdRemSetPush"><span class="annot"><span class="annottext">emitCopyUpdRemSetPush :: Platform -&gt; Int -&gt; CmmExpr -&gt; CmmExpr -&gt; Int -&gt; FCode ()
</span><a href="GHC.StgToCmm.Prim.html#emitCopyUpdRemSetPush"><span class="hs-identifier hs-var hs-var">emitCopyUpdRemSetPush</span></a></span></span><span> </span><span id="local-6989586621682956435"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956435"><span class="hs-identifier hs-var">_platform</span></a></span></span><span> </span><span id="local-6989586621682956436"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956436"><span class="hs-identifier hs-var">_hdr_size</span></a></span></span><span> </span><span id="local-6989586621682956437"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956437"><span class="hs-identifier hs-var">_dst</span></a></span></span><span> </span><span id="local-6989586621682956438"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956438"><span class="hs-identifier hs-var">_dst_off</span></a></span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; FCode ()
forall a. a -&gt; FCode a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-3727"></span><span class="annot"><a href="GHC.StgToCmm.Prim.html#emitCopyUpdRemSetPush"><span class="hs-identifier hs-var">emitCopyUpdRemSetPush</span></a></span><span> </span><span id="local-6989586621682956439"><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956439"><span class="hs-identifier hs-var">platform</span></a></span></span><span> </span><span id="local-6989586621682956440"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956440"><span class="hs-identifier hs-var">hdr_size</span></a></span></span><span> </span><span id="local-6989586621682956441"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956441"><span class="hs-identifier hs-var">dst</span></a></span></span><span> </span><span id="local-6989586621682956442"><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956442"><span class="hs-identifier hs-var">dst_off</span></a></span></span><span> </span><span id="local-6989586621682956443"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956443"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3728"></span><span>    </span><span class="annot"><span class="annottext">FCode () -&gt; FCode ()
forall a. FCode a -&gt; FCode ()
</span><a href="GHC.StgToCmm.Utils.html#whenUpdRemSetEnabled"><span class="hs-identifier hs-var">whenUpdRemSetEnabled</span></a></span><span> </span><span class="annot"><span class="annottext">(FCode () -&gt; FCode ()) -&gt; FCode () -&gt; FCode ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-3729"></span><span>        </span><span id="local-6989586621682956444"><span class="annot"><a href="#local-6989586621682956444"><span class="hs-identifier hs-var">updfr_off</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FCode Int
</span><a href="GHC.StgToCmm.Monad.html#getUpdFrameOff"><span class="hs-identifier hs-var">getUpdFrameOff</span></a></span><span>
</span><span id="line-3730"></span><span>        </span><span id="local-6989586621682956446"><span class="annot"><a href="#local-6989586621682956446"><span class="hs-identifier hs-var">graph</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#mkCall"><span class="hs-identifier hs-type">mkCall</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956448"><span class="hs-identifier hs-type">lbl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="GHC.Cmm.Node.html#NativeNodeCall"><span class="hs-identifier hs-type">NativeNodeCall</span></a></span><span class="hs-special">,</span><span class="annot"><a href="GHC.Cmm.Node.html#NativeReturn"><span class="hs-identifier hs-type">NativeReturn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621682956449"><span class="hs-identifier hs-type">args</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956444"><span class="hs-identifier hs-type">updfr_off</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-3731"></span><span>        </span><span class="annot"><a href="GHC.StgToCmm.Monad.html#emit"><span class="hs-identifier hs-type">emit</span></a></span><span> </span><span class="annot"><a href="#local-6989586621682956446"><span class="hs-identifier hs-type">graph</span></a></span><span>
</span><span id="line-3732"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-3733"></span><span>    </span><span id="local-6989586621682956448"><span class="annot"><span class="annottext">lbl :: CmmExpr
</span><a href="#local-6989586621682956448"><span class="hs-identifier hs-var hs-var">lbl</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CLabel -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkLblExpr"><span class="hs-identifier hs-var">mkLblExpr</span></a></span><span> </span><span class="annot"><span class="annottext">(CLabel -&gt; CmmExpr) -&gt; CLabel -&gt; CmmExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">PrimCall -&gt; CLabel
</span><a href="GHC.Cmm.CLabel.html#mkPrimCallLabel"><span class="hs-identifier hs-var">mkPrimCallLabel</span></a></span><span>
</span><span id="line-3734"></span><span>          </span><span class="annot"><span class="annottext">(PrimCall -&gt; CLabel) -&gt; PrimCall -&gt; CLabel
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FastString -&gt; Unit -&gt; PrimCall
</span><a href="GHC.Builtin.PrimOps.html#PrimCall"><span class="hs-identifier hs-var">PrimCall</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; FastString
</span><a href="GHC.Data.FastString.html#fsLit"><span class="hs-identifier hs-var">fsLit</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;stg_copyArray_barrier&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Unit
</span><a href="GHC.Unit.Types.html#rtsUnit"><span class="hs-identifier hs-var">rtsUnit</span></a></span><span>
</span><span id="line-3735"></span><span>    </span><span id="local-6989586621682956449"><span class="annot"><span class="annottext">args :: [CmmExpr]
</span><a href="#local-6989586621682956449"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-3736"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-var">mkIntExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956439"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956440"><span class="hs-identifier hs-var">hdr_size</span></a></span><span>
</span><span id="line-3737"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956441"><span class="hs-identifier hs-var">dst</span></a></span><span>
</span><span id="line-3738"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CmmExpr
</span><a href="#local-6989586621682956442"><span class="hs-identifier hs-var">dst_off</span></a></span><span>
</span><span id="line-3739"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Platform -&gt; Int -&gt; CmmExpr
</span><a href="GHC.Cmm.Utils.html#mkIntExpr"><span class="hs-identifier hs-var">mkIntExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Platform
</span><a href="#local-6989586621682956439"><span class="hs-identifier hs-var">platform</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621682956443"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-3740"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-3741"></span></pre></body></html>